/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),
void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});

/*
PNotify 3.0.0 sciactive.com/pnotify/
(C) 2015 Hunter Perrin; Google, Inc.
license Apache-2.0
*/
(function(b,k){"function"===typeof define&&define.amd?define("pnotify",["jquery"],function(q){return k(q,b)}):"object"===typeof exports&&"undefined"!==typeof module?module.exports=k(require("jquery"),global||b):b.PNotify=k(b.jQuery,b)})(this,function(b,k){var q=function(l){var k={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:b("body"),modal:!1},g,h,n=b(l),r=function(){h=b("body");d.prototype.options.stack.context=h;n=b(l);n.bind("resize",function(){g&&clearTimeout(g);g=setTimeout(function(){d.positionAll(!0)},
10)})},s=function(c){var a=b("<div />",{"class":"ui-pnotify-modal-overlay"});a.prependTo(c.context);c.overlay_close&&a.click(function(){d.removeStack(c)});return a},d=function(c){this.parseOptions(c);this.init()};b.extend(d.prototype,{version:"3.0.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8E3,mouse_reset:!0,
remove:!0,insert_brs:!0,destroy:!0,stack:k},modules:{},runModules:function(c,a){var p,b;for(b in this.modules)p="object"===typeof a&&b in a?a[b]:a,"function"===typeof this.modules[b][c]&&(this.modules[b].notice=this,this.modules[b].options="object"===typeof this.options[b]?this.options[b]:{},this.modules[b][c](this,"object"===typeof this.options[b]?this.options[b]:{},p))},state:"initializing",timer:null,animTimer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,
timerHide:!1,init:function(){var c=this;this.modules={};b.extend(!0,this.modules,d.prototype.modules);this.styles="object"===typeof this.options.styling?this.options.styling:d.styling[this.options.styling];this.elem=b("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(a){if(c.options.mouse_reset&&"out"===c.animating){if(!c.timerHide)return;c.cancelRemove()}c.options.hide&&c.options.mouse_reset&&c.cancelRemove()},
mouseleave:function(a){c.options.hide&&c.options.mouse_reset&&"out"!==c.animating&&c.queueRemove();d.positionAll()}});"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed);this.container=b("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem);""!==
this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass);this.options.shadow&&this.container.addClass("ui-pnotify-shadow");!1!==this.options.icon&&b("<div />",{"class":"ui-pnotify-icon"}).append(b("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);
this.title_container=b("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container);!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title);this.text_container=b("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container);!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?
String(this.options.text).replace(/\n/g,"<br />"):this.options.text);"string"===typeof this.options.width&&this.elem.css("width",this.options.width);"string"===typeof this.options.min_height&&this.container.css("min-height",this.options.min_height);d.notices="top"===this.options.stack.push?b.merge([this],d.notices):b.merge(d.notices,[this]);"top"===this.options.stack.push&&this.queuePosition(!1,1);this.options.stack.animation=!1;this.runModules("init");this.options.auto_display&&this.open();return this},
update:function(c){var a=this.options;this.parseOptions(a,c);this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast");"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed);this.options.cornerclass!==a.cornerclass&&this.container.removeClass("ui-corner-all "+a.cornerclass).addClass(this.options.cornerclass);this.options.shadow!==a.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow"));
!1===this.options.addclass?this.elem.removeClass(a.addclass):this.options.addclass!==a.addclass&&this.elem.removeClass(a.addclass).addClass(this.options.addclass);!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==a.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===a.title&&this.title_container.slideDown(200));!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==
a.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===a.text&&this.text_container.slideDown(200));this.options.type!==a.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?
this.styles.success:this.styles.notice);if(this.options.icon!==a.icon||!0===this.options.icon&&this.options.type!==a.type)this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&b("<div />",{"class":"ui-pnotify-icon"}).append(b("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);
this.options.width!==a.width&&this.elem.animate({width:this.options.width});this.options.min_height!==a.min_height&&this.container.animate({minHeight:this.options.min_height});this.options.hide?a.hide||this.queueRemove():this.cancelRemove();this.queuePosition(!0);this.runModules("update",a);return this},open:function(){this.state="opening";this.runModules("beforeOpen");var c=this;this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:h);"top"!==this.options.stack.push&&
this.position(!0);this.animateIn(function(){c.queuePosition(!0);c.options.hide&&c.queueRemove();c.state="open";c.runModules("afterOpen")});return this},remove:function(c){this.state="closing";this.timerHide=!!c;this.runModules("beforeClose");var a=this;this.timer&&(l.clearTimeout(this.timer),this.timer=null);this.animateOut(function(){a.state="closed";a.runModules("afterClose");a.queuePosition(!0);a.options.remove&&a.elem.detach();a.runModules("beforeDestroy");if(a.options.destroy&&null!==d.notices){var c=
b.inArray(a,d.notices);-1!==c&&d.notices.splice(c,1)}a.runModules("afterDestroy")});return this},get:function(){return this.elem},parseOptions:function(c,a){this.options=b.extend(!0,{},d.prototype.options);this.options.stack=d.prototype.options.stack;for(var p=[c,a],m,f=0;f<p.length;f++){m=p[f];if("undefined"===typeof m)break;if("object"!==typeof m)this.options.text=m;else for(var e in m)this.modules[e]?b.extend(!0,this.options[e],m[e]):this.options[e]=m[e]}},animateIn:function(c){this.animating=
"in";var a=this;c=function(){a.animTimer&&clearTimeout(a.animTimer);"in"===a.animating&&(a.elem.is(":visible")?(this&&this.call(),a.animating=!1):a.animTimer=setTimeout(c,40))}.bind(c);"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",c).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(c,650)):(this.elem.addClass("ui-pnotify-in"),c())},animateOut:function(c){this.animating=
"out";var a=this;c=function(){a.animTimer&&clearTimeout(a.animTimer);"out"===a.animating&&("0"!=a.elem.css("opacity")&&a.elem.is(":visible")?a.animTimer=setTimeout(c,40):(a.elem.removeClass("ui-pnotify-in"),this&&this.call(),a.animating=!1))}.bind(c);"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",c).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(c,650)):(this.elem.removeClass("ui-pnotify-in"),c())},position:function(c){var a=
this.options.stack,b=this.elem;"undefined"===typeof a.context&&(a.context=h);if(a){"number"!==typeof a.nextpos1&&(a.nextpos1=a.firstpos1);"number"!==typeof a.nextpos2&&(a.nextpos2=a.firstpos2);"number"!==typeof a.addpos2&&(a.addpos2=0);var d=!b.hasClass("ui-pnotify-in");if(!d||c){a.modal&&(a.overlay?a.overlay.show():a.overlay=s(a));b.addClass("ui-pnotify-move");var f;switch(a.dir1){case "down":f="top";break;case "up":f="bottom";break;case "left":f="right";break;case "right":f="left"}c=parseInt(b.css(f).replace(/(?:\..*|[^0-9.])/g,
""));isNaN(c)&&(c=0);"undefined"!==typeof a.firstpos1||d||(a.firstpos1=c,a.nextpos1=a.firstpos1);var e;switch(a.dir2){case "down":e="top";break;case "up":e="bottom";break;case "left":e="right";break;case "right":e="left"}c=parseInt(b.css(e).replace(/(?:\..*|[^0-9.])/g,""));isNaN(c)&&(c=0);"undefined"!==typeof a.firstpos2||d||(a.firstpos2=c,a.nextpos2=a.firstpos2);if("down"===a.dir1&&a.nextpos1+b.height()>(a.context.is(h)?n.height():a.context.prop("scrollHeight"))||"up"===a.dir1&&a.nextpos1+b.height()>
(a.context.is(h)?n.height():a.context.prop("scrollHeight"))||"left"===a.dir1&&a.nextpos1+b.width()>(a.context.is(h)?n.width():a.context.prop("scrollWidth"))||"right"===a.dir1&&a.nextpos1+b.width()>(a.context.is(h)?n.width():a.context.prop("scrollWidth")))a.nextpos1=a.firstpos1,a.nextpos2+=a.addpos2+("undefined"===typeof a.spacing2?25:a.spacing2),a.addpos2=0;"number"===typeof a.nextpos2&&(a.animation?b.css(e,a.nextpos2+"px"):(b.removeClass("ui-pnotify-move"),b.css(e,a.nextpos2+"px"),b.css(e),b.addClass("ui-pnotify-move")));
switch(a.dir2){case "down":case "up":b.outerHeight(!0)>a.addpos2&&(a.addpos2=b.height());break;case "left":case "right":b.outerWidth(!0)>a.addpos2&&(a.addpos2=b.width())}"number"===typeof a.nextpos1&&(a.animation?b.css(f,a.nextpos1+"px"):(b.removeClass("ui-pnotify-move"),b.css(f,a.nextpos1+"px"),b.css(f),b.addClass("ui-pnotify-move")));switch(a.dir1){case "down":case "up":a.nextpos1+=b.height()+("undefined"===typeof a.spacing1?25:a.spacing1);break;case "left":case "right":a.nextpos1+=b.width()+("undefined"===
typeof a.spacing1?25:a.spacing1)}}return this}},queuePosition:function(b,a){g&&clearTimeout(g);a||(a=10);g=setTimeout(function(){d.positionAll(b)},a);return this},cancelRemove:function(){this.timer&&l.clearTimeout(this.timer);this.animTimer&&l.clearTimeout(this.animTimer);"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in"));return this},queueRemove:function(){var b=this;this.cancelRemove();
this.timer=l.setTimeout(function(){b.remove(!0)},isNaN(this.options.delay)?0:this.options.delay);return this}});b.extend(d,{notices:[],reload:q,removeAll:function(){b.each(d.notices,function(){this.remove&&this.remove(!1)})},removeStack:function(c){b.each(d.notices,function(){this.remove&&this.options.stack===c&&this.remove(!1)})},positionAll:function(c){g&&clearTimeout(g);g=null;if(d.notices&&d.notices.length)b.each(d.notices,function(){var a=this.options.stack;a&&(a.overlay&&a.overlay.hide(),a.nextpos1=
a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=c)}),b.each(d.notices,function(){this.position()});else{var a=d.prototype.options.stack;a&&(delete a.nextpos1,delete a.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",
notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});
d.styling.fontawesome=b.extend({},d.styling.bootstrap3);b.extend(d.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});l.document.body?r():b(r);return d};return q(k)});

(function(e,c){"function"===typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],c):"object"===typeof exports&&"undefined"!==typeof module?module.exports=c(require("jquery"),require("./pnotify")):c(e.jQuery,e.PNotify)})(this,function(e,c){c.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(b,a){b.remove();b.get().trigger("pnotify.confirm",[b,a])}},{text:"Cancel",
addClass:"",click:function(b){b.remove();b.get().trigger("pnotify.cancel",b)}}]};c.prototype.modules.confirm={container:null,prompt:null,init:function(b,a){this.container=e('<div class="ui-pnotify-action-bar" style="margin-top:5px;clear:both;" />').css("text-align",a.align).appendTo(b.container);a.confirm||a.prompt?this.makeDialog(b,a):this.container.hide()},update:function(b,a){a.confirm?(this.makeDialog(b,a),this.container.show()):this.container.hide().empty()},afterOpen:function(b,a){a.prompt&&
this.prompt.focus()},makeDialog:function(b,a){var h=!1,l=this,g,d;this.container.empty();a.prompt&&(this.prompt=e("<"+(a.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(("undefined"===typeof b.styles.input?"":b.styles.input)+" "+("undefined"===typeof a.prompt_class?"":a.prompt_class)).val(a.prompt_default).appendTo(this.container));for(var m=a.buttons[0]&&a.buttons[0]!==c.prototype.options.confirm.buttons[0],f=0;f<a.buttons.length;f++)if(!(null===
a.buttons[f]||m&&c.prototype.options.confirm.buttons[f]&&c.prototype.options.confirm.buttons[f]===a.buttons[f])){g=a.buttons[f];h?this.container.append(" "):h=!0;d=e('<button type="button" class="ui-pnotify-action-button" />').addClass(("undefined"===typeof b.styles.btn?"":b.styles.btn)+" "+("undefined"===typeof g.addClass?"":g.addClass)).text(g.text).appendTo(this.container).on("click",function(k){return function(){"function"==typeof k.click&&k.click(b,a.prompt?l.prompt.val():null)}}(g));a.prompt&&
!a.prompt_multi_line&&g.promptTrigger&&this.prompt.keypress(function(b){return function(a){13==a.keyCode&&b.click()}}(d));b.styles.text&&d.wrapInner('<span class="'+b.styles.text+'"></span>');b.styles.btnhover&&d.hover(function(a){return function(){a.addClass(b.styles.btnhover)}}(d),function(a){return function(){a.removeClass(b.styles.btnhover)}}(d));if(b.styles.btnactive)d.on("mousedown",function(a){return function(){a.addClass(b.styles.btnactive)}}(d)).on("mouseup",function(a){return function(){a.removeClass(b.styles.btnactive)}}(d));
if(b.styles.btnfocus)d.on("focus",function(a){return function(){a.addClass(b.styles.btnfocus)}}(d)).on("blur",function(a){return function(){a.removeClass(b.styles.btnfocus)}}(d))}}};e.extend(c.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"});e.extend(c.styling.bootstrap2,{btn:"btn",input:""});e.extend(c.styling.bootstrap3,{btn:"btn btn-default",
input:"form-control"});e.extend(c.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})});

(function(d,e){"function"===typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],e):"object"===typeof exports&&"undefined"!==typeof module?module.exports=e(require("jquery"),require("./pnotify")):e(d.jQuery,d.PNotify)})(this,function(d,e){e.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}};e.prototype.modules.buttons={closer:null,
sticker:null,init:function(a,b){var c=this;a.elem.on({mouseenter:function(b){!c.options.sticker||a.options.nonblock&&a.options.nonblock.nonblock&&!c.options.show_on_nonblock||c.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible");!c.options.closer||a.options.nonblock&&a.options.nonblock.nonblock&&!c.options.show_on_nonblock||c.closer.css("visibility","visible")},mouseleave:function(a){c.options.sticker_hover&&c.sticker.css("visibility","hidden");c.options.closer_hover&&c.closer.css("visibility",
"hidden")}});this.sticker=d("<div />",{"class":"ui-pnotify-sticker","aria-role":"button","aria-pressed":a.options.hide?"false":"true",tabindex:"0",title:a.options.hide?b.labels.stick:b.labels.unstick,css:{cursor:"pointer",visibility:b.sticker_hover?"hidden":"visible"},click:function(){a.options.hide=!a.options.hide;a.options.hide?a.queueRemove():a.cancelRemove();d(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var b=null===c.options.classes.pin_up?a.styles.pin_up:
c.options.classes.pin_up,e=null===c.options.classes.pin_down?a.styles.pin_down:c.options.classes.pin_down;d(this).attr("title",a.options.hide?c.options.labels.stick:c.options.labels.unstick).children().attr("class","").addClass(a.options.hide?b:e).attr("aria-pressed",a.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(a.container);(!b.sticker||a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock)&&this.sticker.css("display","none");
this.closer=d("<div />",{"class":"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:b.labels.close,css:{cursor:"pointer",visibility:b.closer_hover?"hidden":"visible"},click:function(){a.remove(!1);c.sticker.css("visibility","hidden");c.closer.css("visibility","hidden")}}).append(d("<span />",{"class":null===b.classes.closer?a.styles.closer:b.classes.closer})).prependTo(a.container);(!b.closer||a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock)&&this.closer.css("display",
"none")},update:function(a,b){!b.closer||a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock?this.closer.css("display","none"):b.closer&&this.closer.css("display","block");!b.sticker||a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock?this.sticker.css("display","none"):b.sticker&&this.sticker.css("display","block");this.sticker.trigger("pnotify:buttons:toggleStick");this.closer.find("span").attr("class","").addClass(null===b.classes.closer?a.styles.closer:b.classes.closer);
b.sticker_hover?this.sticker.css("visibility","hidden"):a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock||this.sticker.css("visibility","visible");b.closer_hover?this.closer.css("visibility","hidden"):a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock||this.closer.css("visibility","visible")}};d.extend(e.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"});d.extend(e.styling.jqueryui,
{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"});d.extend(e.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"});d.extend(e.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"});d.extend(e.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})});

/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

function apiCall() {
    var self = this;
    self.ajax = function(uri,method, data) {
                var request = {
                    url: uri,
                    type: method,
                    contentType: "application/json",
                    accepts: "application/json",
                    cache: false,
                    dataType: 'json',
                    data: JSON.stringify(data),
                    error: function(jqXHR) {
                        console.log("ajax error " + jqXHR.status);
                    }
                };
                return $.ajax(request);
    };

    self.ajax_async = function(uri,method, data) {
                var request = {
                    url: uri,
                    type: method,
                    contentType: "application/json",
                    accepts: "application/json",
                    async: false,
                    cache: false,
                    dataType: 'json',
                    data: JSON.stringify(data),
                    error: function(jqXHR) {
                        console.log("ajax error " + jqXHR.status);
                    }
                };
                return $.ajax(request);
    }
}

var api = new apiCall();


!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t,e){"object"===("undefined"==typeof t?"undefined":i(t))&&(e=t,t=void 0),e=e||{};var r,n=s(t),a=n.source,p=n.id,f=n.path,l=h[p]&&f in h[p].nsps,d=e.forceNew||e["force new connection"]||!1===e.multiplex||l;return d?(u("ignoring socket cache for %s",a),r=c(a,e)):(h[p]||(u("new io instance for %s",a),h[p]=c(a,e)),r=h[p]),n.query&&!e.query?e.query=n.query:e&&"object"===i(e.query)&&(e.query=o(e.query)),r.socket(n.path,e)}function o(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=r(1),a=r(7),c=r(17),u=r(3)("socket.io-client");t.exports=e=n;var h=e.managers={};e.protocol=a.protocol,e.connect=n,e.Manager=r(17),e.Socket=r(44)},function(t,e,r){(function(e){"use strict";function n(t,r){var n=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t="undefined"!=typeof r?r.protocol+"//"+t:"https://"+t),i("parse %s",t),n=o(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var s=n.host.indexOf(":")!==-1,a=s?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}var o=r(2),i=r(3)("socket.io-client:url");t.exports=n}).call(e,function(){return this}())},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[n[c]]=s[c]||"";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,r){(function(n){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function u(){try{return window.localStorage}catch(t){}}e=t.exports=r(5),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(4))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):g=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++g<e;)l&&l[g].run();g=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var h,p,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(t){p=n}}();var l,d=[],y=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;c++;var o=e.formatters[n];if("function"==typeof o){var i=s[c];r=o.call(t,i),s.splice(c,1),c--}return r}),s=e.formatArgs.apply(t,s);var h=o.log||e.log||console.log.bind(console);h.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(6),e.names=[],e.skips=[],e.formatters={};var u,h=0},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,h=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return r(t);if("number"===i&&isNaN(t)===!1)return e.long?o(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){function n(){}function o(t){var r="",n=!1;return r+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(r+=t.attachments,r+="-"),t.nsp&&"/"!=t.nsp&&(n=!0,r+=t.nsp),null!=t.id&&(n&&(r+=",",n=!1),r+=t.id),null!=t.data&&(n&&(r+=","),r+=f.stringify(t.data)),p("encoded %j as %s",t,r),r}function i(t,e){function r(t){var r=d.deconstructPacket(t),n=o(r.packet),i=r.buffers;i.unshift(n),e(i)}d.removeBlobs(t,r)}function s(){this.reconstructor=null}function a(t){var r={},n=0;if(r.type=Number(t.charAt(0)),null==e.types[r.type])return h();if(e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type){for(var o="";"-"!=t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!=t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"==t.charAt(n+1))for(r.nsp="";++n;){var i=t.charAt(n);if(","==i)break;if(r.nsp+=i,n==t.length)break}else r.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n==t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),p("decoded %s as %j",t,r),r}function c(t,e){try{t.data=f.parse(e)}catch(t){return h()}return t}function u(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error"}}var p=r(8)("socket.io-parser"),f=r(11),l=r(13),d=r(14),y=r(16);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=s,n.prototype.encode=function(t,r){if(p("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)i(t,r);else{var n=o(t);r([n])}},l(s.prototype),s.prototype.add=function(t){var r;if("string"==typeof t)r=a(t),e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type?(this.reconstructor=new u(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!y(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,this.emit("decoded",r))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){var t;try{t=e.storage.debug}catch(t){}return t}function c(){try{return window.localStorage}catch(t){}}e=t.exports=r(9),e.log=i,e.formatArgs=o,e.save=s,e.load=a,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;a++;var o=e.formatters[n];if("function"==typeof o){var i=s[a];r=o.call(t,i),s.splice(a,1),a--}return r}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var c=o.log||e.log||console.log.bind(console);c.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(10),e.names=[],e.skips=[],e.formatters={};var u,h=0},function(t,e){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,h=365.25*u;t.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?o(t):n(t)}},function(t,e,r){(function(t,r){var n=!1;(function(){function o(t,e){function r(t){if(r[t]!==g)return r[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=r("json-stringify")&&r("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,h="function"==typeof c&&b;if(h){(s=function(){return 1}).toJSON=s;try{h="0"===c(0)&&"0"===c(new n)&&'""'==c(new i)&&c(v)===g&&c(g)===g&&c()===g&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,v,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(t){h=!1}}o=h}if("json-parse"==t){var p=e.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){s=p(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!p('"\t"')}catch(t){}if(f)try{f=1!==p("01")}catch(t){}if(f)try{f=1!==p("1.")}catch(t){}}}}catch(t){f=!1}o=f}}return r[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,i=t.String||c.String,a=t.Object||c.Object,u=t.Date||c.Date,h=t.SyntaxError||c.SyntaxError,p=t.TypeError||c.TypeError,f=t.Math||c.Math,l=t.JSON||c.JSON;"object"==typeof l&&l&&(e.stringify=l.stringify,e.parse=l.parse);var d,y,g,m=a.prototype,v=m.toString,b=new u(-0xc782b5b800cec);try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(t){}if(!r("json")){var w="[object Function]",k="[object Date]",x="[object Number]",A="[object String]",C="[object Array]",B="[object Boolean]",S=r("bug-string-char-index");if(!b)var T=f.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(t,e){return E[e]+365*(t-1970)+T((t-1969+(e=+(e>1)))/4)-T((t-1901+e)/100)+T((t-1601+e)/400)};if((d=m.hasOwnProperty)||(d=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=v?d=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,d=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,d.call(this,t)}),y=function(t,e){var r,n,o,i=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(o in n)d.call(n,o)&&i++;return r=n=null,i?y=2==i?function(t,e){var r,n={},o=v.call(t)==w;for(r in t)o&&"prototype"==r||d.call(n,r)||!(n[r]=1)||!d.call(t,r)||e(r)}:function(t,e){var r,n,o=v.call(t)==w;for(r in t)o&&"prototype"==r||!d.call(t,r)||(n="constructor"===r)||e(r);(n||d.call(t,r="constructor"))&&e(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(t,e){var r,o,i=v.call(t)==w,a=!i&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(r in t)i&&"prototype"==r||!a.call(t,r)||e(r);for(o=n.length;r=n[--o];a.call(t,r)&&e(r));}),y(t,e)},!r("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},j="000000",O=function(t,e){return(j+(e||0)).slice(-t)},P="\\u00",R=function(t){for(var e='"',r=0,n=t.length,o=!S||n>10,i=o&&(S?t.split(""):t);r<n;r++){var s=t.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=N[s];break;default:if(s<32){e+=P+O(2,s.toString(16));break}e+=o?i[r]:t.charAt(r)}}return e+'"'},D=function(t,e,r,n,o,i,s){var a,c,u,h,f,l,m,b,w,S,E,N,j,P,q,U;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if(c=v.call(a),c!=k||d.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=x&&c!=A&&c!=C||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(_){for(f=T(a/864e5),u=T(f/365.2425)+1970-1;_(u+1,0)<=f;u++);for(h=T((f-_(u,0))/30.42);_(u,h+1)<=f;h++);f=1+f-_(u,h),l=(a%864e5+864e5)%864e5,m=T(l/36e5)%24,b=T(l/6e4)%60,w=T(l/1e3)%60,S=l%1e3}else u=a.getUTCFullYear(),h=a.getUTCMonth(),f=a.getUTCDate(),m=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),S=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+O(6,u<0?-u:u):O(4,u))+"-"+O(2,h+1)+"-"+O(2,f)+"T"+O(2,m)+":"+O(2,b)+":"+O(2,w)+"."+O(3,S)+"Z"}else a=null;if(r&&(a=r.call(e,t,a)),null===a)return"null";if(c=v.call(a),c==B)return""+a;if(c==x)return a>-1/0&&a<1/0?""+a:"null";if(c==A)return R(""+a);if("object"==typeof a){for(P=s.length;P--;)if(s[P]===a)throw p();if(s.push(a),E=[],q=i,i+=o,c==C){for(j=0,P=a.length;j<P;j++)N=D(j,a,r,n,o,i,s),E.push(N===g?"null":N);U=E.length?o?"[\n"+i+E.join(",\n"+i)+"\n"+q+"]":"["+E.join(",")+"]":"[]"}else y(n||a,function(t){var e=D(t,a,r,n,o,i,s);e!==g&&E.push(R(t)+":"+(o?" ":"")+e)}),U=E.length?o?"{\n"+i+E.join(",\n"+i)+"\n"+q+"}":"{"+E.join(",")+"}":"{}";return s.pop(),U}};e.stringify=function(t,e,r){var n,o,i,a;if(s[typeof e]&&e)if((a=v.call(e))==w)o=e;else if(a==C){i={};for(var c,u=0,h=e.length;u<h;c=e[u++],a=v.call(c),(a==A||a==x)&&(i[c]=1));}if(r)if((a=v.call(r))==x){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else a==A&&(n=r.length<=10?r:r.slice(0,10));return D("",(c={},c[""]=t,c),o,i,n,"",[])}}if(!r("json-parse")){var q,U,M=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw q=U=null,h()},H=function(){for(var t,e,r,n,o,i=U,s=i.length;q<s;)switch(o=i.charCodeAt(q)){case 9:case 10:case 13:case 32:q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?i.charAt(q):i[q],q++,t;case 34:for(t="@",q++;q<s;)if(o=i.charCodeAt(q),o<32)I();else if(92==o)switch(o=i.charCodeAt(++q)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[o],q++;break;case 117:for(e=++q,r=q+4;q<r;q++)o=i.charCodeAt(q),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||I();t+=M("0x"+i.slice(e,q));break;default:I()}else{if(34==o)break;for(o=i.charCodeAt(q),e=q;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++q);t+=i.slice(e,q)}if(34==i.charCodeAt(q))return q++,t;I();default:if(e=q,45==o&&(n=!0,o=i.charCodeAt(++q)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(q+1),o>=48&&o<=57)&&I(),n=!1;q<s&&(o=i.charCodeAt(q),o>=48&&o<=57);q++);if(46==i.charCodeAt(q)){for(r=++q;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==q&&I(),q=r}if(o=i.charCodeAt(q),101==o||69==o){for(o=i.charCodeAt(++q),43!=o&&45!=o||q++,r=q;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==q&&I(),q=r}return+i.slice(e,q)}if(n&&I(),"true"==i.slice(q,q+4))return q+=4,!0;if("false"==i.slice(q,q+5))return q+=5,!1;if("null"==i.slice(q,q+4))return q+=4,null;I()}return"$"},z=function(t){var e,r;if("$"==t&&I(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=H(),"]"!=t;r||(r=!0))r&&(","==t?(t=H(),"]"==t&&I()):I()),","==t&&I(),e.push(z(t));return e}if("{"==t){for(e={};t=H(),"}"!=t;r||(r=!0))r&&(","==t?(t=H(),"}"==t&&I()):I()),","!=t&&"string"==typeof t&&"@"==(S?t.charAt(0):t[0])&&":"==H()||I(),e[t.slice(1)]=z(H());return e}I()}return t},J=function(t,e,r){var n=X(t,e,r);n===g?delete t[e]:t[e]=n},X=function(t,e,r){var n,o=t[e];if("object"==typeof o&&o)if(v.call(o)==C)for(n=o.length;n--;)J(o,n,r);else y(o,function(t){J(o,t,r)});return r.call(t,e,o)};e.parse=function(t,e){var r,n;return q=0,U=""+t,r=z(H()),"$"!=H()&&I(),q=U=null,e&&v.call(e)==w?X((n={},n[""]=r,n),"",e):r}}}return e.runInContext=o,e}var i="function"==typeof n&&n.amd,s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!i)o(c,a);else{var h=c.JSON,p=c.JSON3,f=!1,l=o(c,c.JSON3={noConflict:function(){return f||(f=!0,c.JSON=h,c.JSON3=p,h=p=null),l}});c.JSON={parse:l.parse,stringify:l.stringify}}i&&n(function(){return l})}).call(this)}).call(e,r(12)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function r(t){if(t)return n(t)}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(t){var n=r(15),o=r(16);e.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:r.length};return r.push(t),i}if(n(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var r=[],i=t.data,s=t;return s.data=e(i),s.attachments=r.length,{packet:s,buffers:r}},e.reconstructPacket=function(t,e){function r(t){if(t&&t._placeholder){var o=e[t.num];return o}if(n(t)){for(var i=0;i<t.length;i++)t[i]=r(t[i]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=r(t[s]);return t}return t}return t.data=r(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,r){function i(e,c,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var h=new FileReader;h.onload=function(){u?u[c]=this.result:a=this.result,--s||r(a)},h.readAsArrayBuffer(e)}else if(n(e))for(var p=0;p<e.length;p++)i(e[p],p,e);else if(e&&"object"==typeof e&&!o(e))for(var f in e)i(e[f],f,e)}var s=0,a=e;i(a),s||r(a)}}).call(e,function(){return this}())},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){(function(e){function r(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=r}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e){return this instanceof n?(t&&"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(t,e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(18),s=r(44),a=r(35),c=r(7),u=r(46),h=r(47),p=r(3)("socket.io-client:manager"),f=r(42),l=r(48),d=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},a(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,e){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=i(this.uri,this.opts);var r=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=u(r,"open",function(){n.onopen(),t&&t()}),s=u(r,"error",function(e){if(p("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;p("connect attempt will timeout after %d",a);var c=setTimeout(function(){p("connect attempt timed out after %d",a),o.destroy(),r.close(),r.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},n.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",h(this,"ondata"))),this.subs.push(u(t,"ping",h(this,"onping"))),this.subs.push(u(t,"pong",h(this,"onpong"))),this.subs.push(u(t,"error",h(this,"onerror"))),this.subs.push(u(t,"close",h(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",h(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){p("error",t),this.emitAll("error",t)},n.prototype.socket=function(t,e){function r(){~f(o.connecting,n)||o.connecting.push(n)}var n=this.nsps[t];if(!n){n=new s(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",r),n.on("connect",function(){n.id=o.engine.id}),this.autoConnect&&r()}return n},n.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},n.prototype.packet=function(t){p("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){p("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();p("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(p("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(p("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(p("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,r){t.exports=r(19)},function(t,e,r){t.exports=r(20),t.exports.parser=r(27)},function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=h(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=h(r.host).host),
this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var o="object"==typeof e&&e;o.global===o&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i=r(21),s=r(35),a=r(3)("engine.io-client:socket"),c=r(42),u=r(27),h=r(2),p=r(43),f=r(36);t.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=u.protocol,n.Socket=n,n.Transport=r(26),n.transports=r(21),n.parser=r(27),n.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);e.EIO=u.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;p=p||e}p||(a('probe transport "%s" opened',t),h.send([{type:"ping",data:"probe"}]),h.once("packet",function(e){if(!p)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",h),!h)return;n.priorWebsocketSuccess="websocket"===h.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){p||"closed"!==f.readyState&&(a("changing transport and sending upgrade packet"),u(),f.setTransport(h),h.send([{type:"upgrade"}]),f.emit("upgrade",h),h=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=h.name,f.emit("upgradeError",r)}}))}function r(){p||(p=!0,u(),h.close(),h=null)}function o(e){var n=new Error("probe error: "+e);n.transport=h.name,r(),a('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",n)}function i(){o("transport closed")}function s(){o("socket closed")}function c(t){h&&t.name!==h.name&&(a('"%s" works - aborting "%s"',t.name,h.name),r())}function u(){h.removeListener("open",e),h.removeListener("error",o),h.removeListener("close",i),f.removeListener("close",s),f.removeListener("upgrading",c)}a('probing transport "%s"',t);var h=this.createTransport(t,{probe:1}),p=!1,f=this;n.priorWebsocketSuccess=!1,h.once("open",e),h.once("error",o),h.once("close",i),this.once("close",s),this.once("upgrading",c),h.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){a("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~c(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},function(t,e,r){(function(t){function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,h=location.port;h||(h=u?443:80),n=e.hostname!==location.hostname||h!==e.port,a=e.secure!==u}if(e.xdomain=n,e.xscheme=a,r=new o(e),"open"in r&&!e.forceJSONP)return new i(e);if(!c)throw new Error("JSONP disabled");return new s(e)}var o=r(22),i=r(24),s=r(39),a=r(40);e.polling=n,e.websocket=a}).call(e,function(){return this}())},function(t,e,r){(function(e){var n=r(23);t.exports=function(t){var r=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,function(){return this}())},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){(function(e){function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=r(22),c=r(25),u=r(35),h=r(37),p=r(3)("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,h(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){p("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new a(t),n=this;try{p("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}}catch(t){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},p("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(t){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var r=new Uint8Array(this.xhr.response),n=[],o=0,i=r.length;o<i;o++)n.push(r[o]);t=String.fromCharCode.apply(null,n)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,function(){return this}())},function(t,e,r){function n(t){var e=t&&t.forceBase64;h&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=r(26),i=r(36),s=r(27),a=r(37),c=r(38),u=r(3)("engine.io-client:polling");t.exports=n;var h=function(){var t=r(22),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){u("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(u("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){u("pre-pause polling complete"),--n||e()})),this.writable||(u("we are currently writing - waiting to pause"),n++,this.once("drain",function(){u("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;u("polling got data %s",t);var r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=r(27),i=r(35);t.exports=n,i(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(t){function n(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,r,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(m)return i(t,r,n);var o=new Uint8Array(1);o[0]=v[t.type];var s=new k([o.buffer,t.data]);return n(s)}function a(t){try{t=d.decode(t)}catch(t){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),o=l(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var u,h=r(28),p=r(29),f=r(30),l=r(31),d=r(32);t&&t.ArrayBuffer&&(u=r(33));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=y||g;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=h(v),w={type:"error",data:"parser error"},k=r(34);e.encodePacket=function(e,r,i,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(k&&c instanceof t.Blob)return s(e,r,a);if(c&&c.base64)return n(e,a);var u=v[e.type];return void 0!==e.data&&(u+=i?d.encode(String(e.data)):String(e.data)),a(""+u)},e.encodeBase64Packet=function(r,n){var o="b"+e.packets[r.type];if(k&&r.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var a=new Uint8Array(r.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return w;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return k&&"blob"===r&&(s=new k([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var r=b[t.charAt(0)];if(!u)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=u.decode(t.substr(1));return"blob"===e&&k&&(n=new k([n])),{type:r,data:n}},e.encodePayload=function(t,r,n){function o(t){return t.length+":"+t}function i(t,n){e.encodePacket(t,!!s&&r,!0,function(t){n(null,o(t))})}"function"==typeof r&&(n=r,r=null);var s=p(t);return r&&s?k&&!m?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,i,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var o;if(""==t)return n(w,0,1);for(var i,s,a="",c=0,u=t.length;c<u;c++){var h=t.charAt(c);if(":"!=h)a+=h;else{if(""==a||a!=(i=Number(a)))return n(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return n(w,0,1);if(s.length){if(o=e.decodePacket(s,r,!0),w.type==o.type&&w.data==o.data)return n(w,0,1);var p=n(o,c+i,u);if(!1===p)return}c+=i,a=""}}return""!=a?n(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,k){var c=new k([e.buffer,a.buffer,t]);r(null,c)}})}c(t,n,function(t,e){return r(new k(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u="",h=1;255!=a[h];h++){if(u.length>310){s=!0;break}u+=a[h]}if(s)return n(w,0,1);o=f(o,2+u.length),u=parseInt(u);var p=f(o,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var l=new Uint8Array(p);p="";for(var h=0;h<l.length;h++)p+=String.fromCharCode(l[h])}i.push(p),o=f(o,u)}var d=i.length;i.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,d)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){function n(t){function r(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r(t[i]))return!0}return!1}return r(t)}var o=r(15);t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function r(t,e,r){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}var i=!1;return r=r||n,o.count=t,0===t?e():o}function n(){}t.exports=r},function(t,e,r){var n;(function(t,o){!function(i){function s(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function a(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=b(e>>>10&1023|55296),e=56320|1023&e),o+=b(e);return o}function c(t,e){return b(t>>e&63|128)}function u(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=b(63&t|128)}function h(t){for(var e,r=s(t),n=r.length,o=-1,i="";++o<n;)e=r[o],i+=u(e);return i}function p(){if(v>=m)throw Error("Invalid byte index");var t=255&g[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e,r,n,o;if(v>m)throw Error("Invalid byte index");if(v==m)return!1;if(t=255&g[v],v++,0==(128&t))return t;if(192==(224&t)){var e=p();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=p(),r=p(),o=(15&t)<<12|e<<6|r,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=p(),r=p(),n=p(),o=(15&t)<<18|e<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function l(t){g=s(t),m=g.length,v=0;for(var e,r=[];(e=f())!==!1;)r.push(e);return a(r)}var d="object"==typeof e&&e,y=("object"==typeof t&&t&&t.exports==d&&t,"object"==typeof o&&o);y.global!==y&&y.window!==y||(i=y);var g,m,v,b=String.fromCharCode,w={version:"1.0.0",encode:h,decode:l};n=function(){return w}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(12)(t),function(){return this}())},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,n,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),p=new Uint8Array(h);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],o=r[t.charCodeAt(e+1)],i=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],p[u++]=n<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return h}}()},function(t,e){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new i;r(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return r(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(t){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?n:void 0}()}).call(e,function(){return this}())},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){"use strict";function r(t){var e="";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(h=0;h<t.length;h++)e=e*a+c[t.charAt(h)];return e}function o(){var t=r(+new Date);return t!==i?(u=0,i=t):t+"."+r(u++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},u=0,h=0;h<a;h++)c[s[h]]=h;o.encode=r,o.decode=n,t.exports=o},function(t,e,r){(function(e){function n(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var r=this;a.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}var i=r(25),s=r(37);t.exports=o;var a,c=/\n/g,u=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=h,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&r();
}:this.iframe.onload=r}}).call(e,function(){return this}())},function(t,e,r){(function(e){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=p&&!t.forceNode,this.usingBrowserWebSocket||(f=o),i.call(this,t)}var o,i=r(26),s=r(27),a=r(36),c=r(37),u=r(38),h=r(3)("engine.io-client:websocket"),p=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{o=r(41)}catch(t){}var f=p;f||"undefined"!=typeof window||(f=o),t.exports=n,c(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(t):new f(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function r(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var a="string"==typeof i?e.Buffer.byteLength(i):i.length;a<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,s)}catch(t){h("websocket closed before onclose event")}--o||r()})}(t[i])},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===n.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var o=r(7),i=r(35),s=r(45),a=r(46),c=r(47),u=r(3)("socket.io-client:socket"),h=r(29);t.exports=e=n;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(p.hasOwnProperty(t))return f.apply(this,arguments),this;var e=s(arguments),r=o.EVENT;h(e)&&(r=o.BINARY_EVENT);var n={type:r,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},n.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},n.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var n=s(arguments);u("sending ack %j",n);var i=h(n)?o.BINARY_ACK:o.ACK;e.packet({type:i,id:t,data:n})}}},n.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function r(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}t.exports=r},function(t,e){"use strict";function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=r},function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}}])});
/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

function startClientViewerSocket(socket){
    socket.on('domain_viewer', function (data) {
        var data = JSON.parse(data);
        if(data['kind']=='xpi'){
            viewer=data['viewer']
                        if(viewer==false){
                            new PNotify({
                            title: "Display error",
                                text: "Can't open display, something went wrong.",
                                hide: true,
                                delay: 3000,
                                icon: 'fa fa-alert-sign',
                                opacity: 1,
                                type: 'error'
                            });
                        }else{
                            if(viewer.tlsport){
                                openTLS(viewer.host, viewer.port, viewer.tlsport, viewer.passwd, viewer.ca);
                            }else{
                                openTCP(viewer.host, viewer.port, viewer.passwd);
                            }
                        }
        }
        if(data['kind']=='html5'){
            viewer=data['viewer']
            //~ window.open('http://try.isardvdi.com:8000/?host=try.isardvdi.com&port='+viewer.port+'&passwd='+viewer.passwd); 
            window.open('http://'+viewer.host+'/?host='+viewer.host+'&port='+viewer.port+'&passwd='+viewer.passwd);            
            
        }        
        
         if(data['kind']=='file'){
            var viewerFile = new Blob([data['content']], {type: data['mime']});
            var a = document.createElement('a');
                a.download = 'console.'+data['ext'];
                a.href = window.URL.createObjectURL(viewerFile);
            var ev = document.createEvent("MouseEvents");
                ev.initMouseEvent("click", true, false, self, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
                a.dispatchEvent(ev);              
                    }
    });


}    
    

function getClientViewer(data,socket){
				if(detectXpiPlugin()){
					//SPICE-XPI Plugin
                    if(isXpiBlocked()){
                            new PNotify({
                            title: "Plugin blocked",
                                text: "You should allow SpiceXPI plugin and then reload webpage.",
                                hide: true,
                                confirm: {
                                    confirm: true,
                                    cancel: false
                                },
                                //~ delay: 3000,
                                icon: 'fa fa-alert-sign',
                                opacity: 1,
                                type: 'warning'
                            });                        
                    }else{
                    socket.emit('domain_viewer',{'pk':data['id'],'kind':'xpi'})                       
                    }
				}else{
                        new PNotify({
                            title: 'Choose display connection',
                            text: 'Open in browser (html5) or download remote-viewer file.',
                            icon: 'glyphicon glyphicon-question-sign',
                            hide: false,
                            delay: 3000,
                            confirm: {
                                confirm: true,
                                buttons: [
                                    {
                                        text: 'HTML5',
                                        addClass: 'btn-primary',
                                        click: function(notice){
                                            notice.update({
                                                title: 'You choosed html5 viewer', text: 'Viewer will be opened in new window.\n Please allow popups!', icon: true, type: 'info', hide: true,
                                                confirm: {
                                                    confirm: false
                                                },
                                                buttons: {
                                                    closer: true,
                                                    sticker: false
                                                }
                                            });                                            
                                            socket.emit('domain_viewer',{'pk':data['id'],'kind':'html5'});
                                        }
                                    },
                                    {
                                        text: 'Download display file',
                                        click: function(notice){
                                            notice.update({
                                                title: 'You choosed to download', text: 'File will be downloaded shortly', icon: true, type: 'info', hide: true,
                                                confirm: {
                                                    confirm: false
                                                },
                                                buttons: {
                                                    closer: true,
                                                    sticker: false
                                                }
                                            });
                                            socket.emit('domain_viewer',{'pk':data['id'],'kind':'file'});
                                        }
                                    },
                                ]
                            },
                            buttons: {
                                closer: false,
                                sticker: false
                            },
                            history: {
                                history: false
                            }
                        });                        


					}

}






	function detectXpiPlugin(){
		var pluginsFound = false;
		if (navigator.plugins && navigator.plugins.length > 0) {
			var daPlugins = [ "Spice" ];
			var pluginsAmount = navigator.plugins.length;
			for (counter = 0; counter < pluginsAmount; counter++) {
				var numFound = 0;
				for (namesCounter = 0; namesCounter < daPlugins.length; namesCounter++) {
					if ((navigator.plugins[counter].name.indexOf(daPlugins[namesCounter]) > 0)
						|| (navigator.plugins[counter].description.indexOf(daPlugins[namesCounter]) >= 0)) {
						numFound++;
					}
				}
				if (numFound == daPlugins.length) {
				pluginsFound = true;
				break;
				}
			}

		}
		return pluginsFound;
	}

    function isXpiBlocked(){
        var embed = document.embeds[0];
        if (typeof embed.connect === "function") { 
            return false;
        }
        return true;
    }
    
	function openTCP(spice_host,spice_port,spice_passwd)
	{
		var embed = document.embeds[0];
		embed.hostIP = spice_host;
		embed.port = spice_port;
		embed.Password = spice_passwd;
		embed.fullScreen = true;
		embed.fAudio = true;
		embed.UsbListenPort = 1;
		embed.UsbAutoShare = 1;
		embed.connect();
	}

	function openTLS(spice_host,spice_port,spice_tls,spice_passwd,ca)
	{		
		var embed = document.embeds[0];
		embed.hostIP = spice_host;
		//~ embed.port = spice_port;
		embed.SecurePort = spice_tls;
		embed.Password = spice_passwd;
		embed.CipherSuite = "";
		embed.SSLChannels = "";
		embed.HostSubject = "";
		embed.fullScreen = true;
		embed.AdminConsole = "";
		embed.Title = "";
		embed.dynamicMenu = "";
		embed.NumberOfMonitors = "";
		embed.GuestHostName = "";
		embed.HotKey = "";
		embed.NoTaskMgrExecution = "";
		embed.SendCtrlAltDelete = "";
		embed.UsbListenPort = "";
		embed.UsbAutoShare = true;
		embed.Smartcard = "";
		embed.ColorDepth = "";
		embed.DisableEffects = "";
		embed.TrustStore = ca;
		embed.Proxy = "";
		embed.connect();
	}
  
    function getOS() {
      var userAgent = window.navigator.userAgent,
          platform = window.navigator.platform,
          macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
          windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
          iosPlatforms = ['iPhone', 'iPad', 'iPod'],
          os = null;

      if (macosPlatforms.indexOf(platform) !== -1) {
        os = 'MacOS';
      } else if (iosPlatforms.indexOf(platform) !== -1) {
        os = 'iOS';
      } else if (windowsPlatforms.indexOf(platform) !== -1) {
        os = 'Windows';
      } else if (/Android/.test(userAgent)) {
        os = 'Android';
      } else if (!os && /Linux/.test(platform)) {
        os = 'Linux';
      }

      return os;
    }

/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

$(document).ready(function() {
            $('#disposable').on('change', function() {
                if(this.value!="default"){
                    socket.emit('disposables_add',{'pk':this.value}) 
                    $('#disposable').prop("disabled",true);
                    $('#disposable option[value="default"]').text(' Wait till '+$("#disposable option[value='"+this.value+"']").text()+' viewer opens...');
                    $('#disposable option[value="default"]').prop("selected",true);
                }
            })  


    socket = io.connect(location.protocol+'//' + document.domain + ':' + location.port+'/sio_disposables');
     
    socket.on('connect', function() {
        console.log('Listening disposables namespace');
    });

    socket.on('connect_error', function(data) {
      //~ connection_lost();
    });


    socket.on('disposable_data', function(data){
        var data = JSON.parse(data);
        if(data['status']=='Started'){
			$('#disposable option[value="default"]').text('Choose a desktop...');
			$('#disposable option[value="default"]').prop("selected",true);
			$('#disposable').prop("disabled",false);
			getClientViewer(data,socket)
	  }										
        
    });

    socket.on('disposable_viewer', function (data) {
        var data = JSON.parse(data);
        if(data['kind']=='xpi'){
            viewer=data['viewer']
                        if(viewer==false){
                            new PNotify({
                            title: "Display error",
                                text: "Can't open display, something went wrong.",
                                hide: true,
                                delay: 3000,
                                icon: 'fa fa-alert-sign',
                                opacity: 1,
                                type: 'error'
                            });
                        }else{
                            if(viewer.tlsport){
                                openTLS(viewer.host, viewer.port, viewer.tlsport, viewer.passwd, viewer.ca);
                            }else{
                                openTCP(viewer.host, viewer.port, viewer.passwd);
                            }
                        }
        }
        if(data['kind']=='html5'){
            viewer=data['viewer']
            //~ window.open('http://try.isardvdi.com:8000/?host=try.isardvdi.com&port='+viewer.port+'&passwd='+viewer.passwd); 
            window.open('http://'+viewer.host+'/?host='+viewer.host+'&port='+viewer.port+'&passwd='+viewer.passwd);            
            
        }        
        
         if(data['kind']=='file'){
            var viewerFile = new Blob([data['content']], {type: data['mime']});
            var a = document.createElement('a');
                a.download = 'console.'+data['ext'];
                a.href = window.URL.createObjectURL(viewerFile);
            var ev = document.createEvent("MouseEvents");
                ev.initMouseEvent("click", true, false, self, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
                a.dispatchEvent(ev);              
                    }
    });


    socket.on('result', function (data) {
        var data = JSON.parse(data);
        new PNotify({
                title: data.title,
                text: data.text,
                hide: true,
                delay: 4000,
                icon: 'fa fa-'+data.icon,
                opacity: 1,
                type: data.type
        });
    });
    
});



function getClientViewer(data,socket){
				if(detectXpiPlugin()){
					//SPICE-XPI Plugin
                    if(isXpiBlocked()){
                            new PNotify({
                            title: "Plugin blocked",
                                text: "You should allow SpiceXPI plugin and then reload webpage.",
                                hide: true,
                                confirm: {
                                    confirm: true,
                                    cancel: false
                                },
                                //~ delay: 3000,
                                icon: 'fa fa-alert-sign',
                                opacity: 1,
                                type: 'warning'
                            });                        
                    }else{
                    socket.emit('disposable_viewer',{'pk':data['id'],'kind':'xpi'})                       
                    }
				}else{
                        new PNotify({
                            title: 'Choose display connection',
                            text: 'Open in browser (html5) or download remote-viewer file.',
                            icon: 'glyphicon glyphicon-question-sign',
                            hide: false,
                            delay: 3000,
                            confirm: {
                                confirm: true,
                                buttons: [
                                    {
                                        text: 'HTML5',
                                        addClass: 'btn-primary',
                                        click: function(notice){
                                            notice.update({
                                                title: 'You choosed html5 viewer', text: 'Viewer will be opened in new window.\n Please allow popups!', icon: true, type: 'info', hide: true,
                                                confirm: {
                                                    confirm: false
                                                },
                                                buttons: {
                                                    closer: true,
                                                    sticker: false
                                                }
                                            });                                            
                                            socket.emit('disposable_viewer',{'pk':data['id'],'kind':'html5'});
                                        }
                                    },
                                    {
                                        text: 'Download display file',
                                        click: function(notice){
                                            notice.update({
                                                title: 'You choosed to download', text: 'File will be downloaded shortly', icon: true, type: 'info', hide: true,
                                                confirm: {
                                                    confirm: false
                                                },
                                                buttons: {
                                                    closer: true,
                                                    sticker: false
                                                }
                                            });
                                            socket.emit('disposable_viewer',{'pk':data['id'],'kind':'file'});
                                        }
                                    },
                                ]
                            },
                            buttons: {
                                closer: false,
                                sticker: false
                            },
                            history: {
                                history: false
                            }
                        });                        


					}

}


/*! jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,
e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

if (typeof jQuery === 'undefined') {
  throw new Error('Bootstrap\'s JavaScript requires jQuery')
}

+function ($) {
  'use strict';
  var version = $.fn.jquery.split(' ')[0].split('.')
  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1) || (version[0] > 2)) {
    throw new Error('Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3')
  }
}(jQuery);

/* ========================================================================
 * Bootstrap: transition.js v3.3.6
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);

/* ========================================================================
 * Bootstrap: alert.js v3.3.6
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // ALERT CLASS DEFINITION
  // ======================

  var dismiss = '[data-dismiss="alert"]'
  var Alert   = function (el) {
    $(el).on('click', dismiss, this.close)
  }

  Alert.VERSION = '3.3.6'

  Alert.TRANSITION_DURATION = 150

  Alert.prototype.close = function (e) {
    var $this    = $(this)
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = $(selector)

    if (e) e.preventDefault()

    if (!$parent.length) {
      $parent = $this.closest('.alert')
    }

    $parent.trigger(e = $.Event('close.bs.alert'))

    if (e.isDefaultPrevented()) return

    $parent.removeClass('in')

    function removeElement() {
      // detach from parent, fire event then clean up data
      $parent.detach().trigger('closed.bs.alert').remove()
    }

    $.support.transition && $parent.hasClass('fade') ?
      $parent
        .one('bsTransitionEnd', removeElement)
        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :
      removeElement()
  }


  // ALERT PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.alert')

      if (!data) $this.data('bs.alert', (data = new Alert(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.alert

  $.fn.alert             = Plugin
  $.fn.alert.Constructor = Alert


  // ALERT NO CONFLICT
  // =================

  $.fn.alert.noConflict = function () {
    $.fn.alert = old
    return this
  }


  // ALERT DATA-API
  // ==============

  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)

}(jQuery);

/* ========================================================================
 * Bootstrap: button.js v3.3.6
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // BUTTON PUBLIC CLASS DEFINITION
  // ==============================

  var Button = function (element, options) {
    this.$element  = $(element)
    this.options   = $.extend({}, Button.DEFAULTS, options)
    this.isLoading = false
  }

  Button.VERSION  = '3.3.6'

  Button.DEFAULTS = {
    loadingText: 'loading...'
  }

  Button.prototype.setState = function (state) {
    var d    = 'disabled'
    var $el  = this.$element
    var val  = $el.is('input') ? 'val' : 'html'
    var data = $el.data()

    state += 'Text'

    if (data.resetText == null) $el.data('resetText', $el[val]())

    // push to event loop to allow forms to submit
    setTimeout($.proxy(function () {
      $el[val](data[state] == null ? this.options[state] : data[state])

      if (state == 'loadingText') {
        this.isLoading = true
        $el.addClass(d).attr(d, d)
      } else if (this.isLoading) {
        this.isLoading = false
        $el.removeClass(d).removeAttr(d)
      }
    }, this), 0)
  }

  Button.prototype.toggle = function () {
    var changed = true
    var $parent = this.$element.closest('[data-toggle="buttons"]')

    if ($parent.length) {
      var $input = this.$element.find('input')
      if ($input.prop('type') == 'radio') {
        if ($input.prop('checked')) changed = false
        $parent.find('.active').removeClass('active')
        this.$element.addClass('active')
      } else if ($input.prop('type') == 'checkbox') {
        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false
        this.$element.toggleClass('active')
      }
      $input.prop('checked', this.$element.hasClass('active'))
      if (changed) $input.trigger('change')
    } else {
      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))
      this.$element.toggleClass('active')
    }
  }


  // BUTTON PLUGIN DEFINITION
  // ========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.button')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.button', (data = new Button(this, options)))

      if (option == 'toggle') data.toggle()
      else if (option) data.setState(option)
    })
  }

  var old = $.fn.button

  $.fn.button             = Plugin
  $.fn.button.Constructor = Button


  // BUTTON NO CONFLICT
  // ==================

  $.fn.button.noConflict = function () {
    $.fn.button = old
    return this
  }


  // BUTTON DATA-API
  // ===============

  $(document)
    .on('click.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      var $btn = $(e.target)
      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')
      Plugin.call($btn, 'toggle')
      if (!($(e.target).is('input[type="radio"]') || $(e.target).is('input[type="checkbox"]'))) e.preventDefault()
    })
    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))
    })

}(jQuery);

/* ========================================================================
 * Bootstrap: carousel.js v3.3.6
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CAROUSEL CLASS DEFINITION
  // =========================

  var Carousel = function (element, options) {
    this.$element    = $(element)
    this.$indicators = this.$element.find('.carousel-indicators')
    this.options     = options
    this.paused      = null
    this.sliding     = null
    this.interval    = null
    this.$active     = null
    this.$items      = null

    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))

    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element
      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))
      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))
  }

  Carousel.VERSION  = '3.3.6'

  Carousel.TRANSITION_DURATION = 600

  Carousel.DEFAULTS = {
    interval: 5000,
    pause: 'hover',
    wrap: true,
    keyboard: true
  }

  Carousel.prototype.keydown = function (e) {
    if (/input|textarea/i.test(e.target.tagName)) return
    switch (e.which) {
      case 37: this.prev(); break
      case 39: this.next(); break
      default: return
    }

    e.preventDefault()
  }

  Carousel.prototype.cycle = function (e) {
    e || (this.paused = false)

    this.interval && clearInterval(this.interval)

    this.options.interval
      && !this.paused
      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))

    return this
  }

  Carousel.prototype.getItemIndex = function (item) {
    this.$items = item.parent().children('.item')
    return this.$items.index(item || this.$active)
  }

  Carousel.prototype.getItemForDirection = function (direction, active) {
    var activeIndex = this.getItemIndex(active)
    var willWrap = (direction == 'prev' && activeIndex === 0)
                || (direction == 'next' && activeIndex == (this.$items.length - 1))
    if (willWrap && !this.options.wrap) return active
    var delta = direction == 'prev' ? -1 : 1
    var itemIndex = (activeIndex + delta) % this.$items.length
    return this.$items.eq(itemIndex)
  }

  Carousel.prototype.to = function (pos) {
    var that        = this
    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))

    if (pos > (this.$items.length - 1) || pos < 0) return

    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, "slid"
    if (activeIndex == pos) return this.pause().cycle()

    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))
  }

  Carousel.prototype.pause = function (e) {
    e || (this.paused = true)

    if (this.$element.find('.next, .prev').length && $.support.transition) {
      this.$element.trigger($.support.transition.end)
      this.cycle(true)
    }

    this.interval = clearInterval(this.interval)

    return this
  }

  Carousel.prototype.next = function () {
    if (this.sliding) return
    return this.slide('next')
  }

  Carousel.prototype.prev = function () {
    if (this.sliding) return
    return this.slide('prev')
  }

  Carousel.prototype.slide = function (type, next) {
    var $active   = this.$element.find('.item.active')
    var $next     = next || this.getItemForDirection(type, $active)
    var isCycling = this.interval
    var direction = type == 'next' ? 'left' : 'right'
    var that      = this

    if ($next.hasClass('active')) return (this.sliding = false)

    var relatedTarget = $next[0]
    var slideEvent = $.Event('slide.bs.carousel', {
      relatedTarget: relatedTarget,
      direction: direction
    })
    this.$element.trigger(slideEvent)
    if (slideEvent.isDefaultPrevented()) return

    this.sliding = true

    isCycling && this.pause()

    if (this.$indicators.length) {
      this.$indicators.find('.active').removeClass('active')
      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])
      $nextIndicator && $nextIndicator.addClass('active')
    }

    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"
    if ($.support.transition && this.$element.hasClass('slide')) {
      $next.addClass(type)
      $next[0].offsetWidth // force reflow
      $active.addClass(direction)
      $next.addClass(direction)
      $active
        .one('bsTransitionEnd', function () {
          $next.removeClass([type, direction].join(' ')).addClass('active')
          $active.removeClass(['active', direction].join(' '))
          that.sliding = false
          setTimeout(function () {
            that.$element.trigger(slidEvent)
          }, 0)
        })
        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)
    } else {
      $active.removeClass('active')
      $next.addClass('active')
      this.sliding = false
      this.$element.trigger(slidEvent)
    }

    isCycling && this.cycle()

    return this
  }


  // CAROUSEL PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.carousel')
      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
      var action  = typeof option == 'string' ? option : options.slide

      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))
      if (typeof option == 'number') data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  var old = $.fn.carousel

  $.fn.carousel             = Plugin
  $.fn.carousel.Constructor = Carousel


  // CAROUSEL NO CONFLICT
  // ====================

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }


  // CAROUSEL DATA-API
  // =================

  var clickHandler = function (e) {
    var href
    var $this   = $(this)
    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
    if (!$target.hasClass('carousel')) return
    var options = $.extend({}, $target.data(), $this.data())
    var slideIndex = $this.attr('data-slide-to')
    if (slideIndex) options.interval = false

    Plugin.call($target, options)

    if (slideIndex) {
      $target.data('bs.carousel').to(slideIndex)
    }

    e.preventDefault()
  }

  $(document)
    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)
    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)

  $(window).on('load', function () {
    $('[data-ride="carousel"]').each(function () {
      var $carousel = $(this)
      Plugin.call($carousel, $carousel.data())
    })
  })

}(jQuery);

/* ========================================================================
 * Bootstrap: collapse.js v3.3.6
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.6'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);

/* ========================================================================
 * Bootstrap: dropdown.js v3.3.6
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.6'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger($.Event('shown.bs.dropdown', relatedTarget))
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);

/* ========================================================================
 * Bootstrap: modal.js v3.3.6
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options             = options
    this.$body               = $(document.body)
    this.$element            = $(element)
    this.$dialog             = this.$element.find('.modal-dialog')
    this.$backdrop           = null
    this.isShown             = null
    this.originalBodyPad     = null
    this.scrollbarWidth      = 0
    this.ignoreBackdropClick = false

    if (this.options.remote) {
      this.$element
        .find('.modal-content')
        .load(this.options.remote, $.proxy(function () {
          this.$element.trigger('loaded.bs.modal')
        }, this))
    }
  }

  Modal.VERSION  = '3.3.6'

  Modal.TRANSITION_DURATION = 300
  Modal.BACKDROP_TRANSITION_DURATION = 150

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

  Modal.prototype.toggle = function (_relatedTarget) {
    return this.isShown ? this.hide() : this.show(_relatedTarget)
  }

  Modal.prototype.show = function (_relatedTarget) {
    var that = this
    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })

    this.$element.trigger(e)

    if (this.isShown || e.isDefaultPrevented()) return

    this.isShown = true

    this.checkScrollbar()
    this.setScrollbar()
    this.$body.addClass('modal-open')

    this.escape()
    this.resize()

    this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', $.proxy(this.hide, this))

    this.$dialog.on('mousedown.dismiss.bs.modal', function () {
      that.$element.one('mouseup.dismiss.bs.modal', function (e) {
        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true
      })
    })

    this.backdrop(function () {
      var transition = $.support.transition && that.$element.hasClass('fade')

      if (!that.$element.parent().length) {
        that.$element.appendTo(that.$body) // don't move modals dom position
      }

      that.$element
        .show()
        .scrollTop(0)

      that.adjustDialog()

      if (transition) {
        that.$element[0].offsetWidth // force reflow
      }

      that.$element.addClass('in')

      that.enforceFocus()

      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })

      transition ?
        that.$dialog // wait for modal to slide in
          .one('bsTransitionEnd', function () {
            that.$element.trigger('focus').trigger(e)
          })
          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
        that.$element.trigger('focus').trigger(e)
    })
  }

  Modal.prototype.hide = function (e) {
    if (e) e.preventDefault()

    e = $.Event('hide.bs.modal')

    this.$element.trigger(e)

    if (!this.isShown || e.isDefaultPrevented()) return

    this.isShown = false

    this.escape()
    this.resize()

    $(document).off('focusin.bs.modal')

    this.$element
      .removeClass('in')
      .off('click.dismiss.bs.modal')
      .off('mouseup.dismiss.bs.modal')

    this.$dialog.off('mousedown.dismiss.bs.modal')

    $.support.transition && this.$element.hasClass('fade') ?
      this.$element
        .one('bsTransitionEnd', $.proxy(this.hideModal, this))
        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
      this.hideModal()
  }

  Modal.prototype.enforceFocus = function () {
    $(document)
      .off('focusin.bs.modal') // guard against infinite focus loop
      .on('focusin.bs.modal', $.proxy(function (e) {
        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {
          this.$element.trigger('focus')
        }
      }, this))
  }

  Modal.prototype.escape = function () {
    if (this.isShown && this.options.keyboard) {
      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {
        e.which == 27 && this.hide()
      }, this))
    } else if (!this.isShown) {
      this.$element.off('keydown.dismiss.bs.modal')
    }
  }

  Modal.prototype.resize = function () {
    if (this.isShown) {
      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))
    } else {
      $(window).off('resize.bs.modal')
    }
  }

  Modal.prototype.hideModal = function () {
    var that = this
    this.$element.hide()
    this.backdrop(function () {
      that.$body.removeClass('modal-open')
      that.resetAdjustments()
      that.resetScrollbar()
      that.$element.trigger('hidden.bs.modal')
    })
  }

  Modal.prototype.removeBackdrop = function () {
    this.$backdrop && this.$backdrop.remove()
    this.$backdrop = null
  }

  Modal.prototype.backdrop = function (callback) {
    var that = this
    var animate = this.$element.hasClass('fade') ? 'fade' : ''

    if (this.isShown && this.options.backdrop) {
      var doAnimate = $.support.transition && animate

      this.$backdrop = $(document.createElement('div'))
        .addClass('modal-backdrop ' + animate)
        .appendTo(this.$body)

      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {
        if (this.ignoreBackdropClick) {
          this.ignoreBackdropClick = false
          return
        }
        if (e.target !== e.currentTarget) return
        this.options.backdrop == 'static'
          ? this.$element[0].focus()
          : this.hide()
      }, this))

      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow

      this.$backdrop.addClass('in')

      if (!callback) return

      doAnimate ?
        this.$backdrop
          .one('bsTransitionEnd', callback)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callback()

    } else if (!this.isShown && this.$backdrop) {
      this.$backdrop.removeClass('in')

      var callbackRemove = function () {
        that.removeBackdrop()
        callback && callback()
      }
      $.support.transition && this.$element.hasClass('fade') ?
        this.$backdrop
          .one('bsTransitionEnd', callbackRemove)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callbackRemove()

    } else if (callback) {
      callback()
    }
  }

  // these following methods are used to handle overflowing modals

  Modal.prototype.handleUpdate = function () {
    this.adjustDialog()
  }

  Modal.prototype.adjustDialog = function () {
    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight

    this.$element.css({
      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',
      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''
    })
  }

  Modal.prototype.resetAdjustments = function () {
    this.$element.css({
      paddingLeft: '',
      paddingRight: ''
    })
  }

  Modal.prototype.checkScrollbar = function () {
    var fullWindowWidth = window.innerWidth
    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8
      var documentElementRect = document.documentElement.getBoundingClientRect()
      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)
    }
    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth
    this.scrollbarWidth = this.measureScrollbar()
  }

  Modal.prototype.setScrollbar = function () {
    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)
    this.originalBodyPad = document.body.style.paddingRight || ''
    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)
  }

  Modal.prototype.resetScrollbar = function () {
    this.$body.css('padding-right', this.originalBodyPad)
  }

  Modal.prototype.measureScrollbar = function () { // thx walsh
    var scrollDiv = document.createElement('div')
    scrollDiv.className = 'modal-scrollbar-measure'
    this.$body.append(scrollDiv)
    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth
    this.$body[0].removeChild(scrollDiv)
    return scrollbarWidth
  }


  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.modal')
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))
      if (typeof option == 'string') data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }


  // MODAL DATA-API
  // ==============

  $(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function (e) {
    var $this   = $(this)
    var href    = $this.attr('href')
    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) // strip for ie7
    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())

    if ($this.is('a')) e.preventDefault()

    $target.one('show.bs.modal', function (showEvent) {
      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown
      $target.one('hidden.bs.modal', function () {
        $this.is(':visible') && $this.trigger('focus')
      })
    })
    Plugin.call($target, option, this)
  })

}(jQuery);

/* ========================================================================
 * Bootstrap: tooltip.js v3.3.6
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TOOLTIP PUBLIC CLASS DEFINITION
  // ===============================

  var Tooltip = function (element, options) {
    this.type       = null
    this.options    = null
    this.enabled    = null
    this.timeout    = null
    this.hoverState = null
    this.$element   = null
    this.inState    = null

    this.init('tooltip', element, options)
  }

  Tooltip.VERSION  = '3.3.6'

  Tooltip.TRANSITION_DURATION = 150

  Tooltip.DEFAULTS = {
    animation: true,
    placement: 'top',
    selector: false,
    template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: false,
    container: false,
    viewport: {
      selector: 'body',
      padding: 0
    }
  }

  Tooltip.prototype.init = function (type, element, options) {
    this.enabled   = true
    this.type      = type
    this.$element  = $(element)
    this.options   = this.getOptions(options)
    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))
    this.inState   = { click: false, hover: false, focus: false }

    if (this.$element[0] instanceof document.constructor && !this.options.selector) {
      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')
    }

    var triggers = this.options.trigger.split(' ')

    for (var i = triggers.length; i--;) {
      var trigger = triggers[i]

      if (trigger == 'click') {
        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
      } else if (trigger != 'manual') {
        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'
        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'

        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
      }
    }

    this.options.selector ?
      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :
      this.fixTitle()
  }

  Tooltip.prototype.getDefaults = function () {
    return Tooltip.DEFAULTS
  }

  Tooltip.prototype.getOptions = function (options) {
    options = $.extend({}, this.getDefaults(), this.$element.data(), options)

    if (options.delay && typeof options.delay == 'number') {
      options.delay = {
        show: options.delay,
        hide: options.delay
      }
    }

    return options
  }

  Tooltip.prototype.getDelegateOptions = function () {
    var options  = {}
    var defaults = this.getDefaults()

    this._options && $.each(this._options, function (key, value) {
      if (defaults[key] != value) options[key] = value
    })

    return options
  }

  Tooltip.prototype.enter = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true
    }

    if (self.tip().hasClass('in') || self.hoverState == 'in') {
      self.hoverState = 'in'
      return
    }

    clearTimeout(self.timeout)

    self.hoverState = 'in'

    if (!self.options.delay || !self.options.delay.show) return self.show()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'in') self.show()
    }, self.options.delay.show)
  }

  Tooltip.prototype.isInStateTrue = function () {
    for (var key in this.inState) {
      if (this.inState[key]) return true
    }

    return false
  }

  Tooltip.prototype.leave = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false
    }

    if (self.isInStateTrue()) return

    clearTimeout(self.timeout)

    self.hoverState = 'out'

    if (!self.options.delay || !self.options.delay.hide) return self.hide()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'out') self.hide()
    }, self.options.delay.hide)
  }

  Tooltip.prototype.show = function () {
    var e = $.Event('show.bs.' + this.type)

    if (this.hasContent() && this.enabled) {
      this.$element.trigger(e)

      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])
      if (e.isDefaultPrevented() || !inDom) return
      var that = this

      var $tip = this.tip()

      var tipId = this.getUID(this.type)

      this.setContent()
      $tip.attr('id', tipId)
      this.$element.attr('aria-describedby', tipId)

      if (this.options.animation) $tip.addClass('fade')

      var placement = typeof this.options.placement == 'function' ?
        this.options.placement.call(this, $tip[0], this.$element[0]) :
        this.options.placement

      var autoToken = /\s?auto?\s?/i
      var autoPlace = autoToken.test(placement)
      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'

      $tip
        .detach()
        .css({ top: 0, left: 0, display: 'block' })
        .addClass(placement)
        .data('bs.' + this.type, this)

      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)
      this.$element.trigger('inserted.bs.' + this.type)

      var pos          = this.getPosition()
      var actualWidth  = $tip[0].offsetWidth
      var actualHeight = $tip[0].offsetHeight

      if (autoPlace) {
        var orgPlacement = placement
        var viewportDim = this.getPosition(this.$viewport)

        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :
                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :
                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :
                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :
                    placement

        $tip
          .removeClass(orgPlacement)
          .addClass(placement)
      }

      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)

      this.applyPlacement(calculatedOffset, placement)

      var complete = function () {
        var prevHoverState = that.hoverState
        that.$element.trigger('shown.bs.' + that.type)
        that.hoverState = null

        if (prevHoverState == 'out') that.leave(that)
      }

      $.support.transition && this.$tip.hasClass('fade') ?
        $tip
          .one('bsTransitionEnd', complete)
          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
        complete()
    }
  }

  Tooltip.prototype.applyPlacement = function (offset, placement) {
    var $tip   = this.tip()
    var width  = $tip[0].offsetWidth
    var height = $tip[0].offsetHeight

    // manually read margins because getBoundingClientRect includes difference
    var marginTop = parseInt($tip.css('margin-top'), 10)
    var marginLeft = parseInt($tip.css('margin-left'), 10)

    // we must check for NaN for ie 8/9
    if (isNaN(marginTop))  marginTop  = 0
    if (isNaN(marginLeft)) marginLeft = 0

    offset.top  += marginTop
    offset.left += marginLeft

    // $.fn.offset doesn't round pixel values
    // so we use setOffset directly with our own function B-0
    $.offset.setOffset($tip[0], $.extend({
      using: function (props) {
        $tip.css({
          top: Math.round(props.top),
          left: Math.round(props.left)
        })
      }
    }, offset), 0)

    $tip.addClass('in')

    // check to see if placing tip in new offset caused the tip to resize itself
    var actualWidth  = $tip[0].offsetWidth
    var actualHeight = $tip[0].offsetHeight

    if (placement == 'top' && actualHeight != height) {
      offset.top = offset.top + height - actualHeight
    }

    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)

    if (delta.left) offset.left += delta.left
    else offset.top += delta.top

    var isVertical          = /top|bottom/.test(placement)
    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight
    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'

    $tip.offset(offset)
    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
  }

  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {
    this.arrow()
      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')
      .css(isVertical ? 'top' : 'left', '')
  }

  Tooltip.prototype.setContent = function () {
    var $tip  = this.tip()
    var title = this.getTitle()

    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
    $tip.removeClass('fade in top bottom left right')
  }

  Tooltip.prototype.hide = function (callback) {
    var that = this
    var $tip = $(this.$tip)
    var e    = $.Event('hide.bs.' + this.type)

    function complete() {
      if (that.hoverState != 'in') $tip.detach()
      that.$element
        .removeAttr('aria-describedby')
        .trigger('hidden.bs.' + that.type)
      callback && callback()
    }

    this.$element.trigger(e)

    if (e.isDefaultPrevented()) return

    $tip.removeClass('in')

    $.support.transition && $tip.hasClass('fade') ?
      $tip
        .one('bsTransitionEnd', complete)
        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
      complete()

    this.hoverState = null

    return this
  }

  Tooltip.prototype.fixTitle = function () {
    var $e = this.$element
    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {
      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')
    }
  }

  Tooltip.prototype.hasContent = function () {
    return this.getTitle()
  }

  Tooltip.prototype.getPosition = function ($element) {
    $element   = $element || this.$element

    var el     = $element[0]
    var isBody = el.tagName == 'BODY'

    var elRect    = el.getBoundingClientRect()
    if (elRect.width == null) {
      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093
      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })
    }
    var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()
    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }
    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null

    return $.extend({}, elRect, scroll, outerDims, elOffset)
  }

  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {
    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :
        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }

  }

  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {
    var delta = { top: 0, left: 0 }
    if (!this.$viewport) return delta

    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0
    var viewportDimensions = this.getPosition(this.$viewport)

    if (/right|left/.test(placement)) {
      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll
      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight
      if (topEdgeOffset < viewportDimensions.top) { // top overflow
        delta.top = viewportDimensions.top - topEdgeOffset
      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow
        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset
      }
    } else {
      var leftEdgeOffset  = pos.left - viewportPadding
      var rightEdgeOffset = pos.left + viewportPadding + actualWidth
      if (leftEdgeOffset < viewportDimensions.left) { // left overflow
        delta.left = viewportDimensions.left - leftEdgeOffset
      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow
        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset
      }
    }

    return delta
  }

  Tooltip.prototype.getTitle = function () {
    var title
    var $e = this.$element
    var o  = this.options

    title = $e.attr('data-original-title')
      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)

    return title
  }

  Tooltip.prototype.getUID = function (prefix) {
    do prefix += ~~(Math.random() * 1000000)
    while (document.getElementById(prefix))
    return prefix
  }

  Tooltip.prototype.tip = function () {
    if (!this.$tip) {
      this.$tip = $(this.options.template)
      if (this.$tip.length != 1) {
        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')
      }
    }
    return this.$tip
  }

  Tooltip.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))
  }

  Tooltip.prototype.enable = function () {
    this.enabled = true
  }

  Tooltip.prototype.disable = function () {
    this.enabled = false
  }

  Tooltip.prototype.toggleEnabled = function () {
    this.enabled = !this.enabled
  }

  Tooltip.prototype.toggle = function (e) {
    var self = this
    if (e) {
      self = $(e.currentTarget).data('bs.' + this.type)
      if (!self) {
        self = new this.constructor(e.currentTarget, this.getDelegateOptions())
        $(e.currentTarget).data('bs.' + this.type, self)
      }
    }

    if (e) {
      self.inState.click = !self.inState.click
      if (self.isInStateTrue()) self.enter(self)
      else self.leave(self)
    } else {
      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)
    }
  }

  Tooltip.prototype.destroy = function () {
    var that = this
    clearTimeout(this.timeout)
    this.hide(function () {
      that.$element.off('.' + that.type).removeData('bs.' + that.type)
      if (that.$tip) {
        that.$tip.detach()
      }
      that.$tip = null
      that.$arrow = null
      that.$viewport = null
    })
  }


  // TOOLTIP PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.tooltip')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tooltip

  $.fn.tooltip             = Plugin
  $.fn.tooltip.Constructor = Tooltip


  // TOOLTIP NO CONFLICT
  // ===================

  $.fn.tooltip.noConflict = function () {
    $.fn.tooltip = old
    return this
  }

}(jQuery);

/* ========================================================================
 * Bootstrap: popover.js v3.3.6
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // POPOVER PUBLIC CLASS DEFINITION
  // ===============================

  var Popover = function (element, options) {
    this.init('popover', element, options)
  }

  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')

  Popover.VERSION  = '3.3.6'

  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
  })


  // NOTE: POPOVER EXTENDS tooltip.js
  // ================================

  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)

  Popover.prototype.constructor = Popover

  Popover.prototype.getDefaults = function () {
    return Popover.DEFAULTS
  }

  Popover.prototype.setContent = function () {
    var $tip    = this.tip()
    var title   = this.getTitle()
    var content = this.getContent()

    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events
      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'
    ](content)

    $tip.removeClass('fade top bottom left right in')

    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do
    // this manually by checking the contents.
    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()
  }

  Popover.prototype.hasContent = function () {
    return this.getTitle() || this.getContent()
  }

  Popover.prototype.getContent = function () {
    var $e = this.$element
    var o  = this.options

    return $e.attr('data-content')
      || (typeof o.content == 'function' ?
            o.content.call($e[0]) :
            o.content)
  }

  Popover.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))
  }


  // POPOVER PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.popover')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.popover

  $.fn.popover             = Plugin
  $.fn.popover.Constructor = Popover


  // POPOVER NO CONFLICT
  // ===================

  $.fn.popover.noConflict = function () {
    $.fn.popover = old
    return this
  }

}(jQuery);

/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.6
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // SCROLLSPY CLASS DEFINITION
  // ==========================

  function ScrollSpy(element, options) {
    this.$body          = $(document.body)
    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
    this.selector       = (this.options.target || '') + ' .nav li > a'
    this.offsets        = []
    this.targets        = []
    this.activeTarget   = null
    this.scrollHeight   = 0

    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
    this.refresh()
    this.process()
  }

  ScrollSpy.VERSION  = '3.3.6'

  ScrollSpy.DEFAULTS = {
    offset: 10
  }

  ScrollSpy.prototype.getScrollHeight = function () {
    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
  }

  ScrollSpy.prototype.refresh = function () {
    var that          = this
    var offsetMethod  = 'offset'
    var offsetBase    = 0

    this.offsets      = []
    this.targets      = []
    this.scrollHeight = this.getScrollHeight()

    if (!$.isWindow(this.$scrollElement[0])) {
      offsetMethod = 'position'
      offsetBase   = this.$scrollElement.scrollTop()
    }

    this.$body
      .find(this.selector)
      .map(function () {
        var $el   = $(this)
        var href  = $el.data('target') || $el.attr('href')
        var $href = /^#./.test(href) && $(href)

        return ($href
          && $href.length
          && $href.is(':visible')
          && [[$href[offsetMethod]().top + offsetBase, href]]) || null
      })
      .sort(function (a, b) { return a[0] - b[0] })
      .each(function () {
        that.offsets.push(this[0])
        that.targets.push(this[1])
      })
  }

  ScrollSpy.prototype.process = function () {
    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
    var scrollHeight = this.getScrollHeight()
    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
    var offsets      = this.offsets
    var targets      = this.targets
    var activeTarget = this.activeTarget
    var i

    if (this.scrollHeight != scrollHeight) {
      this.refresh()
    }

    if (scrollTop >= maxScroll) {
      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
    }

    if (activeTarget && scrollTop < offsets[0]) {
      this.activeTarget = null
      return this.clear()
    }

    for (i = offsets.length; i--;) {
      activeTarget != targets[i]
        && scrollTop >= offsets[i]
        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])
        && this.activate(targets[i])
    }
  }

  ScrollSpy.prototype.activate = function (target) {
    this.activeTarget = target

    this.clear()

    var selector = this.selector +
      '[data-target="' + target + '"],' +
      this.selector + '[href="' + target + '"]'

    var active = $(selector)
      .parents('li')
      .addClass('active')

    if (active.parent('.dropdown-menu').length) {
      active = active
        .closest('li.dropdown')
        .addClass('active')
    }

    active.trigger('activate.bs.scrollspy')
  }

  ScrollSpy.prototype.clear = function () {
    $(this.selector)
      .parentsUntil(this.options.target, '.active')
      .removeClass('active')
  }


  // SCROLLSPY PLUGIN DEFINITION
  // ===========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.scrollspy')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.scrollspy

  $.fn.scrollspy             = Plugin
  $.fn.scrollspy.Constructor = ScrollSpy


  // SCROLLSPY NO CONFLICT
  // =====================

  $.fn.scrollspy.noConflict = function () {
    $.fn.scrollspy = old
    return this
  }


  // SCROLLSPY DATA-API
  // ==================

  $(window).on('load.bs.scrollspy.data-api', function () {
    $('[data-spy="scroll"]').each(function () {
      var $spy = $(this)
      Plugin.call($spy, $spy.data())
    })
  })

}(jQuery);

/* ========================================================================
 * Bootstrap: tab.js v3.3.6
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TAB CLASS DEFINITION
  // ====================

  var Tab = function (element) {
    // jscs:disable requireDollarBeforejQueryAssignment
    this.element = $(element)
    // jscs:enable requireDollarBeforejQueryAssignment
  }

  Tab.VERSION = '3.3.6'

  Tab.TRANSITION_DURATION = 150

  Tab.prototype.show = function () {
    var $this    = this.element
    var $ul      = $this.closest('ul:not(.dropdown-menu)')
    var selector = $this.data('target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    if ($this.parent('li').hasClass('active')) return

    var $previous = $ul.find('.active:last a')
    var hideEvent = $.Event('hide.bs.tab', {
      relatedTarget: $this[0]
    })
    var showEvent = $.Event('show.bs.tab', {
      relatedTarget: $previous[0]
    })

    $previous.trigger(hideEvent)
    $this.trigger(showEvent)

    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return

    var $target = $(selector)

    this.activate($this.closest('li'), $ul)
    this.activate($target, $target.parent(), function () {
      $previous.trigger({
        type: 'hidden.bs.tab',
        relatedTarget: $this[0]
      })
      $this.trigger({
        type: 'shown.bs.tab',
        relatedTarget: $previous[0]
      })
    })
  }

  Tab.prototype.activate = function (element, container, callback) {
    var $active    = container.find('> .active')
    var transition = callback
      && $.support.transition
      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)

    function next() {
      $active
        .removeClass('active')
        .find('> .dropdown-menu > .active')
          .removeClass('active')
        .end()
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', false)

      element
        .addClass('active')
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', true)

      if (transition) {
        element[0].offsetWidth // reflow for transition
        element.addClass('in')
      } else {
        element.removeClass('fade')
      }

      if (element.parent('.dropdown-menu').length) {
        element
          .closest('li.dropdown')
            .addClass('active')
          .end()
          .find('[data-toggle="tab"]')
            .attr('aria-expanded', true)
      }

      callback && callback()
    }

    $active.length && transition ?
      $active
        .one('bsTransitionEnd', next)
        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :
      next()

    $active.removeClass('in')
  }


  // TAB PLUGIN DEFINITION
  // =====================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.tab')

      if (!data) $this.data('bs.tab', (data = new Tab(this)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tab

  $.fn.tab             = Plugin
  $.fn.tab.Constructor = Tab


  // TAB NO CONFLICT
  // ===============

  $.fn.tab.noConflict = function () {
    $.fn.tab = old
    return this
  }


  // TAB DATA-API
  // ============

  var clickHandler = function (e) {
    e.preventDefault()
    Plugin.call($(this), 'show')
  }

  $(document)
    .on('click.bs.tab.data-api', '[data-toggle="tab"]', clickHandler)
    .on('click.bs.tab.data-api', '[data-toggle="pill"]', clickHandler)

}(jQuery);

/* ========================================================================
 * Bootstrap: affix.js v3.3.6
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // AFFIX CLASS DEFINITION
  // ======================

  var Affix = function (element, options) {
    this.options = $.extend({}, Affix.DEFAULTS, options)

    this.$target = $(this.options.target)
      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))
      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))

    this.$element     = $(element)
    this.affixed      = null
    this.unpin        = null
    this.pinnedOffset = null

    this.checkPosition()
  }

  Affix.VERSION  = '3.3.6'

  Affix.RESET    = 'affix affix-top affix-bottom'

  Affix.DEFAULTS = {
    offset: 0,
    target: window
  }

  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {
    var scrollTop    = this.$target.scrollTop()
    var position     = this.$element.offset()
    var targetHeight = this.$target.height()

    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false

    if (this.affixed == 'bottom') {
      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'
      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'
    }

    var initializing   = this.affixed == null
    var colliderTop    = initializing ? scrollTop : position.top
    var colliderHeight = initializing ? targetHeight : height

    if (offsetTop != null && scrollTop <= offsetTop) return 'top'
    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'

    return false
  }

  Affix.prototype.getPinnedOffset = function () {
    if (this.pinnedOffset) return this.pinnedOffset
    this.$element.removeClass(Affix.RESET).addClass('affix')
    var scrollTop = this.$target.scrollTop()
    var position  = this.$element.offset()
    return (this.pinnedOffset = position.top - scrollTop)
  }

  Affix.prototype.checkPositionWithEventLoop = function () {
    setTimeout($.proxy(this.checkPosition, this), 1)
  }

  Affix.prototype.checkPosition = function () {
    if (!this.$element.is(':visible')) return

    var height       = this.$element.height()
    var offset       = this.options.offset
    var offsetTop    = offset.top
    var offsetBottom = offset.bottom
    var scrollHeight = Math.max($(document).height(), $(document.body).height())

    if (typeof offset != 'object')         offsetBottom = offsetTop = offset
    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)
    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)

    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)

    if (this.affixed != affix) {
      if (this.unpin != null) this.$element.css('top', '')

      var affixType = 'affix' + (affix ? '-' + affix : '')
      var e         = $.Event(affixType + '.bs.affix')

      this.$element.trigger(e)

      if (e.isDefaultPrevented()) return

      this.affixed = affix
      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null

      this.$element
        .removeClass(Affix.RESET)
        .addClass(affixType)
        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')
    }

    if (affix == 'bottom') {
      this.$element.offset({
        top: scrollHeight - height - offsetBottom
      })
    }
  }


  // AFFIX PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.affix')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.affix

  $.fn.affix             = Plugin
  $.fn.affix.Constructor = Affix


  // AFFIX NO CONFLICT
  // =================

  $.fn.affix.noConflict = function () {
    $.fn.affix = old
    return this
  }


  // AFFIX DATA-API
  // ==============

  $(window).on('load', function () {
    $('[data-spy="affix"]').each(function () {
      var $spy = $(this)
      var data = $spy.data()

      data.offset = data.offset || {}

      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom
      if (data.offsetTop    != null) data.offset.top    = data.offsetTop

      Plugin.call($spy, data)
    })
  })

}(jQuery);

/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */

;(function(root, factory) {

  if (typeof define === 'function' && define.amd) {
    define(factory);
  } else if (typeof exports === 'object') {
    module.exports = factory();
  } else {
    root.NProgress = factory();
  }

})(this, function() {
  var NProgress = {};

  NProgress.version = '0.2.0';

  var Settings = NProgress.settings = {
    minimum: 0.08,
    easing: 'ease',
    positionUsing: '',
    speed: 200,
    trickle: true,
    trickleRate: 0.02,
    trickleSpeed: 800,
    showSpinner: true,
    barSelector: '[role="bar"]',
    spinnerSelector: '[role="spinner"]',
    parent: 'body',
    template: '<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'
  };

  /**
   * Updates configuration.
   *
   *     NProgress.configure({
   *       minimum: 0.1
   *     });
   */
  NProgress.configure = function(options) {
    var key, value;
    for (key in options) {
      value = options[key];
      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;
    }

    return this;
  };

  /**
   * Last number.
   */

  NProgress.status = null;

  /**
   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.
   *
   *     NProgress.set(0.4);
   *     NProgress.set(1.0);
   */

  NProgress.set = function(n) {
    var started = NProgress.isStarted();

    n = clamp(n, Settings.minimum, 1);
    NProgress.status = (n === 1 ? null : n);

    var progress = NProgress.render(!started),
        bar      = progress.querySelector(Settings.barSelector),
        speed    = Settings.speed,
        ease     = Settings.easing;

    progress.offsetWidth; /* Repaint */

    queue(function(next) {
      // Set positionUsing if it hasn't already been set
      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();

      // Add transition
      css(bar, barPositionCSS(n, speed, ease));

      if (n === 1) {
        // Fade out
        css(progress, { 
          transition: 'none', 
          opacity: 1 
        });
        progress.offsetWidth; /* Repaint */

        setTimeout(function() {
          css(progress, { 
            transition: 'all ' + speed + 'ms linear', 
            opacity: 0 
          });
          setTimeout(function() {
            NProgress.remove();
            next();
          }, speed);
        }, speed);
      } else {
        setTimeout(next, speed);
      }
    });

    return this;
  };

  NProgress.isStarted = function() {
    return typeof NProgress.status === 'number';
  };

  /**
   * Shows the progress bar.
   * This is the same as setting the status to 0%, except that it doesn't go backwards.
   *
   *     NProgress.start();
   *
   */
  NProgress.start = function() {
    if (!NProgress.status) NProgress.set(0);

    var work = function() {
      setTimeout(function() {
        if (!NProgress.status) return;
        NProgress.trickle();
        work();
      }, Settings.trickleSpeed);
    };

    if (Settings.trickle) work();

    return this;
  };

  /**
   * Hides the progress bar.
   * This is the *sort of* the same as setting the status to 100%, with the
   * difference being `done()` makes some placebo effect of some realistic motion.
   *
   *     NProgress.done();
   *
   * If `true` is passed, it will show the progress bar even if its hidden.
   *
   *     NProgress.done(true);
   */

  NProgress.done = function(force) {
    if (!force && !NProgress.status) return this;

    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);
  };

  /**
   * Increments by a random amount.
   */

  NProgress.inc = function(amount) {
    var n = NProgress.status;

    if (!n) {
      return NProgress.start();
    } else {
      if (typeof amount !== 'number') {
        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);
      }

      n = clamp(n + amount, 0, 0.994);
      return NProgress.set(n);
    }
  };

  NProgress.trickle = function() {
    return NProgress.inc(Math.random() * Settings.trickleRate);
  };

  /**
   * Waits for all supplied jQuery promises and
   * increases the progress as the promises resolve.
   *
   * @param $promise jQUery Promise
   */
  (function() {
    var initial = 0, current = 0;

    NProgress.promise = function($promise) {
      if (!$promise || $promise.state() === "resolved") {
        return this;
      }

      if (current === 0) {
        NProgress.start();
      }

      initial++;
      current++;

      $promise.always(function() {
        current--;
        if (current === 0) {
            initial = 0;
            NProgress.done();
        } else {
            NProgress.set((initial - current) / initial);
        }
      });

      return this;
    };

  })();

  /**
   * (Internal) renders the progress bar markup based on the `template`
   * setting.
   */

  NProgress.render = function(fromStart) {
    if (NProgress.isRendered()) return document.getElementById('nprogress');

    addClass(document.documentElement, 'nprogress-busy');
    
    var progress = document.createElement('div');
    progress.id = 'nprogress';
    progress.innerHTML = Settings.template;

    var bar      = progress.querySelector(Settings.barSelector),
        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),
        parent   = document.querySelector(Settings.parent),
        spinner;
    
    css(bar, {
      transition: 'all 0 linear',
      transform: 'translate3d(' + perc + '%,0,0)'
    });

    if (!Settings.showSpinner) {
      spinner = progress.querySelector(Settings.spinnerSelector);
      spinner && removeElement(spinner);
    }

    if (parent != document.body) {
      addClass(parent, 'nprogress-custom-parent');
    }

    parent.appendChild(progress);
    return progress;
  };

  /**
   * Removes the element. Opposite of render().
   */

  NProgress.remove = function() {
    removeClass(document.documentElement, 'nprogress-busy');
    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent');
    var progress = document.getElementById('nprogress');
    progress && removeElement(progress);
  };

  /**
   * Checks if the progress bar is rendered.
   */

  NProgress.isRendered = function() {
    return !!document.getElementById('nprogress');
  };

  /**
   * Determine which positioning CSS rule to use.
   */

  NProgress.getPositioningCSS = function() {
    // Sniff on document.body.style
    var bodyStyle = document.body.style;

    // Sniff prefixes
    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :
                       ('MozTransform' in bodyStyle) ? 'Moz' :
                       ('msTransform' in bodyStyle) ? 'ms' :
                       ('OTransform' in bodyStyle) ? 'O' : '';

    if (vendorPrefix + 'Perspective' in bodyStyle) {
      // Modern browsers with 3D support, e.g. Webkit, IE10
      return 'translate3d';
    } else if (vendorPrefix + 'Transform' in bodyStyle) {
      // Browsers without 3D support, e.g. IE9
      return 'translate';
    } else {
      // Browsers without translate() support, e.g. IE7-8
      return 'margin';
    }
  };

  /**
   * Helpers
   */

  function clamp(n, min, max) {
    if (n < min) return min;
    if (n > max) return max;
    return n;
  }

  /**
   * (Internal) converts a percentage (`0..1`) to a bar translateX
   * percentage (`-100%..0%`).
   */

  function toBarPerc(n) {
    return (-1 + n) * 100;
  }


  /**
   * (Internal) returns the correct CSS for changing the bar's
   * position given an n percentage, and speed and ease from Settings
   */

  function barPositionCSS(n, speed, ease) {
    var barCSS;

    if (Settings.positionUsing === 'translate3d') {
      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };
    } else if (Settings.positionUsing === 'translate') {
      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };
    } else {
      barCSS = { 'margin-left': toBarPerc(n)+'%' };
    }

    barCSS.transition = 'all '+speed+'ms '+ease;

    return barCSS;
  }

  /**
   * (Internal) Queues a function to be executed.
   */

  var queue = (function() {
    var pending = [];
    
    function next() {
      var fn = pending.shift();
      if (fn) {
        fn(next);
      }
    }

    return function(fn) {
      pending.push(fn);
      if (pending.length == 1) next();
    };
  })();

  /**
   * (Internal) Applies css properties to an element, similar to the jQuery 
   * css method.
   *
   * While this helper does assist with vendor prefixed property names, it 
   * does not perform any manipulation of values prior to setting styles.
   */

  var css = (function() {
    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],
        cssProps    = {};

    function camelCase(string) {
      return string.replace(/^-ms-/, 'ms-').replace(/-([\da-z])/gi, function(match, letter) {
        return letter.toUpperCase();
      });
    }

    function getVendorProp(name) {
      var style = document.body.style;
      if (name in style) return name;

      var i = cssPrefixes.length,
          capName = name.charAt(0).toUpperCase() + name.slice(1),
          vendorName;
      while (i--) {
        vendorName = cssPrefixes[i] + capName;
        if (vendorName in style) return vendorName;
      }

      return name;
    }

    function getStyleProp(name) {
      name = camelCase(name);
      return cssProps[name] || (cssProps[name] = getVendorProp(name));
    }

    function applyCss(element, prop, value) {
      prop = getStyleProp(prop);
      element.style[prop] = value;
    }

    return function(element, properties) {
      var args = arguments,
          prop, 
          value;

      if (args.length == 2) {
        for (prop in properties) {
          value = properties[prop];
          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);
        }
      } else {
        applyCss(element, args[1], args[2]);
      }
    }
  })();

  /**
   * (Internal) Determines if an element or space separated list of class names contains a class name.
   */

  function hasClass(element, name) {
    var list = typeof element == 'string' ? element : classList(element);
    return list.indexOf(' ' + name + ' ') >= 0;
  }

  /**
   * (Internal) Adds a class to an element.
   */

  function addClass(element, name) {
    var oldList = classList(element),
        newList = oldList + name;

    if (hasClass(oldList, name)) return; 

    // Trim the opening space.
    element.className = newList.substring(1);
  }

  /**
   * (Internal) Removes a class from an element.
   */

  function removeClass(element, name) {
    var oldList = classList(element),
        newList;

    if (!hasClass(element, name)) return;

    // Replace the class name.
    newList = oldList.replace(' ' + name + ' ', ' ');

    // Trim the opening and closing spaces.
    element.className = newList.substring(1, newList.length - 1);
  }

  /**
   * (Internal) Gets a space separated list of the class names on the element. 
   * The list is wrapped with a single space on each end to facilitate finding 
   * matches within the list.
   */

  function classList(element) {
    return (' ' + (element.className || '') + ' ').replace(/\s+/gi, ' ');
  }

  /**
   * (Internal) Removes an element from the DOM.
   */

  function removeElement(element) {
    element && element.parentNode && element.parentNode.removeChild(element);
  }

  return NProgress;
});


/*! DataTables 1.10.12
 * 2008-2015 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.10.12
 * @file        jquery.dataTables.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2008-2015 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/*jslint evil: true, undef: true, browser: true */
/*globals $,require,jQuery,define,_selector_run,_selector_opts,_selector_first,_selector_row_indexes,_ext,_Api,_api_register,_api_registerPlural,_re_new_lines,_re_html,_re_formatted_numeric,_re_escape_regex,_empty,_intVal,_numToDecimal,_isNumber,_isHtml,_htmlNumeric,_pluck,_pluck_order,_range,_stripHtml,_unique,_fnBuildAjax,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnAjaxDataSrc,_fnAddColumn,_fnColumnOptions,_fnAdjustColumnSizing,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnVisbleColumns,_fnGetColumns,_fnColumnTypes,_fnApplyColumnDefs,_fnHungarianMap,_fnCamelToHungarian,_fnLanguageCompat,_fnBrowserDetect,_fnAddData,_fnAddTr,_fnNodeToDataIndex,_fnNodeToColumnIndex,_fnGetCellData,_fnSetCellData,_fnSplitObjNotation,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnGetDataMaster,_fnClearTable,_fnDeleteIndex,_fnInvalidate,_fnGetRowElements,_fnCreateTr,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAddOptionsHtml,_fnDetectHeader,_fnGetUniqueThs,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnFilterCreateSearch,_fnEscapeRegex,_fnFilterData,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnInfoMacros,_fnInitialise,_fnInitComplete,_fnLengthChange,_fnFeatureHtmlLength,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnFeatureHtmlTable,_fnScrollDraw,_fnApplyToChildren,_fnCalculateColumnWidths,_fnThrottle,_fnConvertToWidth,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnSortFlatten,_fnSort,_fnSortAria,_fnSortListener,_fnSortAttachListener,_fnSortingClasses,_fnSortData,_fnSaveState,_fnLoadState,_fnSettingsFromNode,_fnLog,_fnMap,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnLengthOverflow,_fnRenderer,_fnDataSource,_fnRowAttributes*/

(function( factory ) {
	"use strict";

	if ( typeof define === 'function' && define.amd ) {
		// AMD
		define( ['jquery'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		// CommonJS
		module.exports = function (root, $) {
			if ( ! root ) {
				// CommonJS environments without a window global must pass a
				// root. This will give an error otherwise
				root = window;
			}

			if ( ! $ ) {
				$ = typeof window !== 'undefined' ? // jQuery's factory checks for a global window
					require('jquery') :
					require('jquery')( root );
			}

			return factory( $, root, root.document );
		};
	}
	else {
		// Browser
		factory( jQuery, window, document );
	}
}
(function( $, window, document, undefined ) {
	"use strict";

	/**
	 * DataTables is a plug-in for the jQuery Javascript library. It is a highly
	 * flexible tool, based upon the foundations of progressive enhancement,
	 * which will add advanced interaction controls to any HTML table. For a
	 * full list of features please refer to
	 * [DataTables.net](href="http://datatables.net).
	 *
	 * Note that the `DataTable` object is not a global variable but is aliased
	 * to `jQuery.fn.DataTable` and `jQuery.fn.dataTable` through which it may
	 * be  accessed.
	 *
	 *  @class
	 *  @param {object} [init={}] Configuration object for DataTables. Options
	 *    are defined by {@link DataTable.defaults}
	 *  @requires jQuery 1.7+
	 *
	 *  @example
	 *    // Basic initialisation
	 *    $(document).ready( function {
	 *      $('#example').dataTable();
	 *    } );
	 *
	 *  @example
	 *    // Initialisation with configuration options - in this case, disable
	 *    // pagination and sorting.
	 *    $(document).ready( function {
	 *      $('#example').dataTable( {
	 *        "paginate": false,
	 *        "sort": false
	 *      } );
	 *    } );
	 */
	var DataTable = function ( options )
	{
		/**
		 * Perform a jQuery selector action on the table's TR elements (from the tbody) and
		 * return the resulting jQuery object.
		 *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on
		 *  @param {object} [oOpts] Optional parameters for modifying the rows to be included
		 *  @param {string} [oOpts.filter=none] Select TR elements that meet the current filter
		 *    criterion ("applied") or all TR elements (i.e. no filter).
		 *  @param {string} [oOpts.order=current] Order of the TR elements in the processed array.
		 *    Can be either 'current', whereby the current sorting of the table is used, or
		 *    'original' whereby the original order the data was read into the table is used.
		 *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page
		 *    ("current") or not ("all"). If 'current' is given, then order is assumed to be
		 *    'current' and filter is 'applied', regardless of what they might be given as.
		 *  @returns {object} jQuery object, filtered by the given selector.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Highlight every second row
		 *      oTable.$('tr:odd').css('backgroundColor', 'blue');
		 *    } );
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Filter to rows with 'Webkit' in them, add a background colour and then
		 *      // remove the filter, thus highlighting the 'Webkit' rows only.
		 *      oTable.fnFilter('Webkit');
		 *      oTable.$('tr', {"search": "applied"}).css('backgroundColor', 'blue');
		 *      oTable.fnFilter('');
		 *    } );
		 */
		this.$ = function ( sSelector, oOpts )
		{
			return this.api(true).$( sSelector, oOpts );
		};
		
		
		/**
		 * Almost identical to $ in operation, but in this case returns the data for the matched
		 * rows - as such, the jQuery selector used should match TR row nodes or TD/TH cell nodes
		 * rather than any descendants, so the data can be obtained for the row/cell. If matching
		 * rows are found, the data returned is the original data array/object that was used to
		 * create the row (or a generated array if from a DOM source).
		 *
		 * This method is often useful in-combination with $ where both functions are given the
		 * same parameters and the array indexes will match identically.
		 *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on
		 *  @param {object} [oOpts] Optional parameters for modifying the rows to be included
		 *  @param {string} [oOpts.filter=none] Select elements that meet the current filter
		 *    criterion ("applied") or all elements (i.e. no filter).
		 *  @param {string} [oOpts.order=current] Order of the data in the processed array.
		 *    Can be either 'current', whereby the current sorting of the table is used, or
		 *    'original' whereby the original order the data was read into the table is used.
		 *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page
		 *    ("current") or not ("all"). If 'current' is given, then order is assumed to be
		 *    'current' and filter is 'applied', regardless of what they might be given as.
		 *  @returns {array} Data for the matched elements. If any elements, as a result of the
		 *    selector, were not TR, TD or TH elements in the DataTable, they will have a null
		 *    entry in the array.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Get the data from the first row in the table
		 *      var data = oTable._('tr:first');
		 *
		 *      // Do something useful with the data
		 *      alert( "First cell is: "+data[0] );
		 *    } );
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Filter to 'Webkit' and get all data for
		 *      oTable.fnFilter('Webkit');
		 *      var data = oTable._('tr', {"search": "applied"});
		 *
		 *      // Do something with the data
		 *      alert( data.length+" rows matched the search" );
		 *    } );
		 */
		this._ = function ( sSelector, oOpts )
		{
			return this.api(true).rows( sSelector, oOpts ).data();
		};
		
		
		/**
		 * Create a DataTables Api instance, with the currently selected tables for
		 * the Api's context.
		 * @param {boolean} [traditional=false] Set the API instance's context to be
		 *   only the table referred to by the `DataTable.ext.iApiIndex` option, as was
		 *   used in the API presented by DataTables 1.9- (i.e. the traditional mode),
		 *   or if all tables captured in the jQuery object should be used.
		 * @return {DataTables.Api}
		 */
		this.api = function ( traditional )
		{
			return traditional ?
				new _Api(
					_fnSettingsFromNode( this[ _ext.iApiIndex ] )
				) :
				new _Api( this );
		};
		
		
		/**
		 * Add a single new row or multiple rows of data to the table. Please note
		 * that this is suitable for client-side processing only - if you are using
		 * server-side processing (i.e. "bServerSide": true), then to add data, you
		 * must add it to the data source, i.e. the server-side, through an Ajax call.
		 *  @param {array|object} data The data to be added to the table. This can be:
		 *    <ul>
		 *      <li>1D array of data - add a single row with the data provided</li>
		 *      <li>2D array of arrays - add multiple rows in a single call</li>
		 *      <li>object - data object when using <i>mData</i></li>
		 *      <li>array of objects - multiple data objects when using <i>mData</i></li>
		 *    </ul>
		 *  @param {bool} [redraw=true] redraw the table or not
		 *  @returns {array} An array of integers, representing the list of indexes in
		 *    <i>aoData</i> ({@link DataTable.models.oSettings}) that have been added to
		 *    the table.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    // Global var for counter
		 *    var giCount = 2;
		 *
		 *    $(document).ready(function() {
		 *      $('#example').dataTable();
		 *    } );
		 *
		 *    function fnClickAddRow() {
		 *      $('#example').dataTable().fnAddData( [
		 *        giCount+".1",
		 *        giCount+".2",
		 *        giCount+".3",
		 *        giCount+".4" ]
		 *      );
		 *
		 *      giCount++;
		 *    }
		 */
		this.fnAddData = function( data, redraw )
		{
			var api = this.api( true );
		
			/* Check if we want to add multiple rows or not */
			var rows = $.isArray(data) && ( $.isArray(data[0]) || $.isPlainObject(data[0]) ) ?
				api.rows.add( data ) :
				api.row.add( data );
		
			if ( redraw === undefined || redraw ) {
				api.draw();
			}
		
			return rows.flatten().toArray();
		};
		
		
		/**
		 * This function will make DataTables recalculate the column sizes, based on the data
		 * contained in the table and the sizes applied to the columns (in the DOM, CSS or
		 * through the sWidth parameter). This can be useful when the width of the table's
		 * parent element changes (for example a window resize).
		 *  @param {boolean} [bRedraw=true] Redraw the table or not, you will typically want to
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable( {
		 *        "sScrollY": "200px",
		 *        "bPaginate": false
		 *      } );
		 *
		 *      $(window).bind('resize', function () {
		 *        oTable.fnAdjustColumnSizing();
		 *      } );
		 *    } );
		 */
		this.fnAdjustColumnSizing = function ( bRedraw )
		{
			var api = this.api( true ).columns.adjust();
			var settings = api.settings()[0];
			var scroll = settings.oScroll;
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw( false );
			}
			else if ( scroll.sX !== "" || scroll.sY !== "" ) {
				/* If not redrawing, but scrolling, we want to apply the new column sizes anyway */
				_fnScrollDraw( settings );
			}
		};
		
		
		/**
		 * Quickly and simply clear a table
		 *  @param {bool} [bRedraw=true] redraw the table or not
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Immediately 'nuke' the current rows (perhaps waiting for an Ajax callback...)
		 *      oTable.fnClearTable();
		 *    } );
		 */
		this.fnClearTable = function( bRedraw )
		{
			var api = this.api( true ).clear();
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw();
			}
		};
		
		
		/**
		 * The exact opposite of 'opening' a row, this function will close any rows which
		 * are currently 'open'.
		 *  @param {node} nTr the table row to 'close'
		 *  @returns {int} 0 on success, or 1 if failed (can't find the row)
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable;
		 *
		 *      // 'open' an information row when a row is clicked on
		 *      $('#example tbody tr').click( function () {
		 *        if ( oTable.fnIsOpen(this) ) {
		 *          oTable.fnClose( this );
		 *        } else {
		 *          oTable.fnOpen( this, "Temporary row opened", "info_row" );
		 *        }
		 *      } );
		 *
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnClose = function( nTr )
		{
			this.api( true ).row( nTr ).child.hide();
		};
		
		
		/**
		 * Remove a row for the table
		 *  @param {mixed} target The index of the row from aoData to be deleted, or
		 *    the TR element you want to delete
		 *  @param {function|null} [callBack] Callback function
		 *  @param {bool} [redraw=true] Redraw the table or not
		 *  @returns {array} The row that was deleted
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Immediately remove the first row
		 *      oTable.fnDeleteRow( 0 );
		 *    } );
		 */
		this.fnDeleteRow = function( target, callback, redraw )
		{
			var api = this.api( true );
			var rows = api.rows( target );
			var settings = rows.settings()[0];
			var data = settings.aoData[ rows[0][0] ];
		
			rows.remove();
		
			if ( callback ) {
				callback.call( this, settings, data );
			}
		
			if ( redraw === undefined || redraw ) {
				api.draw();
			}
		
			return data;
		};
		
		
		/**
		 * Restore the table to it's original state in the DOM by removing all of DataTables
		 * enhancements, alterations to the DOM structure of the table and event listeners.
		 *  @param {boolean} [remove=false] Completely remove the table from the DOM
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      // This example is fairly pointless in reality, but shows how fnDestroy can be used
		 *      var oTable = $('#example').dataTable();
		 *      oTable.fnDestroy();
		 *    } );
		 */
		this.fnDestroy = function ( remove )
		{
			this.api( true ).destroy( remove );
		};
		
		
		/**
		 * Redraw the table
		 *  @param {bool} [complete=true] Re-filter and resort (if enabled) the table before the draw.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Re-draw the table - you wouldn't want to do it here, but it's an example :-)
		 *      oTable.fnDraw();
		 *    } );
		 */
		this.fnDraw = function( complete )
		{
			// Note that this isn't an exact match to the old call to _fnDraw - it takes
			// into account the new data, but can hold position.
			this.api( true ).draw( complete );
		};
		
		
		/**
		 * Filter the input based on data
		 *  @param {string} sInput String to filter the table on
		 *  @param {int|null} [iColumn] Column to limit filtering to
		 *  @param {bool} [bRegex=false] Treat as regular expression or not
		 *  @param {bool} [bSmart=true] Perform smart filtering or not
		 *  @param {bool} [bShowGlobal=true] Show the input global filter in it's input box(es)
		 *  @param {bool} [bCaseInsensitive=true] Do case-insensitive matching (true) or not (false)
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Sometime later - filter...
		 *      oTable.fnFilter( 'test string' );
		 *    } );
		 */
		this.fnFilter = function( sInput, iColumn, bRegex, bSmart, bShowGlobal, bCaseInsensitive )
		{
			var api = this.api( true );
		
			if ( iColumn === null || iColumn === undefined ) {
				api.search( sInput, bRegex, bSmart, bCaseInsensitive );
			}
			else {
				api.column( iColumn ).search( sInput, bRegex, bSmart, bCaseInsensitive );
			}
		
			api.draw();
		};
		
		
		/**
		 * Get the data for the whole table, an individual row or an individual cell based on the
		 * provided parameters.
		 *  @param {int|node} [src] A TR row node, TD/TH cell node or an integer. If given as
		 *    a TR node then the data source for the whole row will be returned. If given as a
		 *    TD/TH cell node then iCol will be automatically calculated and the data for the
		 *    cell returned. If given as an integer, then this is treated as the aoData internal
		 *    data index for the row (see fnGetPosition) and the data for that row used.
		 *  @param {int} [col] Optional column index that you want the data of.
		 *  @returns {array|object|string} If mRow is undefined, then the data for all rows is
		 *    returned. If mRow is defined, just data for that row, and is iCol is
		 *    defined, only data for the designated cell is returned.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    // Row data
		 *    $(document).ready(function() {
		 *      oTable = $('#example').dataTable();
		 *
		 *      oTable.$('tr').click( function () {
		 *        var data = oTable.fnGetData( this );
		 *        // ... do something with the array / object of data for the row
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Individual cell data
		 *    $(document).ready(function() {
		 *      oTable = $('#example').dataTable();
		 *
		 *      oTable.$('td').click( function () {
		 *        var sData = oTable.fnGetData( this );
		 *        alert( 'The cell clicked on had the value of '+sData );
		 *      } );
		 *    } );
		 */
		this.fnGetData = function( src, col )
		{
			var api = this.api( true );
		
			if ( src !== undefined ) {
				var type = src.nodeName ? src.nodeName.toLowerCase() : '';
		
				return col !== undefined || type == 'td' || type == 'th' ?
					api.cell( src, col ).data() :
					api.row( src ).data() || null;
			}
		
			return api.data().toArray();
		};
		
		
		/**
		 * Get an array of the TR nodes that are used in the table's body. Note that you will
		 * typically want to use the '$' API method in preference to this as it is more
		 * flexible.
		 *  @param {int} [iRow] Optional row index for the TR element you want
		 *  @returns {array|node} If iRow is undefined, returns an array of all TR elements
		 *    in the table's body, or iRow is defined, just the TR element requested.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Get the nodes from the table
		 *      var nNodes = oTable.fnGetNodes( );
		 *    } );
		 */
		this.fnGetNodes = function( iRow )
		{
			var api = this.api( true );
		
			return iRow !== undefined ?
				api.row( iRow ).node() :
				api.rows().nodes().flatten().toArray();
		};
		
		
		/**
		 * Get the array indexes of a particular cell from it's DOM element
		 * and column index including hidden columns
		 *  @param {node} node this can either be a TR, TD or TH in the table's body
		 *  @returns {int} If nNode is given as a TR, then a single index is returned, or
		 *    if given as a cell, an array of [row index, column index (visible),
		 *    column index (all)] is given.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      $('#example tbody td').click( function () {
		 *        // Get the position of the current data from the node
		 *        var aPos = oTable.fnGetPosition( this );
		 *
		 *        // Get the data array for this row
		 *        var aData = oTable.fnGetData( aPos[0] );
		 *
		 *        // Update the data array and return the value
		 *        aData[ aPos[1] ] = 'clicked';
		 *        this.innerHTML = 'clicked';
		 *      } );
		 *
		 *      // Init DataTables
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnGetPosition = function( node )
		{
			var api = this.api( true );
			var nodeName = node.nodeName.toUpperCase();
		
			if ( nodeName == 'TR' ) {
				return api.row( node ).index();
			}
			else if ( nodeName == 'TD' || nodeName == 'TH' ) {
				var cell = api.cell( node ).index();
		
				return [
					cell.row,
					cell.columnVisible,
					cell.column
				];
			}
			return null;
		};
		
		
		/**
		 * Check to see if a row is 'open' or not.
		 *  @param {node} nTr the table row to check
		 *  @returns {boolean} true if the row is currently open, false otherwise
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable;
		 *
		 *      // 'open' an information row when a row is clicked on
		 *      $('#example tbody tr').click( function () {
		 *        if ( oTable.fnIsOpen(this) ) {
		 *          oTable.fnClose( this );
		 *        } else {
		 *          oTable.fnOpen( this, "Temporary row opened", "info_row" );
		 *        }
		 *      } );
		 *
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnIsOpen = function( nTr )
		{
			return this.api( true ).row( nTr ).child.isShown();
		};
		
		
		/**
		 * This function will place a new row directly after a row which is currently
		 * on display on the page, with the HTML contents that is passed into the
		 * function. This can be used, for example, to ask for confirmation that a
		 * particular record should be deleted.
		 *  @param {node} nTr The table row to 'open'
		 *  @param {string|node|jQuery} mHtml The HTML to put into the row
		 *  @param {string} sClass Class to give the new TD cell
		 *  @returns {node} The row opened. Note that if the table row passed in as the
		 *    first parameter, is not found in the table, this method will silently
		 *    return.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable;
		 *
		 *      // 'open' an information row when a row is clicked on
		 *      $('#example tbody tr').click( function () {
		 *        if ( oTable.fnIsOpen(this) ) {
		 *          oTable.fnClose( this );
		 *        } else {
		 *          oTable.fnOpen( this, "Temporary row opened", "info_row" );
		 *        }
		 *      } );
		 *
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnOpen = function( nTr, mHtml, sClass )
		{
			return this.api( true )
				.row( nTr )
				.child( mHtml, sClass )
				.show()
				.child()[0];
		};
		
		
		/**
		 * Change the pagination - provides the internal logic for pagination in a simple API
		 * function. With this function you can have a DataTables table go to the next,
		 * previous, first or last pages.
		 *  @param {string|int} mAction Paging action to take: "first", "previous", "next" or "last"
		 *    or page number to jump to (integer), note that page 0 is the first page.
		 *  @param {bool} [bRedraw=true] Redraw the table or not
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      oTable.fnPageChange( 'next' );
		 *    } );
		 */
		this.fnPageChange = function ( mAction, bRedraw )
		{
			var api = this.api( true ).page( mAction );
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw(false);
			}
		};
		
		
		/**
		 * Show a particular column
		 *  @param {int} iCol The column whose display should be changed
		 *  @param {bool} bShow Show (true) or hide (false) the column
		 *  @param {bool} [bRedraw=true] Redraw the table or not
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Hide the second column after initialisation
		 *      oTable.fnSetColumnVis( 1, false );
		 *    } );
		 */
		this.fnSetColumnVis = function ( iCol, bShow, bRedraw )
		{
			var api = this.api( true ).column( iCol ).visible( bShow );
		
			if ( bRedraw === undefined || bRedraw ) {
				api.columns.adjust().draw();
			}
		};
		
		
		/**
		 * Get the settings for a particular table for external manipulation
		 *  @returns {object} DataTables settings object. See
		 *    {@link DataTable.models.oSettings}
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      var oSettings = oTable.fnSettings();
		 *
		 *      // Show an example parameter from the settings
		 *      alert( oSettings._iDisplayStart );
		 *    } );
		 */
		this.fnSettings = function()
		{
			return _fnSettingsFromNode( this[_ext.iApiIndex] );
		};
		
		
		/**
		 * Sort the table by a particular column
		 *  @param {int} iCol the data index to sort on. Note that this will not match the
		 *    'display index' if you have hidden data entries
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Sort immediately with columns 0 and 1
		 *      oTable.fnSort( [ [0,'asc'], [1,'asc'] ] );
		 *    } );
		 */
		this.fnSort = function( aaSort )
		{
			this.api( true ).order( aaSort ).draw();
		};
		
		
		/**
		 * Attach a sort listener to an element for a given column
		 *  @param {node} nNode the element to attach the sort listener to
		 *  @param {int} iColumn the column that a click on this node will sort on
		 *  @param {function} [fnCallback] callback function when sort is run
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Sort on column 1, when 'sorter' is clicked on
		 *      oTable.fnSortListener( document.getElementById('sorter'), 1 );
		 *    } );
		 */
		this.fnSortListener = function( nNode, iColumn, fnCallback )
		{
			this.api( true ).order.listener( nNode, iColumn, fnCallback );
		};
		
		
		/**
		 * Update a table cell or row - this method will accept either a single value to
		 * update the cell with, an array of values with one element for each column or
		 * an object in the same format as the original data source. The function is
		 * self-referencing in order to make the multi column updates easier.
		 *  @param {object|array|string} mData Data to update the cell/row with
		 *  @param {node|int} mRow TR element you want to update or the aoData index
		 *  @param {int} [iColumn] The column to update, give as null or undefined to
		 *    update a whole row.
		 *  @param {bool} [bRedraw=true] Redraw the table or not
		 *  @param {bool} [bAction=true] Perform pre-draw actions or not
		 *  @returns {int} 0 on success, 1 on error
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      oTable.fnUpdate( 'Example update', 0, 0 ); // Single cell
		 *      oTable.fnUpdate( ['a', 'b', 'c', 'd', 'e'], $('tbody tr')[0] ); // Row
		 *    } );
		 */
		this.fnUpdate = function( mData, mRow, iColumn, bRedraw, bAction )
		{
			var api = this.api( true );
		
			if ( iColumn === undefined || iColumn === null ) {
				api.row( mRow ).data( mData );
			}
			else {
				api.cell( mRow, iColumn ).data( mData );
			}
		
			if ( bAction === undefined || bAction ) {
				api.columns.adjust();
			}
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw();
			}
			return 0;
		};
		
		
		/**
		 * Provide a common method for plug-ins to check the version of DataTables being used, in order
		 * to ensure compatibility.
		 *  @param {string} sVersion Version string to check for, in the format "X.Y.Z". Note that the
		 *    formats "X" and "X.Y" are also acceptable.
		 *  @returns {boolean} true if this version of DataTables is greater or equal to the required
		 *    version, or false if this version of DataTales is not suitable
		 *  @method
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      alert( oTable.fnVersionCheck( '1.9.0' ) );
		 *    } );
		 */
		this.fnVersionCheck = _ext.fnVersionCheck;
		

		var _that = this;
		var emptyInit = options === undefined;
		var len = this.length;

		if ( emptyInit ) {
			options = {};
		}

		this.oApi = this.internal = _ext.internal;

		// Extend with old style plug-in API methods
		for ( var fn in DataTable.ext.internal ) {
			if ( fn ) {
				this[fn] = _fnExternApiFunc(fn);
			}
		}

		this.each(function() {
			// For each initialisation we want to give it a clean initialisation
			// object that can be bashed around
			var o = {};
			var oInit = len > 1 ? // optimisation for single table case
				_fnExtend( o, options, true ) :
				options;

			/*global oInit,_that,emptyInit*/
			var i=0, iLen, j, jLen, k, kLen;
			var sId = this.getAttribute( 'id' );
			var bInitHandedOff = false;
			var defaults = DataTable.defaults;
			var $this = $(this);
			
			
			/* Sanity check */
			if ( this.nodeName.toLowerCase() != 'table' )
			{
				_fnLog( null, 0, 'Non-table node initialisation ('+this.nodeName+')', 2 );
				return;
			}
			
			/* Backwards compatibility for the defaults */
			_fnCompatOpts( defaults );
			_fnCompatCols( defaults.column );
			
			/* Convert the camel-case defaults to Hungarian */
			_fnCamelToHungarian( defaults, defaults, true );
			_fnCamelToHungarian( defaults.column, defaults.column, true );
			
			/* Setting up the initialisation object */
			_fnCamelToHungarian( defaults, $.extend( oInit, $this.data() ) );
			
			
			
			/* Check to see if we are re-initialising a table */
			var allSettings = DataTable.settings;
			for ( i=0, iLen=allSettings.length ; i<iLen ; i++ )
			{
				var s = allSettings[i];
			
				/* Base check on table node */
				if ( s.nTable == this || s.nTHead.parentNode == this || (s.nTFoot && s.nTFoot.parentNode == this) )
				{
					var bRetrieve = oInit.bRetrieve !== undefined ? oInit.bRetrieve : defaults.bRetrieve;
					var bDestroy = oInit.bDestroy !== undefined ? oInit.bDestroy : defaults.bDestroy;
			
					if ( emptyInit || bRetrieve )
					{
						return s.oInstance;
					}
					else if ( bDestroy )
					{
						s.oInstance.fnDestroy();
						break;
					}
					else
					{
						_fnLog( s, 0, 'Cannot reinitialise DataTable', 3 );
						return;
					}
				}
			
				/* If the element we are initialising has the same ID as a table which was previously
				 * initialised, but the table nodes don't match (from before) then we destroy the old
				 * instance by simply deleting it. This is under the assumption that the table has been
				 * destroyed by other methods. Anyone using non-id selectors will need to do this manually
				 */
				if ( s.sTableId == this.id )
				{
					allSettings.splice( i, 1 );
					break;
				}
			}
			
			/* Ensure the table has an ID - required for accessibility */
			if ( sId === null || sId === "" )
			{
				sId = "DataTables_Table_"+(DataTable.ext._unique++);
				this.id = sId;
			}
			
			/* Create the settings object for this table and set some of the default parameters */
			var oSettings = $.extend( true, {}, DataTable.models.oSettings, {
				"sDestroyWidth": $this[0].style.width,
				"sInstance":     sId,
				"sTableId":      sId
			} );
			oSettings.nTable = this;
			oSettings.oApi   = _that.internal;
			oSettings.oInit  = oInit;
			
			allSettings.push( oSettings );
			
			// Need to add the instance after the instance after the settings object has been added
			// to the settings array, so we can self reference the table instance if more than one
			oSettings.oInstance = (_that.length===1) ? _that : $this.dataTable();
			
			// Backwards compatibility, before we apply all the defaults
			_fnCompatOpts( oInit );
			
			if ( oInit.oLanguage )
			{
				_fnLanguageCompat( oInit.oLanguage );
			}
			
			// If the length menu is given, but the init display length is not, use the length menu
			if ( oInit.aLengthMenu && ! oInit.iDisplayLength )
			{
				oInit.iDisplayLength = $.isArray( oInit.aLengthMenu[0] ) ?
					oInit.aLengthMenu[0][0] : oInit.aLengthMenu[0];
			}
			
			// Apply the defaults and init options to make a single init object will all
			// options defined from defaults and instance options.
			oInit = _fnExtend( $.extend( true, {}, defaults ), oInit );
			
			
			// Map the initialisation options onto the settings object
			_fnMap( oSettings.oFeatures, oInit, [
				"bPaginate",
				"bLengthChange",
				"bFilter",
				"bSort",
				"bSortMulti",
				"bInfo",
				"bProcessing",
				"bAutoWidth",
				"bSortClasses",
				"bServerSide",
				"bDeferRender"
			] );
			_fnMap( oSettings, oInit, [
				"asStripeClasses",
				"ajax",
				"fnServerData",
				"fnFormatNumber",
				"sServerMethod",
				"aaSorting",
				"aaSortingFixed",
				"aLengthMenu",
				"sPaginationType",
				"sAjaxSource",
				"sAjaxDataProp",
				"iStateDuration",
				"sDom",
				"bSortCellsTop",
				"iTabIndex",
				"fnStateLoadCallback",
				"fnStateSaveCallback",
				"renderer",
				"searchDelay",
				"rowId",
				[ "iCookieDuration", "iStateDuration" ], // backwards compat
				[ "oSearch", "oPreviousSearch" ],
				[ "aoSearchCols", "aoPreSearchCols" ],
				[ "iDisplayLength", "_iDisplayLength" ],
				[ "bJQueryUI", "bJUI" ]
			] );
			_fnMap( oSettings.oScroll, oInit, [
				[ "sScrollX", "sX" ],
				[ "sScrollXInner", "sXInner" ],
				[ "sScrollY", "sY" ],
				[ "bScrollCollapse", "bCollapse" ]
			] );
			_fnMap( oSettings.oLanguage, oInit, "fnInfoCallback" );
			
			/* Callback functions which are array driven */
			_fnCallbackReg( oSettings, 'aoDrawCallback',       oInit.fnDrawCallback,      'user' );
			_fnCallbackReg( oSettings, 'aoServerParams',       oInit.fnServerParams,      'user' );
			_fnCallbackReg( oSettings, 'aoStateSaveParams',    oInit.fnStateSaveParams,   'user' );
			_fnCallbackReg( oSettings, 'aoStateLoadParams',    oInit.fnStateLoadParams,   'user' );
			_fnCallbackReg( oSettings, 'aoStateLoaded',        oInit.fnStateLoaded,       'user' );
			_fnCallbackReg( oSettings, 'aoRowCallback',        oInit.fnRowCallback,       'user' );
			_fnCallbackReg( oSettings, 'aoRowCreatedCallback', oInit.fnCreatedRow,        'user' );
			_fnCallbackReg( oSettings, 'aoHeaderCallback',     oInit.fnHeaderCallback,    'user' );
			_fnCallbackReg( oSettings, 'aoFooterCallback',     oInit.fnFooterCallback,    'user' );
			_fnCallbackReg( oSettings, 'aoInitComplete',       oInit.fnInitComplete,      'user' );
			_fnCallbackReg( oSettings, 'aoPreDrawCallback',    oInit.fnPreDrawCallback,   'user' );
			
			oSettings.rowIdFn = _fnGetObjectDataFn( oInit.rowId );
			
			/* Browser support detection */
			_fnBrowserDetect( oSettings );
			
			var oClasses = oSettings.oClasses;
			
			// @todo Remove in 1.11
			if ( oInit.bJQueryUI )
			{
				/* Use the JUI classes object for display. You could clone the oStdClasses object if
				 * you want to have multiple tables with multiple independent classes
				 */
				$.extend( oClasses, DataTable.ext.oJUIClasses, oInit.oClasses );
			
				if ( oInit.sDom === defaults.sDom && defaults.sDom === "lfrtip" )
				{
					/* Set the DOM to use a layout suitable for jQuery UI's theming */
					oSettings.sDom = '<"H"lfr>t<"F"ip>';
				}
			
				if ( ! oSettings.renderer ) {
					oSettings.renderer = 'jqueryui';
				}
				else if ( $.isPlainObject( oSettings.renderer ) && ! oSettings.renderer.header ) {
					oSettings.renderer.header = 'jqueryui';
				}
			}
			else
			{
				$.extend( oClasses, DataTable.ext.classes, oInit.oClasses );
			}
			$this.addClass( oClasses.sTable );
			
			
			if ( oSettings.iInitDisplayStart === undefined )
			{
				/* Display start point, taking into account the save saving */
				oSettings.iInitDisplayStart = oInit.iDisplayStart;
				oSettings._iDisplayStart = oInit.iDisplayStart;
			}
			
			if ( oInit.iDeferLoading !== null )
			{
				oSettings.bDeferLoading = true;
				var tmp = $.isArray( oInit.iDeferLoading );
				oSettings._iRecordsDisplay = tmp ? oInit.iDeferLoading[0] : oInit.iDeferLoading;
				oSettings._iRecordsTotal = tmp ? oInit.iDeferLoading[1] : oInit.iDeferLoading;
			}
			
			/* Language definitions */
			var oLanguage = oSettings.oLanguage;
			$.extend( true, oLanguage, oInit.oLanguage );
			
			if ( oLanguage.sUrl !== "" )
			{
				/* Get the language definitions from a file - because this Ajax call makes the language
				 * get async to the remainder of this function we use bInitHandedOff to indicate that
				 * _fnInitialise will be fired by the returned Ajax handler, rather than the constructor
				 */
				$.ajax( {
					dataType: 'json',
					url: oLanguage.sUrl,
					success: function ( json ) {
						_fnLanguageCompat( json );
						_fnCamelToHungarian( defaults.oLanguage, json );
						$.extend( true, oLanguage, json );
						_fnInitialise( oSettings );
					},
					error: function () {
						// Error occurred loading language file, continue on as best we can
						_fnInitialise( oSettings );
					}
				} );
				bInitHandedOff = true;
			}
			
			/*
			 * Stripes
			 */
			if ( oInit.asStripeClasses === null )
			{
				oSettings.asStripeClasses =[
					oClasses.sStripeOdd,
					oClasses.sStripeEven
				];
			}
			
			/* Remove row stripe classes if they are already on the table row */
			var stripeClasses = oSettings.asStripeClasses;
			var rowOne = $this.children('tbody').find('tr').eq(0);
			if ( $.inArray( true, $.map( stripeClasses, function(el, i) {
				return rowOne.hasClass(el);
			} ) ) !== -1 ) {
				$('tbody tr', this).removeClass( stripeClasses.join(' ') );
				oSettings.asDestroyStripes = stripeClasses.slice();
			}
			
			/*
			 * Columns
			 * See if we should load columns automatically or use defined ones
			 */
			var anThs = [];
			var aoColumnsInit;
			var nThead = this.getElementsByTagName('thead');
			if ( nThead.length !== 0 )
			{
				_fnDetectHeader( oSettings.aoHeader, nThead[0] );
				anThs = _fnGetUniqueThs( oSettings );
			}
			
			/* If not given a column array, generate one with nulls */
			if ( oInit.aoColumns === null )
			{
				aoColumnsInit = [];
				for ( i=0, iLen=anThs.length ; i<iLen ; i++ )
				{
					aoColumnsInit.push( null );
				}
			}
			else
			{
				aoColumnsInit = oInit.aoColumns;
			}
			
			/* Add the columns */
			for ( i=0, iLen=aoColumnsInit.length ; i<iLen ; i++ )
			{
				_fnAddColumn( oSettings, anThs ? anThs[i] : null );
			}
			
			/* Apply the column definitions */
			_fnApplyColumnDefs( oSettings, oInit.aoColumnDefs, aoColumnsInit, function (iCol, oDef) {
				_fnColumnOptions( oSettings, iCol, oDef );
			} );
			
			/* HTML5 attribute detection - build an mData object automatically if the
			 * attributes are found
			 */
			if ( rowOne.length ) {
				var a = function ( cell, name ) {
					return cell.getAttribute( 'data-'+name ) !== null ? name : null;
				};
			
				$( rowOne[0] ).children('th, td').each( function (i, cell) {
					var col = oSettings.aoColumns[i];
			
					if ( col.mData === i ) {
						var sort = a( cell, 'sort' ) || a( cell, 'order' );
						var filter = a( cell, 'filter' ) || a( cell, 'search' );
			
						if ( sort !== null || filter !== null ) {
							col.mData = {
								_:      i+'.display',
								sort:   sort !== null   ? i+'.@data-'+sort   : undefined,
								type:   sort !== null   ? i+'.@data-'+sort   : undefined,
								filter: filter !== null ? i+'.@data-'+filter : undefined
							};
			
							_fnColumnOptions( oSettings, i );
						}
					}
				} );
			}
			
			var features = oSettings.oFeatures;
			
			/* Must be done after everything which can be overridden by the state saving! */
			if ( oInit.bStateSave )
			{
				features.bStateSave = true;
				_fnLoadState( oSettings, oInit );
				_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSaveState, 'state_save' );
			}
			
			
			/*
			 * Sorting
			 * @todo For modularisation (1.11) this needs to do into a sort start up handler
			 */
			
			// If aaSorting is not defined, then we use the first indicator in asSorting
			// in case that has been altered, so the default sort reflects that option
			if ( oInit.aaSorting === undefined )
			{
				var sorting = oSettings.aaSorting;
				for ( i=0, iLen=sorting.length ; i<iLen ; i++ )
				{
					sorting[i][1] = oSettings.aoColumns[ i ].asSorting[0];
				}
			}
			
			/* Do a first pass on the sorting classes (allows any size changes to be taken into
			 * account, and also will apply sorting disabled classes if disabled
			 */
			_fnSortingClasses( oSettings );
			
			if ( features.bSort )
			{
				_fnCallbackReg( oSettings, 'aoDrawCallback', function () {
					if ( oSettings.bSorted ) {
						var aSort = _fnSortFlatten( oSettings );
						var sortedColumns = {};
			
						$.each( aSort, function (i, val) {
							sortedColumns[ val.src ] = val.dir;
						} );
			
						_fnCallbackFire( oSettings, null, 'order', [oSettings, aSort, sortedColumns] );
						_fnSortAria( oSettings );
					}
				} );
			}
			
			_fnCallbackReg( oSettings, 'aoDrawCallback', function () {
				if ( oSettings.bSorted || _fnDataSource( oSettings ) === 'ssp' || features.bDeferRender ) {
					_fnSortingClasses( oSettings );
				}
			}, 'sc' );
			
			
			/*
			 * Final init
			 * Cache the header, body and footer as required, creating them if needed
			 */
			
			// Work around for Webkit bug 83867 - store the caption-side before removing from doc
			var captions = $this.children('caption').each( function () {
				this._captionSide = $this.css('caption-side');
			} );
			
			var thead = $this.children('thead');
			if ( thead.length === 0 )
			{
				thead = $('<thead/>').appendTo(this);
			}
			oSettings.nTHead = thead[0];
			
			var tbody = $this.children('tbody');
			if ( tbody.length === 0 )
			{
				tbody = $('<tbody/>').appendTo(this);
			}
			oSettings.nTBody = tbody[0];
			
			var tfoot = $this.children('tfoot');
			if ( tfoot.length === 0 && captions.length > 0 && (oSettings.oScroll.sX !== "" || oSettings.oScroll.sY !== "") )
			{
				// If we are a scrolling table, and no footer has been given, then we need to create
				// a tfoot element for the caption element to be appended to
				tfoot = $('<tfoot/>').appendTo(this);
			}
			
			if ( tfoot.length === 0 || tfoot.children().length === 0 ) {
				$this.addClass( oClasses.sNoFooter );
			}
			else if ( tfoot.length > 0 ) {
				oSettings.nTFoot = tfoot[0];
				_fnDetectHeader( oSettings.aoFooter, oSettings.nTFoot );
			}
			
			/* Check if there is data passing into the constructor */
			if ( oInit.aaData )
			{
				for ( i=0 ; i<oInit.aaData.length ; i++ )
				{
					_fnAddData( oSettings, oInit.aaData[ i ] );
				}
			}
			else if ( oSettings.bDeferLoading || _fnDataSource( oSettings ) == 'dom' )
			{
				/* Grab the data from the page - only do this when deferred loading or no Ajax
				 * source since there is no point in reading the DOM data if we are then going
				 * to replace it with Ajax data
				 */
				_fnAddTr( oSettings, $(oSettings.nTBody).children('tr') );
			}
			
			/* Copy the data index array */
			oSettings.aiDisplay = oSettings.aiDisplayMaster.slice();
			
			/* Initialisation complete - table can be drawn */
			oSettings.bInitialised = true;
			
			/* Check if we need to initialise the table (it might not have been handed off to the
			 * language processor)
			 */
			if ( bInitHandedOff === false )
			{
				_fnInitialise( oSettings );
			}
		} );
		_that = null;
		return this;
	};

	
	/*
	 * It is useful to have variables which are scoped locally so only the
	 * DataTables functions can access them and they don't leak into global space.
	 * At the same time these functions are often useful over multiple files in the
	 * core and API, so we list, or at least document, all variables which are used
	 * by DataTables as private variables here. This also ensures that there is no
	 * clashing of variable names and that they can easily referenced for reuse.
	 */
	
	
	// Defined else where
	//  _selector_run
	//  _selector_opts
	//  _selector_first
	//  _selector_row_indexes
	
	var _ext; // DataTable.ext
	var _Api; // DataTable.Api
	var _api_register; // DataTable.Api.register
	var _api_registerPlural; // DataTable.Api.registerPlural
	
	var _re_dic = {};
	var _re_new_lines = /[\r\n]/g;
	var _re_html = /<.*?>/g;
	var _re_date_start = /^[\w\+\-]/;
	var _re_date_end = /[\w\+\-]$/;
	
	// Escape regular expression special characters
	var _re_escape_regex = new RegExp( '(\\' + [ '/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\', '$', '^', '-' ].join('|\\') + ')', 'g' );
	
	// http://en.wikipedia.org/wiki/Foreign_exchange_market
	// - \u20BD - Russian ruble.
	// - \u20a9 - South Korean Won
	// - \u20BA - Turkish Lira
	// - \u20B9 - Indian Rupee
	// - R - Brazil (R$) and South Africa
	// - fr - Swiss Franc
	// - kr - Swedish krona, Norwegian krone and Danish krone
	// - \u2009 is thin space and \u202F is narrow no-break space, both used in many
	//   standards as thousands separators.
	var _re_formatted_numeric = /[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi;
	
	
	var _empty = function ( d ) {
		return !d || d === true || d === '-' ? true : false;
	};
	
	
	var _intVal = function ( s ) {
		var integer = parseInt( s, 10 );
		return !isNaN(integer) && isFinite(s) ? integer : null;
	};
	
	// Convert from a formatted number with characters other than `.` as the
	// decimal place, to a Javascript number
	var _numToDecimal = function ( num, decimalPoint ) {
		// Cache created regular expressions for speed as this function is called often
		if ( ! _re_dic[ decimalPoint ] ) {
			_re_dic[ decimalPoint ] = new RegExp( _fnEscapeRegex( decimalPoint ), 'g' );
		}
		return typeof num === 'string' && decimalPoint !== '.' ?
			num.replace( /\./g, '' ).replace( _re_dic[ decimalPoint ], '.' ) :
			num;
	};
	
	
	var _isNumber = function ( d, decimalPoint, formatted ) {
		var strType = typeof d === 'string';
	
		// If empty return immediately so there must be a number if it is a
		// formatted string (this stops the string "k", or "kr", etc being detected
		// as a formatted number for currency
		if ( _empty( d ) ) {
			return true;
		}
	
		if ( decimalPoint && strType ) {
			d = _numToDecimal( d, decimalPoint );
		}
	
		if ( formatted && strType ) {
			d = d.replace( _re_formatted_numeric, '' );
		}
	
		return !isNaN( parseFloat(d) ) && isFinite( d );
	};
	
	
	// A string without HTML in it can be considered to be HTML still
	var _isHtml = function ( d ) {
		return _empty( d ) || typeof d === 'string';
	};
	
	
	var _htmlNumeric = function ( d, decimalPoint, formatted ) {
		if ( _empty( d ) ) {
			return true;
		}
	
		var html = _isHtml( d );
		return ! html ?
			null :
			_isNumber( _stripHtml( d ), decimalPoint, formatted ) ?
				true :
				null;
	};
	
	
	var _pluck = function ( a, prop, prop2 ) {
		var out = [];
		var i=0, ien=a.length;
	
		// Could have the test in the loop for slightly smaller code, but speed
		// is essential here
		if ( prop2 !== undefined ) {
			for ( ; i<ien ; i++ ) {
				if ( a[i] && a[i][ prop ] ) {
					out.push( a[i][ prop ][ prop2 ] );
				}
			}
		}
		else {
			for ( ; i<ien ; i++ ) {
				if ( a[i] ) {
					out.push( a[i][ prop ] );
				}
			}
		}
	
		return out;
	};
	
	
	// Basically the same as _pluck, but rather than looping over `a` we use `order`
	// as the indexes to pick from `a`
	var _pluck_order = function ( a, order, prop, prop2 )
	{
		var out = [];
		var i=0, ien=order.length;
	
		// Could have the test in the loop for slightly smaller code, but speed
		// is essential here
		if ( prop2 !== undefined ) {
			for ( ; i<ien ; i++ ) {
				if ( a[ order[i] ][ prop ] ) {
					out.push( a[ order[i] ][ prop ][ prop2 ] );
				}
			}
		}
		else {
			for ( ; i<ien ; i++ ) {
				out.push( a[ order[i] ][ prop ] );
			}
		}
	
		return out;
	};
	
	
	var _range = function ( len, start )
	{
		var out = [];
		var end;
	
		if ( start === undefined ) {
			start = 0;
			end = len;
		}
		else {
			end = start;
			start = len;
		}
	
		for ( var i=start ; i<end ; i++ ) {
			out.push( i );
		}
	
		return out;
	};
	
	
	var _removeEmpty = function ( a )
	{
		var out = [];
	
		for ( var i=0, ien=a.length ; i<ien ; i++ ) {
			if ( a[i] ) { // careful - will remove all falsy values!
				out.push( a[i] );
			}
		}
	
		return out;
	};
	
	
	var _stripHtml = function ( d ) {
		return d.replace( _re_html, '' );
	};
	
	
	/**
	 * Find the unique elements in a source array.
	 *
	 * @param  {array} src Source array
	 * @return {array} Array of unique items
	 * @ignore
	 */
	var _unique = function ( src )
	{
		// A faster unique method is to use object keys to identify used values,
		// but this doesn't work with arrays or objects, which we must also
		// consider. See jsperf.com/compare-array-unique-versions/4 for more
		// information.
		var
			out = [],
			val,
			i, ien=src.length,
			j, k=0;
	
		again: for ( i=0 ; i<ien ; i++ ) {
			val = src[i];
	
			for ( j=0 ; j<k ; j++ ) {
				if ( out[j] === val ) {
					continue again;
				}
			}
	
			out.push( val );
			k++;
		}
	
		return out;
	};
	
	
	/**
	 * DataTables utility methods
	 * 
	 * This namespace provides helper methods that DataTables uses internally to
	 * create a DataTable, but which are not exclusively used only for DataTables.
	 * These methods can be used by extension authors to save the duplication of
	 * code.
	 *
	 *  @namespace
	 */
	DataTable.util = {
		/**
		 * Throttle the calls to a function. Arguments and context are maintained
		 * for the throttled function.
		 *
		 * @param {function} fn Function to be called
		 * @param {integer} freq Call frequency in mS
		 * @return {function} Wrapped function
		 */
		throttle: function ( fn, freq ) {
			var
				frequency = freq !== undefined ? freq : 200,
				last,
				timer;
	
			return function () {
				var
					that = this,
					now  = +new Date(),
					args = arguments;
	
				if ( last && now < last + frequency ) {
					clearTimeout( timer );
	
					timer = setTimeout( function () {
						last = undefined;
						fn.apply( that, args );
					}, frequency );
				}
				else {
					last = now;
					fn.apply( that, args );
				}
			};
		},
	
	
		/**
		 * Escape a string such that it can be used in a regular expression
		 *
		 *  @param {string} val string to escape
		 *  @returns {string} escaped string
		 */
		escapeRegex: function ( val ) {
			return val.replace( _re_escape_regex, '\\$1' );
		}
	};
	
	
	
	/**
	 * Create a mapping object that allows camel case parameters to be looked up
	 * for their Hungarian counterparts. The mapping is stored in a private
	 * parameter called `_hungarianMap` which can be accessed on the source object.
	 *  @param {object} o
	 *  @memberof DataTable#oApi
	 */
	function _fnHungarianMap ( o )
	{
		var
			hungarian = 'a aa ai ao as b fn i m o s ',
			match,
			newKey,
			map = {};
	
		$.each( o, function (key, val) {
			match = key.match(/^([^A-Z]+?)([A-Z])/);
	
			if ( match && hungarian.indexOf(match[1]+' ') !== -1 )
			{
				newKey = key.replace( match[0], match[2].toLowerCase() );
				map[ newKey ] = key;
	
				if ( match[1] === 'o' )
				{
					_fnHungarianMap( o[key] );
				}
			}
		} );
	
		o._hungarianMap = map;
	}
	
	
	/**
	 * Convert from camel case parameters to Hungarian, based on a Hungarian map
	 * created by _fnHungarianMap.
	 *  @param {object} src The model object which holds all parameters that can be
	 *    mapped.
	 *  @param {object} user The object to convert from camel case to Hungarian.
	 *  @param {boolean} force When set to `true`, properties which already have a
	 *    Hungarian value in the `user` object will be overwritten. Otherwise they
	 *    won't be.
	 *  @memberof DataTable#oApi
	 */
	function _fnCamelToHungarian ( src, user, force )
	{
		if ( ! src._hungarianMap ) {
			_fnHungarianMap( src );
		}
	
		var hungarianKey;
	
		$.each( user, function (key, val) {
			hungarianKey = src._hungarianMap[ key ];
	
			if ( hungarianKey !== undefined && (force || user[hungarianKey] === undefined) )
			{
				// For objects, we need to buzz down into the object to copy parameters
				if ( hungarianKey.charAt(0) === 'o' )
				{
					// Copy the camelCase options over to the hungarian
					if ( ! user[ hungarianKey ] ) {
						user[ hungarianKey ] = {};
					}
					$.extend( true, user[hungarianKey], user[key] );
	
					_fnCamelToHungarian( src[hungarianKey], user[hungarianKey], force );
				}
				else {
					user[hungarianKey] = user[ key ];
				}
			}
		} );
	}
	
	
	/**
	 * Language compatibility - when certain options are given, and others aren't, we
	 * need to duplicate the values over, in order to provide backwards compatibility
	 * with older language files.
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnLanguageCompat( lang )
	{
		var defaults = DataTable.defaults.oLanguage;
		var zeroRecords = lang.sZeroRecords;
	
		/* Backwards compatibility - if there is no sEmptyTable given, then use the same as
		 * sZeroRecords - assuming that is given.
		 */
		if ( ! lang.sEmptyTable && zeroRecords &&
			defaults.sEmptyTable === "No data available in table" )
		{
			_fnMap( lang, lang, 'sZeroRecords', 'sEmptyTable' );
		}
	
		/* Likewise with loading records */
		if ( ! lang.sLoadingRecords && zeroRecords &&
			defaults.sLoadingRecords === "Loading..." )
		{
			_fnMap( lang, lang, 'sZeroRecords', 'sLoadingRecords' );
		}
	
		// Old parameter name of the thousands separator mapped onto the new
		if ( lang.sInfoThousands ) {
			lang.sThousands = lang.sInfoThousands;
		}
	
		var decimal = lang.sDecimal;
		if ( decimal ) {
			_addNumericSort( decimal );
		}
	}
	
	
	/**
	 * Map one parameter onto another
	 *  @param {object} o Object to map
	 *  @param {*} knew The new parameter name
	 *  @param {*} old The old parameter name
	 */
	var _fnCompatMap = function ( o, knew, old ) {
		if ( o[ knew ] !== undefined ) {
			o[ old ] = o[ knew ];
		}
	};
	
	
	/**
	 * Provide backwards compatibility for the main DT options. Note that the new
	 * options are mapped onto the old parameters, so this is an external interface
	 * change only.
	 *  @param {object} init Object to map
	 */
	function _fnCompatOpts ( init )
	{
		_fnCompatMap( init, 'ordering',      'bSort' );
		_fnCompatMap( init, 'orderMulti',    'bSortMulti' );
		_fnCompatMap( init, 'orderClasses',  'bSortClasses' );
		_fnCompatMap( init, 'orderCellsTop', 'bSortCellsTop' );
		_fnCompatMap( init, 'order',         'aaSorting' );
		_fnCompatMap( init, 'orderFixed',    'aaSortingFixed' );
		_fnCompatMap( init, 'paging',        'bPaginate' );
		_fnCompatMap( init, 'pagingType',    'sPaginationType' );
		_fnCompatMap( init, 'pageLength',    'iDisplayLength' );
		_fnCompatMap( init, 'searching',     'bFilter' );
	
		// Boolean initialisation of x-scrolling
		if ( typeof init.sScrollX === 'boolean' ) {
			init.sScrollX = init.sScrollX ? '100%' : '';
		}
		if ( typeof init.scrollX === 'boolean' ) {
			init.scrollX = init.scrollX ? '100%' : '';
		}
	
		// Column search objects are in an array, so it needs to be converted
		// element by element
		var searchCols = init.aoSearchCols;
	
		if ( searchCols ) {
			for ( var i=0, ien=searchCols.length ; i<ien ; i++ ) {
				if ( searchCols[i] ) {
					_fnCamelToHungarian( DataTable.models.oSearch, searchCols[i] );
				}
			}
		}
	}
	
	
	/**
	 * Provide backwards compatibility for column options. Note that the new options
	 * are mapped onto the old parameters, so this is an external interface change
	 * only.
	 *  @param {object} init Object to map
	 */
	function _fnCompatCols ( init )
	{
		_fnCompatMap( init, 'orderable',     'bSortable' );
		_fnCompatMap( init, 'orderData',     'aDataSort' );
		_fnCompatMap( init, 'orderSequence', 'asSorting' );
		_fnCompatMap( init, 'orderDataType', 'sortDataType' );
	
		// orderData can be given as an integer
		var dataSort = init.aDataSort;
		if ( dataSort && ! $.isArray( dataSort ) ) {
			init.aDataSort = [ dataSort ];
		}
	}
	
	
	/**
	 * Browser feature detection for capabilities, quirks
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnBrowserDetect( settings )
	{
		// We don't need to do this every time DataTables is constructed, the values
		// calculated are specific to the browser and OS configuration which we
		// don't expect to change between initialisations
		if ( ! DataTable.__browser ) {
			var browser = {};
			DataTable.__browser = browser;
	
			// Scrolling feature / quirks detection
			var n = $('<div/>')
				.css( {
					position: 'fixed',
					top: 0,
					left: 0,
					height: 1,
					width: 1,
					overflow: 'hidden'
				} )
				.append(
					$('<div/>')
						.css( {
							position: 'absolute',
							top: 1,
							left: 1,
							width: 100,
							overflow: 'scroll'
						} )
						.append(
							$('<div/>')
								.css( {
									width: '100%',
									height: 10
								} )
						)
				)
				.appendTo( 'body' );
	
			var outer = n.children();
			var inner = outer.children();
	
			// Numbers below, in order, are:
			// inner.offsetWidth, inner.clientWidth, outer.offsetWidth, outer.clientWidth
			//
			// IE6 XP:                           100 100 100  83
			// IE7 Vista:                        100 100 100  83
			// IE 8+ Windows:                     83  83 100  83
			// Evergreen Windows:                 83  83 100  83
			// Evergreen Mac with scrollbars:     85  85 100  85
			// Evergreen Mac without scrollbars: 100 100 100 100
	
			// Get scrollbar width
			browser.barWidth = outer[0].offsetWidth - outer[0].clientWidth;
	
			// IE6/7 will oversize a width 100% element inside a scrolling element, to
			// include the width of the scrollbar, while other browsers ensure the inner
			// element is contained without forcing scrolling
			browser.bScrollOversize = inner[0].offsetWidth === 100 && outer[0].clientWidth !== 100;
	
			// In rtl text layout, some browsers (most, but not all) will place the
			// scrollbar on the left, rather than the right.
			browser.bScrollbarLeft = Math.round( inner.offset().left ) !== 1;
	
			// IE8- don't provide height and width for getBoundingClientRect
			browser.bBounding = n[0].getBoundingClientRect().width ? true : false;
	
			n.remove();
		}
	
		$.extend( settings.oBrowser, DataTable.__browser );
		settings.oScroll.iBarWidth = DataTable.__browser.barWidth;
	}
	
	
	/**
	 * Array.prototype reduce[Right] method, used for browsers which don't support
	 * JS 1.6. Done this way to reduce code size, since we iterate either way
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnReduce ( that, fn, init, start, end, inc )
	{
		var
			i = start,
			value,
			isSet = false;
	
		if ( init !== undefined ) {
			value = init;
			isSet = true;
		}
	
		while ( i !== end ) {
			if ( ! that.hasOwnProperty(i) ) {
				continue;
			}
	
			value = isSet ?
				fn( value, that[i], i, that ) :
				that[i];
	
			isSet = true;
			i += inc;
		}
	
		return value;
	}
	
	/**
	 * Add a column to the list used for the table with default values
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} nTh The th element for this column
	 *  @memberof DataTable#oApi
	 */
	function _fnAddColumn( oSettings, nTh )
	{
		// Add column to aoColumns array
		var oDefaults = DataTable.defaults.column;
		var iCol = oSettings.aoColumns.length;
		var oCol = $.extend( {}, DataTable.models.oColumn, oDefaults, {
			"nTh": nTh ? nTh : document.createElement('th'),
			"sTitle":    oDefaults.sTitle    ? oDefaults.sTitle    : nTh ? nTh.innerHTML : '',
			"aDataSort": oDefaults.aDataSort ? oDefaults.aDataSort : [iCol],
			"mData": oDefaults.mData ? oDefaults.mData : iCol,
			idx: iCol
		} );
		oSettings.aoColumns.push( oCol );
	
		// Add search object for column specific search. Note that the `searchCols[ iCol ]`
		// passed into extend can be undefined. This allows the user to give a default
		// with only some of the parameters defined, and also not give a default
		var searchCols = oSettings.aoPreSearchCols;
		searchCols[ iCol ] = $.extend( {}, DataTable.models.oSearch, searchCols[ iCol ] );
	
		// Use the default column options function to initialise classes etc
		_fnColumnOptions( oSettings, iCol, $(nTh).data() );
	}
	
	
	/**
	 * Apply options for a column
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iCol column index to consider
	 *  @param {object} oOptions object with sType, bVisible and bSearchable etc
	 *  @memberof DataTable#oApi
	 */
	function _fnColumnOptions( oSettings, iCol, oOptions )
	{
		var oCol = oSettings.aoColumns[ iCol ];
		var oClasses = oSettings.oClasses;
		var th = $(oCol.nTh);
	
		// Try to get width information from the DOM. We can't get it from CSS
		// as we'd need to parse the CSS stylesheet. `width` option can override
		if ( ! oCol.sWidthOrig ) {
			// Width attribute
			oCol.sWidthOrig = th.attr('width') || null;
	
			// Style attribute
			var t = (th.attr('style') || '').match(/width:\s*(\d+[pxem%]+)/);
			if ( t ) {
				oCol.sWidthOrig = t[1];
			}
		}
	
		/* User specified column options */
		if ( oOptions !== undefined && oOptions !== null )
		{
			// Backwards compatibility
			_fnCompatCols( oOptions );
	
			// Map camel case parameters to their Hungarian counterparts
			_fnCamelToHungarian( DataTable.defaults.column, oOptions );
	
			/* Backwards compatibility for mDataProp */
			if ( oOptions.mDataProp !== undefined && !oOptions.mData )
			{
				oOptions.mData = oOptions.mDataProp;
			}
	
			if ( oOptions.sType )
			{
				oCol._sManualType = oOptions.sType;
			}
	
			// `class` is a reserved word in Javascript, so we need to provide
			// the ability to use a valid name for the camel case input
			if ( oOptions.className && ! oOptions.sClass )
			{
				oOptions.sClass = oOptions.className;
			}
	
			$.extend( oCol, oOptions );
			_fnMap( oCol, oOptions, "sWidth", "sWidthOrig" );
	
			/* iDataSort to be applied (backwards compatibility), but aDataSort will take
			 * priority if defined
			 */
			if ( oOptions.iDataSort !== undefined )
			{
				oCol.aDataSort = [ oOptions.iDataSort ];
			}
			_fnMap( oCol, oOptions, "aDataSort" );
		}
	
		/* Cache the data get and set functions for speed */
		var mDataSrc = oCol.mData;
		var mData = _fnGetObjectDataFn( mDataSrc );
		var mRender = oCol.mRender ? _fnGetObjectDataFn( oCol.mRender ) : null;
	
		var attrTest = function( src ) {
			return typeof src === 'string' && src.indexOf('@') !== -1;
		};
		oCol._bAttrSrc = $.isPlainObject( mDataSrc ) && (
			attrTest(mDataSrc.sort) || attrTest(mDataSrc.type) || attrTest(mDataSrc.filter)
		);
		oCol._setter = null;
	
		oCol.fnGetData = function (rowData, type, meta) {
			var innerData = mData( rowData, type, undefined, meta );
	
			return mRender && type ?
				mRender( innerData, type, rowData, meta ) :
				innerData;
		};
		oCol.fnSetData = function ( rowData, val, meta ) {
			return _fnSetObjectDataFn( mDataSrc )( rowData, val, meta );
		};
	
		// Indicate if DataTables should read DOM data as an object or array
		// Used in _fnGetRowElements
		if ( typeof mDataSrc !== 'number' ) {
			oSettings._rowReadObject = true;
		}
	
		/* Feature sorting overrides column specific when off */
		if ( !oSettings.oFeatures.bSort )
		{
			oCol.bSortable = false;
			th.addClass( oClasses.sSortableNone ); // Have to add class here as order event isn't called
		}
	
		/* Check that the class assignment is correct for sorting */
		var bAsc = $.inArray('asc', oCol.asSorting) !== -1;
		var bDesc = $.inArray('desc', oCol.asSorting) !== -1;
		if ( !oCol.bSortable || (!bAsc && !bDesc) )
		{
			oCol.sSortingClass = oClasses.sSortableNone;
			oCol.sSortingClassJUI = "";
		}
		else if ( bAsc && !bDesc )
		{
			oCol.sSortingClass = oClasses.sSortableAsc;
			oCol.sSortingClassJUI = oClasses.sSortJUIAscAllowed;
		}
		else if ( !bAsc && bDesc )
		{
			oCol.sSortingClass = oClasses.sSortableDesc;
			oCol.sSortingClassJUI = oClasses.sSortJUIDescAllowed;
		}
		else
		{
			oCol.sSortingClass = oClasses.sSortable;
			oCol.sSortingClassJUI = oClasses.sSortJUI;
		}
	}
	
	
	/**
	 * Adjust the table column widths for new data. Note: you would probably want to
	 * do a redraw after calling this function!
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnAdjustColumnSizing ( settings )
	{
		/* Not interested in doing column width calculation if auto-width is disabled */
		if ( settings.oFeatures.bAutoWidth !== false )
		{
			var columns = settings.aoColumns;
	
			_fnCalculateColumnWidths( settings );
			for ( var i=0 , iLen=columns.length ; i<iLen ; i++ )
			{
				columns[i].nTh.style.width = columns[i].sWidth;
			}
		}
	
		var scroll = settings.oScroll;
		if ( scroll.sY !== '' || scroll.sX !== '')
		{
			_fnScrollDraw( settings );
		}
	
		_fnCallbackFire( settings, null, 'column-sizing', [settings] );
	}
	
	
	/**
	 * Covert the index of a visible column to the index in the data array (take account
	 * of hidden columns)
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iMatch Visible column index to lookup
	 *  @returns {int} i the data index
	 *  @memberof DataTable#oApi
	 */
	function _fnVisibleToColumnIndex( oSettings, iMatch )
	{
		var aiVis = _fnGetColumns( oSettings, 'bVisible' );
	
		return typeof aiVis[iMatch] === 'number' ?
			aiVis[iMatch] :
			null;
	}
	
	
	/**
	 * Covert the index of an index in the data array and convert it to the visible
	 *   column index (take account of hidden columns)
	 *  @param {int} iMatch Column index to lookup
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {int} i the data index
	 *  @memberof DataTable#oApi
	 */
	function _fnColumnIndexToVisible( oSettings, iMatch )
	{
		var aiVis = _fnGetColumns( oSettings, 'bVisible' );
		var iPos = $.inArray( iMatch, aiVis );
	
		return iPos !== -1 ? iPos : null;
	}
	
	
	/**
	 * Get the number of visible columns
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {int} i the number of visible columns
	 *  @memberof DataTable#oApi
	 */
	function _fnVisbleColumns( oSettings )
	{
		var vis = 0;
	
		// No reduce in IE8, use a loop for now
		$.each( oSettings.aoColumns, function ( i, col ) {
			if ( col.bVisible && $(col.nTh).css('display') !== 'none' ) {
				vis++;
			}
		} );
	
		return vis;
	}
	
	
	/**
	 * Get an array of column indexes that match a given property
	 *  @param {object} oSettings dataTables settings object
	 *  @param {string} sParam Parameter in aoColumns to look for - typically
	 *    bVisible or bSearchable
	 *  @returns {array} Array of indexes with matched properties
	 *  @memberof DataTable#oApi
	 */
	function _fnGetColumns( oSettings, sParam )
	{
		var a = [];
	
		$.map( oSettings.aoColumns, function(val, i) {
			if ( val[sParam] ) {
				a.push( i );
			}
		} );
	
		return a;
	}
	
	
	/**
	 * Calculate the 'type' of a column
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnColumnTypes ( settings )
	{
		var columns = settings.aoColumns;
		var data = settings.aoData;
		var types = DataTable.ext.type.detect;
		var i, ien, j, jen, k, ken;
		var col, cell, detectedType, cache;
	
		// For each column, spin over the 
		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			col = columns[i];
			cache = [];
	
			if ( ! col.sType && col._sManualType ) {
				col.sType = col._sManualType;
			}
			else if ( ! col.sType ) {
				for ( j=0, jen=types.length ; j<jen ; j++ ) {
					for ( k=0, ken=data.length ; k<ken ; k++ ) {
						// Use a cache array so we only need to get the type data
						// from the formatter once (when using multiple detectors)
						if ( cache[k] === undefined ) {
							cache[k] = _fnGetCellData( settings, k, i, 'type' );
						}
	
						detectedType = types[j]( cache[k], settings );
	
						// If null, then this type can't apply to this column, so
						// rather than testing all cells, break out. There is an
						// exception for the last type which is `html`. We need to
						// scan all rows since it is possible to mix string and HTML
						// types
						if ( ! detectedType && j !== types.length-1 ) {
							break;
						}
	
						// Only a single match is needed for html type since it is
						// bottom of the pile and very similar to string
						if ( detectedType === 'html' ) {
							break;
						}
					}
	
					// Type is valid for all data points in the column - use this
					// type
					if ( detectedType ) {
						col.sType = detectedType;
						break;
					}
				}
	
				// Fall back - if no type was detected, always use string
				if ( ! col.sType ) {
					col.sType = 'string';
				}
			}
		}
	}
	
	
	/**
	 * Take the column definitions and static columns arrays and calculate how
	 * they relate to column indexes. The callback function will then apply the
	 * definition found for a column to a suitable configuration object.
	 *  @param {object} oSettings dataTables settings object
	 *  @param {array} aoColDefs The aoColumnDefs array that is to be applied
	 *  @param {array} aoCols The aoColumns array that defines columns individually
	 *  @param {function} fn Callback function - takes two parameters, the calculated
	 *    column index and the definition for that column.
	 *  @memberof DataTable#oApi
	 */
	function _fnApplyColumnDefs( oSettings, aoColDefs, aoCols, fn )
	{
		var i, iLen, j, jLen, k, kLen, def;
		var columns = oSettings.aoColumns;
	
		// Column definitions with aTargets
		if ( aoColDefs )
		{
			/* Loop over the definitions array - loop in reverse so first instance has priority */
			for ( i=aoColDefs.length-1 ; i>=0 ; i-- )
			{
				def = aoColDefs[i];
	
				/* Each definition can target multiple columns, as it is an array */
				var aTargets = def.targets !== undefined ?
					def.targets :
					def.aTargets;
	
				if ( ! $.isArray( aTargets ) )
				{
					aTargets = [ aTargets ];
				}
	
				for ( j=0, jLen=aTargets.length ; j<jLen ; j++ )
				{
					if ( typeof aTargets[j] === 'number' && aTargets[j] >= 0 )
					{
						/* Add columns that we don't yet know about */
						while( columns.length <= aTargets[j] )
						{
							_fnAddColumn( oSettings );
						}
	
						/* Integer, basic index */
						fn( aTargets[j], def );
					}
					else if ( typeof aTargets[j] === 'number' && aTargets[j] < 0 )
					{
						/* Negative integer, right to left column counting */
						fn( columns.length+aTargets[j], def );
					}
					else if ( typeof aTargets[j] === 'string' )
					{
						/* Class name matching on TH element */
						for ( k=0, kLen=columns.length ; k<kLen ; k++ )
						{
							if ( aTargets[j] == "_all" ||
							     $(columns[k].nTh).hasClass( aTargets[j] ) )
							{
								fn( k, def );
							}
						}
					}
				}
			}
		}
	
		// Statically defined columns array
		if ( aoCols )
		{
			for ( i=0, iLen=aoCols.length ; i<iLen ; i++ )
			{
				fn( i, aoCols[i] );
			}
		}
	}
	
	/**
	 * Add a data array to the table, creating DOM node etc. This is the parallel to
	 * _fnGatherData, but for adding rows from a Javascript source, rather than a
	 * DOM source.
	 *  @param {object} oSettings dataTables settings object
	 *  @param {array} aData data array to be added
	 *  @param {node} [nTr] TR element to add to the table - optional. If not given,
	 *    DataTables will create a row automatically
	 *  @param {array} [anTds] Array of TD|TH elements for the row - must be given
	 *    if nTr is.
	 *  @returns {int} >=0 if successful (index of new aoData entry), -1 if failed
	 *  @memberof DataTable#oApi
	 */
	function _fnAddData ( oSettings, aDataIn, nTr, anTds )
	{
		/* Create the object for storing information about this new row */
		var iRow = oSettings.aoData.length;
		var oData = $.extend( true, {}, DataTable.models.oRow, {
			src: nTr ? 'dom' : 'data',
			idx: iRow
		} );
	
		oData._aData = aDataIn;
		oSettings.aoData.push( oData );
	
		/* Create the cells */
		var nTd, sThisType;
		var columns = oSettings.aoColumns;
	
		// Invalidate the column types as the new data needs to be revalidated
		for ( var i=0, iLen=columns.length ; i<iLen ; i++ )
		{
			columns[i].sType = null;
		}
	
		/* Add to the display array */
		oSettings.aiDisplayMaster.push( iRow );
	
		var id = oSettings.rowIdFn( aDataIn );
		if ( id !== undefined ) {
			oSettings.aIds[ id ] = oData;
		}
	
		/* Create the DOM information, or register it if already present */
		if ( nTr || ! oSettings.oFeatures.bDeferRender )
		{
			_fnCreateTr( oSettings, iRow, nTr, anTds );
		}
	
		return iRow;
	}
	
	
	/**
	 * Add one or more TR elements to the table. Generally we'd expect to
	 * use this for reading data from a DOM sourced table, but it could be
	 * used for an TR element. Note that if a TR is given, it is used (i.e.
	 * it is not cloned).
	 *  @param {object} settings dataTables settings object
	 *  @param {array|node|jQuery} trs The TR element(s) to add to the table
	 *  @returns {array} Array of indexes for the added rows
	 *  @memberof DataTable#oApi
	 */
	function _fnAddTr( settings, trs )
	{
		var row;
	
		// Allow an individual node to be passed in
		if ( ! (trs instanceof $) ) {
			trs = $(trs);
		}
	
		return trs.map( function (i, el) {
			row = _fnGetRowElements( settings, el );
			return _fnAddData( settings, row.data, el, row.cells );
		} );
	}
	
	
	/**
	 * Take a TR element and convert it to an index in aoData
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} n the TR element to find
	 *  @returns {int} index if the node is found, null if not
	 *  @memberof DataTable#oApi
	 */
	function _fnNodeToDataIndex( oSettings, n )
	{
		return (n._DT_RowIndex!==undefined) ? n._DT_RowIndex : null;
	}
	
	
	/**
	 * Take a TD element and convert it into a column data index (not the visible index)
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iRow The row number the TD/TH can be found in
	 *  @param {node} n The TD/TH element to find
	 *  @returns {int} index if the node is found, -1 if not
	 *  @memberof DataTable#oApi
	 */
	function _fnNodeToColumnIndex( oSettings, iRow, n )
	{
		return $.inArray( n, oSettings.aoData[ iRow ].anCells );
	}
	
	
	/**
	 * Get the data for a given cell from the internal cache, taking into account data mapping
	 *  @param {object} settings dataTables settings object
	 *  @param {int} rowIdx aoData row id
	 *  @param {int} colIdx Column index
	 *  @param {string} type data get type ('display', 'type' 'filter' 'sort')
	 *  @returns {*} Cell data
	 *  @memberof DataTable#oApi
	 */
	function _fnGetCellData( settings, rowIdx, colIdx, type )
	{
		var draw           = settings.iDraw;
		var col            = settings.aoColumns[colIdx];
		var rowData        = settings.aoData[rowIdx]._aData;
		var defaultContent = col.sDefaultContent;
		var cellData       = col.fnGetData( rowData, type, {
			settings: settings,
			row:      rowIdx,
			col:      colIdx
		} );
	
		if ( cellData === undefined ) {
			if ( settings.iDrawError != draw && defaultContent === null ) {
				_fnLog( settings, 0, "Requested unknown parameter "+
					(typeof col.mData=='function' ? '{function}' : "'"+col.mData+"'")+
					" for row "+rowIdx+", column "+colIdx, 4 );
				settings.iDrawError = draw;
			}
			return defaultContent;
		}
	
		// When the data source is null and a specific data type is requested (i.e.
		// not the original data), we can use default column data
		if ( (cellData === rowData || cellData === null) && defaultContent !== null && type !== undefined ) {
			cellData = defaultContent;
		}
		else if ( typeof cellData === 'function' ) {
			// If the data source is a function, then we run it and use the return,
			// executing in the scope of the data object (for instances)
			return cellData.call( rowData );
		}
	
		if ( cellData === null && type == 'display' ) {
			return '';
		}
		return cellData;
	}
	
	
	/**
	 * Set the value for a specific cell, into the internal data cache
	 *  @param {object} settings dataTables settings object
	 *  @param {int} rowIdx aoData row id
	 *  @param {int} colIdx Column index
	 *  @param {*} val Value to set
	 *  @memberof DataTable#oApi
	 */
	function _fnSetCellData( settings, rowIdx, colIdx, val )
	{
		var col     = settings.aoColumns[colIdx];
		var rowData = settings.aoData[rowIdx]._aData;
	
		col.fnSetData( rowData, val, {
			settings: settings,
			row:      rowIdx,
			col:      colIdx
		}  );
	}
	
	
	// Private variable that is used to match action syntax in the data property object
	var __reArray = /\[.*?\]$/;
	var __reFn = /\(\)$/;
	
	/**
	 * Split string on periods, taking into account escaped periods
	 * @param  {string} str String to split
	 * @return {array} Split string
	 */
	function _fnSplitObjNotation( str )
	{
		return $.map( str.match(/(\\.|[^\.])+/g) || [''], function ( s ) {
			return s.replace(/\\./g, '.');
		} );
	}
	
	
	/**
	 * Return a function that can be used to get data from a source object, taking
	 * into account the ability to use nested objects as a source
	 *  @param {string|int|function} mSource The data source for the object
	 *  @returns {function} Data get function
	 *  @memberof DataTable#oApi
	 */
	function _fnGetObjectDataFn( mSource )
	{
		if ( $.isPlainObject( mSource ) )
		{
			/* Build an object of get functions, and wrap them in a single call */
			var o = {};
			$.each( mSource, function (key, val) {
				if ( val ) {
					o[key] = _fnGetObjectDataFn( val );
				}
			} );
	
			return function (data, type, row, meta) {
				var t = o[type] || o._;
				return t !== undefined ?
					t(data, type, row, meta) :
					data;
			};
		}
		else if ( mSource === null )
		{
			/* Give an empty string for rendering / sorting etc */
			return function (data) { // type, row and meta also passed, but not used
				return data;
			};
		}
		else if ( typeof mSource === 'function' )
		{
			return function (data, type, row, meta) {
				return mSource( data, type, row, meta );
			};
		}
		else if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||
			      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )
		{
			/* If there is a . in the source string then the data source is in a
			 * nested object so we loop over the data for each level to get the next
			 * level down. On each loop we test for undefined, and if found immediately
			 * return. This allows entire objects to be missing and sDefaultContent to
			 * be used if defined, rather than throwing an error
			 */
			var fetchData = function (data, type, src) {
				var arrayNotation, funcNotation, out, innerSrc;
	
				if ( src !== "" )
				{
					var a = _fnSplitObjNotation( src );
	
					for ( var i=0, iLen=a.length ; i<iLen ; i++ )
					{
						// Check if we are dealing with special notation
						arrayNotation = a[i].match(__reArray);
						funcNotation = a[i].match(__reFn);
	
						if ( arrayNotation )
						{
							// Array notation
							a[i] = a[i].replace(__reArray, '');
	
							// Condition allows simply [] to be passed in
							if ( a[i] !== "" ) {
								data = data[ a[i] ];
							}
							out = [];
	
							// Get the remainder of the nested object to get
							a.splice( 0, i+1 );
							innerSrc = a.join('.');
	
							// Traverse each entry in the array getting the properties requested
							if ( $.isArray( data ) ) {
								for ( var j=0, jLen=data.length ; j<jLen ; j++ ) {
									out.push( fetchData( data[j], type, innerSrc ) );
								}
							}
	
							// If a string is given in between the array notation indicators, that
							// is used to join the strings together, otherwise an array is returned
							var join = arrayNotation[0].substring(1, arrayNotation[0].length-1);
							data = (join==="") ? out : out.join(join);
	
							// The inner call to fetchData has already traversed through the remainder
							// of the source requested, so we exit from the loop
							break;
						}
						else if ( funcNotation )
						{
							// Function call
							a[i] = a[i].replace(__reFn, '');
							data = data[ a[i] ]();
							continue;
						}
	
						if ( data === null || data[ a[i] ] === undefined )
						{
							return undefined;
						}
						data = data[ a[i] ];
					}
				}
	
				return data;
			};
	
			return function (data, type) { // row and meta also passed, but not used
				return fetchData( data, type, mSource );
			};
		}
		else
		{
			/* Array or flat object mapping */
			return function (data, type) { // row and meta also passed, but not used
				return data[mSource];
			};
		}
	}
	
	
	/**
	 * Return a function that can be used to set data from a source object, taking
	 * into account the ability to use nested objects as a source
	 *  @param {string|int|function} mSource The data source for the object
	 *  @returns {function} Data set function
	 *  @memberof DataTable#oApi
	 */
	function _fnSetObjectDataFn( mSource )
	{
		if ( $.isPlainObject( mSource ) )
		{
			/* Unlike get, only the underscore (global) option is used for for
			 * setting data since we don't know the type here. This is why an object
			 * option is not documented for `mData` (which is read/write), but it is
			 * for `mRender` which is read only.
			 */
			return _fnSetObjectDataFn( mSource._ );
		}
		else if ( mSource === null )
		{
			/* Nothing to do when the data source is null */
			return function () {};
		}
		else if ( typeof mSource === 'function' )
		{
			return function (data, val, meta) {
				mSource( data, 'set', val, meta );
			};
		}
		else if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||
			      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )
		{
			/* Like the get, we need to get data from a nested object */
			var setData = function (data, val, src) {
				var a = _fnSplitObjNotation( src ), b;
				var aLast = a[a.length-1];
				var arrayNotation, funcNotation, o, innerSrc;
	
				for ( var i=0, iLen=a.length-1 ; i<iLen ; i++ )
				{
					// Check if we are dealing with an array notation request
					arrayNotation = a[i].match(__reArray);
					funcNotation = a[i].match(__reFn);
	
					if ( arrayNotation )
					{
						a[i] = a[i].replace(__reArray, '');
						data[ a[i] ] = [];
	
						// Get the remainder of the nested object to set so we can recurse
						b = a.slice();
						b.splice( 0, i+1 );
						innerSrc = b.join('.');
	
						// Traverse each entry in the array setting the properties requested
						if ( $.isArray( val ) )
						{
							for ( var j=0, jLen=val.length ; j<jLen ; j++ )
							{
								o = {};
								setData( o, val[j], innerSrc );
								data[ a[i] ].push( o );
							}
						}
						else
						{
							// We've been asked to save data to an array, but it
							// isn't array data to be saved. Best that can be done
							// is to just save the value.
							data[ a[i] ] = val;
						}
	
						// The inner call to setData has already traversed through the remainder
						// of the source and has set the data, thus we can exit here
						return;
					}
					else if ( funcNotation )
					{
						// Function call
						a[i] = a[i].replace(__reFn, '');
						data = data[ a[i] ]( val );
					}
	
					// If the nested object doesn't currently exist - since we are
					// trying to set the value - create it
					if ( data[ a[i] ] === null || data[ a[i] ] === undefined )
					{
						data[ a[i] ] = {};
					}
					data = data[ a[i] ];
				}
	
				// Last item in the input - i.e, the actual set
				if ( aLast.match(__reFn ) )
				{
					// Function call
					data = data[ aLast.replace(__reFn, '') ]( val );
				}
				else
				{
					// If array notation is used, we just want to strip it and use the property name
					// and assign the value. If it isn't used, then we get the result we want anyway
					data[ aLast.replace(__reArray, '') ] = val;
				}
			};
	
			return function (data, val) { // meta is also passed in, but not used
				return setData( data, val, mSource );
			};
		}
		else
		{
			/* Array or flat object mapping */
			return function (data, val) { // meta is also passed in, but not used
				data[mSource] = val;
			};
		}
	}
	
	
	/**
	 * Return an array with the full table data
	 *  @param {object} oSettings dataTables settings object
	 *  @returns array {array} aData Master data array
	 *  @memberof DataTable#oApi
	 */
	function _fnGetDataMaster ( settings )
	{
		return _pluck( settings.aoData, '_aData' );
	}
	
	
	/**
	 * Nuke the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnClearTable( settings )
	{
		settings.aoData.length = 0;
		settings.aiDisplayMaster.length = 0;
		settings.aiDisplay.length = 0;
		settings.aIds = {};
	}
	
	
	 /**
	 * Take an array of integers (index array) and remove a target integer (value - not
	 * the key!)
	 *  @param {array} a Index array to target
	 *  @param {int} iTarget value to find
	 *  @memberof DataTable#oApi
	 */
	function _fnDeleteIndex( a, iTarget, splice )
	{
		var iTargetIndex = -1;
	
		for ( var i=0, iLen=a.length ; i<iLen ; i++ )
		{
			if ( a[i] == iTarget )
			{
				iTargetIndex = i;
			}
			else if ( a[i] > iTarget )
			{
				a[i]--;
			}
		}
	
		if ( iTargetIndex != -1 && splice === undefined )
		{
			a.splice( iTargetIndex, 1 );
		}
	}
	
	
	/**
	 * Mark cached data as invalid such that a re-read of the data will occur when
	 * the cached data is next requested. Also update from the data source object.
	 *
	 * @param {object} settings DataTables settings object
	 * @param {int}    rowIdx   Row index to invalidate
	 * @param {string} [src]    Source to invalidate from: undefined, 'auto', 'dom'
	 *     or 'data'
	 * @param {int}    [colIdx] Column index to invalidate. If undefined the whole
	 *     row will be invalidated
	 * @memberof DataTable#oApi
	 *
	 * @todo For the modularisation of v1.11 this will need to become a callback, so
	 *   the sort and filter methods can subscribe to it. That will required
	 *   initialisation options for sorting, which is why it is not already baked in
	 */
	function _fnInvalidate( settings, rowIdx, src, colIdx )
	{
		var row = settings.aoData[ rowIdx ];
		var i, ien;
		var cellWrite = function ( cell, col ) {
			// This is very frustrating, but in IE if you just write directly
			// to innerHTML, and elements that are overwritten are GC'ed,
			// even if there is a reference to them elsewhere
			while ( cell.childNodes.length ) {
				cell.removeChild( cell.firstChild );
			}
	
			cell.innerHTML = _fnGetCellData( settings, rowIdx, col, 'display' );
		};
	
		// Are we reading last data from DOM or the data object?
		if ( src === 'dom' || ((! src || src === 'auto') && row.src === 'dom') ) {
			// Read the data from the DOM
			row._aData = _fnGetRowElements(
					settings, row, colIdx, colIdx === undefined ? undefined : row._aData
				)
				.data;
		}
		else {
			// Reading from data object, update the DOM
			var cells = row.anCells;
	
			if ( cells ) {
				if ( colIdx !== undefined ) {
					cellWrite( cells[colIdx], colIdx );
				}
				else {
					for ( i=0, ien=cells.length ; i<ien ; i++ ) {
						cellWrite( cells[i], i );
					}
				}
			}
		}
	
		// For both row and cell invalidation, the cached data for sorting and
		// filtering is nulled out
		row._aSortData = null;
		row._aFilterData = null;
	
		// Invalidate the type for a specific column (if given) or all columns since
		// the data might have changed
		var cols = settings.aoColumns;
		if ( colIdx !== undefined ) {
			cols[ colIdx ].sType = null;
		}
		else {
			for ( i=0, ien=cols.length ; i<ien ; i++ ) {
				cols[i].sType = null;
			}
	
			// Update DataTables special `DT_*` attributes for the row
			_fnRowAttributes( settings, row );
		}
	}
	
	
	/**
	 * Build a data source object from an HTML row, reading the contents of the
	 * cells that are in the row.
	 *
	 * @param {object} settings DataTables settings object
	 * @param {node|object} TR element from which to read data or existing row
	 *   object from which to re-read the data from the cells
	 * @param {int} [colIdx] Optional column index
	 * @param {array|object} [d] Data source object. If `colIdx` is given then this
	 *   parameter should also be given and will be used to write the data into.
	 *   Only the column in question will be written
	 * @returns {object} Object with two parameters: `data` the data read, in
	 *   document order, and `cells` and array of nodes (they can be useful to the
	 *   caller, so rather than needing a second traversal to get them, just return
	 *   them from here).
	 * @memberof DataTable#oApi
	 */
	function _fnGetRowElements( settings, row, colIdx, d )
	{
		var
			tds = [],
			td = row.firstChild,
			name, col, o, i=0, contents,
			columns = settings.aoColumns,
			objectRead = settings._rowReadObject;
	
		// Allow the data object to be passed in, or construct
		d = d !== undefined ?
			d :
			objectRead ?
				{} :
				[];
	
		var attr = function ( str, td  ) {
			if ( typeof str === 'string' ) {
				var idx = str.indexOf('@');
	
				if ( idx !== -1 ) {
					var attr = str.substring( idx+1 );
					var setter = _fnSetObjectDataFn( str );
					setter( d, td.getAttribute( attr ) );
				}
			}
		};
	
		// Read data from a cell and store into the data object
		var cellProcess = function ( cell ) {
			if ( colIdx === undefined || colIdx === i ) {
				col = columns[i];
				contents = $.trim(cell.innerHTML);
	
				if ( col && col._bAttrSrc ) {
					var setter = _fnSetObjectDataFn( col.mData._ );
					setter( d, contents );
	
					attr( col.mData.sort, cell );
					attr( col.mData.type, cell );
					attr( col.mData.filter, cell );
				}
				else {
					// Depending on the `data` option for the columns the data can
					// be read to either an object or an array.
					if ( objectRead ) {
						if ( ! col._setter ) {
							// Cache the setter function
							col._setter = _fnSetObjectDataFn( col.mData );
						}
						col._setter( d, contents );
					}
					else {
						d[i] = contents;
					}
				}
			}
	
			i++;
		};
	
		if ( td ) {
			// `tr` element was passed in
			while ( td ) {
				name = td.nodeName.toUpperCase();
	
				if ( name == "TD" || name == "TH" ) {
					cellProcess( td );
					tds.push( td );
				}
	
				td = td.nextSibling;
			}
		}
		else {
			// Existing row object passed in
			tds = row.anCells;
	
			for ( var j=0, jen=tds.length ; j<jen ; j++ ) {
				cellProcess( tds[j] );
			}
		}
	
		// Read the ID from the DOM if present
		var rowNode = row.firstChild ? row : row.nTr;
	
		if ( rowNode ) {
			var id = rowNode.getAttribute( 'id' );
	
			if ( id ) {
				_fnSetObjectDataFn( settings.rowId )( d, id );
			}
		}
	
		return {
			data: d,
			cells: tds
		};
	}
	/**
	 * Create a new TR element (and it's TD children) for a row
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iRow Row to consider
	 *  @param {node} [nTrIn] TR element to add to the table - optional. If not given,
	 *    DataTables will create a row automatically
	 *  @param {array} [anTds] Array of TD|TH elements for the row - must be given
	 *    if nTr is.
	 *  @memberof DataTable#oApi
	 */
	function _fnCreateTr ( oSettings, iRow, nTrIn, anTds )
	{
		var
			row = oSettings.aoData[iRow],
			rowData = row._aData,
			cells = [],
			nTr, nTd, oCol,
			i, iLen;
	
		if ( row.nTr === null )
		{
			nTr = nTrIn || document.createElement('tr');
	
			row.nTr = nTr;
			row.anCells = cells;
	
			/* Use a private property on the node to allow reserve mapping from the node
			 * to the aoData array for fast look up
			 */
			nTr._DT_RowIndex = iRow;
	
			/* Special parameters can be given by the data source to be used on the row */
			_fnRowAttributes( oSettings, row );
	
			/* Process each column */
			for ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )
			{
				oCol = oSettings.aoColumns[i];
	
				nTd = nTrIn ? anTds[i] : document.createElement( oCol.sCellType );
				nTd._DT_CellIndex = {
					row: iRow,
					column: i
				};
				
				cells.push( nTd );
	
				// Need to create the HTML if new, or if a rendering function is defined
				if ( (!nTrIn || oCol.mRender || oCol.mData !== i) &&
					 (!$.isPlainObject(oCol.mData) || oCol.mData._ !== i+'.display')
				) {
					nTd.innerHTML = _fnGetCellData( oSettings, iRow, i, 'display' );
				}
	
				/* Add user defined class */
				if ( oCol.sClass )
				{
					nTd.className += ' '+oCol.sClass;
				}
	
				// Visibility - add or remove as required
				if ( oCol.bVisible && ! nTrIn )
				{
					nTr.appendChild( nTd );
				}
				else if ( ! oCol.bVisible && nTrIn )
				{
					nTd.parentNode.removeChild( nTd );
				}
	
				if ( oCol.fnCreatedCell )
				{
					oCol.fnCreatedCell.call( oSettings.oInstance,
						nTd, _fnGetCellData( oSettings, iRow, i ), rowData, iRow, i
					);
				}
			}
	
			_fnCallbackFire( oSettings, 'aoRowCreatedCallback', null, [nTr, rowData, iRow] );
		}
	
		// Remove once webkit bug 131819 and Chromium bug 365619 have been resolved
		// and deployed
		row.nTr.setAttribute( 'role', 'row' );
	}
	
	
	/**
	 * Add attributes to a row based on the special `DT_*` parameters in a data
	 * source object.
	 *  @param {object} settings DataTables settings object
	 *  @param {object} DataTables row object for the row to be modified
	 *  @memberof DataTable#oApi
	 */
	function _fnRowAttributes( settings, row )
	{
		var tr = row.nTr;
		var data = row._aData;
	
		if ( tr ) {
			var id = settings.rowIdFn( data );
	
			if ( id ) {
				tr.id = id;
			}
	
			if ( data.DT_RowClass ) {
				// Remove any classes added by DT_RowClass before
				var a = data.DT_RowClass.split(' ');
				row.__rowc = row.__rowc ?
					_unique( row.__rowc.concat( a ) ) :
					a;
	
				$(tr)
					.removeClass( row.__rowc.join(' ') )
					.addClass( data.DT_RowClass );
			}
	
			if ( data.DT_RowAttr ) {
				$(tr).attr( data.DT_RowAttr );
			}
	
			if ( data.DT_RowData ) {
				$(tr).data( data.DT_RowData );
			}
		}
	}
	
	
	/**
	 * Create the HTML header for the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnBuildHead( oSettings )
	{
		var i, ien, cell, row, column;
		var thead = oSettings.nTHead;
		var tfoot = oSettings.nTFoot;
		var createHeader = $('th, td', thead).length === 0;
		var classes = oSettings.oClasses;
		var columns = oSettings.aoColumns;
	
		if ( createHeader ) {
			row = $('<tr/>').appendTo( thead );
		}
	
		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			column = columns[i];
			cell = $( column.nTh ).addClass( column.sClass );
	
			if ( createHeader ) {
				cell.appendTo( row );
			}
	
			// 1.11 move into sorting
			if ( oSettings.oFeatures.bSort ) {
				cell.addClass( column.sSortingClass );
	
				if ( column.bSortable !== false ) {
					cell
						.attr( 'tabindex', oSettings.iTabIndex )
						.attr( 'aria-controls', oSettings.sTableId );
	
					_fnSortAttachListener( oSettings, column.nTh, i );
				}
			}
	
			if ( column.sTitle != cell[0].innerHTML ) {
				cell.html( column.sTitle );
			}
	
			_fnRenderer( oSettings, 'header' )(
				oSettings, cell, column, classes
			);
		}
	
		if ( createHeader ) {
			_fnDetectHeader( oSettings.aoHeader, thead );
		}
		
		/* ARIA role for the rows */
	 	$(thead).find('>tr').attr('role', 'row');
	
		/* Deal with the footer - add classes if required */
		$(thead).find('>tr>th, >tr>td').addClass( classes.sHeaderTH );
		$(tfoot).find('>tr>th, >tr>td').addClass( classes.sFooterTH );
	
		// Cache the footer cells. Note that we only take the cells from the first
		// row in the footer. If there is more than one row the user wants to
		// interact with, they need to use the table().foot() method. Note also this
		// allows cells to be used for multiple columns using colspan
		if ( tfoot !== null ) {
			var cells = oSettings.aoFooter[0];
	
			for ( i=0, ien=cells.length ; i<ien ; i++ ) {
				column = columns[i];
				column.nTf = cells[i].cell;
	
				if ( column.sClass ) {
					$(column.nTf).addClass( column.sClass );
				}
			}
		}
	}
	
	
	/**
	 * Draw the header (or footer) element based on the column visibility states. The
	 * methodology here is to use the layout array from _fnDetectHeader, modified for
	 * the instantaneous column visibility, to construct the new layout. The grid is
	 * traversed over cell at a time in a rows x columns grid fashion, although each
	 * cell insert can cover multiple elements in the grid - which is tracks using the
	 * aApplied array. Cell inserts in the grid will only occur where there isn't
	 * already a cell in that position.
	 *  @param {object} oSettings dataTables settings object
	 *  @param array {objects} aoSource Layout array from _fnDetectHeader
	 *  @param {boolean} [bIncludeHidden=false] If true then include the hidden columns in the calc,
	 *  @memberof DataTable#oApi
	 */
	function _fnDrawHead( oSettings, aoSource, bIncludeHidden )
	{
		var i, iLen, j, jLen, k, kLen, n, nLocalTr;
		var aoLocal = [];
		var aApplied = [];
		var iColumns = oSettings.aoColumns.length;
		var iRowspan, iColspan;
	
		if ( ! aoSource )
		{
			return;
		}
	
		if (  bIncludeHidden === undefined )
		{
			bIncludeHidden = false;
		}
	
		/* Make a copy of the master layout array, but without the visible columns in it */
		for ( i=0, iLen=aoSource.length ; i<iLen ; i++ )
		{
			aoLocal[i] = aoSource[i].slice();
			aoLocal[i].nTr = aoSource[i].nTr;
	
			/* Remove any columns which are currently hidden */
			for ( j=iColumns-1 ; j>=0 ; j-- )
			{
				if ( !oSettings.aoColumns[j].bVisible && !bIncludeHidden )
				{
					aoLocal[i].splice( j, 1 );
				}
			}
	
			/* Prep the applied array - it needs an element for each row */
			aApplied.push( [] );
		}
	
		for ( i=0, iLen=aoLocal.length ; i<iLen ; i++ )
		{
			nLocalTr = aoLocal[i].nTr;
	
			/* All cells are going to be replaced, so empty out the row */
			if ( nLocalTr )
			{
				while( (n = nLocalTr.firstChild) )
				{
					nLocalTr.removeChild( n );
				}
			}
	
			for ( j=0, jLen=aoLocal[i].length ; j<jLen ; j++ )
			{
				iRowspan = 1;
				iColspan = 1;
	
				/* Check to see if there is already a cell (row/colspan) covering our target
				 * insert point. If there is, then there is nothing to do.
				 */
				if ( aApplied[i][j] === undefined )
				{
					nLocalTr.appendChild( aoLocal[i][j].cell );
					aApplied[i][j] = 1;
	
					/* Expand the cell to cover as many rows as needed */
					while ( aoLocal[i+iRowspan] !== undefined &&
					        aoLocal[i][j].cell == aoLocal[i+iRowspan][j].cell )
					{
						aApplied[i+iRowspan][j] = 1;
						iRowspan++;
					}
	
					/* Expand the cell to cover as many columns as needed */
					while ( aoLocal[i][j+iColspan] !== undefined &&
					        aoLocal[i][j].cell == aoLocal[i][j+iColspan].cell )
					{
						/* Must update the applied array over the rows for the columns */
						for ( k=0 ; k<iRowspan ; k++ )
						{
							aApplied[i+k][j+iColspan] = 1;
						}
						iColspan++;
					}
	
					/* Do the actual expansion in the DOM */
					$(aoLocal[i][j].cell)
						.attr('rowspan', iRowspan)
						.attr('colspan', iColspan);
				}
			}
		}
	}
	
	
	/**
	 * Insert the required TR nodes into the table for display
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnDraw( oSettings )
	{
		/* Provide a pre-callback function which can be used to cancel the draw is false is returned */
		var aPreDraw = _fnCallbackFire( oSettings, 'aoPreDrawCallback', 'preDraw', [oSettings] );
		if ( $.inArray( false, aPreDraw ) !== -1 )
		{
			_fnProcessingDisplay( oSettings, false );
			return;
		}
	
		var i, iLen, n;
		var anRows = [];
		var iRowCount = 0;
		var asStripeClasses = oSettings.asStripeClasses;
		var iStripes = asStripeClasses.length;
		var iOpenRows = oSettings.aoOpenRows.length;
		var oLang = oSettings.oLanguage;
		var iInitDisplayStart = oSettings.iInitDisplayStart;
		var bServerSide = _fnDataSource( oSettings ) == 'ssp';
		var aiDisplay = oSettings.aiDisplay;
	
		oSettings.bDrawing = true;
	
		/* Check and see if we have an initial draw position from state saving */
		if ( iInitDisplayStart !== undefined && iInitDisplayStart !== -1 )
		{
			oSettings._iDisplayStart = bServerSide ?
				iInitDisplayStart :
				iInitDisplayStart >= oSettings.fnRecordsDisplay() ?
					0 :
					iInitDisplayStart;
	
			oSettings.iInitDisplayStart = -1;
		}
	
		var iDisplayStart = oSettings._iDisplayStart;
		var iDisplayEnd = oSettings.fnDisplayEnd();
	
		/* Server-side processing draw intercept */
		if ( oSettings.bDeferLoading )
		{
			oSettings.bDeferLoading = false;
			oSettings.iDraw++;
			_fnProcessingDisplay( oSettings, false );
		}
		else if ( !bServerSide )
		{
			oSettings.iDraw++;
		}
		else if ( !oSettings.bDestroying && !_fnAjaxUpdate( oSettings ) )
		{
			return;
		}
	
		if ( aiDisplay.length !== 0 )
		{
			var iStart = bServerSide ? 0 : iDisplayStart;
			var iEnd = bServerSide ? oSettings.aoData.length : iDisplayEnd;
	
			for ( var j=iStart ; j<iEnd ; j++ )
			{
				var iDataIndex = aiDisplay[j];
				var aoData = oSettings.aoData[ iDataIndex ];
				if ( aoData.nTr === null )
				{
					_fnCreateTr( oSettings, iDataIndex );
				}
	
				var nRow = aoData.nTr;
	
				/* Remove the old striping classes and then add the new one */
				if ( iStripes !== 0 )
				{
					var sStripe = asStripeClasses[ iRowCount % iStripes ];
					if ( aoData._sRowStripe != sStripe )
					{
						$(nRow).removeClass( aoData._sRowStripe ).addClass( sStripe );
						aoData._sRowStripe = sStripe;
					}
				}
	
				// Row callback functions - might want to manipulate the row
				// iRowCount and j are not currently documented. Are they at all
				// useful?
				_fnCallbackFire( oSettings, 'aoRowCallback', null,
					[nRow, aoData._aData, iRowCount, j] );
	
				anRows.push( nRow );
				iRowCount++;
			}
		}
		else
		{
			/* Table is empty - create a row with an empty message in it */
			var sZero = oLang.sZeroRecords;
			if ( oSettings.iDraw == 1 &&  _fnDataSource( oSettings ) == 'ajax' )
			{
				sZero = oLang.sLoadingRecords;
			}
			else if ( oLang.sEmptyTable && oSettings.fnRecordsTotal() === 0 )
			{
				sZero = oLang.sEmptyTable;
			}
	
			anRows[ 0 ] = $( '<tr/>', { 'class': iStripes ? asStripeClasses[0] : '' } )
				.append( $('<td />', {
					'valign':  'top',
					'colSpan': _fnVisbleColumns( oSettings ),
					'class':   oSettings.oClasses.sRowEmpty
				} ).html( sZero ) )[0];
		}
	
		/* Header and footer callbacks */
		_fnCallbackFire( oSettings, 'aoHeaderCallback', 'header', [ $(oSettings.nTHead).children('tr')[0],
			_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );
	
		_fnCallbackFire( oSettings, 'aoFooterCallback', 'footer', [ $(oSettings.nTFoot).children('tr')[0],
			_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );
	
		var body = $(oSettings.nTBody);
	
		body.children().detach();
		body.append( $(anRows) );
	
		/* Call all required callback functions for the end of a draw */
		_fnCallbackFire( oSettings, 'aoDrawCallback', 'draw', [oSettings] );
	
		/* Draw is complete, sorting and filtering must be as well */
		oSettings.bSorted = false;
		oSettings.bFiltered = false;
		oSettings.bDrawing = false;
	}
	
	
	/**
	 * Redraw the table - taking account of the various features which are enabled
	 *  @param {object} oSettings dataTables settings object
	 *  @param {boolean} [holdPosition] Keep the current paging position. By default
	 *    the paging is reset to the first page
	 *  @memberof DataTable#oApi
	 */
	function _fnReDraw( settings, holdPosition )
	{
		var
			features = settings.oFeatures,
			sort     = features.bSort,
			filter   = features.bFilter;
	
		if ( sort ) {
			_fnSort( settings );
		}
	
		if ( filter ) {
			_fnFilterComplete( settings, settings.oPreviousSearch );
		}
		else {
			// No filtering, so we want to just use the display master
			settings.aiDisplay = settings.aiDisplayMaster.slice();
		}
	
		if ( holdPosition !== true ) {
			settings._iDisplayStart = 0;
		}
	
		// Let any modules know about the draw hold position state (used by
		// scrolling internally)
		settings._drawHold = holdPosition;
	
		_fnDraw( settings );
	
		settings._drawHold = false;
	}
	
	
	/**
	 * Add the options to the page HTML for the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnAddOptionsHtml ( oSettings )
	{
		var classes = oSettings.oClasses;
		var table = $(oSettings.nTable);
		var holding = $('<div/>').insertBefore( table ); // Holding element for speed
		var features = oSettings.oFeatures;
	
		// All DataTables are wrapped in a div
		var insert = $('<div/>', {
			id:      oSettings.sTableId+'_wrapper',
			'class': classes.sWrapper + (oSettings.nTFoot ? '' : ' '+classes.sNoFooter)
		} );
	
		oSettings.nHolding = holding[0];
		oSettings.nTableWrapper = insert[0];
		oSettings.nTableReinsertBefore = oSettings.nTable.nextSibling;
	
		/* Loop over the user set positioning and place the elements as needed */
		var aDom = oSettings.sDom.split('');
		var featureNode, cOption, nNewNode, cNext, sAttr, j;
		for ( var i=0 ; i<aDom.length ; i++ )
		{
			featureNode = null;
			cOption = aDom[i];
	
			if ( cOption == '<' )
			{
				/* New container div */
				nNewNode = $('<div/>')[0];
	
				/* Check to see if we should append an id and/or a class name to the container */
				cNext = aDom[i+1];
				if ( cNext == "'" || cNext == '"' )
				{
					sAttr = "";
					j = 2;
					while ( aDom[i+j] != cNext )
					{
						sAttr += aDom[i+j];
						j++;
					}
	
					/* Replace jQuery UI constants @todo depreciated */
					if ( sAttr == "H" )
					{
						sAttr = classes.sJUIHeader;
					}
					else if ( sAttr == "F" )
					{
						sAttr = classes.sJUIFooter;
					}
	
					/* The attribute can be in the format of "#id.class", "#id" or "class" This logic
					 * breaks the string into parts and applies them as needed
					 */
					if ( sAttr.indexOf('.') != -1 )
					{
						var aSplit = sAttr.split('.');
						nNewNode.id = aSplit[0].substr(1, aSplit[0].length-1);
						nNewNode.className = aSplit[1];
					}
					else if ( sAttr.charAt(0) == "#" )
					{
						nNewNode.id = sAttr.substr(1, sAttr.length-1);
					}
					else
					{
						nNewNode.className = sAttr;
					}
	
					i += j; /* Move along the position array */
				}
	
				insert.append( nNewNode );
				insert = $(nNewNode);
			}
			else if ( cOption == '>' )
			{
				/* End container div */
				insert = insert.parent();
			}
			// @todo Move options into their own plugins?
			else if ( cOption == 'l' && features.bPaginate && features.bLengthChange )
			{
				/* Length */
				featureNode = _fnFeatureHtmlLength( oSettings );
			}
			else if ( cOption == 'f' && features.bFilter )
			{
				/* Filter */
				featureNode = _fnFeatureHtmlFilter( oSettings );
			}
			else if ( cOption == 'r' && features.bProcessing )
			{
				/* pRocessing */
				featureNode = _fnFeatureHtmlProcessing( oSettings );
			}
			else if ( cOption == 't' )
			{
				/* Table */
				featureNode = _fnFeatureHtmlTable( oSettings );
			}
			else if ( cOption ==  'i' && features.bInfo )
			{
				/* Info */
				featureNode = _fnFeatureHtmlInfo( oSettings );
			}
			else if ( cOption == 'p' && features.bPaginate )
			{
				/* Pagination */
				featureNode = _fnFeatureHtmlPaginate( oSettings );
			}
			else if ( DataTable.ext.feature.length !== 0 )
			{
				/* Plug-in features */
				var aoFeatures = DataTable.ext.feature;
				for ( var k=0, kLen=aoFeatures.length ; k<kLen ; k++ )
				{
					if ( cOption == aoFeatures[k].cFeature )
					{
						featureNode = aoFeatures[k].fnInit( oSettings );
						break;
					}
				}
			}
	
			/* Add to the 2D features array */
			if ( featureNode )
			{
				var aanFeatures = oSettings.aanFeatures;
	
				if ( ! aanFeatures[cOption] )
				{
					aanFeatures[cOption] = [];
				}
	
				aanFeatures[cOption].push( featureNode );
				insert.append( featureNode );
			}
		}
	
		/* Built our DOM structure - replace the holding div with what we want */
		holding.replaceWith( insert );
		oSettings.nHolding = null;
	}
	
	
	/**
	 * Use the DOM source to create up an array of header cells. The idea here is to
	 * create a layout grid (array) of rows x columns, which contains a reference
	 * to the cell that that point in the grid (regardless of col/rowspan), such that
	 * any column / row could be removed and the new grid constructed
	 *  @param array {object} aLayout Array to store the calculated layout in
	 *  @param {node} nThead The header/footer element for the table
	 *  @memberof DataTable#oApi
	 */
	function _fnDetectHeader ( aLayout, nThead )
	{
		var nTrs = $(nThead).children('tr');
		var nTr, nCell;
		var i, k, l, iLen, jLen, iColShifted, iColumn, iColspan, iRowspan;
		var bUnique;
		var fnShiftCol = function ( a, i, j ) {
			var k = a[i];
	                while ( k[j] ) {
				j++;
			}
			return j;
		};
	
		aLayout.splice( 0, aLayout.length );
	
		/* We know how many rows there are in the layout - so prep it */
		for ( i=0, iLen=nTrs.length ; i<iLen ; i++ )
		{
			aLayout.push( [] );
		}
	
		/* Calculate a layout array */
		for ( i=0, iLen=nTrs.length ; i<iLen ; i++ )
		{
			nTr = nTrs[i];
			iColumn = 0;
	
			/* For every cell in the row... */
			nCell = nTr.firstChild;
			while ( nCell ) {
				if ( nCell.nodeName.toUpperCase() == "TD" ||
				     nCell.nodeName.toUpperCase() == "TH" )
				{
					/* Get the col and rowspan attributes from the DOM and sanitise them */
					iColspan = nCell.getAttribute('colspan') * 1;
					iRowspan = nCell.getAttribute('rowspan') * 1;
					iColspan = (!iColspan || iColspan===0 || iColspan===1) ? 1 : iColspan;
					iRowspan = (!iRowspan || iRowspan===0 || iRowspan===1) ? 1 : iRowspan;
	
					/* There might be colspan cells already in this row, so shift our target
					 * accordingly
					 */
					iColShifted = fnShiftCol( aLayout, i, iColumn );
	
					/* Cache calculation for unique columns */
					bUnique = iColspan === 1 ? true : false;
	
					/* If there is col / rowspan, copy the information into the layout grid */
					for ( l=0 ; l<iColspan ; l++ )
					{
						for ( k=0 ; k<iRowspan ; k++ )
						{
							aLayout[i+k][iColShifted+l] = {
								"cell": nCell,
								"unique": bUnique
							};
							aLayout[i+k].nTr = nTr;
						}
					}
				}
				nCell = nCell.nextSibling;
			}
		}
	}
	
	
	/**
	 * Get an array of unique th elements, one for each column
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} nHeader automatically detect the layout from this node - optional
	 *  @param {array} aLayout thead/tfoot layout from _fnDetectHeader - optional
	 *  @returns array {node} aReturn list of unique th's
	 *  @memberof DataTable#oApi
	 */
	function _fnGetUniqueThs ( oSettings, nHeader, aLayout )
	{
		var aReturn = [];
		if ( !aLayout )
		{
			aLayout = oSettings.aoHeader;
			if ( nHeader )
			{
				aLayout = [];
				_fnDetectHeader( aLayout, nHeader );
			}
		}
	
		for ( var i=0, iLen=aLayout.length ; i<iLen ; i++ )
		{
			for ( var j=0, jLen=aLayout[i].length ; j<jLen ; j++ )
			{
				if ( aLayout[i][j].unique &&
					 (!aReturn[j] || !oSettings.bSortCellsTop) )
				{
					aReturn[j] = aLayout[i][j].cell;
				}
			}
		}
	
		return aReturn;
	}
	
	/**
	 * Create an Ajax call based on the table's settings, taking into account that
	 * parameters can have multiple forms, and backwards compatibility.
	 *
	 * @param {object} oSettings dataTables settings object
	 * @param {array} data Data to send to the server, required by
	 *     DataTables - may be augmented by developer callbacks
	 * @param {function} fn Callback function to run when data is obtained
	 */
	function _fnBuildAjax( oSettings, data, fn )
	{
		// Compatibility with 1.9-, allow fnServerData and event to manipulate
		_fnCallbackFire( oSettings, 'aoServerParams', 'serverParams', [data] );
	
		// Convert to object based for 1.10+ if using the old array scheme which can
		// come from server-side processing or serverParams
		if ( data && $.isArray(data) ) {
			var tmp = {};
			var rbracket = /(.*?)\[\]$/;
	
			$.each( data, function (key, val) {
				var match = val.name.match(rbracket);
	
				if ( match ) {
					// Support for arrays
					var name = match[0];
	
					if ( ! tmp[ name ] ) {
						tmp[ name ] = [];
					}
					tmp[ name ].push( val.value );
				}
				else {
					tmp[val.name] = val.value;
				}
			} );
			data = tmp;
		}
	
		var ajaxData;
		var ajax = oSettings.ajax;
		var instance = oSettings.oInstance;
		var callback = function ( json ) {
			_fnCallbackFire( oSettings, null, 'xhr', [oSettings, json, oSettings.jqXHR] );
			fn( json );
		};
	
		if ( $.isPlainObject( ajax ) && ajax.data )
		{
			ajaxData = ajax.data;
	
			var newData = $.isFunction( ajaxData ) ?
				ajaxData( data, oSettings ) :  // fn can manipulate data or return
				ajaxData;                      // an object object or array to merge
	
			// If the function returned something, use that alone
			data = $.isFunction( ajaxData ) && newData ?
				newData :
				$.extend( true, data, newData );
	
			// Remove the data property as we've resolved it already and don't want
			// jQuery to do it again (it is restored at the end of the function)
			delete ajax.data;
		}
	
		var baseAjax = {
			"data": data,
			"success": function (json) {
				var error = json.error || json.sError;
				if ( error ) {
					_fnLog( oSettings, 0, error );
				}
	
				oSettings.json = json;
				callback( json );
			},
			"dataType": "json",
			"cache": false,
			"type": oSettings.sServerMethod,
			"error": function (xhr, error, thrown) {
				var ret = _fnCallbackFire( oSettings, null, 'xhr', [oSettings, null, oSettings.jqXHR] );
	
				if ( $.inArray( true, ret ) === -1 ) {
					if ( error == "parsererror" ) {
						_fnLog( oSettings, 0, 'Invalid JSON response', 1 );
					}
					else if ( xhr.readyState === 4 ) {
						_fnLog( oSettings, 0, 'Ajax error', 7 );
					}
				}
	
				_fnProcessingDisplay( oSettings, false );
			}
		};
	
		// Store the data submitted for the API
		oSettings.oAjaxData = data;
	
		// Allow plug-ins and external processes to modify the data
		_fnCallbackFire( oSettings, null, 'preXhr', [oSettings, data] );
	
		if ( oSettings.fnServerData )
		{
			// DataTables 1.9- compatibility
			oSettings.fnServerData.call( instance,
				oSettings.sAjaxSource,
				$.map( data, function (val, key) { // Need to convert back to 1.9 trad format
					return { name: key, value: val };
				} ),
				callback,
				oSettings
			);
		}
		else if ( oSettings.sAjaxSource || typeof ajax === 'string' )
		{
			// DataTables 1.9- compatibility
			oSettings.jqXHR = $.ajax( $.extend( baseAjax, {
				url: ajax || oSettings.sAjaxSource
			} ) );
		}
		else if ( $.isFunction( ajax ) )
		{
			// Is a function - let the caller define what needs to be done
			oSettings.jqXHR = ajax.call( instance, data, callback, oSettings );
		}
		else
		{
			// Object to extend the base settings
			oSettings.jqXHR = $.ajax( $.extend( baseAjax, ajax ) );
	
			// Restore for next time around
			ajax.data = ajaxData;
		}
	}
	
	
	/**
	 * Update the table using an Ajax call
	 *  @param {object} settings dataTables settings object
	 *  @returns {boolean} Block the table drawing or not
	 *  @memberof DataTable#oApi
	 */
	function _fnAjaxUpdate( settings )
	{
		if ( settings.bAjaxDataGet ) {
			settings.iDraw++;
			_fnProcessingDisplay( settings, true );
	
			_fnBuildAjax(
				settings,
				_fnAjaxParameters( settings ),
				function(json) {
					_fnAjaxUpdateDraw( settings, json );
				}
			);
	
			return false;
		}
		return true;
	}
	
	
	/**
	 * Build up the parameters in an object needed for a server-side processing
	 * request. Note that this is basically done twice, is different ways - a modern
	 * method which is used by default in DataTables 1.10 which uses objects and
	 * arrays, or the 1.9- method with is name / value pairs. 1.9 method is used if
	 * the sAjaxSource option is used in the initialisation, or the legacyAjax
	 * option is set.
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {bool} block the table drawing or not
	 *  @memberof DataTable#oApi
	 */
	function _fnAjaxParameters( settings )
	{
		var
			columns = settings.aoColumns,
			columnCount = columns.length,
			features = settings.oFeatures,
			preSearch = settings.oPreviousSearch,
			preColSearch = settings.aoPreSearchCols,
			i, data = [], dataProp, column, columnSearch,
			sort = _fnSortFlatten( settings ),
			displayStart = settings._iDisplayStart,
			displayLength = features.bPaginate !== false ?
				settings._iDisplayLength :
				-1;
	
		var param = function ( name, value ) {
			data.push( { 'name': name, 'value': value } );
		};
	
		// DataTables 1.9- compatible method
		param( 'sEcho',          settings.iDraw );
		param( 'iColumns',       columnCount );
		param( 'sColumns',       _pluck( columns, 'sName' ).join(',') );
		param( 'iDisplayStart',  displayStart );
		param( 'iDisplayLength', displayLength );
	
		// DataTables 1.10+ method
		var d = {
			draw:    settings.iDraw,
			columns: [],
			order:   [],
			start:   displayStart,
			length:  displayLength,
			search:  {
				value: preSearch.sSearch,
				regex: preSearch.bRegex
			}
		};
	
		for ( i=0 ; i<columnCount ; i++ ) {
			column = columns[i];
			columnSearch = preColSearch[i];
			dataProp = typeof column.mData=="function" ? 'function' : column.mData ;
	
			d.columns.push( {
				data:       dataProp,
				name:       column.sName,
				searchable: column.bSearchable,
				orderable:  column.bSortable,
				search:     {
					value: columnSearch.sSearch,
					regex: columnSearch.bRegex
				}
			} );
	
			param( "mDataProp_"+i, dataProp );
	
			if ( features.bFilter ) {
				param( 'sSearch_'+i,     columnSearch.sSearch );
				param( 'bRegex_'+i,      columnSearch.bRegex );
				param( 'bSearchable_'+i, column.bSearchable );
			}
	
			if ( features.bSort ) {
				param( 'bSortable_'+i, column.bSortable );
			}
		}
	
		if ( features.bFilter ) {
			param( 'sSearch', preSearch.sSearch );
			param( 'bRegex', preSearch.bRegex );
		}
	
		if ( features.bSort ) {
			$.each( sort, function ( i, val ) {
				d.order.push( { column: val.col, dir: val.dir } );
	
				param( 'iSortCol_'+i, val.col );
				param( 'sSortDir_'+i, val.dir );
			} );
	
			param( 'iSortingCols', sort.length );
		}
	
		// If the legacy.ajax parameter is null, then we automatically decide which
		// form to use, based on sAjaxSource
		var legacy = DataTable.ext.legacy.ajax;
		if ( legacy === null ) {
			return settings.sAjaxSource ? data : d;
		}
	
		// Otherwise, if legacy has been specified then we use that to decide on the
		// form
		return legacy ? data : d;
	}
	
	
	/**
	 * Data the data from the server (nuking the old) and redraw the table
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} json json data return from the server.
	 *  @param {string} json.sEcho Tracking flag for DataTables to match requests
	 *  @param {int} json.iTotalRecords Number of records in the data set, not accounting for filtering
	 *  @param {int} json.iTotalDisplayRecords Number of records in the data set, accounting for filtering
	 *  @param {array} json.aaData The data to display on this page
	 *  @param {string} [json.sColumns] Column ordering (sName, comma separated)
	 *  @memberof DataTable#oApi
	 */
	function _fnAjaxUpdateDraw ( settings, json )
	{
		// v1.10 uses camelCase variables, while 1.9 uses Hungarian notation.
		// Support both
		var compat = function ( old, modern ) {
			return json[old] !== undefined ? json[old] : json[modern];
		};
	
		var data = _fnAjaxDataSrc( settings, json );
		var draw            = compat( 'sEcho',                'draw' );
		var recordsTotal    = compat( 'iTotalRecords',        'recordsTotal' );
		var recordsFiltered = compat( 'iTotalDisplayRecords', 'recordsFiltered' );
	
		if ( draw ) {
			// Protect against out of sequence returns
			if ( draw*1 < settings.iDraw ) {
				return;
			}
			settings.iDraw = draw * 1;
		}
	
		_fnClearTable( settings );
		settings._iRecordsTotal   = parseInt(recordsTotal, 10);
		settings._iRecordsDisplay = parseInt(recordsFiltered, 10);
	
		for ( var i=0, ien=data.length ; i<ien ; i++ ) {
			_fnAddData( settings, data[i] );
		}
		settings.aiDisplay = settings.aiDisplayMaster.slice();
	
		settings.bAjaxDataGet = false;
		_fnDraw( settings );
	
		if ( ! settings._bInitComplete ) {
			_fnInitComplete( settings, json );
		}
	
		settings.bAjaxDataGet = true;
		_fnProcessingDisplay( settings, false );
	}
	
	
	/**
	 * Get the data from the JSON data source to use for drawing a table. Using
	 * `_fnGetObjectDataFn` allows the data to be sourced from a property of the
	 * source object, or from a processing function.
	 *  @param {object} oSettings dataTables settings object
	 *  @param  {object} json Data source object / array from the server
	 *  @return {array} Array of data to use
	 */
	function _fnAjaxDataSrc ( oSettings, json )
	{
		var dataSrc = $.isPlainObject( oSettings.ajax ) && oSettings.ajax.dataSrc !== undefined ?
			oSettings.ajax.dataSrc :
			oSettings.sAjaxDataProp; // Compatibility with 1.9-.
	
		// Compatibility with 1.9-. In order to read from aaData, check if the
		// default has been changed, if not, check for aaData
		if ( dataSrc === 'data' ) {
			return json.aaData || json[dataSrc];
		}
	
		return dataSrc !== "" ?
			_fnGetObjectDataFn( dataSrc )( json ) :
			json;
	}
	
	/**
	 * Generate the node required for filtering text
	 *  @returns {node} Filter control element
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlFilter ( settings )
	{
		var classes = settings.oClasses;
		var tableId = settings.sTableId;
		var language = settings.oLanguage;
		var previousSearch = settings.oPreviousSearch;
		var features = settings.aanFeatures;
		var input = '<input type="search" class="'+classes.sFilterInput+'"/>';
	
		var str = language.sSearch;
		str = str.match(/_INPUT_/) ?
			str.replace('_INPUT_', input) :
			str+input;
	
		var filter = $('<div/>', {
				'id': ! features.f ? tableId+'_filter' : null,
				'class': classes.sFilter
			} )
			.append( $('<label/>' ).append( str ) );
	
		var searchFn = function() {
			/* Update all other filter input elements for the new display */
			var n = features.f;
			var val = !this.value ? "" : this.value; // mental IE8 fix :-(
	
			/* Now do the filter */
			if ( val != previousSearch.sSearch ) {
				_fnFilterComplete( settings, {
					"sSearch": val,
					"bRegex": previousSearch.bRegex,
					"bSmart": previousSearch.bSmart ,
					"bCaseInsensitive": previousSearch.bCaseInsensitive
				} );
	
				// Need to redraw, without resorting
				settings._iDisplayStart = 0;
				_fnDraw( settings );
			}
		};
	
		var searchDelay = settings.searchDelay !== null ?
			settings.searchDelay :
			_fnDataSource( settings ) === 'ssp' ?
				400 :
				0;
	
		var jqFilter = $('input', filter)
			.val( previousSearch.sSearch )
			.attr( 'placeholder', language.sSearchPlaceholder )
			.bind(
				'keyup.DT search.DT input.DT paste.DT cut.DT',
				searchDelay ?
					_fnThrottle( searchFn, searchDelay ) :
					searchFn
			)
			.bind( 'keypress.DT', function(e) {
				/* Prevent form submission */
				if ( e.keyCode == 13 ) {
					return false;
				}
			} )
			.attr('aria-controls', tableId);
	
		// Update the input elements whenever the table is filtered
		$(settings.nTable).on( 'search.dt.DT', function ( ev, s ) {
			if ( settings === s ) {
				// IE9 throws an 'unknown error' if document.activeElement is used
				// inside an iframe or frame...
				try {
					if ( jqFilter[0] !== document.activeElement ) {
						jqFilter.val( previousSearch.sSearch );
					}
				}
				catch ( e ) {}
			}
		} );
	
		return filter[0];
	}
	
	
	/**
	 * Filter the table using both the global filter and column based filtering
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} oSearch search information
	 *  @param {int} [iForce] force a research of the master array (1) or not (undefined or 0)
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterComplete ( oSettings, oInput, iForce )
	{
		var oPrevSearch = oSettings.oPreviousSearch;
		var aoPrevSearch = oSettings.aoPreSearchCols;
		var fnSaveFilter = function ( oFilter ) {
			/* Save the filtering values */
			oPrevSearch.sSearch = oFilter.sSearch;
			oPrevSearch.bRegex = oFilter.bRegex;
			oPrevSearch.bSmart = oFilter.bSmart;
			oPrevSearch.bCaseInsensitive = oFilter.bCaseInsensitive;
		};
		var fnRegex = function ( o ) {
			// Backwards compatibility with the bEscapeRegex option
			return o.bEscapeRegex !== undefined ? !o.bEscapeRegex : o.bRegex;
		};
	
		// Resolve any column types that are unknown due to addition or invalidation
		// @todo As per sort - can this be moved into an event handler?
		_fnColumnTypes( oSettings );
	
		/* In server-side processing all filtering is done by the server, so no point hanging around here */
		if ( _fnDataSource( oSettings ) != 'ssp' )
		{
			/* Global filter */
			_fnFilter( oSettings, oInput.sSearch, iForce, fnRegex(oInput), oInput.bSmart, oInput.bCaseInsensitive );
			fnSaveFilter( oInput );
	
			/* Now do the individual column filter */
			for ( var i=0 ; i<aoPrevSearch.length ; i++ )
			{
				_fnFilterColumn( oSettings, aoPrevSearch[i].sSearch, i, fnRegex(aoPrevSearch[i]),
					aoPrevSearch[i].bSmart, aoPrevSearch[i].bCaseInsensitive );
			}
	
			/* Custom filtering */
			_fnFilterCustom( oSettings );
		}
		else
		{
			fnSaveFilter( oInput );
		}
	
		/* Tell the draw function we have been filtering */
		oSettings.bFiltered = true;
		_fnCallbackFire( oSettings, null, 'search', [oSettings] );
	}
	
	
	/**
	 * Apply custom filtering functions
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterCustom( settings )
	{
		var filters = DataTable.ext.search;
		var displayRows = settings.aiDisplay;
		var row, rowIdx;
	
		for ( var i=0, ien=filters.length ; i<ien ; i++ ) {
			var rows = [];
	
			// Loop over each row and see if it should be included
			for ( var j=0, jen=displayRows.length ; j<jen ; j++ ) {
				rowIdx = displayRows[ j ];
				row = settings.aoData[ rowIdx ];
	
				if ( filters[i]( settings, row._aFilterData, rowIdx, row._aData, j ) ) {
					rows.push( rowIdx );
				}
			}
	
			// So the array reference doesn't break set the results into the
			// existing array
			displayRows.length = 0;
			$.merge( displayRows, rows );
		}
	}
	
	
	/**
	 * Filter the table on a per-column basis
	 *  @param {object} oSettings dataTables settings object
	 *  @param {string} sInput string to filter on
	 *  @param {int} iColumn column to filter
	 *  @param {bool} bRegex treat search string as a regular expression or not
	 *  @param {bool} bSmart use smart filtering or not
	 *  @param {bool} bCaseInsensitive Do case insenstive matching or not
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterColumn ( settings, searchStr, colIdx, regex, smart, caseInsensitive )
	{
		if ( searchStr === '' ) {
			return;
		}
	
		var data;
		var display = settings.aiDisplay;
		var rpSearch = _fnFilterCreateSearch( searchStr, regex, smart, caseInsensitive );
	
		for ( var i=display.length-1 ; i>=0 ; i-- ) {
			data = settings.aoData[ display[i] ]._aFilterData[ colIdx ];
	
			if ( ! rpSearch.test( data ) ) {
				display.splice( i, 1 );
			}
		}
	}
	
	
	/**
	 * Filter the data table based on user input and draw the table
	 *  @param {object} settings dataTables settings object
	 *  @param {string} input string to filter on
	 *  @param {int} force optional - force a research of the master array (1) or not (undefined or 0)
	 *  @param {bool} regex treat as a regular expression or not
	 *  @param {bool} smart perform smart filtering or not
	 *  @param {bool} caseInsensitive Do case insenstive matching or not
	 *  @memberof DataTable#oApi
	 */
	function _fnFilter( settings, input, force, regex, smart, caseInsensitive )
	{
		var rpSearch = _fnFilterCreateSearch( input, regex, smart, caseInsensitive );
		var prevSearch = settings.oPreviousSearch.sSearch;
		var displayMaster = settings.aiDisplayMaster;
		var display, invalidated, i;
	
		// Need to take account of custom filtering functions - always filter
		if ( DataTable.ext.search.length !== 0 ) {
			force = true;
		}
	
		// Check if any of the rows were invalidated
		invalidated = _fnFilterData( settings );
	
		// If the input is blank - we just want the full data set
		if ( input.length <= 0 ) {
			settings.aiDisplay = displayMaster.slice();
		}
		else {
			// New search - start from the master array
			if ( invalidated ||
				 force ||
				 prevSearch.length > input.length ||
				 input.indexOf(prevSearch) !== 0 ||
				 settings.bSorted // On resort, the display master needs to be
				                  // re-filtered since indexes will have changed
			) {
				settings.aiDisplay = displayMaster.slice();
			}
	
			// Search the display array
			display = settings.aiDisplay;
	
			for ( i=display.length-1 ; i>=0 ; i-- ) {
				if ( ! rpSearch.test( settings.aoData[ display[i] ]._sFilterRow ) ) {
					display.splice( i, 1 );
				}
			}
		}
	}
	
	
	/**
	 * Build a regular expression object suitable for searching a table
	 *  @param {string} sSearch string to search for
	 *  @param {bool} bRegex treat as a regular expression or not
	 *  @param {bool} bSmart perform smart filtering or not
	 *  @param {bool} bCaseInsensitive Do case insensitive matching or not
	 *  @returns {RegExp} constructed object
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterCreateSearch( search, regex, smart, caseInsensitive )
	{
		search = regex ?
			search :
			_fnEscapeRegex( search );
		
		if ( smart ) {
			/* For smart filtering we want to allow the search to work regardless of
			 * word order. We also want double quoted text to be preserved, so word
			 * order is important - a la google. So this is what we want to
			 * generate:
			 * 
			 * ^(?=.*?\bone\b)(?=.*?\btwo three\b)(?=.*?\bfour\b).*$
			 */
			var a = $.map( search.match( /"[^"]+"|[^ ]+/g ) || [''], function ( word ) {
				if ( word.charAt(0) === '"' ) {
					var m = word.match( /^"(.*)"$/ );
					word = m ? m[1] : word;
				}
	
				return word.replace('"', '');
			} );
	
			search = '^(?=.*?'+a.join( ')(?=.*?' )+').*$';
		}
	
		return new RegExp( search, caseInsensitive ? 'i' : '' );
	}
	
	
	/**
	 * Escape a string such that it can be used in a regular expression
	 *  @param {string} sVal string to escape
	 *  @returns {string} escaped string
	 *  @memberof DataTable#oApi
	 */
	var _fnEscapeRegex = DataTable.util.escapeRegex;
	
	var __filter_div = $('<div>')[0];
	var __filter_div_textContent = __filter_div.textContent !== undefined;
	
	// Update the filtering data for each row if needed (by invalidation or first run)
	function _fnFilterData ( settings )
	{
		var columns = settings.aoColumns;
		var column;
		var i, j, ien, jen, filterData, cellData, row;
		var fomatters = DataTable.ext.type.search;
		var wasInvalidated = false;
	
		for ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			row = settings.aoData[i];
	
			if ( ! row._aFilterData ) {
				filterData = [];
	
				for ( j=0, jen=columns.length ; j<jen ; j++ ) {
					column = columns[j];
	
					if ( column.bSearchable ) {
						cellData = _fnGetCellData( settings, i, j, 'filter' );
	
						if ( fomatters[ column.sType ] ) {
							cellData = fomatters[ column.sType ]( cellData );
						}
	
						// Search in DataTables 1.10 is string based. In 1.11 this
						// should be altered to also allow strict type checking.
						if ( cellData === null ) {
							cellData = '';
						}
	
						if ( typeof cellData !== 'string' && cellData.toString ) {
							cellData = cellData.toString();
						}
					}
					else {
						cellData = '';
					}
	
					// If it looks like there is an HTML entity in the string,
					// attempt to decode it so sorting works as expected. Note that
					// we could use a single line of jQuery to do this, but the DOM
					// method used here is much faster http://jsperf.com/html-decode
					if ( cellData.indexOf && cellData.indexOf('&') !== -1 ) {
						__filter_div.innerHTML = cellData;
						cellData = __filter_div_textContent ?
							__filter_div.textContent :
							__filter_div.innerText;
					}
	
					if ( cellData.replace ) {
						cellData = cellData.replace(/[\r\n]/g, '');
					}
	
					filterData.push( cellData );
				}
	
				row._aFilterData = filterData;
				row._sFilterRow = filterData.join('  ');
				wasInvalidated = true;
			}
		}
	
		return wasInvalidated;
	}
	
	
	/**
	 * Convert from the internal Hungarian notation to camelCase for external
	 * interaction
	 *  @param {object} obj Object to convert
	 *  @returns {object} Inverted object
	 *  @memberof DataTable#oApi
	 */
	function _fnSearchToCamel ( obj )
	{
		return {
			search:          obj.sSearch,
			smart:           obj.bSmart,
			regex:           obj.bRegex,
			caseInsensitive: obj.bCaseInsensitive
		};
	}
	
	
	
	/**
	 * Convert from camelCase notation to the internal Hungarian. We could use the
	 * Hungarian convert function here, but this is cleaner
	 *  @param {object} obj Object to convert
	 *  @returns {object} Inverted object
	 *  @memberof DataTable#oApi
	 */
	function _fnSearchToHung ( obj )
	{
		return {
			sSearch:          obj.search,
			bSmart:           obj.smart,
			bRegex:           obj.regex,
			bCaseInsensitive: obj.caseInsensitive
		};
	}
	
	/**
	 * Generate the node required for the info display
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {node} Information element
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlInfo ( settings )
	{
		var
			tid = settings.sTableId,
			nodes = settings.aanFeatures.i,
			n = $('<div/>', {
				'class': settings.oClasses.sInfo,
				'id': ! nodes ? tid+'_info' : null
			} );
	
		if ( ! nodes ) {
			// Update display on each draw
			settings.aoDrawCallback.push( {
				"fn": _fnUpdateInfo,
				"sName": "information"
			} );
	
			n
				.attr( 'role', 'status' )
				.attr( 'aria-live', 'polite' );
	
			// Table is described by our info div
			$(settings.nTable).attr( 'aria-describedby', tid+'_info' );
		}
	
		return n[0];
	}
	
	
	/**
	 * Update the information elements in the display
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnUpdateInfo ( settings )
	{
		/* Show information about the table */
		var nodes = settings.aanFeatures.i;
		if ( nodes.length === 0 ) {
			return;
		}
	
		var
			lang  = settings.oLanguage,
			start = settings._iDisplayStart+1,
			end   = settings.fnDisplayEnd(),
			max   = settings.fnRecordsTotal(),
			total = settings.fnRecordsDisplay(),
			out   = total ?
				lang.sInfo :
				lang.sInfoEmpty;
	
		if ( total !== max ) {
			/* Record set after filtering */
			out += ' ' + lang.sInfoFiltered;
		}
	
		// Convert the macros
		out += lang.sInfoPostFix;
		out = _fnInfoMacros( settings, out );
	
		var callback = lang.fnInfoCallback;
		if ( callback !== null ) {
			out = callback.call( settings.oInstance,
				settings, start, end, max, total, out
			);
		}
	
		$(nodes).html( out );
	}
	
	
	function _fnInfoMacros ( settings, str )
	{
		// When infinite scrolling, we are always starting at 1. _iDisplayStart is used only
		// internally
		var
			formatter  = settings.fnFormatNumber,
			start      = settings._iDisplayStart+1,
			len        = settings._iDisplayLength,
			vis        = settings.fnRecordsDisplay(),
			all        = len === -1;
	
		return str.
			replace(/_START_/g, formatter.call( settings, start ) ).
			replace(/_END_/g,   formatter.call( settings, settings.fnDisplayEnd() ) ).
			replace(/_MAX_/g,   formatter.call( settings, settings.fnRecordsTotal() ) ).
			replace(/_TOTAL_/g, formatter.call( settings, vis ) ).
			replace(/_PAGE_/g,  formatter.call( settings, all ? 1 : Math.ceil( start / len ) ) ).
			replace(/_PAGES_/g, formatter.call( settings, all ? 1 : Math.ceil( vis / len ) ) );
	}
	
	
	
	/**
	 * Draw the table for the first time, adding all required features
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnInitialise ( settings )
	{
		var i, iLen, iAjaxStart=settings.iInitDisplayStart;
		var columns = settings.aoColumns, column;
		var features = settings.oFeatures;
		var deferLoading = settings.bDeferLoading; // value modified by the draw
	
		/* Ensure that the table data is fully initialised */
		if ( ! settings.bInitialised ) {
			setTimeout( function(){ _fnInitialise( settings ); }, 200 );
			return;
		}
	
		/* Show the display HTML options */
		_fnAddOptionsHtml( settings );
	
		/* Build and draw the header / footer for the table */
		_fnBuildHead( settings );
		_fnDrawHead( settings, settings.aoHeader );
		_fnDrawHead( settings, settings.aoFooter );
	
		/* Okay to show that something is going on now */
		_fnProcessingDisplay( settings, true );
	
		/* Calculate sizes for columns */
		if ( features.bAutoWidth ) {
			_fnCalculateColumnWidths( settings );
		}
	
		for ( i=0, iLen=columns.length ; i<iLen ; i++ ) {
			column = columns[i];
	
			if ( column.sWidth ) {
				column.nTh.style.width = _fnStringToCss( column.sWidth );
			}
		}
	
		_fnCallbackFire( settings, null, 'preInit', [settings] );
	
		// If there is default sorting required - let's do it. The sort function
		// will do the drawing for us. Otherwise we draw the table regardless of the
		// Ajax source - this allows the table to look initialised for Ajax sourcing
		// data (show 'loading' message possibly)
		_fnReDraw( settings );
	
		// Server-side processing init complete is done by _fnAjaxUpdateDraw
		var dataSrc = _fnDataSource( settings );
		if ( dataSrc != 'ssp' || deferLoading ) {
			// if there is an ajax source load the data
			if ( dataSrc == 'ajax' ) {
				_fnBuildAjax( settings, [], function(json) {
					var aData = _fnAjaxDataSrc( settings, json );
	
					// Got the data - add it to the table
					for ( i=0 ; i<aData.length ; i++ ) {
						_fnAddData( settings, aData[i] );
					}
	
					// Reset the init display for cookie saving. We've already done
					// a filter, and therefore cleared it before. So we need to make
					// it appear 'fresh'
					settings.iInitDisplayStart = iAjaxStart;
	
					_fnReDraw( settings );
	
					_fnProcessingDisplay( settings, false );
					_fnInitComplete( settings, json );
				}, settings );
			}
			else {
				_fnProcessingDisplay( settings, false );
				_fnInitComplete( settings );
			}
		}
	}
	
	
	/**
	 * Draw the table for the first time, adding all required features
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} [json] JSON from the server that completed the table, if using Ajax source
	 *    with client-side processing (optional)
	 *  @memberof DataTable#oApi
	 */
	function _fnInitComplete ( settings, json )
	{
		settings._bInitComplete = true;
	
		// When data was added after the initialisation (data or Ajax) we need to
		// calculate the column sizing
		if ( json || settings.oInit.aaData ) {
			_fnAdjustColumnSizing( settings );
		}
	
		_fnCallbackFire( settings, null, 'plugin-init', [settings, json] );
		_fnCallbackFire( settings, 'aoInitComplete', 'init', [settings, json] );
	}
	
	
	function _fnLengthChange ( settings, val )
	{
		var len = parseInt( val, 10 );
		settings._iDisplayLength = len;
	
		_fnLengthOverflow( settings );
	
		// Fire length change event
		_fnCallbackFire( settings, null, 'length', [settings, len] );
	}
	
	
	/**
	 * Generate the node required for user display length changing
	 *  @param {object} settings dataTables settings object
	 *  @returns {node} Display length feature node
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlLength ( settings )
	{
		var
			classes  = settings.oClasses,
			tableId  = settings.sTableId,
			menu     = settings.aLengthMenu,
			d2       = $.isArray( menu[0] ),
			lengths  = d2 ? menu[0] : menu,
			language = d2 ? menu[1] : menu;
	
		var select = $('<select/>', {
			'name':          tableId+'_length',
			'aria-controls': tableId,
			'class':         classes.sLengthSelect
		} );
	
		for ( var i=0, ien=lengths.length ; i<ien ; i++ ) {
			select[0][ i ] = new Option( language[i], lengths[i] );
		}
	
		var div = $('<div><label/></div>').addClass( classes.sLength );
		if ( ! settings.aanFeatures.l ) {
			div[0].id = tableId+'_length';
		}
	
		div.children().append(
			settings.oLanguage.sLengthMenu.replace( '_MENU_', select[0].outerHTML )
		);
	
		// Can't use `select` variable as user might provide their own and the
		// reference is broken by the use of outerHTML
		$('select', div)
			.val( settings._iDisplayLength )
			.bind( 'change.DT', function(e) {
				_fnLengthChange( settings, $(this).val() );
				_fnDraw( settings );
			} );
	
		// Update node value whenever anything changes the table's length
		$(settings.nTable).bind( 'length.dt.DT', function (e, s, len) {
			if ( settings === s ) {
				$('select', div).val( len );
			}
		} );
	
		return div[0];
	}
	
	
	
	/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
	 * Note that most of the paging logic is done in
	 * DataTable.ext.pager
	 */
	
	/**
	 * Generate the node required for default pagination
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {node} Pagination feature node
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlPaginate ( settings )
	{
		var
			type   = settings.sPaginationType,
			plugin = DataTable.ext.pager[ type ],
			modern = typeof plugin === 'function',
			redraw = function( settings ) {
				_fnDraw( settings );
			},
			node = $('<div/>').addClass( settings.oClasses.sPaging + type )[0],
			features = settings.aanFeatures;
	
		if ( ! modern ) {
			plugin.fnInit( settings, node, redraw );
		}
	
		/* Add a draw callback for the pagination on first instance, to update the paging display */
		if ( ! features.p )
		{
			node.id = settings.sTableId+'_paginate';
	
			settings.aoDrawCallback.push( {
				"fn": function( settings ) {
					if ( modern ) {
						var
							start      = settings._iDisplayStart,
							len        = settings._iDisplayLength,
							visRecords = settings.fnRecordsDisplay(),
							all        = len === -1,
							page = all ? 0 : Math.ceil( start / len ),
							pages = all ? 1 : Math.ceil( visRecords / len ),
							buttons = plugin(page, pages),
							i, ien;
	
						for ( i=0, ien=features.p.length ; i<ien ; i++ ) {
							_fnRenderer( settings, 'pageButton' )(
								settings, features.p[i], i, buttons, page, pages
							);
						}
					}
					else {
						plugin.fnUpdate( settings, redraw );
					}
				},
				"sName": "pagination"
			} );
		}
	
		return node;
	}
	
	
	/**
	 * Alter the display settings to change the page
	 *  @param {object} settings DataTables settings object
	 *  @param {string|int} action Paging action to take: "first", "previous",
	 *    "next" or "last" or page number to jump to (integer)
	 *  @param [bool] redraw Automatically draw the update or not
	 *  @returns {bool} true page has changed, false - no change
	 *  @memberof DataTable#oApi
	 */
	function _fnPageChange ( settings, action, redraw )
	{
		var
			start     = settings._iDisplayStart,
			len       = settings._iDisplayLength,
			records   = settings.fnRecordsDisplay();
	
		if ( records === 0 || len === -1 )
		{
			start = 0;
		}
		else if ( typeof action === "number" )
		{
			start = action * len;
	
			if ( start > records )
			{
				start = 0;
			}
		}
		else if ( action == "first" )
		{
			start = 0;
		}
		else if ( action == "previous" )
		{
			start = len >= 0 ?
				start - len :
				0;
	
			if ( start < 0 )
			{
			  start = 0;
			}
		}
		else if ( action == "next" )
		{
			if ( start + len < records )
			{
				start += len;
			}
		}
		else if ( action == "last" )
		{
			start = Math.floor( (records-1) / len) * len;
		}
		else
		{
			_fnLog( settings, 0, "Unknown paging action: "+action, 5 );
		}
	
		var changed = settings._iDisplayStart !== start;
		settings._iDisplayStart = start;
	
		if ( changed ) {
			_fnCallbackFire( settings, null, 'page', [settings] );
	
			if ( redraw ) {
				_fnDraw( settings );
			}
		}
	
		return changed;
	}
	
	
	
	/**
	 * Generate the node required for the processing node
	 *  @param {object} settings dataTables settings object
	 *  @returns {node} Processing element
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlProcessing ( settings )
	{
		return $('<div/>', {
				'id': ! settings.aanFeatures.r ? settings.sTableId+'_processing' : null,
				'class': settings.oClasses.sProcessing
			} )
			.html( settings.oLanguage.sProcessing )
			.insertBefore( settings.nTable )[0];
	}
	
	
	/**
	 * Display or hide the processing indicator
	 *  @param {object} settings dataTables settings object
	 *  @param {bool} show Show the processing indicator (true) or not (false)
	 *  @memberof DataTable#oApi
	 */
	function _fnProcessingDisplay ( settings, show )
	{
		if ( settings.oFeatures.bProcessing ) {
			$(settings.aanFeatures.r).css( 'display', show ? 'block' : 'none' );
		}
	
		_fnCallbackFire( settings, null, 'processing', [settings, show] );
	}
	
	/**
	 * Add any control elements for the table - specifically scrolling
	 *  @param {object} settings dataTables settings object
	 *  @returns {node} Node to add to the DOM
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlTable ( settings )
	{
		var table = $(settings.nTable);
	
		// Add the ARIA grid role to the table
		table.attr( 'role', 'grid' );
	
		// Scrolling from here on in
		var scroll = settings.oScroll;
	
		if ( scroll.sX === '' && scroll.sY === '' ) {
			return settings.nTable;
		}
	
		var scrollX = scroll.sX;
		var scrollY = scroll.sY;
		var classes = settings.oClasses;
		var caption = table.children('caption');
		var captionSide = caption.length ? caption[0]._captionSide : null;
		var headerClone = $( table[0].cloneNode(false) );
		var footerClone = $( table[0].cloneNode(false) );
		var footer = table.children('tfoot');
		var _div = '<div/>';
		var size = function ( s ) {
			return !s ? null : _fnStringToCss( s );
		};
	
		if ( ! footer.length ) {
			footer = null;
		}
	
		/*
		 * The HTML structure that we want to generate in this function is:
		 *  div - scroller
		 *    div - scroll head
		 *      div - scroll head inner
		 *        table - scroll head table
		 *          thead - thead
		 *    div - scroll body
		 *      table - table (master table)
		 *        thead - thead clone for sizing
		 *        tbody - tbody
		 *    div - scroll foot
		 *      div - scroll foot inner
		 *        table - scroll foot table
		 *          tfoot - tfoot
		 */
		var scroller = $( _div, { 'class': classes.sScrollWrapper } )
			.append(
				$(_div, { 'class': classes.sScrollHead } )
					.css( {
						overflow: 'hidden',
						position: 'relative',
						border: 0,
						width: scrollX ? size(scrollX) : '100%'
					} )
					.append(
						$(_div, { 'class': classes.sScrollHeadInner } )
							.css( {
								'box-sizing': 'content-box',
								width: scroll.sXInner || '100%'
							} )
							.append(
								headerClone
									.removeAttr('id')
									.css( 'margin-left', 0 )
									.append( captionSide === 'top' ? caption : null )
									.append(
										table.children('thead')
									)
							)
					)
			)
			.append(
				$(_div, { 'class': classes.sScrollBody } )
					.css( {
						position: 'relative',
						overflow: 'auto',
						width: size( scrollX )
					} )
					.append( table )
			);
	
		if ( footer ) {
			scroller.append(
				$(_div, { 'class': classes.sScrollFoot } )
					.css( {
						overflow: 'hidden',
						border: 0,
						width: scrollX ? size(scrollX) : '100%'
					} )
					.append(
						$(_div, { 'class': classes.sScrollFootInner } )
							.append(
								footerClone
									.removeAttr('id')
									.css( 'margin-left', 0 )
									.append( captionSide === 'bottom' ? caption : null )
									.append(
										table.children('tfoot')
									)
							)
					)
			);
		}
	
		var children = scroller.children();
		var scrollHead = children[0];
		var scrollBody = children[1];
		var scrollFoot = footer ? children[2] : null;
	
		// When the body is scrolled, then we also want to scroll the headers
		if ( scrollX ) {
			$(scrollBody).on( 'scroll.DT', function (e) {
				var scrollLeft = this.scrollLeft;
	
				scrollHead.scrollLeft = scrollLeft;
	
				if ( footer ) {
					scrollFoot.scrollLeft = scrollLeft;
				}
			} );
		}
	
		$(scrollBody).css(
			scrollY && scroll.bCollapse ? 'max-height' : 'height', 
			scrollY
		);
	
		settings.nScrollHead = scrollHead;
		settings.nScrollBody = scrollBody;
		settings.nScrollFoot = scrollFoot;
	
		// On redraw - align columns
		settings.aoDrawCallback.push( {
			"fn": _fnScrollDraw,
			"sName": "scrolling"
		} );
	
		return scroller[0];
	}
	
	
	
	/**
	 * Update the header, footer and body tables for resizing - i.e. column
	 * alignment.
	 *
	 * Welcome to the most horrible function DataTables. The process that this
	 * function follows is basically:
	 *   1. Re-create the table inside the scrolling div
	 *   2. Take live measurements from the DOM
	 *   3. Apply the measurements to align the columns
	 *   4. Clean up
	 *
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnScrollDraw ( settings )
	{
		// Given that this is such a monster function, a lot of variables are use
		// to try and keep the minimised size as small as possible
		var
			scroll         = settings.oScroll,
			scrollX        = scroll.sX,
			scrollXInner   = scroll.sXInner,
			scrollY        = scroll.sY,
			barWidth       = scroll.iBarWidth,
			divHeader      = $(settings.nScrollHead),
			divHeaderStyle = divHeader[0].style,
			divHeaderInner = divHeader.children('div'),
			divHeaderInnerStyle = divHeaderInner[0].style,
			divHeaderTable = divHeaderInner.children('table'),
			divBodyEl      = settings.nScrollBody,
			divBody        = $(divBodyEl),
			divBodyStyle   = divBodyEl.style,
			divFooter      = $(settings.nScrollFoot),
			divFooterInner = divFooter.children('div'),
			divFooterTable = divFooterInner.children('table'),
			header         = $(settings.nTHead),
			table          = $(settings.nTable),
			tableEl        = table[0],
			tableStyle     = tableEl.style,
			footer         = settings.nTFoot ? $(settings.nTFoot) : null,
			browser        = settings.oBrowser,
			ie67           = browser.bScrollOversize,
			dtHeaderCells  = _pluck( settings.aoColumns, 'nTh' ),
			headerTrgEls, footerTrgEls,
			headerSrcEls, footerSrcEls,
			headerCopy, footerCopy,
			headerWidths=[], footerWidths=[],
			headerContent=[], footerContent=[],
			idx, correction, sanityWidth,
			zeroOut = function(nSizer) {
				var style = nSizer.style;
				style.paddingTop = "0";
				style.paddingBottom = "0";
				style.borderTopWidth = "0";
				style.borderBottomWidth = "0";
				style.height = 0;
			};
	
		// If the scrollbar visibility has changed from the last draw, we need to
		// adjust the column sizes as the table width will have changed to account
		// for the scrollbar
		var scrollBarVis = divBodyEl.scrollHeight > divBodyEl.clientHeight;
		
		if ( settings.scrollBarVis !== scrollBarVis && settings.scrollBarVis !== undefined ) {
			settings.scrollBarVis = scrollBarVis;
			_fnAdjustColumnSizing( settings );
			return; // adjust column sizing will call this function again
		}
		else {
			settings.scrollBarVis = scrollBarVis;
		}
	
		/*
		 * 1. Re-create the table inside the scrolling div
		 */
	
		// Remove the old minimised thead and tfoot elements in the inner table
		table.children('thead, tfoot').remove();
	
		if ( footer ) {
			footerCopy = footer.clone().prependTo( table );
			footerTrgEls = footer.find('tr'); // the original tfoot is in its own table and must be sized
			footerSrcEls = footerCopy.find('tr');
		}
	
		// Clone the current header and footer elements and then place it into the inner table
		headerCopy = header.clone().prependTo( table );
		headerTrgEls = header.find('tr'); // original header is in its own table
		headerSrcEls = headerCopy.find('tr');
		headerCopy.find('th, td').removeAttr('tabindex');
	
	
		/*
		 * 2. Take live measurements from the DOM - do not alter the DOM itself!
		 */
	
		// Remove old sizing and apply the calculated column widths
		// Get the unique column headers in the newly created (cloned) header. We want to apply the
		// calculated sizes to this header
		if ( ! scrollX )
		{
			divBodyStyle.width = '100%';
			divHeader[0].style.width = '100%';
		}
	
		$.each( _fnGetUniqueThs( settings, headerCopy ), function ( i, el ) {
			idx = _fnVisibleToColumnIndex( settings, i );
			el.style.width = settings.aoColumns[idx].sWidth;
		} );
	
		if ( footer ) {
			_fnApplyToChildren( function(n) {
				n.style.width = "";
			}, footerSrcEls );
		}
	
		// Size the table as a whole
		sanityWidth = table.outerWidth();
		if ( scrollX === "" ) {
			// No x scrolling
			tableStyle.width = "100%";
	
			// IE7 will make the width of the table when 100% include the scrollbar
			// - which is shouldn't. When there is a scrollbar we need to take this
			// into account.
			if ( ie67 && (table.find('tbody').height() > divBodyEl.offsetHeight ||
				divBody.css('overflow-y') == "scroll")
			) {
				tableStyle.width = _fnStringToCss( table.outerWidth() - barWidth);
			}
	
			// Recalculate the sanity width
			sanityWidth = table.outerWidth();
		}
		else if ( scrollXInner !== "" ) {
			// legacy x scroll inner has been given - use it
			tableStyle.width = _fnStringToCss(scrollXInner);
	
			// Recalculate the sanity width
			sanityWidth = table.outerWidth();
		}
	
		// Hidden header should have zero height, so remove padding and borders. Then
		// set the width based on the real headers
	
		// Apply all styles in one pass
		_fnApplyToChildren( zeroOut, headerSrcEls );
	
		// Read all widths in next pass
		_fnApplyToChildren( function(nSizer) {
			headerContent.push( nSizer.innerHTML );
			headerWidths.push( _fnStringToCss( $(nSizer).css('width') ) );
		}, headerSrcEls );
	
		// Apply all widths in final pass
		_fnApplyToChildren( function(nToSize, i) {
			// Only apply widths to the DataTables detected header cells - this
			// prevents complex headers from having contradictory sizes applied
			if ( $.inArray( nToSize, dtHeaderCells ) !== -1 ) {
				nToSize.style.width = headerWidths[i];
			}
		}, headerTrgEls );
	
		$(headerSrcEls).height(0);
	
		/* Same again with the footer if we have one */
		if ( footer )
		{
			_fnApplyToChildren( zeroOut, footerSrcEls );
	
			_fnApplyToChildren( function(nSizer) {
				footerContent.push( nSizer.innerHTML );
				footerWidths.push( _fnStringToCss( $(nSizer).css('width') ) );
			}, footerSrcEls );
	
			_fnApplyToChildren( function(nToSize, i) {
				nToSize.style.width = footerWidths[i];
			}, footerTrgEls );
	
			$(footerSrcEls).height(0);
		}
	
	
		/*
		 * 3. Apply the measurements
		 */
	
		// "Hide" the header and footer that we used for the sizing. We need to keep
		// the content of the cell so that the width applied to the header and body
		// both match, but we want to hide it completely. We want to also fix their
		// width to what they currently are
		_fnApplyToChildren( function(nSizer, i) {
			nSizer.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+headerContent[i]+'</div>';
			nSizer.style.width = headerWidths[i];
		}, headerSrcEls );
	
		if ( footer )
		{
			_fnApplyToChildren( function(nSizer, i) {
				nSizer.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+footerContent[i]+'</div>';
				nSizer.style.width = footerWidths[i];
			}, footerSrcEls );
		}
	
		// Sanity check that the table is of a sensible width. If not then we are going to get
		// misalignment - try to prevent this by not allowing the table to shrink below its min width
		if ( table.outerWidth() < sanityWidth )
		{
			// The min width depends upon if we have a vertical scrollbar visible or not */
			correction = ((divBodyEl.scrollHeight > divBodyEl.offsetHeight ||
				divBody.css('overflow-y') == "scroll")) ?
					sanityWidth+barWidth :
					sanityWidth;
	
			// IE6/7 are a law unto themselves...
			if ( ie67 && (divBodyEl.scrollHeight >
				divBodyEl.offsetHeight || divBody.css('overflow-y') == "scroll")
			) {
				tableStyle.width = _fnStringToCss( correction-barWidth );
			}
	
			// And give the user a warning that we've stopped the table getting too small
			if ( scrollX === "" || scrollXInner !== "" ) {
				_fnLog( settings, 1, 'Possible column misalignment', 6 );
			}
		}
		else
		{
			correction = '100%';
		}
	
		// Apply to the container elements
		divBodyStyle.width = _fnStringToCss( correction );
		divHeaderStyle.width = _fnStringToCss( correction );
	
		if ( footer ) {
			settings.nScrollFoot.style.width = _fnStringToCss( correction );
		}
	
	
		/*
		 * 4. Clean up
		 */
		if ( ! scrollY ) {
			/* IE7< puts a vertical scrollbar in place (when it shouldn't be) due to subtracting
			 * the scrollbar height from the visible display, rather than adding it on. We need to
			 * set the height in order to sort this. Don't want to do it in any other browsers.
			 */
			if ( ie67 ) {
				divBodyStyle.height = _fnStringToCss( tableEl.offsetHeight+barWidth );
			}
		}
	
		/* Finally set the width's of the header and footer tables */
		var iOuterWidth = table.outerWidth();
		divHeaderTable[0].style.width = _fnStringToCss( iOuterWidth );
		divHeaderInnerStyle.width = _fnStringToCss( iOuterWidth );
	
		// Figure out if there are scrollbar present - if so then we need a the header and footer to
		// provide a bit more space to allow "overflow" scrolling (i.e. past the scrollbar)
		var bScrolling = table.height() > divBodyEl.clientHeight || divBody.css('overflow-y') == "scroll";
		var padding = 'padding' + (browser.bScrollbarLeft ? 'Left' : 'Right' );
		divHeaderInnerStyle[ padding ] = bScrolling ? barWidth+"px" : "0px";
	
		if ( footer ) {
			divFooterTable[0].style.width = _fnStringToCss( iOuterWidth );
			divFooterInner[0].style.width = _fnStringToCss( iOuterWidth );
			divFooterInner[0].style[padding] = bScrolling ? barWidth+"px" : "0px";
		}
	
		// Correct DOM ordering for colgroup - comes before the thead
		table.children('colgroup').insertBefore( table.children('thead') );
	
		/* Adjust the position of the header in case we loose the y-scrollbar */
		divBody.scroll();
	
		// If sorting or filtering has occurred, jump the scrolling back to the top
		// only if we aren't holding the position
		if ( (settings.bSorted || settings.bFiltered) && ! settings._drawHold ) {
			divBodyEl.scrollTop = 0;
		}
	}
	
	
	
	/**
	 * Apply a given function to the display child nodes of an element array (typically
	 * TD children of TR rows
	 *  @param {function} fn Method to apply to the objects
	 *  @param array {nodes} an1 List of elements to look through for display children
	 *  @param array {nodes} an2 Another list (identical structure to the first) - optional
	 *  @memberof DataTable#oApi
	 */
	function _fnApplyToChildren( fn, an1, an2 )
	{
		var index=0, i=0, iLen=an1.length;
		var nNode1, nNode2;
	
		while ( i < iLen ) {
			nNode1 = an1[i].firstChild;
			nNode2 = an2 ? an2[i].firstChild : null;
	
			while ( nNode1 ) {
				if ( nNode1.nodeType === 1 ) {
					if ( an2 ) {
						fn( nNode1, nNode2, index );
					}
					else {
						fn( nNode1, index );
					}
	
					index++;
				}
	
				nNode1 = nNode1.nextSibling;
				nNode2 = an2 ? nNode2.nextSibling : null;
			}
	
			i++;
		}
	}
	
	
	
	var __re_html_remove = /<.*?>/g;
	
	
	/**
	 * Calculate the width of columns for the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnCalculateColumnWidths ( oSettings )
	{
		var
			table = oSettings.nTable,
			columns = oSettings.aoColumns,
			scroll = oSettings.oScroll,
			scrollY = scroll.sY,
			scrollX = scroll.sX,
			scrollXInner = scroll.sXInner,
			columnCount = columns.length,
			visibleColumns = _fnGetColumns( oSettings, 'bVisible' ),
			headerCells = $('th', oSettings.nTHead),
			tableWidthAttr = table.getAttribute('width'), // from DOM element
			tableContainer = table.parentNode,
			userInputs = false,
			i, column, columnIdx, width, outerWidth,
			browser = oSettings.oBrowser,
			ie67 = browser.bScrollOversize;
	
		var styleWidth = table.style.width;
		if ( styleWidth && styleWidth.indexOf('%') !== -1 ) {
			tableWidthAttr = styleWidth;
		}
	
		/* Convert any user input sizes into pixel sizes */
		for ( i=0 ; i<visibleColumns.length ; i++ ) {
			column = columns[ visibleColumns[i] ];
	
			if ( column.sWidth !== null ) {
				column.sWidth = _fnConvertToWidth( column.sWidthOrig, tableContainer );
	
				userInputs = true;
			}
		}
	
		/* If the number of columns in the DOM equals the number that we have to
		 * process in DataTables, then we can use the offsets that are created by
		 * the web- browser. No custom sizes can be set in order for this to happen,
		 * nor scrolling used
		 */
		if ( ie67 || ! userInputs && ! scrollX && ! scrollY &&
		     columnCount == _fnVisbleColumns( oSettings ) &&
		     columnCount == headerCells.length
		) {
			for ( i=0 ; i<columnCount ; i++ ) {
				var colIdx = _fnVisibleToColumnIndex( oSettings, i );
	
				if ( colIdx !== null ) {
					columns[ colIdx ].sWidth = _fnStringToCss( headerCells.eq(i).width() );
				}
			}
		}
		else
		{
			// Otherwise construct a single row, worst case, table with the widest
			// node in the data, assign any user defined widths, then insert it into
			// the DOM and allow the browser to do all the hard work of calculating
			// table widths
			var tmpTable = $(table).clone() // don't use cloneNode - IE8 will remove events on the main table
				.css( 'visibility', 'hidden' )
				.removeAttr( 'id' );
	
			// Clean up the table body
			tmpTable.find('tbody tr').remove();
			var tr = $('<tr/>').appendTo( tmpTable.find('tbody') );
	
			// Clone the table header and footer - we can't use the header / footer
			// from the cloned table, since if scrolling is active, the table's
			// real header and footer are contained in different table tags
			tmpTable.find('thead, tfoot').remove();
			tmpTable
				.append( $(oSettings.nTHead).clone() )
				.append( $(oSettings.nTFoot).clone() );
	
			// Remove any assigned widths from the footer (from scrolling)
			tmpTable.find('tfoot th, tfoot td').css('width', '');
	
			// Apply custom sizing to the cloned header
			headerCells = _fnGetUniqueThs( oSettings, tmpTable.find('thead')[0] );
	
			for ( i=0 ; i<visibleColumns.length ; i++ ) {
				column = columns[ visibleColumns[i] ];
	
				headerCells[i].style.width = column.sWidthOrig !== null && column.sWidthOrig !== '' ?
					_fnStringToCss( column.sWidthOrig ) :
					'';
	
				// For scrollX we need to force the column width otherwise the
				// browser will collapse it. If this width is smaller than the
				// width the column requires, then it will have no effect
				if ( column.sWidthOrig && scrollX ) {
					$( headerCells[i] ).append( $('<div/>').css( {
						width: column.sWidthOrig,
						margin: 0,
						padding: 0,
						border: 0,
						height: 1
					} ) );
				}
			}
	
			// Find the widest cell for each column and put it into the table
			if ( oSettings.aoData.length ) {
				for ( i=0 ; i<visibleColumns.length ; i++ ) {
					columnIdx = visibleColumns[i];
					column = columns[ columnIdx ];
	
					$( _fnGetWidestNode( oSettings, columnIdx ) )
						.clone( false )
						.append( column.sContentPadding )
						.appendTo( tr );
				}
			}
	
			// Tidy the temporary table - remove name attributes so there aren't
			// duplicated in the dom (radio elements for example)
			$('[name]', tmpTable).removeAttr('name');
	
			// Table has been built, attach to the document so we can work with it.
			// A holding element is used, positioned at the top of the container
			// with minimal height, so it has no effect on if the container scrolls
			// or not. Otherwise it might trigger scrolling when it actually isn't
			// needed
			var holder = $('<div/>').css( scrollX || scrollY ?
					{
						position: 'absolute',
						top: 0,
						left: 0,
						height: 1,
						right: 0,
						overflow: 'hidden'
					} :
					{}
				)
				.append( tmpTable )
				.appendTo( tableContainer );
	
			// When scrolling (X or Y) we want to set the width of the table as 
			// appropriate. However, when not scrolling leave the table width as it
			// is. This results in slightly different, but I think correct behaviour
			if ( scrollX && scrollXInner ) {
				tmpTable.width( scrollXInner );
			}
			else if ( scrollX ) {
				tmpTable.css( 'width', 'auto' );
				tmpTable.removeAttr('width');
	
				// If there is no width attribute or style, then allow the table to
				// collapse
				if ( tmpTable.width() < tableContainer.clientWidth && tableWidthAttr ) {
					tmpTable.width( tableContainer.clientWidth );
				}
			}
			else if ( scrollY ) {
				tmpTable.width( tableContainer.clientWidth );
			}
			else if ( tableWidthAttr ) {
				tmpTable.width( tableWidthAttr );
			}
	
			// Get the width of each column in the constructed table - we need to
			// know the inner width (so it can be assigned to the other table's
			// cells) and the outer width so we can calculate the full width of the
			// table. This is safe since DataTables requires a unique cell for each
			// column, but if ever a header can span multiple columns, this will
			// need to be modified.
			var total = 0;
			for ( i=0 ; i<visibleColumns.length ; i++ ) {
				var cell = $(headerCells[i]);
				var border = cell.outerWidth() - cell.width();
	
				// Use getBounding... where possible (not IE8-) because it can give
				// sub-pixel accuracy, which we then want to round up!
				var bounding = browser.bBounding ?
					Math.ceil( headerCells[i].getBoundingClientRect().width ) :
					cell.outerWidth();
	
				// Total is tracked to remove any sub-pixel errors as the outerWidth
				// of the table might not equal the total given here (IE!).
				total += bounding;
	
				// Width for each column to use
				columns[ visibleColumns[i] ].sWidth = _fnStringToCss( bounding - border );
			}
	
			table.style.width = _fnStringToCss( total );
	
			// Finished with the table - ditch it
			holder.remove();
		}
	
		// If there is a width attr, we want to attach an event listener which
		// allows the table sizing to automatically adjust when the window is
		// resized. Use the width attr rather than CSS, since we can't know if the
		// CSS is a relative value or absolute - DOM read is always px.
		if ( tableWidthAttr ) {
			table.style.width = _fnStringToCss( tableWidthAttr );
		}
	
		if ( (tableWidthAttr || scrollX) && ! oSettings._reszEvt ) {
			var bindResize = function () {
				$(window).bind('resize.DT-'+oSettings.sInstance, _fnThrottle( function () {
					_fnAdjustColumnSizing( oSettings );
				} ) );
			};
	
			// IE6/7 will crash if we bind a resize event handler on page load.
			// To be removed in 1.11 which drops IE6/7 support
			if ( ie67 ) {
				setTimeout( bindResize, 1000 );
			}
			else {
				bindResize();
			}
	
			oSettings._reszEvt = true;
		}
	}
	
	
	/**
	 * Throttle the calls to a function. Arguments and context are maintained for
	 * the throttled function
	 *  @param {function} fn Function to be called
	 *  @param {int} [freq=200] call frequency in mS
	 *  @returns {function} wrapped function
	 *  @memberof DataTable#oApi
	 */
	var _fnThrottle = DataTable.util.throttle;
	
	
	/**
	 * Convert a CSS unit width to pixels (e.g. 2em)
	 *  @param {string} width width to be converted
	 *  @param {node} parent parent to get the with for (required for relative widths) - optional
	 *  @returns {int} width in pixels
	 *  @memberof DataTable#oApi
	 */
	function _fnConvertToWidth ( width, parent )
	{
		if ( ! width ) {
			return 0;
		}
	
		var n = $('<div/>')
			.css( 'width', _fnStringToCss( width ) )
			.appendTo( parent || document.body );
	
		var val = n[0].offsetWidth;
		n.remove();
	
		return val;
	}
	
	
	/**
	 * Get the widest node
	 *  @param {object} settings dataTables settings object
	 *  @param {int} colIdx column of interest
	 *  @returns {node} widest table node
	 *  @memberof DataTable#oApi
	 */
	function _fnGetWidestNode( settings, colIdx )
	{
		var idx = _fnGetMaxLenString( settings, colIdx );
		if ( idx < 0 ) {
			return null;
		}
	
		var data = settings.aoData[ idx ];
		return ! data.nTr ? // Might not have been created when deferred rendering
			$('<td/>').html( _fnGetCellData( settings, idx, colIdx, 'display' ) )[0] :
			data.anCells[ colIdx ];
	}
	
	
	/**
	 * Get the maximum strlen for each data column
	 *  @param {object} settings dataTables settings object
	 *  @param {int} colIdx column of interest
	 *  @returns {string} max string length for each column
	 *  @memberof DataTable#oApi
	 */
	function _fnGetMaxLenString( settings, colIdx )
	{
		var s, max=-1, maxIdx = -1;
	
		for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			s = _fnGetCellData( settings, i, colIdx, 'display' )+'';
			s = s.replace( __re_html_remove, '' );
			s = s.replace( /&nbsp;/g, ' ' );
	
			if ( s.length > max ) {
				max = s.length;
				maxIdx = i;
			}
		}
	
		return maxIdx;
	}
	
	
	/**
	 * Append a CSS unit (only if required) to a string
	 *  @param {string} value to css-ify
	 *  @returns {string} value with css unit
	 *  @memberof DataTable#oApi
	 */
	function _fnStringToCss( s )
	{
		if ( s === null ) {
			return '0px';
		}
	
		if ( typeof s == 'number' ) {
			return s < 0 ?
				'0px' :
				s+'px';
		}
	
		// Check it has a unit character already
		return s.match(/\d$/) ?
			s+'px' :
			s;
	}
	
	
	
	function _fnSortFlatten ( settings )
	{
		var
			i, iLen, k, kLen,
			aSort = [],
			aiOrig = [],
			aoColumns = settings.aoColumns,
			aDataSort, iCol, sType, srcCol,
			fixed = settings.aaSortingFixed,
			fixedObj = $.isPlainObject( fixed ),
			nestedSort = [],
			add = function ( a ) {
				if ( a.length && ! $.isArray( a[0] ) ) {
					// 1D array
					nestedSort.push( a );
				}
				else {
					// 2D array
					$.merge( nestedSort, a );
				}
			};
	
		// Build the sort array, with pre-fix and post-fix options if they have been
		// specified
		if ( $.isArray( fixed ) ) {
			add( fixed );
		}
	
		if ( fixedObj && fixed.pre ) {
			add( fixed.pre );
		}
	
		add( settings.aaSorting );
	
		if (fixedObj && fixed.post ) {
			add( fixed.post );
		}
	
		for ( i=0 ; i<nestedSort.length ; i++ )
		{
			srcCol = nestedSort[i][0];
			aDataSort = aoColumns[ srcCol ].aDataSort;
	
			for ( k=0, kLen=aDataSort.length ; k<kLen ; k++ )
			{
				iCol = aDataSort[k];
				sType = aoColumns[ iCol ].sType || 'string';
	
				if ( nestedSort[i]._idx === undefined ) {
					nestedSort[i]._idx = $.inArray( nestedSort[i][1], aoColumns[iCol].asSorting );
				}
	
				aSort.push( {
					src:       srcCol,
					col:       iCol,
					dir:       nestedSort[i][1],
					index:     nestedSort[i]._idx,
					type:      sType,
					formatter: DataTable.ext.type.order[ sType+"-pre" ]
				} );
			}
		}
	
		return aSort;
	}
	
	/**
	 * Change the order of the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 *  @todo This really needs split up!
	 */
	function _fnSort ( oSettings )
	{
		var
			i, ien, iLen, j, jLen, k, kLen,
			sDataType, nTh,
			aiOrig = [],
			oExtSort = DataTable.ext.type.order,
			aoData = oSettings.aoData,
			aoColumns = oSettings.aoColumns,
			aDataSort, data, iCol, sType, oSort,
			formatters = 0,
			sortCol,
			displayMaster = oSettings.aiDisplayMaster,
			aSort;
	
		// Resolve any column types that are unknown due to addition or invalidation
		// @todo Can this be moved into a 'data-ready' handler which is called when
		//   data is going to be used in the table?
		_fnColumnTypes( oSettings );
	
		aSort = _fnSortFlatten( oSettings );
	
		for ( i=0, ien=aSort.length ; i<ien ; i++ ) {
			sortCol = aSort[i];
	
			// Track if we can use the fast sort algorithm
			if ( sortCol.formatter ) {
				formatters++;
			}
	
			// Load the data needed for the sort, for each cell
			_fnSortData( oSettings, sortCol.col );
		}
	
		/* No sorting required if server-side or no sorting array */
		if ( _fnDataSource( oSettings ) != 'ssp' && aSort.length !== 0 )
		{
			// Create a value - key array of the current row positions such that we can use their
			// current position during the sort, if values match, in order to perform stable sorting
			for ( i=0, iLen=displayMaster.length ; i<iLen ; i++ ) {
				aiOrig[ displayMaster[i] ] = i;
			}
	
			/* Do the sort - here we want multi-column sorting based on a given data source (column)
			 * and sorting function (from oSort) in a certain direction. It's reasonably complex to
			 * follow on it's own, but this is what we want (example two column sorting):
			 *  fnLocalSorting = function(a,b){
			 *    var iTest;
			 *    iTest = oSort['string-asc']('data11', 'data12');
			 *      if (iTest !== 0)
			 *        return iTest;
			 *    iTest = oSort['numeric-desc']('data21', 'data22');
			 *    if (iTest !== 0)
			 *      return iTest;
			 *    return oSort['numeric-asc']( aiOrig[a], aiOrig[b] );
			 *  }
			 * Basically we have a test for each sorting column, if the data in that column is equal,
			 * test the next column. If all columns match, then we use a numeric sort on the row
			 * positions in the original data array to provide a stable sort.
			 *
			 * Note - I know it seems excessive to have two sorting methods, but the first is around
			 * 15% faster, so the second is only maintained for backwards compatibility with sorting
			 * methods which do not have a pre-sort formatting function.
			 */
			if ( formatters === aSort.length ) {
				// All sort types have formatting functions
				displayMaster.sort( function ( a, b ) {
					var
						x, y, k, test, sort,
						len=aSort.length,
						dataA = aoData[a]._aSortData,
						dataB = aoData[b]._aSortData;
	
					for ( k=0 ; k<len ; k++ ) {
						sort = aSort[k];
	
						x = dataA[ sort.col ];
						y = dataB[ sort.col ];
	
						test = x<y ? -1 : x>y ? 1 : 0;
						if ( test !== 0 ) {
							return sort.dir === 'asc' ? test : -test;
						}
					}
	
					x = aiOrig[a];
					y = aiOrig[b];
					return x<y ? -1 : x>y ? 1 : 0;
				} );
			}
			else {
				// Depreciated - remove in 1.11 (providing a plug-in option)
				// Not all sort types have formatting methods, so we have to call their sorting
				// methods.
				displayMaster.sort( function ( a, b ) {
					var
						x, y, k, l, test, sort, fn,
						len=aSort.length,
						dataA = aoData[a]._aSortData,
						dataB = aoData[b]._aSortData;
	
					for ( k=0 ; k<len ; k++ ) {
						sort = aSort[k];
	
						x = dataA[ sort.col ];
						y = dataB[ sort.col ];
	
						fn = oExtSort[ sort.type+"-"+sort.dir ] || oExtSort[ "string-"+sort.dir ];
						test = fn( x, y );
						if ( test !== 0 ) {
							return test;
						}
					}
	
					x = aiOrig[a];
					y = aiOrig[b];
					return x<y ? -1 : x>y ? 1 : 0;
				} );
			}
		}
	
		/* Tell the draw function that we have sorted the data */
		oSettings.bSorted = true;
	}
	
	
	function _fnSortAria ( settings )
	{
		var label;
		var nextSort;
		var columns = settings.aoColumns;
		var aSort = _fnSortFlatten( settings );
		var oAria = settings.oLanguage.oAria;
	
		// ARIA attributes - need to loop all columns, to update all (removing old
		// attributes as needed)
		for ( var i=0, iLen=columns.length ; i<iLen ; i++ )
		{
			var col = columns[i];
			var asSorting = col.asSorting;
			var sTitle = col.sTitle.replace( /<.*?>/g, "" );
			var th = col.nTh;
	
			// IE7 is throwing an error when setting these properties with jQuery's
			// attr() and removeAttr() methods...
			th.removeAttribute('aria-sort');
	
			/* In ARIA only the first sorting column can be marked as sorting - no multi-sort option */
			if ( col.bSortable ) {
				if ( aSort.length > 0 && aSort[0].col == i ) {
					th.setAttribute('aria-sort', aSort[0].dir=="asc" ? "ascending" : "descending" );
					nextSort = asSorting[ aSort[0].index+1 ] || asSorting[0];
				}
				else {
					nextSort = asSorting[0];
				}
	
				label = sTitle + ( nextSort === "asc" ?
					oAria.sSortAscending :
					oAria.sSortDescending
				);
			}
			else {
				label = sTitle;
			}
	
			th.setAttribute('aria-label', label);
		}
	}
	
	
	/**
	 * Function to run on user sort request
	 *  @param {object} settings dataTables settings object
	 *  @param {node} attachTo node to attach the handler to
	 *  @param {int} colIdx column sorting index
	 *  @param {boolean} [append=false] Append the requested sort to the existing
	 *    sort if true (i.e. multi-column sort)
	 *  @param {function} [callback] callback function
	 *  @memberof DataTable#oApi
	 */
	function _fnSortListener ( settings, colIdx, append, callback )
	{
		var col = settings.aoColumns[ colIdx ];
		var sorting = settings.aaSorting;
		var asSorting = col.asSorting;
		var nextSortIdx;
		var next = function ( a, overflow ) {
			var idx = a._idx;
			if ( idx === undefined ) {
				idx = $.inArray( a[1], asSorting );
			}
	
			return idx+1 < asSorting.length ?
				idx+1 :
				overflow ?
					null :
					0;
		};
	
		// Convert to 2D array if needed
		if ( typeof sorting[0] === 'number' ) {
			sorting = settings.aaSorting = [ sorting ];
		}
	
		// If appending the sort then we are multi-column sorting
		if ( append && settings.oFeatures.bSortMulti ) {
			// Are we already doing some kind of sort on this column?
			var sortIdx = $.inArray( colIdx, _pluck(sorting, '0') );
	
			if ( sortIdx !== -1 ) {
				// Yes, modify the sort
				nextSortIdx = next( sorting[sortIdx], true );
	
				if ( nextSortIdx === null && sorting.length === 1 ) {
					nextSortIdx = 0; // can't remove sorting completely
				}
	
				if ( nextSortIdx === null ) {
					sorting.splice( sortIdx, 1 );
				}
				else {
					sorting[sortIdx][1] = asSorting[ nextSortIdx ];
					sorting[sortIdx]._idx = nextSortIdx;
				}
			}
			else {
				// No sort on this column yet
				sorting.push( [ colIdx, asSorting[0], 0 ] );
				sorting[sorting.length-1]._idx = 0;
			}
		}
		else if ( sorting.length && sorting[0][0] == colIdx ) {
			// Single column - already sorting on this column, modify the sort
			nextSortIdx = next( sorting[0] );
	
			sorting.length = 1;
			sorting[0][1] = asSorting[ nextSortIdx ];
			sorting[0]._idx = nextSortIdx;
		}
		else {
			// Single column - sort only on this column
			sorting.length = 0;
			sorting.push( [ colIdx, asSorting[0] ] );
			sorting[0]._idx = 0;
		}
	
		// Run the sort by calling a full redraw
		_fnReDraw( settings );
	
		// callback used for async user interaction
		if ( typeof callback == 'function' ) {
			callback( settings );
		}
	}
	
	
	/**
	 * Attach a sort handler (click) to a node
	 *  @param {object} settings dataTables settings object
	 *  @param {node} attachTo node to attach the handler to
	 *  @param {int} colIdx column sorting index
	 *  @param {function} [callback] callback function
	 *  @memberof DataTable#oApi
	 */
	function _fnSortAttachListener ( settings, attachTo, colIdx, callback )
	{
		var col = settings.aoColumns[ colIdx ];
	
		_fnBindAction( attachTo, {}, function (e) {
			/* If the column is not sortable - don't to anything */
			if ( col.bSortable === false ) {
				return;
			}
	
			// If processing is enabled use a timeout to allow the processing
			// display to be shown - otherwise to it synchronously
			if ( settings.oFeatures.bProcessing ) {
				_fnProcessingDisplay( settings, true );
	
				setTimeout( function() {
					_fnSortListener( settings, colIdx, e.shiftKey, callback );
	
					// In server-side processing, the draw callback will remove the
					// processing display
					if ( _fnDataSource( settings ) !== 'ssp' ) {
						_fnProcessingDisplay( settings, false );
					}
				}, 0 );
			}
			else {
				_fnSortListener( settings, colIdx, e.shiftKey, callback );
			}
		} );
	}
	
	
	/**
	 * Set the sorting classes on table's body, Note: it is safe to call this function
	 * when bSort and bSortClasses are false
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnSortingClasses( settings )
	{
		var oldSort = settings.aLastSort;
		var sortClass = settings.oClasses.sSortColumn;
		var sort = _fnSortFlatten( settings );
		var features = settings.oFeatures;
		var i, ien, colIdx;
	
		if ( features.bSort && features.bSortClasses ) {
			// Remove old sorting classes
			for ( i=0, ien=oldSort.length ; i<ien ; i++ ) {
				colIdx = oldSort[i].src;
	
				// Remove column sorting
				$( _pluck( settings.aoData, 'anCells', colIdx ) )
					.removeClass( sortClass + (i<2 ? i+1 : 3) );
			}
	
			// Add new column sorting
			for ( i=0, ien=sort.length ; i<ien ; i++ ) {
				colIdx = sort[i].src;
	
				$( _pluck( settings.aoData, 'anCells', colIdx ) )
					.addClass( sortClass + (i<2 ? i+1 : 3) );
			}
		}
	
		settings.aLastSort = sort;
	}
	
	
	// Get the data to sort a column, be it from cache, fresh (populating the
	// cache), or from a sort formatter
	function _fnSortData( settings, idx )
	{
		// Custom sorting function - provided by the sort data type
		var column = settings.aoColumns[ idx ];
		var customSort = DataTable.ext.order[ column.sSortDataType ];
		var customData;
	
		if ( customSort ) {
			customData = customSort.call( settings.oInstance, settings, idx,
				_fnColumnIndexToVisible( settings, idx )
			);
		}
	
		// Use / populate cache
		var row, cellData;
		var formatter = DataTable.ext.type.order[ column.sType+"-pre" ];
	
		for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			row = settings.aoData[i];
	
			if ( ! row._aSortData ) {
				row._aSortData = [];
			}
	
			if ( ! row._aSortData[idx] || customSort ) {
				cellData = customSort ?
					customData[i] : // If there was a custom sort function, use data from there
					_fnGetCellData( settings, i, idx, 'sort' );
	
				row._aSortData[ idx ] = formatter ?
					formatter( cellData ) :
					cellData;
			}
		}
	}
	
	
	
	/**
	 * Save the state of a table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnSaveState ( settings )
	{
		if ( !settings.oFeatures.bStateSave || settings.bDestroying )
		{
			return;
		}
	
		/* Store the interesting variables */
		var state = {
			time:    +new Date(),
			start:   settings._iDisplayStart,
			length:  settings._iDisplayLength,
			order:   $.extend( true, [], settings.aaSorting ),
			search:  _fnSearchToCamel( settings.oPreviousSearch ),
			columns: $.map( settings.aoColumns, function ( col, i ) {
				return {
					visible: col.bVisible,
					search: _fnSearchToCamel( settings.aoPreSearchCols[i] )
				};
			} )
		};
	
		_fnCallbackFire( settings, "aoStateSaveParams", 'stateSaveParams', [settings, state] );
	
		settings.oSavedState = state;
		settings.fnStateSaveCallback.call( settings.oInstance, settings, state );
	}
	
	
	/**
	 * Attempt to load a saved table state
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} oInit DataTables init object so we can override settings
	 *  @memberof DataTable#oApi
	 */
	function _fnLoadState ( settings, oInit )
	{
		var i, ien;
		var columns = settings.aoColumns;
	
		if ( ! settings.oFeatures.bStateSave ) {
			return;
		}
	
		var state = settings.fnStateLoadCallback.call( settings.oInstance, settings );
		if ( ! state || ! state.time ) {
			return;
		}
	
		/* Allow custom and plug-in manipulation functions to alter the saved data set and
		 * cancelling of loading by returning false
		 */
		var abStateLoad = _fnCallbackFire( settings, 'aoStateLoadParams', 'stateLoadParams', [settings, state] );
		if ( $.inArray( false, abStateLoad ) !== -1 ) {
			return;
		}
	
		/* Reject old data */
		var duration = settings.iStateDuration;
		if ( duration > 0 && state.time < +new Date() - (duration*1000) ) {
			return;
		}
	
		// Number of columns have changed - all bets are off, no restore of settings
		if ( columns.length !== state.columns.length ) {
			return;
		}
	
		// Store the saved state so it might be accessed at any time
		settings.oLoadedState = $.extend( true, {}, state );
	
		// Restore key features - todo - for 1.11 this needs to be done by
		// subscribed events
		if ( state.start !== undefined ) {
			settings._iDisplayStart    = state.start;
			settings.iInitDisplayStart = state.start;
		}
		if ( state.length !== undefined ) {
			settings._iDisplayLength   = state.length;
		}
	
		// Order
		if ( state.order !== undefined ) {
			settings.aaSorting = [];
			$.each( state.order, function ( i, col ) {
				settings.aaSorting.push( col[0] >= columns.length ?
					[ 0, col[1] ] :
					col
				);
			} );
		}
	
		// Search
		if ( state.search !== undefined ) {
			$.extend( settings.oPreviousSearch, _fnSearchToHung( state.search ) );
		}
	
		// Columns
		for ( i=0, ien=state.columns.length ; i<ien ; i++ ) {
			var col = state.columns[i];
	
			// Visibility
			if ( col.visible !== undefined ) {
				columns[i].bVisible = col.visible;
			}
	
			// Search
			if ( col.search !== undefined ) {
				$.extend( settings.aoPreSearchCols[i], _fnSearchToHung( col.search ) );
			}
		}
	
		_fnCallbackFire( settings, 'aoStateLoaded', 'stateLoaded', [settings, state] );
	}
	
	
	/**
	 * Return the settings object for a particular table
	 *  @param {node} table table we are using as a dataTable
	 *  @returns {object} Settings object - or null if not found
	 *  @memberof DataTable#oApi
	 */
	function _fnSettingsFromNode ( table )
	{
		var settings = DataTable.settings;
		var idx = $.inArray( table, _pluck( settings, 'nTable' ) );
	
		return idx !== -1 ?
			settings[ idx ] :
			null;
	}
	
	
	/**
	 * Log an error message
	 *  @param {object} settings dataTables settings object
	 *  @param {int} level log error messages, or display them to the user
	 *  @param {string} msg error message
	 *  @param {int} tn Technical note id to get more information about the error.
	 *  @memberof DataTable#oApi
	 */
	function _fnLog( settings, level, msg, tn )
	{
		msg = 'DataTables warning: '+
			(settings ? 'table id='+settings.sTableId+' - ' : '')+msg;
	
		if ( tn ) {
			msg += '. For more information about this error, please see '+
			'http://datatables.net/tn/'+tn;
		}
	
		if ( ! level  ) {
			// Backwards compatibility pre 1.10
			var ext = DataTable.ext;
			var type = ext.sErrMode || ext.errMode;
	
			if ( settings ) {
				_fnCallbackFire( settings, null, 'error', [ settings, tn, msg ] );
			}
	
			if ( type == 'alert' ) {
				alert( msg );
			}
			else if ( type == 'throw' ) {
				throw new Error(msg);
			}
			else if ( typeof type == 'function' ) {
				type( settings, tn, msg );
			}
		}
		else if ( window.console && console.log ) {
			console.log( msg );
		}
	}
	
	
	/**
	 * See if a property is defined on one object, if so assign it to the other object
	 *  @param {object} ret target object
	 *  @param {object} src source object
	 *  @param {string} name property
	 *  @param {string} [mappedName] name to map too - optional, name used if not given
	 *  @memberof DataTable#oApi
	 */
	function _fnMap( ret, src, name, mappedName )
	{
		if ( $.isArray( name ) ) {
			$.each( name, function (i, val) {
				if ( $.isArray( val ) ) {
					_fnMap( ret, src, val[0], val[1] );
				}
				else {
					_fnMap( ret, src, val );
				}
			} );
	
			return;
		}
	
		if ( mappedName === undefined ) {
			mappedName = name;
		}
	
		if ( src[name] !== undefined ) {
			ret[mappedName] = src[name];
		}
	}
	
	
	/**
	 * Extend objects - very similar to jQuery.extend, but deep copy objects, and
	 * shallow copy arrays. The reason we need to do this, is that we don't want to
	 * deep copy array init values (such as aaSorting) since the dev wouldn't be
	 * able to override them, but we do want to deep copy arrays.
	 *  @param {object} out Object to extend
	 *  @param {object} extender Object from which the properties will be applied to
	 *      out
	 *  @param {boolean} breakRefs If true, then arrays will be sliced to take an
	 *      independent copy with the exception of the `data` or `aaData` parameters
	 *      if they are present. This is so you can pass in a collection to
	 *      DataTables and have that used as your data source without breaking the
	 *      references
	 *  @returns {object} out Reference, just for convenience - out === the return.
	 *  @memberof DataTable#oApi
	 *  @todo This doesn't take account of arrays inside the deep copied objects.
	 */
	function _fnExtend( out, extender, breakRefs )
	{
		var val;
	
		for ( var prop in extender ) {
			if ( extender.hasOwnProperty(prop) ) {
				val = extender[prop];
	
				if ( $.isPlainObject( val ) ) {
					if ( ! $.isPlainObject( out[prop] ) ) {
						out[prop] = {};
					}
					$.extend( true, out[prop], val );
				}
				else if ( breakRefs && prop !== 'data' && prop !== 'aaData' && $.isArray(val) ) {
					out[prop] = val.slice();
				}
				else {
					out[prop] = val;
				}
			}
		}
	
		return out;
	}
	
	
	/**
	 * Bind an event handers to allow a click or return key to activate the callback.
	 * This is good for accessibility since a return on the keyboard will have the
	 * same effect as a click, if the element has focus.
	 *  @param {element} n Element to bind the action to
	 *  @param {object} oData Data object to pass to the triggered function
	 *  @param {function} fn Callback function for when the event is triggered
	 *  @memberof DataTable#oApi
	 */
	function _fnBindAction( n, oData, fn )
	{
		$(n)
			.bind( 'click.DT', oData, function (e) {
					n.blur(); // Remove focus outline for mouse users
					fn(e);
				} )
			.bind( 'keypress.DT', oData, function (e){
					if ( e.which === 13 ) {
						e.preventDefault();
						fn(e);
					}
				} )
			.bind( 'selectstart.DT', function () {
					/* Take the brutal approach to cancelling text selection */
					return false;
				} );
	}
	
	
	/**
	 * Register a callback function. Easily allows a callback function to be added to
	 * an array store of callback functions that can then all be called together.
	 *  @param {object} oSettings dataTables settings object
	 *  @param {string} sStore Name of the array storage for the callbacks in oSettings
	 *  @param {function} fn Function to be called back
	 *  @param {string} sName Identifying name for the callback (i.e. a label)
	 *  @memberof DataTable#oApi
	 */
	function _fnCallbackReg( oSettings, sStore, fn, sName )
	{
		if ( fn )
		{
			oSettings[sStore].push( {
				"fn": fn,
				"sName": sName
			} );
		}
	}
	
	
	/**
	 * Fire callback functions and trigger events. Note that the loop over the
	 * callback array store is done backwards! Further note that you do not want to
	 * fire off triggers in time sensitive applications (for example cell creation)
	 * as its slow.
	 *  @param {object} settings dataTables settings object
	 *  @param {string} callbackArr Name of the array storage for the callbacks in
	 *      oSettings
	 *  @param {string} eventName Name of the jQuery custom event to trigger. If
	 *      null no trigger is fired
	 *  @param {array} args Array of arguments to pass to the callback function /
	 *      trigger
	 *  @memberof DataTable#oApi
	 */
	function _fnCallbackFire( settings, callbackArr, eventName, args )
	{
		var ret = [];
	
		if ( callbackArr ) {
			ret = $.map( settings[callbackArr].slice().reverse(), function (val, i) {
				return val.fn.apply( settings.oInstance, args );
			} );
		}
	
		if ( eventName !== null ) {
			var e = $.Event( eventName+'.dt' );
	
			$(settings.nTable).trigger( e, args );
	
			ret.push( e.result );
		}
	
		return ret;
	}
	
	
	function _fnLengthOverflow ( settings )
	{
		var
			start = settings._iDisplayStart,
			end = settings.fnDisplayEnd(),
			len = settings._iDisplayLength;
	
		/* If we have space to show extra rows (backing up from the end point - then do so */
		if ( start >= end )
		{
			start = end - len;
		}
	
		// Keep the start record on the current page
		start -= (start % len);
	
		if ( len === -1 || start < 0 )
		{
			start = 0;
		}
	
		settings._iDisplayStart = start;
	}
	
	
	function _fnRenderer( settings, type )
	{
		var renderer = settings.renderer;
		var host = DataTable.ext.renderer[type];
	
		if ( $.isPlainObject( renderer ) && renderer[type] ) {
			// Specific renderer for this type. If available use it, otherwise use
			// the default.
			return host[renderer[type]] || host._;
		}
		else if ( typeof renderer === 'string' ) {
			// Common renderer - if there is one available for this type use it,
			// otherwise use the default
			return host[renderer] || host._;
		}
	
		// Use the default
		return host._;
	}
	
	
	/**
	 * Detect the data source being used for the table. Used to simplify the code
	 * a little (ajax) and to make it compress a little smaller.
	 *
	 *  @param {object} settings dataTables settings object
	 *  @returns {string} Data source
	 *  @memberof DataTable#oApi
	 */
	function _fnDataSource ( settings )
	{
		if ( settings.oFeatures.bServerSide ) {
			return 'ssp';
		}
		else if ( settings.ajax || settings.sAjaxSource ) {
			return 'ajax';
		}
		return 'dom';
	}
	

	
	
	/**
	 * Computed structure of the DataTables API, defined by the options passed to
	 * `DataTable.Api.register()` when building the API.
	 *
	 * The structure is built in order to speed creation and extension of the Api
	 * objects since the extensions are effectively pre-parsed.
	 *
	 * The array is an array of objects with the following structure, where this
	 * base array represents the Api prototype base:
	 *
	 *     [
	 *       {
	 *         name:      'data'                -- string   - Property name
	 *         val:       function () {},       -- function - Api method (or undefined if just an object
	 *         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result
	 *         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property
	 *       },
	 *       {
	 *         name:     'row'
	 *         val:       {},
	 *         methodExt: [ ... ],
	 *         propExt:   [
	 *           {
	 *             name:      'data'
	 *             val:       function () {},
	 *             methodExt: [ ... ],
	 *             propExt:   [ ... ]
	 *           },
	 *           ...
	 *         ]
	 *       }
	 *     ]
	 *
	 * @type {Array}
	 * @ignore
	 */
	var __apiStruct = [];
	
	
	/**
	 * `Array.prototype` reference.
	 *
	 * @type object
	 * @ignore
	 */
	var __arrayProto = Array.prototype;
	
	
	/**
	 * Abstraction for `context` parameter of the `Api` constructor to allow it to
	 * take several different forms for ease of use.
	 *
	 * Each of the input parameter types will be converted to a DataTables settings
	 * object where possible.
	 *
	 * @param  {string|node|jQuery|object} mixed DataTable identifier. Can be one
	 *   of:
	 *
	 *   * `string` - jQuery selector. Any DataTables' matching the given selector
	 *     with be found and used.
	 *   * `node` - `TABLE` node which has already been formed into a DataTable.
	 *   * `jQuery` - A jQuery object of `TABLE` nodes.
	 *   * `object` - DataTables settings object
	 *   * `DataTables.Api` - API instance
	 * @return {array|null} Matching DataTables settings objects. `null` or
	 *   `undefined` is returned if no matching DataTable is found.
	 * @ignore
	 */
	var _toSettings = function ( mixed )
	{
		var idx, jq;
		var settings = DataTable.settings;
		var tables = $.map( settings, function (el, i) {
			return el.nTable;
		} );
	
		if ( ! mixed ) {
			return [];
		}
		else if ( mixed.nTable && mixed.oApi ) {
			// DataTables settings object
			return [ mixed ];
		}
		else if ( mixed.nodeName && mixed.nodeName.toLowerCase() === 'table' ) {
			// Table node
			idx = $.inArray( mixed, tables );
			return idx !== -1 ? [ settings[idx] ] : null;
		}
		else if ( mixed && typeof mixed.settings === 'function' ) {
			return mixed.settings().toArray();
		}
		else if ( typeof mixed === 'string' ) {
			// jQuery selector
			jq = $(mixed);
		}
		else if ( mixed instanceof $ ) {
			// jQuery object (also DataTables instance)
			jq = mixed;
		}
	
		if ( jq ) {
			return jq.map( function(i) {
				idx = $.inArray( this, tables );
				return idx !== -1 ? settings[idx] : null;
			} ).toArray();
		}
	};
	
	
	/**
	 * DataTables API class - used to control and interface with  one or more
	 * DataTables enhanced tables.
	 *
	 * The API class is heavily based on jQuery, presenting a chainable interface
	 * that you can use to interact with tables. Each instance of the API class has
	 * a "context" - i.e. the tables that it will operate on. This could be a single
	 * table, all tables on a page or a sub-set thereof.
	 *
	 * Additionally the API is designed to allow you to easily work with the data in
	 * the tables, retrieving and manipulating it as required. This is done by
	 * presenting the API class as an array like interface. The contents of the
	 * array depend upon the actions requested by each method (for example
	 * `rows().nodes()` will return an array of nodes, while `rows().data()` will
	 * return an array of objects or arrays depending upon your table's
	 * configuration). The API object has a number of array like methods (`push`,
	 * `pop`, `reverse` etc) as well as additional helper methods (`each`, `pluck`,
	 * `unique` etc) to assist your working with the data held in a table.
	 *
	 * Most methods (those which return an Api instance) are chainable, which means
	 * the return from a method call also has all of the methods available that the
	 * top level object had. For example, these two calls are equivalent:
	 *
	 *     // Not chained
	 *     api.row.add( {...} );
	 *     api.draw();
	 *
	 *     // Chained
	 *     api.row.add( {...} ).draw();
	 *
	 * @class DataTable.Api
	 * @param {array|object|string|jQuery} context DataTable identifier. This is
	 *   used to define which DataTables enhanced tables this API will operate on.
	 *   Can be one of:
	 *
	 *   * `string` - jQuery selector. Any DataTables' matching the given selector
	 *     with be found and used.
	 *   * `node` - `TABLE` node which has already been formed into a DataTable.
	 *   * `jQuery` - A jQuery object of `TABLE` nodes.
	 *   * `object` - DataTables settings object
	 * @param {array} [data] Data to initialise the Api instance with.
	 *
	 * @example
	 *   // Direct initialisation during DataTables construction
	 *   var api = $('#example').DataTable();
	 *
	 * @example
	 *   // Initialisation using a DataTables jQuery object
	 *   var api = $('#example').dataTable().api();
	 *
	 * @example
	 *   // Initialisation as a constructor
	 *   var api = new $.fn.DataTable.Api( 'table.dataTable' );
	 */
	_Api = function ( context, data )
	{
		if ( ! (this instanceof _Api) ) {
			return new _Api( context, data );
		}
	
		var settings = [];
		var ctxSettings = function ( o ) {
			var a = _toSettings( o );
			if ( a ) {
				settings = settings.concat( a );
			}
		};
	
		if ( $.isArray( context ) ) {
			for ( var i=0, ien=context.length ; i<ien ; i++ ) {
				ctxSettings( context[i] );
			}
		}
		else {
			ctxSettings( context );
		}
	
		// Remove duplicates
		this.context = _unique( settings );
	
		// Initial data
		if ( data ) {
			$.merge( this, data );
		}
	
		// selector
		this.selector = {
			rows: null,
			cols: null,
			opts: null
		};
	
		_Api.extend( this, this, __apiStruct );
	};
	
	DataTable.Api = _Api;
	
	// Don't destroy the existing prototype, just extend it. Required for jQuery 2's
	// isPlainObject.
	$.extend( _Api.prototype, {
		any: function ()
		{
			return this.count() !== 0;
		},
	
	
		concat:  __arrayProto.concat,
	
	
		context: [], // array of table settings objects
	
	
		count: function ()
		{
			return this.flatten().length;
		},
	
	
		each: function ( fn )
		{
			for ( var i=0, ien=this.length ; i<ien; i++ ) {
				fn.call( this, this[i], i, this );
			}
	
			return this;
		},
	
	
		eq: function ( idx )
		{
			var ctx = this.context;
	
			return ctx.length > idx ?
				new _Api( ctx[idx], this[idx] ) :
				null;
		},
	
	
		filter: function ( fn )
		{
			var a = [];
	
			if ( __arrayProto.filter ) {
				a = __arrayProto.filter.call( this, fn, this );
			}
			else {
				// Compatibility for browsers without EMCA-252-5 (JS 1.6)
				for ( var i=0, ien=this.length ; i<ien ; i++ ) {
					if ( fn.call( this, this[i], i, this ) ) {
						a.push( this[i] );
					}
				}
			}
	
			return new _Api( this.context, a );
		},
	
	
		flatten: function ()
		{
			var a = [];
			return new _Api( this.context, a.concat.apply( a, this.toArray() ) );
		},
	
	
		join:    __arrayProto.join,
	
	
		indexOf: __arrayProto.indexOf || function (obj, start)
		{
			for ( var i=(start || 0), ien=this.length ; i<ien ; i++ ) {
				if ( this[i] === obj ) {
					return i;
				}
			}
			return -1;
		},
	
		iterator: function ( flatten, type, fn, alwaysNew ) {
			var
				a = [], ret,
				i, ien, j, jen,
				context = this.context,
				rows, items, item,
				selector = this.selector;
	
			// Argument shifting
			if ( typeof flatten === 'string' ) {
				alwaysNew = fn;
				fn = type;
				type = flatten;
				flatten = false;
			}
	
			for ( i=0, ien=context.length ; i<ien ; i++ ) {
				var apiInst = new _Api( context[i] );
	
				if ( type === 'table' ) {
					ret = fn.call( apiInst, context[i], i );
	
					if ( ret !== undefined ) {
						a.push( ret );
					}
				}
				else if ( type === 'columns' || type === 'rows' ) {
					// this has same length as context - one entry for each table
					ret = fn.call( apiInst, context[i], this[i], i );
	
					if ( ret !== undefined ) {
						a.push( ret );
					}
				}
				else if ( type === 'column' || type === 'column-rows' || type === 'row' || type === 'cell' ) {
					// columns and rows share the same structure.
					// 'this' is an array of column indexes for each context
					items = this[i];
	
					if ( type === 'column-rows' ) {
						rows = _selector_row_indexes( context[i], selector.opts );
					}
	
					for ( j=0, jen=items.length ; j<jen ; j++ ) {
						item = items[j];
	
						if ( type === 'cell' ) {
							ret = fn.call( apiInst, context[i], item.row, item.column, i, j );
						}
						else {
							ret = fn.call( apiInst, context[i], item, i, j, rows );
						}
	
						if ( ret !== undefined ) {
							a.push( ret );
						}
					}
				}
			}
	
			if ( a.length || alwaysNew ) {
				var api = new _Api( context, flatten ? a.concat.apply( [], a ) : a );
				var apiSelector = api.selector;
				apiSelector.rows = selector.rows;
				apiSelector.cols = selector.cols;
				apiSelector.opts = selector.opts;
				return api;
			}
			return this;
		},
	
	
		lastIndexOf: __arrayProto.lastIndexOf || function (obj, start)
		{
			// Bit cheeky...
			return this.indexOf.apply( this.toArray.reverse(), arguments );
		},
	
	
		length:  0,
	
	
		map: function ( fn )
		{
			var a = [];
	
			if ( __arrayProto.map ) {
				a = __arrayProto.map.call( this, fn, this );
			}
			else {
				// Compatibility for browsers without EMCA-252-5 (JS 1.6)
				for ( var i=0, ien=this.length ; i<ien ; i++ ) {
					a.push( fn.call( this, this[i], i ) );
				}
			}
	
			return new _Api( this.context, a );
		},
	
	
		pluck: function ( prop )
		{
			return this.map( function ( el ) {
				return el[ prop ];
			} );
		},
	
		pop:     __arrayProto.pop,
	
	
		push:    __arrayProto.push,
	
	
		// Does not return an API instance
		reduce: __arrayProto.reduce || function ( fn, init )
		{
			return _fnReduce( this, fn, init, 0, this.length, 1 );
		},
	
	
		reduceRight: __arrayProto.reduceRight || function ( fn, init )
		{
			return _fnReduce( this, fn, init, this.length-1, -1, -1 );
		},
	
	
		reverse: __arrayProto.reverse,
	
	
		// Object with rows, columns and opts
		selector: null,
	
	
		shift:   __arrayProto.shift,
	
	
		sort:    __arrayProto.sort, // ? name - order?
	
	
		splice:  __arrayProto.splice,
	
	
		toArray: function ()
		{
			return __arrayProto.slice.call( this );
		},
	
	
		to$: function ()
		{
			return $( this );
		},
	
	
		toJQuery: function ()
		{
			return $( this );
		},
	
	
		unique: function ()
		{
			return new _Api( this.context, _unique(this) );
		},
	
	
		unshift: __arrayProto.unshift
	} );
	
	
	_Api.extend = function ( scope, obj, ext )
	{
		// Only extend API instances and static properties of the API
		if ( ! ext.length || ! obj || ( ! (obj instanceof _Api) && ! obj.__dt_wrapper ) ) {
			return;
		}
	
		var
			i, ien,
			j, jen,
			struct, inner,
			methodScoping = function ( scope, fn, struc ) {
				return function () {
					var ret = fn.apply( scope, arguments );
	
					// Method extension
					_Api.extend( ret, ret, struc.methodExt );
					return ret;
				};
			};
	
		for ( i=0, ien=ext.length ; i<ien ; i++ ) {
			struct = ext[i];
	
			// Value
			obj[ struct.name ] = typeof struct.val === 'function' ?
				methodScoping( scope, struct.val, struct ) :
				$.isPlainObject( struct.val ) ?
					{} :
					struct.val;
	
			obj[ struct.name ].__dt_wrapper = true;
	
			// Property extension
			_Api.extend( scope, obj[ struct.name ], struct.propExt );
		}
	};
	
	
	// @todo - Is there need for an augment function?
	// _Api.augment = function ( inst, name )
	// {
	// 	// Find src object in the structure from the name
	// 	var parts = name.split('.');
	
	// 	_Api.extend( inst, obj );
	// };
	
	
	//     [
	//       {
	//         name:      'data'                -- string   - Property name
	//         val:       function () {},       -- function - Api method (or undefined if just an object
	//         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result
	//         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property
	//       },
	//       {
	//         name:     'row'
	//         val:       {},
	//         methodExt: [ ... ],
	//         propExt:   [
	//           {
	//             name:      'data'
	//             val:       function () {},
	//             methodExt: [ ... ],
	//             propExt:   [ ... ]
	//           },
	//           ...
	//         ]
	//       }
	//     ]
	
	_Api.register = _api_register = function ( name, val )
	{
		if ( $.isArray( name ) ) {
			for ( var j=0, jen=name.length ; j<jen ; j++ ) {
				_Api.register( name[j], val );
			}
			return;
		}
	
		var
			i, ien,
			heir = name.split('.'),
			struct = __apiStruct,
			key, method;
	
		var find = function ( src, name ) {
			for ( var i=0, ien=src.length ; i<ien ; i++ ) {
				if ( src[i].name === name ) {
					return src[i];
				}
			}
			return null;
		};
	
		for ( i=0, ien=heir.length ; i<ien ; i++ ) {
			method = heir[i].indexOf('()') !== -1;
			key = method ?
				heir[i].replace('()', '') :
				heir[i];
	
			var src = find( struct, key );
			if ( ! src ) {
				src = {
					name:      key,
					val:       {},
					methodExt: [],
					propExt:   []
				};
				struct.push( src );
			}
	
			if ( i === ien-1 ) {
				src.val = val;
			}
			else {
				struct = method ?
					src.methodExt :
					src.propExt;
			}
		}
	};
	
	
	_Api.registerPlural = _api_registerPlural = function ( pluralName, singularName, val ) {
		_Api.register( pluralName, val );
	
		_Api.register( singularName, function () {
			var ret = val.apply( this, arguments );
	
			if ( ret === this ) {
				// Returned item is the API instance that was passed in, return it
				return this;
			}
			else if ( ret instanceof _Api ) {
				// New API instance returned, want the value from the first item
				// in the returned array for the singular result.
				return ret.length ?
					$.isArray( ret[0] ) ?
						new _Api( ret.context, ret[0] ) : // Array results are 'enhanced'
						ret[0] :
					undefined;
			}
	
			// Non-API return - just fire it back
			return ret;
		} );
	};
	
	
	/**
	 * Selector for HTML tables. Apply the given selector to the give array of
	 * DataTables settings objects.
	 *
	 * @param {string|integer} [selector] jQuery selector string or integer
	 * @param  {array} Array of DataTables settings objects to be filtered
	 * @return {array}
	 * @ignore
	 */
	var __table_selector = function ( selector, a )
	{
		// Integer is used to pick out a table by index
		if ( typeof selector === 'number' ) {
			return [ a[ selector ] ];
		}
	
		// Perform a jQuery selector on the table nodes
		var nodes = $.map( a, function (el, i) {
			return el.nTable;
		} );
	
		return $(nodes)
			.filter( selector )
			.map( function (i) {
				// Need to translate back from the table node to the settings
				var idx = $.inArray( this, nodes );
				return a[ idx ];
			} )
			.toArray();
	};
	
	
	
	/**
	 * Context selector for the API's context (i.e. the tables the API instance
	 * refers to.
	 *
	 * @name    DataTable.Api#tables
	 * @param {string|integer} [selector] Selector to pick which tables the iterator
	 *   should operate on. If not given, all tables in the current context are
	 *   used. This can be given as a jQuery selector (for example `':gt(0)'`) to
	 *   select multiple tables or as an integer to select a single table.
	 * @returns {DataTable.Api} Returns a new API instance if a selector is given.
	 */
	_api_register( 'tables()', function ( selector ) {
		// A new instance is created if there was a selector specified
		return selector ?
			new _Api( __table_selector( selector, this.context ) ) :
			this;
	} );
	
	
	_api_register( 'table()', function ( selector ) {
		var tables = this.tables( selector );
		var ctx = tables.context;
	
		// Truncate to the first matched table
		return ctx.length ?
			new _Api( ctx[0] ) :
			tables;
	} );
	
	
	_api_registerPlural( 'tables().nodes()', 'table().node()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTable;
		}, 1 );
	} );
	
	
	_api_registerPlural( 'tables().body()', 'table().body()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTBody;
		}, 1 );
	} );
	
	
	_api_registerPlural( 'tables().header()', 'table().header()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTHead;
		}, 1 );
	} );
	
	
	_api_registerPlural( 'tables().footer()', 'table().footer()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTFoot;
		}, 1 );
	} );
	
	
	_api_registerPlural( 'tables().containers()', 'table().container()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTableWrapper;
		}, 1 );
	} );
	
	
	
	/**
	 * Redraw the tables in the current context.
	 */
	_api_register( 'draw()', function ( paging ) {
		return this.iterator( 'table', function ( settings ) {
			if ( paging === 'page' ) {
				_fnDraw( settings );
			}
			else {
				if ( typeof paging === 'string' ) {
					paging = paging === 'full-hold' ?
						false :
						true;
				}
	
				_fnReDraw( settings, paging===false );
			}
		} );
	} );
	
	
	
	/**
	 * Get the current page index.
	 *
	 * @return {integer} Current page index (zero based)
	 *//**
	 * Set the current page.
	 *
	 * Note that if you attempt to show a page which does not exist, DataTables will
	 * not throw an error, but rather reset the paging.
	 *
	 * @param {integer|string} action The paging action to take. This can be one of:
	 *  * `integer` - The page index to jump to
	 *  * `string` - An action to take:
	 *    * `first` - Jump to first page.
	 *    * `next` - Jump to the next page
	 *    * `previous` - Jump to previous page
	 *    * `last` - Jump to the last page.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'page()', function ( action ) {
		if ( action === undefined ) {
			return this.page.info().page; // not an expensive call
		}
	
		// else, have an action to take on all tables
		return this.iterator( 'table', function ( settings ) {
			_fnPageChange( settings, action );
		} );
	} );
	
	
	/**
	 * Paging information for the first table in the current context.
	 *
	 * If you require paging information for another table, use the `table()` method
	 * with a suitable selector.
	 *
	 * @return {object} Object with the following properties set:
	 *  * `page` - Current page index (zero based - i.e. the first page is `0`)
	 *  * `pages` - Total number of pages
	 *  * `start` - Display index for the first record shown on the current page
	 *  * `end` - Display index for the last record shown on the current page
	 *  * `length` - Display length (number of records). Note that generally `start
	 *    + length = end`, but this is not always true, for example if there are
	 *    only 2 records to show on the final page, with a length of 10.
	 *  * `recordsTotal` - Full data set length
	 *  * `recordsDisplay` - Data set length once the current filtering criterion
	 *    are applied.
	 */
	_api_register( 'page.info()', function ( action ) {
		if ( this.context.length === 0 ) {
			return undefined;
		}
	
		var
			settings   = this.context[0],
			start      = settings._iDisplayStart,
			len        = settings.oFeatures.bPaginate ? settings._iDisplayLength : -1,
			visRecords = settings.fnRecordsDisplay(),
			all        = len === -1;
	
		return {
			"page":           all ? 0 : Math.floor( start / len ),
			"pages":          all ? 1 : Math.ceil( visRecords / len ),
			"start":          start,
			"end":            settings.fnDisplayEnd(),
			"length":         len,
			"recordsTotal":   settings.fnRecordsTotal(),
			"recordsDisplay": visRecords,
			"serverSide":     _fnDataSource( settings ) === 'ssp'
		};
	} );
	
	
	/**
	 * Get the current page length.
	 *
	 * @return {integer} Current page length. Note `-1` indicates that all records
	 *   are to be shown.
	 *//**
	 * Set the current page length.
	 *
	 * @param {integer} Page length to set. Use `-1` to show all records.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'page.len()', function ( len ) {
		// Note that we can't call this function 'length()' because `length`
		// is a Javascript property of functions which defines how many arguments
		// the function expects.
		if ( len === undefined ) {
			return this.context.length !== 0 ?
				this.context[0]._iDisplayLength :
				undefined;
		}
	
		// else, set the page length
		return this.iterator( 'table', function ( settings ) {
			_fnLengthChange( settings, len );
		} );
	} );
	
	
	
	var __reload = function ( settings, holdPosition, callback ) {
		// Use the draw event to trigger a callback
		if ( callback ) {
			var api = new _Api( settings );
	
			api.one( 'draw', function () {
				callback( api.ajax.json() );
			} );
		}
	
		if ( _fnDataSource( settings ) == 'ssp' ) {
			_fnReDraw( settings, holdPosition );
		}
		else {
			_fnProcessingDisplay( settings, true );
	
			// Cancel an existing request
			var xhr = settings.jqXHR;
			if ( xhr && xhr.readyState !== 4 ) {
				xhr.abort();
			}
	
			// Trigger xhr
			_fnBuildAjax( settings, [], function( json ) {
				_fnClearTable( settings );
	
				var data = _fnAjaxDataSrc( settings, json );
				for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					_fnAddData( settings, data[i] );
				}
	
				_fnReDraw( settings, holdPosition );
				_fnProcessingDisplay( settings, false );
			} );
		}
	};
	
	
	/**
	 * Get the JSON response from the last Ajax request that DataTables made to the
	 * server. Note that this returns the JSON from the first table in the current
	 * context.
	 *
	 * @return {object} JSON received from the server.
	 */
	_api_register( 'ajax.json()', function () {
		var ctx = this.context;
	
		if ( ctx.length > 0 ) {
			return ctx[0].json;
		}
	
		// else return undefined;
	} );
	
	
	/**
	 * Get the data submitted in the last Ajax request
	 */
	_api_register( 'ajax.params()', function () {
		var ctx = this.context;
	
		if ( ctx.length > 0 ) {
			return ctx[0].oAjaxData;
		}
	
		// else return undefined;
	} );
	
	
	/**
	 * Reload tables from the Ajax data source. Note that this function will
	 * automatically re-draw the table when the remote data has been loaded.
	 *
	 * @param {boolean} [reset=true] Reset (default) or hold the current paging
	 *   position. A full re-sort and re-filter is performed when this method is
	 *   called, which is why the pagination reset is the default action.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'ajax.reload()', function ( callback, resetPaging ) {
		return this.iterator( 'table', function (settings) {
			__reload( settings, resetPaging===false, callback );
		} );
	} );
	
	
	/**
	 * Get the current Ajax URL. Note that this returns the URL from the first
	 * table in the current context.
	 *
	 * @return {string} Current Ajax source URL
	 *//**
	 * Set the Ajax URL. Note that this will set the URL for all tables in the
	 * current context.
	 *
	 * @param {string} url URL to set.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'ajax.url()', function ( url ) {
		var ctx = this.context;
	
		if ( url === undefined ) {
			// get
			if ( ctx.length === 0 ) {
				return undefined;
			}
			ctx = ctx[0];
	
			return ctx.ajax ?
				$.isPlainObject( ctx.ajax ) ?
					ctx.ajax.url :
					ctx.ajax :
				ctx.sAjaxSource;
		}
	
		// set
		return this.iterator( 'table', function ( settings ) {
			if ( $.isPlainObject( settings.ajax ) ) {
				settings.ajax.url = url;
			}
			else {
				settings.ajax = url;
			}
			// No need to consider sAjaxSource here since DataTables gives priority
			// to `ajax` over `sAjaxSource`. So setting `ajax` here, renders any
			// value of `sAjaxSource` redundant.
		} );
	} );
	
	
	/**
	 * Load data from the newly set Ajax URL. Note that this method is only
	 * available when `ajax.url()` is used to set a URL. Additionally, this method
	 * has the same effect as calling `ajax.reload()` but is provided for
	 * convenience when setting a new URL. Like `ajax.reload()` it will
	 * automatically redraw the table once the remote data has been loaded.
	 *
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'ajax.url().load()', function ( callback, resetPaging ) {
		// Same as a reload, but makes sense to present it for easy access after a
		// url change
		return this.iterator( 'table', function ( ctx ) {
			__reload( ctx, resetPaging===false, callback );
		} );
	} );
	
	
	
	
	var _selector_run = function ( type, selector, selectFn, settings, opts )
	{
		var
			out = [], res,
			a, i, ien, j, jen,
			selectorType = typeof selector;
	
		// Can't just check for isArray here, as an API or jQuery instance might be
		// given with their array like look
		if ( ! selector || selectorType === 'string' || selectorType === 'function' || selector.length === undefined ) {
			selector = [ selector ];
		}
	
		for ( i=0, ien=selector.length ; i<ien ; i++ ) {
			a = selector[i] && selector[i].split ?
				selector[i].split(',') :
				[ selector[i] ];
	
			for ( j=0, jen=a.length ; j<jen ; j++ ) {
				res = selectFn( typeof a[j] === 'string' ? $.trim(a[j]) : a[j] );
	
				if ( res && res.length ) {
					out = out.concat( res );
				}
			}
		}
	
		// selector extensions
		var ext = _ext.selector[ type ];
		if ( ext.length ) {
			for ( i=0, ien=ext.length ; i<ien ; i++ ) {
				out = ext[i]( settings, opts, out );
			}
		}
	
		return _unique( out );
	};
	
	
	var _selector_opts = function ( opts )
	{
		if ( ! opts ) {
			opts = {};
		}
	
		// Backwards compatibility for 1.9- which used the terminology filter rather
		// than search
		if ( opts.filter && opts.search === undefined ) {
			opts.search = opts.filter;
		}
	
		return $.extend( {
			search: 'none',
			order: 'current',
			page: 'all'
		}, opts );
	};
	
	
	var _selector_first = function ( inst )
	{
		// Reduce the API instance to the first item found
		for ( var i=0, ien=inst.length ; i<ien ; i++ ) {
			if ( inst[i].length > 0 ) {
				// Assign the first element to the first item in the instance
				// and truncate the instance and context
				inst[0] = inst[i];
				inst[0].length = 1;
				inst.length = 1;
				inst.context = [ inst.context[i] ];
	
				return inst;
			}
		}
	
		// Not found - return an empty instance
		inst.length = 0;
		return inst;
	};
	
	
	var _selector_row_indexes = function ( settings, opts )
	{
		var
			i, ien, tmp, a=[],
			displayFiltered = settings.aiDisplay,
			displayMaster = settings.aiDisplayMaster;
	
		var
			search = opts.search,  // none, applied, removed
			order  = opts.order,   // applied, current, index (original - compatibility with 1.9)
			page   = opts.page;    // all, current
	
		if ( _fnDataSource( settings ) == 'ssp' ) {
			// In server-side processing mode, most options are irrelevant since
			// rows not shown don't exist and the index order is the applied order
			// Removed is a special case - for consistency just return an empty
			// array
			return search === 'removed' ?
				[] :
				_range( 0, displayMaster.length );
		}
		else if ( page == 'current' ) {
			// Current page implies that order=current and fitler=applied, since it is
			// fairly senseless otherwise, regardless of what order and search actually
			// are
			for ( i=settings._iDisplayStart, ien=settings.fnDisplayEnd() ; i<ien ; i++ ) {
				a.push( displayFiltered[i] );
			}
		}
		else if ( order == 'current' || order == 'applied' ) {
			a = search == 'none' ?
				displayMaster.slice() :                      // no search
				search == 'applied' ?
					displayFiltered.slice() :                // applied search
					$.map( displayMaster, function (el, i) { // removed search
						return $.inArray( el, displayFiltered ) === -1 ? el : null;
					} );
		}
		else if ( order == 'index' || order == 'original' ) {
			for ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
				if ( search == 'none' ) {
					a.push( i );
				}
				else { // applied | removed
					tmp = $.inArray( i, displayFiltered );
	
					if ((tmp === -1 && search == 'removed') ||
						(tmp >= 0   && search == 'applied') )
					{
						a.push( i );
					}
				}
			}
		}
	
		return a;
	};
	
	
	/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
	 * Rows
	 *
	 * {}          - no selector - use all available rows
	 * {integer}   - row aoData index
	 * {node}      - TR node
	 * {string}    - jQuery selector to apply to the TR elements
	 * {array}     - jQuery array of nodes, or simply an array of TR nodes
	 *
	 */
	
	
	var __row_selector = function ( settings, selector, opts )
	{
		var run = function ( sel ) {
			var selInt = _intVal( sel );
			var i, ien;
	
			// Short cut - selector is a number and no options provided (default is
			// all records, so no need to check if the index is in there, since it
			// must be - dev error if the index doesn't exist).
			if ( selInt !== null && ! opts ) {
				return [ selInt ];
			}
	
			var rows = _selector_row_indexes( settings, opts );
	
			if ( selInt !== null && $.inArray( selInt, rows ) !== -1 ) {
				// Selector - integer
				return [ selInt ];
			}
			else if ( ! sel ) {
				// Selector - none
				return rows;
			}
	
			// Selector - function
			if ( typeof sel === 'function' ) {
				return $.map( rows, function (idx) {
					var row = settings.aoData[ idx ];
					return sel( idx, row._aData, row.nTr ) ? idx : null;
				} );
			}
	
			// Get nodes in the order from the `rows` array with null values removed
			var nodes = _removeEmpty(
				_pluck_order( settings.aoData, rows, 'nTr' )
			);
	
			// Selector - node
			if ( sel.nodeName ) {
				if ( sel._DT_RowIndex !== undefined ) {
					return [ sel._DT_RowIndex ]; // Property added by DT for fast lookup
				}
				else if ( sel._DT_CellIndex ) {
					return [ sel._DT_CellIndex.row ];
				}
				else {
					var host = $(sel).closest('*[data-dt-row]');
					return host.length ?
						[ host.data('dt-row') ] :
						[];
				}
			}
	
			// ID selector. Want to always be able to select rows by id, regardless
			// of if the tr element has been created or not, so can't rely upon
			// jQuery here - hence a custom implementation. This does not match
			// Sizzle's fast selector or HTML4 - in HTML5 the ID can be anything,
			// but to select it using a CSS selector engine (like Sizzle or
			// querySelect) it would need to need to be escaped for some characters.
			// DataTables simplifies this for row selectors since you can select
			// only a row. A # indicates an id any anything that follows is the id -
			// unescaped.
			if ( typeof sel === 'string' && sel.charAt(0) === '#' ) {
				// get row index from id
				var rowObj = settings.aIds[ sel.replace( /^#/, '' ) ];
				if ( rowObj !== undefined ) {
					return [ rowObj.idx ];
				}
	
				// need to fall through to jQuery in case there is DOM id that
				// matches
			}
	
			// Selector - jQuery selector string, array of nodes or jQuery object/
			// As jQuery's .filter() allows jQuery objects to be passed in filter,
			// it also allows arrays, so this will cope with all three options
			return $(nodes)
				.filter( sel )
				.map( function () {
					return this._DT_RowIndex;
				} )
				.toArray();
		};
	
		return _selector_run( 'row', selector, run, settings, opts );
	};
	
	
	_api_register( 'rows()', function ( selector, opts ) {
		// argument shifting
		if ( selector === undefined ) {
			selector = '';
		}
		else if ( $.isPlainObject( selector ) ) {
			opts = selector;
			selector = '';
		}
	
		opts = _selector_opts( opts );
	
		var inst = this.iterator( 'table', function ( settings ) {
			return __row_selector( settings, selector, opts );
		}, 1 );
	
		// Want argument shifting here and in __row_selector?
		inst.selector.rows = selector;
		inst.selector.opts = opts;
	
		return inst;
	} );
	
	_api_register( 'rows().nodes()', function () {
		return this.iterator( 'row', function ( settings, row ) {
			return settings.aoData[ row ].nTr || undefined;
		}, 1 );
	} );
	
	_api_register( 'rows().data()', function () {
		return this.iterator( true, 'rows', function ( settings, rows ) {
			return _pluck_order( settings.aoData, rows, '_aData' );
		}, 1 );
	} );
	
	_api_registerPlural( 'rows().cache()', 'row().cache()', function ( type ) {
		return this.iterator( 'row', function ( settings, row ) {
			var r = settings.aoData[ row ];
			return type === 'search' ? r._aFilterData : r._aSortData;
		}, 1 );
	} );
	
	_api_registerPlural( 'rows().invalidate()', 'row().invalidate()', function ( src ) {
		return this.iterator( 'row', function ( settings, row ) {
			_fnInvalidate( settings, row, src );
		} );
	} );
	
	_api_registerPlural( 'rows().indexes()', 'row().index()', function () {
		return this.iterator( 'row', function ( settings, row ) {
			return row;
		}, 1 );
	} );
	
	_api_registerPlural( 'rows().ids()', 'row().id()', function ( hash ) {
		var a = [];
		var context = this.context;
	
		// `iterator` will drop undefined values, but in this case we want them
		for ( var i=0, ien=context.length ; i<ien ; i++ ) {
			for ( var j=0, jen=this[i].length ; j<jen ; j++ ) {
				var id = context[i].rowIdFn( context[i].aoData[ this[i][j] ]._aData );
				a.push( (hash === true ? '#' : '' )+ id );
			}
		}
	
		return new _Api( context, a );
	} );
	
	_api_registerPlural( 'rows().remove()', 'row().remove()', function () {
		var that = this;
	
		this.iterator( 'row', function ( settings, row, thatIdx ) {
			var data = settings.aoData;
			var rowData = data[ row ];
			var i, ien, j, jen;
			var loopRow, loopCells;
	
			data.splice( row, 1 );
	
			// Update the cached indexes
			for ( i=0, ien=data.length ; i<ien ; i++ ) {
				loopRow = data[i];
				loopCells = loopRow.anCells;
	
				// Rows
				if ( loopRow.nTr !== null ) {
					loopRow.nTr._DT_RowIndex = i;
				}
	
				// Cells
				if ( loopCells !== null ) {
					for ( j=0, jen=loopCells.length ; j<jen ; j++ ) {
						loopCells[j]._DT_CellIndex.row = i;
					}
				}
			}
	
			// Delete from the display arrays
			_fnDeleteIndex( settings.aiDisplayMaster, row );
			_fnDeleteIndex( settings.aiDisplay, row );
			_fnDeleteIndex( that[ thatIdx ], row, false ); // maintain local indexes
	
			// Check for an 'overflow' they case for displaying the table
			_fnLengthOverflow( settings );
	
			// Remove the row's ID reference if there is one
			var id = settings.rowIdFn( rowData._aData );
			if ( id !== undefined ) {
				delete settings.aIds[ id ];
			}
		} );
	
		this.iterator( 'table', function ( settings ) {
			for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
				settings.aoData[i].idx = i;
			}
		} );
	
		return this;
	} );
	
	
	_api_register( 'rows.add()', function ( rows ) {
		var newRows = this.iterator( 'table', function ( settings ) {
				var row, i, ien;
				var out = [];
	
				for ( i=0, ien=rows.length ; i<ien ; i++ ) {
					row = rows[i];
	
					if ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {
						out.push( _fnAddTr( settings, row )[0] );
					}
					else {
						out.push( _fnAddData( settings, row ) );
					}
				}
	
				return out;
			}, 1 );
	
		// Return an Api.rows() extended instance, so rows().nodes() etc can be used
		var modRows = this.rows( -1 );
		modRows.pop();
		$.merge( modRows, newRows );
	
		return modRows;
	} );
	
	
	
	
	
	/**
	 *
	 */
	_api_register( 'row()', function ( selector, opts ) {
		return _selector_first( this.rows( selector, opts ) );
	} );
	
	
	_api_register( 'row().data()', function ( data ) {
		var ctx = this.context;
	
		if ( data === undefined ) {
			// Get
			return ctx.length && this.length ?
				ctx[0].aoData[ this[0] ]._aData :
				undefined;
		}
	
		// Set
		ctx[0].aoData[ this[0] ]._aData = data;
	
		// Automatically invalidate
		_fnInvalidate( ctx[0], this[0], 'data' );
	
		return this;
	} );
	
	
	_api_register( 'row().node()', function () {
		var ctx = this.context;
	
		return ctx.length && this.length ?
			ctx[0].aoData[ this[0] ].nTr || null :
			null;
	} );
	
	
	_api_register( 'row.add()', function ( row ) {
		// Allow a jQuery object to be passed in - only a single row is added from
		// it though - the first element in the set
		if ( row instanceof $ && row.length ) {
			row = row[0];
		}
	
		var rows = this.iterator( 'table', function ( settings ) {
			if ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {
				return _fnAddTr( settings, row )[0];
			}
			return _fnAddData( settings, row );
		} );
	
		// Return an Api.rows() extended instance, with the newly added row selected
		return this.row( rows[0] );
	} );
	
	
	
	var __details_add = function ( ctx, row, data, klass )
	{
		// Convert to array of TR elements
		var rows = [];
		var addRow = function ( r, k ) {
			// Recursion to allow for arrays of jQuery objects
			if ( $.isArray( r ) || r instanceof $ ) {
				for ( var i=0, ien=r.length ; i<ien ; i++ ) {
					addRow( r[i], k );
				}
				return;
			}
	
			// If we get a TR element, then just add it directly - up to the dev
			// to add the correct number of columns etc
			if ( r.nodeName && r.nodeName.toLowerCase() === 'tr' ) {
				rows.push( r );
			}
			else {
				// Otherwise create a row with a wrapper
				var created = $('<tr><td/></tr>').addClass( k );
				$('td', created)
					.addClass( k )
					.html( r )
					[0].colSpan = _fnVisbleColumns( ctx );
	
				rows.push( created[0] );
			}
		};
	
		addRow( data, klass );
	
		if ( row._details ) {
			row._details.remove();
		}
	
		row._details = $(rows);
	
		// If the children were already shown, that state should be retained
		if ( row._detailsShow ) {
			row._details.insertAfter( row.nTr );
		}
	};
	
	
	var __details_remove = function ( api, idx )
	{
		var ctx = api.context;
	
		if ( ctx.length ) {
			var row = ctx[0].aoData[ idx !== undefined ? idx : api[0] ];
	
			if ( row && row._details ) {
				row._details.remove();
	
				row._detailsShow = undefined;
				row._details = undefined;
			}
		}
	};
	
	
	var __details_display = function ( api, show ) {
		var ctx = api.context;
	
		if ( ctx.length && api.length ) {
			var row = ctx[0].aoData[ api[0] ];
	
			if ( row._details ) {
				row._detailsShow = show;
	
				if ( show ) {
					row._details.insertAfter( row.nTr );
				}
				else {
					row._details.detach();
				}
	
				__details_events( ctx[0] );
			}
		}
	};
	
	
	var __details_events = function ( settings )
	{
		var api = new _Api( settings );
		var namespace = '.dt.DT_details';
		var drawEvent = 'draw'+namespace;
		var colvisEvent = 'column-visibility'+namespace;
		var destroyEvent = 'destroy'+namespace;
		var data = settings.aoData;
	
		api.off( drawEvent +' '+ colvisEvent +' '+ destroyEvent );
	
		if ( _pluck( data, '_details' ).length > 0 ) {
			// On each draw, insert the required elements into the document
			api.on( drawEvent, function ( e, ctx ) {
				if ( settings !== ctx ) {
					return;
				}
	
				api.rows( {page:'current'} ).eq(0).each( function (idx) {
					// Internal data grab
					var row = data[ idx ];
	
					if ( row._detailsShow ) {
						row._details.insertAfter( row.nTr );
					}
				} );
			} );
	
			// Column visibility change - update the colspan
			api.on( colvisEvent, function ( e, ctx, idx, vis ) {
				if ( settings !== ctx ) {
					return;
				}
	
				// Update the colspan for the details rows (note, only if it already has
				// a colspan)
				var row, visible = _fnVisbleColumns( ctx );
	
				for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					row = data[i];
	
					if ( row._details ) {
						row._details.children('td[colspan]').attr('colspan', visible );
					}
				}
			} );
	
			// Table destroyed - nuke any child rows
			api.on( destroyEvent, function ( e, ctx ) {
				if ( settings !== ctx ) {
					return;
				}
	
				for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					if ( data[i]._details ) {
						__details_remove( api, i );
					}
				}
			} );
		}
	};
	
	// Strings for the method names to help minification
	var _emp = '';
	var _child_obj = _emp+'row().child';
	var _child_mth = _child_obj+'()';
	
	// data can be:
	//  tr
	//  string
	//  jQuery or array of any of the above
	_api_register( _child_mth, function ( data, klass ) {
		var ctx = this.context;
	
		if ( data === undefined ) {
			// get
			return ctx.length && this.length ?
				ctx[0].aoData[ this[0] ]._details :
				undefined;
		}
		else if ( data === true ) {
			// show
			this.child.show();
		}
		else if ( data === false ) {
			// remove
			__details_remove( this );
		}
		else if ( ctx.length && this.length ) {
			// set
			__details_add( ctx[0], ctx[0].aoData[ this[0] ], data, klass );
		}
	
		return this;
	} );
	
	
	_api_register( [
		_child_obj+'.show()',
		_child_mth+'.show()' // only when `child()` was called with parameters (without
	], function ( show ) {   // it returns an object and this method is not executed)
		__details_display( this, true );
		return this;
	} );
	
	
	_api_register( [
		_child_obj+'.hide()',
		_child_mth+'.hide()' // only when `child()` was called with parameters (without
	], function () {         // it returns an object and this method is not executed)
		__details_display( this, false );
		return this;
	} );
	
	
	_api_register( [
		_child_obj+'.remove()',
		_child_mth+'.remove()' // only when `child()` was called with parameters (without
	], function () {           // it returns an object and this method is not executed)
		__details_remove( this );
		return this;
	} );
	
	
	_api_register( _child_obj+'.isShown()', function () {
		var ctx = this.context;
	
		if ( ctx.length && this.length ) {
			// _detailsShown as false or undefined will fall through to return false
			return ctx[0].aoData[ this[0] ]._detailsShow || false;
		}
		return false;
	} );
	
	
	
	/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
	 * Columns
	 *
	 * {integer}           - column index (>=0 count from left, <0 count from right)
	 * "{integer}:visIdx"  - visible column index (i.e. translate to column index)  (>=0 count from left, <0 count from right)
	 * "{integer}:visible" - alias for {integer}:visIdx  (>=0 count from left, <0 count from right)
	 * "{string}:name"     - column name
	 * "{string}"          - jQuery selector on column header nodes
	 *
	 */
	
	// can be an array of these items, comma separated list, or an array of comma
	// separated lists
	
	var __re_column_selector = /^(.+):(name|visIdx|visible)$/;
	
	
	// r1 and r2 are redundant - but it means that the parameters match for the
	// iterator callback in columns().data()
	var __columnData = function ( settings, column, r1, r2, rows ) {
		var a = [];
		for ( var row=0, ien=rows.length ; row<ien ; row++ ) {
			a.push( _fnGetCellData( settings, rows[row], column ) );
		}
		return a;
	};
	
	
	var __column_selector = function ( settings, selector, opts )
	{
		var
			columns = settings.aoColumns,
			names = _pluck( columns, 'sName' ),
			nodes = _pluck( columns, 'nTh' );
	
		var run = function ( s ) {
			var selInt = _intVal( s );
	
			// Selector - all
			if ( s === '' ) {
				return _range( columns.length );
			}
	
			// Selector - index
			if ( selInt !== null ) {
				return [ selInt >= 0 ?
					selInt : // Count from left
					columns.length + selInt // Count from right (+ because its a negative value)
				];
			}
	
			// Selector = function
			if ( typeof s === 'function' ) {
				var rows = _selector_row_indexes( settings, opts );
	
				return $.map( columns, function (col, idx) {
					return s(
							idx,
							__columnData( settings, idx, 0, 0, rows ),
							nodes[ idx ]
						) ? idx : null;
				} );
			}
	
			// jQuery or string selector
			var match = typeof s === 'string' ?
				s.match( __re_column_selector ) :
				'';
	
			if ( match ) {
				switch( match[2] ) {
					case 'visIdx':
					case 'visible':
						var idx = parseInt( match[1], 10 );
						// Visible index given, convert to column index
						if ( idx < 0 ) {
							// Counting from the right
							var visColumns = $.map( columns, function (col,i) {
								return col.bVisible ? i : null;
							} );
							return [ visColumns[ visColumns.length + idx ] ];
						}
						// Counting from the left
						return [ _fnVisibleToColumnIndex( settings, idx ) ];
	
					case 'name':
						// match by name. `names` is column index complete and in order
						return $.map( names, function (name, i) {
							return name === match[1] ? i : null;
						} );
	
					default:
						return [];
				}
			}
	
			// Cell in the table body
			if ( s.nodeName && s._DT_CellIndex ) {
				return [ s._DT_CellIndex.column ];
			}
	
			// jQuery selector on the TH elements for the columns
			var jqResult = $( nodes )
				.filter( s )
				.map( function () {
					return $.inArray( this, nodes ); // `nodes` is column index complete and in order
				} )
				.toArray();
	
			if ( jqResult.length || ! s.nodeName ) {
				return jqResult;
			}
	
			// Otherwise a node which might have a `dt-column` data attribute, or be
			// a child or such an element
			var host = $(s).closest('*[data-dt-column]');
			return host.length ?
				[ host.data('dt-column') ] :
				[];
		};
	
		return _selector_run( 'column', selector, run, settings, opts );
	};
	
	
	var __setColumnVis = function ( settings, column, vis ) {
		var
			cols = settings.aoColumns,
			col  = cols[ column ],
			data = settings.aoData,
			row, cells, i, ien, tr;
	
		// Get
		if ( vis === undefined ) {
			return col.bVisible;
		}
	
		// Set
		// No change
		if ( col.bVisible === vis ) {
			return;
		}
	
		if ( vis ) {
			// Insert column
			// Need to decide if we should use appendChild or insertBefore
			var insertBefore = $.inArray( true, _pluck(cols, 'bVisible'), column+1 );
	
			for ( i=0, ien=data.length ; i<ien ; i++ ) {
				tr = data[i].nTr;
				cells = data[i].anCells;
	
				if ( tr ) {
					// insertBefore can act like appendChild if 2nd arg is null
					tr.insertBefore( cells[ column ], cells[ insertBefore ] || null );
				}
			}
		}
		else {
			// Remove column
			$( _pluck( settings.aoData, 'anCells', column ) ).detach();
		}
	
		// Common actions
		col.bVisible = vis;
		_fnDrawHead( settings, settings.aoHeader );
		_fnDrawHead( settings, settings.aoFooter );
	
		_fnSaveState( settings );
	};
	
	
	_api_register( 'columns()', function ( selector, opts ) {
		// argument shifting
		if ( selector === undefined ) {
			selector = '';
		}
		else if ( $.isPlainObject( selector ) ) {
			opts = selector;
			selector = '';
		}
	
		opts = _selector_opts( opts );
	
		var inst = this.iterator( 'table', function ( settings ) {
			return __column_selector( settings, selector, opts );
		}, 1 );
	
		// Want argument shifting here and in _row_selector?
		inst.selector.cols = selector;
		inst.selector.opts = opts;
	
		return inst;
	} );
	
	_api_registerPlural( 'columns().header()', 'column().header()', function ( selector, opts ) {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].nTh;
		}, 1 );
	} );
	
	_api_registerPlural( 'columns().footer()', 'column().footer()', function ( selector, opts ) {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].nTf;
		}, 1 );
	} );
	
	_api_registerPlural( 'columns().data()', 'column().data()', function () {
		return this.iterator( 'column-rows', __columnData, 1 );
	} );
	
	_api_registerPlural( 'columns().dataSrc()', 'column().dataSrc()', function () {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].mData;
		}, 1 );
	} );
	
	_api_registerPlural( 'columns().cache()', 'column().cache()', function ( type ) {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			return _pluck_order( settings.aoData, rows,
				type === 'search' ? '_aFilterData' : '_aSortData', column
			);
		}, 1 );
	} );
	
	_api_registerPlural( 'columns().nodes()', 'column().nodes()', function () {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			return _pluck_order( settings.aoData, rows, 'anCells', column ) ;
		}, 1 );
	} );
	
	_api_registerPlural( 'columns().visible()', 'column().visible()', function ( vis, calc ) {
		var ret = this.iterator( 'column', function ( settings, column ) {
			if ( vis === undefined ) {
				return settings.aoColumns[ column ].bVisible;
			} // else
			__setColumnVis( settings, column, vis );
		} );
	
		// Group the column visibility changes
		if ( vis !== undefined ) {
			// Second loop once the first is done for events
			this.iterator( 'column', function ( settings, column ) {
				_fnCallbackFire( settings, null, 'column-visibility', [settings, column, vis, calc] );
			} );
	
			if ( calc === undefined || calc ) {
				this.columns.adjust();
			}
		}
	
		return ret;
	} );
	
	_api_registerPlural( 'columns().indexes()', 'column().index()', function ( type ) {
		return this.iterator( 'column', function ( settings, column ) {
			return type === 'visible' ?
				_fnColumnIndexToVisible( settings, column ) :
				column;
		}, 1 );
	} );
	
	_api_register( 'columns.adjust()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnAdjustColumnSizing( settings );
		}, 1 );
	} );
	
	_api_register( 'column.index()', function ( type, idx ) {
		if ( this.context.length !== 0 ) {
			var ctx = this.context[0];
	
			if ( type === 'fromVisible' || type === 'toData' ) {
				return _fnVisibleToColumnIndex( ctx, idx );
			}
			else if ( type === 'fromData' || type === 'toVisible' ) {
				return _fnColumnIndexToVisible( ctx, idx );
			}
		}
	} );
	
	_api_register( 'column()', function ( selector, opts ) {
		return _selector_first( this.columns( selector, opts ) );
	} );
	
	
	
	var __cell_selector = function ( settings, selector, opts )
	{
		var data = settings.aoData;
		var rows = _selector_row_indexes( settings, opts );
		var cells = _removeEmpty( _pluck_order( data, rows, 'anCells' ) );
		var allCells = $( [].concat.apply([], cells) );
		var row;
		var columns = settings.aoColumns.length;
		var a, i, ien, j, o, host;
	
		var run = function ( s ) {
			var fnSelector = typeof s === 'function';
	
			if ( s === null || s === undefined || fnSelector ) {
				// All cells and function selectors
				a = [];
	
				for ( i=0, ien=rows.length ; i<ien ; i++ ) {
					row = rows[i];
	
					for ( j=0 ; j<columns ; j++ ) {
						o = {
							row: row,
							column: j
						};
	
						if ( fnSelector ) {
							// Selector - function
							host = data[ row ];
	
							if ( s( o, _fnGetCellData(settings, row, j), host.anCells ? host.anCells[j] : null ) ) {
								a.push( o );
							}
						}
						else {
							// Selector - all
							a.push( o );
						}
					}
				}
	
				return a;
			}
			
			// Selector - index
			if ( $.isPlainObject( s ) ) {
				return [s];
			}
	
			// Selector - jQuery filtered cells
			var jqResult = allCells
				.filter( s )
				.map( function (i, el) {
					return { // use a new object, in case someone changes the values
						row:    el._DT_CellIndex.row,
						column: el._DT_CellIndex.column
	 				};
				} )
				.toArray();
	
			if ( jqResult.length || ! s.nodeName ) {
				return jqResult;
			}
	
			// Otherwise the selector is a node, and there is one last option - the
			// element might be a child of an element which has dt-row and dt-column
			// data attributes
			host = $(s).closest('*[data-dt-row]');
			return host.length ?
				[ {
					row: host.data('dt-row'),
					column: host.data('dt-column')
				} ] :
				[];
		};
	
		return _selector_run( 'cell', selector, run, settings, opts );
	};
	
	
	
	
	_api_register( 'cells()', function ( rowSelector, columnSelector, opts ) {
		// Argument shifting
		if ( $.isPlainObject( rowSelector ) ) {
			// Indexes
			if ( rowSelector.row === undefined ) {
				// Selector options in first parameter
				opts = rowSelector;
				rowSelector = null;
			}
			else {
				// Cell index objects in first parameter
				opts = columnSelector;
				columnSelector = null;
			}
		}
		if ( $.isPlainObject( columnSelector ) ) {
			opts = columnSelector;
			columnSelector = null;
		}
	
		// Cell selector
		if ( columnSelector === null || columnSelector === undefined ) {
			return this.iterator( 'table', function ( settings ) {
				return __cell_selector( settings, rowSelector, _selector_opts( opts ) );
			} );
		}
	
		// Row + column selector
		var columns = this.columns( columnSelector, opts );
		var rows = this.rows( rowSelector, opts );
		var a, i, ien, j, jen;
	
		var cells = this.iterator( 'table', function ( settings, idx ) {
			a = [];
	
			for ( i=0, ien=rows[idx].length ; i<ien ; i++ ) {
				for ( j=0, jen=columns[idx].length ; j<jen ; j++ ) {
					a.push( {
						row:    rows[idx][i],
						column: columns[idx][j]
					} );
				}
			}
	
			return a;
		}, 1 );
	
		$.extend( cells.selector, {
			cols: columnSelector,
			rows: rowSelector,
			opts: opts
		} );
	
		return cells;
	} );
	
	
	_api_registerPlural( 'cells().nodes()', 'cell().node()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			var data = settings.aoData[ row ];
	
			return data && data.anCells ?
				data.anCells[ column ] :
				undefined;
		}, 1 );
	} );
	
	
	_api_register( 'cells().data()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return _fnGetCellData( settings, row, column );
		}, 1 );
	} );
	
	
	_api_registerPlural( 'cells().cache()', 'cell().cache()', function ( type ) {
		type = type === 'search' ? '_aFilterData' : '_aSortData';
	
		return this.iterator( 'cell', function ( settings, row, column ) {
			return settings.aoData[ row ][ type ][ column ];
		}, 1 );
	} );
	
	
	_api_registerPlural( 'cells().render()', 'cell().render()', function ( type ) {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return _fnGetCellData( settings, row, column, type );
		}, 1 );
	} );
	
	
	_api_registerPlural( 'cells().indexes()', 'cell().index()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return {
				row: row,
				column: column,
				columnVisible: _fnColumnIndexToVisible( settings, column )
			};
		}, 1 );
	} );
	
	
	_api_registerPlural( 'cells().invalidate()', 'cell().invalidate()', function ( src ) {
		return this.iterator( 'cell', function ( settings, row, column ) {
			_fnInvalidate( settings, row, src, column );
		} );
	} );
	
	
	
	_api_register( 'cell()', function ( rowSelector, columnSelector, opts ) {
		return _selector_first( this.cells( rowSelector, columnSelector, opts ) );
	} );
	
	
	_api_register( 'cell().data()', function ( data ) {
		var ctx = this.context;
		var cell = this[0];
	
		if ( data === undefined ) {
			// Get
			return ctx.length && cell.length ?
				_fnGetCellData( ctx[0], cell[0].row, cell[0].column ) :
				undefined;
		}
	
		// Set
		_fnSetCellData( ctx[0], cell[0].row, cell[0].column, data );
		_fnInvalidate( ctx[0], cell[0].row, 'data', cell[0].column );
	
		return this;
	} );
	
	
	
	/**
	 * Get current ordering (sorting) that has been applied to the table.
	 *
	 * @returns {array} 2D array containing the sorting information for the first
	 *   table in the current context. Each element in the parent array represents
	 *   a column being sorted upon (i.e. multi-sorting with two columns would have
	 *   2 inner arrays). The inner arrays may have 2 or 3 elements. The first is
	 *   the column index that the sorting condition applies to, the second is the
	 *   direction of the sort (`desc` or `asc`) and, optionally, the third is the
	 *   index of the sorting order from the `column.sorting` initialisation array.
	 *//**
	 * Set the ordering for the table.
	 *
	 * @param {integer} order Column index to sort upon.
	 * @param {string} direction Direction of the sort to be applied (`asc` or `desc`)
	 * @returns {DataTables.Api} this
	 *//**
	 * Set the ordering for the table.
	 *
	 * @param {array} order 1D array of sorting information to be applied.
	 * @param {array} [...] Optional additional sorting conditions
	 * @returns {DataTables.Api} this
	 *//**
	 * Set the ordering for the table.
	 *
	 * @param {array} order 2D array of sorting information to be applied.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'order()', function ( order, dir ) {
		var ctx = this.context;
	
		if ( order === undefined ) {
			// get
			return ctx.length !== 0 ?
				ctx[0].aaSorting :
				undefined;
		}
	
		// set
		if ( typeof order === 'number' ) {
			// Simple column / direction passed in
			order = [ [ order, dir ] ];
		}
		else if ( order.length && ! $.isArray( order[0] ) ) {
			// Arguments passed in (list of 1D arrays)
			order = Array.prototype.slice.call( arguments );
		}
		// otherwise a 2D array was passed in
	
		return this.iterator( 'table', function ( settings ) {
			settings.aaSorting = order.slice();
		} );
	} );
	
	
	/**
	 * Attach a sort listener to an element for a given column
	 *
	 * @param {node|jQuery|string} node Identifier for the element(s) to attach the
	 *   listener to. This can take the form of a single DOM node, a jQuery
	 *   collection of nodes or a jQuery selector which will identify the node(s).
	 * @param {integer} column the column that a click on this node will sort on
	 * @param {function} [callback] callback function when sort is run
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'order.listener()', function ( node, column, callback ) {
		return this.iterator( 'table', function ( settings ) {
			_fnSortAttachListener( settings, node, column, callback );
		} );
	} );
	
	
	_api_register( 'order.fixed()', function ( set ) {
		if ( ! set ) {
			var ctx = this.context;
			var fixed = ctx.length ?
				ctx[0].aaSortingFixed :
				undefined;
	
			return $.isArray( fixed ) ?
				{ pre: fixed } :
				fixed;
		}
	
		return this.iterator( 'table', function ( settings ) {
			settings.aaSortingFixed = $.extend( true, {}, set );
		} );
	} );
	
	
	// Order by the selected column(s)
	_api_register( [
		'columns().order()',
		'column().order()'
	], function ( dir ) {
		var that = this;
	
		return this.iterator( 'table', function ( settings, i ) {
			var sort = [];
	
			$.each( that[i], function (j, col) {
				sort.push( [ col, dir ] );
			} );
	
			settings.aaSorting = sort;
		} );
	} );
	
	
	
	_api_register( 'search()', function ( input, regex, smart, caseInsen ) {
		var ctx = this.context;
	
		if ( input === undefined ) {
			// get
			return ctx.length !== 0 ?
				ctx[0].oPreviousSearch.sSearch :
				undefined;
		}
	
		// set
		return this.iterator( 'table', function ( settings ) {
			if ( ! settings.oFeatures.bFilter ) {
				return;
			}
	
			_fnFilterComplete( settings, $.extend( {}, settings.oPreviousSearch, {
				"sSearch": input+"",
				"bRegex":  regex === null ? false : regex,
				"bSmart":  smart === null ? true  : smart,
				"bCaseInsensitive": caseInsen === null ? true : caseInsen
			} ), 1 );
		} );
	} );
	
	
	_api_registerPlural(
		'columns().search()',
		'column().search()',
		function ( input, regex, smart, caseInsen ) {
			return this.iterator( 'column', function ( settings, column ) {
				var preSearch = settings.aoPreSearchCols;
	
				if ( input === undefined ) {
					// get
					return preSearch[ column ].sSearch;
				}
	
				// set
				if ( ! settings.oFeatures.bFilter ) {
					return;
				}
	
				$.extend( preSearch[ column ], {
					"sSearch": input+"",
					"bRegex":  regex === null ? false : regex,
					"bSmart":  smart === null ? true  : smart,
					"bCaseInsensitive": caseInsen === null ? true : caseInsen
				} );
	
				_fnFilterComplete( settings, settings.oPreviousSearch, 1 );
			} );
		}
	);
	
	/*
	 * State API methods
	 */
	
	_api_register( 'state()', function () {
		return this.context.length ?
			this.context[0].oSavedState :
			null;
	} );
	
	
	_api_register( 'state.clear()', function () {
		return this.iterator( 'table', function ( settings ) {
			// Save an empty object
			settings.fnStateSaveCallback.call( settings.oInstance, settings, {} );
		} );
	} );
	
	
	_api_register( 'state.loaded()', function () {
		return this.context.length ?
			this.context[0].oLoadedState :
			null;
	} );
	
	
	_api_register( 'state.save()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnSaveState( settings );
		} );
	} );
	
	
	
	/**
	 * Provide a common method for plug-ins to check the version of DataTables being
	 * used, in order to ensure compatibility.
	 *
	 *  @param {string} version Version string to check for, in the format "X.Y.Z".
	 *    Note that the formats "X" and "X.Y" are also acceptable.
	 *  @returns {boolean} true if this version of DataTables is greater or equal to
	 *    the required version, or false if this version of DataTales is not
	 *    suitable
	 *  @static
	 *  @dtopt API-Static
	 *
	 *  @example
	 *    alert( $.fn.dataTable.versionCheck( '1.9.0' ) );
	 */
	DataTable.versionCheck = DataTable.fnVersionCheck = function( version )
	{
		var aThis = DataTable.version.split('.');
		var aThat = version.split('.');
		var iThis, iThat;
	
		for ( var i=0, iLen=aThat.length ; i<iLen ; i++ ) {
			iThis = parseInt( aThis[i], 10 ) || 0;
			iThat = parseInt( aThat[i], 10 ) || 0;
	
			// Parts are the same, keep comparing
			if (iThis === iThat) {
				continue;
			}
	
			// Parts are different, return immediately
			return iThis > iThat;
		}
	
		return true;
	};
	
	
	/**
	 * Check if a `<table>` node is a DataTable table already or not.
	 *
	 *  @param {node|jquery|string} table Table node, jQuery object or jQuery
	 *      selector for the table to test. Note that if more than more than one
	 *      table is passed on, only the first will be checked
	 *  @returns {boolean} true the table given is a DataTable, or false otherwise
	 *  @static
	 *  @dtopt API-Static
	 *
	 *  @example
	 *    if ( ! $.fn.DataTable.isDataTable( '#example' ) ) {
	 *      $('#example').dataTable();
	 *    }
	 */
	DataTable.isDataTable = DataTable.fnIsDataTable = function ( table )
	{
		var t = $(table).get(0);
		var is = false;
	
		$.each( DataTable.settings, function (i, o) {
			var head = o.nScrollHead ? $('table', o.nScrollHead)[0] : null;
			var foot = o.nScrollFoot ? $('table', o.nScrollFoot)[0] : null;
	
			if ( o.nTable === t || head === t || foot === t ) {
				is = true;
			}
		} );
	
		return is;
	};
	
	
	/**
	 * Get all DataTable tables that have been initialised - optionally you can
	 * select to get only currently visible tables.
	 *
	 *  @param {boolean} [visible=false] Flag to indicate if you want all (default)
	 *    or visible tables only.
	 *  @returns {array} Array of `table` nodes (not DataTable instances) which are
	 *    DataTables
	 *  @static
	 *  @dtopt API-Static
	 *
	 *  @example
	 *    $.each( $.fn.dataTable.tables(true), function () {
	 *      $(table).DataTable().columns.adjust();
	 *    } );
	 */
	DataTable.tables = DataTable.fnTables = function ( visible )
	{
		var api = false;
	
		if ( $.isPlainObject( visible ) ) {
			api = visible.api;
			visible = visible.visible;
		}
	
		var a = $.map( DataTable.settings, function (o) {
			if ( !visible || (visible && $(o.nTable).is(':visible')) ) {
				return o.nTable;
			}
		} );
	
		return api ?
			new _Api( a ) :
			a;
	};
	
	
	/**
	 * Convert from camel case parameters to Hungarian notation. This is made public
	 * for the extensions to provide the same ability as DataTables core to accept
	 * either the 1.9 style Hungarian notation, or the 1.10+ style camelCase
	 * parameters.
	 *
	 *  @param {object} src The model object which holds all parameters that can be
	 *    mapped.
	 *  @param {object} user The object to convert from camel case to Hungarian.
	 *  @param {boolean} force When set to `true`, properties which already have a
	 *    Hungarian value in the `user` object will be overwritten. Otherwise they
	 *    won't be.
	 */
	DataTable.camelToHungarian = _fnCamelToHungarian;
	
	
	
	/**
	 *
	 */
	_api_register( '$()', function ( selector, opts ) {
		var
			rows   = this.rows( opts ).nodes(), // Get all rows
			jqRows = $(rows);
	
		return $( [].concat(
			jqRows.filter( selector ).toArray(),
			jqRows.find( selector ).toArray()
		) );
	} );
	
	
	// jQuery functions to operate on the tables
	$.each( [ 'on', 'one', 'off' ], function (i, key) {
		_api_register( key+'()', function ( /* event, handler */ ) {
			var args = Array.prototype.slice.call(arguments);
	
			// Add the `dt` namespace automatically if it isn't already present
			if ( ! args[0].match(/\.dt\b/) ) {
				args[0] += '.dt';
			}
	
			var inst = $( this.tables().nodes() );
			inst[key].apply( inst, args );
			return this;
		} );
	} );
	
	
	_api_register( 'clear()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnClearTable( settings );
		} );
	} );
	
	
	_api_register( 'settings()', function () {
		return new _Api( this.context, this.context );
	} );
	
	
	_api_register( 'init()', function () {
		var ctx = this.context;
		return ctx.length ? ctx[0].oInit : null;
	} );
	
	
	_api_register( 'data()', function () {
		return this.iterator( 'table', function ( settings ) {
			return _pluck( settings.aoData, '_aData' );
		} ).flatten();
	} );
	
	
	_api_register( 'destroy()', function ( remove ) {
		remove = remove || false;
	
		return this.iterator( 'table', function ( settings ) {
			var orig      = settings.nTableWrapper.parentNode;
			var classes   = settings.oClasses;
			var table     = settings.nTable;
			var tbody     = settings.nTBody;
			var thead     = settings.nTHead;
			var tfoot     = settings.nTFoot;
			var jqTable   = $(table);
			var jqTbody   = $(tbody);
			var jqWrapper = $(settings.nTableWrapper);
			var rows      = $.map( settings.aoData, function (r) { return r.nTr; } );
			var i, ien;
	
			// Flag to note that the table is currently being destroyed - no action
			// should be taken
			settings.bDestroying = true;
	
			// Fire off the destroy callbacks for plug-ins etc
			_fnCallbackFire( settings, "aoDestroyCallback", "destroy", [settings] );
	
			// If not being removed from the document, make all columns visible
			if ( ! remove ) {
				new _Api( settings ).columns().visible( true );
			}
	
			// Blitz all `DT` namespaced events (these are internal events, the
			// lowercase, `dt` events are user subscribed and they are responsible
			// for removing them
			jqWrapper.unbind('.DT').find(':not(tbody *)').unbind('.DT');
			$(window).unbind('.DT-'+settings.sInstance);
	
			// When scrolling we had to break the table up - restore it
			if ( table != thead.parentNode ) {
				jqTable.children('thead').detach();
				jqTable.append( thead );
			}
	
			if ( tfoot && table != tfoot.parentNode ) {
				jqTable.children('tfoot').detach();
				jqTable.append( tfoot );
			}
	
			settings.aaSorting = [];
			settings.aaSortingFixed = [];
			_fnSortingClasses( settings );
	
			$( rows ).removeClass( settings.asStripeClasses.join(' ') );
	
			$('th, td', thead).removeClass( classes.sSortable+' '+
				classes.sSortableAsc+' '+classes.sSortableDesc+' '+classes.sSortableNone
			);
	
			if ( settings.bJUI ) {
				$('th span.'+classes.sSortIcon+ ', td span.'+classes.sSortIcon, thead).detach();
				$('th, td', thead).each( function () {
					var wrapper = $('div.'+classes.sSortJUIWrapper, this);
					$(this).append( wrapper.contents() );
					wrapper.detach();
				} );
			}
	
			// Add the TR elements back into the table in their original order
			jqTbody.children().detach();
			jqTbody.append( rows );
	
			// Remove the DataTables generated nodes, events and classes
			var removedMethod = remove ? 'remove' : 'detach';
			jqTable[ removedMethod ]();
			jqWrapper[ removedMethod ]();
	
			// If we need to reattach the table to the document
			if ( ! remove && orig ) {
				// insertBefore acts like appendChild if !arg[1]
				orig.insertBefore( table, settings.nTableReinsertBefore );
	
				// Restore the width of the original table - was read from the style property,
				// so we can restore directly to that
				jqTable
					.css( 'width', settings.sDestroyWidth )
					.removeClass( classes.sTable );
	
				// If the were originally stripe classes - then we add them back here.
				// Note this is not fool proof (for example if not all rows had stripe
				// classes - but it's a good effort without getting carried away
				ien = settings.asDestroyStripes.length;
	
				if ( ien ) {
					jqTbody.children().each( function (i) {
						$(this).addClass( settings.asDestroyStripes[i % ien] );
					} );
				}
			}
	
			/* Remove the settings object from the settings array */
			var idx = $.inArray( settings, DataTable.settings );
			if ( idx !== -1 ) {
				DataTable.settings.splice( idx, 1 );
			}
		} );
	} );
	
	
	// Add the `every()` method for rows, columns and cells in a compact form
	$.each( [ 'column', 'row', 'cell' ], function ( i, type ) {
		_api_register( type+'s().every()', function ( fn ) {
			var opts = this.selector.opts;
			var api = this;
	
			return this.iterator( type, function ( settings, arg1, arg2, arg3, arg4 ) {
				// Rows and columns:
				//  arg1 - index
				//  arg2 - table counter
				//  arg3 - loop counter
				//  arg4 - undefined
				// Cells:
				//  arg1 - row index
				//  arg2 - column index
				//  arg3 - table counter
				//  arg4 - loop counter
				fn.call(
					api[ type ](
						arg1,
						type==='cell' ? arg2 : opts,
						type==='cell' ? opts : undefined
					),
					arg1, arg2, arg3, arg4
				);
			} );
		} );
	} );
	
	
	// i18n method for extensions to be able to use the language object from the
	// DataTable
	_api_register( 'i18n()', function ( token, def, plural ) {
		var ctx = this.context[0];
		var resolved = _fnGetObjectDataFn( token )( ctx.oLanguage );
	
		if ( resolved === undefined ) {
			resolved = def;
		}
	
		if ( plural !== undefined && $.isPlainObject( resolved ) ) {
			resolved = resolved[ plural ] !== undefined ?
				resolved[ plural ] :
				resolved._;
		}
	
		return resolved.replace( '%d', plural ); // nb: plural might be undefined,
	} );
	/**
	 * Version string for plug-ins to check compatibility. Allowed format is
	 * `a.b.c-d` where: a:int, b:int, c:int, d:string(dev|beta|alpha). `d` is used
	 * only for non-release builds. See http://semver.org/ for more information.
	 *  @member
	 *  @type string
	 *  @default Version number
	 */
	DataTable.version = "1.10.12";

	/**
	 * Private data store, containing all of the settings objects that are
	 * created for the tables on a given page.
	 *
	 * Note that the `DataTable.settings` object is aliased to
	 * `jQuery.fn.dataTableExt` through which it may be accessed and
	 * manipulated, or `jQuery.fn.dataTable.settings`.
	 *  @member
	 *  @type array
	 *  @default []
	 *  @private
	 */
	DataTable.settings = [];

	/**
	 * Object models container, for the various models that DataTables has
	 * available to it. These models define the objects that are used to hold
	 * the active state and configuration of the table.
	 *  @namespace
	 */
	DataTable.models = {};
	
	
	
	/**
	 * Template object for the way in which DataTables holds information about
	 * search information for the global filter and individual column filters.
	 *  @namespace
	 */
	DataTable.models.oSearch = {
		/**
		 * Flag to indicate if the filtering should be case insensitive or not
		 *  @type boolean
		 *  @default true
		 */
		"bCaseInsensitive": true,
	
		/**
		 * Applied search term
		 *  @type string
		 *  @default <i>Empty string</i>
		 */
		"sSearch": "",
	
		/**
		 * Flag to indicate if the search term should be interpreted as a
		 * regular expression (true) or not (false) and therefore and special
		 * regex characters escaped.
		 *  @type boolean
		 *  @default false
		 */
		"bRegex": false,
	
		/**
		 * Flag to indicate if DataTables is to use its smart filtering or not.
		 *  @type boolean
		 *  @default true
		 */
		"bSmart": true
	};
	
	
	
	
	/**
	 * Template object for the way in which DataTables holds information about
	 * each individual row. This is the object format used for the settings
	 * aoData array.
	 *  @namespace
	 */
	DataTable.models.oRow = {
		/**
		 * TR element for the row
		 *  @type node
		 *  @default null
		 */
		"nTr": null,
	
		/**
		 * Array of TD elements for each row. This is null until the row has been
		 * created.
		 *  @type array nodes
		 *  @default []
		 */
		"anCells": null,
	
		/**
		 * Data object from the original data source for the row. This is either
		 * an array if using the traditional form of DataTables, or an object if
		 * using mData options. The exact type will depend on the passed in
		 * data from the data source, or will be an array if using DOM a data
		 * source.
		 *  @type array|object
		 *  @default []
		 */
		"_aData": [],
	
		/**
		 * Sorting data cache - this array is ostensibly the same length as the
		 * number of columns (although each index is generated only as it is
		 * needed), and holds the data that is used for sorting each column in the
		 * row. We do this cache generation at the start of the sort in order that
		 * the formatting of the sort data need be done only once for each cell
		 * per sort. This array should not be read from or written to by anything
		 * other than the master sorting methods.
		 *  @type array
		 *  @default null
		 *  @private
		 */
		"_aSortData": null,
	
		/**
		 * Per cell filtering data cache. As per the sort data cache, used to
		 * increase the performance of the filtering in DataTables
		 *  @type array
		 *  @default null
		 *  @private
		 */
		"_aFilterData": null,
	
		/**
		 * Filtering data cache. This is the same as the cell filtering cache, but
		 * in this case a string rather than an array. This is easily computed with
		 * a join on `_aFilterData`, but is provided as a cache so the join isn't
		 * needed on every search (memory traded for performance)
		 *  @type array
		 *  @default null
		 *  @private
		 */
		"_sFilterRow": null,
	
		/**
		 * Cache of the class name that DataTables has applied to the row, so we
		 * can quickly look at this variable rather than needing to do a DOM check
		 * on className for the nTr property.
		 *  @type string
		 *  @default <i>Empty string</i>
		 *  @private
		 */
		"_sRowStripe": "",
	
		/**
		 * Denote if the original data source was from the DOM, or the data source
		 * object. This is used for invalidating data, so DataTables can
		 * automatically read data from the original source, unless uninstructed
		 * otherwise.
		 *  @type string
		 *  @default null
		 *  @private
		 */
		"src": null,
	
		/**
		 * Index in the aoData array. This saves an indexOf lookup when we have the
		 * object, but want to know the index
		 *  @type integer
		 *  @default -1
		 *  @private
		 */
		"idx": -1
	};
	
	
	/**
	 * Template object for the column information object in DataTables. This object
	 * is held in the settings aoColumns array and contains all the information that
	 * DataTables needs about each individual column.
	 *
	 * Note that this object is related to {@link DataTable.defaults.column}
	 * but this one is the internal data store for DataTables's cache of columns.
	 * It should NOT be manipulated outside of DataTables. Any configuration should
	 * be done through the initialisation options.
	 *  @namespace
	 */
	DataTable.models.oColumn = {
		/**
		 * Column index. This could be worked out on-the-fly with $.inArray, but it
		 * is faster to just hold it as a variable
		 *  @type integer
		 *  @default null
		 */
		"idx": null,
	
		/**
		 * A list of the columns that sorting should occur on when this column
		 * is sorted. That this property is an array allows multi-column sorting
		 * to be defined for a column (for example first name / last name columns
		 * would benefit from this). The values are integers pointing to the
		 * columns to be sorted on (typically it will be a single integer pointing
		 * at itself, but that doesn't need to be the case).
		 *  @type array
		 */
		"aDataSort": null,
	
		/**
		 * Define the sorting directions that are applied to the column, in sequence
		 * as the column is repeatedly sorted upon - i.e. the first value is used
		 * as the sorting direction when the column if first sorted (clicked on).
		 * Sort it again (click again) and it will move on to the next index.
		 * Repeat until loop.
		 *  @type array
		 */
		"asSorting": null,
	
		/**
		 * Flag to indicate if the column is searchable, and thus should be included
		 * in the filtering or not.
		 *  @type boolean
		 */
		"bSearchable": null,
	
		/**
		 * Flag to indicate if the column is sortable or not.
		 *  @type boolean
		 */
		"bSortable": null,
	
		/**
		 * Flag to indicate if the column is currently visible in the table or not
		 *  @type boolean
		 */
		"bVisible": null,
	
		/**
		 * Store for manual type assignment using the `column.type` option. This
		 * is held in store so we can manipulate the column's `sType` property.
		 *  @type string
		 *  @default null
		 *  @private
		 */
		"_sManualType": null,
	
		/**
		 * Flag to indicate if HTML5 data attributes should be used as the data
		 * source for filtering or sorting. True is either are.
		 *  @type boolean
		 *  @default false
		 *  @private
		 */
		"_bAttrSrc": false,
	
		/**
		 * Developer definable function that is called whenever a cell is created (Ajax source,
		 * etc) or processed for input (DOM source). This can be used as a compliment to mRender
		 * allowing you to modify the DOM element (add background colour for example) when the
		 * element is available.
		 *  @type function
		 *  @param {element} nTd The TD node that has been created
		 *  @param {*} sData The Data for the cell
		 *  @param {array|object} oData The data for the whole row
		 *  @param {int} iRow The row index for the aoData data store
		 *  @default null
		 */
		"fnCreatedCell": null,
	
		/**
		 * Function to get data from a cell in a column. You should <b>never</b>
		 * access data directly through _aData internally in DataTables - always use
		 * the method attached to this property. It allows mData to function as
		 * required. This function is automatically assigned by the column
		 * initialisation method
		 *  @type function
		 *  @param {array|object} oData The data array/object for the array
		 *    (i.e. aoData[]._aData)
		 *  @param {string} sSpecific The specific data type you want to get -
		 *    'display', 'type' 'filter' 'sort'
		 *  @returns {*} The data for the cell from the given row's data
		 *  @default null
		 */
		"fnGetData": null,
	
		/**
		 * Function to set data for a cell in the column. You should <b>never</b>
		 * set the data directly to _aData internally in DataTables - always use
		 * this method. It allows mData to function as required. This function
		 * is automatically assigned by the column initialisation method
		 *  @type function
		 *  @param {array|object} oData The data array/object for the array
		 *    (i.e. aoData[]._aData)
		 *  @param {*} sValue Value to set
		 *  @default null
		 */
		"fnSetData": null,
	
		/**
		 * Property to read the value for the cells in the column from the data
		 * source array / object. If null, then the default content is used, if a
		 * function is given then the return from the function is used.
		 *  @type function|int|string|null
		 *  @default null
		 */
		"mData": null,
	
		/**
		 * Partner property to mData which is used (only when defined) to get
		 * the data - i.e. it is basically the same as mData, but without the
		 * 'set' option, and also the data fed to it is the result from mData.
		 * This is the rendering method to match the data method of mData.
		 *  @type function|int|string|null
		 *  @default null
		 */
		"mRender": null,
	
		/**
		 * Unique header TH/TD element for this column - this is what the sorting
		 * listener is attached to (if sorting is enabled.)
		 *  @type node
		 *  @default null
		 */
		"nTh": null,
	
		/**
		 * Unique footer TH/TD element for this column (if there is one). Not used
		 * in DataTables as such, but can be used for plug-ins to reference the
		 * footer for each column.
		 *  @type node
		 *  @default null
		 */
		"nTf": null,
	
		/**
		 * The class to apply to all TD elements in the table's TBODY for the column
		 *  @type string
		 *  @default null
		 */
		"sClass": null,
	
		/**
		 * When DataTables calculates the column widths to assign to each column,
		 * it finds the longest string in each column and then constructs a
		 * temporary table and reads the widths from that. The problem with this
		 * is that "mmm" is much wider then "iiii", but the latter is a longer
		 * string - thus the calculation can go wrong (doing it properly and putting
		 * it into an DOM object and measuring that is horribly(!) slow). Thus as
		 * a "work around" we provide this option. It will append its value to the
		 * text that is found to be the longest string for the column - i.e. padding.
		 *  @type string
		 */
		"sContentPadding": null,
	
		/**
		 * Allows a default value to be given for a column's data, and will be used
		 * whenever a null data source is encountered (this can be because mData
		 * is set to null, or because the data source itself is null).
		 *  @type string
		 *  @default null
		 */
		"sDefaultContent": null,
	
		/**
		 * Name for the column, allowing reference to the column by name as well as
		 * by index (needs a lookup to work by name).
		 *  @type string
		 */
		"sName": null,
	
		/**
		 * Custom sorting data type - defines which of the available plug-ins in
		 * afnSortData the custom sorting will use - if any is defined.
		 *  @type string
		 *  @default std
		 */
		"sSortDataType": 'std',
	
		/**
		 * Class to be applied to the header element when sorting on this column
		 *  @type string
		 *  @default null
		 */
		"sSortingClass": null,
	
		/**
		 * Class to be applied to the header element when sorting on this column -
		 * when jQuery UI theming is used.
		 *  @type string
		 *  @default null
		 */
		"sSortingClassJUI": null,
	
		/**
		 * Title of the column - what is seen in the TH element (nTh).
		 *  @type string
		 */
		"sTitle": null,
	
		/**
		 * Column sorting and filtering type
		 *  @type string
		 *  @default null
		 */
		"sType": null,
	
		/**
		 * Width of the column
		 *  @type string
		 *  @default null
		 */
		"sWidth": null,
	
		/**
		 * Width of the column when it was first "encountered"
		 *  @type string
		 *  @default null
		 */
		"sWidthOrig": null
	};
	
	
	/*
	 * Developer note: The properties of the object below are given in Hungarian
	 * notation, that was used as the interface for DataTables prior to v1.10, however
	 * from v1.10 onwards the primary interface is camel case. In order to avoid
	 * breaking backwards compatibility utterly with this change, the Hungarian
	 * version is still, internally the primary interface, but is is not documented
	 * - hence the @name tags in each doc comment. This allows a Javascript function
	 * to create a map from Hungarian notation to camel case (going the other direction
	 * would require each property to be listed, which would at around 3K to the size
	 * of DataTables, while this method is about a 0.5K hit.
	 *
	 * Ultimately this does pave the way for Hungarian notation to be dropped
	 * completely, but that is a massive amount of work and will break current
	 * installs (therefore is on-hold until v2).
	 */
	
	/**
	 * Initialisation options that can be given to DataTables at initialisation
	 * time.
	 *  @namespace
	 */
	DataTable.defaults = {
		/**
		 * An array of data to use for the table, passed in at initialisation which
		 * will be used in preference to any data which is already in the DOM. This is
		 * particularly useful for constructing tables purely in Javascript, for
		 * example with a custom Ajax call.
		 *  @type array
		 *  @default null
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.data
		 *
		 *  @example
		 *    // Using a 2D array data source
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "data": [
		 *          ['Trident', 'Internet Explorer 4.0', 'Win 95+', 4, 'X'],
		 *          ['Trident', 'Internet Explorer 5.0', 'Win 95+', 5, 'C'],
		 *        ],
		 *        "columns": [
		 *          { "title": "Engine" },
		 *          { "title": "Browser" },
		 *          { "title": "Platform" },
		 *          { "title": "Version" },
		 *          { "title": "Grade" }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using an array of objects as a data source (`data`)
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "data": [
		 *          {
		 *            "engine":   "Trident",
		 *            "browser":  "Internet Explorer 4.0",
		 *            "platform": "Win 95+",
		 *            "version":  4,
		 *            "grade":    "X"
		 *          },
		 *          {
		 *            "engine":   "Trident",
		 *            "browser":  "Internet Explorer 5.0",
		 *            "platform": "Win 95+",
		 *            "version":  5,
		 *            "grade":    "C"
		 *          }
		 *        ],
		 *        "columns": [
		 *          { "title": "Engine",   "data": "engine" },
		 *          { "title": "Browser",  "data": "browser" },
		 *          { "title": "Platform", "data": "platform" },
		 *          { "title": "Version",  "data": "version" },
		 *          { "title": "Grade",    "data": "grade" }
		 *        ]
		 *      } );
		 *    } );
		 */
		"aaData": null,
	
	
		/**
		 * If ordering is enabled, then DataTables will perform a first pass sort on
		 * initialisation. You can define which column(s) the sort is performed
		 * upon, and the sorting direction, with this variable. The `sorting` array
		 * should contain an array for each column to be sorted initially containing
		 * the column's index and a direction string ('asc' or 'desc').
		 *  @type array
		 *  @default [[0,'asc']]
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.order
		 *
		 *  @example
		 *    // Sort by 3rd column first, and then 4th column
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "order": [[2,'asc'], [3,'desc']]
		 *      } );
		 *    } );
		 *
		 *    // No initial sorting
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "order": []
		 *      } );
		 *    } );
		 */
		"aaSorting": [[0,'asc']],
	
	
		/**
		 * This parameter is basically identical to the `sorting` parameter, but
		 * cannot be overridden by user interaction with the table. What this means
		 * is that you could have a column (visible or hidden) which the sorting
		 * will always be forced on first - any sorting after that (from the user)
		 * will then be performed as required. This can be useful for grouping rows
		 * together.
		 *  @type array
		 *  @default null
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.orderFixed
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "orderFixed": [[0,'asc']]
		 *      } );
		 *    } )
		 */
		"aaSortingFixed": [],
	
	
		/**
		 * DataTables can be instructed to load data to display in the table from a
		 * Ajax source. This option defines how that Ajax call is made and where to.
		 *
		 * The `ajax` property has three different modes of operation, depending on
		 * how it is defined. These are:
		 *
		 * * `string` - Set the URL from where the data should be loaded from.
		 * * `object` - Define properties for `jQuery.ajax`.
		 * * `function` - Custom data get function
		 *
		 * `string`
		 * --------
		 *
		 * As a string, the `ajax` property simply defines the URL from which
		 * DataTables will load data.
		 *
		 * `object`
		 * --------
		 *
		 * As an object, the parameters in the object are passed to
		 * [jQuery.ajax](http://api.jquery.com/jQuery.ajax/) allowing fine control
		 * of the Ajax request. DataTables has a number of default parameters which
		 * you can override using this option. Please refer to the jQuery
		 * documentation for a full description of the options available, although
		 * the following parameters provide additional options in DataTables or
		 * require special consideration:
		 *
		 * * `data` - As with jQuery, `data` can be provided as an object, but it
		 *   can also be used as a function to manipulate the data DataTables sends
		 *   to the server. The function takes a single parameter, an object of
		 *   parameters with the values that DataTables has readied for sending. An
		 *   object may be returned which will be merged into the DataTables
		 *   defaults, or you can add the items to the object that was passed in and
		 *   not return anything from the function. This supersedes `fnServerParams`
		 *   from DataTables 1.9-.
		 *
		 * * `dataSrc` - By default DataTables will look for the property `data` (or
		 *   `aaData` for compatibility with DataTables 1.9-) when obtaining data
		 *   from an Ajax source or for server-side processing - this parameter
		 *   allows that property to be changed. You can use Javascript dotted
		 *   object notation to get a data source for multiple levels of nesting, or
		 *   it my be used as a function. As a function it takes a single parameter,
		 *   the JSON returned from the server, which can be manipulated as
		 *   required, with the returned value being that used by DataTables as the
		 *   data source for the table. This supersedes `sAjaxDataProp` from
		 *   DataTables 1.9-.
		 *
		 * * `success` - Should not be overridden it is used internally in
		 *   DataTables. To manipulate / transform the data returned by the server
		 *   use `ajax.dataSrc`, or use `ajax` as a function (see below).
		 *
		 * `function`
		 * ----------
		 *
		 * As a function, making the Ajax call is left up to yourself allowing
		 * complete control of the Ajax request. Indeed, if desired, a method other
		 * than Ajax could be used to obtain the required data, such as Web storage
		 * or an AIR database.
		 *
		 * The function is given four parameters and no return is required. The
		 * parameters are:
		 *
		 * 1. _object_ - Data to send to the server
		 * 2. _function_ - Callback function that must be executed when the required
		 *    data has been obtained. That data should be passed into the callback
		 *    as the only parameter
		 * 3. _object_ - DataTables settings object for the table
		 *
		 * Note that this supersedes `fnServerData` from DataTables 1.9-.
		 *
		 *  @type string|object|function
		 *  @default null
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.ajax
		 *  @since 1.10.0
		 *
		 * @example
		 *   // Get JSON data from a file via Ajax.
		 *   // Note DataTables expects data in the form `{ data: [ ...data... ] }` by default).
		 *   $('#example').dataTable( {
		 *     "ajax": "data.json"
		 *   } );
		 *
		 * @example
		 *   // Get JSON data from a file via Ajax, using `dataSrc` to change
		 *   // `data` to `tableData` (i.e. `{ tableData: [ ...data... ] }`)
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "dataSrc": "tableData"
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Get JSON data from a file via Ajax, using `dataSrc` to read data
		 *   // from a plain array rather than an array in an object
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "dataSrc": ""
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Manipulate the data returned from the server - add a link to data
		 *   // (note this can, should, be done using `render` for the column - this
		 *   // is just a simple example of how the data can be manipulated).
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "dataSrc": function ( json ) {
		 *         for ( var i=0, ien=json.length ; i<ien ; i++ ) {
		 *           json[i][0] = '<a href="/message/'+json[i][0]+'>View message</a>';
		 *         }
		 *         return json;
		 *       }
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Add data to the request
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "data": function ( d ) {
		 *         return {
		 *           "extra_search": $('#extra').val()
		 *         };
		 *       }
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Send request as POST
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "type": "POST"
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Get the data from localStorage (could interface with a form for
		 *   // adding, editing and removing rows).
		 *   $('#example').dataTable( {
		 *     "ajax": function (data, callback, settings) {
		 *       callback(
		 *         JSON.parse( localStorage.getItem('dataTablesData') )
		 *       );
		 *     }
		 *   } );
		 */
		"ajax": null,
	
	
		/**
		 * This parameter allows you to readily specify the entries in the length drop
		 * down menu that DataTables shows when pagination is enabled. It can be
		 * either a 1D array of options which will be used for both the displayed
		 * option and the value, or a 2D array which will use the array in the first
		 * position as the value, and the array in the second position as the
		 * displayed options (useful for language strings such as 'All').
		 *
		 * Note that the `pageLength` property will be automatically set to the
		 * first value given in this array, unless `pageLength` is also provided.
		 *  @type array
		 *  @default [ 10, 25, 50, 100 ]
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.lengthMenu
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]
		 *      } );
		 *    } );
		 */
		"aLengthMenu": [ 10, 25, 50, 100 ],
	
	
		/**
		 * The `columns` option in the initialisation parameter allows you to define
		 * details about the way individual columns behave. For a full list of
		 * column options that can be set, please see
		 * {@link DataTable.defaults.column}. Note that if you use `columns` to
		 * define your columns, you must have an entry in the array for every single
		 * column that you have in your table (these can be null if you don't which
		 * to specify any options).
		 *  @member
		 *
		 *  @name DataTable.defaults.column
		 */
		"aoColumns": null,
	
		/**
		 * Very similar to `columns`, `columnDefs` allows you to target a specific
		 * column, multiple columns, or all columns, using the `targets` property of
		 * each object in the array. This allows great flexibility when creating
		 * tables, as the `columnDefs` arrays can be of any length, targeting the
		 * columns you specifically want. `columnDefs` may use any of the column
		 * options available: {@link DataTable.defaults.column}, but it _must_
		 * have `targets` defined in each object in the array. Values in the `targets`
		 * array may be:
		 *   <ul>
		 *     <li>a string - class name will be matched on the TH for the column</li>
		 *     <li>0 or a positive integer - column index counting from the left</li>
		 *     <li>a negative integer - column index counting from the right</li>
		 *     <li>the string "_all" - all columns (i.e. assign a default)</li>
		 *   </ul>
		 *  @member
		 *
		 *  @name DataTable.defaults.columnDefs
		 */
		"aoColumnDefs": null,
	
	
		/**
		 * Basically the same as `search`, this parameter defines the individual column
		 * filtering state at initialisation time. The array must be of the same size
		 * as the number of columns, and each element be an object with the parameters
		 * `search` and `escapeRegex` (the latter is optional). 'null' is also
		 * accepted and the default will be used.
		 *  @type array
		 *  @default []
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.searchCols
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "searchCols": [
		 *          null,
		 *          { "search": "My filter" },
		 *          null,
		 *          { "search": "^[0-9]", "escapeRegex": false }
		 *        ]
		 *      } );
		 *    } )
		 */
		"aoSearchCols": [],
	
	
		/**
		 * An array of CSS classes that should be applied to displayed rows. This
		 * array may be of any length, and DataTables will apply each class
		 * sequentially, looping when required.
		 *  @type array
		 *  @default null <i>Will take the values determined by the `oClasses.stripe*`
		 *    options</i>
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.stripeClasses
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stripeClasses": [ 'strip1', 'strip2', 'strip3' ]
		 *      } );
		 *    } )
		 */
		"asStripeClasses": null,
	
	
		/**
		 * Enable or disable automatic column width calculation. This can be disabled
		 * as an optimisation (it takes some time to calculate the widths) if the
		 * tables widths are passed in using `columns`.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.autoWidth
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "autoWidth": false
		 *      } );
		 *    } );
		 */
		"bAutoWidth": true,
	
	
		/**
		 * Deferred rendering can provide DataTables with a huge speed boost when you
		 * are using an Ajax or JS data source for the table. This option, when set to
		 * true, will cause DataTables to defer the creation of the table elements for
		 * each row until they are needed for a draw - saving a significant amount of
		 * time.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.deferRender
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajax": "sources/arrays.txt",
		 *        "deferRender": true
		 *      } );
		 *    } );
		 */
		"bDeferRender": false,
	
	
		/**
		 * Replace a DataTable which matches the given selector and replace it with
		 * one which has the properties of the new initialisation object passed. If no
		 * table matches the selector, then the new DataTable will be constructed as
		 * per normal.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.destroy
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "srollY": "200px",
		 *        "paginate": false
		 *      } );
		 *
		 *      // Some time later....
		 *      $('#example').dataTable( {
		 *        "filter": false,
		 *        "destroy": true
		 *      } );
		 *    } );
		 */
		"bDestroy": false,
	
	
		/**
		 * Enable or disable filtering of data. Filtering in DataTables is "smart" in
		 * that it allows the end user to input multiple words (space separated) and
		 * will match a row containing those words, even if not in the order that was
		 * specified (this allow matching across multiple columns). Note that if you
		 * wish to use filtering in DataTables this must remain 'true' - to remove the
		 * default filtering input box and retain filtering abilities, please use
		 * {@link DataTable.defaults.dom}.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.searching
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "searching": false
		 *      } );
		 *    } );
		 */
		"bFilter": true,
	
	
		/**
		 * Enable or disable the table information display. This shows information
		 * about the data that is currently visible on the page, including information
		 * about filtered data if that action is being performed.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.info
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "info": false
		 *      } );
		 *    } );
		 */
		"bInfo": true,
	
	
		/**
		 * Enable jQuery UI ThemeRoller support (required as ThemeRoller requires some
		 * slightly different and additional mark-up from what DataTables has
		 * traditionally used).
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.jQueryUI
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "jQueryUI": true
		 *      } );
		 *    } );
		 */
		"bJQueryUI": false,
	
	
		/**
		 * Allows the end user to select the size of a formatted page from a select
		 * menu (sizes are 10, 25, 50 and 100). Requires pagination (`paginate`).
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.lengthChange
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "lengthChange": false
		 *      } );
		 *    } );
		 */
		"bLengthChange": true,
	
	
		/**
		 * Enable or disable pagination.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.paging
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "paging": false
		 *      } );
		 *    } );
		 */
		"bPaginate": true,
	
	
		/**
		 * Enable or disable the display of a 'processing' indicator when the table is
		 * being processed (e.g. a sort). This is particularly useful for tables with
		 * large amounts of data where it can take a noticeable amount of time to sort
		 * the entries.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.processing
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "processing": true
		 *      } );
		 *    } );
		 */
		"bProcessing": false,
	
	
		/**
		 * Retrieve the DataTables object for the given selector. Note that if the
		 * table has already been initialised, this parameter will cause DataTables
		 * to simply return the object that has already been set up - it will not take
		 * account of any changes you might have made to the initialisation object
		 * passed to DataTables (setting this parameter to true is an acknowledgement
		 * that you understand this). `destroy` can be used to reinitialise a table if
		 * you need.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.retrieve
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      initTable();
		 *      tableActions();
		 *    } );
		 *
		 *    function initTable ()
		 *    {
		 *      return $('#example').dataTable( {
		 *        "scrollY": "200px",
		 *        "paginate": false,
		 *        "retrieve": true
		 *      } );
		 *    }
		 *
		 *    function tableActions ()
		 *    {
		 *      var table = initTable();
		 *      // perform API operations with oTable
		 *    }
		 */
		"bRetrieve": false,
	
	
		/**
		 * When vertical (y) scrolling is enabled, DataTables will force the height of
		 * the table's viewport to the given height at all times (useful for layout).
		 * However, this can look odd when filtering data down to a small data set,
		 * and the footer is left "floating" further down. This parameter (when
		 * enabled) will cause DataTables to collapse the table's viewport down when
		 * the result set will fit within the given Y height.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.scrollCollapse
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollY": "200",
		 *        "scrollCollapse": true
		 *      } );
		 *    } );
		 */
		"bScrollCollapse": false,
	
	
		/**
		 * Configure DataTables to use server-side processing. Note that the
		 * `ajax` parameter must also be given in order to give DataTables a
		 * source to obtain the required data for each draw.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverSide
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "serverSide": true,
		 *        "ajax": "xhr.php"
		 *      } );
		 *    } );
		 */
		"bServerSide": false,
	
	
		/**
		 * Enable or disable sorting of columns. Sorting of individual columns can be
		 * disabled by the `sortable` option for each column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.ordering
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "ordering": false
		 *      } );
		 *    } );
		 */
		"bSort": true,
	
	
		/**
		 * Enable or display DataTables' ability to sort multiple columns at the
		 * same time (activated by shift-click by the user).
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.orderMulti
		 *
		 *  @example
		 *    // Disable multiple column sorting ability
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "orderMulti": false
		 *      } );
		 *    } );
		 */
		"bSortMulti": true,
	
	
		/**
		 * Allows control over whether DataTables should use the top (true) unique
		 * cell that is found for a single column, or the bottom (false - default).
		 * This is useful when using complex headers.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.orderCellsTop
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "orderCellsTop": true
		 *      } );
		 *    } );
		 */
		"bSortCellsTop": false,
	
	
		/**
		 * Enable or disable the addition of the classes `sorting\_1`, `sorting\_2` and
		 * `sorting\_3` to the columns which are currently being sorted on. This is
		 * presented as a feature switch as it can increase processing time (while
		 * classes are removed and added) so for large data sets you might want to
		 * turn this off.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.orderClasses
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "orderClasses": false
		 *      } );
		 *    } );
		 */
		"bSortClasses": true,
	
	
		/**
		 * Enable or disable state saving. When enabled HTML5 `localStorage` will be
		 * used to save table display information such as pagination information,
		 * display length, filtering and sorting. As such when the end user reloads
		 * the page the display display will match what thy had previously set up.
		 *
		 * Due to the use of `localStorage` the default state saving is not supported
		 * in IE6 or 7. If state saving is required in those browsers, use
		 * `stateSaveCallback` to provide a storage solution such as cookies.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.stateSave
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "stateSave": true
		 *      } );
		 *    } );
		 */
		"bStateSave": false,
	
	
		/**
		 * This function is called when a TR element is created (and all TD child
		 * elements have been inserted), or registered if using a DOM source, allowing
		 * manipulation of the TR element (adding classes etc).
		 *  @type function
		 *  @param {node} row "TR" element for the current row
		 *  @param {array} data Raw data array for this row
		 *  @param {int} dataIndex The index of this row in the internal aoData array
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.createdRow
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "createdRow": function( row, data, dataIndex ) {
		 *          // Bold the grade for all 'A' grade browsers
		 *          if ( data[4] == "A" )
		 *          {
		 *            $('td:eq(4)', row).html( '<b>A</b>' );
		 *          }
		 *        }
		 *      } );
		 *    } );
		 */
		"fnCreatedRow": null,
	
	
		/**
		 * This function is called on every 'draw' event, and allows you to
		 * dynamically modify any aspect you want about the created DOM.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.drawCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "drawCallback": function( settings ) {
		 *          alert( 'DataTables has redrawn the table' );
		 *        }
		 *      } );
		 *    } );
		 */
		"fnDrawCallback": null,
	
	
		/**
		 * Identical to fnHeaderCallback() but for the table footer this function
		 * allows you to modify the table footer on every 'draw' event.
		 *  @type function
		 *  @param {node} foot "TR" element for the footer
		 *  @param {array} data Full table data (as derived from the original HTML)
		 *  @param {int} start Index for the current display starting point in the
		 *    display array
		 *  @param {int} end Index for the current display ending point in the
		 *    display array
		 *  @param {array int} display Index array to translate the visual position
		 *    to the full data array
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.footerCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "footerCallback": function( tfoot, data, start, end, display ) {
		 *          tfoot.getElementsByTagName('th')[0].innerHTML = "Starting index is "+start;
		 *        }
		 *      } );
		 *    } )
		 */
		"fnFooterCallback": null,
	
	
		/**
		 * When rendering large numbers in the information element for the table
		 * (i.e. "Showing 1 to 10 of 57 entries") DataTables will render large numbers
		 * to have a comma separator for the 'thousands' units (e.g. 1 million is
		 * rendered as "1,000,000") to help readability for the end user. This
		 * function will override the default method DataTables uses.
		 *  @type function
		 *  @member
		 *  @param {int} toFormat number to be formatted
		 *  @returns {string} formatted string for DataTables to show the number
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.formatNumber
		 *
		 *  @example
		 *    // Format a number using a single quote for the separator (note that
		 *    // this can also be done with the language.thousands option)
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "formatNumber": function ( toFormat ) {
		 *          return toFormat.toString().replace(
		 *            /\B(?=(\d{3})+(?!\d))/g, "'"
		 *          );
		 *        };
		 *      } );
		 *    } );
		 */
		"fnFormatNumber": function ( toFormat ) {
			return toFormat.toString().replace(
				/\B(?=(\d{3})+(?!\d))/g,
				this.oLanguage.sThousands
			);
		},
	
	
		/**
		 * This function is called on every 'draw' event, and allows you to
		 * dynamically modify the header row. This can be used to calculate and
		 * display useful information about the table.
		 *  @type function
		 *  @param {node} head "TR" element for the header
		 *  @param {array} data Full table data (as derived from the original HTML)
		 *  @param {int} start Index for the current display starting point in the
		 *    display array
		 *  @param {int} end Index for the current display ending point in the
		 *    display array
		 *  @param {array int} display Index array to translate the visual position
		 *    to the full data array
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.headerCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "fheaderCallback": function( head, data, start, end, display ) {
		 *          head.getElementsByTagName('th')[0].innerHTML = "Displaying "+(end-start)+" records";
		 *        }
		 *      } );
		 *    } )
		 */
		"fnHeaderCallback": null,
	
	
		/**
		 * The information element can be used to convey information about the current
		 * state of the table. Although the internationalisation options presented by
		 * DataTables are quite capable of dealing with most customisations, there may
		 * be times where you wish to customise the string further. This callback
		 * allows you to do exactly that.
		 *  @type function
		 *  @param {object} oSettings DataTables settings object
		 *  @param {int} start Starting position in data for the draw
		 *  @param {int} end End position in data for the draw
		 *  @param {int} max Total number of rows in the table (regardless of
		 *    filtering)
		 *  @param {int} total Total number of rows in the data set, after filtering
		 *  @param {string} pre The string that DataTables has formatted using it's
		 *    own rules
		 *  @returns {string} The string to be displayed in the information element.
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.infoCallback
		 *
		 *  @example
		 *    $('#example').dataTable( {
		 *      "infoCallback": function( settings, start, end, max, total, pre ) {
		 *        return start +" to "+ end;
		 *      }
		 *    } );
		 */
		"fnInfoCallback": null,
	
	
		/**
		 * Called when the table has been initialised. Normally DataTables will
		 * initialise sequentially and there will be no need for this function,
		 * however, this does not hold true when using external language information
		 * since that is obtained using an async XHR call.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} json The JSON object request from the server - only
		 *    present if client-side Ajax sourced data is used
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.initComplete
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "initComplete": function(settings, json) {
		 *          alert( 'DataTables has finished its initialisation.' );
		 *        }
		 *      } );
		 *    } )
		 */
		"fnInitComplete": null,
	
	
		/**
		 * Called at the very start of each table draw and can be used to cancel the
		 * draw by returning false, any other return (including undefined) results in
		 * the full draw occurring).
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @returns {boolean} False will cancel the draw, anything else (including no
		 *    return) will allow it to complete.
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.preDrawCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "preDrawCallback": function( settings ) {
		 *          if ( $('#test').val() == 1 ) {
		 *            return false;
		 *          }
		 *        }
		 *      } );
		 *    } );
		 */
		"fnPreDrawCallback": null,
	
	
		/**
		 * This function allows you to 'post process' each row after it have been
		 * generated for each table draw, but before it is rendered on screen. This
		 * function might be used for setting the row class name etc.
		 *  @type function
		 *  @param {node} row "TR" element for the current row
		 *  @param {array} data Raw data array for this row
		 *  @param {int} displayIndex The display index for the current table draw
		 *  @param {int} displayIndexFull The index of the data in the full list of
		 *    rows (after filtering)
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.rowCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "rowCallback": function( row, data, displayIndex, displayIndexFull ) {
		 *          // Bold the grade for all 'A' grade browsers
		 *          if ( data[4] == "A" ) {
		 *            $('td:eq(4)', row).html( '<b>A</b>' );
		 *          }
		 *        }
		 *      } );
		 *    } );
		 */
		"fnRowCallback": null,
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * This parameter allows you to override the default function which obtains
		 * the data from the server so something more suitable for your application.
		 * For example you could use POST data, or pull information from a Gears or
		 * AIR database.
		 *  @type function
		 *  @member
		 *  @param {string} source HTTP source to obtain the data from (`ajax`)
		 *  @param {array} data A key/value pair object containing the data to send
		 *    to the server
		 *  @param {function} callback to be called on completion of the data get
		 *    process that will draw the data on the page.
		 *  @param {object} settings DataTables settings object
		 *
		 *  @dtopt Callbacks
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverData
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"fnServerData": null,
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 *  It is often useful to send extra data to the server when making an Ajax
		 * request - for example custom filtering information, and this callback
		 * function makes it trivial to send extra information to the server. The
		 * passed in parameter is the data set that has been constructed by
		 * DataTables, and you can add to this or modify it as you require.
		 *  @type function
		 *  @param {array} data Data array (array of objects which are name/value
		 *    pairs) that has been constructed by DataTables and will be sent to the
		 *    server. In the case of Ajax sourced data with server-side processing
		 *    this will be an empty array, for server-side processing there will be a
		 *    significant number of parameters!
		 *  @returns {undefined} Ensure that you modify the data array passed in,
		 *    as this is passed by reference.
		 *
		 *  @dtopt Callbacks
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverParams
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"fnServerParams": null,
	
	
		/**
		 * Load the table state. With this function you can define from where, and how, the
		 * state of a table is loaded. By default DataTables will load from `localStorage`
		 * but you might wish to use a server-side database or cookies.
		 *  @type function
		 *  @member
		 *  @param {object} settings DataTables settings object
		 *  @return {object} The DataTables state object to be loaded
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateLoadCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoadCallback": function (settings) {
		 *          var o;
		 *
		 *          // Send an Ajax request to the server to get the data. Note that
		 *          // this is a synchronous request.
		 *          $.ajax( {
		 *            "url": "/state_load",
		 *            "async": false,
		 *            "dataType": "json",
		 *            "success": function (json) {
		 *              o = json;
		 *            }
		 *          } );
		 *
		 *          return o;
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateLoadCallback": function ( settings ) {
			try {
				return JSON.parse(
					(settings.iStateDuration === -1 ? sessionStorage : localStorage).getItem(
						'DataTables_'+settings.sInstance+'_'+location.pathname
					)
				);
			} catch (e) {}
		},
	
	
		/**
		 * Callback which allows modification of the saved state prior to loading that state.
		 * This callback is called when the table is loading state from the stored data, but
		 * prior to the settings object being modified by the saved state. Note that for
		 * plug-in authors, you should use the `stateLoadParams` event to load parameters for
		 * a plug-in.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object that is to be loaded
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateLoadParams
		 *
		 *  @example
		 *    // Remove a saved filter, so filtering is never loaded
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoadParams": function (settings, data) {
		 *          data.oSearch.sSearch = "";
		 *        }
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Disallow state loading by returning false
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoadParams": function (settings, data) {
		 *          return false;
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateLoadParams": null,
	
	
		/**
		 * Callback that is called when the state has been loaded from the state saving method
		 * and the DataTables settings object has been modified as a result of the loaded state.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object that was loaded
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateLoaded
		 *
		 *  @example
		 *    // Show an alert with the filtering value that was saved
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoaded": function (settings, data) {
		 *          alert( 'Saved filter was: '+data.oSearch.sSearch );
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateLoaded": null,
	
	
		/**
		 * Save the table state. This function allows you to define where and how the state
		 * information for the table is stored By default DataTables will use `localStorage`
		 * but you might wish to use a server-side database or cookies.
		 *  @type function
		 *  @member
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object to be saved
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateSaveCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateSaveCallback": function (settings, data) {
		 *          // Send an Ajax request to the server with the state object
		 *          $.ajax( {
		 *            "url": "/state_save",
		 *            "data": data,
		 *            "dataType": "json",
		 *            "method": "POST"
		 *            "success": function () {}
		 *          } );
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateSaveCallback": function ( settings, data ) {
			try {
				(settings.iStateDuration === -1 ? sessionStorage : localStorage).setItem(
					'DataTables_'+settings.sInstance+'_'+location.pathname,
					JSON.stringify( data )
				);
			} catch (e) {}
		},
	
	
		/**
		 * Callback which allows modification of the state to be saved. Called when the table
		 * has changed state a new state save is required. This method allows modification of
		 * the state saving object prior to actually doing the save, including addition or
		 * other state properties or modification. Note that for plug-in authors, you should
		 * use the `stateSaveParams` event to save parameters for a plug-in.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object to be saved
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateSaveParams
		 *
		 *  @example
		 *    // Remove a saved filter, so filtering is never saved
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateSaveParams": function (settings, data) {
		 *          data.oSearch.sSearch = "";
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateSaveParams": null,
	
	
		/**
		 * Duration for which the saved state information is considered valid. After this period
		 * has elapsed the state will be returned to the default.
		 * Value is given in seconds.
		 *  @type int
		 *  @default 7200 <i>(2 hours)</i>
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.stateDuration
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateDuration": 60*60*24; // 1 day
		 *      } );
		 *    } )
		 */
		"iStateDuration": 7200,
	
	
		/**
		 * When enabled DataTables will not make a request to the server for the first
		 * page draw - rather it will use the data already on the page (no sorting etc
		 * will be applied to it), thus saving on an XHR at load time. `deferLoading`
		 * is used to indicate that deferred loading is required, but it is also used
		 * to tell DataTables how many records there are in the full table (allowing
		 * the information element and pagination to be displayed correctly). In the case
		 * where a filtering is applied to the table on initial load, this can be
		 * indicated by giving the parameter as an array, where the first element is
		 * the number of records available after filtering and the second element is the
		 * number of records without filtering (allowing the table information element
		 * to be shown correctly).
		 *  @type int | array
		 *  @default null
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.deferLoading
		 *
		 *  @example
		 *    // 57 records available in the table, no filtering applied
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "serverSide": true,
		 *        "ajax": "scripts/server_processing.php",
		 *        "deferLoading": 57
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // 57 records after filtering, 100 without filtering (an initial filter applied)
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "serverSide": true,
		 *        "ajax": "scripts/server_processing.php",
		 *        "deferLoading": [ 57, 100 ],
		 *        "search": {
		 *          "search": "my_filter"
		 *        }
		 *      } );
		 *    } );
		 */
		"iDeferLoading": null,
	
	
		/**
		 * Number of rows to display on a single page when using pagination. If
		 * feature enabled (`lengthChange`) then the end user will be able to override
		 * this to a custom setting using a pop-up menu.
		 *  @type int
		 *  @default 10
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.pageLength
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "pageLength": 50
		 *      } );
		 *    } )
		 */
		"iDisplayLength": 10,
	
	
		/**
		 * Define the starting point for data display when using DataTables with
		 * pagination. Note that this parameter is the number of records, rather than
		 * the page number, so if you have 10 records per page and want to start on
		 * the third page, it should be "20".
		 *  @type int
		 *  @default 0
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.displayStart
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "displayStart": 20
		 *      } );
		 *    } )
		 */
		"iDisplayStart": 0,
	
	
		/**
		 * By default DataTables allows keyboard navigation of the table (sorting, paging,
		 * and filtering) by adding a `tabindex` attribute to the required elements. This
		 * allows you to tab through the controls and press the enter key to activate them.
		 * The tabindex is default 0, meaning that the tab follows the flow of the document.
		 * You can overrule this using this parameter if you wish. Use a value of -1 to
		 * disable built-in keyboard navigation.
		 *  @type int
		 *  @default 0
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.tabIndex
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "tabIndex": 1
		 *      } );
		 *    } );
		 */
		"iTabIndex": 0,
	
	
		/**
		 * Classes that DataTables assigns to the various components and features
		 * that it adds to the HTML table. This allows classes to be configured
		 * during initialisation in addition to through the static
		 * {@link DataTable.ext.oStdClasses} object).
		 *  @namespace
		 *  @name DataTable.defaults.classes
		 */
		"oClasses": {},
	
	
		/**
		 * All strings that DataTables uses in the user interface that it creates
		 * are defined in this object, allowing you to modified them individually or
		 * completely replace them all as required.
		 *  @namespace
		 *  @name DataTable.defaults.language
		 */
		"oLanguage": {
			/**
			 * Strings that are used for WAI-ARIA labels and controls only (these are not
			 * actually visible on the page, but will be read by screenreaders, and thus
			 * must be internationalised as well).
			 *  @namespace
			 *  @name DataTable.defaults.language.aria
			 */
			"oAria": {
				/**
				 * ARIA label that is added to the table headers when the column may be
				 * sorted ascending by activing the column (click or return when focused).
				 * Note that the column header is prefixed to this string.
				 *  @type string
				 *  @default : activate to sort column ascending
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.aria.sortAscending
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "aria": {
				 *            "sortAscending": " - click/return to sort ascending"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sSortAscending": ": activate to sort column ascending",
	
				/**
				 * ARIA label that is added to the table headers when the column may be
				 * sorted descending by activing the column (click or return when focused).
				 * Note that the column header is prefixed to this string.
				 *  @type string
				 *  @default : activate to sort column ascending
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.aria.sortDescending
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "aria": {
				 *            "sortDescending": " - click/return to sort descending"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sSortDescending": ": activate to sort column descending"
			},
	
			/**
			 * Pagination string used by DataTables for the built-in pagination
			 * control types.
			 *  @namespace
			 *  @name DataTable.defaults.language.paginate
			 */
			"oPaginate": {
				/**
				 * Text to use when using the 'full_numbers' type of pagination for the
				 * button to take the user to the first page.
				 *  @type string
				 *  @default First
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.first
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "first": "First page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sFirst": "First",
	
	
				/**
				 * Text to use when using the 'full_numbers' type of pagination for the
				 * button to take the user to the last page.
				 *  @type string
				 *  @default Last
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.last
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "last": "Last page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sLast": "Last",
	
	
				/**
				 * Text to use for the 'next' pagination button (to take the user to the
				 * next page).
				 *  @type string
				 *  @default Next
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.next
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "next": "Next page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sNext": "Next",
	
	
				/**
				 * Text to use for the 'previous' pagination button (to take the user to
				 * the previous page).
				 *  @type string
				 *  @default Previous
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.previous
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "previous": "Previous page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sPrevious": "Previous"
			},
	
			/**
			 * This string is shown in preference to `zeroRecords` when the table is
			 * empty of data (regardless of filtering). Note that this is an optional
			 * parameter - if it is not given, the value of `zeroRecords` will be used
			 * instead (either the default or given value).
			 *  @type string
			 *  @default No data available in table
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.emptyTable
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "emptyTable": "No data available in table"
			 *        }
			 *      } );
			 *    } );
			 */
			"sEmptyTable": "No data available in table",
	
	
			/**
			 * This string gives information to the end user about the information
			 * that is current on display on the page. The following tokens can be
			 * used in the string and will be dynamically replaced as the table
			 * display updates. This tokens can be placed anywhere in the string, or
			 * removed as needed by the language requires:
			 *
			 * * `\_START\_` - Display index of the first record on the current page
			 * * `\_END\_` - Display index of the last record on the current page
			 * * `\_TOTAL\_` - Number of records in the table after filtering
			 * * `\_MAX\_` - Number of records in the table without filtering
			 * * `\_PAGE\_` - Current page number
			 * * `\_PAGES\_` - Total number of pages of data in the table
			 *
			 *  @type string
			 *  @default Showing _START_ to _END_ of _TOTAL_ entries
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.info
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "info": "Showing page _PAGE_ of _PAGES_"
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfo": "Showing _START_ to _END_ of _TOTAL_ entries",
	
	
			/**
			 * Display information string for when the table is empty. Typically the
			 * format of this string should match `info`.
			 *  @type string
			 *  @default Showing 0 to 0 of 0 entries
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.infoEmpty
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "infoEmpty": "No entries to show"
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfoEmpty": "Showing 0 to 0 of 0 entries",
	
	
			/**
			 * When a user filters the information in a table, this string is appended
			 * to the information (`info`) to give an idea of how strong the filtering
			 * is. The variable _MAX_ is dynamically updated.
			 *  @type string
			 *  @default (filtered from _MAX_ total entries)
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.infoFiltered
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "infoFiltered": " - filtering from _MAX_ records"
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfoFiltered": "(filtered from _MAX_ total entries)",
	
	
			/**
			 * If can be useful to append extra information to the info string at times,
			 * and this variable does exactly that. This information will be appended to
			 * the `info` (`infoEmpty` and `infoFiltered` in whatever combination they are
			 * being used) at all times.
			 *  @type string
			 *  @default <i>Empty string</i>
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.infoPostFix
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "infoPostFix": "All records shown are derived from real information."
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfoPostFix": "",
	
	
			/**
			 * This decimal place operator is a little different from the other
			 * language options since DataTables doesn't output floating point
			 * numbers, so it won't ever use this for display of a number. Rather,
			 * what this parameter does is modify the sort methods of the table so
			 * that numbers which are in a format which has a character other than
			 * a period (`.`) as a decimal place will be sorted numerically.
			 *
			 * Note that numbers with different decimal places cannot be shown in
			 * the same table and still be sortable, the table must be consistent.
			 * However, multiple different tables on the page can use different
			 * decimal place characters.
			 *  @type string
			 *  @default 
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.decimal
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "decimal": ","
			 *          "thousands": "."
			 *        }
			 *      } );
			 *    } );
			 */
			"sDecimal": "",
	
	
			/**
			 * DataTables has a build in number formatter (`formatNumber`) which is
			 * used to format large numbers that are used in the table information.
			 * By default a comma is used, but this can be trivially changed to any
			 * character you wish with this parameter.
			 *  @type string
			 *  @default ,
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.thousands
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "thousands": "'"
			 *        }
			 *      } );
			 *    } );
			 */
			"sThousands": ",",
	
	
			/**
			 * Detail the action that will be taken when the drop down menu for the
			 * pagination length option is changed. The '_MENU_' variable is replaced
			 * with a default select list of 10, 25, 50 and 100, and can be replaced
			 * with a custom select box if required.
			 *  @type string
			 *  @default Show _MENU_ entries
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.lengthMenu
			 *
			 *  @example
			 *    // Language change only
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "lengthMenu": "Display _MENU_ records"
			 *        }
			 *      } );
			 *    } );
			 *
			 *  @example
			 *    // Language and options change
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "lengthMenu": 'Display <select>'+
			 *            '<option value="10">10</option>'+
			 *            '<option value="20">20</option>'+
			 *            '<option value="30">30</option>'+
			 *            '<option value="40">40</option>'+
			 *            '<option value="50">50</option>'+
			 *            '<option value="-1">All</option>'+
			 *            '</select> records'
			 *        }
			 *      } );
			 *    } );
			 */
			"sLengthMenu": "Show _MENU_ entries",
	
	
			/**
			 * When using Ajax sourced data and during the first draw when DataTables is
			 * gathering the data, this message is shown in an empty row in the table to
			 * indicate to the end user the the data is being loaded. Note that this
			 * parameter is not used when loading data by server-side processing, just
			 * Ajax sourced data with client-side processing.
			 *  @type string
			 *  @default Loading...
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.loadingRecords
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "loadingRecords": "Please wait - loading..."
			 *        }
			 *      } );
			 *    } );
			 */
			"sLoadingRecords": "Loading...",
	
	
			/**
			 * Text which is displayed when the table is processing a user action
			 * (usually a sort command or similar).
			 *  @type string
			 *  @default Processing...
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.processing
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "processing": "DataTables is currently busy"
			 *        }
			 *      } );
			 *    } );
			 */
			"sProcessing": "Processing...",
	
	
			/**
			 * Details the actions that will be taken when the user types into the
			 * filtering input text box. The variable "_INPUT_", if used in the string,
			 * is replaced with the HTML text box for the filtering input allowing
			 * control over where it appears in the string. If "_INPUT_" is not given
			 * then the input box is appended to the string automatically.
			 *  @type string
			 *  @default Search:
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.search
			 *
			 *  @example
			 *    // Input text box will be appended at the end automatically
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "search": "Filter records:"
			 *        }
			 *      } );
			 *    } );
			 *
			 *  @example
			 *    // Specify where the filter should appear
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "search": "Apply filter _INPUT_ to table"
			 *        }
			 *      } );
			 *    } );
			 */
			"sSearch": "Search:",
	
	
			/**
			 * Assign a `placeholder` attribute to the search `input` element
			 *  @type string
			 *  @default 
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.searchPlaceholder
			 */
			"sSearchPlaceholder": "",
	
	
			/**
			 * All of the language information can be stored in a file on the
			 * server-side, which DataTables will look up if this parameter is passed.
			 * It must store the URL of the language file, which is in a JSON format,
			 * and the object has the same properties as the oLanguage object in the
			 * initialiser object (i.e. the above parameters). Please refer to one of
			 * the example language files to see how this works in action.
			 *  @type string
			 *  @default <i>Empty string - i.e. disabled</i>
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.url
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "url": "http://www.sprymedia.co.uk/dataTables/lang.txt"
			 *        }
			 *      } );
			 *    } );
			 */
			"sUrl": "",
	
	
			/**
			 * Text shown inside the table records when the is no information to be
			 * displayed after filtering. `emptyTable` is shown when there is simply no
			 * information in the table at all (regardless of filtering).
			 *  @type string
			 *  @default No matching records found
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.zeroRecords
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "zeroRecords": "No records to display"
			 *        }
			 *      } );
			 *    } );
			 */
			"sZeroRecords": "No matching records found"
		},
	
	
		/**
		 * This parameter allows you to have define the global filtering state at
		 * initialisation time. As an object the `search` parameter must be
		 * defined, but all other parameters are optional. When `regex` is true,
		 * the search string will be treated as a regular expression, when false
		 * (default) it will be treated as a straight string. When `smart`
		 * DataTables will use it's smart filtering methods (to word match at
		 * any point in the data), when false this will not be done.
		 *  @namespace
		 *  @extends DataTable.models.oSearch
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.search
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "search": {"search": "Initial search"}
		 *      } );
		 *    } )
		 */
		"oSearch": $.extend( {}, DataTable.models.oSearch ),
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * By default DataTables will look for the property `data` (or `aaData` for
		 * compatibility with DataTables 1.9-) when obtaining data from an Ajax
		 * source or for server-side processing - this parameter allows that
		 * property to be changed. You can use Javascript dotted object notation to
		 * get a data source for multiple levels of nesting.
		 *  @type string
		 *  @default data
		 *
		 *  @dtopt Options
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.ajaxDataProp
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"sAjaxDataProp": "data",
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * You can instruct DataTables to load data from an external
		 * source using this parameter (use aData if you want to pass data in you
		 * already have). Simply provide a url a JSON object can be obtained from.
		 *  @type string
		 *  @default null
		 *
		 *  @dtopt Options
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.ajaxSource
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"sAjaxSource": null,
	
	
		/**
		 * This initialisation variable allows you to specify exactly where in the
		 * DOM you want DataTables to inject the various controls it adds to the page
		 * (for example you might want the pagination controls at the top of the
		 * table). DIV elements (with or without a custom class) can also be added to
		 * aid styling. The follow syntax is used:
		 *   <ul>
		 *     <li>The following options are allowed:
		 *       <ul>
		 *         <li>'l' - Length changing</li>
		 *         <li>'f' - Filtering input</li>
		 *         <li>'t' - The table!</li>
		 *         <li>'i' - Information</li>
		 *         <li>'p' - Pagination</li>
		 *         <li>'r' - pRocessing</li>
		 *       </ul>
		 *     </li>
		 *     <li>The following constants are allowed:
		 *       <ul>
		 *         <li>'H' - jQueryUI theme "header" classes ('fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix')</li>
		 *         <li>'F' - jQueryUI theme "footer" classes ('fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix')</li>
		 *       </ul>
		 *     </li>
		 *     <li>The following syntax is expected:
		 *       <ul>
		 *         <li>'&lt;' and '&gt;' - div elements</li>
		 *         <li>'&lt;"class" and '&gt;' - div with a class</li>
		 *         <li>'&lt;"#id" and '&gt;' - div with an ID</li>
		 *       </ul>
		 *     </li>
		 *     <li>Examples:
		 *       <ul>
		 *         <li>'&lt;"wrapper"flipt&gt;'</li>
		 *         <li>'&lt;lf&lt;t&gt;ip&gt;'</li>
		 *       </ul>
		 *     </li>
		 *   </ul>
		 *  @type string
		 *  @default lfrtip <i>(when `jQueryUI` is false)</i> <b>or</b>
		 *    <"H"lfr>t<"F"ip> <i>(when `jQueryUI` is true)</i>
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.dom
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "dom": '&lt;"top"i&gt;rt&lt;"bottom"flp&gt;&lt;"clear"&gt;'
		 *      } );
		 *    } );
		 */
		"sDom": "lfrtip",
	
	
		/**
		 * Search delay option. This will throttle full table searches that use the
		 * DataTables provided search input element (it does not effect calls to
		 * `dt-api search()`, providing a delay before the search is made.
		 *  @type integer
		 *  @default 0
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.searchDelay
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "searchDelay": 200
		 *      } );
		 *    } )
		 */
		"searchDelay": null,
	
	
		/**
		 * DataTables features four different built-in options for the buttons to
		 * display for pagination control:
		 *
		 * * `simple` - 'Previous' and 'Next' buttons only
		 * * 'simple_numbers` - 'Previous' and 'Next' buttons, plus page numbers
		 * * `full` - 'First', 'Previous', 'Next' and 'Last' buttons
		 * * `full_numbers` - 'First', 'Previous', 'Next' and 'Last' buttons, plus
		 *   page numbers
		 *  
		 * Further methods can be added using {@link DataTable.ext.oPagination}.
		 *  @type string
		 *  @default simple_numbers
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.pagingType
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "pagingType": "full_numbers"
		 *      } );
		 *    } )
		 */
		"sPaginationType": "simple_numbers",
	
	
		/**
		 * Enable horizontal scrolling. When a table is too wide to fit into a
		 * certain layout, or you have a large number of columns in the table, you
		 * can enable x-scrolling to show the table in a viewport, which can be
		 * scrolled. This property can be `true` which will allow the table to
		 * scroll horizontally when needed, or any CSS unit, or a number (in which
		 * case it will be treated as a pixel measurement). Setting as simply `true`
		 * is recommended.
		 *  @type boolean|string
		 *  @default <i>blank string - i.e. disabled</i>
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.scrollX
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollX": true,
		 *        "scrollCollapse": true
		 *      } );
		 *    } );
		 */
		"sScrollX": "",
	
	
		/**
		 * This property can be used to force a DataTable to use more width than it
		 * might otherwise do when x-scrolling is enabled. For example if you have a
		 * table which requires to be well spaced, this parameter is useful for
		 * "over-sizing" the table, and thus forcing scrolling. This property can by
		 * any CSS unit, or a number (in which case it will be treated as a pixel
		 * measurement).
		 *  @type string
		 *  @default <i>blank string - i.e. disabled</i>
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.scrollXInner
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollX": "100%",
		 *        "scrollXInner": "110%"
		 *      } );
		 *    } );
		 */
		"sScrollXInner": "",
	
	
		/**
		 * Enable vertical scrolling. Vertical scrolling will constrain the DataTable
		 * to the given height, and enable scrolling for any data which overflows the
		 * current viewport. This can be used as an alternative to paging to display
		 * a lot of data in a small area (although paging and scrolling can both be
		 * enabled at the same time). This property can be any CSS unit, or a number
		 * (in which case it will be treated as a pixel measurement).
		 *  @type string
		 *  @default <i>blank string - i.e. disabled</i>
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.scrollY
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollY": "200px",
		 *        "paginate": false
		 *      } );
		 *    } );
		 */
		"sScrollY": "",
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * Set the HTTP method that is used to make the Ajax call for server-side
		 * processing or Ajax sourced data.
		 *  @type string
		 *  @default GET
		 *
		 *  @dtopt Options
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverMethod
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"sServerMethod": "GET",
	
	
		/**
		 * DataTables makes use of renderers when displaying HTML elements for
		 * a table. These renderers can be added or modified by plug-ins to
		 * generate suitable mark-up for a site. For example the Bootstrap
		 * integration plug-in for DataTables uses a paging button renderer to
		 * display pagination buttons in the mark-up required by Bootstrap.
		 *
		 * For further information about the renderers available see
		 * DataTable.ext.renderer
		 *  @type string|object
		 *  @default null
		 *
		 *  @name DataTable.defaults.renderer
		 *
		 */
		"renderer": null,
	
	
		/**
		 * Set the data property name that DataTables should use to get a row's id
		 * to set as the `id` property in the node.
		 *  @type string
		 *  @default DT_RowId
		 *
		 *  @name DataTable.defaults.rowId
		 */
		"rowId": "DT_RowId"
	};
	
	_fnHungarianMap( DataTable.defaults );
	
	
	
	/*
	 * Developer note - See note in model.defaults.js about the use of Hungarian
	 * notation and camel case.
	 */
	
	/**
	 * Column options that can be given to DataTables at initialisation time.
	 *  @namespace
	 */
	DataTable.defaults.column = {
		/**
		 * Define which column(s) an order will occur on for this column. This
		 * allows a column's ordering to take multiple columns into account when
		 * doing a sort or use the data from a different column. For example first
		 * name / last name columns make sense to do a multi-column sort over the
		 * two columns.
		 *  @type array|int
		 *  @default null <i>Takes the value of the column index automatically</i>
		 *
		 *  @name DataTable.defaults.column.orderData
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderData": [ 0, 1 ], "targets": [ 0 ] },
		 *          { "orderData": [ 1, 0 ], "targets": [ 1 ] },
		 *          { "orderData": 2, "targets": [ 2 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "orderData": [ 0, 1 ] },
		 *          { "orderData": [ 1, 0 ] },
		 *          { "orderData": 2 },
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"aDataSort": null,
		"iDataSort": -1,
	
	
		/**
		 * You can control the default ordering direction, and even alter the
		 * behaviour of the sort handler (i.e. only allow ascending ordering etc)
		 * using this parameter.
		 *  @type array
		 *  @default [ 'asc', 'desc' ]
		 *
		 *  @name DataTable.defaults.column.orderSequence
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderSequence": [ "asc" ], "targets": [ 1 ] },
		 *          { "orderSequence": [ "desc", "asc", "asc" ], "targets": [ 2 ] },
		 *          { "orderSequence": [ "desc" ], "targets": [ 3 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          { "orderSequence": [ "asc" ] },
		 *          { "orderSequence": [ "desc", "asc", "asc" ] },
		 *          { "orderSequence": [ "desc" ] },
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"asSorting": [ 'asc', 'desc' ],
	
	
		/**
		 * Enable or disable filtering on the data in this column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @name DataTable.defaults.column.searchable
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "searchable": false, "targets": [ 0 ] }
		 *        ] } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "searchable": false },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ] } );
		 *    } );
		 */
		"bSearchable": true,
	
	
		/**
		 * Enable or disable ordering on this column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @name DataTable.defaults.column.orderable
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderable": false, "targets": [ 0 ] }
		 *        ] } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "orderable": false },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ] } );
		 *    } );
		 */
		"bSortable": true,
	
	
		/**
		 * Enable or disable the display of this column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @name DataTable.defaults.column.visible
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "visible": false, "targets": [ 0 ] }
		 *        ] } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "visible": false },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ] } );
		 *    } );
		 */
		"bVisible": true,
	
	
		/**
		 * Developer definable function that is called whenever a cell is created (Ajax source,
		 * etc) or processed for input (DOM source). This can be used as a compliment to mRender
		 * allowing you to modify the DOM element (add background colour for example) when the
		 * element is available.
		 *  @type function
		 *  @param {element} td The TD node that has been created
		 *  @param {*} cellData The Data for the cell
		 *  @param {array|object} rowData The data for the whole row
		 *  @param {int} row The row index for the aoData data store
		 *  @param {int} col The column index for aoColumns
		 *
		 *  @name DataTable.defaults.column.createdCell
		 *  @dtopt Columns
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [3],
		 *          "createdCell": function (td, cellData, rowData, row, col) {
		 *            if ( cellData == "1.7" ) {
		 *              $(td).css('color', 'blue')
		 *            }
		 *          }
		 *        } ]
		 *      });
		 *    } );
		 */
		"fnCreatedCell": null,
	
	
		/**
		 * This parameter has been replaced by `data` in DataTables to ensure naming
		 * consistency. `dataProp` can still be used, as there is backwards
		 * compatibility in DataTables for this option, but it is strongly
		 * recommended that you use `data` in preference to `dataProp`.
		 *  @name DataTable.defaults.column.dataProp
		 */
	
	
		/**
		 * This property can be used to read data from any data source property,
		 * including deeply nested objects / properties. `data` can be given in a
		 * number of different ways which effect its behaviour:
		 *
		 * * `integer` - treated as an array index for the data source. This is the
		 *   default that DataTables uses (incrementally increased for each column).
		 * * `string` - read an object property from the data source. There are
		 *   three 'special' options that can be used in the string to alter how
		 *   DataTables reads the data from the source object:
		 *    * `.` - Dotted Javascript notation. Just as you use a `.` in
		 *      Javascript to read from nested objects, so to can the options
		 *      specified in `data`. For example: `browser.version` or
		 *      `browser.name`. If your object parameter name contains a period, use
		 *      `\\` to escape it - i.e. `first\\.name`.
		 *    * `[]` - Array notation. DataTables can automatically combine data
		 *      from and array source, joining the data with the characters provided
		 *      between the two brackets. For example: `name[, ]` would provide a
		 *      comma-space separated list from the source array. If no characters
		 *      are provided between the brackets, the original array source is
		 *      returned.
		 *    * `()` - Function notation. Adding `()` to the end of a parameter will
		 *      execute a function of the name given. For example: `browser()` for a
		 *      simple function on the data source, `browser.version()` for a
		 *      function in a nested property or even `browser().version` to get an
		 *      object property if the function called returns an object. Note that
		 *      function notation is recommended for use in `render` rather than
		 *      `data` as it is much simpler to use as a renderer.
		 * * `null` - use the original data source for the row rather than plucking
		 *   data directly from it. This action has effects on two other
		 *   initialisation options:
		 *    * `defaultContent` - When null is given as the `data` option and
		 *      `defaultContent` is specified for the column, the value defined by
		 *      `defaultContent` will be used for the cell.
		 *    * `render` - When null is used for the `data` option and the `render`
		 *      option is specified for the column, the whole data source for the
		 *      row is used for the renderer.
		 * * `function` - the function given will be executed whenever DataTables
		 *   needs to set or get the data for a cell in the column. The function
		 *   takes three parameters:
		 *    * Parameters:
		 *      * `{array|object}` The data source for the row
		 *      * `{string}` The type call data requested - this will be 'set' when
		 *        setting data or 'filter', 'display', 'type', 'sort' or undefined
		 *        when gathering data. Note that when `undefined` is given for the
		 *        type DataTables expects to get the raw data for the object back<
		 *      * `{*}` Data to set when the second parameter is 'set'.
		 *    * Return:
		 *      * The return value from the function is not required when 'set' is
		 *        the type of call, but otherwise the return is what will be used
		 *        for the data requested.
		 *
		 * Note that `data` is a getter and setter option. If you just require
		 * formatting of data for output, you will likely want to use `render` which
		 * is simply a getter and thus simpler to use.
		 *
		 * Note that prior to DataTables 1.9.2 `data` was called `mDataProp`. The
		 * name change reflects the flexibility of this property and is consistent
		 * with the naming of mRender. If 'mDataProp' is given, then it will still
		 * be used by DataTables, as it automatically maps the old name to the new
		 * if required.
		 *
		 *  @type string|int|function|null
		 *  @default null <i>Use automatically calculated column index</i>
		 *
		 *  @name DataTable.defaults.column.data
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Read table data from objects
		 *    // JSON structure for each row:
		 *    //   {
		 *    //      "engine": {value},
		 *    //      "browser": {value},
		 *    //      "platform": {value},
		 *    //      "version": {value},
		 *    //      "grade": {value}
		 *    //   }
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajaxSource": "sources/objects.txt",
		 *        "columns": [
		 *          { "data": "engine" },
		 *          { "data": "browser" },
		 *          { "data": "platform" },
		 *          { "data": "version" },
		 *          { "data": "grade" }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Read information from deeply nested objects
		 *    // JSON structure for each row:
		 *    //   {
		 *    //      "engine": {value},
		 *    //      "browser": {value},
		 *    //      "platform": {
		 *    //         "inner": {value}
		 *    //      },
		 *    //      "details": [
		 *    //         {value}, {value}
		 *    //      ]
		 *    //   }
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajaxSource": "sources/deep.txt",
		 *        "columns": [
		 *          { "data": "engine" },
		 *          { "data": "browser" },
		 *          { "data": "platform.inner" },
		 *          { "data": "platform.details.0" },
		 *          { "data": "platform.details.1" }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `data` as a function to provide different information for
		 *    // sorting, filtering and display. In this case, currency (price)
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": function ( source, type, val ) {
		 *            if (type === 'set') {
		 *              source.price = val;
		 *              // Store the computed dislay and filter values for efficiency
		 *              source.price_display = val=="" ? "" : "$"+numberFormat(val);
		 *              source.price_filter  = val=="" ? "" : "$"+numberFormat(val)+" "+val;
		 *              return;
		 *            }
		 *            else if (type === 'display') {
		 *              return source.price_display;
		 *            }
		 *            else if (type === 'filter') {
		 *              return source.price_filter;
		 *            }
		 *            // 'sort', 'type' and undefined all just use the integer
		 *            return source.price;
		 *          }
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using default content
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": null,
		 *          "defaultContent": "Click to edit"
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using array notation - outputting a list from an array
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": "name[, ]"
		 *        } ]
		 *      } );
		 *    } );
		 *
		 */
		"mData": null,
	
	
		/**
		 * This property is the rendering partner to `data` and it is suggested that
		 * when you want to manipulate data for display (including filtering,
		 * sorting etc) without altering the underlying data for the table, use this
		 * property. `render` can be considered to be the the read only companion to
		 * `data` which is read / write (then as such more complex). Like `data`
		 * this option can be given in a number of different ways to effect its
		 * behaviour:
		 *
		 * * `integer` - treated as an array index for the data source. This is the
		 *   default that DataTables uses (incrementally increased for each column).
		 * * `string` - read an object property from the data source. There are
		 *   three 'special' options that can be used in the string to alter how
		 *   DataTables reads the data from the source object:
		 *    * `.` - Dotted Javascript notation. Just as you use a `.` in
		 *      Javascript to read from nested objects, so to can the options
		 *      specified in `data`. For example: `browser.version` or
		 *      `browser.name`. If your object parameter name contains a period, use
		 *      `\\` to escape it - i.e. `first\\.name`.
		 *    * `[]` - Array notation. DataTables can automatically combine data
		 *      from and array source, joining the data with the characters provided
		 *      between the two brackets. For example: `name[, ]` would provide a
		 *      comma-space separated list from the source array. If no characters
		 *      are provided between the brackets, the original array source is
		 *      returned.
		 *    * `()` - Function notation. Adding `()` to the end of a parameter will
		 *      execute a function of the name given. For example: `browser()` for a
		 *      simple function on the data source, `browser.version()` for a
		 *      function in a nested property or even `browser().version` to get an
		 *      object property if the function called returns an object.
		 * * `object` - use different data for the different data types requested by
		 *   DataTables ('filter', 'display', 'type' or 'sort'). The property names
		 *   of the object is the data type the property refers to and the value can
		 *   defined using an integer, string or function using the same rules as
		 *   `render` normally does. Note that an `_` option _must_ be specified.
		 *   This is the default value to use if you haven't specified a value for
		 *   the data type requested by DataTables.
		 * * `function` - the function given will be executed whenever DataTables
		 *   needs to set or get the data for a cell in the column. The function
		 *   takes three parameters:
		 *    * Parameters:
		 *      * {array|object} The data source for the row (based on `data`)
		 *      * {string} The type call data requested - this will be 'filter',
		 *        'display', 'type' or 'sort'.
		 *      * {array|object} The full data source for the row (not based on
		 *        `data`)
		 *    * Return:
		 *      * The return value from the function is what will be used for the
		 *        data requested.
		 *
		 *  @type string|int|function|object|null
		 *  @default null Use the data source value.
		 *
		 *  @name DataTable.defaults.column.render
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Create a comma separated list from an array of objects
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajaxSource": "sources/deep.txt",
		 *        "columns": [
		 *          { "data": "engine" },
		 *          { "data": "browser" },
		 *          {
		 *            "data": "platform",
		 *            "render": "[, ].name"
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Execute a function to obtain data
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": null, // Use the full data source object for the renderer's source
		 *          "render": "browserName()"
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // As an object, extracting different data for the different types
		 *    // This would be used with a data source such as:
		 *    //   { "phone": 5552368, "phone_filter": "5552368 555-2368", "phone_display": "555-2368" }
		 *    // Here the `phone` integer is used for sorting and type detection, while `phone_filter`
		 *    // (which has both forms) is used for filtering for if a user inputs either format, while
		 *    // the formatted phone number is the one that is shown in the table.
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": null, // Use the full data source object for the renderer's source
		 *          "render": {
		 *            "_": "phone",
		 *            "filter": "phone_filter",
		 *            "display": "phone_display"
		 *          }
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Use as a function to create a link from the data source
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": "download_link",
		 *          "render": function ( data, type, full ) {
		 *            return '<a href="'+data+'">Download</a>';
		 *          }
		 *        } ]
		 *      } );
		 *    } );
		 */
		"mRender": null,
	
	
		/**
		 * Change the cell type created for the column - either TD cells or TH cells. This
		 * can be useful as TH cells have semantic meaning in the table body, allowing them
		 * to act as a header for a row (you may wish to add scope='row' to the TH elements).
		 *  @type string
		 *  @default td
		 *
		 *  @name DataTable.defaults.column.cellType
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Make the first column use TH cells
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "cellType": "th"
		 *        } ]
		 *      } );
		 *    } );
		 */
		"sCellType": "td",
	
	
		/**
		 * Class to give to each cell in this column.
		 *  @type string
		 *  @default <i>Empty string</i>
		 *
		 *  @name DataTable.defaults.column.class
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "class": "my_class", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "class": "my_class" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sClass": "",
	
		/**
		 * When DataTables calculates the column widths to assign to each column,
		 * it finds the longest string in each column and then constructs a
		 * temporary table and reads the widths from that. The problem with this
		 * is that "mmm" is much wider then "iiii", but the latter is a longer
		 * string - thus the calculation can go wrong (doing it properly and putting
		 * it into an DOM object and measuring that is horribly(!) slow). Thus as
		 * a "work around" we provide this option. It will append its value to the
		 * text that is found to be the longest string for the column - i.e. padding.
		 * Generally you shouldn't need this!
		 *  @type string
		 *  @default <i>Empty string<i>
		 *
		 *  @name DataTable.defaults.column.contentPadding
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          null,
		 *          null,
		 *          {
		 *            "contentPadding": "mmm"
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sContentPadding": "",
	
	
		/**
		 * Allows a default value to be given for a column's data, and will be used
		 * whenever a null data source is encountered (this can be because `data`
		 * is set to null, or because the data source itself is null).
		 *  @type string
		 *  @default null
		 *
		 *  @name DataTable.defaults.column.defaultContent
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          {
		 *            "data": null,
		 *            "defaultContent": "Edit",
		 *            "targets": [ -1 ]
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          null,
		 *          null,
		 *          {
		 *            "data": null,
		 *            "defaultContent": "Edit"
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sDefaultContent": null,
	
	
		/**
		 * This parameter is only used in DataTables' server-side processing. It can
		 * be exceptionally useful to know what columns are being displayed on the
		 * client side, and to map these to database fields. When defined, the names
		 * also allow DataTables to reorder information from the server if it comes
		 * back in an unexpected order (i.e. if you switch your columns around on the
		 * client-side, your server-side code does not also need updating).
		 *  @type string
		 *  @default <i>Empty string</i>
		 *
		 *  @name DataTable.defaults.column.name
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "name": "engine", "targets": [ 0 ] },
		 *          { "name": "browser", "targets": [ 1 ] },
		 *          { "name": "platform", "targets": [ 2 ] },
		 *          { "name": "version", "targets": [ 3 ] },
		 *          { "name": "grade", "targets": [ 4 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "name": "engine" },
		 *          { "name": "browser" },
		 *          { "name": "platform" },
		 *          { "name": "version" },
		 *          { "name": "grade" }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sName": "",
	
	
		/**
		 * Defines a data source type for the ordering which can be used to read
		 * real-time information from the table (updating the internally cached
		 * version) prior to ordering. This allows ordering to occur on user
		 * editable elements such as form inputs.
		 *  @type string
		 *  @default std
		 *
		 *  @name DataTable.defaults.column.orderDataType
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderDataType": "dom-text", "targets": [ 2, 3 ] },
		 *          { "type": "numeric", "targets": [ 3 ] },
		 *          { "orderDataType": "dom-select", "targets": [ 4 ] },
		 *          { "orderDataType": "dom-checkbox", "targets": [ 5 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          null,
		 *          { "orderDataType": "dom-text" },
		 *          { "orderDataType": "dom-text", "type": "numeric" },
		 *          { "orderDataType": "dom-select" },
		 *          { "orderDataType": "dom-checkbox" }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sSortDataType": "std",
	
	
		/**
		 * The title of this column.
		 *  @type string
		 *  @default null <i>Derived from the 'TH' value for this column in the
		 *    original HTML table.</i>
		 *
		 *  @name DataTable.defaults.column.title
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "title": "My column title", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "title": "My column title" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sTitle": null,
	
	
		/**
		 * The type allows you to specify how the data for this column will be
		 * ordered. Four types (string, numeric, date and html (which will strip
		 * HTML tags before ordering)) are currently available. Note that only date
		 * formats understood by Javascript's Date() object will be accepted as type
		 * date. For example: "Mar 26, 2008 5:03 PM". May take the values: 'string',
		 * 'numeric', 'date' or 'html' (by default). Further types can be adding
		 * through plug-ins.
		 *  @type string
		 *  @default null <i>Auto-detected from raw data</i>
		 *
		 *  @name DataTable.defaults.column.type
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "type": "html", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "type": "html" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sType": null,
	
	
		/**
		 * Defining the width of the column, this parameter may take any CSS value
		 * (3em, 20px etc). DataTables applies 'smart' widths to columns which have not
		 * been given a specific width through this interface ensuring that the table
		 * remains readable.
		 *  @type string
		 *  @default null <i>Automatic</i>
		 *
		 *  @name DataTable.defaults.column.width
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "width": "20%", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "width": "20%" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sWidth": null
	};
	
	_fnHungarianMap( DataTable.defaults.column );
	
	
	
	/**
	 * DataTables settings object - this holds all the information needed for a
	 * given table, including configuration, data and current application of the
	 * table options. DataTables does not have a single instance for each DataTable
	 * with the settings attached to that instance, but rather instances of the
	 * DataTable "class" are created on-the-fly as needed (typically by a
	 * $().dataTable() call) and the settings object is then applied to that
	 * instance.
	 *
	 * Note that this object is related to {@link DataTable.defaults} but this
	 * one is the internal data store for DataTables's cache of columns. It should
	 * NOT be manipulated outside of DataTables. Any configuration should be done
	 * through the initialisation options.
	 *  @namespace
	 *  @todo Really should attach the settings object to individual instances so we
	 *    don't need to create new instances on each $().dataTable() call (if the
	 *    table already exists). It would also save passing oSettings around and
	 *    into every single function. However, this is a very significant
	 *    architecture change for DataTables and will almost certainly break
	 *    backwards compatibility with older installations. This is something that
	 *    will be done in 2.0.
	 */
	DataTable.models.oSettings = {
		/**
		 * Primary features of DataTables and their enablement state.
		 *  @namespace
		 */
		"oFeatures": {
	
			/**
			 * Flag to say if DataTables should automatically try to calculate the
			 * optimum table and columns widths (true) or not (false).
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bAutoWidth": null,
	
			/**
			 * Delay the creation of TR and TD elements until they are actually
			 * needed by a driven page draw. This can give a significant speed
			 * increase for Ajax source and Javascript source data, but makes no
			 * difference at all fro DOM and server-side processing tables.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bDeferRender": null,
	
			/**
			 * Enable filtering on the table or not. Note that if this is disabled
			 * then there is no filtering at all on the table, including fnFilter.
			 * To just remove the filtering input use sDom and remove the 'f' option.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bFilter": null,
	
			/**
			 * Table information element (the 'Showing x of y records' div) enable
			 * flag.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bInfo": null,
	
			/**
			 * Present a user control allowing the end user to change the page size
			 * when pagination is enabled.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bLengthChange": null,
	
			/**
			 * Pagination enabled or not. Note that if this is disabled then length
			 * changing must also be disabled.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bPaginate": null,
	
			/**
			 * Processing indicator enable flag whenever DataTables is enacting a
			 * user request - typically an Ajax request for server-side processing.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bProcessing": null,
	
			/**
			 * Server-side processing enabled flag - when enabled DataTables will
			 * get all data from the server for every draw - there is no filtering,
			 * sorting or paging done on the client-side.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bServerSide": null,
	
			/**
			 * Sorting enablement flag.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bSort": null,
	
			/**
			 * Multi-column sorting
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bSortMulti": null,
	
			/**
			 * Apply a class to the columns which are being sorted to provide a
			 * visual highlight or not. This can slow things down when enabled since
			 * there is a lot of DOM interaction.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bSortClasses": null,
	
			/**
			 * State saving enablement flag.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bStateSave": null
		},
	
	
		/**
		 * Scrolling settings for a table.
		 *  @namespace
		 */
		"oScroll": {
			/**
			 * When the table is shorter in height than sScrollY, collapse the
			 * table container down to the height of the table (when true).
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bCollapse": null,
	
			/**
			 * Width of the scrollbar for the web-browser's platform. Calculated
			 * during table initialisation.
			 *  @type int
			 *  @default 0
			 */
			"iBarWidth": 0,
	
			/**
			 * Viewport width for horizontal scrolling. Horizontal scrolling is
			 * disabled if an empty string.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type string
			 */
			"sX": null,
	
			/**
			 * Width to expand the table to when using x-scrolling. Typically you
			 * should not need to use this.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type string
			 *  @deprecated
			 */
			"sXInner": null,
	
			/**
			 * Viewport height for vertical scrolling. Vertical scrolling is disabled
			 * if an empty string.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type string
			 */
			"sY": null
		},
	
		/**
		 * Language information for the table.
		 *  @namespace
		 *  @extends DataTable.defaults.oLanguage
		 */
		"oLanguage": {
			/**
			 * Information callback function. See
			 * {@link DataTable.defaults.fnInfoCallback}
			 *  @type function
			 *  @default null
			 */
			"fnInfoCallback": null
		},
	
		/**
		 * Browser support parameters
		 *  @namespace
		 */
		"oBrowser": {
			/**
			 * Indicate if the browser incorrectly calculates width:100% inside a
			 * scrolling element (IE6/7)
			 *  @type boolean
			 *  @default false
			 */
			"bScrollOversize": false,
	
			/**
			 * Determine if the vertical scrollbar is on the right or left of the
			 * scrolling container - needed for rtl language layout, although not
			 * all browsers move the scrollbar (Safari).
			 *  @type boolean
			 *  @default false
			 */
			"bScrollbarLeft": false,
	
			/**
			 * Flag for if `getBoundingClientRect` is fully supported or not
			 *  @type boolean
			 *  @default false
			 */
			"bBounding": false,
	
			/**
			 * Browser scrollbar width
			 *  @type integer
			 *  @default 0
			 */
			"barWidth": 0
		},
	
	
		"ajax": null,
	
	
		/**
		 * Array referencing the nodes which are used for the features. The
		 * parameters of this object match what is allowed by sDom - i.e.
		 *   <ul>
		 *     <li>'l' - Length changing</li>
		 *     <li>'f' - Filtering input</li>
		 *     <li>'t' - The table!</li>
		 *     <li>'i' - Information</li>
		 *     <li>'p' - Pagination</li>
		 *     <li>'r' - pRocessing</li>
		 *   </ul>
		 *  @type array
		 *  @default []
		 */
		"aanFeatures": [],
	
		/**
		 * Store data information - see {@link DataTable.models.oRow} for detailed
		 * information.
		 *  @type array
		 *  @default []
		 */
		"aoData": [],
	
		/**
		 * Array of indexes which are in the current display (after filtering etc)
		 *  @type array
		 *  @default []
		 */
		"aiDisplay": [],
	
		/**
		 * Array of indexes for display - no filtering
		 *  @type array
		 *  @default []
		 */
		"aiDisplayMaster": [],
	
		/**
		 * Map of row ids to data indexes
		 *  @type object
		 *  @default {}
		 */
		"aIds": {},
	
		/**
		 * Store information about each column that is in use
		 *  @type array
		 *  @default []
		 */
		"aoColumns": [],
	
		/**
		 * Store information about the table's header
		 *  @type array
		 *  @default []
		 */
		"aoHeader": [],
	
		/**
		 * Store information about the table's footer
		 *  @type array
		 *  @default []
		 */
		"aoFooter": [],
	
		/**
		 * Store the applied global search information in case we want to force a
		 * research or compare the old search to a new one.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @namespace
		 *  @extends DataTable.models.oSearch
		 */
		"oPreviousSearch": {},
	
		/**
		 * Store the applied search for each column - see
		 * {@link DataTable.models.oSearch} for the format that is used for the
		 * filtering information for each column.
		 *  @type array
		 *  @default []
		 */
		"aoPreSearchCols": [],
	
		/**
		 * Sorting that is applied to the table. Note that the inner arrays are
		 * used in the following manner:
		 * <ul>
		 *   <li>Index 0 - column number</li>
		 *   <li>Index 1 - current sorting direction</li>
		 * </ul>
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @todo These inner arrays should really be objects
		 */
		"aaSorting": null,
	
		/**
		 * Sorting that is always applied to the table (i.e. prefixed in front of
		 * aaSorting).
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @default []
		 */
		"aaSortingFixed": [],
	
		/**
		 * Classes to use for the striping of a table.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @default []
		 */
		"asStripeClasses": null,
	
		/**
		 * If restoring a table - we should restore its striping classes as well
		 *  @type array
		 *  @default []
		 */
		"asDestroyStripes": [],
	
		/**
		 * If restoring a table - we should restore its width
		 *  @type int
		 *  @default 0
		 */
		"sDestroyWidth": 0,
	
		/**
		 * Callback functions array for every time a row is inserted (i.e. on a draw).
		 *  @type array
		 *  @default []
		 */
		"aoRowCallback": [],
	
		/**
		 * Callback functions for the header on each draw.
		 *  @type array
		 *  @default []
		 */
		"aoHeaderCallback": [],
	
		/**
		 * Callback function for the footer on each draw.
		 *  @type array
		 *  @default []
		 */
		"aoFooterCallback": [],
	
		/**
		 * Array of callback functions for draw callback functions
		 *  @type array
		 *  @default []
		 */
		"aoDrawCallback": [],
	
		/**
		 * Array of callback functions for row created function
		 *  @type array
		 *  @default []
		 */
		"aoRowCreatedCallback": [],
	
		/**
		 * Callback functions for just before the table is redrawn. A return of
		 * false will be used to cancel the draw.
		 *  @type array
		 *  @default []
		 */
		"aoPreDrawCallback": [],
	
		/**
		 * Callback functions for when the table has been initialised.
		 *  @type array
		 *  @default []
		 */
		"aoInitComplete": [],
	
	
		/**
		 * Callbacks for modifying the settings to be stored for state saving, prior to
		 * saving state.
		 *  @type array
		 *  @default []
		 */
		"aoStateSaveParams": [],
	
		/**
		 * Callbacks for modifying the settings that have been stored for state saving
		 * prior to using the stored values to restore the state.
		 *  @type array
		 *  @default []
		 */
		"aoStateLoadParams": [],
	
		/**
		 * Callbacks for operating on the settings object once the saved state has been
		 * loaded
		 *  @type array
		 *  @default []
		 */
		"aoStateLoaded": [],
	
		/**
		 * Cache the table ID for quick access
		 *  @type string
		 *  @default <i>Empty string</i>
		 */
		"sTableId": "",
	
		/**
		 * The TABLE node for the main table
		 *  @type node
		 *  @default null
		 */
		"nTable": null,
	
		/**
		 * Permanent ref to the thead element
		 *  @type node
		 *  @default null
		 */
		"nTHead": null,
	
		/**
		 * Permanent ref to the tfoot element - if it exists
		 *  @type node
		 *  @default null
		 */
		"nTFoot": null,
	
		/**
		 * Permanent ref to the tbody element
		 *  @type node
		 *  @default null
		 */
		"nTBody": null,
	
		/**
		 * Cache the wrapper node (contains all DataTables controlled elements)
		 *  @type node
		 *  @default null
		 */
		"nTableWrapper": null,
	
		/**
		 * Indicate if when using server-side processing the loading of data
		 * should be deferred until the second draw.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type boolean
		 *  @default false
		 */
		"bDeferLoading": false,
	
		/**
		 * Indicate if all required information has been read in
		 *  @type boolean
		 *  @default false
		 */
		"bInitialised": false,
	
		/**
		 * Information about open rows. Each object in the array has the parameters
		 * 'nTr' and 'nParent'
		 *  @type array
		 *  @default []
		 */
		"aoOpenRows": [],
	
		/**
		 * Dictate the positioning of DataTables' control elements - see
		 * {@link DataTable.model.oInit.sDom}.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 *  @default null
		 */
		"sDom": null,
	
		/**
		 * Search delay (in mS)
		 *  @type integer
		 *  @default null
		 */
		"searchDelay": null,
	
		/**
		 * Which type of pagination should be used.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 *  @default two_button
		 */
		"sPaginationType": "two_button",
	
		/**
		 * The state duration (for `stateSave`) in seconds.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type int
		 *  @default 0
		 */
		"iStateDuration": 0,
	
		/**
		 * Array of callback functions for state saving. Each array element is an
		 * object with the following parameters:
		 *   <ul>
		 *     <li>function:fn - function to call. Takes two parameters, oSettings
		 *       and the JSON string to save that has been thus far created. Returns
		 *       a JSON string to be inserted into a json object
		 *       (i.e. '"param": [ 0, 1, 2]')</li>
		 *     <li>string:sName - name of callback</li>
		 *   </ul>
		 *  @type array
		 *  @default []
		 */
		"aoStateSave": [],
	
		/**
		 * Array of callback functions for state loading. Each array element is an
		 * object with the following parameters:
		 *   <ul>
		 *     <li>function:fn - function to call. Takes two parameters, oSettings
		 *       and the object stored. May return false to cancel state loading</li>
		 *     <li>string:sName - name of callback</li>
		 *   </ul>
		 *  @type array
		 *  @default []
		 */
		"aoStateLoad": [],
	
		/**
		 * State that was saved. Useful for back reference
		 *  @type object
		 *  @default null
		 */
		"oSavedState": null,
	
		/**
		 * State that was loaded. Useful for back reference
		 *  @type object
		 *  @default null
		 */
		"oLoadedState": null,
	
		/**
		 * Source url for AJAX data for the table.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 *  @default null
		 */
		"sAjaxSource": null,
	
		/**
		 * Property from a given object from which to read the table data from. This
		 * can be an empty string (when not server-side processing), in which case
		 * it is  assumed an an array is given directly.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 */
		"sAjaxDataProp": null,
	
		/**
		 * Note if draw should be blocked while getting data
		 *  @type boolean
		 *  @default true
		 */
		"bAjaxDataGet": true,
	
		/**
		 * The last jQuery XHR object that was used for server-side data gathering.
		 * This can be used for working with the XHR information in one of the
		 * callbacks
		 *  @type object
		 *  @default null
		 */
		"jqXHR": null,
	
		/**
		 * JSON returned from the server in the last Ajax request
		 *  @type object
		 *  @default undefined
		 */
		"json": undefined,
	
		/**
		 * Data submitted as part of the last Ajax request
		 *  @type object
		 *  @default undefined
		 */
		"oAjaxData": undefined,
	
		/**
		 * Function to get the server-side data.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type function
		 */
		"fnServerData": null,
	
		/**
		 * Functions which are called prior to sending an Ajax request so extra
		 * parameters can easily be sent to the server
		 *  @type array
		 *  @default []
		 */
		"aoServerParams": [],
	
		/**
		 * Send the XHR HTTP method - GET or POST (could be PUT or DELETE if
		 * required).
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 */
		"sServerMethod": null,
	
		/**
		 * Format numbers for display.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type function
		 */
		"fnFormatNumber": null,
	
		/**
		 * List of options that can be used for the user selectable length menu.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @default []
		 */
		"aLengthMenu": null,
	
		/**
		 * Counter for the draws that the table does. Also used as a tracker for
		 * server-side processing
		 *  @type int
		 *  @default 0
		 */
		"iDraw": 0,
	
		/**
		 * Indicate if a redraw is being done - useful for Ajax
		 *  @type boolean
		 *  @default false
		 */
		"bDrawing": false,
	
		/**
		 * Draw index (iDraw) of the last error when parsing the returned data
		 *  @type int
		 *  @default -1
		 */
		"iDrawError": -1,
	
		/**
		 * Paging display length
		 *  @type int
		 *  @default 10
		 */
		"_iDisplayLength": 10,
	
		/**
		 * Paging start point - aiDisplay index
		 *  @type int
		 *  @default 0
		 */
		"_iDisplayStart": 0,
	
		/**
		 * Server-side processing - number of records in the result set
		 * (i.e. before filtering), Use fnRecordsTotal rather than
		 * this property to get the value of the number of records, regardless of
		 * the server-side processing setting.
		 *  @type int
		 *  @default 0
		 *  @private
		 */
		"_iRecordsTotal": 0,
	
		/**
		 * Server-side processing - number of records in the current display set
		 * (i.e. after filtering). Use fnRecordsDisplay rather than
		 * this property to get the value of the number of records, regardless of
		 * the server-side processing setting.
		 *  @type boolean
		 *  @default 0
		 *  @private
		 */
		"_iRecordsDisplay": 0,
	
		/**
		 * Flag to indicate if jQuery UI marking and classes should be used.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type boolean
		 */
		"bJUI": null,
	
		/**
		 * The classes to use for the table
		 *  @type object
		 *  @default {}
		 */
		"oClasses": {},
	
		/**
		 * Flag attached to the settings object so you can check in the draw
		 * callback if filtering has been done in the draw. Deprecated in favour of
		 * events.
		 *  @type boolean
		 *  @default false
		 *  @deprecated
		 */
		"bFiltered": false,
	
		/**
		 * Flag attached to the settings object so you can check in the draw
		 * callback if sorting has been done in the draw. Deprecated in favour of
		 * events.
		 *  @type boolean
		 *  @default false
		 *  @deprecated
		 */
		"bSorted": false,
	
		/**
		 * Indicate that if multiple rows are in the header and there is more than
		 * one unique cell per column, if the top one (true) or bottom one (false)
		 * should be used for sorting / title by DataTables.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type boolean
		 */
		"bSortCellsTop": null,
	
		/**
		 * Initialisation object that is used for the table
		 *  @type object
		 *  @default null
		 */
		"oInit": null,
	
		/**
		 * Destroy callback functions - for plug-ins to attach themselves to the
		 * destroy so they can clean up markup and events.
		 *  @type array
		 *  @default []
		 */
		"aoDestroyCallback": [],
	
	
		/**
		 * Get the number of records in the current record set, before filtering
		 *  @type function
		 */
		"fnRecordsTotal": function ()
		{
			return _fnDataSource( this ) == 'ssp' ?
				this._iRecordsTotal * 1 :
				this.aiDisplayMaster.length;
		},
	
		/**
		 * Get the number of records in the current record set, after filtering
		 *  @type function
		 */
		"fnRecordsDisplay": function ()
		{
			return _fnDataSource( this ) == 'ssp' ?
				this._iRecordsDisplay * 1 :
				this.aiDisplay.length;
		},
	
		/**
		 * Get the display end point - aiDisplay index
		 *  @type function
		 */
		"fnDisplayEnd": function ()
		{
			var
				len      = this._iDisplayLength,
				start    = this._iDisplayStart,
				calc     = start + len,
				records  = this.aiDisplay.length,
				features = this.oFeatures,
				paginate = features.bPaginate;
	
			if ( features.bServerSide ) {
				return paginate === false || len === -1 ?
					start + records :
					Math.min( start+len, this._iRecordsDisplay );
			}
			else {
				return ! paginate || calc>records || len===-1 ?
					records :
					calc;
			}
		},
	
		/**
		 * The DataTables object for this table
		 *  @type object
		 *  @default null
		 */
		"oInstance": null,
	
		/**
		 * Unique identifier for each instance of the DataTables object. If there
		 * is an ID on the table node, then it takes that value, otherwise an
		 * incrementing internal counter is used.
		 *  @type string
		 *  @default null
		 */
		"sInstance": null,
	
		/**
		 * tabindex attribute value that is added to DataTables control elements, allowing
		 * keyboard navigation of the table and its controls.
		 */
		"iTabIndex": 0,
	
		/**
		 * DIV container for the footer scrolling table if scrolling
		 */
		"nScrollHead": null,
	
		/**
		 * DIV container for the footer scrolling table if scrolling
		 */
		"nScrollFoot": null,
	
		/**
		 * Last applied sort
		 *  @type array
		 *  @default []
		 */
		"aLastSort": [],
	
		/**
		 * Stored plug-in instances
		 *  @type object
		 *  @default {}
		 */
		"oPlugins": {},
	
		/**
		 * Function used to get a row's id from the row's data
		 *  @type function
		 *  @default null
		 */
		"rowIdFn": null,
	
		/**
		 * Data location where to store a row's id
		 *  @type string
		 *  @default null
		 */
		"rowId": null
	};

	/**
	 * Extension object for DataTables that is used to provide all extension
	 * options.
	 *
	 * Note that the `DataTable.ext` object is available through
	 * `jQuery.fn.dataTable.ext` where it may be accessed and manipulated. It is
	 * also aliased to `jQuery.fn.dataTableExt` for historic reasons.
	 *  @namespace
	 *  @extends DataTable.models.ext
	 */
	
	
	/**
	 * DataTables extensions
	 * 
	 * This namespace acts as a collection area for plug-ins that can be used to
	 * extend DataTables capabilities. Indeed many of the build in methods
	 * use this method to provide their own capabilities (sorting methods for
	 * example).
	 *
	 * Note that this namespace is aliased to `jQuery.fn.dataTableExt` for legacy
	 * reasons
	 *
	 *  @namespace
	 */
	DataTable.ext = _ext = {
		/**
		 * Buttons. For use with the Buttons extension for DataTables. This is
		 * defined here so other extensions can define buttons regardless of load
		 * order. It is _not_ used by DataTables core.
		 *
		 *  @type object
		 *  @default {}
		 */
		buttons: {},
	
	
		/**
		 * Element class names
		 *
		 *  @type object
		 *  @default {}
		 */
		classes: {},
	
	
		/**
		 * DataTables build type (expanded by the download builder)
		 *
		 *  @type string
		 */
		builder: "-source-",
	
	
		/**
		 * Error reporting.
		 * 
		 * How should DataTables report an error. Can take the value 'alert',
		 * 'throw', 'none' or a function.
		 *
		 *  @type string|function
		 *  @default alert
		 */
		errMode: "alert",
	
	
		/**
		 * Feature plug-ins.
		 * 
		 * This is an array of objects which describe the feature plug-ins that are
		 * available to DataTables. These feature plug-ins are then available for
		 * use through the `dom` initialisation option.
		 * 
		 * Each feature plug-in is described by an object which must have the
		 * following properties:
		 * 
		 * * `fnInit` - function that is used to initialise the plug-in,
		 * * `cFeature` - a character so the feature can be enabled by the `dom`
		 *   instillation option. This is case sensitive.
		 *
		 * The `fnInit` function has the following input parameters:
		 *
		 * 1. `{object}` DataTables settings object: see
		 *    {@link DataTable.models.oSettings}
		 *
		 * And the following return is expected:
		 * 
		 * * {node|null} The element which contains your feature. Note that the
		 *   return may also be void if your plug-in does not require to inject any
		 *   DOM elements into DataTables control (`dom`) - for example this might
		 *   be useful when developing a plug-in which allows table control via
		 *   keyboard entry
		 *
		 *  @type array
		 *
		 *  @example
		 *    $.fn.dataTable.ext.features.push( {
		 *      "fnInit": function( oSettings ) {
		 *        return new TableTools( { "oDTSettings": oSettings } );
		 *      },
		 *      "cFeature": "T"
		 *    } );
		 */
		feature: [],
	
	
		/**
		 * Row searching.
		 * 
		 * This method of searching is complimentary to the default type based
		 * searching, and a lot more comprehensive as it allows you complete control
		 * over the searching logic. Each element in this array is a function
		 * (parameters described below) that is called for every row in the table,
		 * and your logic decides if it should be included in the searching data set
		 * or not.
		 *
		 * Searching functions have the following input parameters:
		 *
		 * 1. `{object}` DataTables settings object: see
		 *    {@link DataTable.models.oSettings}
		 * 2. `{array|object}` Data for the row to be processed (same as the
		 *    original format that was passed in as the data source, or an array
		 *    from a DOM data source
		 * 3. `{int}` Row index ({@link DataTable.models.oSettings.aoData}), which
		 *    can be useful to retrieve the `TR` element if you need DOM interaction.
		 *
		 * And the following return is expected:
		 *
		 * * {boolean} Include the row in the searched result set (true) or not
		 *   (false)
		 *
		 * Note that as with the main search ability in DataTables, technically this
		 * is "filtering", since it is subtractive. However, for consistency in
		 * naming we call it searching here.
		 *
		 *  @type array
		 *  @default []
		 *
		 *  @example
		 *    // The following example shows custom search being applied to the
		 *    // fourth column (i.e. the data[3] index) based on two input values
		 *    // from the end-user, matching the data in a certain range.
		 *    $.fn.dataTable.ext.search.push(
		 *      function( settings, data, dataIndex ) {
		 *        var min = document.getElementById('min').value * 1;
		 *        var max = document.getElementById('max').value * 1;
		 *        var version = data[3] == "-" ? 0 : data[3]*1;
		 *
		 *        if ( min == "" && max == "" ) {
		 *          return true;
		 *        }
		 *        else if ( min == "" && version < max ) {
		 *          return true;
		 *        }
		 *        else if ( min < version && "" == max ) {
		 *          return true;
		 *        }
		 *        else if ( min < version && version < max ) {
		 *          return true;
		 *        }
		 *        return false;
		 *      }
		 *    );
		 */
		search: [],
	
	
		/**
		 * Selector extensions
		 *
		 * The `selector` option can be used to extend the options available for the
		 * selector modifier options (`selector-modifier` object data type) that
		 * each of the three built in selector types offer (row, column and cell +
		 * their plural counterparts). For example the Select extension uses this
		 * mechanism to provide an option to select only rows, columns and cells
		 * that have been marked as selected by the end user (`{selected: true}`),
		 * which can be used in conjunction with the existing built in selector
		 * options.
		 *
		 * Each property is an array to which functions can be pushed. The functions
		 * take three attributes:
		 *
		 * * Settings object for the host table
		 * * Options object (`selector-modifier` object type)
		 * * Array of selected item indexes
		 *
		 * The return is an array of the resulting item indexes after the custom
		 * selector has been applied.
		 *
		 *  @type object
		 */
		selector: {
			cell: [],
			column: [],
			row: []
		},
	
	
		/**
		 * Internal functions, exposed for used in plug-ins.
		 * 
		 * Please note that you should not need to use the internal methods for
		 * anything other than a plug-in (and even then, try to avoid if possible).
		 * The internal function may change between releases.
		 *
		 *  @type object
		 *  @default {}
		 */
		internal: {},
	
	
		/**
		 * Legacy configuration options. Enable and disable legacy options that
		 * are available in DataTables.
		 *
		 *  @type object
		 */
		legacy: {
			/**
			 * Enable / disable DataTables 1.9 compatible server-side processing
			 * requests
			 *
			 *  @type boolean
			 *  @default null
			 */
			ajax: null
		},
	
	
		/**
		 * Pagination plug-in methods.
		 * 
		 * Each entry in this object is a function and defines which buttons should
		 * be shown by the pagination rendering method that is used for the table:
		 * {@link DataTable.ext.renderer.pageButton}. The renderer addresses how the
		 * buttons are displayed in the document, while the functions here tell it
		 * what buttons to display. This is done by returning an array of button
		 * descriptions (what each button will do).
		 *
		 * Pagination types (the four built in options and any additional plug-in
		 * options defined here) can be used through the `paginationType`
		 * initialisation parameter.
		 *
		 * The functions defined take two parameters:
		 *
		 * 1. `{int} page` The current page index
		 * 2. `{int} pages` The number of pages in the table
		 *
		 * Each function is expected to return an array where each element of the
		 * array can be one of:
		 *
		 * * `first` - Jump to first page when activated
		 * * `last` - Jump to last page when activated
		 * * `previous` - Show previous page when activated
		 * * `next` - Show next page when activated
		 * * `{int}` - Show page of the index given
		 * * `{array}` - A nested array containing the above elements to add a
		 *   containing 'DIV' element (might be useful for styling).
		 *
		 * Note that DataTables v1.9- used this object slightly differently whereby
		 * an object with two functions would be defined for each plug-in. That
		 * ability is still supported by DataTables 1.10+ to provide backwards
		 * compatibility, but this option of use is now decremented and no longer
		 * documented in DataTables 1.10+.
		 *
		 *  @type object
		 *  @default {}
		 *
		 *  @example
		 *    // Show previous, next and current page buttons only
		 *    $.fn.dataTableExt.oPagination.current = function ( page, pages ) {
		 *      return [ 'previous', page, 'next' ];
		 *    };
		 */
		pager: {},
	
	
		renderer: {
			pageButton: {},
			header: {}
		},
	
	
		/**
		 * Ordering plug-ins - custom data source
		 * 
		 * The extension options for ordering of data available here is complimentary
		 * to the default type based ordering that DataTables typically uses. It
		 * allows much greater control over the the data that is being used to
		 * order a column, but is necessarily therefore more complex.
		 * 
		 * This type of ordering is useful if you want to do ordering based on data
		 * live from the DOM (for example the contents of an 'input' element) rather
		 * than just the static string that DataTables knows of.
		 * 
		 * The way these plug-ins work is that you create an array of the values you
		 * wish to be ordering for the column in question and then return that
		 * array. The data in the array much be in the index order of the rows in
		 * the table (not the currently ordering order!). Which order data gathering
		 * function is run here depends on the `dt-init columns.orderDataType`
		 * parameter that is used for the column (if any).
		 *
		 * The functions defined take two parameters:
		 *
		 * 1. `{object}` DataTables settings object: see
		 *    {@link DataTable.models.oSettings}
		 * 2. `{int}` Target column index
		 *
		 * Each function is expected to return an array:
		 *
		 * * `{array}` Data for the column to be ordering upon
		 *
		 *  @type array
		 *
		 *  @example
		 *    // Ordering using `input` node values
		 *    $.fn.dataTable.ext.order['dom-text'] = function  ( settings, col )
		 *    {
		 *      return this.api().column( col, {order:'index'} ).nodes().map( function ( td, i ) {
		 *        return $('input', td).val();
		 *      } );
		 *    }
		 */
		order: {},
	
	
		/**
		 * Type based plug-ins.
		 *
		 * Each column in DataTables has a type assigned to it, either by automatic
		 * detection or by direct assignment using the `type` option for the column.
		 * The type of a column will effect how it is ordering and search (plug-ins
		 * can also make use of the column type if required).
		 *
		 * @namespace
		 */
		type: {
			/**
			 * Type detection functions.
			 *
			 * The functions defined in this object are used to automatically detect
			 * a column's type, making initialisation of DataTables super easy, even
			 * when complex data is in the table.
			 *
			 * The functions defined take two parameters:
			 *
		     *  1. `{*}` Data from the column cell to be analysed
		     *  2. `{settings}` DataTables settings object. This can be used to
		     *     perform context specific type detection - for example detection
		     *     based on language settings such as using a comma for a decimal
		     *     place. Generally speaking the options from the settings will not
		     *     be required
			 *
			 * Each function is expected to return:
			 *
			 * * `{string|null}` Data type detected, or null if unknown (and thus
			 *   pass it on to the other type detection functions.
			 *
			 *  @type array
			 *
			 *  @example
			 *    // Currency type detection plug-in:
			 *    $.fn.dataTable.ext.type.detect.push(
			 *      function ( data, settings ) {
			 *        // Check the numeric part
			 *        if ( ! $.isNumeric( data.substring(1) ) ) {
			 *          return null;
			 *        }
			 *
			 *        // Check prefixed by currency
			 *        if ( data.charAt(0) == '$' || data.charAt(0) == '&pound;' ) {
			 *          return 'currency';
			 *        }
			 *        return null;
			 *      }
			 *    );
			 */
			detect: [],
	
	
			/**
			 * Type based search formatting.
			 *
			 * The type based searching functions can be used to pre-format the
			 * data to be search on. For example, it can be used to strip HTML
			 * tags or to de-format telephone numbers for numeric only searching.
			 *
			 * Note that is a search is not defined for a column of a given type,
			 * no search formatting will be performed.
			 * 
			 * Pre-processing of searching data plug-ins - When you assign the sType
			 * for a column (or have it automatically detected for you by DataTables
			 * or a type detection plug-in), you will typically be using this for
			 * custom sorting, but it can also be used to provide custom searching
			 * by allowing you to pre-processing the data and returning the data in
			 * the format that should be searched upon. This is done by adding
			 * functions this object with a parameter name which matches the sType
			 * for that target column. This is the corollary of <i>afnSortData</i>
			 * for searching data.
			 *
			 * The functions defined take a single parameter:
			 *
		     *  1. `{*}` Data from the column cell to be prepared for searching
			 *
			 * Each function is expected to return:
			 *
			 * * `{string|null}` Formatted string that will be used for the searching.
			 *
			 *  @type object
			 *  @default {}
			 *
			 *  @example
			 *    $.fn.dataTable.ext.type.search['title-numeric'] = function ( d ) {
			 *      return d.replace(/\n/g," ").replace( /<.*?>/g, "" );
			 *    }
			 */
			search: {},
	
	
			/**
			 * Type based ordering.
			 *
			 * The column type tells DataTables what ordering to apply to the table
			 * when a column is sorted upon. The order for each type that is defined,
			 * is defined by the functions available in this object.
			 *
			 * Each ordering option can be described by three properties added to
			 * this object:
			 *
			 * * `{type}-pre` - Pre-formatting function
			 * * `{type}-asc` - Ascending order function
			 * * `{type}-desc` - Descending order function
			 *
			 * All three can be used together, only `{type}-pre` or only
			 * `{type}-asc` and `{type}-desc` together. It is generally recommended
			 * that only `{type}-pre` is used, as this provides the optimal
			 * implementation in terms of speed, although the others are provided
			 * for compatibility with existing Javascript sort functions.
			 *
			 * `{type}-pre`: Functions defined take a single parameter:
			 *
		     *  1. `{*}` Data from the column cell to be prepared for ordering
			 *
			 * And return:
			 *
			 * * `{*}` Data to be sorted upon
			 *
			 * `{type}-asc` and `{type}-desc`: Functions are typical Javascript sort
			 * functions, taking two parameters:
			 *
		     *  1. `{*}` Data to compare to the second parameter
		     *  2. `{*}` Data to compare to the first parameter
			 *
			 * And returning:
			 *
			 * * `{*}` Ordering match: <0 if first parameter should be sorted lower
			 *   than the second parameter, ===0 if the two parameters are equal and
			 *   >0 if the first parameter should be sorted height than the second
			 *   parameter.
			 * 
			 *  @type object
			 *  @default {}
			 *
			 *  @example
			 *    // Numeric ordering of formatted numbers with a pre-formatter
			 *    $.extend( $.fn.dataTable.ext.type.order, {
			 *      "string-pre": function(x) {
			 *        a = (a === "-" || a === "") ? 0 : a.replace( /[^\d\-\.]/g, "" );
			 *        return parseFloat( a );
			 *      }
			 *    } );
			 *
			 *  @example
			 *    // Case-sensitive string ordering, with no pre-formatting method
			 *    $.extend( $.fn.dataTable.ext.order, {
			 *      "string-case-asc": function(x,y) {
			 *        return ((x < y) ? -1 : ((x > y) ? 1 : 0));
			 *      },
			 *      "string-case-desc": function(x,y) {
			 *        return ((x < y) ? 1 : ((x > y) ? -1 : 0));
			 *      }
			 *    } );
			 */
			order: {}
		},
	
		/**
		 * Unique DataTables instance counter
		 *
		 * @type int
		 * @private
		 */
		_unique: 0,
	
	
		//
		// Depreciated
		// The following properties are retained for backwards compatiblity only.
		// The should not be used in new projects and will be removed in a future
		// version
		//
	
		/**
		 * Version check function.
		 *  @type function
		 *  @depreciated Since 1.10
		 */
		fnVersionCheck: DataTable.fnVersionCheck,
	
	
		/**
		 * Index for what 'this' index API functions should use
		 *  @type int
		 *  @deprecated Since v1.10
		 */
		iApiIndex: 0,
	
	
		/**
		 * jQuery UI class container
		 *  @type object
		 *  @deprecated Since v1.10
		 */
		oJUIClasses: {},
	
	
		/**
		 * Software version
		 *  @type string
		 *  @deprecated Since v1.10
		 */
		sVersion: DataTable.version
	};
	
	
	//
	// Backwards compatibility. Alias to pre 1.10 Hungarian notation counter parts
	//
	$.extend( _ext, {
		afnFiltering: _ext.search,
		aTypes:       _ext.type.detect,
		ofnSearch:    _ext.type.search,
		oSort:        _ext.type.order,
		afnSortData:  _ext.order,
		aoFeatures:   _ext.feature,
		oApi:         _ext.internal,
		oStdClasses:  _ext.classes,
		oPagination:  _ext.pager
	} );
	
	
	$.extend( DataTable.ext.classes, {
		"sTable": "dataTable",
		"sNoFooter": "no-footer",
	
		/* Paging buttons */
		"sPageButton": "paginate_button",
		"sPageButtonActive": "current",
		"sPageButtonDisabled": "disabled",
	
		/* Striping classes */
		"sStripeOdd": "odd",
		"sStripeEven": "even",
	
		/* Empty row */
		"sRowEmpty": "dataTables_empty",
	
		/* Features */
		"sWrapper": "dataTables_wrapper",
		"sFilter": "dataTables_filter",
		"sInfo": "dataTables_info",
		"sPaging": "dataTables_paginate paging_", /* Note that the type is postfixed */
		"sLength": "dataTables_length",
		"sProcessing": "dataTables_processing",
	
		/* Sorting */
		"sSortAsc": "sorting_asc",
		"sSortDesc": "sorting_desc",
		"sSortable": "sorting", /* Sortable in both directions */
		"sSortableAsc": "sorting_asc_disabled",
		"sSortableDesc": "sorting_desc_disabled",
		"sSortableNone": "sorting_disabled",
		"sSortColumn": "sorting_", /* Note that an int is postfixed for the sorting order */
	
		/* Filtering */
		"sFilterInput": "",
	
		/* Page length */
		"sLengthSelect": "",
	
		/* Scrolling */
		"sScrollWrapper": "dataTables_scroll",
		"sScrollHead": "dataTables_scrollHead",
		"sScrollHeadInner": "dataTables_scrollHeadInner",
		"sScrollBody": "dataTables_scrollBody",
		"sScrollFoot": "dataTables_scrollFoot",
		"sScrollFootInner": "dataTables_scrollFootInner",
	
		/* Misc */
		"sHeaderTH": "",
		"sFooterTH": "",
	
		// Deprecated
		"sSortJUIAsc": "",
		"sSortJUIDesc": "",
		"sSortJUI": "",
		"sSortJUIAscAllowed": "",
		"sSortJUIDescAllowed": "",
		"sSortJUIWrapper": "",
		"sSortIcon": "",
		"sJUIHeader": "",
		"sJUIFooter": ""
	} );
	
	
	(function() {
	
	// Reused strings for better compression. Closure compiler appears to have a
	// weird edge case where it is trying to expand strings rather than use the
	// variable version. This results in about 200 bytes being added, for very
	// little preference benefit since it this run on script load only.
	var _empty = '';
	_empty = '';
	
	var _stateDefault = _empty + 'ui-state-default';
	var _sortIcon     = _empty + 'css_right ui-icon ui-icon-';
	var _headerFooter = _empty + 'fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix';
	
	$.extend( DataTable.ext.oJUIClasses, DataTable.ext.classes, {
		/* Full numbers paging buttons */
		"sPageButton":         "fg-button ui-button "+_stateDefault,
		"sPageButtonActive":   "ui-state-disabled",
		"sPageButtonDisabled": "ui-state-disabled",
	
		/* Features */
		"sPaging": "dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi "+
			"ui-buttonset-multi paging_", /* Note that the type is postfixed */
	
		/* Sorting */
		"sSortAsc":            _stateDefault+" sorting_asc",
		"sSortDesc":           _stateDefault+" sorting_desc",
		"sSortable":           _stateDefault+" sorting",
		"sSortableAsc":        _stateDefault+" sorting_asc_disabled",
		"sSortableDesc":       _stateDefault+" sorting_desc_disabled",
		"sSortableNone":       _stateDefault+" sorting_disabled",
		"sSortJUIAsc":         _sortIcon+"triangle-1-n",
		"sSortJUIDesc":        _sortIcon+"triangle-1-s",
		"sSortJUI":            _sortIcon+"carat-2-n-s",
		"sSortJUIAscAllowed":  _sortIcon+"carat-1-n",
		"sSortJUIDescAllowed": _sortIcon+"carat-1-s",
		"sSortJUIWrapper":     "DataTables_sort_wrapper",
		"sSortIcon":           "DataTables_sort_icon",
	
		/* Scrolling */
		"sScrollHead": "dataTables_scrollHead "+_stateDefault,
		"sScrollFoot": "dataTables_scrollFoot "+_stateDefault,
	
		/* Misc */
		"sHeaderTH":  _stateDefault,
		"sFooterTH":  _stateDefault,
		"sJUIHeader": _headerFooter+" ui-corner-tl ui-corner-tr",
		"sJUIFooter": _headerFooter+" ui-corner-bl ui-corner-br"
	} );
	
	}());
	
	
	
	var extPagination = DataTable.ext.pager;
	
	function _numbers ( page, pages ) {
		var
			numbers = [],
			buttons = extPagination.numbers_length,
			half = Math.floor( buttons / 2 ),
			i = 1;
	
		if ( pages <= buttons ) {
			numbers = _range( 0, pages );
		}
		else if ( page <= half ) {
			numbers = _range( 0, buttons-2 );
			numbers.push( 'ellipsis' );
			numbers.push( pages-1 );
		}
		else if ( page >= pages - 1 - half ) {
			numbers = _range( pages-(buttons-2), pages );
			numbers.splice( 0, 0, 'ellipsis' ); // no unshift in ie6
			numbers.splice( 0, 0, 0 );
		}
		else {
			numbers = _range( page-half+2, page+half-1 );
			numbers.push( 'ellipsis' );
			numbers.push( pages-1 );
			numbers.splice( 0, 0, 'ellipsis' );
			numbers.splice( 0, 0, 0 );
		}
	
		numbers.DT_el = 'span';
		return numbers;
	}
	
	
	$.extend( extPagination, {
		simple: function ( page, pages ) {
			return [ 'previous', 'next' ];
		},
	
		full: function ( page, pages ) {
			return [  'first', 'previous', 'next', 'last' ];
		},
	
		numbers: function ( page, pages ) {
			return [ _numbers(page, pages) ];
		},
	
		simple_numbers: function ( page, pages ) {
			return [ 'previous', _numbers(page, pages), 'next' ];
		},
	
		full_numbers: function ( page, pages ) {
			return [ 'first', 'previous', _numbers(page, pages), 'next', 'last' ];
		},
	
		// For testing and plug-ins to use
		_numbers: _numbers,
	
		// Number of number buttons (including ellipsis) to show. _Must be odd!_
		numbers_length: 7
	} );
	
	
	$.extend( true, DataTable.ext.renderer, {
		pageButton: {
			_: function ( settings, host, idx, buttons, page, pages ) {
				var classes = settings.oClasses;
				var lang = settings.oLanguage.oPaginate;
				var aria = settings.oLanguage.oAria.paginate || {};
				var btnDisplay, btnClass, counter=0;
	
				var attach = function( container, buttons ) {
					var i, ien, node, button;
					var clickHandler = function ( e ) {
						_fnPageChange( settings, e.data.action, true );
					};
	
					for ( i=0, ien=buttons.length ; i<ien ; i++ ) {
						button = buttons[i];
	
						if ( $.isArray( button ) ) {
							var inner = $( '<'+(button.DT_el || 'div')+'/>' )
								.appendTo( container );
							attach( inner, button );
						}
						else {
							btnDisplay = null;
							btnClass = '';
	
							switch ( button ) {
								case 'ellipsis':
									container.append('<span class="ellipsis">&#x2026;</span>');
									break;
	
								case 'first':
									btnDisplay = lang.sFirst;
									btnClass = button + (page > 0 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								case 'previous':
									btnDisplay = lang.sPrevious;
									btnClass = button + (page > 0 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								case 'next':
									btnDisplay = lang.sNext;
									btnClass = button + (page < pages-1 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								case 'last':
									btnDisplay = lang.sLast;
									btnClass = button + (page < pages-1 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								default:
									btnDisplay = button + 1;
									btnClass = page === button ?
										classes.sPageButtonActive : '';
									break;
							}
	
							if ( btnDisplay !== null ) {
								node = $('<a>', {
										'class': classes.sPageButton+' '+btnClass,
										'aria-controls': settings.sTableId,
										'aria-label': aria[ button ],
										'data-dt-idx': counter,
										'tabindex': settings.iTabIndex,
										'id': idx === 0 && typeof button === 'string' ?
											settings.sTableId +'_'+ button :
											null
									} )
									.html( btnDisplay )
									.appendTo( container );
	
								_fnBindAction(
									node, {action: button}, clickHandler
								);
	
								counter++;
							}
						}
					}
				};
	
				// IE9 throws an 'unknown error' if document.activeElement is used
				// inside an iframe or frame. Try / catch the error. Not good for
				// accessibility, but neither are frames.
				var activeEl;
	
				try {
					// Because this approach is destroying and recreating the paging
					// elements, focus is lost on the select button which is bad for
					// accessibility. So we want to restore focus once the draw has
					// completed
					activeEl = $(host).find(document.activeElement).data('dt-idx');
				}
				catch (e) {}
	
				attach( $(host).empty(), buttons );
	
				if ( activeEl ) {
					$(host).find( '[data-dt-idx='+activeEl+']' ).focus();
				}
			}
		}
	} );
	
	
	
	// Built in type detection. See model.ext.aTypes for information about
	// what is required from this methods.
	$.extend( DataTable.ext.type.detect, [
		// Plain numbers - first since V8 detects some plain numbers as dates
		// e.g. Date.parse('55') (but not all, e.g. Date.parse('22')...).
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _isNumber( d, decimal ) ? 'num'+decimal : null;
		},
	
		// Dates (only those recognised by the browser's Date.parse)
		function ( d, settings )
		{
			// V8 will remove any unknown characters at the start and end of the
			// expression, leading to false matches such as `$245.12` or `10%` being
			// a valid date. See forum thread 18941 for detail.
			if ( d && !(d instanceof Date) && ( ! _re_date_start.test(d) || ! _re_date_end.test(d) ) ) {
				return null;
			}
			var parsed = Date.parse(d);
			return (parsed !== null && !isNaN(parsed)) || _empty(d) ? 'date' : null;
		},
	
		// Formatted numbers
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _isNumber( d, decimal, true ) ? 'num-fmt'+decimal : null;
		},
	
		// HTML numeric
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _htmlNumeric( d, decimal ) ? 'html-num'+decimal : null;
		},
	
		// HTML numeric, formatted
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _htmlNumeric( d, decimal, true ) ? 'html-num-fmt'+decimal : null;
		},
	
		// HTML (this is strict checking - there must be html)
		function ( d, settings )
		{
			return _empty( d ) || (typeof d === 'string' && d.indexOf('<') !== -1) ?
				'html' : null;
		}
	] );
	
	
	
	// Filter formatting functions. See model.ext.ofnSearch for information about
	// what is required from these methods.
	// 
	// Note that additional search methods are added for the html numbers and
	// html formatted numbers by `_addNumericSort()` when we know what the decimal
	// place is
	
	
	$.extend( DataTable.ext.type.search, {
		html: function ( data ) {
			return _empty(data) ?
				data :
				typeof data === 'string' ?
					data
						.replace( _re_new_lines, " " )
						.replace( _re_html, "" ) :
					'';
		},
	
		string: function ( data ) {
			return _empty(data) ?
				data :
				typeof data === 'string' ?
					data.replace( _re_new_lines, " " ) :
					data;
		}
	} );
	
	
	
	var __numericReplace = function ( d, decimalPlace, re1, re2 ) {
		if ( d !== 0 && (!d || d === '-') ) {
			return -Infinity;
		}
	
		// If a decimal place other than `.` is used, it needs to be given to the
		// function so we can detect it and replace with a `.` which is the only
		// decimal place Javascript recognises - it is not locale aware.
		if ( decimalPlace ) {
			d = _numToDecimal( d, decimalPlace );
		}
	
		if ( d.replace ) {
			if ( re1 ) {
				d = d.replace( re1, '' );
			}
	
			if ( re2 ) {
				d = d.replace( re2, '' );
			}
		}
	
		return d * 1;
	};
	
	
	// Add the numeric 'deformatting' functions for sorting and search. This is done
	// in a function to provide an easy ability for the language options to add
	// additional methods if a non-period decimal place is used.
	function _addNumericSort ( decimalPlace ) {
		$.each(
			{
				// Plain numbers
				"num": function ( d ) {
					return __numericReplace( d, decimalPlace );
				},
	
				// Formatted numbers
				"num-fmt": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_formatted_numeric );
				},
	
				// HTML numeric
				"html-num": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_html );
				},
	
				// HTML numeric, formatted
				"html-num-fmt": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_html, _re_formatted_numeric );
				}
			},
			function ( key, fn ) {
				// Add the ordering method
				_ext.type.order[ key+decimalPlace+'-pre' ] = fn;
	
				// For HTML types add a search formatter that will strip the HTML
				if ( key.match(/^html\-/) ) {
					_ext.type.search[ key+decimalPlace ] = _ext.type.search.html;
				}
			}
		);
	}
	
	
	// Default sort methods
	$.extend( _ext.type.order, {
		// Dates
		"date-pre": function ( d ) {
			return Date.parse( d ) || 0;
		},
	
		// html
		"html-pre": function ( a ) {
			return _empty(a) ?
				'' :
				a.replace ?
					a.replace( /<.*?>/g, "" ).toLowerCase() :
					a+'';
		},
	
		// string
		"string-pre": function ( a ) {
			// This is a little complex, but faster than always calling toString,
			// http://jsperf.com/tostring-v-check
			return _empty(a) ?
				'' :
				typeof a === 'string' ?
					a.toLowerCase() :
					! a.toString ?
						'' :
						a.toString();
		},
	
		// string-asc and -desc are retained only for compatibility with the old
		// sort methods
		"string-asc": function ( x, y ) {
			return ((x < y) ? -1 : ((x > y) ? 1 : 0));
		},
	
		"string-desc": function ( x, y ) {
			return ((x < y) ? 1 : ((x > y) ? -1 : 0));
		}
	} );
	
	
	// Numeric sorting types - order doesn't matter here
	_addNumericSort( '' );
	
	
	$.extend( true, DataTable.ext.renderer, {
		header: {
			_: function ( settings, cell, column, classes ) {
				// No additional mark-up required
				// Attach a sort listener to update on sort - note that using the
				// `DT` namespace will allow the event to be removed automatically
				// on destroy, while the `dt` namespaced event is the one we are
				// listening for
				$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting, columns ) {
					if ( settings !== ctx ) { // need to check this this is the host
						return;               // table, not a nested one
					}
	
					var colIdx = column.idx;
	
					cell
						.removeClass(
							column.sSortingClass +' '+
							classes.sSortAsc +' '+
							classes.sSortDesc
						)
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortDesc :
								column.sSortingClass
						);
				} );
			},
	
			jqueryui: function ( settings, cell, column, classes ) {
				$('<div/>')
					.addClass( classes.sSortJUIWrapper )
					.append( cell.contents() )
					.append( $('<span/>')
						.addClass( classes.sSortIcon+' '+column.sSortingClassJUI )
					)
					.appendTo( cell );
	
				// Attach a sort listener to update on sort
				$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting, columns ) {
					if ( settings !== ctx ) {
						return;
					}
	
					var colIdx = column.idx;
	
					cell
						.removeClass( classes.sSortAsc +" "+classes.sSortDesc )
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortDesc :
								column.sSortingClass
						);
	
					cell
						.find( 'span.'+classes.sSortIcon )
						.removeClass(
							classes.sSortJUIAsc +" "+
							classes.sSortJUIDesc +" "+
							classes.sSortJUI +" "+
							classes.sSortJUIAscAllowed +" "+
							classes.sSortJUIDescAllowed
						)
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortJUIAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortJUIDesc :
								column.sSortingClassJUI
						);
				} );
			}
		}
	} );
	
	/*
	 * Public helper functions. These aren't used internally by DataTables, or
	 * called by any of the options passed into DataTables, but they can be used
	 * externally by developers working with DataTables. They are helper functions
	 * to make working with DataTables a little bit easier.
	 */
	
	var __htmlEscapeEntities = function ( d ) {
		return typeof d === 'string' ?
			d.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;') :
			d;
	};
	
	/**
	 * Helpers for `columns.render`.
	 *
	 * The options defined here can be used with the `columns.render` initialisation
	 * option to provide a display renderer. The following functions are defined:
	 *
	 * * `number` - Will format numeric data (defined by `columns.data`) for
	 *   display, retaining the original unformatted data for sorting and filtering.
	 *   It takes 5 parameters:
	 *   * `string` - Thousands grouping separator
	 *   * `string` - Decimal point indicator
	 *   * `integer` - Number of decimal points to show
	 *   * `string` (optional) - Prefix.
	 *   * `string` (optional) - Postfix (/suffix).
	 * * `text` - Escape HTML to help prevent XSS attacks. It has no optional
	 *   parameters.
	 *
	 * @example
	 *   // Column definition using the number renderer
	 *   {
	 *     data: "salary",
	 *     render: $.fn.dataTable.render.number( '\'', '.', 0, '$' )
	 *   }
	 *
	 * @namespace
	 */
	DataTable.render = {
		number: function ( thousands, decimal, precision, prefix, postfix ) {
			return {
				display: function ( d ) {
					if ( typeof d !== 'number' && typeof d !== 'string' ) {
						return d;
					}
	
					var negative = d < 0 ? '-' : '';
					var flo = parseFloat( d );
	
					// If NaN then there isn't much formatting that we can do - just
					// return immediately, escaping any HTML (this was supposed to
					// be a number after all)
					if ( isNaN( flo ) ) {
						return __htmlEscapeEntities( d );
					}
	
					d = Math.abs( flo );
	
					var intPart = parseInt( d, 10 );
					var floatPart = precision ?
						decimal+(d - intPart).toFixed( precision ).substring( 2 ):
						'';
	
					return negative + (prefix||'') +
						intPart.toString().replace(
							/\B(?=(\d{3})+(?!\d))/g, thousands
						) +
						floatPart +
						(postfix||'');
				}
			};
		},
	
		text: function () {
			return {
				display: __htmlEscapeEntities
			};
		}
	};
	
	
	/*
	 * This is really a good bit rubbish this method of exposing the internal methods
	 * publicly... - To be fixed in 2.0 using methods on the prototype
	 */
	
	
	/**
	 * Create a wrapper function for exporting an internal functions to an external API.
	 *  @param {string} fn API function name
	 *  @returns {function} wrapped function
	 *  @memberof DataTable#internal
	 */
	function _fnExternApiFunc (fn)
	{
		return function() {
			var args = [_fnSettingsFromNode( this[DataTable.ext.iApiIndex] )].concat(
				Array.prototype.slice.call(arguments)
			);
			return DataTable.ext.internal[fn].apply( this, args );
		};
	}
	
	
	/**
	 * Reference to internal functions for use by plug-in developers. Note that
	 * these methods are references to internal functions and are considered to be
	 * private. If you use these methods, be aware that they are liable to change
	 * between versions.
	 *  @namespace
	 */
	$.extend( DataTable.ext.internal, {
		_fnExternApiFunc: _fnExternApiFunc,
		_fnBuildAjax: _fnBuildAjax,
		_fnAjaxUpdate: _fnAjaxUpdate,
		_fnAjaxParameters: _fnAjaxParameters,
		_fnAjaxUpdateDraw: _fnAjaxUpdateDraw,
		_fnAjaxDataSrc: _fnAjaxDataSrc,
		_fnAddColumn: _fnAddColumn,
		_fnColumnOptions: _fnColumnOptions,
		_fnAdjustColumnSizing: _fnAdjustColumnSizing,
		_fnVisibleToColumnIndex: _fnVisibleToColumnIndex,
		_fnColumnIndexToVisible: _fnColumnIndexToVisible,
		_fnVisbleColumns: _fnVisbleColumns,
		_fnGetColumns: _fnGetColumns,
		_fnColumnTypes: _fnColumnTypes,
		_fnApplyColumnDefs: _fnApplyColumnDefs,
		_fnHungarianMap: _fnHungarianMap,
		_fnCamelToHungarian: _fnCamelToHungarian,
		_fnLanguageCompat: _fnLanguageCompat,
		_fnBrowserDetect: _fnBrowserDetect,
		_fnAddData: _fnAddData,
		_fnAddTr: _fnAddTr,
		_fnNodeToDataIndex: _fnNodeToDataIndex,
		_fnNodeToColumnIndex: _fnNodeToColumnIndex,
		_fnGetCellData: _fnGetCellData,
		_fnSetCellData: _fnSetCellData,
		_fnSplitObjNotation: _fnSplitObjNotation,
		_fnGetObjectDataFn: _fnGetObjectDataFn,
		_fnSetObjectDataFn: _fnSetObjectDataFn,
		_fnGetDataMaster: _fnGetDataMaster,
		_fnClearTable: _fnClearTable,
		_fnDeleteIndex: _fnDeleteIndex,
		_fnInvalidate: _fnInvalidate,
		_fnGetRowElements: _fnGetRowElements,
		_fnCreateTr: _fnCreateTr,
		_fnBuildHead: _fnBuildHead,
		_fnDrawHead: _fnDrawHead,
		_fnDraw: _fnDraw,
		_fnReDraw: _fnReDraw,
		_fnAddOptionsHtml: _fnAddOptionsHtml,
		_fnDetectHeader: _fnDetectHeader,
		_fnGetUniqueThs: _fnGetUniqueThs,
		_fnFeatureHtmlFilter: _fnFeatureHtmlFilter,
		_fnFilterComplete: _fnFilterComplete,
		_fnFilterCustom: _fnFilterCustom,
		_fnFilterColumn: _fnFilterColumn,
		_fnFilter: _fnFilter,
		_fnFilterCreateSearch: _fnFilterCreateSearch,
		_fnEscapeRegex: _fnEscapeRegex,
		_fnFilterData: _fnFilterData,
		_fnFeatureHtmlInfo: _fnFeatureHtmlInfo,
		_fnUpdateInfo: _fnUpdateInfo,
		_fnInfoMacros: _fnInfoMacros,
		_fnInitialise: _fnInitialise,
		_fnInitComplete: _fnInitComplete,
		_fnLengthChange: _fnLengthChange,
		_fnFeatureHtmlLength: _fnFeatureHtmlLength,
		_fnFeatureHtmlPaginate: _fnFeatureHtmlPaginate,
		_fnPageChange: _fnPageChange,
		_fnFeatureHtmlProcessing: _fnFeatureHtmlProcessing,
		_fnProcessingDisplay: _fnProcessingDisplay,
		_fnFeatureHtmlTable: _fnFeatureHtmlTable,
		_fnScrollDraw: _fnScrollDraw,
		_fnApplyToChildren: _fnApplyToChildren,
		_fnCalculateColumnWidths: _fnCalculateColumnWidths,
		_fnThrottle: _fnThrottle,
		_fnConvertToWidth: _fnConvertToWidth,
		_fnGetWidestNode: _fnGetWidestNode,
		_fnGetMaxLenString: _fnGetMaxLenString,
		_fnStringToCss: _fnStringToCss,
		_fnSortFlatten: _fnSortFlatten,
		_fnSort: _fnSort,
		_fnSortAria: _fnSortAria,
		_fnSortListener: _fnSortListener,
		_fnSortAttachListener: _fnSortAttachListener,
		_fnSortingClasses: _fnSortingClasses,
		_fnSortData: _fnSortData,
		_fnSaveState: _fnSaveState,
		_fnLoadState: _fnLoadState,
		_fnSettingsFromNode: _fnSettingsFromNode,
		_fnLog: _fnLog,
		_fnMap: _fnMap,
		_fnBindAction: _fnBindAction,
		_fnCallbackReg: _fnCallbackReg,
		_fnCallbackFire: _fnCallbackFire,
		_fnLengthOverflow: _fnLengthOverflow,
		_fnRenderer: _fnRenderer,
		_fnDataSource: _fnDataSource,
		_fnRowAttributes: _fnRowAttributes,
		_fnCalculateEnd: function () {} // Used by a lot of plug-ins, but redundant
		                                // in 1.10, so this dead-end function is
		                                // added to prevent errors
	} );
	

	// jQuery access
	$.fn.dataTable = DataTable;

	// Provide access to the host jQuery object (circular reference)
	DataTable.$ = $;

	// Legacy aliases
	$.fn.dataTableSettings = DataTable.settings;
	$.fn.dataTableExt = DataTable.ext;

	// With a capital `D` we return a DataTables API instance rather than a
	// jQuery object
	$.fn.DataTable = function ( opts ) {
		return $(this).dataTable( opts ).api();
	};

	// All properties that are available to $.fn.dataTable should also be
	// available on $.fn.DataTable
	$.each( DataTable, function ( prop, val ) {
		$.fn.DataTable[ prop ] = val;
	} );


	// Information about events fired by DataTables - for documentation.
	/**
	 * Draw event, fired whenever the table is redrawn on the page, at the same
	 * point as fnDrawCallback. This may be useful for binding events or
	 * performing calculations when the table is altered at all.
	 *  @name DataTable#draw.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Search event, fired when the searching applied to the table (using the
	 * built-in global search, or column filters) is altered.
	 *  @name DataTable#search.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Page change event, fired when the paging of the table is altered.
	 *  @name DataTable#page.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Order event, fired when the ordering applied to the table is altered.
	 *  @name DataTable#order.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * DataTables initialisation complete event, fired when the table is fully
	 * drawn, including Ajax data loaded, if Ajax data is required.
	 *  @name DataTable#init.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The JSON object request from the server - only
	 *    present if client-side Ajax sourced data is used</li></ol>
	 */

	/**
	 * State save event, fired when the table has changed state a new state save
	 * is required. This event allows modification of the state saving object
	 * prior to actually doing the save, including addition or other state
	 * properties (for plug-ins) or modification of a DataTables core property.
	 *  @name DataTable#stateSaveParams.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The state information to be saved
	 */

	/**
	 * State load event, fired when the table is loading state from the stored
	 * data, but prior to the settings object being modified by the saved state
	 * - allowing modification of the saved state is required or loading of
	 * state for a plug-in.
	 *  @name DataTable#stateLoadParams.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The saved state information
	 */

	/**
	 * State loaded event, fired when state has been loaded from stored data and
	 * the settings object has been modified by the loaded data.
	 *  @name DataTable#stateLoaded.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The saved state information
	 */

	/**
	 * Processing event, fired when DataTables is doing some kind of processing
	 * (be it, order, searcg or anything else). It can be used to indicate to
	 * the end user that there is something happening, or that something has
	 * finished.
	 *  @name DataTable#processing.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {boolean} bShow Flag for if DataTables is doing processing or not
	 */

	/**
	 * Ajax (XHR) event, fired whenever an Ajax request is completed from a
	 * request to made to the server for new data. This event is called before
	 * DataTables processed the returned data, so it can also be used to pre-
	 * process the data returned from the server, if needed.
	 *
	 * Note that this trigger is called in `fnServerData`, if you override
	 * `fnServerData` and which to use this event, you need to trigger it in you
	 * success function.
	 *  @name DataTable#xhr.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 *  @param {object} json JSON returned from the server
	 *
	 *  @example
	 *     // Use a custom property returned from the server in another DOM element
	 *     $('#table').dataTable().on('xhr.dt', function (e, settings, json) {
	 *       $('#status').html( json.status );
	 *     } );
	 *
	 *  @example
	 *     // Pre-process the data returned from the server
	 *     $('#table').dataTable().on('xhr.dt', function (e, settings, json) {
	 *       for ( var i=0, ien=json.aaData.length ; i<ien ; i++ ) {
	 *         json.aaData[i].sum = json.aaData[i].one + json.aaData[i].two;
	 *       }
	 *       // Note no return - manipulate the data directly in the JSON object.
	 *     } );
	 */

	/**
	 * Destroy event, fired when the DataTable is destroyed by calling fnDestroy
	 * or passing the bDestroy:true parameter in the initialisation object. This
	 * can be used to remove bound events, added DOM nodes, etc.
	 *  @name DataTable#destroy.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Page length change event, fired when number of records to show on each
	 * page (the length) is changed.
	 *  @name DataTable#length.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 *  @param {integer} len New length
	 */

	/**
	 * Column sizing has changed.
	 *  @name DataTable#column-sizing.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Column visibility has changed.
	 *  @name DataTable#column-visibility.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 *  @param {int} column Column index
	 *  @param {bool} vis `false` if column now hidden, or `true` if visible
	 */

	return $.fn.dataTable;
}));

/*! DataTables Bootstrap 3 integration
 * 2011-2015 SpryMedia Ltd - datatables.net/license
 */

/**
 * DataTables integration for Bootstrap 3. This requires Bootstrap 3 and
 * DataTables 1.10 or newer.
 *
 * This file sets the defaults and adds options to DataTables to style its
 * controls using Bootstrap. See http://datatables.net/manual/styling/bootstrap
 * for further information.
 */
(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		// AMD
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		// CommonJS
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				// Require DataTables, which attaches to jQuery, including
				// jQuery if needed and have a $ property so we can access the
				// jQuery object that is used
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		// Browser
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;


/* Set the defaults for DataTables initialisation */
$.extend( true, DataTable.defaults, {
	dom:
		"<'row'<'col-sm-6'l><'col-sm-6'f>>" +
		"<'row'<'col-sm-12'tr>>" +
		"<'row'<'col-sm-5'i><'col-sm-7'p>>",
	renderer: 'bootstrap'
} );


/* Default class modification */
$.extend( DataTable.ext.classes, {
	sWrapper:      "dataTables_wrapper form-inline dt-bootstrap",
	sFilterInput:  "form-control input-sm",
	sLengthSelect: "form-control input-sm",
	sProcessing:   "dataTables_processing panel panel-default"
} );


/* Bootstrap paging button renderer */
DataTable.ext.renderer.pageButton.bootstrap = function ( settings, host, idx, buttons, page, pages ) {
	var api     = new DataTable.Api( settings );
	var classes = settings.oClasses;
	var lang    = settings.oLanguage.oPaginate;
	var aria = settings.oLanguage.oAria.paginate || {};
	var btnDisplay, btnClass, counter=0;

	var attach = function( container, buttons ) {
		var i, ien, node, button;
		var clickHandler = function ( e ) {
			e.preventDefault();
			if ( !$(e.currentTarget).hasClass('disabled') && api.page() != e.data.action ) {
				api.page( e.data.action ).draw( 'page' );
			}
		};

		for ( i=0, ien=buttons.length ; i<ien ; i++ ) {
			button = buttons[i];

			if ( $.isArray( button ) ) {
				attach( container, button );
			}
			else {
				btnDisplay = '';
				btnClass = '';

				switch ( button ) {
					case 'ellipsis':
						btnDisplay = '&#x2026;';
						btnClass = 'disabled';
						break;

					case 'first':
						btnDisplay = lang.sFirst;
						btnClass = button + (page > 0 ?
							'' : ' disabled');
						break;

					case 'previous':
						btnDisplay = lang.sPrevious;
						btnClass = button + (page > 0 ?
							'' : ' disabled');
						break;

					case 'next':
						btnDisplay = lang.sNext;
						btnClass = button + (page < pages-1 ?
							'' : ' disabled');
						break;

					case 'last':
						btnDisplay = lang.sLast;
						btnClass = button + (page < pages-1 ?
							'' : ' disabled');
						break;

					default:
						btnDisplay = button + 1;
						btnClass = page === button ?
							'active' : '';
						break;
				}

				if ( btnDisplay ) {
					node = $('<li>', {
							'class': classes.sPageButton+' '+btnClass,
							'id': idx === 0 && typeof button === 'string' ?
								settings.sTableId +'_'+ button :
								null
						} )
						.append( $('<a>', {
								'href': '#',
								'aria-controls': settings.sTableId,
								'aria-label': aria[ button ],
								'data-dt-idx': counter,
								'tabindex': settings.iTabIndex
							} )
							.html( btnDisplay )
						)
						.appendTo( container );

					settings.oApi._fnBindAction(
						node, {action: button}, clickHandler
					);

					counter++;
				}
			}
		}
	};

	// IE9 throws an 'unknown error' if document.activeElement is used
	// inside an iframe or frame. 
	var activeEl;

	try {
		// Because this approach is destroying and recreating the paging
		// elements, focus is lost on the select button which is bad for
		// accessibility. So we want to restore focus once the draw has
		// completed
		activeEl = $(host).find(document.activeElement).data('dt-idx');
	}
	catch (e) {}

	attach(
		$(host).empty().html('<ul class="pagination"/>').children('ul'),
		buttons
	);

	if ( activeEl ) {
		$(host).find( '[data-dt-idx='+activeEl+']' ).focus();
	}
};


return DataTable;
}));
// Ion.RangeSlider | version 2.1.4 | https://github.com/IonDen/ion.rangeSlider
;(function(g){"function"===typeof define&&define.amd?define(["jquery"],function(q){g(q,document,window,navigator)}):g(jQuery,document,window,navigator)})(function(g,q,h,t,v){var u=0,p=function(){var a=t.userAgent,b=/msie\s\d+/i;return 0<a.search(b)&&(a=b.exec(a).toString(),a=a.split(" ")[1],9>a)?(g("html").addClass("lt-ie9"),!0):!1}();Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,d=[].slice;if("function"!=typeof b)throw new TypeError;var c=d.call(arguments,1),e=function(){if(this instanceof
e){var f=function(){};f.prototype=b.prototype;var f=new f,l=b.apply(f,c.concat(d.call(arguments)));return Object(l)===l?l:f}return b.apply(a,c.concat(d.call(arguments)))};return e});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var d;if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),e=c.length>>>0;if(0===e)return-1;d=+b||0;Infinity===Math.abs(d)&&(d=0);if(d>=e)return-1;for(d=Math.max(0<=d?d:e-Math.abs(d),0);d<e;){if(d in c&&c[d]===a)return d;d++}return-1});
var r=function(a,b,d){this.VERSION="2.1.4";this.input=a;this.plugin_count=d;this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0;this.raf_id=this.old_min_interval=null;this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1;this.is_start=!0;this.is_click=this.is_resize=this.is_active=this.is_finish=!1;this.$cache={win:g(h),body:g(q.body),input:g(a),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,
s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,
p_single_fake:0,p_single_left:0};var c=this.$cache.input;a=c.prop("value");var e;d={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",
postfix:"",max_postfix:"",decorate_both:!0,values_separator:" \u2014 ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null};c={type:c.data("type"),min:c.data("min"),max:c.data("max"),from:c.data("from"),to:c.data("to"),step:c.data("step"),min_interval:c.data("minInterval"),max_interval:c.data("maxInterval"),drag_interval:c.data("dragInterval"),values:c.data("values"),from_fixed:c.data("fromFixed"),from_min:c.data("fromMin"),from_max:c.data("fromMax"),from_shadow:c.data("fromShadow"),
to_fixed:c.data("toFixed"),to_min:c.data("toMin"),to_max:c.data("toMax"),to_shadow:c.data("toShadow"),prettify_enabled:c.data("prettifyEnabled"),prettify_separator:c.data("prettifySeparator"),force_edges:c.data("forceEdges"),keyboard:c.data("keyboard"),keyboard_step:c.data("keyboardStep"),grid:c.data("grid"),grid_margin:c.data("gridMargin"),grid_num:c.data("gridNum"),grid_snap:c.data("gridSnap"),hide_min_max:c.data("hideMinMax"),hide_from_to:c.data("hideFromTo"),prefix:c.data("prefix"),postfix:c.data("postfix"),
max_postfix:c.data("maxPostfix"),decorate_both:c.data("decorateBoth"),values_separator:c.data("valuesSeparator"),input_values_separator:c.data("inputValuesSeparator"),disable:c.data("disable")};c.values=c.values&&c.values.split(",");for(e in c)c.hasOwnProperty(e)&&(c[e]||0===c[e]||delete c[e]);a&&(a=a.split(c.input_values_separator||b.input_values_separator||";"),a[0]&&a[0]==+a[0]&&(a[0]=+a[0]),a[1]&&a[1]==+a[1]&&(a[1]=+a[1]),b&&b.values&&b.values.length?(d.from=a[0]&&b.values.indexOf(a[0]),d.to=
a[1]&&b.values.indexOf(a[1])):(d.from=a[0]&&+a[0],d.to=a[1]&&+a[1]));g.extend(d,b);g.extend(d,c);this.options=d;this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};r.prototype={init:function(a){this.no_diapason=!1;this.coords.p_step=this.convertToPercent(this.options.step,!0);this.target="base";this.toggleInput();this.append();this.setMinMax();
a?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart());this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>');this.$cache.input.prop("readonly",!0);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>');
this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),
this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),
this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler());this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none");this.appendGrid();this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=
!1,this.bindEvents());this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var a=this.options.max,b=this.options.to;this.options.from>this.options.min&&b===a?this.$cache.s_from.addClass("type_last"):b<a&&this.$cache.s_to.addClass("type_last")},changeLevel:function(a){switch(a){case "single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case "from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);
this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case "to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case "both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-
this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>');this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+
this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);p&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count));this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(!this.no_diapason){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,
this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,
"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")));"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),
this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+
this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),
this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+
this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")));if(this.options.keyboard)this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"));p&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this)))}},
pointerMove:function(a){this.dragging&&(this.coords.x_pointer=(a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(a){if(this.current_plugin===this.plugin_count&&this.is_active){this.is_active=!1;this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=!0;p&&g("*").prop("unselectable",!1);this.updateScene();this.restoreOriginalMinInterval();if(g.contains(this.$cache.cont[0],a.target)||this.dragging)this.is_finish=
!0,this.callOnFinish();this.dragging=!1}},pointerDown:function(a,b){b.preventDefault();var d=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;2!==b.button&&("both"===a&&this.setTempMinInterval(),a||(a=this.target),this.current_plugin=this.plugin_count,this.target=a,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=d-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(a),p&&g("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),
this.updateScene())},pointerClick:function(a,b){b.preventDefault();var d=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;2!==b.button&&(this.current_plugin=this.plugin_count,this.target=a,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(d-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(a,b){if(!(this.current_plugin!==this.plugin_count||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)){switch(b.which){case 83:case 65:case 40:case 37:b.preventDefault();
this.moveByKey(!1);break;case 87:case 68:case 38:case 39:b.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(a){var b=this.coords.p_pointer,b=a?b+this.options.keyboard_step:b-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*b);this.is_key=!0;this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),
this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var a=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval);
this.options.min_interval=a},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(a){if(this.options){this.calc_count++;if(10===this.calc_count||a)this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent();if(this.coords.w_rs){this.calcPointerPercent();a=this.getHandleX();"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,a=this.getHandleX(),this.target=
this.options.drag_interval?"both_one":this.chooseHandle(a));switch(this.target){case "base":var b=(this.options.max-this.options.min)/100;a=(this.result.from-this.options.min)/b;b=(this.result.to-this.options.min)/b;this.coords.p_single_real=this.toFixed(a);this.coords.p_from_real=this.toFixed(a);this.coords.p_to_real=this.toFixed(b);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,
this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case "single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(a);this.coords.p_single_real=
this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case "from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(a);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real);
this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case "to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(a);this.coords.p_to_real=
this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);
break;case "both":if(this.options.from_fixed||this.options.to_fixed)break;a=this.toFixed(a+.1*this.coords.p_handle);this.coords.p_from_real=this.convertToRealPercent(a)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);
this.coords.p_to_real=this.convertToRealPercent(a)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case "both_one":if(!this.options.from_fixed&&!this.options.to_fixed){var d=this.convertToRealPercent(a);
a=this.result.to_percent-this.result.from_percent;var c=a/2,b=d-c,d=d+c;0>b&&(b=0,d=b+a);100<d&&(d=100,b=d-a);this.coords.p_from_real=this.calcWithStep(b);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(d);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=
this.convertToFakePercent(this.coords.p_to_real)}}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-
this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to]));this.calcMinMax();this.calcLabels()}}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?
this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(a){return a/(100-this.coords.p_handle)*100},convertToFakePercent:function(a){return a/100*(100-this.coords.p_handle)},getHandleX:function(){var a=100-this.coords.p_handle,b=this.toFixed(this.coords.p_pointer-this.coords.p_gap);0>b?b=0:b>a&&(b=a);return b},calcHandlePercent:function(){this.coords.w_handle=
"single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1);this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(a){return"single"===this.options.type?"single":a>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=
this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=
this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=
this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&
(cancelAnimationFrame(this.raf_id),this.raf_id=null);clearTimeout(this.update_tm);this.update_tm=null;this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1);if(this.coords.w_rs){this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0);if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)this.setMinMax(),
this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow();if(this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)){if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if("single"===this.options.type)this.$cache.s_single[0].style.left=
this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from);else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%";this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%";if(this.old_from!==this.result.from||this.force_redraw)this.$cache.from[0].style.left=this.labels.p_from_left+
"%";if(this.old_to!==this.result.to||this.force_redraw)this.$cache.to[0].style.left=this.labels.p_to_left+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%";this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to);this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}this.old_from===
this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change");this.old_from=this.result.from;this.old_to=this.result.to;this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange();if(this.is_key||this.is_click)this.is_click=this.is_key=!1,this.callOnFinish();this.is_finish=this.is_resize=this.is_update=!1}this.force_redraw=this.is_click=this.is_key=this.is_start=!1}}},drawLabels:function(){if(this.options){var a=this.options.values.length,
b=this.options.p_values,d;if(!this.options.hide_from_to)if("single"===this.options.type)a=a?this.decorate(b[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(a),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?"hidden":"visible";else{a?(this.options.decorate_both?
(a=this.decorate(b[this.result.from]),a+=this.options.values_separator,a+=this.decorate(b[this.result.to])):a=this.decorate(b[this.result.from]+this.options.values_separator+b[this.result.to]),d=this.decorate(b[this.result.from]),b=this.decorate(b[this.result.to])):(this.options.decorate_both?(a=this.decorate(this._prettify(this.result.from),this.result.from),a+=this.options.values_separator,a+=this.decorate(this._prettify(this.result.to),this.result.to)):a=this.decorate(this._prettify(this.result.from)+
this.options.values_separator+this._prettify(this.result.to),this.result.to),d=this.decorate(this._prettify(this.result.from),this.result.from),b=this.decorate(this._prettify(this.result.to),this.result.to));this.$cache.single.html(a);this.$cache.from.html(d);this.$cache.to.html(b);this.calcLabels();b=Math.min(this.labels.p_single_left,this.labels.p_from_left);a=this.labels.p_single_left+this.labels.p_single_fake;d=this.labels.p_to_left+this.labels.p_to_fake;var c=Math.max(a,d);this.labels.p_from_left+
this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",c=d):(this.$cache.from[0].style.visibility=
"hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=Math.max(a,d))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden");this.$cache.min[0].style.visibility=b<this.labels.p_min+1?"hidden":"visible";this.$cache.max[0].style.visibility=c>100-this.labels.p_max-1?"hidden":"visible"}}},drawShadow:function(){var a=this.options,b=this.$cache,d="number"===typeof a.from_min&&
!isNaN(a.from_min),c="number"===typeof a.from_max&&!isNaN(a.from_max),e="number"===typeof a.to_min&&!isNaN(a.to_min),f="number"===typeof a.to_max&&!isNaN(a.to_max);"single"===a.type?a.from_shadow&&(d||c)?(d=this.convertToPercent(d?a.from_min:a.min),c=this.convertToPercent(c?a.from_max:a.max)-d,d=this.toFixed(d-this.coords.p_handle/100*d),c=this.toFixed(c-this.coords.p_handle/100*c),d+=this.coords.p_handle/2,b.shad_single[0].style.display="block",b.shad_single[0].style.left=d+"%",b.shad_single[0].style.width=
c+"%"):b.shad_single[0].style.display="none":(a.from_shadow&&(d||c)?(d=this.convertToPercent(d?a.from_min:a.min),c=this.convertToPercent(c?a.from_max:a.max)-d,d=this.toFixed(d-this.coords.p_handle/100*d),c=this.toFixed(c-this.coords.p_handle/100*c),d+=this.coords.p_handle/2,b.shad_from[0].style.display="block",b.shad_from[0].style.left=d+"%",b.shad_from[0].style.width=c+"%"):b.shad_from[0].style.display="none",a.to_shadow&&(e||f)?(e=this.convertToPercent(e?a.to_min:a.min),a=this.convertToPercent(f?
a.to_max:a.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),a=this.toFixed(a-this.coords.p_handle/100*a),e+=this.coords.p_handle/2,b.shad_to[0].style.display="block",b.shad_to[0].style.left=e+"%",b.shad_to[0].style.width=a+"%"):b.shad_to[0].style.display="none")},callOnStart:function(){if(this.options.onStart&&"function"===typeof this.options.onStart)this.options.onStart(this.result)},callOnChange:function(){if(this.options.onChange&&"function"===typeof this.options.onChange)this.options.onChange(this.result)},
callOnFinish:function(){if(this.options.onFinish&&"function"===typeof this.options.onFinish)this.options.onFinish(this.result)},callOnUpdate:function(){if(this.options.onUpdate&&"function"===typeof this.options.onUpdate)this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(a,b){var d=this.options.max-this.options.min;return d?this.toFixed((b?a:a-this.options.min)/(d/100)):(this.no_diapason=!0,0)},convertToValue:function(a){var b=
this.options.min,d=this.options.max,c=b.toString().split(".")[1],e=d.toString().split(".")[1],f,l,g=0,k=0;if(0===a)return this.options.min;if(100===a)return this.options.max;c&&(g=f=c.length);e&&(g=l=e.length);f&&l&&(g=f>=l?f:l);0>b&&(k=Math.abs(b),b=+(b+k).toFixed(g),d=+(d+k).toFixed(g));a=(d-b)/100*a+b;(b=this.options.step.toString().split(".")[1])?a=+a.toFixed(b.length):(a/=this.options.step,a*=this.options.step,a=+a.toFixed(0));k&&(a-=k);k=b?+a.toFixed(b.length):this.toFixed(a);k<this.options.min?
k=this.options.min:k>this.options.max&&(k=this.options.max);return k},calcWithStep:function(a){var b=Math.round(a/this.coords.p_step)*this.coords.p_step;100<b&&(b=100);100===a&&(b=100);return this.toFixed(b)},checkMinInterval:function(a,b,d){var c=this.options;if(!c.min_interval)return a;a=this.convertToValue(a);b=this.convertToValue(b);"from"===d?b-a<c.min_interval&&(a=b-c.min_interval):a-b<c.min_interval&&(a=b+c.min_interval);return this.convertToPercent(a)},checkMaxInterval:function(a,b,d){var c=
this.options;if(!c.max_interval)return a;a=this.convertToValue(a);b=this.convertToValue(b);"from"===d?b-a>c.max_interval&&(a=b-c.max_interval):a-b>c.max_interval&&(a=b+c.max_interval);return this.convertToPercent(a)},checkDiapason:function(a,b,d){a=this.convertToValue(a);var c=this.options;"number"!==typeof b&&(b=c.min);"number"!==typeof d&&(d=c.max);a<b&&(a=b);a>d&&(a=d);return this.convertToPercent(a)},toFixed:function(a){a=a.toFixed(9);return+a},_prettify:function(a){return this.options.prettify_enabled?
this.options.prettify&&"function"===typeof this.options.prettify?this.options.prettify(a):this.prettify(a):a},prettify:function(a){return a.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(a,b){if(!this.options.force_edges)return this.toFixed(a);0>a?a=0:a>100-b&&(a=100-b);return this.toFixed(a)},validate:function(){var a=this.options,b=this.result,d=a.values,c=d.length,e,f;"string"===typeof a.min&&(a.min=+a.min);"string"===typeof a.max&&
(a.max=+a.max);"string"===typeof a.from&&(a.from=+a.from);"string"===typeof a.to&&(a.to=+a.to);"string"===typeof a.step&&(a.step=+a.step);"string"===typeof a.from_min&&(a.from_min=+a.from_min);"string"===typeof a.from_max&&(a.from_max=+a.from_max);"string"===typeof a.to_min&&(a.to_min=+a.to_min);"string"===typeof a.to_max&&(a.to_max=+a.to_max);"string"===typeof a.keyboard_step&&(a.keyboard_step=+a.keyboard_step);"string"===typeof a.grid_num&&(a.grid_num=+a.grid_num);a.max<a.min&&(a.max=a.min);if(c)for(a.p_values=
[],a.min=0,a.max=c-1,a.step=1,a.grid_num=a.max,a.grid_snap=!0,f=0;f<c;f++)e=+d[f],isNaN(e)?e=d[f]:(d[f]=e,e=this._prettify(e)),a.p_values.push(e);if("number"!==typeof a.from||isNaN(a.from))a.from=a.min;if("number"!==typeof a.to||isNaN(a.from))a.to=a.max;if("single"===a.type)a.from<a.min&&(a.from=a.min),a.from>a.max&&(a.from=a.max);else{if(a.from<a.min||a.from>a.max)a.from=a.min;if(a.to>a.max||a.to<a.min)a.to=a.max;a.from>a.to&&(a.from=a.to)}if("number"!==typeof a.step||isNaN(a.step)||!a.step||0>a.step)a.step=
1;if("number"!==typeof a.keyboard_step||isNaN(a.keyboard_step)||!a.keyboard_step||0>a.keyboard_step)a.keyboard_step=5;"number"===typeof a.from_min&&a.from<a.from_min&&(a.from=a.from_min);"number"===typeof a.from_max&&a.from>a.from_max&&(a.from=a.from_max);"number"===typeof a.to_min&&a.to<a.to_min&&(a.to=a.to_min);"number"===typeof a.to_max&&a.from>a.to_max&&(a.to=a.to_max);if(b){b.min!==a.min&&(b.min=a.min);b.max!==a.max&&(b.max=a.max);if(b.from<b.min||b.from>b.max)b.from=a.from;if(b.to<b.min||b.to>
b.max)b.to=a.to}if("number"!==typeof a.min_interval||isNaN(a.min_interval)||!a.min_interval||0>a.min_interval)a.min_interval=0;if("number"!==typeof a.max_interval||isNaN(a.max_interval)||!a.max_interval||0>a.max_interval)a.max_interval=0;a.min_interval&&a.min_interval>a.max-a.min&&(a.min_interval=a.max-a.min);a.max_interval&&a.max_interval>a.max-a.min&&(a.max_interval=a.max-a.min)},decorate:function(a,b){var d="",c=this.options;c.prefix&&(d+=c.prefix);d+=a;c.max_postfix&&(c.values.length&&a===c.p_values[c.max]?
(d+=c.max_postfix,c.postfix&&(d+=" ")):b===c.max&&(d+=c.max_postfix,c.postfix&&(d+=" ")));c.postfix&&(d+=c.postfix);return d},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);this.options.values&&(this.result.to_value=this.options.values[this.result.to])},
updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(this.options.grid){var a=this.options,b,d;b=a.max-a.min;var c=a.grid_num,e=0,f=0,g=4,h,k,m=0,n="";this.calcGridMargin();a.grid_snap?(c=b/a.step,e=this.toFixed(a.step/(b/100))):e=this.toFixed(100/c);4<c&&(g=3);7<c&&(g=2);14<c&&(g=1);28<c&&(g=0);for(b=0;b<c+1;b++){h=g;f=this.toFixed(e*b);100<f&&(f=100,h-=2,0>h&&(h=0));this.coords.big[b]=f;k=(f-e*(b-1))/
(h+1);for(d=1;d<=h&&0!==f;d++)m=this.toFixed(f-k*d),n+='<span class="irs-grid-pol small" style="left: '+m+'%"></span>';n+='<span class="irs-grid-pol" style="left: '+f+'%"></span>';m=this.convertToValue(f);m=a.values.length?a.p_values[m]:this._prettify(m);n+='<span class="irs-grid-text js-grid-text-'+b+'" style="left: '+f+'%">'+m+"</span>"}this.coords.big_num=Math.ceil(c+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(n);this.cacheGridLabels()}},cacheGridLabels:function(){var a,
b,d=this.coords.big_num;for(b=0;b<d;b++)a=this.$cache.grid.find(".js-grid-text-"+b),this.$cache.grid_labels.push(a);this.calcGridLabels()},calcGridLabels:function(){var a,b;b=[];var d=[],c=this.coords.big_num;for(a=0;a<c;a++)this.coords.big_w[a]=this.$cache.grid_labels[a].outerWidth(!1),this.coords.big_p[a]=this.toFixed(this.coords.big_w[a]/this.coords.w_rs*100),this.coords.big_x[a]=this.toFixed(this.coords.big_p[a]/2),b[a]=this.toFixed(this.coords.big[a]-this.coords.big_x[a]),d[a]=this.toFixed(b[a]+
this.coords.big_p[a]);this.options.force_edges&&(b[0]<-this.coords.grid_gap&&(b[0]=-this.coords.grid_gap,d[0]=this.toFixed(b[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),d[c-1]>100+this.coords.grid_gap&&(d[c-1]=100+this.coords.grid_gap,b[c-1]=this.toFixed(d[c-1]-this.coords.big_p[c-1]),this.coords.big_x[c-1]=this.toFixed(this.coords.big_p[c-1]-this.coords.grid_gap)));this.calcGridCollision(2,b,d);this.calcGridCollision(4,b,d);for(a=0;a<c;a++)b=this.$cache.grid_labels[a][0],
b.style.marginLeft=-this.coords.big_x[a]+"%"},calcGridCollision:function(a,b,d){var c,e,f,g=this.coords.big_num;for(c=0;c<g;c+=a){e=c+a/2;if(e>=g)break;f=this.$cache.grid_labels[e][0];f.style.visibility=d[c]<=b[e]?"visible":"hidden"}},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/
this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(a){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=g.extend(this.options,a),this.validate(),this.updateResult(a),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),
this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),g.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}};g.fn.ionRangeSlider=function(a){return this.each(function(){g.data(this,"ionRangeSlider")||g.data(this,"ionRangeSlider",new r(this,a,u++))})};(function(){for(var a=0,b=["ms","moz","webkit","o"],d=0;d<b.length&&!h.requestAnimationFrame;++d)h.requestAnimationFrame=h[b[d]+"RequestAnimationFrame"],h.cancelAnimationFrame=
h[b[d]+"CancelAnimationFrame"]||h[b[d]+"CancelRequestAnimationFrame"];h.requestAnimationFrame||(h.requestAnimationFrame=function(b,d){var f=(new Date).getTime(),g=Math.max(0,16-(f-a)),p=h.setTimeout(function(){b(f+g)},g);a=f+g;return p});h.cancelAnimationFrame||(h.cancelAnimationFrame=function(a){clearTimeout(a)})})()});

/*
    Validator v1.1.0
    (c) Yair Even Or
    https://github.com/yairEO/validator

    MIT-style license.
*/

var validator = (function($){
    var message, tests, checkField, validate, mark, unmark, field, minmax, defaults,
        validateWords, lengthRange, lengthLimit, pattern, alertTxt, data,
        email_illegalChars = /[\(\)\<\>\,\;\:\\\/\"\[\]]/,
        email_filter = /^.+@.+\..{2,6}$/;  // exmaple email "steve@s-i.photo"

    /* general text messages
    */
    message = {
        invalid         : 'invalid input',
        checked         : 'must be checked',
        empty           : 'please put something here',
        min             : 'input is too short',
        max             : 'input is too long',
        number_min      : 'too low',
        number_max      : 'too high',
        url             : 'invalid URL',
        number          : 'not a number',
        email           : 'email address is invalid',
        email_repeat    : 'emails do not match',
        password_repeat : 'passwords do not match',
        repeat          : 'no match',
        complete        : 'input is not complete',
        select          : 'Please select an option'
    };

    if(!window.console){
        console={};
        console.log=console.warn=function(){ return; }
    }

    // defaults
    defaults = {
        alerts  : true,
        classes : {
	        item    : 'item',
	        alert   : 'alert',
	        bad     : 'bad'
        }
    };

    /* Tests for each type of field (including Select element)
    */
    tests = {
        sameAsPlaceholder : function(a){
            return $.fn.placeholder && a.attr('placeholder') !== undefined && data.val == a.prop('placeholder');
        },
        hasValue : function(a){
            if( !a ){
                alertTxt = message.empty;
                return false;
            }
            return true;
        },
        // 'linked' is a special test case for inputs which their values should be equal to each other (ex. confirm email or retype password)
        linked : function(a,b){
            if( b != a ){
                // choose a specific message or a general one
                alertTxt = message[data.type + '_repeat'] || message.no_match;
                return false;
            }
            return true;
        },
        email : function(a){
            if ( !email_filter.test( a ) || a.match( email_illegalChars ) ){
                alertTxt = a ? message.email : message.empty;
                return false;
            }
            return true;
        },
        // a "skip" will skip some of the tests (needed for keydown validation)
        text : function(a, skip){
            // make sure there are at least X number of words, each at least 2 chars long.
            // for example 'john F kenedy' should be at least 2 words and will pass validation
            if( validateWords ){
                var words = a.split(' ');
                // iterrate on all the words
                var wordsLength = function(len){
                    for( var w = words.length; w--; )
                        if( words[w].length < len )
                            return false;
                    return true;
                };

                if( words.length < validateWords || !wordsLength(2) ){
                    alertTxt = message.complete;
                    return false;
                }
                return true;
            }
            if( !skip && lengthRange && a.length < lengthRange[0] ){
                alertTxt = message.min;
                return false;
            }

            // check if there is max length & field length is greater than the allowed
            if( lengthRange && lengthRange[1] && a.length > lengthRange[1] ){
                alertTxt = message.max;
                return false;
            }

            // check if the field's value should obey any length limits, and if so, make sure the length of the value is as specified
            if( lengthLimit && lengthLimit.length ){
                while( lengthLimit.length ){
                    if( lengthLimit.pop() == a.length ){
                        alertTxt = message.complete;
                        return false;
                    }
                }
            }

            if( pattern ){
                var regex, jsRegex;
                switch( pattern ){
                    case 'alphanumeric' :
                        regex = /^[a-zA-Z0-9]+$/i;
                        break;
                    case 'numeric' :
                        regex = /^[0-9]+$/i;
                        break;
                    case 'phone' :
                        regex = /^\+?([0-9]|[-|' '])+$/i;
                        break;
                    default :
                        regex = pattern;
                }
                try{
                    jsRegex = new RegExp(regex).test(a);
                    if( a && !jsRegex )
                        return false;
                }
                catch(err){
                    console.log(err, field, 'regex is invalid');
                    return false;
                }
            }

            return true;
        },
        number : function(a){
            // if not not a number
            if( isNaN(parseFloat(a)) && !isFinite(a) ){
                alertTxt = message.number;
                return false;
            }
            // not enough numbers
            else if( lengthRange && a.length < lengthRange[0] ){
                alertTxt = message.min;
                return false;
            }
            // check if there is max length & field length is greater than the allowed
            else if( lengthRange && lengthRange[1] && a.length > lengthRange[1] ){
                alertTxt = message.max;
                return false;
            }
            else if( minmax[0] && (a|0) < minmax[0] ){
                alertTxt = message.number_min;
                return false;
            }
            else if( minmax[1] && (a|0) > minmax[1] ){
                alertTxt = message.number_max;
                return false;
            }
            return true;
        },
        // Date is validated in European format (day,month,year)
        date : function(a){
            var day, A = a.split(/[-./]/g), i;
            // if there is native HTML5 support:
            if( field[0].valueAsNumber )
                return true;

            for( i = A.length; i--; ){
                if( isNaN(parseFloat(a)) && !isFinite(a) )
                    return false;
            }
            try{
                day = new Date(A[2], A[1]-1, A[0]);
                if( day.getMonth()+1 == A[1] && day.getDate() == A[0] )
                    return day;
                return false;
            }
            catch(er){
                console.log('date test: ', err);
                return false;
            }
        },
        url : function(a){
            // minimalistic URL validation
            function testUrl(url){
                return /^(https?:\/\/)?([\w\d\-_]+\.+[A-Za-z]{2,})+\/?/.test( url );
            }
            if( !testUrl( a ) ){
                alertTxt = a ? message.url : message.empty;
                return false;
            }
            return true;
        },
        hidden : function(a){
            if( lengthRange && a.length < lengthRange[0] ){
                alertTxt = message.min;
                return false;
            }
            if( pattern ){
                var regex;
                if( pattern == 'alphanumeric' ){
                    regex = /^[a-z0-9]+$/i;
                    if( !regex.test(a) ){
                        return false;
                    }
                }
            }
            return true;
        },
        select : function(a){
            if( !tests.hasValue(a) ){
                alertTxt = message.select;
                return false;
            }
            return true;
        }
    };

    /* marks invalid fields
    */
    mark = function( field, text ){
        if( !text || !field || !field.length )
            return false;

        // check if not already marked as a 'bad' record and add the 'alert' object.
        // if already is marked as 'bad', then make sure the text is set again because i might change depending on validation
        var item = field.closest('.' + defaults.classes.item),
            warning;

        if( item.hasClass(defaults.classes.bad) ){
            if( defaults.alerts )
                item.find('.'+defaults.classes.alert).html(text);
        }


        else if( defaults.alerts ){
            warning = $('<div class="'+ defaults.classes.alert +'">').html( text );
            item.append( warning );
        }

        item.removeClass(defaults.classes.bad);
        // a delay so the "alert" could be transitioned via CSS
        setTimeout(function(){
            item.addClass(defaults.classes.bad);
        }, 0);
    };
    /* un-marks invalid fields
    */
    unmark = function( field ){
        if( !field || !field.length ){
            console.warn('no "field" argument, null or DOM object not found');
            return false;
        }

        field.closest('.' + defaults.classes.item)
             .removeClass(defaults.classes.bad)
             .find('.'+ defaults.classes.alert).remove();
    };

    function testByType(type, value){
        if( type == 'tel' )
            pattern = pattern || 'phone';

        if( !type || type == 'password' || type == 'tel' || type == 'search' || type == 'file' )
            type = 'text';


        return tests[type] ? tests[type](value, true) : true;
    }

    function prepareFieldData(el){
        field = $(el);

        field.data( 'valid', true );                // initialize validity of field
        field.data( 'type', field.attr('type') );   // every field starts as 'valid=true' until proven otherwise
        pattern = field.attr('pattern');
    }

    /* Validations per-character keypress
    */
    function keypress(e){
        prepareFieldData(this);
        //  String.fromCharCode(e.charCode)

        if( e.charCode ){
            return testByType( this.type, this.value );
        }
    }

    /* Checks a single form field by it's type and specific (custom) attributes
    */
    function checkField(){
        // skip testing fields whom their type is not HIDDEN but they are HIDDEN via CSS.
        if( this.type !='hidden' && $(this).is(':hidden') )
            return true;

        prepareFieldData(this);

        field.data( 'val', field[0].value.replace(/^\s+|\s+$/g, "") );  // cache the value of the field and trim it
        data = field.data();

        // Check if there is a specific error message for that field, if not, use the default 'invalid' message
        alertTxt = message[field.prop('name')] || message.invalid;

        // Special treatment
        if( field[0].nodeName.toLowerCase() === "select" ){
            data.type = 'select';
        }
        else if( field[0].nodeName.toLowerCase() === "textarea" ){
            data.type = 'text';
        }
        /* Gather Custom data attributes for specific validation:
        */
        validateWords   = data['validateWords'] || 0;
        lengthRange     = data['validateLengthRange'] ? (data['validateLengthRange']+'').split(',') : [1];
        lengthLimit     = data['validateLength'] ? (data['validateLength']+'').split(',') : false;
        minmax          = data['validateMinmax'] ? (data['validateMinmax']+'').split(',') : ''; // for type 'number', defines the minimum and/or maximum for the value as a number.

        data.valid = tests.hasValue(data.val);

        if( field.hasClass('optional') && !data.valid )
            data.valid = true;


        // for checkboxes
        if( field[0].type === "checkbox" ){
            data.valid = field[0].checked;
            alertTxt = message.checked;
        }

        // check if field has any value
        else if( data.valid ){
            /* Validate the field's value is different than the placeholder attribute (and attribute exists)
            * this is needed when fixing the placeholders for older browsers which does not support them.
            * in this case, make sure the "placeholder" jQuery plugin was even used before proceeding
            */
            if( tests.sameAsPlaceholder(field) ){
                alertTxt = message.empty;
                data.valid = false;
            }

            // if this field is linked to another field (their values should be the same)
            if( data.validateLinked ){
                var linkedTo = data['validateLinked'].indexOf('#') == 0 ? $(data['validateLinked']) : $(':input[name=' + data['validateLinked'] + ']');
                data.valid = tests.linked( data.val, linkedTo.val() );
            }
            /* validate by type of field. use 'attr()' is proffered to get the actual value and not what the browsers sees for unsupported types.
            */
            else if( data.valid || data.type == 'select' )
                data.valid = testByType(data.type, data.val);

        }

        // mark / unmark the field, and set the general 'submit' flag accordingly
        if( data.valid )
            unmark( field );
        else{
            mark( field, alertTxt );
            submit = false;
        }

        return data.valid;
    }

    /* vaildates all the REQUIRED fields prior to submiting the form
    */
    function checkAll( $form ){
        $form = $($form);

        if( $form.length == 0 ){
            console.warn('element not found');
            return false;
        }

        var that = this,
            submit = true, // save the scope
            // get all the input/textareas/select fields which are required or optional (meaning, they need validation only if they were filled)
            fieldsToCheck = $form.find(':input').filter('[required=required], .required, .optional').not('[disabled=disabled]');

        fieldsToCheck.each(function(){
            // use an AND operation, so if any of the fields returns 'false' then the submitted result will be also FALSE
            submit = submit * checkField.apply(this);
        });

        return !!submit;  // casting the variable to make sure it's a boolean
    }

    return {
        defaults    : defaults,
        checkField  : checkField,
        keypress    : keypress,
        checkAll    : checkAll,
        mark        : mark,
        unmark      : unmark,
        message     : message,
        tests       : tests
    }
})(jQuery);
/*!
* Parsley.js
* Version 2.3.13 - built Tue, May 31st 2016, 8:55 am
* http://parsleyjs.org
* Guillaume Potier - <guillaume@wisembly.com>
* Marc-Andre Lafortune - <petroselinum@marc-andre.ca>
* MIT Licensed
*/
function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var _slice=Array.prototype.slice;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.parsley=t(e.jQuery)}(this,function(e){"use strict";function t(e,t){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(this),e.apply(t||R,i)}),e.parsleyAdaptedCallback}function i(e){return 0===e.lastIndexOf(q,0)?e.substr(q.length):e}/**
   * inputevent - Alleviate browser bugs for input events
   * https://github.com/marcandre/inputevent
   * @version v0.0.3 - (built Thu, Apr 14th 2016, 5:58 pm)
   * @author Marc-Andre Lafortune <github@marc-andre.ca>
   * @license MIT
   */
function n(){var t=this,i=window||global;e.extend(this,{isNativeEvent:function(e){return e.originalEvent&&e.originalEvent.isTrusted!==!1},fakeInputEvent:function(i){t.isNativeEvent(i)&&e(i.target).trigger("input")},misbehaves:function(i){t.isNativeEvent(i)&&(t.behavesOk(i),e(document).on("change.inputevent",i.data.selector,t.fakeInputEvent),t.fakeInputEvent(i))},behavesOk:function(i){t.isNativeEvent(i)&&e(document).off("input.inputevent",i.data.selector,t.behavesOk).off("change.inputevent",i.data.selector,t.misbehaves)},install:function(){if(!i.inputEventPatched){i.inputEventPatched="0.0.3";for(var n=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],r=0;r<n.length;r++){var s=n[r];e(document).on("input.inputevent",s,{selector:s},t.behavesOk).on("change.inputevent",s,{selector:s},t.misbehaves)}}},uninstall:function(){delete i.inputEventPatched,e(document).off(".inputevent")}})}var r=1,s={},a={attr:function(e,t,i){var n,r,s,a=new RegExp("^"+t,"i");if("undefined"==typeof i)i={};else for(n in i)i.hasOwnProperty(n)&&delete i[n];if("undefined"==typeof e||"undefined"==typeof e[0])return i;for(s=e[0].attributes,n=s.length;n--;)r=s[n],r&&r.specified&&a.test(r.name)&&(i[this.camelize(r.name.slice(t.length))]=this.deserializeValue(r.value));return i},checkAttr:function(e,t,i){return e.is("["+t+i+"]")},setAttr:function(e,t,i,n){e[0].setAttribute(this.dasherize(t+i),String(n))},generateID:function(){return""+r++},deserializeValue:function(t){var i;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(i=Number(t))?/^[\[\{]/.test(t)?e.parseJSON(t):t:i):t}catch(n){return t}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function(e){s[e]||(s[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){s={}},trimString:function(e){return e.replace(/^\s+|\s+$/g,"")},namespaceEvents:function(t,i){return t=this.trimString(t||"").split(/\s+/),t[0]?e.map(t,function(e){return e+"."+i}).join(" "):""},objectCreate:Object.create||function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var i=new e;return e.prototype=null,i}}()},o=a,l={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(e){},errorsContainer:function(e){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},u=function(){this.__id__=o.generateID()};u.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var t=this,i=function(){var i=e.Deferred();return!0!==t.validationResult&&i.reject(),i.resolve().promise()};return[i,i]},actualizeOptions:function(){return o.attr(this.$element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(e){this.domOptions=o.objectCreate(this.parent.options),this.options=o.objectCreate(this.domOptions);for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.actualizeOptions()},_listeners:null,on:function(e,t){this._listeners=this._listeners||{};var i=this._listeners[e]=this._listeners[e]||[];return i.push(t),this},subscribe:function(t,i){e.listenTo(this,t.toLowerCase(),i)},off:function(e,t){var i=this._listeners&&this._listeners[e];if(i)if(t)for(var n=i.length;n--;)i[n]===t&&i.splice(n,1);else delete this._listeners[e];return this},unsubscribe:function(t,i){e.unsubscribeTo(this,t.toLowerCase())},trigger:function(e,t,i){t=t||this;var n,r=this._listeners&&this._listeners[e];if(r)for(var s=r.length;s--;)if(n=r[s].call(t,t,i),n===!1)return n;return this.parent?this.parent.trigger(e,t,i):!0},reset:function(){if("ParsleyForm"!==this.__class__)return this._resetUI(),this._trigger("reset");for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function(){if(this._destroyUI(),"ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void this._trigger("destroy");for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},asyncIsValid:function(e,t){return o.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:t})},_findRelated:function(){return this.options.multiple?this.parent.$element.find("["+this.options.namespace+'multiple="'+this.options.multiple+'"]'):this.$element}};var d={string:function(e){return e},integer:function(e){if(isNaN(e))throw'Requirement is not an integer: "'+e+'"';return parseInt(e,10)},number:function(e){if(isNaN(e))throw'Requirement is not a number: "'+e+'"';return parseFloat(e)},reference:function(t){var i=e(t);if(0===i.length)throw'No such reference: "'+t+'"';return i},"boolean":function(e){return"false"!==e},object:function(e){return o.deserializeValue(e)},regexp:function(e){var t="";return/^\/.*\/(?:[gimy]*)$/.test(e)?(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):e="^"+e+"$",new RegExp(e,t)}},h=function(e,t){var i=e.match(/^\s*\[(.*)\]\s*$/);if(!i)throw'Requirement is not an array: "'+e+'"';var n=i[1].split(",").map(o.trimString);if(n.length!==t)throw"Requirement has "+n.length+" values when "+t+" are needed";return n},p=function(e,t){var i=d[e||"string"];if(!i)throw'Unknown requirement specification: "'+e+'"';return i(t)},c=function(e,t,i){var n=null,r={};for(var s in e)if(s){var a=i(s);"string"==typeof a&&(a=p(e[s],a)),r[s]=a}else n=p(e[s],t);return[n,r]},f=function(t){e.extend(!0,this,t)};f.prototype={validate:function(t,i){if(this.fn)return arguments.length>3&&(i=[].slice.call(arguments,1,-1)),this.fn.call(this,t,i);if(e.isArray(t)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}if(this.validateNumber)return isNaN(t)?!1:(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,i){if("string"!=typeof t)return e.isArray(t)?t:[t];var n=this.requirementType;if(e.isArray(n)){for(var r=h(t,n.length),s=0;s<r.length;s++)r[s]=p(n[s],r[s]);return r}return e.isPlainObject(n)?c(n,t,i):[p(n,t)]},requirementType:"string",priority:2};var m=function(e,t){this.__class__="ParsleyValidatorRegistry",this.locale="en",this.init(e||{},t||{})},g={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};g.range=g.number;var v=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0};m.prototype={init:function(t,i){this.catalog=i,this.validators=e.extend({},this.validators);for(var n in t)this.addValidator(n,t[n].fn,t[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(e){if("undefined"==typeof this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,i){return"object"==typeof t&&(this.catalog[e]=t),!0===i?this.setLocale(e):this},addMessage:function(e,t,i){return"undefined"==typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t]=i,this},addMessages:function(e,t){for(var i in t)this.addMessage(e,i,t[i]);return this},addValidator:function(e,t,i){if(this.validators[e])o.warn('Validator "'+e+'" is already defined.');else if(l.hasOwnProperty(e))return void o.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(e,t,i){return this.validators[e]?this._setValidator.apply(this,arguments):(o.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(e){return this.validators[e]||o.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function(e,t,i){"object"!=typeof t&&(t={fn:t,priority:i}),t.validate||(t=new f(t)),this.validators[e]=t;for(var n in t.messages||{})this.addMessage(n,e,t.messages[n]);return this},getErrorMessage:function(e){var t;if("type"===e.name){var i=this.catalog[this.locale][e.name]||{};t=i[e.requirements]}else t=this.formatMessage(this.catalog[this.locale][e.name],e.requirements);return t||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(e,t){if("object"==typeof t){for(var i in t)e=this.formatMessage(e,t[i]);return e}return"string"==typeof e?e.replace(/%s/i,t):""},validators:{notblank:{validateString:function(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function(e){return e.length>0},validateString:function(e){return/\S/.test(e)},priority:512},type:{validateString:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=i.step,r=void 0===n?"1":n,s=i.base,a=void 0===s?0:s,o=g[t];if(!o)throw new Error("validator type `"+t+"` is not supported");if(!o.test(e))return!1;if("number"===t&&!/^any$/i.test(r||"")){var l=Number(e),u=Math.max(v(r),v(a));if(v(l)>u)return!1;var d=function(e){return Math.round(e*Math.pow(10,u))};if((d(l)-d(a))%d(r)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(e,t){return t.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function(e,t){return e.length<=t},requirementType:"integer",priority:30},length:{validateString:function(e,t,i){return e.length>=t&&e.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(e,t){return e.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function(e,t,i){return e.length>=t&&e.length<=i},requirementType:["integer","integer"],priority:30},min:{validateNumber:function(e,t){return e>=t},requirementType:"number",priority:30},max:{validateNumber:function(e,t){return t>=e},requirementType:"number",priority:30},range:{validateNumber:function(e,t,i){return e>=t&&i>=e},requirementType:["number","number"],priority:30},equalto:{validateString:function(t,i){var n=e(i);return n.length?t===n.val():t===i},priority:256}}};var y={},_=function k(e,t,i){for(var n=[],r=[],s=0;s<e.length;s++){for(var a=!1,o=0;o<t.length;o++)if(e[s].assert.name===t[o].assert.name){a=!0;break}a?r.push(e[s]):n.push(e[s])}return{kept:r,added:n,removed:i?[]:k(t,e,!0).added}};y.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",'input[type="submit"], button[type="submit"]',function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.$element.attr("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!0!==t.validationResult&&t.validationResult.length>0&&"undefined"==typeof t.options.noFocus&&(this._focusedField=t.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},y.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var e=_(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var e=[],t=0;t<this.validationResult.length;t++)e.push(this.validationResult[t].errorMessage||this._getErrorMessage(this.validationResult[t].assert));return e},addError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=t.message,n=t.assert,r=t.updateClass,s=void 0===r?!0:r;this._buildUI(),this._addError(e,{message:i,assert:n}),s&&this._errorClass()},updateError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=t.message,n=t.assert,r=t.updateClass,s=void 0===r?!0:r;this._buildUI(),this._updateError(e,{message:i,assert:n}),s&&this._errorClass()},removeError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=t.updateClass,n=void 0===i?!0:i;this._buildUI(),this._removeError(e),n&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(e(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<t.removed.length;i++)this._removeError(t.removed[i].assert.name);for(i=0;i<t.added.length;i++)this._addError(t.added[i].assert.name,{message:t.added[i].errorMessage,assert:t.added[i].assert});for(i=0;i<t.kept.length;i++)this._updateError(t.kept[i].assert.name,{message:t.kept[i].errorMessage,assert:t.kept[i].assert})}},_addError:function(t,i){var n=i.message,r=i.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(e(this.options.errorTemplate).addClass("parsley-"+t).html(n||this._getErrorMessage(r)))},_updateError:function(e,t){var i=t.message,n=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(i||this._getErrorMessage(n))},_removeError:function(e){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function(e){var t=e.name+"Message";return"undefined"!=typeof this.options[t]?window.Parsley.formatMessage(this.options[t],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.$element.attr(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=e(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&e(this.options.classHandler).length)return e(this.options.classHandler);var t=this.options.classHandler.call(this,this);return"undefined"!=typeof t&&t.length?t:!this.options.multiple||this.$element.is("select")?this.$element:this.$element.parent()},_insertErrorWrapper:function(){var t;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof this.options.errorsContainer){if(e(this.options.errorsContainer).length)return e(this.options.errorsContainer).append(this._ui.$errorsWrapper);o.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof this.options.errorsContainer&&(t=this.options.errorsContainer.call(this,this));if("undefined"!=typeof t&&t.length)return t.append(this._ui.$errorsWrapper);var i=this.$element;return this.options.multiple&&(i=i.parent()),i.after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var e,t=this,i=this._findRelated();i.off(".Parsley"),this._failedOnce?i.on(o.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){t.validate()}):(e=o.namespaceEvents(this.options.trigger,"Parsley"))&&i.on(e,function(e){t._eventValidate(e)})},_eventValidate:function(e){(!/key|input/.test(e.type)||this._ui&&this._ui.validationInformationVisible||!(this.getValue().length<=this.options.validationThreshold))&&this.validate()},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var w=function(t,i,n){this.__class__="ParsleyForm",this.$element=e(t),this.domOptions=i,this.options=n,this.parent=window.Parsley,this.fields=[],this.validationResult=null},b={pending:null,resolved:!0,rejected:!1};w.prototype={onSubmitValidate:function(e){var t=this;if(!0!==e.parsley){var i=this._$submitSource||this.$element.find('input[type="submit"], button[type="submit"]').first();if(this._$submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!i.is("[formnovalidate]")){var n=this.whenValidate({event:e});"resolved"===n.state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===n.state()&&n.done(function(){t._submit(i)}))}}},onSubmitButton:function(t){this._$submitSource=e(t.target)},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var i=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===i.length&&(i=e('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),i.attr({name:t.attr("name"),value:t.attr("value")})}this.$element.trigger(e.extend(e.Event("submit"),{parsley:!0}))}},validate:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){o.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var i=_slice.call(arguments),n=i[0],r=i[1],s=i[2];t={group:n,force:r,event:s}}return b[this.whenValidate(t).state()]},whenValidate:function(){var t,i=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.group,s=n.force,a=n.event;this.submitEvent=a,a&&(this.submitEvent=e.extend({},a,{preventDefault:function(){o.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),i.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var l=this._withoutReactualizingFormOptions(function(){return e.map(i.fields,function(e){return e.whenValidate({force:s,group:r})})});return(t=e.when.apply(e,_toConsumableArray(l)).done(function(){i._trigger("success")}).fail(function(){i.validationResult=!1,i.focus(),i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){o.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var i=_slice.call(arguments),n=i[0],r=i[1];t={group:n,force:r}}return b[this.whenValid(t).state()]},whenValid:function(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.group,r=i.force;this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return e.map(t.fields,function(e){return e.whenValid({group:n,force:r})})});return e.when.apply(e,_toConsumableArray(s))},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this,i=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){t.$element.find(t.options.inputs).not(t.options.excluded).each(function(e,i){var n=new window.Parsley.Factory(i,{},t);"ParsleyField"!==n.__class__&&"ParsleyFieldMultiple"!==n.__class__||!0===n.options.excluded||"undefined"==typeof t.fieldsMappedById[n.__class__+"-"+n.__id__]&&(t.fieldsMappedById[n.__class__+"-"+n.__id__]=n,t.fields.push(n))}),e(i).not(t.fields).each(function(e,t){t._trigger("reset")})}),this},_withoutReactualizingFormOptions:function(e){var t=this.actualizeOptions;this.actualizeOptions=function(){return this};var i=e();return this.actualizeOptions=t,i},_trigger:function(e){return this.trigger("form:"+e)}};var F=function(t,i,n,r,s){if(!/ParsleyField/.test(t.__class__))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");var a=window.Parsley._validatorRegistry.validators[i],o=new f(a);e.extend(this,{validator:o,name:i,requirements:n,priority:r||t.options[i+"Priority"]||o.priority,isDomConstraint:!0===s}),this._parseRequirements(t.options)},C=function(e){var t=e[0].toUpperCase();return t+e.slice(1)};F.prototype={validate:function(e,t){var i;return(i=this.validator).validate.apply(i,[e].concat(_toConsumableArray(this.requirementList),[t]))},_parseRequirements:function(e){var t=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(i){return e[t.name+C(i)]})}};var $=function(t,i,n,r){this.__class__="ParsleyField",this.$element=e(t),"undefined"!=typeof r&&(this.parent=r),this.options=n,this.domOptions=i,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},x={pending:null,resolved:!0,rejected:!1};$.prototype={validate:function(t){arguments.length>=1&&!e.isPlainObject(t)&&(o.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var i=this.whenValidate(t);if(!i)return!0;switch(i.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var e,t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.force,r=i.group;return this.refreshConstraints(),!r||this._isInGroup(r)?(this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:n,value:this.value,_refreshed:!0}).always(function(){t._reflowUI()}).done(function(){t._trigger("success")}).fail(function(){t._trigger("error")}).always(function(){t._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))):void 0},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(e){return"undefined"==typeof e&&(e=this.getValue()),e.length||this._isRequired()||"undefined"!=typeof this.options.validateIfEmpty?!0:!1},_isInGroup:function(t){return e.isArray(this.options.group)?-1!==e.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){o.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var i=_slice.call(arguments),n=i[0],r=i[1];t={force:n,value:r}}var s=this.whenValid(t);return s?x[s.state()]:!0},whenValid:function(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.force,r=void 0===n?!1:n,s=i.value,a=i.group,o=i._refreshed;if(o||this.refreshConstraints(),!a||this._isInGroup(a)){if(this.validationResult=!0,!this.hasConstraints())return e.when();if(("undefined"==typeof s||null===s)&&(s=this.getValue()),!this.needsValidation(s)&&!0!==r)return e.when();var l=this._getGroupedConstraints(),u=[];return e.each(l,function(i,n){var r=e.when.apply(e,_toConsumableArray(e.map(n,function(e){return t._validateConstraint(s,e)})));return u.push(r),"rejected"===r.state()?!1:void 0}),e.when.apply(e,u)}},_validateConstraint:function(t,i){var n=this,r=i.validate(t,this);return!1===r&&(r=e.Deferred().reject()),e.when(r).fail(function(e){n.validationResult instanceof Array||(n.validationResult=[]),n.validationResult.push({assert:i,errorMessage:"string"==typeof e&&e})})},getValue:function(){var e;return e="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof e||null===e?"":this._handleWhitespace(e)},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(e,t,i,n){if(window.Parsley._validatorRegistry.validators[e]){var r=new F(this,e,t,i,n);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function(e,t,i){return this.removeConstraint(e).addConstraint(e,t,i)},_bindConstraints:function(){for(var e=[],t={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(e.push(this.constraints[i]),t[this.constraints[i].name]=this.constraints[i]);this.constraints=e,this.constraintsByName=t;for(var n in this.options)this.addConstraint(n,this.options[n],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0),"undefined"!=typeof this.$element.attr("minlength")&&"undefined"!=typeof this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],void 0,!0):"undefined"!=typeof this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),void 0,!0):"undefined"!=typeof this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),void 0,!0);var e=this.$element.attr("type");return"undefined"==typeof e?this:"number"===e?this.addConstraint("type",["number",{step:this.$element.attr("step"),base:this.$element.attr("min")||this.$element.attr("value")}],void 0,!0):/^(email|url|range)$/i.test(e)?this.addConstraint("type",e,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_trigger:function(e){return this.trigger("field:"+e)},_handleWhitespace:function(e){return!0===this.options.trimValue&&o.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),("trim"===this.options.whitespace||"squish"===this.options.whitespace||!0===this.options.trimValue)&&(e=o.trimString(e)),e},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],t={},i=0;i<this.constraints.length;i++){var n=this.constraints[i].priority;t[n]||e.push(t[n]=[]),t[n].push(this.constraints[i])}return e.sort(function(e,t){return t[0].priority-e[0].priority}),e}};var E=$,P=function(){this.__class__="ParsleyFieldMultiple"};P.prototype={addElement:function(e){return this.$elements.push(e),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var i=0;i<this.$elements.length;i++)if(e("html").has(this.$elements[i]).length){t=this.$elements[i].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<t.length;n++)this.addConstraint(t[n].name,t[n].requirements,t[n].priority,t[n].isDomConstraint)}else this.$elements.splice(i,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return this._findRelated().filter(":checked").val()||"";if(this.$element.is("input[type=checkbox]")){var t=[];return this._findRelated().filter(":checked").each(function(){t.push(e(this).val())}),t}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var V=function(t,i,n){this.$element=e(t);var r=this.$element.data("Parsley");if(r)return"undefined"!=typeof n&&r.parent===window.Parsley&&(r.parent=n,r._resetOptions(r.options)),r;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if("undefined"!=typeof n&&"ParsleyForm"!==n.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.parent=n||window.Parsley,this.init(i)};V.prototype={init:function(e){return this.__class__="Parsley",this.__version__="2.3.13",this.__id__=o.generateID(),this._resetOptions(e),this.$element.is("form")||o.checkAttr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(){var t,i,n=this;if(this.options.multiple||("undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?this.options.multiple=t=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(this.options.multiple=this.$element.attr("id"))),
this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return o.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),"undefined"!=typeof t&&e('input[name="'+t+'"]').each(function(t,i){e(i).is("input[type=radio], input[type=checkbox]")&&e(i).attr(n.options.namespace+"multiple",n.options.multiple)});for(var r=this._findRelated(),s=0;s<r.length;s++)if(i=e(r.get(s)).data("Parsley"),"undefined"!=typeof i){this.$element.data("ParsleyFieldMultiple")||i.addElement(this.$element);break}return this.bind("parsleyField",!0),i||this.bind("parsleyFieldMultiple")},bind:function(t,i){var n;switch(t){case"parsleyForm":n=e.extend(new w(this.$element,this.domOptions,this.options),new u,window.ParsleyExtend)._bindFields();break;case"parsleyField":n=e.extend(new E(this.$element,this.domOptions,this.options,this.parent),new u,window.ParsleyExtend);break;case"parsleyFieldMultiple":n=e.extend(new E(this.$element,this.domOptions,this.options,this.parent),new P,new u,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&o.setAttr(this.$element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof i?(this.$element.data("ParsleyFieldMultiple",n),n):(this.$element.data("Parsley",n),n._actualizeTriggers(),n._trigger("init"),n)}};var M=e.fn.jquery.split(".");if(parseInt(M[0])<=1&&parseInt(M[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";M.forEach||o.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var A=e.extend(new u,{$element:e(document),actualizeOptions:null,_resetOptions:null,Factory:V,version:"2.3.13"});e.extend(E.prototype,y.Field,u.prototype),e.extend(w.prototype,y.Form,u.prototype),e.extend(V.prototype,u.prototype),e.fn.parsley=e.fn.psly=function(t){if(this.length>1){var i=[];return this.each(function(){i.push(e(this).parsley(t))}),i}return e(this).length?new V(this,t):void o.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),A.options=e.extend(o.objectCreate(l),window.ParsleyConfig),window.ParsleyConfig=A.options,window.Parsley=window.psly=A,window.ParsleyUtils=o;var O=window.Parsley._validatorRegistry=new m(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},e.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(t,i){window.Parsley[i]=e.proxy(O,i),window.ParsleyValidator[i]=function(){var e;return o.warnOnce("Accessing the method '"+i+"' through ParsleyValidator is deprecated. Simply call 'window.Parsley."+i+"(...)'"),(e=window.Parsley)[i].apply(e,arguments)}}),window.Parsley.UI=y,window.ParsleyUI={removeError:function(e,t,i){var n=!0!==i;return o.warnOnce("Accessing ParsleyUI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(t,{updateClass:n})},getErrorsMessages:function(e){return o.warnOnce("Accessing ParsleyUI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},e.each("addError updateError".split(" "),function(e,t){window.ParsleyUI[t]=function(e,i,n,r,s){var a=!0!==s;return o.warnOnce("Accessing ParsleyUI is deprecated. Call '"+t+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e[t](i,{message:n,assert:r,updateClass:a})}}),!1!==window.ParsleyConfig.autoBind&&e(function(){e("[data-parsley-validate]").length&&e("[data-parsley-validate]").parsley()});var R=e({}),T=function(){o.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},q="parsley:";e.listen=function(e,n){var r;if(T(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(r=arguments[1],n=arguments[2]),"function"!=typeof n)throw new Error("Wrong parameters");window.Parsley.on(i(e),t(n,r))},e.listenTo=function(e,n,r){if(T(),!(e instanceof E||e instanceof w))throw new Error("Must give Parsley instance");if("string"!=typeof n||"function"!=typeof r)throw new Error("Wrong parameters");e.on(i(n),t(r))},e.unsubscribe=function(e,t){if(T(),"string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(i(e),t.parsleyAdaptedCallback)},e.unsubscribeTo=function(e,t){if(T(),!(e instanceof E||e instanceof w))throw new Error("Must give Parsley instance");e.off(i(t))},e.unsubscribeAll=function(t){T(),window.Parsley.off(i(t)),e("form,input,textarea,select").each(function(){var n=e(this).data("Parsley");n&&n.off(i(t))})},e.emit=function(e,t){var n;T();var r=t instanceof E||t instanceof w,s=Array.prototype.slice.call(arguments,r?2:1);s.unshift(i(e)),r||(t=window.Parsley),(n=t).trigger.apply(n,_toConsumableArray(s))};e.extend(!0,A,{asyncValidators:{"default":{fn:function(e){return e.status>=200&&e.status<300},url:!1},reverse:{fn:function(e){return e.status<200||e.status>=300},url:!1}},addAsyncValidator:function(e,t,i,n){return A.asyncValidators[e]={fn:t,url:i||!1,options:n||{}},this}}),A.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,i,n,r){var s,a,o={},l=n.validator||(!0===n.reverse?"reverse":"default");if("undefined"==typeof A.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");i=A.asyncValidators[l].url||i,i.indexOf("{value}")>-1?i=i.replace("{value}",encodeURIComponent(t)):o[r.$element.attr("name")||r.$element.attr("id")]=t;var u=e.extend(!0,n.options||{},A.asyncValidators[l].options);s=e.extend(!0,{},{url:i,data:o,type:"GET"},u),r.trigger("field:ajaxoptions",r,s),a=e.param(s),"undefined"==typeof A._remoteCache&&(A._remoteCache={});var d=A._remoteCache[a]=A._remoteCache[a]||e.ajax(s),h=function(){var t=A.asyncValidators[l].fn.call(r,d,i,n);return t||(t=e.Deferred().reject()),e.when(t)};return d.then(h,h)},priority:-1}),A.on("form:submit",function(){A._remoteCache={}}),window.ParsleyExtend.addAsyncValidator=function(){return ParsleyUtils.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),A.addAsyncValidator.apply(A,arguments)},A.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),A.setLocale("en");var D=new n;D.install();var I=A;return I});
//# sourceMappingURL=parsley.min.js.map

//! moment.js
//! version : 2.13.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return fd.apply(null,arguments)}function b(a){fd=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ja(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a),c=gd.call(b.parsedDateParts,function(a){return null!=a});a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),hd.length>0)for(c in hd)d=hd[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),id===!1&&(id=!0,a.updateOffset(this),id=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function u(b,c){var d=!0;return g(function(){return null!=a.deprecationHandler&&a.deprecationHandler(null,b),d&&(t(b+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),d=!1),c.apply(this,arguments)},c)}function v(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),jd[b]||(t(c),jd[b]=!0)}function w(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function x(a){return"[object Object]"===Object.prototype.toString.call(a)}function y(a){var b,c;for(c in a)b=a[c],w(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function z(a,b){var c,d=g({},a);for(c in b)f(b,c)&&(x(a[c])&&x(b[c])?(d[c]={},g(d[c],a[c]),g(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);return d}function A(a){null!=a&&this.set(a)}function B(a){return a?a.toLowerCase().replace("_","-"):a}function C(a){for(var b,c,d,e,f=0;f<a.length;){for(e=B(a[f]).split("-"),b=e.length,c=B(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=D(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function D(a){var b=null;if(!nd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=ld._abbr,require("./locale/"+a),E(b)}catch(c){}return nd[a]}function E(a,b){var c;return a&&(c=m(b)?H(a):F(a,b),c&&(ld=c)),ld._abbr}function F(a,b){return null!==b?(b.abbr=a,null!=nd[a]?(v("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),b=z(nd[a]._config,b)):null!=b.parentLocale&&(null!=nd[b.parentLocale]?b=z(nd[b.parentLocale]._config,b):v("parentLocaleUndefined","specified parentLocale is not defined yet")),nd[a]=new A(b),E(a),nd[a]):(delete nd[a],null)}function G(a,b){if(null!=b){var c;null!=nd[a]&&(b=z(nd[a]._config,b)),c=new A(b),c.parentLocale=nd[a],nd[a]=c,E(a)}else null!=nd[a]&&(null!=nd[a].parentLocale?nd[a]=nd[a].parentLocale:null!=nd[a]&&delete nd[a]);return nd[a]}function H(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ld;if(!c(a)){if(b=D(a))return b;a=[a]}return C(a)}function I(){return kd(nd)}function J(a,b){var c=a.toLowerCase();od[c]=od[c+"s"]=od[b]=a}function K(a){return"string"==typeof a?od[a]||od[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)f(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(b,c){return function(d){return null!=d?(O(this,b,d),a.updateOffset(this,c),this):N(this,b)}}function N(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function O(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function P(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=K(a),w(this[a]))return this[a](b);return this}function Q(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function R(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(sd[a]=e),b&&(sd[b[0]]=function(){return Q(e.apply(this,arguments),b[1],b[2])}),c&&(sd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function S(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function T(a){var b,c,d=a.match(pd);for(b=0,c=d.length;c>b;b++)sd[d[b]]?d[b]=sd[d[b]]:d[b]=S(d[b]);return function(b){var e,f="";for(e=0;c>e;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function U(a,b){return a.isValid()?(b=V(b,a.localeData()),rd[b]=rd[b]||T(b),rd[b](a)):a.localeData().invalidDate()}function V(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(qd.lastIndex=0;d>=0&&qd.test(a);)a=a.replace(qd,c),qd.lastIndex=0,d-=1;return a}function W(a,b,c){Kd[a]=w(b)?b:function(a,d){return a&&c?c:b}}function X(a,b){return f(Kd,a)?Kd[a](b._strict,b._locale):new RegExp(Y(a))}function Y(a){return Z(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Z(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)Ld[a[c]]=d}function _(a,b){$(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function aa(a,b,c){null!=b&&f(Ld,a)&&Ld[a](b,c._a,c,a)}function ba(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ca(a,b){return c(this._months)?this._months[a.month()]:this._months[Vd.test(b)?"format":"standalone"][a.month()]}function da(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Vd.test(b)?"format":"standalone"][a.month()]}function ea(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d)f=h([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=md.call(this._shortMonthsParse,g),-1!==e?e:null):(e=md.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?(e=md.call(this._shortMonthsParse,g),-1!==e?e:(e=md.call(this._longMonthsParse,g),-1!==e?e:null)):(e=md.call(this._longMonthsParse,g),-1!==e?e:(e=md.call(this._shortMonthsParse,g),-1!==e?e:null))}function fa(a,b,c){var d,e,f;if(this._monthsParseExact)return ea.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ga(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=r(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),ba(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ha(b){return null!=b?(ga(this,b),a.updateOffset(this,!0),this):N(this,"Month")}function ia(){return ba(this.year(),this.month())}function ja(a){return this._monthsParseExact?(f(this,"_monthsRegex")||la.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ka(a){return this._monthsParseExact?(f(this,"_monthsRegex")||la.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function la(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=Z(d[b]),e[b]=Z(e[b]),f[b]=Z(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ma(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[Nd]<0||c[Nd]>11?Nd:c[Od]<1||c[Od]>ba(c[Md],c[Nd])?Od:c[Pd]<0||c[Pd]>24||24===c[Pd]&&(0!==c[Qd]||0!==c[Rd]||0!==c[Sd])?Pd:c[Qd]<0||c[Qd]>59?Qd:c[Rd]<0||c[Rd]>59?Rd:c[Sd]<0||c[Sd]>999?Sd:-1,j(a)._overflowDayOfYear&&(Md>b||b>Od)&&(b=Od),j(a)._overflowWeeks&&-1===b&&(b=Td),j(a)._overflowWeekday&&-1===b&&(b=Ud),j(a).overflow=b),a}function na(a){var b,c,d,e,f,g,h=a._i,i=$d.exec(h)||_d.exec(h);if(i){for(j(a).iso=!0,b=0,c=be.length;c>b;b++)if(be[b][1].exec(i[1])){e=be[b][0],d=be[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=ce.length;c>b;b++)if(ce[b][1].exec(i[3])){f=(i[2]||" ")+ce[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!ae.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),Ca(a)}else a._isValid=!1}function oa(b){var c=de.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(na(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function pa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function qa(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ra(a){return sa(a)?366:365}function sa(a){return a%4===0&&a%100!==0||a%400===0}function ta(){return sa(this.year())}function ua(a,b,c){var d=7+b-c,e=(7+qa(a,0,d).getUTCDay()-b)%7;return-e+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=ra(f)+j):j>ra(a)?(f=a+1,g=j-ra(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(ra(a)-d+e)/7}function ya(a,b,c){return null!=a?a:null!=b?b:c}function za(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function Aa(a){var b,c,d,e,f=[];if(!a._d){for(d=za(a),a._w&&null==a._a[Od]&&null==a._a[Nd]&&Ba(a),a._dayOfYear&&(e=ya(a._a[Md],d[Md]),a._dayOfYear>ra(e)&&(j(a)._overflowDayOfYear=!0),c=qa(e,0,a._dayOfYear),a._a[Nd]=c.getUTCMonth(),a._a[Od]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Pd]&&0===a._a[Qd]&&0===a._a[Rd]&&0===a._a[Sd]&&(a._nextDay=!0,a._a[Pd]=0),a._d=(a._useUTC?qa:pa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Pd]=24)}}function Ba(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ya(b.GG,a._a[Md],wa(Ka(),1,4).year),d=ya(b.W,1),e=ya(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ya(b.gg,a._a[Md],wa(Ka(),f,g).year),d=ya(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>xa(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[Md]=h.year,a._dayOfYear=h.dayOfYear)}function Ca(b){if(b._f===a.ISO_8601)return void na(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=V(b._f,b._locale).match(pd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(X(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),sd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),aa(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[Pd]<=12&&b._a[Pd]>0&&(j(b).bigHour=void 0),j(b).parsedDateParts=b._a.slice(0),j(b).meridiem=b._meridiem,b._a[Pd]=Da(b._locale,b._a[Pd],b._meridiem),Aa(b),ma(b)}function Da(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function Ea(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],Ca(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function Fa(a){if(!a._d){var b=L(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),Aa(a)}}function Ga(a){var b=new o(ma(Ha(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ha(a){var b=a._i,e=a._f;return a._locale=a._locale||H(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(ma(b)):(c(e)?Ea(a):e?Ca(a):d(b)?a._d=b:Ia(a),k(a)||(a._d=null),a))}function Ia(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(f.valueOf()):"string"==typeof f?oa(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),Aa(b)):"object"==typeof f?Fa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ja(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Ga(f)}function Ka(a,b,c,d){return Ja(a,b,c,d,!1)}function La(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ka();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ma(){var a=[].slice.call(arguments,0);return La("isBefore",a)}function Na(){var a=[].slice.call(arguments,0);return La("isAfter",a)}function Oa(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=H(),this._bubble()}function Pa(a){return a instanceof Oa}function Qa(a,b){R(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+Q(~~(a/60),2)+b+Q(~~a%60,2)})}function Ra(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(ie)||["-",0,0],f=+(60*e[1])+r(e[2]);return"+"===e[0]?f:-f}function Sa(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?b.valueOf():Ka(b).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+f),a.updateOffset(e,!1),e):Ka(b).local()}function Ta(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ua(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=Ra(Hd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ta(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?jb(this,db(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ta(this):null!=b?this:NaN}function Va(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Wa(a){return this.utcOffset(0,a)}function Xa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ta(this),"m")),this}function Ya(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ra(Gd,this._i)),this}function Za(a){return this.isValid()?(a=a?Ka(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function $a(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _a(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ha(a),a._a){var b=a._isUTC?h(a._a):Ka(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ab(){return this.isValid()?!this._isUTC:!1}function bb(){return this.isValid()?this._isUTC:!1}function cb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function db(a,b){var c,d,e,g=a,h=null;return Pa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=je.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[Od])*c,h:r(h[Pd])*c,m:r(h[Qd])*c,s:r(h[Rd])*c,ms:r(h[Sd])*c}):(h=ke.exec(a))?(c="-"===h[1]?-1:1,g={y:eb(h[2],c),M:eb(h[3],c),w:eb(h[4],c),d:eb(h[5],c),h:eb(h[6],c),m:eb(h[7],c),s:eb(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=gb(Ka(g.from),Ka(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Oa(g),Pa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function eb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function fb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function gb(a,b){var c;return a.isValid()&&b.isValid()?(b=Sa(b,a),a.isBefore(b)?c=fb(a,b):(c=fb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function hb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function ib(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(v(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=db(c,d),jb(this,e,a),this}}function jb(b,c,d,e){var f=c._milliseconds,g=hb(c._days),h=hb(c._months);b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&O(b,"Date",N(b,"Date")+g*d),h&&ga(b,N(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function kb(a,b){var c=a||Ka(),d=Sa(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse",g=b&&(w(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ka(c)))}function lb(){return new o(this)}function mb(a,b){var c=p(a)?a:Ka(a);return this.isValid()&&c.isValid()?(b=K(m(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf()):!1}function nb(a,b){var c=p(a)?a:Ka(a);return this.isValid()&&c.isValid()?(b=K(m(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf()):!1}function ob(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function pb(a,b){var c,d=p(a)?a:Ka(a);return this.isValid()&&d.isValid()?(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf())):!1}function qb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function rb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function sb(a,b,c){var d,e,f,g;return this.isValid()?(d=Sa(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=tb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function tb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function ub(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function vb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?w(Date.prototype.toISOString)?this.toDate().toISOString():U(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function wb(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=U(this,b);return this.localeData().postformat(c)}function xb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ka(a).isValid())?db({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function yb(a){return this.from(Ka(),a)}function zb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ka(a).isValid())?db({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function Ab(a){return this.to(Ka(),a)}function Bb(a){var b;return void 0===a?this._locale._abbr:(b=H(a),null!=b&&(this._locale=b),this)}function Cb(){return this._locale}function Db(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function Eb(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function Fb(){return this._d.valueOf()-6e4*(this._offset||0)}function Gb(){return Math.floor(this.valueOf()/1e3)}function Hb(){return this._offset?new Date(this.valueOf()):this._d}function Ib(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Jb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Kb(){return this.isValid()?this.toISOString():null}function Lb(){return k(this)}function Mb(){return g({},j(this))}function Nb(){return j(this).overflow}function Ob(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Pb(a,b){R(0,[a,a.length],0,b)}function Qb(a){return Ub.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Rb(a){return Ub.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Sb(){return xa(this.year(),1,4)}function Tb(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ub(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Vb.call(this,a,b,c,d,e))}function Vb(a,b,c,d,e){var f=va(a,b,c,d,e),g=qa(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Wb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Xb(a){return wa(a,this._week.dow,this._week.doy).week}function Yb(){return this._week.dow}function Zb(){return this._week.doy}function $b(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function _b(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function ac(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function bc(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function cc(a){return this._weekdaysShort[a.day()]}function dc(a){return this._weekdaysMin[a.day()]}function ec(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d)f=h([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=md.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=md.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=md.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?(e=md.call(this._weekdaysParse,g),-1!==e?e:(e=md.call(this._shortWeekdaysParse,g),-1!==e?e:(e=md.call(this._minWeekdaysParse,g),-1!==e?e:null))):"ddd"===b?(e=md.call(this._shortWeekdaysParse,g),-1!==e?e:(e=md.call(this._weekdaysParse,g),-1!==e?e:(e=md.call(this._minWeekdaysParse,g),-1!==e?e:null))):(e=md.call(this._minWeekdaysParse,g),-1!==e?e:(e=md.call(this._weekdaysParse,g),-1!==e?e:(e=md.call(this._shortWeekdaysParse,g),-1!==e?e:null)))}function fc(a,b,c){var d,e,f;if(this._weekdaysParseExact)return ec.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=h([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function gc(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ac(a,this.localeData()),this.add(a-b,"d")):b}function hc(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function ic(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function jc(a){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||mc.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex}function kc(a){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||mc.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function lc(a){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||mc.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function mc(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],i=[],j=[],k=[];for(b=0;7>b;b++)c=h([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),i.push(e),j.push(f),k.push(d),k.push(e),k.push(f);for(g.sort(a),i.sort(a),j.sort(a),k.sort(a),b=0;7>b;b++)i[b]=Z(i[b]),j[b]=Z(j[b]),k[b]=Z(k[b]);this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function nc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function oc(){return this.hours()%12||12}function pc(){return this.hours()||24}function qc(a,b){R(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function rc(a,b){return b._meridiemParse}function sc(a){return"p"===(a+"").toLowerCase().charAt(0)}function tc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function uc(a,b){b[Sd]=r(1e3*("0."+a))}function vc(){return this._isUTC?"UTC":""}function wc(){return this._isUTC?"Coordinated Universal Time":""}function xc(a){return Ka(1e3*a)}function yc(){return Ka.apply(null,arguments).parseZone()}function zc(a,b,c){var d=this._calendar[a];return w(d)?d.call(b,c):d}function Ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function Bc(){return this._invalidDate}function Cc(a){return this._ordinal.replace("%d",a)}function Dc(a){return a}function Ec(a,b,c,d){var e=this._relativeTime[c];return w(e)?e(a,b,c,d):e.replace(/%d/i,a)}function Fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return w(c)?c(b):c.replace(/%s/i,b)}function Gc(a,b,c,d){var e=H(),f=h().set(d,b);return e[c](f,a)}function Hc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Gc(a,b,c,"month");var d,e=[];for(d=0;12>d;d++)e[d]=Gc(a,d,c,"month");return e}function Ic(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=H(),f=a?e._week.dow:0;if(null!=c)return Gc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;7>g;g++)h[g]=Gc(b,(g+f)%7,d,"day");return h}function Jc(a,b){return Hc(a,b,"months")}function Kc(a,b){return Hc(a,b,"monthsShort")}function Lc(a,b,c){return Ic(a,b,c,"weekdays")}function Mc(a,b,c){return Ic(a,b,c,"weekdaysShort")}function Nc(a,b,c){return Ic(a,b,c,"weekdaysMin")}function Oc(){var a=this._data;return this._milliseconds=Le(this._milliseconds),this._days=Le(this._days),this._months=Le(this._months),a.milliseconds=Le(a.milliseconds),a.seconds=Le(a.seconds),a.minutes=Le(a.minutes),a.hours=Le(a.hours),a.months=Le(a.months),a.years=Le(a.years),this}function Pc(a,b,c,d){var e=db(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Qc(a,b){return Pc(this,a,b,1)}function Rc(a,b){return Pc(this,a,b,-1)}function Sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Sc(Vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Uc(g)),h+=e,g-=Sc(Vc(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Uc(a){return 4800*a/146097}function Vc(a){return 146097*a/4800}function Wc(a){var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+Uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Yc(a){return function(){return this.as(a)}}function Zc(a){
return a=K(a),this[a+"s"]()}function $c(a){return function(){return this._data[a]}}function _c(){return q(this.days()/7)}function ad(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function bd(a,b,c){var d=db(a).abs(),e=_e(d.as("s")),f=_e(d.as("m")),g=_e(d.as("h")),h=_e(d.as("d")),i=_e(d.as("M")),j=_e(d.as("y")),k=e<af.s&&["s",e]||1>=f&&["m"]||f<af.m&&["mm",f]||1>=g&&["h"]||g<af.h&&["hh",g]||1>=h&&["d"]||h<af.d&&["dd",h]||1>=i&&["M"]||i<af.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,ad.apply(null,k)}function cd(a,b){return void 0===af[a]?!1:void 0===b?af[a]:(af[a]=b,!0)}function dd(a){var b=this.localeData(),c=bd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function ed(){var a,b,c,d=bf(this._milliseconds)/1e3,e=bf(this._days),f=bf(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var fd,gd;gd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;c>d;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var hd=a.momentProperties=[],id=!1,jd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var kd;kd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)f(a,b)&&c.push(b);return c};var ld,md,nd={},od={},pd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rd={},sd={},td=/\d/,ud=/\d\d/,vd=/\d{3}/,wd=/\d{4}/,xd=/[+-]?\d{6}/,yd=/\d\d?/,zd=/\d\d\d\d?/,Ad=/\d\d\d\d\d\d?/,Bd=/\d{1,3}/,Cd=/\d{1,4}/,Dd=/[+-]?\d{1,6}/,Ed=/\d+/,Fd=/[+-]?\d+/,Gd=/Z|[+-]\d\d:?\d\d/gi,Hd=/Z|[+-]\d\d(?::?\d\d)?/gi,Id=/[+-]?\d+(\.\d{1,3})?/,Jd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kd={},Ld={},Md=0,Nd=1,Od=2,Pd=3,Qd=4,Rd=5,Sd=6,Td=7,Ud=8;md=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),R("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),W("M",yd),W("MM",yd,ud),W("MMM",function(a,b){return b.monthsShortRegex(a)}),W("MMMM",function(a,b){return b.monthsRegex(a)}),$(["M","MM"],function(a,b){b[Nd]=r(a)-1}),$(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Nd]=e:j(c).invalidMonth=a});var Vd=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Wd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yd=Jd,Zd=Jd,$d=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,_d=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ae=/Z|[+-]\d\d(?::?\d\d)?/,be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],de=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=u("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),R("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),J("year","y"),W("Y",Fd),W("YY",yd,ud),W("YYYY",Cd,wd),W("YYYYY",Dd,xd),W("YYYYYY",Dd,xd),$(["YYYYY","YYYYYY"],Md),$("YYYY",function(b,c){c[Md]=2===b.length?a.parseTwoDigitYear(b):r(b)}),$("YY",function(b,c){c[Md]=a.parseTwoDigitYear(b)}),$("Y",function(a,b){b[Md]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var ee=M("FullYear",!0);a.ISO_8601=function(){};var fe=u("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ka.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),ge=u("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ka.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),he=function(){return Date.now?Date.now():+new Date};Qa("Z",":"),Qa("ZZ",""),W("Z",Hd),W("ZZ",Hd),$(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ra(Hd,a)});var ie=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var je=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,ke=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;db.fn=Oa.prototype;var le=ib(1,"add"),me=ib(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ne=u("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pb("gggg","weekYear"),Pb("ggggg","weekYear"),Pb("GGGG","isoWeekYear"),Pb("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),W("G",Fd),W("g",Fd),W("GG",yd,ud),W("gg",yd,ud),W("GGGG",Cd,wd),W("gggg",Cd,wd),W("GGGGG",Dd,xd),W("ggggg",Dd,xd),_(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),_(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),R("Q",0,"Qo","quarter"),J("quarter","Q"),W("Q",td),$("Q",function(a,b){b[Nd]=3*(r(a)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),W("w",yd),W("ww",yd,ud),W("W",yd),W("WW",yd,ud),_(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var oe={dow:0,doy:6};R("D",["DD",2],"Do","date"),J("date","D"),W("D",yd),W("DD",yd,ud),W("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),$(["D","DD"],Od),$("Do",function(a,b){b[Od]=r(a.match(yd)[0],10)});var pe=M("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),R("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),R("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),W("d",yd),W("e",yd),W("E",yd),W("dd",function(a,b){return b.weekdaysMinRegex(a)}),W("ddd",function(a,b){return b.weekdaysShortRegex(a)}),W("dddd",function(a,b){return b.weekdaysRegex(a)}),_(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),_(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),se="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),te=Jd,ue=Jd,ve=Jd;R("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),W("DDD",Bd),W("DDDD",vd),$(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,oc),R("k",["kk",2],0,pc),R("hmm",0,0,function(){return""+oc.apply(this)+Q(this.minutes(),2)}),R("hmmss",0,0,function(){return""+oc.apply(this)+Q(this.minutes(),2)+Q(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+Q(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+Q(this.minutes(),2)+Q(this.seconds(),2)}),qc("a",!0),qc("A",!1),J("hour","h"),W("a",rc),W("A",rc),W("H",yd),W("h",yd),W("HH",yd,ud),W("hh",yd,ud),W("hmm",zd),W("hmmss",Ad),W("Hmm",zd),W("Hmmss",Ad),$(["H","HH"],Pd),$(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),$(["h","hh"],function(a,b,c){b[Pd]=r(a),j(c).bigHour=!0}),$("hmm",function(a,b,c){var d=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d)),j(c).bigHour=!0}),$("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d,2)),b[Rd]=r(a.substr(e)),j(c).bigHour=!0}),$("Hmm",function(a,b,c){var d=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d))}),$("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d,2)),b[Rd]=r(a.substr(e))});var we=/[ap]\.?m?\.?/i,xe=M("Hours",!0);R("m",["mm",2],0,"minute"),J("minute","m"),W("m",yd),W("mm",yd,ud),$(["m","mm"],Qd);var ye=M("Minutes",!1);R("s",["ss",2],0,"second"),J("second","s"),W("s",yd),W("ss",yd,ud),$(["s","ss"],Rd);var ze=M("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),W("S",Bd,td),W("SS",Bd,ud),W("SSS",Bd,vd);var Ae;for(Ae="SSSS";Ae.length<=9;Ae+="S")W(Ae,Ed);for(Ae="S";Ae.length<=9;Ae+="S")$(Ae,uc);var Be=M("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Ce=o.prototype;Ce.add=le,Ce.calendar=kb,Ce.clone=lb,Ce.diff=sb,Ce.endOf=Eb,Ce.format=wb,Ce.from=xb,Ce.fromNow=yb,Ce.to=zb,Ce.toNow=Ab,Ce.get=P,Ce.invalidAt=Nb,Ce.isAfter=mb,Ce.isBefore=nb,Ce.isBetween=ob,Ce.isSame=pb,Ce.isSameOrAfter=qb,Ce.isSameOrBefore=rb,Ce.isValid=Lb,Ce.lang=ne,Ce.locale=Bb,Ce.localeData=Cb,Ce.max=ge,Ce.min=fe,Ce.parsingFlags=Mb,Ce.set=P,Ce.startOf=Db,Ce.subtract=me,Ce.toArray=Ib,Ce.toObject=Jb,Ce.toDate=Hb,Ce.toISOString=vb,Ce.toJSON=Kb,Ce.toString=ub,Ce.unix=Gb,Ce.valueOf=Fb,Ce.creationData=Ob,Ce.year=ee,Ce.isLeapYear=ta,Ce.weekYear=Qb,Ce.isoWeekYear=Rb,Ce.quarter=Ce.quarters=Wb,Ce.month=ha,Ce.daysInMonth=ia,Ce.week=Ce.weeks=$b,Ce.isoWeek=Ce.isoWeeks=_b,Ce.weeksInYear=Tb,Ce.isoWeeksInYear=Sb,Ce.date=pe,Ce.day=Ce.days=gc,Ce.weekday=hc,Ce.isoWeekday=ic,Ce.dayOfYear=nc,Ce.hour=Ce.hours=xe,Ce.minute=Ce.minutes=ye,Ce.second=Ce.seconds=ze,Ce.millisecond=Ce.milliseconds=Be,Ce.utcOffset=Ua,Ce.utc=Wa,Ce.local=Xa,Ce.parseZone=Ya,Ce.hasAlignedHourOffset=Za,Ce.isDST=$a,Ce.isDSTShifted=_a,Ce.isLocal=ab,Ce.isUtcOffset=bb,Ce.isUtc=cb,Ce.isUTC=cb,Ce.zoneAbbr=vc,Ce.zoneName=wc,Ce.dates=u("dates accessor is deprecated. Use date instead.",pe),Ce.months=u("months accessor is deprecated. Use month instead",ha),Ce.years=u("years accessor is deprecated. Use year instead",ee),Ce.zone=u("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Va);var De=Ce,Ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ge="Invalid date",He="%d",Ie=/\d{1,2}/,Je={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ke=A.prototype;Ke._calendar=Ee,Ke.calendar=zc,Ke._longDateFormat=Fe,Ke.longDateFormat=Ac,Ke._invalidDate=Ge,Ke.invalidDate=Bc,Ke._ordinal=He,Ke.ordinal=Cc,Ke._ordinalParse=Ie,Ke.preparse=Dc,Ke.postformat=Dc,Ke._relativeTime=Je,Ke.relativeTime=Ec,Ke.pastFuture=Fc,Ke.set=y,Ke.months=ca,Ke._months=Wd,Ke.monthsShort=da,Ke._monthsShort=Xd,Ke.monthsParse=fa,Ke._monthsRegex=Zd,Ke.monthsRegex=ka,Ke._monthsShortRegex=Yd,Ke.monthsShortRegex=ja,Ke.week=Xb,Ke._week=oe,Ke.firstDayOfYear=Zb,Ke.firstDayOfWeek=Yb,Ke.weekdays=bc,Ke._weekdays=qe,Ke.weekdaysMin=dc,Ke._weekdaysMin=se,Ke.weekdaysShort=cc,Ke._weekdaysShort=re,Ke.weekdaysParse=fc,Ke._weekdaysRegex=te,Ke.weekdaysRegex=jc,Ke._weekdaysShortRegex=ue,Ke.weekdaysShortRegex=kc,Ke._weekdaysMinRegex=ve,Ke.weekdaysMinRegex=lc,Ke.isPM=sc,Ke._meridiemParse=we,Ke.meridiem=tc,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=u("moment.lang is deprecated. Use moment.locale instead.",E),a.langData=u("moment.langData is deprecated. Use moment.localeData instead.",H);var Le=Math.abs,Me=Yc("ms"),Ne=Yc("s"),Oe=Yc("m"),Pe=Yc("h"),Qe=Yc("d"),Re=Yc("w"),Se=Yc("M"),Te=Yc("y"),Ue=$c("milliseconds"),Ve=$c("seconds"),We=$c("minutes"),Xe=$c("hours"),Ye=$c("days"),Ze=$c("months"),$e=$c("years"),_e=Math.round,af={s:45,m:45,h:22,d:26,M:11},bf=Math.abs,cf=Oa.prototype;cf.abs=Oc,cf.add=Qc,cf.subtract=Rc,cf.as=Wc,cf.asMilliseconds=Me,cf.asSeconds=Ne,cf.asMinutes=Oe,cf.asHours=Pe,cf.asDays=Qe,cf.asWeeks=Re,cf.asMonths=Se,cf.asYears=Te,cf.valueOf=Xc,cf._bubble=Tc,cf.get=Zc,cf.milliseconds=Ue,cf.seconds=Ve,cf.minutes=We,cf.hours=Xe,cf.days=Ye,cf.weeks=_c,cf.months=Ze,cf.years=$e,cf.humanize=dd,cf.toISOString=ed,cf.toString=ed,cf.toJSON=ed,cf.locale=Bb,cf.localeData=Cb,cf.toIsoString=u("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ed),cf.lang=ne,R("X",0,0,"unix"),R("x",0,0,"valueOf"),W("x",Fd),W("X",Id),$("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),$("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.13.0",b(Ka),a.fn=De,a.min=Ma,a.max=Na,a.now=he,a.utc=h,a.unix=xc,a.months=Jc,a.isDate=d,a.locale=E,a.invalid=l,a.duration=db,a.isMoment=p,a.weekdays=Lc,a.parseZone=yc,a.localeData=H,a.isDuration=Pa,a.monthsShort=Kc,a.weekdaysMin=Nc,a.defineLocale=F,a.updateLocale=G,a.locales=I,a.weekdaysShort=Mc,a.normalizeUnits=K,a.relativeTimeThreshold=cd,a.prototype=De;var df=a;return df});
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */

(function($) {

  // Cached vars
  var _iCheck = 'iCheck',
    _iCheckHelper = _iCheck + '-helper',
    _checkbox = 'checkbox',
    _radio = 'radio',
    _checked = 'checked',
    _unchecked = 'un' + _checked,
    _disabled = 'disabled',a
    _determinate = 'determinate',
    _indeterminate = 'in' + _determinate,
    _update = 'update',
    _type = 'type',
    _click = 'click',
    _touch = 'touchbegin.i touchend.i',
    _add = 'addClass',
    _remove = 'removeClass',
    _callback = 'trigger',
    _label = 'label',
    _cursor = 'cursor',
    _mobile = /ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);

  // Plugin init
  $.fn[_iCheck] = function(options, fire) {

    // Walker
    var handle = 'input[type="' + _checkbox + '"], input[type="' + _radio + '"]',
      stack = $(),
      walker = function(object) {
        object.each(function() {
          var self = $(this);

          if (self.is(handle)) {
            stack = stack.add(self);
          } else {
            stack = stack.add(self.find(handle));
          }
        });
      };

    // Check if we should operate with some method
    if (/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(options)) {

      // Normalize method's name
      options = options.toLowerCase();

      // Find checkboxes and radio buttons
      walker(this);

      return stack.each(function() {
        var self = $(this);

        if (options == 'destroy') {
          tidy(self, 'ifDestroyed');
        } else {
          operate(self, true, options);
        }

        // Fire method's callback
        if ($.isFunction(fire)) {
          fire();
        }
      });

    // Customization
    } else if (typeof options == 'object' || !options) {

      // Check if any options were passed
      var settings = $.extend({
          checkedClass: _checked,
          disabledClass: _disabled,
          indeterminateClass: _indeterminate,
          labelHover: true
        }, options),

        selector = settings.handle,
        hoverClass = settings.hoverClass || 'hover',
        focusClass = settings.focusClass || 'focus',
        activeClass = settings.activeClass || 'active',
        labelHover = !!settings.labelHover,
        labelHoverClass = settings.labelHoverClass || 'hover',

        // Setup clickable area
        area = ('' + settings.increaseArea).replace('%', '') | 0;

      // Selector limit
      if (selector == _checkbox || selector == _radio) {
        handle = 'input[type="' + selector + '"]';
      }

      // Clickable area limit
      if (area < -50) {
        area = -50;
      }

      // Walk around the selector
      walker(this);

      return stack.each(function() {
        var self = $(this);

        // If already customized
        tidy(self);

        var node = this,
          id = node.id,

          // Layer styles
          offset = -area + '%',
          size = 100 + (area * 2) + '%',
          layer = {
            position: 'absolute',
            top: offset,
            left: offset,
            display: 'block',
            width: size,
            height: size,
            margin: 0,
            padding: 0,
            background: '#fff',
            border: 0,
            opacity: 0
          },

          // Choose how to hide input
          hide = _mobile ? {
            position: 'absolute',
            visibility: 'hidden'
          } : area ? layer : {
            position: 'absolute',
            opacity: 0
          },

          // Get proper class
          className = node[_type] == _checkbox ? settings.checkboxClass || 'i' + _checkbox : settings.radioClass || 'i' + _radio,

          // Find assigned labels
          label = $(_label + '[for="' + id + '"]').add(self.closest(_label)),

          // Check ARIA option
          aria = !!settings.aria,

          // Set ARIA placeholder
          ariaID = _iCheck + '-' + Math.random().toString(36).substr(2,6),

          // Parent & helper
          parent = '<div class="' + className + '" ' + (aria ? 'role="' + node[_type] + '" ' : ''),
          helper;

        // Set ARIA "labelledby"
        if (aria) {
          label.each(function() {
            parent += 'aria-labelledby="';

            if (this.id) {
              parent += this.id;
            } else {
              this.id = ariaID;
              parent += ariaID;
            }

            parent += '"';
          });
        }

        // Wrap input
        parent = self.wrap(parent + '/>')[_callback]('ifCreated').parent().append(settings.insert);

        // Layer addition
        helper = $('<ins class="' + _iCheckHelper + '"/>').css(layer).appendTo(parent);

        // Finalize customization
        self.data(_iCheck, {o: settings, s: self.attr('style')}).css(hide);
        !!settings.inheritClass && parent[_add](node.className || '');
        !!settings.inheritID && id && parent.attr('id', _iCheck + '-' + id);
        parent.css('position') == 'static' && parent.css('position', 'relative');
        operate(self, true, _update);

        // Label events
        if (label.length) {
          label.on(_click + '.i mouseover.i mouseout.i ' + _touch, function(event) {
            var type = event[_type],
              item = $(this);

            // Do nothing if input is disabled
            if (!node[_disabled]) {

              // Click
              if (type == _click) {
                if ($(event.target).is('a')) {
                  return;
                }
                operate(self, false, true);

              // Hover state
              } else if (labelHover) {

                // mouseout|touchend
                if (/ut|nd/.test(type)) {
                  parent[_remove](hoverClass);
                  item[_remove](labelHoverClass);
                } else {
                  parent[_add](hoverClass);
                  item[_add](labelHoverClass);
                }
              }

              if (_mobile) {
                event.stopPropagation();
              } else {
                return false;
              }
            }
          });
        }

        // Input events
        self.on(_click + '.i focus.i blur.i keyup.i keydown.i keypress.i', function(event) {
          var type = event[_type],
            key = event.keyCode;

          // Click
          if (type == _click) {
            return false;

          // Keydown
          } else if (type == 'keydown' && key == 32) {
            if (!(node[_type] == _radio && node[_checked])) {
              if (node[_checked]) {
                off(self, _checked);
              } else {
                on(self, _checked);
              }
            }

            return false;

          // Keyup
          } else if (type == 'keyup' && node[_type] == _radio) {
            !node[_checked] && on(self, _checked);

          // Focus/blur
          } else if (/us|ur/.test(type)) {
            parent[type == 'blur' ? _remove : _add](focusClass);
          }
        });

        // Helper events
        helper.on(_click + ' mousedown mouseup mouseover mouseout ' + _touch, function(event) {
          var type = event[_type],

            // mousedown|mouseup
            toggle = /wn|up/.test(type) ? activeClass : hoverClass;

          // Do nothing if input is disabled
          if (!node[_disabled]) {

            // Click
            if (type == _click) {
              operate(self, false, true);

            // Active and hover states
            } else {

              // State is on
              if (/wn|er|in/.test(type)) {

                // mousedown|mouseover|touchbegin
                parent[_add](toggle);

              // State is off
              } else {
                parent[_remove](toggle + ' ' + activeClass);
              }

              // Label hover
              if (label.length && labelHover && toggle == hoverClass) {

                // mouseout|touchend
                label[/ut|nd/.test(type) ? _remove : _add](labelHoverClass);
              }
            }

            if (_mobile) {
              event.stopPropagation();
            } else {
              return false;
            }
          }
        });
      });
    } else {
      return this;
    }
  };

  // Do something with inputs
  function operate(input, direct, method) {
    var node = input[0],
      state = /er/.test(method) ? _indeterminate : /bl/.test(method) ? _disabled : _checked,
      active = method == _update ? {
        checked: node[_checked],
        disabled: node[_disabled],
        indeterminate: input.attr(_indeterminate) == 'true' || input.attr(_determinate) == 'false'
      } : node[state];

    // Check, disable or indeterminate
    if (/^(ch|di|in)/.test(method) && !active) {
      on(input, state);

    // Uncheck, enable or determinate
    } else if (/^(un|en|de)/.test(method) && active) {
      off(input, state);

    // Update
    } else if (method == _update) {

      // Handle states
      for (var each in active) {
        if (active[each]) {
          on(input, each, true);
        } else {
          off(input, each, true);
        }
      }

    } else if (!direct || method == 'toggle') {

      // Helper or label was clicked
      if (!direct) {
        input[_callback]('ifClicked');
      }

      // Toggle checked state
      if (active) {
        if (node[_type] !== _radio) {
          off(input, state);
        }
      } else {
        on(input, state);
      }
    }
  }

  // Add checked, disabled or indeterminate state
  function on(input, state, keep) {
    var node = input[0],
      parent = input.parent(),
      checked = state == _checked,
      indeterminate = state == _indeterminate,
      disabled = state == _disabled,
      callback = indeterminate ? _determinate : checked ? _unchecked : 'enabled',
      regular = option(input, callback + capitalize(node[_type])),
      specific = option(input, state + capitalize(node[_type]));

    // Prevent unnecessary actions
    if (node[state] !== true) {

      // Toggle assigned radio buttons
      if (!keep && state == _checked && node[_type] == _radio && node.name) {
        var form = input.closest('form'),
          inputs = 'input[name="' + node.name + '"]';

        inputs = form.length ? form.find(inputs) : $(inputs);

        inputs.each(function() {
          if (this !== node && $(this).data(_iCheck)) {
            off($(this), state);
          }
        });
      }

      // Indeterminate state
      if (indeterminate) {

        // Add indeterminate state
        node[state] = true;

        // Remove checked state
        if (node[_checked]) {
          off(input, _checked, 'force');
        }

      // Checked or disabled state
      } else {

        // Add checked or disabled state
        if (!keep) {
          node[state] = true;
        }

        // Remove indeterminate state
        if (checked && node[_indeterminate]) {
          off(input, _indeterminate, false);
        }
      }

      // Trigger callbacks
      callbacks(input, checked, state, keep);
    }

    // Add proper cursor
    if (node[_disabled] && !!option(input, _cursor, true)) {
      parent.find('.' + _iCheckHelper).css(_cursor, 'default');
    }

    // Add state class
    parent[_add](specific || option(input, state) || '');

    // Set ARIA attribute
    if (!!parent.attr('role') && !indeterminate) {
      parent.attr('aria-' + (disabled ? _disabled : _checked), 'true');
    }

    // Remove regular state class
    parent[_remove](regular || option(input, callback) || '');
  }

  // Remove checked, disabled or indeterminate state
  function off(input, state, keep) {
    var node = input[0],
      parent = input.parent(),
      checked = state == _checked,
      indeterminate = state == _indeterminate,
      disabled = state == _disabled,
      callback = indeterminate ? _determinate : checked ? _unchecked : 'enabled',
      regular = option(input, callback + capitalize(node[_type])),
      specific = option(input, state + capitalize(node[_type]));

    // Prevent unnecessary actions
    if (node[state] !== false) {

      // Toggle state
      if (indeterminate || !keep || keep == 'force') {
        node[state] = false;
      }

      // Trigger callbacks
      callbacks(input, checked, callback, keep);
    }

    // Add proper cursor
    if (!node[_disabled] && !!option(input, _cursor, true)) {
      parent.find('.' + _iCheckHelper).css(_cursor, 'pointer');
    }

    // Remove state class
    parent[_remove](specific || option(input, state) || '');

    // Set ARIA attribute
    if (!!parent.attr('role') && !indeterminate) {
      parent.attr('aria-' + (disabled ? _disabled : _checked), 'false');
    }

    // Add regular state class
    parent[_add](regular || option(input, callback) || '');
  }

  // Remove all traces
  function tidy(input, callback) {
    if (input.data(_iCheck)) {

      // Remove everything except input
      input.parent().html(input.attr('style', input.data(_iCheck).s || ''));

      // Callback
      if (callback) {
        input[_callback](callback);
      }

      // Unbind events
      input.off('.i').unwrap();
      $(_label + '[for="' + input[0].id + '"]').add(input.closest(_label)).off('.i');
    }
  }

  // Get some option
  function option(input, state, regular) {
    if (input.data(_iCheck)) {
      return input.data(_iCheck).o[state + (regular ? '' : 'Class')];
    }
  }

  // Capitalize some string
  function capitalize(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  // Executable handlers
  function callbacks(input, checked, callback, keep) {
    if (!keep) {
      if (checked) {
        input[_callback]('ifToggled');
      }

      input[_callback]('ifChanged')[_callback]('if' + capitalize(callback));
    }
  }
})(window.jQuery || window.Zepto);

/*! bootstrap-progressbar v0.9.0 | Copyright (c) 2012-2015 Stephan Gro | MIT license | http://www.minddust.com */
!function(t){"use strict";var e=function(n,s){this.$element=t(n),this.options=t.extend({},e.defaults,s)};e.defaults={transition_delay:300,refresh_speed:50,display_text:"none",use_percentage:!0,percent_format:function(t){return t+"%"},amount_format:function(t,e){return t+" / "+e},update:t.noop,done:t.noop,fail:t.noop},e.prototype.transition=function(){var n=this.$element,s=n.parent(),a=this.$back_text,r=this.$front_text,i=this.options,o=parseInt(n.attr("data-transitiongoal")),h=parseInt(n.attr("aria-valuemin"))||0,d=parseInt(n.attr("aria-valuemax"))||100,f=s.hasClass("vertical"),p=i.update&&"function"==typeof i.update?i.update:e.defaults.update,u=i.done&&"function"==typeof i.done?i.done:e.defaults.done,c=i.fail&&"function"==typeof i.fail?i.fail:e.defaults.fail;if(isNaN(o))return void c("data-transitiongoal not set");var l=Math.round(100*(o-h)/(d-h));if("center"===i.display_text&&!a&&!r){this.$back_text=a=t("<span>").addClass("progressbar-back-text").prependTo(s),this.$front_text=r=t("<span>").addClass("progressbar-front-text").prependTo(n);var g;f?(g=s.css("height"),a.css({height:g,"line-height":g}),r.css({height:g,"line-height":g}),t(window).resize(function(){g=s.css("height"),a.css({height:g,"line-height":g}),r.css({height:g,"line-height":g})})):(g=s.css("width"),r.css({width:g}),t(window).resize(function(){g=s.css("width"),r.css({width:g})}))}setTimeout(function(){var t,e,c,g,_;f?n.css("height",l+"%"):n.css("width",l+"%");var x=setInterval(function(){f?(c=n.height(),g=s.height()):(c=n.width(),g=s.width()),t=Math.round(100*c/g),e=Math.round(h+c/g*(d-h)),t>=l&&(t=l,e=o,u(n),clearInterval(x)),"none"!==i.display_text&&(_=i.use_percentage?i.percent_format(t):i.amount_format(e,d,h),"fill"===i.display_text?n.text(_):"center"===i.display_text&&(a.text(_),r.text(_))),n.attr("aria-valuenow",e),p(t,n)},i.refresh_speed)},i.transition_delay)};var n=t.fn.progressbar;t.fn.progressbar=function(n){return this.each(function(){var s=t(this),a=s.data("bs.progressbar"),r="object"==typeof n&&n;a&&r&&t.extend(a.options,r),a||s.data("bs.progressbar",a=new e(this,r)),a.transition()})},t.fn.progressbar.Constructor=e,t.fn.progressbar.noConflict=function(){return t.fn.progressbar=n,this}}(window.jQuery);
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echarts=e():t.echarts=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(2),i(85),i(79),i(90),i(165),i(283),i(272),i(293),i(248),i(244),i(240),i(279),i(288),i(226),i(231),i(237),i(268),i(261),i(36),i(178),i(198),i(308),i(305),i(214),i(189),i(168),i(321),i(184),i(183),i(312),i(190),i(206)},function(t,e,i){function n(t){if("object"==typeof t&&null!==t){var e=t;if(t instanceof Array){e=[];for(var i=0,o=t.length;o>i;i++)e[i]=n(t[i])}else if(!A(t)&&!I(t)){e={};for(var a in t)t.hasOwnProperty(a)&&(e[a]=n(t[a]))}return e}return t}function o(t,e,i){if(!M(e)||!M(t))return i?n(e):t;for(var a in e)if(e.hasOwnProperty(a)){var r=t[a],s=e[a];!M(s)||!M(r)||b(s)||b(r)||I(s)||I(r)||A(s)||A(r)?!i&&a in t||(t[a]=n(e[a],!0)):o(r,s,i)}return t}function a(t,e){for(var i=t[0],n=1,a=t.length;a>n;n++)i=o(i,t[n],e);return i}function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function s(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function l(){return document.createElement("canvas")}function h(){return D||(D=G.createCanvas().getContext("2d")),D}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function c(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var o in n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=e}function d(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,s(t,e,i)}function f(t){return t?"string"==typeof t?!1:"number"==typeof t.length:void 0}function p(t,e,i){if(t&&e)if(t.forEach&&t.forEach===O)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;o>n;n++)e.call(i,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function g(t,e,i){if(t&&e){if(t.map&&t.map===N)return t.map(e,i);for(var n=[],o=0,a=t.length;a>o;o++)n.push(e.call(i,t[o],o,t));return n}}function m(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===B)return t.reduce(e,i,n);for(var o=0,a=t.length;a>o;o++)i=e.call(n,i,t[o],o,t);return i}}function v(t,e,i){if(t&&e){if(t.filter&&t.filter===R)return t.filter(e,i);for(var n=[],o=0,a=t.length;a>o;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}}function y(t,e,i){if(t&&e)for(var n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n,t))return t[n]}function x(t,e){var i=V.call(arguments,2);return function(){return t.apply(e,i.concat(V.call(arguments)))}}function _(t){var e=V.call(arguments,1);return function(){return t.apply(this,e.concat(V.call(arguments)))}}function b(t){return"[object Array]"===z.call(t)}function w(t){return"function"==typeof t}function S(t){return"[object String]"===z.call(t)}function M(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function A(t){return!!k[z.call(t)]||t instanceof P}function I(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function T(t){for(var e=0,i=arguments.length;i>e;e++)if(null!=arguments[e])return arguments[e]}function L(){return Function.call.apply(V,arguments)}function C(t,e){if(!t)throw new Error(e)}var D,P=i(17),k={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},z=Object.prototype.toString,E=Array.prototype,O=E.forEach,R=E.filter,V=E.slice,N=E.map,B=E.reduce,G={inherits:c,mixin:d,clone:n,merge:o,mergeAll:a,extend:r,defaults:s,getContext:h,createCanvas:l,indexOf:u,slice:L,find:y,isArrayLike:f,each:p,map:g,reduce:m,filter:v,bind:x,curry:_,isArray:b,isString:S,isObject:M,isFunction:w,isBuildInObject:A,isDom:I,retrieve:T,assert:C,noop:function(){}};t.exports=G},function(t,e,i){function n(t){return function(e,i,n){e=e&&e.toLowerCase(),C.prototype[t].call(this,e,i,n)}}function o(){C.call(this)}function a(t,e,i){i=i||{},"string"==typeof e&&(e=W[e]),e&&D(F,function(t){t(e)}),this.id,this.group,this._dom=t,this._zr=A.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio}),this._theme=I.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new v(this),this._coordSysMgr=new y,C.call(this),this._messageCenter=new o,this._initEvents(),this.resize=I.bind(this.resize,this)}function r(t,e){var i=this._model;i&&i.eachComponent({mainType:"series",query:e},function(n,o){var a=this._chartsMap[n.__viewId];a&&a.__alive&&a[t](n,i,this._api,e)},this)}function s(t,e,i){var n=this._api;D(this._componentsViews,function(o){var a=o.__model;o[t](a,e,n,i),p(a,o)},this),e.eachSeries(function(o,a){var r=this._chartsMap[o.__viewId];r[t](o,e,n,i),p(o,r)},this)}function l(t,e){for(var i="component"===t,n=i?this._componentsViews:this._chartsViews,o=i?this._componentsMap:this._chartsMap,a=this._zr,r=0;r<n.length;r++)n[r].__alive=!1;e[i?"eachComponent":"eachSeries"](function(t,r){if(i){if("series"===t)return}else r=t;var s=r.id+"_"+r.type,l=o[s];if(!l){var h=_.parseClassType(r.type),u=i?w.getClass(h.main,h.sub):S.getClass(h.sub);if(!u)return;l=new u,l.init(e,this._api),o[s]=l,n.push(l),a.add(l.group)}r.__viewId=s,l.__alive=!0,l.__id=s,l.__model=r},this);for(var r=0;r<n.length;){var s=n[r];s.__alive?r++:(a.remove(s.group),s.dispose(e,this._api),n.splice(r,1),delete o[s.__id])}}function h(t,e){D(k,function(i){D(G[i]||[],function(i){i(t,e)})})}function u(t){var e={};t.eachSeries(function(t){var i=t.get("stack"),n=t.getData();if(i&&"list"===n.type){var o=e[i];o&&(n.stackedOn=o),e[i]=n}})}function c(t,e){var i=this._api;D(B,function(n){n(t,i,e)})}function d(t,e){D(P,function(i){D(H[i]||[],function(i){i(t,e)})})}function f(t,e){var i=this._api;D(this._componentsViews,function(n){var o=n.__model;n.render(o,t,i,e),p(o,n)},this),D(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(n,o){var a=this._chartsMap[n.__viewId];a.__alive=!0,a.render(n,t,i,e),a.group.silent=!!n.get("silent"),p(n,a)},this),D(this._chartsViews,function(e){e.__alive||e.remove(t,i)},this)}function p(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){null!=i&&(t.z=i),null!=n&&(t.zlevel=n)})}function g(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[a]=e}}var i=0,n=1,o=2,a="__connectUpdateStatus";I.each(N,function(r,s){t._messageCenter.on(s,function(r){if(q[t.group]&&t[a]!==i){var s=t.makeActionFromEvent(r),l=[];for(var h in Z){var u=Z[h];u!==t&&u.group===t.group&&l.push(u)}e(l,i),D(l,function(t){t[a]!==n&&t.dispatchAction(s)}),e(l,o)}})})}/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */
var m=i(111),v=i(78),y=i(23),x=i(112),_=i(10),b=i(13),w=i(54),S=i(26),M=i(3),A=i(68),I=i(1),T=i(22),L=i(14),C=i(21),D=I.each,P=["echarts","chart","component"],k=["transform","filter","statistic"];o.prototype.on=n("on"),o.prototype.off=n("off"),o.prototype.one=n("one"),I.mixin(o,C);var z=a.prototype;z.getDom=function(){return this._dom},z.getZr=function(){return this._zr},z.setOption=function(t,e,i){this._model&&!e||(this._model=new m(null,null,this._theme,new x(this._api))),this._model.setOption(t,F),E.prepareAndUpdate.call(this),!i&&this._zr.refreshImmediately()},z.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},z.getModel=function(){return this._model},z.getOption=function(){return this._model.getOption()},z.getWidth=function(){return this._zr.getWidth()},z.getHeight=function(){return this._zr.getHeight()},z.getRenderedCanvas=function(t){if(L.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,i=e.storage.getDisplayList();return I.each(i,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},z.getDataURL=function(t){t=t||{};var e=t.excludeComponents,i=this._model,n=[],o=this;D(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var a=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return D(n,function(t){t.group.ignore=!1}),a},z.getConnectedDataURL=function(t){if(L.canvasSupported){var e=this.group,i=Math.min,n=Math.max,o=1/0;if(q[e]){var a=o,r=o,s=-o,l=-o,h=[],u=t&&t.pixelRatio||1;for(var c in Z){var d=Z[c];if(d.group===e){var f=d.getRenderedCanvas(I.clone(t)),p=d.getDom().getBoundingClientRect();a=i(p.left,a),r=i(p.top,r),s=n(p.right,s),l=n(p.bottom,l),h.push({dom:f,left:p.left,top:p.top})}}a*=u,r*=u,s*=u,l*=u;var g=s-a,m=l-r,v=I.createCanvas();v.width=g,v.height=m;var y=A.init(v);return D(h,function(t){var e=new M.Image({style:{x:t.left*u-a,y:t.top*u-r,image:t.dom}});y.add(e)}),y.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}};var E={update:function(t){var e=this._model,i=this._api,n=this._coordSysMgr;if(e){e.restoreData(),n.create(this._model,this._api),h.call(this,e,i),u.call(this,e),n.update(e,i),c.call(this,e,t),d.call(this,e,t),f.call(this,e,t);var o=e.get("backgroundColor")||"transparent",a=this._zr.painter;if(a.isSingleCanvas&&a.isSingleCanvas())this._zr.configLayer(0,{clearColor:o});else{if(!L.canvasSupported){var r=T.parse(o);o=T.stringify(r,"rgb"),0===r[3]&&(o="transparent")}o=o,this._dom.style.backgroundColor=o}}},updateView:function(t){var e=this._model;e&&(c.call(this,e,t),d.call(this,e,t),s.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(d.call(this,e,t),s.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(c.call(this,e,t),s.call(this,"updateLayout",e,t))},highlight:function(t){r.call(this,"highlight",t)},downplay:function(t){r.call(this,"downplay",t)},prepareAndUpdate:function(t){var e=this._model;l.call(this,"component",e),l.call(this,"chart",e),E.update.call(this,t)}};z.resize=function(){this._zr.resize();var t=this._model&&this._model.resetOption("media");E[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize()};var O=i(110);z.showLoading=function(t,e){I.isObject(t)&&(e=t,t="default"),this.hideLoading();var i=O(this._api,e),n=this._zr;this._loadingFX=i,n.add(i)},z.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},z.makeActionFromEvent=function(t){var e=I.extend({},t);return e.type=N[t.type],e},z.dispatchAction=function(t,e){var i=V[t.type];if(i){var n=i.actionInfo,o=n.update||"update",a=[t],r=!1;t.batch&&(r=!0,a=I.map(t.batch,function(e){return e=I.defaults(I.extend({},e),t),e.batch=null,e}));for(var s,l=[],h="highlight"===t.type||"downplay"===t.type,u=0;u<a.length;u++){var c=a[u];s=i.action(c,this._model),s=s||I.extend({},c),s.type=n.event||s.type,l.push(s),h&&E[o].call(this,c)}"none"!==o&&!h&&E[o].call(this,t),e||(s=r?{type:n.event||t.type,batch:l}:l[0],this._messageCenter.trigger(s.type,s))}},z.on=n("on"),z.off=n("off"),z.one=n("one");var R=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];z._initEvents=function(){D(R,function(t){this._zr.on(t,function(e){var i=this.getModel(),n=e.target;if(n&&null!=n.dataIndex){var o=n.dataModel||i.getSeriesByIndex(n.seriesIndex),a=o&&o.getDataParams(n.dataIndex,n.dataType)||{};a.event=e,a.type=t,this.trigger(t,a)}else n&&n.eventData&&this.trigger(t,n.eventData)},this)},this),D(N,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},z.isDisposed=function(){return this._disposed},z.clear=function(){this.setOption({},!0)},z.dispose=function(){this._disposed=!0;var t=this._api,e=this._model;D(this._componentsViews,function(i){i.dispose(e,t)}),D(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete Z[this.id]},I.mixin(a,C);var V=[],N={},B=[],G={},F=[],H={},W={},Z={},q={},j=new Date-0,U=new Date-0,X="_echarts_instance_",Y={version:"3.1.10",dependencies:{zrender:"3.1.0"}};Y.init=function(t,e,i){if(A.version.replace(".","")-0<Y.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+A.version+" is too old for ECharts "+Y.version+". Current version need ZRender "+Y.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");var n=new a(t,e,i);return n.id="ec_"+j++,Z[n.id]=n,t.setAttribute&&t.setAttribute(X,n.id),g(n),n},Y.connect=function(t){if(I.isArray(t)){var e=t;t=null,I.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+U++,I.each(e,function(e){e.group=t})}return q[t]=!0,t},Y.disConnect=function(t){q[t]=!1},Y.dispose=function(t){I.isDom(t)?t=Y.getInstanceByDom(t):"string"==typeof t&&(t=Z[t]),t instanceof a&&!t.isDisposed()&&t.dispose()},Y.getInstanceByDom=function(t){var e=t.getAttribute(X);return Z[e]},Y.getInstanceById=function(t){return Z[t]},Y.registerTheme=function(t,e){W[t]=e},Y.registerPreprocessor=function(t){F.push(t)},Y.registerProcessor=function(t,e){if(I.indexOf(k,t)<0)throw new Error("stage should be one of "+k);var i=G[t]||(G[t]=[]);i.push(e)},Y.registerAction=function(t,e,i){"function"==typeof e&&(i=e,e="");var n=I.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,V[n]||(V[n]={action:i,actionInfo:t}),N[e]=n},Y.registerCoordinateSystem=function(t,e){y.register(t,e)},Y.registerLayout=function(t){I.indexOf(B,t)<0&&B.push(t)},Y.registerVisualCoding=function(t,e){if(I.indexOf(P,t)<0)throw new Error("stage should be one of "+P);var i=H[t]||(H[t]=[]);i.push(e)},Y.extendChartView=function(t){return S.extend(t)},Y.extendComponentModel=function(t){return _.extend(t)},Y.extendSeriesModel=function(t){return b.extend(t)},Y.extendComponentView=function(t){return w.extend(t)},Y.setCanvasCreator=function(t){I.createCanvas=t},Y.registerVisualCoding("echarts",I.curry(i(74),"","itemStyle")),Y.registerPreprocessor(i(119)),Y.registerAction({type:"highlight",event:"highlight",update:"highlight"},I.noop),Y.registerAction({type:"downplay",event:"downplay",update:"downplay"},I.noop),Y.graphic=i(3),Y.number=i(4),Y.format=i(9),Y.matrix=i(19),Y.vector=i(5),Y.util={},D(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(t){Y.util[t]=I[t]}),t.exports=Y},function(t,e,i){"use strict";function n(t){return null!=t&&"none"!=t}function o(t){return t instanceof S?t:_.lift(t,-.1)}function a(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,a=t.__hoverStl;a.fill=a.fill||(n(i)?o(i):null),a.stroke=a.stroke||(n(e)?o(e):null);var r={};for(var s in a)a.hasOwnProperty(s)&&(r[s]=t.style[s]);t.__normalStl=r,t.__hoverStlDirty=!1}}function r(t){t.__isHover||(a(t),t.setStyle(t.__hoverStl),t.z2+=1,t.__isHover=!0)}function s(t){if(t.__isHover){var e=t.__normalStl;e&&t.setStyle(e),t.z2-=1,t.__isHover=!1}}function l(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&r(t)}):r(t)}function h(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&s(t)}):s(t)}function u(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&a(t)}function c(){!this.__isEmphasis&&l(this)}function d(){!this.__isEmphasis&&h(this)}function f(){this.__isEmphasis=!0,l(this)}function p(){this.__isEmphasis=!1,h(this)}function g(t,e,i,n,o,a){"function"==typeof o&&(a=o,o=null);var r=t?"Update":"",s=n&&n.getShallow("animationDuration"+r),l=n&&n.getShallow("animationEasing"+r),h=n&&n.getShallow("animationDelay"+r);"function"==typeof h&&(h=h(o)),n&&n.getShallow("animation")?e.animateTo(i,s,h||0,l,a):(e.attr(i),a&&a())}var m=i(1),v=i(156),y=Math.round,x=i(6),_=i(22),b=i(19),w=i(5),S=i(17),M={};M.Group=i(27),M.Image=i(46),M.Text=i(66),M.Circle=i(147),M.Sector=i(153),M.Ring=i(152),M.Polygon=i(149),M.Polyline=i(150),M.Rect=i(151),M.Line=i(148),M.BezierCurve=i(146),M.Arc=i(145),M.CompoundPath=i(140),M.LinearGradient=i(76),M.RadialGradient=i(141),M.BoundingRect=i(8),M.extendShape=function(t){return x.extend(t)},M.extendPath=function(t,e){return v.extendFromString(t,e)},M.makePath=function(t,e,i,n){var o=v.createFromString(t,e),a=o.getBoundingRect();if(i){var r=a.width/a.height;if("center"===n){var s,l=i.height*r;l<=i.width?s=i.height:(l=i.width,s=l/r);var h=i.x+i.width/2,u=i.y+i.height/2;i.x=h-l/2,i.y=u-s/2,i.width=l,i.height=s}this.resizePath(o,i)}return o},M.mergePath=v.mergePath,M.resizePath=function(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}},M.subPixelOptimizeLine=function(t){var e=M.subPixelOptimize,i=t.shape,n=t.style.lineWidth;return y(2*i.x1)===y(2*i.x2)&&(i.x1=i.x2=e(i.x1,n,!0)),y(2*i.y1)===y(2*i.y2)&&(i.y1=i.y2=e(i.y1,n,!0)),t},M.subPixelOptimizeRect=function(t){var e=M.subPixelOptimize,i=t.shape,n=t.style.lineWidth,o=i.x,a=i.y,r=i.width,s=i.height;return i.x=e(i.x,n,!0),i.y=e(i.y,n,!0),i.width=Math.max(e(o+r,n,!1)-i.x,0===r?0:1),i.height=Math.max(e(a+s,n,!1)-i.y,0===s?0:1),t},M.subPixelOptimize=function(t,e,i){var n=y(2*t);return(n+y(e))%2===0?n/2:(n+(i?1:-1))/2},M.setHoverStyle=function(t,e){"group"===t.type?t.traverse(function(t){"group"!==t.type&&u(t,e)}):u(t,e),t.on("mouseover",c).on("mouseout",d),t.on("emphasis",f).on("normal",p)},M.setText=function(t,e,i){var n=e.getShallow("position")||"inside",o=n.indexOf("inside")>=0?"white":i,a=e.getModel("textStyle");m.extend(t,{textDistance:e.getShallow("distance")||5,textFont:a.getFont(),textPosition:n,textFill:a.getTextColor()||o})},M.updateProps=m.curry(g,!0),M.initProps=m.curry(g,!1),M.getTransform=function(t,e){for(var i=b.identity([]);t&&t!==e;)b.mul(i,t.getLocalTransform(),i),t=t.parent;return i},M.applyTransform=function(t,e,i){return i&&(e=b.invert([],e)),w.applyTransform([],t,e)},M.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0];return a=M.applyTransform(a,e,i),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"},t.exports=M},function(t,e){function i(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}var n={},o=1e-4;n.linearMap=function(t,e,i,n){var o=e[1]-e[0],a=i[1]-i[0];if(0===o)return 0===a?i[0]:(i[0]+i[1])/2;if(n)if(o>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*a+i[0]},n.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?i(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},n.round=function(t){return+(+t).toFixed(10)},n.asc=function(t){return t.sort(function(t,e){return t-e}),t},n.getPrecision=function(t){if(isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},n.getPixelPrecision=function(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),a=Math.round(i(Math.abs(e[1]-e[0]))/n);return Math.max(-o+a,0)},n.MAX_SAFE_INTEGER=9007199254740991,n.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},n.isRadianAroundZero=function(t){return t>-o&&o>t},n.parseDate=function(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):Math.round(t))},n.quantity=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},n.nice=function(t,e){var i,o=n.quantity(t),a=t/o;return i=e?1.5>a?1:2.5>a?2:4>a?3:7>a?5:10:1>a?1:2>a?2:3>a?3:5>a?5:10,i*o},t.exports=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,e){var n=new i(2);return n[0]=t||0,n[1]=e||0,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t,e,i){function n(t){var e=t.fill;return null!=e&&"none"!==e}function o(t){var e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0}function a(t){r.call(this,t),this.path=new l}var r=i(37),s=i(1),l=i(28),h=i(136),u=(i(17),Math.abs);a.prototype={constructor:a,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t){t.save();var e=this.style,i=this.path,a=o(e),r=n(e),s=r&&!!e.fill.colorStops,l=a&&!!e.stroke.colorStops;if(e.bind(t,this),this.setTransform(t),this.__dirtyPath){var h=this.getBoundingRect();s&&(this._fillGradient=e.getGradient(t,e.fill,h)),l&&(this._strokeGradient=e.getGradient(t,e.stroke,h))}s&&(t.fillStyle=this._fillGradient),l&&(t.strokeStyle=this._strokeGradient);var u=e.lineDash,c=e.lineDashOffset,d=!!t.setLineDash,f=this.getGlobalScale();i.setScale(f[0],f[1]),this.__dirtyPath||u&&!d&&a?(i=this.path.beginPath(t),u&&!d&&(i.setLineDash(u),i.setLineDashOffset(c)),this.buildPath(i,this.shape),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),r&&i.fill(t),u&&d&&(t.setLineDash(u),t.lineDashOffset=c),a&&i.stroke(t),null!=e.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()},buildPath:function(t,e){},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var a=this.path;this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape)),t=a.getBoundingRect()}if(this._rect=t,o(e)){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){r.copy(t);var s=e.lineWidth,l=e.strokeNoScale?this.getLineScale():1;n(e)||(s=Math.max(s,this.strokeContainThreshold)),l>1e-10&&(r.width+=s/l,r.height+=s/l,r.x-=s/l/2,r.y-=s/l/2)}return r}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),a=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],a.contain(t,e)){var s=this.path.data;if(o(r)){var l=r.lineWidth,u=r.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(n(r)||(l=Math.max(l,this.strokeContainThreshold)),h.containStroke(s,l/u,t,e)))return!0}if(n(r))return h.contain(s,t,e)}return!1},dirty:function(t){0===arguments.length&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?this.setShape(e):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(s.isObject(t))for(var n in t)i[n]=t[n];else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&u(t[0]-1)>1e-10&&u(t[3]-1)>1e-10?Math.sqrt(u(t[0]*t[3]-t[2]*t[1])):1}},a.extend=function(t){var e=function(e){a.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(n[o]=i[o])}t.init&&t.init.call(this,e)};s.inherits(e,a);for(var i in t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},s.inherits(a,r),t.exports=a},function(t,e,i){var n=i(9),o=i(4),a=i(1),r=["x","y","z","radius","angle"],s={};s.createNameEach=function(t,e){t=t.slice();var i=a.map(t,s.capitalFirst);e=(e||[]).slice();var n=a.map(e,s.capitalFirst);return function(o,r){a.each(t,function(t,a){for(var s={name:t,capital:i[a]},l=0;l<e.length;l++)s[e[l]]=t+n[l];o.call(r,s)})}},s.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},s.eachAxisDim=s.createNameEach(r,["axisIndex","axis","index"]),s.normalizeToArray=function(t){return a.isArray(t)?t:null==t?[]:[t]},s.createLinkedNodesFinder=function(t,e,i){function n(t,e){return a.indexOf(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){a.each(i(t,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),o}function r(t,n){n.nodes.push(t),e(function(e){a.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){function a(t){!n(t,s)&&o(t,s)&&(r(t,s),l=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!i)return s;r(i,s);var l;do l=!1,t(a);while(l);return s}},s.defaultEmphasis=function(t,e){if(t){var i=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{};a.each(e,function(t){var e=a.retrieve(i[t],n[t]);null!=e&&(i[t]=e)})}},s.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"],s.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},s.converDataValue=function(t,e){var i=e&&e.type;return"ordinal"===i?t:("time"!==i||isFinite(t)||null==t||"-"===t||(t=+o.parseDate(t)),null==t||""===t?NaN:+t)},s.dataFormatMixin={getDataParams:function(t,e){var i=this.getData(e),n=this.seriesIndex,o=this.name,a=this.getRawValue(t,e),r=i.getRawIndex(t),s=i.getName(t,!0),l=i.getRawDataItem(t);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:n,seriesName:o,name:s,dataIndex:r,data:l,dataType:e,value:a,color:i.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i,o){e=e||"normal";var r=this.getData(i),s=r.getItemModel(t),l=this.getDataParams(t,i);null!=o&&a.isArray(l.value)&&(l.value=l.value[o]);var h=s.get(["label",e,"formatter"]);return"function"==typeof h?(l.status=e,h(l)):"string"==typeof h?n.formatTpl(h,l):void 0},getRawValue:function(t,e){var i=this.getData(e),n=i.getRawDataItem(t);return null!=n?a.isObject(n)&&!a.isArray(n)?n.value:n:void 0},formatTooltip:a.noop},s.mappingToExists=function(t,e){e=(e||[]).slice();var i=a.map(t||[],function(t,e){return{exist:t}});return a.each(e,function(t,n){if(a.isObject(t))for(var o=0;o<i.length;o++){var r=i[o].exist;if(!i[o].option&&(null!=t.id&&r.id===t.id+""||null!=t.name&&!s.isIdInner(t)&&!s.isIdInner(r)&&r.name===t.name+"")){i[o].option=t,e[n]=null;break}}}),a.each(e,function(t,e){if(a.isObject(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option&&!s.isIdInner(o)&&null==t.id){i[n].option=t;break}}n>=i.length&&i.push({option:t})}}),i},s.isIdInner=function(t){return a.isObject(t)&&t.id&&0===(t.id+"").indexOf("\x00_ec_\x00")},t.exports=s},function(t,e,i){"use strict";function n(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}var o=i(5),a=i(19),r=o.applyTransform,s=Math.min,l=Math.abs,h=Math.max;n.prototype={constructor:n,union:function(t){var e=s(t.x,this.x),i=s(t.y,this.y);this.width=h(t.x+t.width,this.x+this.width)-e,this.height=h(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[];return function(i){i&&(t[0]=this.x,t[1]=this.y,e[0]=this.x+this.width,e[1]=this.y+this.height,r(t,t,i),r(e,e,i),this.x=s(t[0],e[0]),this.y=s(t[1],e[1]),this.width=l(e[0]-t[0]),this.height=l(e[1]-t[1]))}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=a.create();return a.translate(o,o,[-e.x,-e.y]),a.scale(o,o,[i,n]),a.translate(o,o,[t.x,t.y]),o},intersect:function(t){var e=this,i=e.x,n=e.x+e.width,o=e.y,a=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(r>n||i>s||l>a||o>h)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new n(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},t.exports=n},function(t,e,i){function n(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function o(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function a(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function r(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(t,e){return"{"+t+(null==e?"":e)+"}"}function l(t,e){c.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var n=e[0].$vars,o=0;o<n.length;o++){var a=f[o];t=t.replace(s(a),s(a,0))}for(var r=0;i>r;r++)for(var l=0;l<n.length;l++)t=t.replace(s(f[l],r),e[r][n[l]]);return t}function h(t,e){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=d.parseDate(e),n=i.getFullYear(),o=i.getMonth()+1,a=i.getDate(),r=i.getHours(),s=i.getMinutes(),l=i.getSeconds();return t=t.replace("MM",u(o)).toLowerCase().replace("yyyy",n).replace("yy",n%100).replace("dd",u(a)).replace("d",a).replace("hh",u(r)).replace("h",r).replace("mm",u(s)).replace("m",s).replace("ss",u(l)).replace("s",l)}function u(t){return 10>t?"0"+t:t}var c=i(1),d=i(4),f=["a","b","c","d","e","f","g"];t.exports={normalizeCssArray:a,addCommas:n,toCamelCase:o,encodeHTML:r,formatTpl:l,formatTime:h}},function(t,e,i){function n(t){var e=[];return a.each(u.getClassesByMainType(t),function(t){r.apply(e,t.prototype.dependencies||[])}),a.map(e,function(t){return l.parseClassType(t).main})}var o=i(12),a=i(1),r=Array.prototype.push,s=i(42),l=i(20),h=i(11),u=o.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(t,e,i,n){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?h.getLayoutParams(t):{},o=e.getTheme();a.merge(t,o.get(this.mainType)),a.merge(t,this.getDefaultOption()),i&&h.mergeLayoutParam(t,n,i)},mergeOption:function(t){a.merge(this.option,t,!0);var e=this.layoutMode;e&&h.mergeLayoutParam(this.option,t,e)},optionUpdated:function(t){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},o=t.length-1;o>=0;o--)n=a.merge(n,t[o],!0);this.__defaultOption=n}return this.__defaultOption}});l.enableClassExtend(u,function(t,e,i,n){a.extend(this,n),this.uid=s.getUID("componentModel")}),l.enableClassManagement(u,{registerWhenExtend:!0}),s.enableSubTypeDefaulter(u),s.enableTopologicalTravel(u,n),a.mixin(u,i(115)),t.exports=u},function(t,e,i){"use strict";function n(t,e,i,n,o){var a=0,r=0;null==n&&(n=1/0),null==o&&(o=1/0);var s=0;e.eachChild(function(l,h){var u,c,d=l.position,f=l.getBoundingRect(),p=e.childAt(h+1),g=p&&p.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);u=a+m,u>n||l.newline?(a=0,u=m,r+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);c=r+v,c>o||l.newline?(a+=s+i,r=0,c=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=a,d[1]=r,"horizontal"===t?a=u+i:r=c+i)})}var o=i(1),a=i(8),r=i(4),s=i(9),l=r.parsePercent,h=o.each,u={},c=["left","right","top","bottom","width","height"];u.box=n,u.vbox=o.curry(n,"vertical"),u.hbox=o.curry(n,"horizontal"),u.getAvailableSize=function(t,e,i){var n=e.width,o=e.height,a=l(t.x,n),r=l(t.y,o),h=l(t.x2,n),u=l(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(h)||isNaN(parseFloat(t.x2)))&&(h=n),(isNaN(r)||isNaN(parseFloat(t.y)))&&(r=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=o),i=s.normalizeCssArray(i||0),{width:Math.max(h-a-i[1]-i[3],0),height:Math.max(u-r-i[0]-i[2],0)}},u.getLayoutRect=function(t,e,i){i=s.normalizeCssArray(i||0);var n=e.width,o=e.height,r=l(t.left,n),h=l(t.top,o),u=l(t.right,n),c=l(t.bottom,o),d=l(t.width,n),f=l(t.height,o),p=i[2]+i[0],g=i[1]+i[3],m=t.aspect;switch(isNaN(d)&&(d=n-u-g-r),isNaN(f)&&(f=o-c-p-h),isNaN(d)&&isNaN(f)&&(m>n/o?d=.8*n:f=.8*o),null!=m&&(isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(r)&&(r=n-u-d-g),isNaN(h)&&(h=o-c-f-p),t.left||t.right){case"center":r=n/2-d/2-i[3];break;case"right":r=n-d-g}switch(t.top||t.bottom){case"middle":case"center":h=o/2-f/2-i[0];break;case"bottom":h=o-f-p}r=r||0,h=h||0,isNaN(d)&&(d=n-r-(u||0)),isNaN(f)&&(f=o-h-(c||0));var v=new a(r+i[3],h+i[0],d,f);return v.margin=i,v},u.positionGroup=function(t,e,i,n){var a=t.getBoundingRect();e=o.extend(o.clone(e),{width:a.width,height:a.height}),e=u.getLayoutRect(e,i,n),t.position=[e.x-a.x,e.y-a.y]},u.mergeLayoutParam=function(t,e,i){function n(n){var o={},s=0,l={},u=0,c=i.ignoreSize?1:2;if(h(n,function(e){l[e]=t[e]}),h(n,function(t){a(e,t)&&(o[t]=l[t]=e[t]),r(o,t)&&s++,r(l,t)&&u++}),u!==c&&s){if(s>=c)return o;for(var d=0;d<n.length;d++){var f=n[d];if(!a(o,f)&&a(t,f)){o[f]=t[f];break}}return o}return l}function a(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function s(t,e,i){h(t,function(t){e[t]=i[t]})}!o.isObject(i)&&(i={});var l=["width","left","right"],u=["height","top","bottom"],c=n(l),d=n(u);s(l,t,c),s(u,t,d)},u.getLayoutParams=function(t){return u.copyLayoutParams({},t)},u.copyLayoutParams=function(t,e){return e&&t&&h(c,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t},t.exports=u},function(t,e,i){function n(t,e,i,n){this.parentModel=e,this.ecModel=i,this.option=t,this.init&&(arguments.length<=4?this.init(t,e,i,n):this.init.apply(this,arguments))}var o=i(1),a=i(20);n.prototype={constructor:n,init:null,mergeOption:function(t){o.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var i=this.option,n=this.parentModel,o=0;o<t.length&&(!t[o]||(i=i&&"object"==typeof i?i[t[o]]:null,null!=i));o++);return null==i&&n&&!e&&(i=n.get(t)),i},getShallow:function(t,e){var i=this.option,n=i&&i[t],o=this.parentModel;return null==n&&o&&!e&&(n=o.getShallow(t)),n},getModel:function(t,e){var i=this.get(t,!0),o=this.parentModel,a=new n(i,e||o&&o.getModel(t),this.ecModel);return a},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(o.clone(this.option))},setReadOnly:function(t){a.setReadOnly(this,t)}},a.enableClassExtend(n);var r=o.mixin;r(n,i(117)),r(n,i(114)),r(n,i(118)),r(n,i(116)),t.exports=n},function(t,e,i){"use strict";var n=i(1),o=i(9),a=i(7),r=i(10),s=o.encodeHTML,l=o.addCommas,h=r.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,i),this._dataBeforeProcessed=this.getInitialData(t,i),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(t,e){n.merge(t,e.getTheme().get(this.subType)),n.merge(t,this.getDefaultOption()),a.defaultEmphasis(t.label,a.LABEL_OPTIONS),this.fillDataTextStyle(t.data)},mergeOption:function(t,e){t=n.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.getInitialData(t,e);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},fillDataTextStyle:function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&t[e].label&&a.defaultEmphasis(t[e].label,a.LABEL_OPTIONS)},getInitialData:function(){},getData:function(t){return null==t?this._data:this._data.getLinkedData(t)},setData:function(t){this._data=t},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i){var o=this._data,a=this.getRawValue(t),r=n.isArray(a)?n.map(a,l).join(", "):l(a),h=o.getName(t),u=o.getItemVisual(t,"color"),c='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+u+'"></span>',d=this.name;return"\x00-"===d&&(d=""),e?c+s(this.name)+" : "+r:(d&&s(d)+"<br />")+c+(h?s(h)+" : "+r:r)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getAxisTooltipDataIndex:null});n.mixin(h,a.dataFormatMixin),t.exports=h},function(t,e){function i(t){var e={},i={},n=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=t.match(/(Android);?[\s\/]+([\d.]+)?/),a=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),s=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),l=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=l&&t.match(/TouchPad/),u=t.match(/Kindle\/([\d.]+)/),c=t.match(/Silk\/([\d._]+)/),d=t.match(/(BlackBerry).*Version\/([\d.]+)/),f=t.match(/(BB10).*Version\/([\d.]+)/),p=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),v=t.match(/Firefox\/([\d.]+)/),y=n&&t.match(/Mobile\//)&&!m,x=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m,_=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),b=t.match(/Edge\/([\d.]+)/);return(i.webkit=!!n)&&(i.version=n[1]),o&&(e.android=!0,e.version=o[2]),s&&!r&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),a&&(e.ios=e.ipad=!0,e.version=a[2].replace(/_/g,".")),r&&(e.ios=e.ipod=!0,e.version=r[3]?r[3].replace(/_/g,"."):null),l&&(e.webos=!0,e.version=l[2]),h&&(e.touchpad=!0),d&&(e.blackberry=!0,e.version=d[2]),f&&(e.bb10=!0,e.version=f[2]),p&&(e.rimtabletos=!0,e.version=p[2]),g&&(i.playbook=!0),u&&(e.kindle=!0,e.version=u[1]),c&&(i.silk=!0,i.version=c[1]),!c&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),m&&(i.chrome=!0,i.version=m[1]),v&&(i.firefox=!0,i.version=v[1]),_&&(i.ie=!0,i.version=_[1]),y&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),x&&(i.webview=!0),_&&(i.ie=!0,i.version=_[1]),b&&(i.edge=!0,i.version=b[1]),e.tablet=!!(a||g||o&&!t.match(/Mobile/)||v&&t.match(/Tablet/)||_&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(o||s||l||d||f||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||v&&t.match(/Mobile/)||_&&t.match(/Touch/))),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=10)}}var n={};n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent),t.exports=n},function(t,e,i){(function(e){function n(t){return d.isArray(t)||(t=[t]),t}function o(t,e){var i=t.dimensions,n=new v(d.map(i,t.getDimensionInfo,t),t.hostModel);m(n,t);for(var o=n._storage={},a=t._storage,r=0;r<i.length;r++){var s=i[r],l=a[s];d.indexOf(e,s)>=0?o[s]=new l.constructor(a[s].length):o[s]=a[s];
}return n}var a="undefined",r="undefined"==typeof window?e:window,s=typeof r.Float64Array===a?Array:r.Float64Array,l=typeof r.Int32Array===a?Array:r.Int32Array,h={"float":s,"int":l,ordinal:Array,number:Array,time:Array},u=i(12),c=i(48),d=i(1),f=i(7),p=d.isObject,g=["stackedOn","_nameList","_idList","_rawData"],m=function(t,e){d.each(g.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods},v=function(t,e){t=t||["x","y"];for(var i={},n=[],o=0;o<t.length;o++){var a,r={};"string"==typeof t[o]?(a=t[o],r={name:a,stackable:!1,type:"number"}):(r=t[o],a=r.name,r.type=r.type||"number"),n.push(a),i[a]=r}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},y=v.prototype;y.type="list",y.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},y.getDimensionInfo=function(t){return d.clone(this._dimensionInfos[this.getDimension(t)])},y.initData=function(t,e,i){if(t=t||[],!d.isArray(t))throw new Error("Invalid data.");this._rawData=t;var n=this._storage={},o=this.indices=[],a=this.dimensions,r=t.length,s=this._dimensionInfos,l=[],u={};e=e||[];for(var c=0;c<a.length;c++){var p=s[a[c]],g=h[p.type];n[a[c]]=new g(r)}i=i||function(t,e,i,n){var o=f.getDataItemValue(t);return f.converDataValue(d.isArray(o)?o[n]:o,s[e])};for(var m=0;m<t.length;m++){for(var v=t[m],y=0;y<a.length;y++){var x=a[y],_=n[x];_[m]=i(v,x,m,y)}o.push(m)}for(var c=0;c<t.length;c++){var b="";e[c]||(e[c]=t[c].name,b=t[c].id);var w=e[c]||"";!b&&w&&(u[w]=u[w]||0,b=w,u[w]>0&&(b+="__ec__"+u[w]),u[w]++),b&&(l[c]=b)}this._nameList=e,this._idList=l},y.count=function(){return this.indices.length},y.get=function(t,e,i){var n=this._storage,o=this.indices[e];if(null==o)return NaN;var a=n[t]&&n[t][o];if(i){var r=this._dimensionInfos[t];if(r&&r.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(a>=0&&l>0||0>=a&&0>l)&&(a+=l),s=s.stackedOn}}return a},y.getValues=function(t,e,i){var n=[];d.isArray(t)||(i=e,e=t,t=this.dimensions);for(var o=0,a=t.length;a>o;o++)n.push(this.get(t[o],e,i));return n},y.hasValue=function(t){for(var e=this.dimensions,i=this._dimensionInfos,n=0,o=e.length;o>n;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},y.getDataExtent=function(t,e){var i=this._storage[t],n=this.getDimensionInfo(t);e=n&&n.stackable&&e;var o,a=(this._extent||(this._extent={}))[t+!!e];if(a)return a;if(i){for(var r=1/0,s=-(1/0),l=0,h=this.count();h>l;l++)o=this.get(t,l,e),r>o&&(r=o),o>s&&(s=o);return this._extent[t+e]=[r,s]}return[1/0,-(1/0)]},y.getSum=function(t,e){var i=this._storage[t],n=0;if(i)for(var o=0,a=this.count();a>o;o++){var r=this.get(t,o,e);isNaN(r)||(n+=r)}return n},y.indexOf=function(t,e){var i=this._storage,n=i[t],o=this.indices;if(n)for(var a=0,r=o.length;r>a;a++){var s=o[a];if(n[s]===e)return a}return-1},y.indexOfName=function(t){for(var e=this.indices,i=this._nameList,n=0,o=e.length;o>n;n++){var a=e[n];if(i[a]===t)return n}return-1},y.indexOfNearest=function(t,e,i){var n=this._storage,o=n[t];if(o){for(var a=Number.MAX_VALUE,r=-1,s=0,l=this.count();l>s;s++){var h=e-this.get(t,s,i),u=Math.abs(h);(a>u||u===a&&h>0)&&(a=u,r=s)}return r}return-1},y.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},y.getRawDataItem=function(t){return this._rawData[this.getRawIndex(t)]},y.getName=function(t){return this._nameList[this.indices[t]]||""},y.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},y.each=function(t,e,i,o){"function"==typeof t&&(o=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var a=[],r=t.length,s=this.indices;o=o||this;for(var l=0;l<s.length;l++)if(0===r)e.call(o,l);else if(1===r)e.call(o,this.get(t[0],l,i),l);else{for(var h=0;r>h;h++)a[h]=this.get(t[h],l,i);a[h]=l,e.apply(o,a)}},y.filterSelf=function(t,e,i,o){"function"==typeof t&&(o=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var a=[],r=[],s=t.length,l=this.indices;o=o||this;for(var h=0;h<l.length;h++){var u;if(1===s)u=e.call(o,this.get(t[0],h,i),h);else{for(var c=0;s>c;c++)r[c]=this.get(t[c],h,i);r[c]=h,u=e.apply(o,r)}u&&a.push(l[h])}return this.indices=a,this._extent={},this},y.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},i,n),o},y.map=function(t,e,i,a){t=d.map(n(t),this.getDimension,this);var r=o(this,t),s=r.indices=this.indices,l=r._storage,h=[];return this.each(t,function(){var i=arguments[arguments.length-1],n=e&&e.apply(this,arguments);if(null!=n){"number"==typeof n&&(h[0]=n,n=h);for(var o=0;o<n.length;o++){var a=t[o],r=l[a],u=s[i];r&&(r[u]=n[o])}}},i,a),r},y.downSample=function(t,e,i,n){for(var a=o(this,[t]),r=this._storage,s=a._storage,l=this.indices,h=a.indices=[],u=[],c=[],d=Math.floor(1/e),f=s[t],p=this.count(),g=0;g<r[t].length;g++)s[t][g]=r[t][g];for(var g=0;p>g;g+=d){d>p-g&&(d=p-g,u.length=d);for(var m=0;d>m;m++){var v=l[g+m];u[m]=f[v],c[m]=v}var y=i(u),v=c[n(u,y)||0];f[v]=y,h.push(v)}return a},y.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new u(this._rawData[t],e,e&&e.ecModel)},y.diff=function(t){var e=this._idList,i=t&&t._idList;return new c(t?t.indices:[],this.indices,function(t){return i[t]||t+""},function(t){return e[t]||t+""})},y.getVisual=function(t){var e=this._visual;return e&&e[t]},y.setVisual=function(t,e){if(p(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},y.setLayout=function(t,e){if(p(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},y.getLayout=function(t){return this._layout[t]},y.getItemLayout=function(t){return this._itemLayouts[t]},y.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?d.extend(this._itemLayouts[t]||{},e):e},y.clearItemLayouts=function(){this._itemLayouts.length=0},y.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e)},y.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,p(e))for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);else n[e]=i};var x=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};y.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(x,e)),this._graphicEls[t]=e},y.getItemGraphicEl=function(t){return this._graphicEls[t]},y.eachItemGraphicEl=function(t,e){d.each(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},y.cloneShallow=function(){var t=d.map(this.dimensions,this.getDimensionInfo,this),e=new v(t,this.hostModel);return e._storage=this._storage,m(e,this),e.indices=this.indices.slice(),e},y.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(d.slice(arguments)))})},y.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],y.CHANGABLE_METHODS=["filterSelf"],t.exports=v}).call(e,function(){return this}())},function(t,e,i){"use strict";function n(t){return t>-w&&w>t}function o(t){return t>w||-w>t}function a(t,e,i,n,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*n+3*a*i)}function r(t,e,i,n,o){var a=1-o;return 3*(((e-t)*a+2*(i-e)*o)*a+(n-i)*o*o)}function s(t,e,i,o,a,r){var s=o+3*(e-i)-t,l=3*(i-2*e+t),h=3*(e-t),u=t-a,c=l*l-3*s*h,d=l*h-9*s*u,f=h*h-3*l*u,p=0;if(n(c)&&n(d))if(n(l))r[0]=0;else{var g=-h/l;g>=0&&1>=g&&(r[p++]=g)}else{var m=d*d-4*c*f;if(n(m)){var v=d/c,g=-l/s+v,y=-v/2;g>=0&&1>=g&&(r[p++]=g),y>=0&&1>=y&&(r[p++]=y)}else if(m>0){var x=b(m),w=c*l+1.5*s*(-d+x),S=c*l+1.5*s*(-d-x);w=0>w?-_(-w,A):_(w,A),S=0>S?-_(-S,A):_(S,A);var g=(-l-(w+S))/(3*s);g>=0&&1>=g&&(r[p++]=g)}else{var I=(2*c*l-3*s*d)/(2*b(c*c*c)),T=Math.acos(I)/3,L=b(c),C=Math.cos(T),g=(-l-2*L*C)/(3*s),y=(-l+L*(C+M*Math.sin(T)))/(3*s),D=(-l+L*(C-M*Math.sin(T)))/(3*s);g>=0&&1>=g&&(r[p++]=g),y>=0&&1>=y&&(r[p++]=y),D>=0&&1>=D&&(r[p++]=D)}}return p}function l(t,e,i,a,r){var s=6*i-12*e+6*t,l=9*e+3*a-3*t-9*i,h=3*e-3*t,u=0;if(n(l)){if(o(s)){var c=-h/s;c>=0&&1>=c&&(r[u++]=c)}}else{var d=s*s-4*l*h;if(n(d))r[0]=-s/(2*l);else if(d>0){var f=b(d),c=(-s+f)/(2*l),p=(-s-f)/(2*l);c>=0&&1>=c&&(r[u++]=c),p>=0&&1>=p&&(r[u++]=p)}}return u}function h(t,e,i,n,o,a){var r=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,h=(s-r)*o+r,u=(l-s)*o+s,c=(u-h)*o+h;a[0]=t,a[1]=r,a[2]=h,a[3]=c,a[4]=c,a[5]=u,a[6]=l,a[7]=n}function u(t,e,i,n,o,r,s,l,h,u,c){var d,f,p,g,m,v=.005,y=1/0;I[0]=h,I[1]=u;for(var _=0;1>_;_+=.05)T[0]=a(t,i,o,s,_),T[1]=a(e,n,r,l,_),g=x(I,T),y>g&&(d=_,y=g);y=1/0;for(var w=0;32>w&&!(S>v);w++)f=d-v,p=d+v,T[0]=a(t,i,o,s,f),T[1]=a(e,n,r,l,f),g=x(T,I),f>=0&&y>g?(d=f,y=g):(L[0]=a(t,i,o,s,p),L[1]=a(e,n,r,l,p),m=x(L,I),1>=p&&y>m?(d=p,y=m):v*=.5);return c&&(c[0]=a(t,i,o,s,d),c[1]=a(e,n,r,l,d)),b(y)}function c(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function d(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function f(t,e,i,a,r){var s=t-2*e+i,l=2*(e-t),h=t-a,u=0;if(n(s)){if(o(l)){var c=-h/l;c>=0&&1>=c&&(r[u++]=c)}}else{var d=l*l-4*s*h;if(n(d)){var c=-l/(2*s);c>=0&&1>=c&&(r[u++]=c)}else if(d>0){var f=b(d),c=(-l+f)/(2*s),p=(-l-f)/(2*s);c>=0&&1>=c&&(r[u++]=c),p>=0&&1>=p&&(r[u++]=p)}}return u}function p(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function g(t,e,i,n,o){var a=(e-t)*n+t,r=(i-e)*n+e,s=(r-a)*n+a;o[0]=t,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=i}function m(t,e,i,n,o,a,r,s,l){var h,u=.005,d=1/0;I[0]=r,I[1]=s;for(var f=0;1>f;f+=.05){T[0]=c(t,i,o,f),T[1]=c(e,n,a,f);var p=x(I,T);d>p&&(h=f,d=p)}d=1/0;for(var g=0;32>g&&!(S>u);g++){var m=h-u,v=h+u;T[0]=c(t,i,o,m),T[1]=c(e,n,a,m);var p=x(T,I);if(m>=0&&d>p)h=m,d=p;else{L[0]=c(t,i,o,v),L[1]=c(e,n,a,v);var y=x(L,I);1>=v&&d>y?(h=v,d=y):u*=.5}}return l&&(l[0]=c(t,i,o,h),l[1]=c(e,n,a,h)),b(d)}var v=i(5),y=v.create,x=v.distSquare,_=Math.pow,b=Math.sqrt,w=1e-8,S=1e-4,M=b(3),A=1/3,I=y(),T=y(),L=y();t.exports={cubicAt:a,cubicDerivativeAt:r,cubicRootAt:s,cubicExtrema:l,cubicSubdivide:h,cubicProjectPoint:u,quadraticAt:c,quadraticDerivativeAt:d,quadraticRootAt:f,quadraticExtremum:p,quadraticSubdivide:g,quadraticProjectPoint:m}},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=i},function(t,e,i){function n(t,e){var i=t+":"+e;if(h[i])return h[i];for(var n=(t+"").split("\n"),o=0,a=0,r=n.length;r>a;a++)o=Math.max(p.measureText(n[a],e).width,o);return u>c&&(u=0,h={}),u++,h[i]=o,o}function o(t,e,i,o){var a=((t||"")+"").split("\n").length,r=n(t,e),s=n("",e),l=a*s,h=new f(0,0,r,l);switch(h.lineHeight=s,o){case"bottom":case"alphabetic":h.y-=s;break;case"middle":h.y-=s/2}switch(i){case"end":case"right":h.x-=h.width;break;case"center":h.x-=h.width/2}return h}function a(t,e,i,n){var o=e.x,a=e.y,r=e.height,s=e.width,l=i.height,h=r/2-l/2,u="left";switch(t){case"left":o-=n,a+=h,u="right";break;case"right":o+=n+s,a+=h,u="left";break;case"top":o+=s/2,a-=n+l,u="center";break;case"bottom":o+=s/2,a+=r+n,u="center";break;case"inside":o+=s/2,a+=h,u="center";break;case"insideLeft":o+=n,a+=h,u="left";break;case"insideRight":o+=s-n,a+=h,u="right";break;case"insideTop":o+=s/2,a+=n,u="center";break;case"insideBottom":o+=s/2,a+=r-l-n,u="center";break;case"insideTopLeft":o+=n,a+=n,u="left";break;case"insideTopRight":o+=s-n,a+=n,u="right";break;case"insideBottomLeft":o+=n,a+=r-l-n;break;case"insideBottomRight":o+=s-n,a+=r-l-n,u="right"}return{x:o,y:a,textAlign:u,textBaseline:"top"}}function r(t,e,i,o){if(!i)return"";o=d.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:n("",e),ascCharWidth:n("a",e)},o,!0),i-=n(o.ellipsis);for(var a=(t+"").split("\n"),r=0,l=a.length;l>r;r++)a[r]=s(a[r],e,i,o);return a.join("\n")}function s(t,e,i,o){for(var a=0;;a++){var r=n(t,e);if(i>r||a>=o.maxIterations){t+=o.ellipsis;break}var s=0===a?l(t,i,o):Math.floor(t.length*i/r);if(s<o.minCharacters){t="";break}t=t.substr(0,s)}return t}function l(t,e,i){for(var n=0,o=0,a=t.length;a>o&&e>n;o++){var r=t.charCodeAt(o);n+=r>=0&&127>=r?i.ascCharWidth:i.cnCharWidth}return o}var h={},u=0,c=5e3,d=i(1),f=i(8),p={getWidth:n,getBoundingRect:o,adjustTextPositionOnRect:a,ellipsis:r,measureText:function(t,e){var i=d.getContext();return i.font=e,i.measureText(t)}};t.exports=p},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new i(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=n*u+r*h,t[1]=-n*h+r*u,t[2]=o*u+s*h,t[3]=-o*h+u*s,t[4]=u*a+h*l,t[5]=u*l-h*a,t},scale:function(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t},invert:function(t,e){var i=e[0],n=e[2],o=e[4],a=e[1],r=e[3],s=e[5],l=i*r-a*n;return l?(l=1/l,t[0]=r*l,t[1]=-a*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*o)*l,t[5]=(a*o-i*s)*l,t):null}};t.exports=n},function(t,e,i){function n(t,e){var i=a.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function o(t,e,i){return this.superClass.prototype[e].apply(t,i)}var a=i(1),r={},s=".",l="___EC__COMPONENT__CONTAINER___",h=r.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(s),e.main=t[0]||"",e.sub=t[1]||""),e};r.enableClassExtend=function(t,e){t.extend=function(i){var r=function(){e&&e.apply(this,arguments),t.apply(this,arguments)};return a.extend(r.prototype,i),r.extend=this.extend,r.superCall=n,r.superApply=o,a.inherits(r,this),r.superClass=this,r}},r.enableClassManagement=function(t,e){function i(t){var e=n[t.main];return e&&e[l]||(e=n[t.main]={},e[l]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(e=h(e),e.sub){if(e.sub!==l){var o=i(e);o[e.sub]=t}}else{if(n[e.main])throw new Error(e.main+"exists.");n[e.main]=t}return t},t.getClass=function(t,e,i){var o=n[t];if(o&&o[l]&&(o=e?o[e]:null),i&&!o)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return o},t.getClassesByMainType=function(t){t=h(t);var e=[],i=n[t.main];return i&&i[l]?a.each(i,function(t,i){i!==l&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=h(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return a.each(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=h(t);var e=n[t.main];return e&&e[l]},t.parseClassType=h,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var i=o.call(this,e);return t.registerClass(i,e.type)})}return t},r.setReadOnly=function(t,e){},t.exports=r},function(t,e,i){var n=Array.prototype.slice,o=i(1),a=o.indexOf,r=function(){this._$handlers={}};r.prototype={constructor:r,one:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),a(n[t],t)>=0?this:(n[t].push({h:e,one:!0,ctx:i||this}),this)):this},on:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,a=i[t].length;a>o;o++)i[t][o].h!=e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=n.call(e,1));for(var o=this._$handlers[t],a=o.length,r=0;a>r;){switch(i){case 1:o[r].h.call(o[r].ctx);break;case 2:o[r].h.call(o[r].ctx,e[1]);break;case 3:o[r].h.call(o[r].ctx,e[1],e[2]);break;default:o[r].h.apply(o[r].ctx,e)}o[r].one?(o.splice(r,1),a--):r++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=n.call(e,1,e.length-1));for(var o=e[e.length-1],a=this._$handlers[t],r=a.length,s=0;r>s;){switch(i){case 1:a[s].h.call(o);break;case 2:a[s].h.call(o,e[1]);break;case 3:a[s].h.call(o,e[1],e[2]);break;default:a[s].h.apply(o,e)}a[s].one?(a.splice(s,1),r--):s++}}return this}},t.exports=r},function(t,e){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return t=Math.round(t),0>t?0:t>360?360:t}function o(t){return 0>t?0:t>1?1:t}function a(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function r(t){return o(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function s(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function l(t,e,i){return t+(e-t)*i}function h(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in x)return x[e].slice();if("#"!==e.charAt(0)){var i=e.indexOf("("),n=e.indexOf(")");if(-1!==i&&n+1===e.length){var o=e.substr(0,i),s=e.substr(i+1,n-(i+1)).split(","),l=1;switch(o){case"rgba":if(4!==s.length)return;l=r(s.pop());case"rgb":if(3!==s.length)return;return[a(s[0]),a(s[1]),a(s[2]),l];case"hsla":if(4!==s.length)return;return s[3]=r(s[3]),u(s);case"hsl":if(3!==s.length)return;return u(s);default:return}}}else{if(4===e.length){var h=parseInt(e.substr(1),16);if(!(h>=0&&4095>=h))return;return[(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1]}if(7===e.length){var h=parseInt(e.substr(1),16);if(!(h>=0&&16777215>=h))return;return[(16711680&h)>>16,(65280&h)>>8,255&h,1]}}}}function u(t){var e=(parseFloat(t[0])%360+360)%360/360,n=r(t[1]),o=r(t[2]),a=.5>=o?o*(n+1):o+n-o*n,l=2*o-a,h=[i(255*s(l,a,e+1/3)),i(255*s(l,a,e)),i(255*s(l,a,e-1/3))];return 4===t.length&&(h[3]=t[3]),h}function c(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(n,o,a),s=Math.max(n,o,a),l=s-r,h=(s+r)/2;if(0===l)e=0,i=0;else{i=.5>h?l/(s+r):l/(2-s-r);var u=((s-n)/6+l/2)/l,c=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;n===s?e=d-c:o===s?e=1/3+u-d:a===s&&(e=2/3+c-u),0>e&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}function d(t,e){var i=h(t);if(i){for(var n=0;3>n;n++)0>e?i[n]=i[n]*(1-e)|0:i[n]=(255-i[n])*e+i[n]|0;return y(i,4===i.length?"rgba":"rgb")}}function f(t,e){var i=h(t);return i?((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1):void 0}function p(t,e,n){if(e&&e.length&&t>=0&&1>=t){n=n||[0,0,0,0];var o=t*(e.length-1),a=Math.floor(o),r=Math.ceil(o),s=e[a],h=e[r],u=o-a;return n[0]=i(l(s[0],h[0],u)),n[1]=i(l(s[1],h[1],u)),n[2]=i(l(s[2],h[2],u)),n[3]=i(l(s[3],h[3],u)),n}}function g(t,e,n){if(e&&e.length&&t>=0&&1>=t){var a=t*(e.length-1),r=Math.floor(a),s=Math.ceil(a),u=h(e[r]),c=h(e[s]),d=a-r,f=y([i(l(u[0],c[0],d)),i(l(u[1],c[1],d)),i(l(u[2],c[2],d)),o(l(u[3],c[3],d))],"rgba");return n?{color:f,leftIndex:r,rightIndex:s,value:a}:f}}function m(t,e,i,o){return t=h(t),t?(t=c(t),null!=e&&(t[0]=n(e)),null!=i&&(t[1]=r(i)),null!=o&&(t[2]=r(o)),y(u(t),"rgba")):void 0}function v(t,e){return t=h(t),t&&null!=e?(t[3]=o(e),y(t,"rgba")):void 0}function y(t,e){return"rgb"!==e&&"hsv"!==e&&"hsl"!==e||(t=t.slice(0,3)),e+"("+t.join(",")+")"}var x={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};t.exports={parse:h,lift:d,toHex:f,fastMapToColor:p,mapToColor:g,modifyHSL:m,modifyAlpha:v,stringify:y}},function(t,e){"use strict";function i(){this._coordinateSystems=[]}var n={};i.prototype={constructor:i,create:function(t,e){var i=[];for(var o in n){var a=n[o].create(t,e);a&&(i=i.concat(a))}this._coordinateSystems=i},update:function(t,e){for(var i=this._coordinateSystems,n=0;n<i.length;n++)i[n].update&&i[n].update(t,e)}},i.register=function(t,e){n[t]=e},i.get=function(t){return n[t]},t.exports=i},function(t,e,i){var n=i(123),o=i(38);i(124),i(122);var a=i(32),r=i(4),s=i(1),l=i(18),h={};h.getScaleExtent=function(t,e){var i=t.scale,n=i.getExtent(),o=n[1]-n[0];if("ordinal"===i.type)return isFinite(o)?n:[0,0];var a=e.getMin?e.getMin():e.get("min"),l=e.getMax?e.getMax():e.get("max"),h=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),u=e.get("boundaryGap");s.isArray(u)||(u=[u||0,u||0]),u[0]=r.parsePercent(u[0],1),u[1]=r.parsePercent(u[1],1);var c=!0,d=!0;return null==a&&(a=n[0]-u[0]*o,c=!1),null==l&&(l=n[1]+u[1]*o,d=!1),"dataMin"===a&&(a=n[0]),"dataMax"===l&&(l=n[1]),h&&(a>0&&l>0&&!c&&(a=0),0>a&&0>l&&!d&&(l=0)),[a,l]},h.niceScaleExtent=function(t,e){var i=t.scale,n=h.getScaleExtent(t,e),o=null!=(e.getMin?e.getMin():e.get("min")),a=null!=(e.getMax?e.getMax():e.get("max")),r=e.get("splitNumber");i.setExtent(n[0],n[1]),i.niceExtent(r,o,a);var s=e.get("minInterval");if(isFinite(s)&&!o&&!a&&"interval"===i.type){var l=i.getInterval(),u=Math.max(Math.abs(l),s)/l;n=i.getExtent(),i.setExtent(u*n[0],n[1]*u),i.niceExtent(r)}var l=e.get("interval");null!=l&&i.setInterval&&i.setInterval(l)},h.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getCategories(),[1/0,-(1/0)]);case"value":return new o;default:return(a.getClass(e)||o).create(t)}},h.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||0>i&&0>n)},h.getAxisLabelInterval=function(t,e,i,n){var o,a=0,r=0,s=1;e.length>40&&(s=Math.round(e.length/40));for(var h=0;h<t.length;h+=s){var u=t[h],c=l.getBoundingRect(e[h],i,"center","top");c[n?"x":"y"]+=u,c[n?"width":"height"]*=1.5,o?o.intersect(c)?(r++,a=Math.max(a,r)):(o.union(c),r=0):o=c.clone()}return 0===a&&s>1?s:a*s},h.getFormattedLabels=function(t,e){var i=t.scale,n=i.getTicksLabels(),o=i.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",e)}}(e),s.map(n,e)):"function"==typeof e?s.map(o,function(n,o){return e("category"===t.type?i.getLabel(n):n,o)},this):n},t.exports=h},function(t,e,i){"use strict";var n=i(3),o=i(8),a=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n+a),t.lineTo(i-o,n+a),t.closePath()}}),r=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n),t.lineTo(i,n+a),t.lineTo(i-o,n),t.closePath()}}),s=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=n-a+r+s,h=Math.asin(s/r),u=Math.cos(h)*r,c=Math.sin(h),d=Math.cos(h);t.arc(i,l,r,Math.PI-h,2*Math.PI+h);var f=.6*r,p=.7*r;t.bezierCurveTo(i+u-c*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-u+c*f,l+s+d*f,i-u,l+s),t.closePath()}}),l=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,a=e.y,r=n/3*2;t.moveTo(o,a),t.lineTo(o+r,a+i),t.lineTo(o,a+i/4*3),t.lineTo(o-r,a+i),t.lineTo(o,a),t.closePath()}}),h={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:r,pin:s,arrow:l,triangle:a},u={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var a=Math.min(i,n);o.x=t,o.y=e,o.width=a,o.height=a},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},c={};for(var d in h)c[d]=new h[d];var f=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e){var i=e.symbolType,n=c[i];"none"!==e.symbolType&&(n||(i="rect",n=c[i]),u[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape))}}),p=function(t){if("image"!==this.type){var e=this.style,i=this.shape;i&&"line"===i.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty()}},g={createSymbol:function(t,e,i,a,r,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var h;return h=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:i,width:a,height:r}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new o(e,i,a,r)):new f({shape:{symbolType:t,x:e,y:i,width:a,height:r}}),h.__isEmptyBrush=l,h.setColor=p,h.setColor(s),h}};t.exports=g},function(t,e,i){function n(){this.group=new r,this.uid=s.getUID("viewChart")}function o(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)o(t.childAt(i),e)}function a(t,e,i){if(null!=e.dataIndex){var n=t.getItemGraphicEl(e.dataIndex);o(n,i)}else if(e.name){var a=t.indexOfName(e.name),n=t.getItemGraphicEl(a);o(n,i)}else t.eachItemGraphicEl(function(t){o(t,i)})}var r=i(27),s=i(42),l=i(20);n.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){a(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){a(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};var h=n.prototype;h.updateView=h.updateLayout=h.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},l.enableClassExtend(n),l.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e,i){var n=i(1),o=i(55),a=i(8),r=function(t){t=t||{},o.call(this,t);for(var e in t)this[e]=t[e];this._children=[],this.__storage=null,this.__dirty=!0};r.prototype={constructor:r,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof r&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,o=this._children,a=n.indexOf(o,t);return 0>a?this:(o.splice(a,1),t.parent=null,i&&(i.delFromMap(t.id),t instanceof r&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromMap(t.id),t instanceof r&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof r&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof r&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new a(0,0,0,0),n=t||this._children,o=[],r=0;r<n.length;r++){var s=n[r];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),h=s.getLocalTransform(o);h?(i.copy(l),i.applyTransform(h),e=e||i.clone(),e.union(i)):(e=e||l.clone(),e.union(l))}}return e||i}},n.inherits(r,o),t.exports=r},function(t,e,i){"use strict";var n=i(16),o=i(5),a=i(65),r=i(8),s=i(33).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},h=[],u=[],c=[],d=[],f=Math.min,p=Math.max,g=Math.cos,m=Math.sin,v=Math.sqrt,y=Math.abs,x="undefined"!=typeof Float32Array,_=function(){this.data=[],this._len=0,
this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};_.prototype={constructor:_,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=y(1/s/t)||0,this._uy=y(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||0===this._len;return this.addData(l.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,a){return this.addData(l.C,t,e,i,n,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,a):this._ctx.bezierCurveTo(t,e,i,n,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(t,e,i,n){return this.addData(l.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,a){return this.addData(l.A,t,e,i,i,n,o-n,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,a),this._xi=g(o)*i+t,this._xi=m(o)*i+t,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(l.R,t,e,i,n),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!x||(this.data=new Float32Array(e));for(var i=0;e>i;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;e>o;o++)i+=t[o].len();x&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var o=0;e>o;o++)for(var a=t[o].data,r=0;r<a.length;r++)this.data[n++]=a[r];this._len=n},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=v(u*u+c*c),g=l,m=h,y=r.length;for(u/=d,c/=d,0>a&&(a=o+a),a%=o,g-=a*u,m-=a*c;u>=0&&t>=g||0>u&&g>t;)n=this._dashIdx,i=r[n],g+=u*i,m+=c*i,this._dashIdx=(n+1)%y,u>0&&l>g||0>u&&g>l||s[n%2?"moveTo":"lineTo"](u>=0?f(g,t):p(g,t),c>=0?f(m,e):p(m,e));u=g-t,c=m-e,this._dashOffset=-v(u*u+c*c)},_dashedBezierTo:function(t,e,i,o,a,r){var s,l,h,u,c,d=this._dashSum,f=this._dashOffset,p=this._lineDash,g=this._ctx,m=this._xi,y=this._yi,x=n.cubicAt,_=0,b=this._dashIdx,w=p.length,S=0;for(0>f&&(f=d+f),f%=d,s=0;1>s;s+=.1)l=x(m,t,i,a,s+.1)-x(m,t,i,a,s),h=x(y,e,o,r,s+.1)-x(y,e,o,r,s),_+=v(l*l+h*h);for(;w>b&&(S+=p[b],!(S>f));b++);for(s=(S-f)/_;1>=s;)u=x(m,t,i,a,s),c=x(y,e,o,r,s),b%2?g.moveTo(u,c):g.lineTo(u,c),s+=p[b]/_,b=(b+1)%w;b%2!==0&&g.lineTo(a,r),l=a-u,h=r-c,this._dashOffset=-v(l*l+h*h)},_dashedQuadraticTo:function(t,e,i,n){var o=i,a=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,x&&(this.data=new Float32Array(t)))},getBoundingRect:function(){h[0]=h[1]=c[0]=c[1]=Number.MAX_VALUE,u[0]=u[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,s=0,f=0;f<t.length;){var p=t[f++];switch(1==f&&(e=t[f],i=t[f+1],n=e,s=i),p){case l.M:n=t[f++],s=t[f++],e=n,i=s,c[0]=n,c[1]=s,d[0]=n,d[1]=s;break;case l.L:a.fromLine(e,i,t[f],t[f+1],c,d),e=t[f++],i=t[f++];break;case l.C:a.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],c,d),e=t[f++],i=t[f++];break;case l.Q:a.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],c,d),e=t[f++],i=t[f++];break;case l.A:var v=t[f++],y=t[f++],x=t[f++],_=t[f++],b=t[f++],w=t[f++]+b,S=(t[f++],1-t[f++]);1==f&&(n=g(b)*x+v,s=m(b)*_+y),a.fromArc(v,y,x,_,b,w,S,c,d),e=g(w)*x+v,i=m(w)*_+y;break;case l.R:n=e=t[f++],s=i=t[f++];var M=t[f++],A=t[f++];a.fromLine(n,s,n+M,s+A,c,d);break;case l.Z:e=n,i=s}o.min(h,h,c),o.max(u,u,d)}return 0===f&&(h[0]=h[1]=u[0]=u[1]=0),new r(h[0],h[1],u[0]-h[0],u[1]-h[1])},rebuildPath:function(t){for(var e,i,n,o,a,r,s=this.data,h=this._ux,u=this._uy,c=this._len,d=0;c>d;){var f=s[d++];switch(1==d&&(n=s[d],o=s[d+1],e=n,i=o),f){case l.M:e=n=s[d++],i=o=s[d++],t.moveTo(n,o);break;case l.L:a=s[d++],r=s[d++],(y(a-n)>h||y(r-o)>u||d===c-1)&&(t.lineTo(a,r),n=a,o=r);break;case l.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),n=s[d-2],o=s[d-1];break;case l.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),n=s[d-2],o=s[d-1];break;case l.A:var p=s[d++],v=s[d++],x=s[d++],_=s[d++],b=s[d++],w=s[d++],S=s[d++],M=s[d++],A=x>_?x:_,I=x>_?1:x/_,T=x>_?_/x:1,L=Math.abs(x-_)>.001,C=b+w;L?(t.translate(p,v),t.rotate(S),t.scale(I,T),t.arc(0,0,A,b,C,1-M),t.scale(1/I,1/T),t.rotate(-S),t.translate(-p,-v)):t.arc(p,v,A,b,C,1-M),1==d&&(e=g(b)*x+p,i=m(b)*_+v),n=g(C)*x+p,o=m(C)*_+v;break;case l.R:e=n=s[d],i=o=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case l.Z:t.closePath(),n=e,o=i}}}},_.CMD=l,t.exports=_},function(t,e){"use strict";var i={};t.exports={register:function(t,e){i[t]=e},get:function(t){return i[t]}}},function(t,e,i){var n=i(1);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e){for(var i={},o=0;o<t.length;o++){var a=t[o][1];if(!(e&&n.indexOf(e,a)>=0)){var r=this.getShallow(a);null!=r&&(i[t[o][0]]=r)}}return i}}},function(t,e,i){function n(t,e,i,n){if(!e)return t;var s=a(e[0]),l=r.isArray(s)&&s.length||1;i=i||[],n=n||"extra";for(var h=0;l>h;h++)if(!t[h]){var u=i[h]||n+(h-i.length);t[h]=o(e,h)?{type:"ordinal",name:u}:u}return t}function o(t,e){for(var i=0,n=t.length;n>i;i++){var o=a(t[i]);if(!r.isArray(o))return!1;var o=o[e];if(null!=o&&isFinite(o))return!1;if(r.isString(o)&&"-"!==o)return!0}return!1}function a(t){return r.isArray(t)?t:r.isObject(t)?t.value:t}var r=i(1);t.exports=n},function(t,e,i){function n(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var o=i(20),a=n.prototype;a.parse=function(t){return t},a.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},a.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},a.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},a.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},a.getExtent=function(){return this._extent.slice()},a.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},a.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},o.enableClassExtend(n),o.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:i};t.exports=n},function(t,e,i){"use strict";function n(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function o(t,e){if(e=e||window.event,null!=e.zrX)return e;var i=e.type,o=i&&i.indexOf("touch")>=0;if(o){var a="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];if(a){var r=n(t);e.zrX=a.clientX-r.left,e.zrY=a.clientY-r.top}}else{var s=n(t);e.zrX=e.clientX-s.left,e.zrY=e.clientY-s.top,e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e}function a(t,e,i){l?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function r(t,e,i){l?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}var s=i(21),l="undefined"!=typeof window&&!!window.addEventListener,h=l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};t.exports={normalizeEvent:o,addEventListener:a,removeEventListener:r,stop:h,Dispatcher:s}},function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function o(t){var e=n(t);return null!=e&&!c.isArray(p(e))}function a(t,e,i){if(t=t||[],!c.isArray(t))throw new Error("Invalid data.");var n=e.get("coordinateSystem"),a=m[n],r=f.get(n),s=a&&a(t,e,i),d=s&&s.dimensions;d||(d=r&&r.dimensions||["x","y"],d=u(d,t,d.concat(["value"])));var v,y=s&&s.categoryAxisModel,x="ordinal"===d[0].type?0:"ordinal"===d[1].type?1:-1,_=new h(d,e),b=l(s,t),w=y&&o(t)?function(t,e,i,n){return n===x?i:g(p(t),d[n])}:function(t,e,i,n){var o=p(t),a=g(o&&o[n],d[n]);return x===n&&"string"==typeof a&&(v=v||y.getCategories(),a=c.indexOf(v,a),0>a&&!isNaN(a)&&(a=+a)),a};return _.initData(t,b,w),_}function r(t){return"category"!==t&&"time"!==t}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function l(t,e){var i=[];if(t&&t.categoryAxisModel){var n=t.categoryAxisModel.getCategories();if(n){var o=e.length;if(c.isArray(e[0])&&e[0].length>1){i=[];for(var a=0;o>a;a++)i[a]=n[e[a][t.categoryIndex||0]]}else i=n.slice(0)}}return i}var h=i(15),u=i(31),c=i(1),d=i(7),f=i(23),p=d.getDataItemValue,g=d.converDataValue,m={cartesian2d:function(t,e,i){var n=i.getComponent("xAxis",e.get("xAxisIndex")),o=i.getComponent("yAxis",e.get("yAxisIndex"));if(!n||!o)throw new Error("Axis option not found");var a=n.get("type"),l=o.get("type"),h=[{name:"x",type:s(a),stackable:r(a)},{name:"y",type:s(l),stackable:r(l)}],c="category"===a;return u(h,t,["x","y","z"]),{dimensions:h,categoryIndex:c?0:1,categoryAxisModel:c?n:"category"===l?o:null}},polar:function(t,e,i){var n=e.get("polarIndex")||0,o=function(t){return t.get("polarIndex")===n},a=i.findComponents({mainType:"angleAxis",filter:o})[0],l=i.findComponents({mainType:"radiusAxis",filter:o})[0];if(!a||!l)throw new Error("Axis option not found");var h=l.get("type"),c=a.get("type"),d=[{name:"radius",type:s(h),stackable:r(h)},{name:"angle",type:s(c),stackable:r(c)}],f="category"===c;return u(d,t,["radius","angle","value"]),{dimensions:d,categoryIndex:f?1:0,categoryAxisModel:f?a:"category"===h?l:null}},geo:function(t,e,i){return{dimensions:u([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=a},function(t,e,i){"use strict";var n=i(3),o=i(1);i(52),i(95),i(2).extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new n.Rect({shape:t.coordinateSystem.getRect(),style:o.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0}))}})},function(t,e,i){function n(t){t=t||{},r.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new a(t.style),this._rect=null,this.__clipPaths=[]}var o=i(1),a=i(142),r=i(55),s=i(67);n.prototype={constructor:n,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?r.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new a(t),this.dirty(!1),this}},o.inherits(n,r),o.mixin(n,s),t.exports=n},function(t,e,i){var n=i(4),o=i(9),a=i(32),r=Math.floor,s=Math.ceil,l=a.extend({type:"interval",_interval:0,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,i=[],o=1e4;if(t){var a=this._niceExtent;e[0]<a[0]&&i.push(e[0]);for(var r=a[0];r<=a[1];)if(i.push(r),r=n.round(r+t),i.length>o)return[];e[1]>a[1]&&i.push(e[1])}return i},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t){return o.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,i=e[1]-e[0];if(isFinite(i)){0>i&&(i=-i,e.reverse());var o=n.nice(i/t,!0),a=[n.round(s(e[0]/o)*o),n.round(r(e[1]/o)*o)];this._interval=o,this._niceExtent=a}},niceExtent:function(t,e,i){var o=this._extent;if(o[0]===o[1])if(0!==o[0]){var a=o[0]/2;o[0]-=a,o[1]+=a}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.niceTicks(t);var h=this._interval;e||(o[0]=n.round(r(o[0]/h)*h)),i||(o[1]=n.round(s(o[1]/h)*h))}});l.create=function(){return new l},t.exports=l},function(t,e,i){function n(t){this.group=new a.Group,this._symbolCtor=t||r}function o(t,e,i){var n=t.getItemLayout(e);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(i&&i(e))&&"none"!==t.getItemVisual(e,"symbol")}var a=i(3),r=i(47),s=n.prototype;s.updateData=function(t,e){var i=this.group,n=t.hostModel,r=this._data,s=this._symbolCtor;t.diff(r).add(function(n){var a=t.getItemLayout(n);if(o(t,n,e)){var r=new s(t,n);r.attr("position",a),t.setItemGraphicEl(n,r),i.add(r)}}).update(function(l,h){var u=r.getItemGraphicEl(h),c=t.getItemLayout(l);return o(t,l,e)?(u?(u.updateData(t,l),a.updateProps(u,{position:c},n)):(u=new s(t,l),u.attr("position",c)),i.add(u),void t.setItemGraphicEl(l,u)):void i.remove(u)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){e.attr("position",t.getItemLayout(i))})},s.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=n},function(t,e,i){function n(t){var e={};return u(["start","end","startValue","endValue"],function(i){e[i]=t[i]}),e}function o(t,e,i,n){null!=i[e]&&null==i[t]&&(n[t]=null)}var a=i(1),r=i(14),s=i(2),l=i(7),h=i(169),u=a.each,c=l.eachAxisDim,d=s.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel;var o=n(t);this.mergeDefaultAndTheme(t,i),this.doInit(o)},mergeOption:function(t){var e=n(t);a.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;r.canvasSupported||(e.realtime=!1),o("start","startValue",t,e),o("end","endValue",t,e),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var a=this.dependentModels[e.axis][i],r=a.__dzAxisProxy||(a.__dzAxisProxy=new h(e.name,i,this,o));t[e.name+"_"+i]=r},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();c(function(e){var i=e.axisIndex;t[i]=l.normalizeToArray(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;c(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option;if(t){var n="vertical"===e?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};this.dependentModels[n.axis].length&&(i[n.axisIndex]=[0],t=!1)}t&&c(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var a=0,r=o.length;r>a;a++)"category"===o[a].get("type")&&n.push(a);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&c(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex);a.indexOf(n,o)<0&&n.push(o)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return c(function(n){var o=t.get(n.axisIndex),a=this.dependentModels[n.axis][o];a&&a.get("type")===e||(i=!1)},this),i},getFirstTargetAxisModel:function(){var t;return c(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;c(function(n){u(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},setRawRange:function(t){u(["start","end","startValue","endValue"],function(e){this.option[e]=t[e]},this)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var t=this._axisProxies;for(var e in t)if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];for(var e in t)if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e]}});t.exports=d},function(t,e,i){var n=i(54);t.exports=n.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetInfo:function(){function t(t,e,i,n){for(var o,a=0;a<i.length;a++)if(i[a].model===t){o=i[a];break}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n=[],o=[],a=[];return e.eachTargetAxis(function(e,r){var s=i.getComponent(e.axis,r);if(s){a.push(s);var l=s.get("gridIndex"),h=s.get("polarIndex");if(null!=l){var u=i.getComponent("grid",l);t(u,s,n,l)}else if(null!=h){var u=i.getComponent("polar",h);t(u,s,o,h)}}},this),{cartesians:n,polars:o,axisModels:a}}})},function(t,e,i){var n=i(1),o=i(20),a=o.parseClassType,r=0,s={},l="_";s.getUID=function(t){return[t||"",r++,Math.random()].join(l)},s.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=a(t),e[t.main]=i},t.determineSubType=function(i,n){var o=n.type;if(!o){var r=a(i).main;t.hasSubTypes(i)&&e[r]&&(o=e[r](n))}return o},t},s.enableTopologicalTravel=function(t,e){function i(t){var i={},r=[];return n.each(t,function(s){var l=o(i,s),h=l.originalDeps=e(s),u=a(h,t);l.entryCount=u.length,0===l.entryCount&&r.push(s),n.each(u,function(t){n.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var e=o(i,t);n.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:i,noEntryList:r}}function o(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function a(t,e){var i=[];return n.each(t,function(t){n.indexOf(e,t)>=0&&i.push(t)}),i}t.topologicalTravel=function(t,e,o,a){function r(t){h[t].entryCount--,0===h[t].entryCount&&u.push(t)}function s(t){c[t]=!0,r(t)}if(t.length){var l=i(e),h=l.graph,u=l.noEntryList,c={};for(n.each(t,function(t){c[t]=!0});u.length;){var d=u.pop(),f=h[d],p=!!c[d];p&&(o.call(a,d,f.originalDeps.slice()),delete c[d]),n.each(f.successor,p?s:r)}n.each(c,function(){throw new Error("Circle dependency may exists")})}}},t.exports=s},function(t,e,i){function n(t,e){var i=t[1]-t[0],n=e,o=i/n/2;t[0]+=o,t[1]-=o}var o=i(4),a=o.linearMap,r=i(1),s=[0,1],l=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&n>=t},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return o.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,o=this.scale;return t=o.normalize(t),this.onBand&&"ordinal"===o.type&&(i=i.slice(),n(i,o.count())),a(t,s,i,e)},coordToData:function(t,e){var i=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&(i=i.slice(),n(i,o.count()));var r=a(t,i,s,e);return this.scale.scale(r)},getTicksCoords:function(){if(this.onBand){for(var t=this.getBands(),e=[],i=0;i<t.length;i++)e.push(t[i][0]);return t[i-1]&&e.push(t[i-1][1]),e}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){if(this.onBand){for(var t,e=this.getBands(),i=[],n=0;n<e.length;n++)t=e[n],i.push((t[0]+t[1])/2);return i}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],o=t[1],a=o-n,r=0;i>r;r++)e.push([a*r/i+n,a*(r+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i}},t.exports=l},function(t,e){t.exports=function(t,e,i,n,o){n.eachRawSeriesByType(t,function(t){var o=t.getData(),a=t.get("symbol")||e,r=t.get("symbolSize");o.setVisual({legendSymbol:i||a,symbol:a,symbolSize:r}),n.isSeriesFiltered(t)||("function"==typeof r&&o.each(function(e){var i=t.getRawValue(e),n=t.getDataParams(e);o.setItemVisual(e,"symbolSize",r(i,n))}),o.each(function(t){var e=o.getItemModel(t),i=e.get("symbol",!0),n=e.get("symbolSize",!0);null!=i&&o.setItemVisual(t,"symbol",i),null!=n&&o.setItemVisual(t,"symbolSize",n)}))})}},function(t,e,i){var n=i(33);t.exports=function(){if(0!==n.debugMode)if(1==n.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(n.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t,e,i){function n(t){o.call(this,t)}var o=i(37),a=i(8),r=i(1),s=i(60),l=i(139),h=new l(50);n.prototype={constructor:n,type:"image",brush:function(t){var e,i=this.style,n=i.image;if(e="string"==typeof n?this._image:n,!e&&n){var o=h.get(n);if(!o)return e=new Image,e.onload=function(){e.onload=null;for(var t=0;t<o.pending.length;t++)o.pending[t].dirty()},o={image:e,pending:[this]},e.src=n,h.put(n,o),void(this._image=e);if(e=o.image,this._image=e,!e.width||!e.height)return void o.pending.push(this)}if(e){var a=i.width||e.width,r=i.height||e.height,l=i.x||0,u=i.y||0;if(!e.width||!e.height)return;if(t.save(),i.bind(t),this.setTransform(t),i.r&&(t.beginPath(),s.buildPath(t,i),t.clip()),i.sWidth&&i.sHeight){var c=i.sx||0,d=i.sy||0;t.drawImage(e,c,d,i.sWidth,i.sHeight,l,u,a,r)}else if(i.sx&&i.sy){var c=i.sx,d=i.sy,f=a-c,p=r-d;t.drawImage(e,c,d,f,p,l,u,a,r)}else t.drawImage(e,l,u,a,r);null==i.width&&(i.width=a),null==i.height&&(i.height=r),null!=i.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new a(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},r.inherits(n,o),t.exports=n},function(t,e,i){function n(t){return r.isArray(t)||(t=[+t,+t]),t}function o(t,e){l.Group.call(this),this.updateData(t,e)}function a(t,e){this.parent.drift(t,e)}var r=i(1),s=i(25),l=i(3),h=i(4),u=o.prototype;u._createSymbol=function(t,e,i){this.removeAll();var o=e.hostModel,r=e.getItemVisual(i,"color"),h=s.createSymbol(t,-.5,-.5,1,1,r);h.attr({z2:100,culling:!0,scale:[0,0]}),h.drift=a;var u=n(e.getItemVisual(i,"symbolSize"));l.initProps(h,{scale:u},o,i),this._symbolType=t,this.add(h)},u.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},u.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},u.updateData=function(t,e){var i=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,a=n(t.getItemVisual(e,"symbolSize"));if(i!==this._symbolType)this._createSymbol(i,t,e);else{var r=this.childAt(0);l.updateProps(r,{scale:a},o,e)}this._updateCommon(t,e,a),this._seriesModel=o};var c=["itemStyle","normal"],d=["itemStyle","emphasis"],f=["label","normal"],p=["label","emphasis"];u._updateCommon=function(t,e,i){var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),u=s.getModel(c),g=t.getItemVisual(e,"color");"image"!==o.type&&o.useStyle({strokeNoScale:!0});var m=o.style,v=s.getModel(d).getItemStyle();o.rotation=(s.getShallow("symbolRotate")||0)*Math.PI/180||0;var y=s.getShallow("symbolOffset");if(y){var x=o.position;x[0]=h.parsePercent(y[0],i[0]),x[1]=h.parsePercent(y[1],i[1])}o.setColor(g),r.extend(m,u.getItemStyle(["color"]));var _=t.getItemVisual(e,"opacity");null!=_&&(m.opacity=_);for(var b,w,S=s.getModel(f),M=s.getModel(p),A=t.dimensions.slice();A.length&&(b=A.pop(),w=t.getDimensionInfo(b).type,"ordinal"===w||"time"===w););null!=b&&S.get("show")?(l.setText(m,S,g),m.text=r.retrieve(a.getFormattedLabel(e,"normal"),t.get(b,e))):m.text="",null!=b&&M.getShallow("show")?(l.setText(v,M,g),v.text=r.retrieve(a.getFormattedLabel(e,"emphasis"),t.get(b,e))):v.text="";var I=n(t.getItemVisual(e,"symbolSize"));if(o.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.setHoverStyle(o,v),s.getShallow("hoverAnimation")){var T=function(){var t=I[1]/I[0];this.animateTo({scale:[Math.max(1.1*I[0],I[0]+3),Math.max(1.1*I[1],I[1]+3*t)]},400,"elasticOut")},L=function(){this.animateTo({scale:I},400,"elasticOut")};o.on("mouseover",T).on("mouseout",L).on("emphasis",T).on("normal",L)}},u.fadeOut=function(t){var e=this.childAt(0);e.off("mouseover").off("mouseout").off("emphasis").off("normal"),e.style.text="",l.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t)},r.inherits(o,l.Group),t.exports=o},function(t,e){"use strict";function i(t){return t}function n(t,e,n,o){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=o||i}function o(t,e,i){for(var n=0;n<t.length;n++){var o=i(t[n]),a=e[o];null==a?e[o]=n:(a.length||(e[o]=a=[a]),a.push(n))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,i=this._new,n=this._oldKeyGetter,a=this._newKeyGetter,r={},s={};for(o(e,r,n),o(i,s,a),t=0;t<e.length;t++){var l=n(e[t]),h=s[l];if(null!=h){var u=h.length;u?(1===u&&(s[l]=null),h=h.unshift()):s[l]=null,this._update&&this._update(h,t)}else this._remove&&this._remove(t)}for(var l in s)if(s.hasOwnProperty(l)){var h=s[l];if(null==h)continue;if(h.length)for(var t=0,u=h.length;u>t;t++)this._add&&this._add(h[t]);else this._add&&this._add(h)}}},t.exports=n},function(t,e,i){function n(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function o(t,e,i){var n,o,a=u(e-t.rotation);return c(a)?(o=i>0?"top":"bottom",n="center"):c(a-d)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=a>0&&d>a?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:n,verticalAlign:o}}function a(t,e,i){var n,o,a=u(-t.rotation),r=i[0]>i[1],s="start"===e&&!r||"start"!==e&&r;return c(a-d/2)?(o=s?"bottom":"top",n="center"):c(a-1.5*d)?(o=s?"top":"bottom",n="center"):(o="middle",n=1.5*d>a&&a>d/2?s?"left":"right":s?"right":"left"),{rotation:a,textAlign:n,verticalAlign:o}}var r=i(1),s=i(3),l=i(12),h=i(4),u=h.remRadian,c=h.isRadianAroundZero,d=Math.PI,f=function(t,e){this.opt=e,this.axisModel=t,r.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new s.Group({position:e.position.slice(),rotation:e.rotation})};f.prototype={constructor:f,hasBuilder:function(t){return!!p[t]},add:function(t){p[t].call(this)},getGroup:function(){return this.group}};var p={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent();this.group.add(new s.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:r.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold,silent:!!t.axisLineSilent,z2:1}))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show")){for(var e=t.axis,i=t.getModel("axisTick"),n=this.opt,o=i.getModel("lineStyle"),a=i.get("length"),r=m(i,n.labelInterval),l=e.getTicksCoords(),h=[],u=0;u<l.length;u++)if(!g(e,u,r)){var c=l[u];h.push(new s.Line(s.subPixelOptimizeLine({shape:{x1:c,y1:0,x2:c,y2:n.tickDirection*a},style:{lineWidth:o.get("width")},silent:!0})))}this.group.add(s.mergePath(h,{style:o.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){function t(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();return i&&n?(i.applyTransform(t.getLocalTransform()),n.applyTransform(e.getLocalTransform()),i.intersect(n)):void 0}var e=this.axisModel;if(e.get("axisLabel.show")){var i=this.opt,a=e.axis,r=e.getModel("axisLabel"),h=r.getModel("textStyle"),u=r.get("margin"),c=a.scale.getTicks(),f=e.getFormattedLabels(),p=i.labelRotation;null==p&&(p=r.get("rotate")||0),p=p*d/180;for(var m=o(i,p,i.labelDirection),v=e.get("data"),y=[],x=e.get("silent"),_=0;_<c.length;_++)if(!g(a,_,i.labelInterval)){var b=h;v&&v[_]&&v[_].textStyle&&(b=new l(v[_].textStyle,h,e.ecModel));var w=b.getTextColor(),S=a.dataToCoord(c[_]),M=[S,i.labelOffset+i.labelDirection*u],A=a.scale.getLabel(c[_]),I=new s.Text({style:{text:f[_],textAlign:b.get("align",!0)||m.textAlign,textVerticalAlign:b.get("baseline",!0)||m.verticalAlign,textFont:b.getFont(),fill:"function"==typeof w?w(A):w},position:M,rotation:m.rotation,silent:x,z2:10});I.eventData=n(e),I.eventData.targetType="axisLabel",I.eventData.value=A,y.push(I),this.group.add(I)}if("category"!==a.type){if(e.getMin?e.getMin():e.get("min")){var T=y[0],L=y[1];t(T,L)&&(T.ignore=!0)}if(e.getMax?e.getMax():e.get("max")){var C=y[y.length-1],D=y[y.length-2];t(D,C)&&(C.ignore=!0)}}}},axisName:function(){var t=this.opt,e=this.axisModel,i=this.opt.axisName;if(null==i&&(i=e.get("name")),i){var r,l=e.get("nameLocation"),h=t.nameDirection,u=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,d=this.axisModel.axis.getExtent(),f=d[0]>d[1]?-1:1,p=["start"===l?d[0]-f*c:"end"===l?d[1]+f*c:(d[0]+d[1])/2,"middle"===l?t.labelOffset+h*c:0];r="middle"===l?o(t,t.rotation,h):a(t,l,d);var g=new s.Text({style:{text:i,textFont:u.getFont(),fill:u.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.verticalAlign},position:p,rotation:r.rotation,silent:e.get("silent"),z2:1});g.eventData=n(e),g.eventData.targetType="axisName",g.eventData.name=i,this.group.add(g)}}},g=f.ifIgnoreOnTick=function(t,e,i){var n,o=t.scale;return"ordinal"===o.type&&("function"==typeof i?(n=o.getTicks()[e],!i(n,o.getLabel(n))):e%(i+1))},m=f.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i};t.exports=f},function(t,e,i){function n(t){return r.isObject(t)&&null!=t.value?t.value:t}function o(){return"category"===this.get("type")&&r.map(this.get("data"),n)}function a(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var r=i(1),s=i(24);t.exports={getFormattedLabels:a,getCategories:o}},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var o=i(10),a=i(1),r=i(62),s=o.extend({type:"cartesian2dAxis",axis:null,
init:function(){s.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},getMin:function(){var t=this.option;return null!=t.rangeStart?t.rangeStart:t.min},getMax:function(){var t=this.option;return null!=t.rangeEnd?t.rangeEnd:t.max},getNeedCrossZero:function(){var t=this.option;return null!=t.rangeStart||null!=t.rangeEnd?!1:!t.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});a.merge(s.prototype,i(50));var l={gridIndex:0};r("x",s,n,l),r("y",s,n,l),t.exports=s},function(t,e,i){function n(t,e,i){return i.getComponent("grid",t.get("gridIndex"))===e}function o(t){var e,i=t.model,n=i.getFormattedLabels(),o=1,a=n.length;a>40&&(o=Math.ceil(a/40));for(var r=0;a>r;r+=o)if(!t.isLabelIgnored(r)){var s=i.getTextRect(n[r]);e?e.union(s):e=s}return e}function a(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this._model=t}function r(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var s=i(11),l=i(24),h=i(1),u=i(106),c=i(104),d=h.each,f=l.ifAxisCrossZero,p=l.niceScaleExtent;i(107);var g=a.prototype;g.type="grid",g.getRect=function(){return this._rect},g.update=function(t,e){function i(t){var e=n[t];for(var i in e){var o=e[i];if(o&&("category"===o.type||!f(o)))return!0}return!1}var n=this._axesMap;this._updateScale(t,this._model),d(n.x,function(t){p(t,t.model)}),d(n.y,function(t){p(t,t.model)}),d(n.x,function(t){i("y")&&(t.onZero=!1)}),d(n.y,function(t){i("x")&&(t.onZero=!1)}),this.resize(this._model,e)},g.resize=function(t,e){function i(){d(a,function(t){var e=t.isHorizontal(),i=e?[0,n.width]:[0,n.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),r(t,e?n.x:n.y)})}var n=s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=n;var a=this._axesList;i(),t.get("containLabel")&&(d(a,function(t){if(!t.model.get("axisLabel.inside")){var e=o(t);if(e){var i=t.isHorizontal()?"height":"width",a=t.model.get("axisLabel.margin");n[i]-=e[i]+a,"top"===t.position?n.y+=e.height+a:"left"===t.position&&(n.x+=e.width+a)}}}),i())},g.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)return i[n];return i[e]}},g.getCartesian=function(t,e){var i="x"+t+"y"+e;return this._coordsMap[i]},g._initCartesian=function(t,e,i){function o(i){return function(o,h){if(n(o,t,e)){var u=o.get("position");"x"===i?("top"!==u&&"bottom"!==u&&(u="bottom"),a[u]&&(u="top"===u?"bottom":"top")):("left"!==u&&"right"!==u&&(u="left"),a[u]&&(u="left"===u?"right":"left")),a[u]=!0;var d=new c(i,l.createScaleByModel(o),[0,0],o.get("type"),u),f="category"===d.type;d.onBand=f&&o.get("boundaryGap"),d.inverse=o.get("inverse"),d.onZero=o.get("axisLine.onZero"),o.axis=d,d.model=o,d.index=h,this._axesList.push(d),r[i][h]=d,s[i]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};return e.eachComponent("xAxis",o("x"),this),e.eachComponent("yAxis",o("y"),this),s.x&&s.y?(this._axesMap=r,void d(r.x,function(t,e){d(r.y,function(i,n){var o="x"+e+"y"+n,a=new u(o);a.grid=this,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(t),a.addAxis(i)},this)},this)):(this._axesMap={},void(this._axesList=[]))},g._updateScale=function(t,e){function i(t,e,i){d(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtent(t.getDataExtent(i,"ordinal"!==e.scale.type))})}h.each(this._axesList,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeries(function(o){if("cartesian2d"===o.get("coordinateSystem")){var a=o.get("xAxisIndex"),r=o.get("yAxisIndex"),s=t.getComponent("xAxis",a),l=t.getComponent("yAxis",r);if(!n(s,e,t)||!n(l,e,t))return;var h=this.getCartesian(a,r),u=o.getData(),c=h.getAxis("x"),d=h.getAxis("y");"list"===u.type&&(i(u,c,o),i(u,d,o))}},this)},a.create=function(t,e){var i=[];return t.eachComponent("grid",function(n,o){var r=new a(n,t,e);r.name="grid_"+o,r.resize(n,e),n.coordinateSystem=r,i.push(r)}),t.eachSeries(function(e){if("cartesian2d"===e.get("coordinateSystem")){var n=e.get("xAxisIndex"),o=t.getComponent("xAxis",n),a=i[o.get("gridIndex")];e.coordinateSystem=a.getCartesian(n,e.get("yAxisIndex"))}}),i},a.dimensions=u.prototype.dimensions,i(23).register("cartesian2d",a),t.exports=a},function(t,e){t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem;if(i){var n=i.dimensions;e.each(n,function(t,n,o){var a;a=isNaN(t)||isNaN(n)?[NaN,NaN]:i.dataToPoint([t,n]),e.setItemLayout(o,a)},!0)}})}},function(t,e,i){var n=i(27),o=i(42),a=i(20),r=function(){this.group=new n,this.uid=o.getUID("viewComponent")};r.prototype={constructor:r,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};var s=r.prototype;s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,n){},a.enableClassExtend(r),a.enableClassManagement(r,{registerWhenExtend:!0}),t.exports=r},function(t,e,i){"use strict";var n=i(58),o=i(21),a=i(77),r=i(154),s=i(1),l=function(t){a.call(this,t),o.call(this,t),r.call(this,t),this.id=t.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty()},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,r),s.mixin(l,a),s.mixin(l,o),t.exports=l},function(t,e,i){function n(t,e){return t[e]}function o(t,e,i){t[e]=i}function a(t,e,i){return(e-t)*i+t}function r(t,e,i){return i>.5?e:t}function s(t,e,i,n,o){var r=t.length;if(1==o)for(var s=0;r>s;s++)n[s]=a(t[s],e[s],i);else for(var l=t[0].length,s=0;r>s;s++)for(var h=0;l>h;h++)n[s][h]=a(t[s][h],e[s][h],i)}function l(t,e,i){var n=t.length,o=e.length;if(n!==o){var a=n>o;if(a)t.length=o;else for(var r=n;o>r;r++)t.push(1===i?e[r]:x.call(e[r]))}for(var s=t[0]&&t[0].length,r=0;r<t.length;r++)if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var l=0;s>l;l++)isNaN(t[r][l])&&(t[r][l]=e[r][l])}function h(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var o=0;n>o;o++)if(t[o]!==e[o])return!1}else for(var a=t[0].length,o=0;n>o;o++)for(var r=0;a>r;r++)if(t[o][r]!==e[o][r])return!1;return!0}function u(t,e,i,n,o,a,r,s,l){var h=t.length;if(1==l)for(var u=0;h>u;u++)s[u]=c(t[u],e[u],i[u],n[u],o,a,r);else for(var d=t[0].length,u=0;h>u;u++)for(var f=0;d>f;f++)s[u][f]=c(t[u][f],e[u][f],i[u][f],n[u][f],o,a,r)}function c(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function d(t){if(y(t)){var e=t.length;if(y(t[0])){for(var i=[],n=0;e>n;n++)i.push(x.call(t[n]));return i}return x.call(t)}return t}function f(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function p(t,e,i,n,o){var d=t._getter,p=t._setter,v="spline"===e,x=n.length;if(x){var _,b=n[0].value,w=y(b),S=!1,M=!1,A=w&&y(b[0])?2:1;n.sort(function(t,e){return t.time-e.time}),_=n[x-1].time;for(var I=[],T=[],L=n[0].value,C=!0,D=0;x>D;D++){I.push(n[D].time/_);var P=n[D].value;if(w&&h(P,L,A)||!w&&P===L||(C=!1),L=P,"string"==typeof P){var k=m.parse(P);k?(P=k,S=!0):M=!0}T.push(P)}if(!C){for(var z=T[x-1],D=0;x-1>D;D++)w?l(T[D],z,A):!isNaN(T[D])||isNaN(z)||M||S||(T[D]=z);w&&l(d(t._target,o),z,A);var E,O,R,V,N,B,G=0,F=0;if(S)var H=[0,0,0,0];var W=function(t,e){var i;if(F>e){for(E=Math.min(G+1,x-1),i=E;i>=0&&!(I[i]<=e);i--);i=Math.min(i,x-2)}else{for(i=G;x>i&&!(I[i]>e);i++);i=Math.min(i-1,x-2)}G=i,F=e;var n=I[i+1]-I[i];if(0!==n)if(O=(e-I[i])/n,v)if(V=T[i],R=T[0===i?i:i-1],N=T[i>x-2?x-1:i+1],B=T[i>x-3?x-1:i+2],w)u(R,V,N,B,O,O*O,O*O*O,d(t,o),A);else{var l;if(S)l=u(R,V,N,B,O,O*O,O*O*O,H,1),l=f(H);else{if(M)return r(V,N,O);l=c(R,V,N,B,O,O*O,O*O*O)}p(t,o,l)}else if(w)s(T[i],T[i+1],O,d(t,o),A);else{var l;if(S)s(T[i],T[i+1],O,H,1),l=f(H);else{if(M)return r(T[i],T[i+1],O);l=a(T[i],T[i+1],O)}p(t,o,l)}},Z=new g({target:t._target,life:_,loop:t._loop,delay:t._delay,onframe:W,ondestroy:i});return e&&"spline"!==e&&(Z.easing=e),Z}}}var g=i(131),m=i(22),v=i(1),y=v.isArrayLike,x=Array.prototype.slice,_=function(t,e,i,a){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||n,this._setter=a||o,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(t,e){var i=this._tracks;for(var n in e){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:d(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;e>i;i++)t[i].call(this)},start:function(t){var e,i=this,n=0,o=function(){n--,n||i._doneCallback()};for(var a in this._tracks){var r=p(this,t,o,this._tracks[a],a);r&&(this._clipList.push(r),n++,this.animation&&this.animation.addClip(r),e=r)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=_},function(t,e){var i=2*Math.PI;t.exports={normalizeRadian:function(t){return t%=i,0>t&&(t+=i),t}}},function(t,e){var i=2311;t.exports=function(){return"zr_"+i++}},function(t,e,i){var n=i(144),o=i(143);t.exports={buildPath:function(t,e,i){var a=e.points,r=e.smooth;if(a&&a.length>=2){if(r&&"spline"!==r){var s=o(a,r,i,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var l=a.length,h=0;(i?l:l-1)>h;h++){var u=s[2*h],c=s[2*h+1],d=a[(h+1)%l];t.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===r&&(a=n(a,i)),t.moveTo(a[0][0],a[0][1]);for(var h=1,f=a.length;f>h;h++)t.lineTo(a[h][0],a[h][1])}i&&t.closePath()}}}},function(t,e){t.exports={buildPath:function(t,e){var i,n,o,a,r=e.x,s=e.y,l=e.width,h=e.height,u=e.r;0>l&&(r+=l,l=-l),0>h&&(s+=h,h=-h),"number"==typeof u?i=n=o=a=u:u instanceof Array?1===u.length?i=n=o=a=u[0]:2===u.length?(i=o=u[0],n=a=u[1]):3===u.length?(i=u[0],n=a=u[1],o=u[2]):(i=u[0],n=u[1],o=u[2],a=u[3]):i=n=o=a=0;var c;i+n>l&&(c=i+n,i*=l/c,n*=l/c),o+a>l&&(c=o+a,o*=l/c,a*=l/c),n+o>h&&(c=n+o,n*=h/c,o*=h/c),i+a>h&&(c=i+a,i*=h/c,a*=h/c),t.moveTo(r+i,s),t.lineTo(r+l-n,s),0!==n&&t.quadraticCurveTo(r+l,s,r+l,s+n),t.lineTo(r+l,s+h-o),0!==o&&t.quadraticCurveTo(r+l,s+h,r+l-o,s+h),t.lineTo(r+a,s+h),0!==a&&t.quadraticCurveTo(r,s+h,r,s+h-a),t.lineTo(r,s+i),0!==i&&t.quadraticCurveTo(r,s,r+i,s)}}},function(t,e,i){var n=i(1);t.exports={updateSelectedMap:function(t){this._selectTargetMap=n.reduce(t||[],function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._selectTargetMap,i=e[t],o=this.get("selectedMode");"single"===o&&n.each(e,function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t){var e=this._selectTargetMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._selectTargetMap[t];return null!=e?(this[e.selected?"unSelect":"select"](t),e.selected):void 0},isSelected:function(t){var e=this._selectTargetMap[t];return e&&e.selected}}},function(t,e,i){var n=i(72),o=i(1),a=i(10),r=i(11),s=["value","category","time","log"];t.exports=function(t,e,i,l){o.each(s,function(a){e.extend({type:t+"Axis."+a,mergeDefaultAndTheme:function(e,n){var s=this.layoutMode,l=s?r.getLayoutParams(e):{},h=n.getTheme();o.merge(e,h.get(a+"Axis")),o.merge(e,this.getDefaultOption()),e.type=i(t,e),s&&r.mergeLayoutParam(e,l,s)},defaultOption:o.mergeAll([{},n[a+"Axis"],l],!0)})}),a.registerSubTypeDefaulter(t+"Axis",o.curry(i,t))}},function(t,e){t.exports=function(t,e){var i=e.findComponents({mainType:"legend"});i&&i.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(n))return!1;return!0},this)},this)}},function(t,e){t.exports=function(t,e){var i=e.get("color"),n=0;e.eachRawSeriesByType(t,function(t){var o=t.get("color",!0),a=t.getRawData();if(!e.isSeriesFiltered(t)){var r=t.getData();r.each(function(t){var e=r.getItemModel(t),s=r.getRawIndex(t),l=r.getItemVisual(t,"color",!0);if(l)a.setItemVisual(s,"color",l);else{var h=o?o[s%o.length]:i[(s+n)%i.length],u=e.get("itemStyle.normal.color")||h;a.setItemVisual(s,"color",u),r.setItemVisual(t,"color",u)}})}n+=a.count()})}},function(t,e,i){var n=i(5),o=i(16),a={},r=Math.min,s=Math.max,l=Math.sin,h=Math.cos,u=n.create(),c=n.create(),d=n.create(),f=2*Math.PI;a.fromPoints=function(t,e,i){if(0!==t.length){var n,o=t[0],a=o[0],l=o[0],h=o[1],u=o[1];for(n=1;n<t.length;n++)o=t[n],a=r(a,o[0]),l=s(l,o[0]),h=r(h,o[1]),u=s(u,o[1]);e[0]=a,e[1]=h,i[0]=l,i[1]=u}},a.fromLine=function(t,e,i,n,o,a){o[0]=r(t,i),o[1]=r(e,n),a[0]=s(t,i),a[1]=s(e,n)};var p=[],g=[];a.fromCubic=function(t,e,i,n,a,l,h,u,c,d){var f,m=o.cubicExtrema,v=o.cubicAt,y=m(t,i,a,h,p);for(c[0]=1/0,c[1]=1/0,d[0]=-(1/0),d[1]=-(1/0),f=0;y>f;f++){var x=v(t,i,a,h,p[f]);c[0]=r(x,c[0]),d[0]=s(x,d[0])}for(y=m(e,n,l,u,g),f=0;y>f;f++){var _=v(e,n,l,u,g[f]);c[1]=r(_,c[1]),d[1]=s(_,d[1])}c[0]=r(t,c[0]),d[0]=s(t,d[0]),c[0]=r(h,c[0]),d[0]=s(h,d[0]),c[1]=r(e,c[1]),d[1]=s(e,d[1]),c[1]=r(u,c[1]),d[1]=s(u,d[1])},a.fromQuadratic=function(t,e,i,n,a,l,h,u){var c=o.quadraticExtremum,d=o.quadraticAt,f=s(r(c(t,i,a),1),0),p=s(r(c(e,n,l),1),0),g=d(t,i,a,f),m=d(e,n,l,p);h[0]=r(t,a,g),h[1]=r(e,l,m),u[0]=s(t,a,g),u[1]=s(e,l,m)},a.fromArc=function(t,e,i,o,a,r,s,p,g){var m=n.min,v=n.max,y=Math.abs(a-r);if(1e-4>y%f&&y>1e-4)return p[0]=t-i,p[1]=e-o,g[0]=t+i,void(g[1]=e+o);if(u[0]=h(a)*i+t,u[1]=l(a)*o+e,c[0]=h(r)*i+t,c[1]=l(r)*o+e,m(p,u,c),v(g,u,c),a%=f,0>a&&(a+=f),r%=f,0>r&&(r+=f),a>r&&!s?r+=f:r>a&&s&&(a+=f),s){var x=r;r=a,a=x}for(var _=0;r>_;_+=Math.PI/2)_>a&&(d[0]=h(_)*i+t,d[1]=l(_)*o+e,m(p,d,p),v(g,d,g))},t.exports=a},function(t,e,i){var n=i(37),o=i(1),a=i(18),r=function(t){n.call(this,t)};r.prototype={constructor:r,type:"text",brush:function(t){var e=this.style,i=e.x||0,n=e.y||0,o=e.text,r=e.fill,s=e.stroke;if(null!=o&&(o+=""),o){if(t.save(),this.style.bind(t),this.setTransform(t),r&&(t.fillStyle=r),s&&(t.strokeStyle=s),t.font=e.textFont||e.font,t.textAlign=e.textAlign,e.textVerticalAlign){var l=a.getBoundingRect(o,t.font,e.textAlign,"top");switch(t.textBaseline="middle",e.textVerticalAlign){case"middle":n-=l.height/2-l.lineHeight/2;break;case"bottom":n-=l.height-l.lineHeight/2;break;default:n+=l.lineHeight/2}}else t.textBaseline=e.textBaseline;for(var h=a.measureText("",t.font).width,u=o.split("\n"),c=0;c<u.length;c++)r&&t.fillText(u[c],i,n),s&&t.strokeText(u[c],i,n),n+=h;t.restore()}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,i=a.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":i.y-=i.height/2;break;case"bottom":i.y-=i.height}i.x+=t.x||0,i.y+=t.y||0,this._rect=i}return this._rect}},o.inherits(r,n),t.exports=r},function(t,e,i){function n(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function o(t,e){t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}var a=i(18),r=i(8),s=new r,l=function(){};l.prototype={constructor:l,drawRectText:function(t,e,i){var r=this.style,l=r.text;if(null!=l&&(l+=""),l){var h,u,c=r.textPosition,d=r.textDistance,f=r.textAlign,p=r.textFont||r.font,g=r.textBaseline,m=r.textVerticalAlign;i=i||a.getBoundingRect(l,p,f,g);var v=this.transform,y=this.invTransform;if(v&&(s.copy(e),s.applyTransform(v),e=s,o(t,y)),c instanceof Array){if(h=e.x+n(c[0],e.width),u=e.y+n(c[1],e.height),f=f||"left",g=g||"top",m){switch(m){case"middle":u-=i.height/2-i.lineHeight/2;break;case"bottom":u-=i.height-i.lineHeight/2;break;default:u+=i.lineHeight/2}g="middle"}}else{var x=a.adjustTextPositionOnRect(c,e,i,d);h=x.x,u=x.y,f=f||x.textAlign,g=g||x.textBaseline}t.textAlign=f,t.textBaseline=g;var _=r.textFill,b=r.textStroke;_&&(t.fillStyle=_),b&&(t.strokeStyle=b),t.font=p,t.shadowColor=r.textShadowColor,t.shadowBlur=r.textShadowBlur,t.shadowOffsetX=r.textShadowOffsetX,t.shadowOffsetY=r.textShadowOffsetY;for(var w=l.split("\n"),S=0;S<w.length;S++)_&&t.fillText(w[S],h,u),b&&t.strokeText(w[S],h,u),u+=i.lineHeight;v&&o(t,v)}}},t.exports=l},function(t,e,i){function n(t){delete c[t]}/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */
var o=i(58),a=i(14),r=i(126),s=i(129),l=i(130),h=!a.canvasSupported,u={canvas:i(128)},c={},d={};d.version="3.1.0",d.init=function(t,e){var i=new f(o(),t,e);return c[i.id]=i,i},d.dispose=function(t){if(t)t.dispose();else{for(var e in c)c[e].dispose();c={}}return d},d.getInstance=function(t){return c[t]},d.registerPainter=function(t,e){u[t]=e};var f=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new s,c=i.renderer;if(h){if(!u.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");c="vml"}else c&&u[c]||(c="canvas");var d=new u[c](e,o,i);this.storage=o,this.painter=d,a.node||(this.handler=new r(d.getViewportRoot(),o,d)),this.animation=new l({stage:{update:function(){n._needsRefresh&&n.refreshImmediately()}}}),this.animation.start(),this._needsRefresh;var f=o.delFromMap,p=o.addToMap;o.delFromMap=function(t){var e=o.get(t);f.call(o,t),e&&e.removeSelfFromZr(n)},o.addToMap=function(t){p.call(o,t),t.addSelfToZr(n)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e,i){var n=o();return this.painter.pathToImage(n,t,e,i)},setDefaultCursorStyle:function(t){this.handler.setDefaultCursorStyle(t)},on:function(t,e,i){this.handler&&this.handler.on(t,e,i)},off:function(t,e){this.handler&&this.handler.off(t,e)},trigger:function(t,e){this.handler&&this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,n(this.id)}},t.exports=d},function(t,e,i){var n=i(2),o=i(1);t.exports=function(t,e){o.each(e,function(e){e.update="updateView",n.registerAction(e,function(i,n){var o={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name);var n=t.getData();n.each(function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1})}),{name:i.name,selected:o}})})}},function(t,e,i){function n(t){if(!t.target||!t.target.draggable){var e=t.offsetX,i=t.offsetY,n=this.rectProvider&&this.rectProvider();n&&n.contain(e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function o(t){if(this._dragging&&(d.stop(t.event),"pinch"!==t.gestureEvent)){if(f.isTaken("globalPan",this._zr))return;var e=t.offsetX,i=t.offsetY,n=e-this._x,o=i-this._y;this._x=e,this._y=i;var a=this.target;if(a){var r=a.position;r[0]+=n,r[1]+=o,a.dirty()}d.stop(t.event),this.trigger("pan",n,o)}}function a(t){this._dragging=!1}function r(t){var e=t.wheelDelta>0?1.1:1/1.1;l.call(this,t,e,t.offsetX,t.offsetY)}function s(t){if(!f.isTaken("globalPan",this._zr)){var e=t.pinchScale>1?1.1:1/1.1;l.call(this,t,e,t.pinchX,t.pinchY)}}function l(t,e,i,n){var o=this.rectProvider&&this.rectProvider();if(o&&o.contain(i,n)){d.stop(t.event);var a=this.target,r=this.zoomLimit;if(a){var s=a.position,l=a.scale,h=this.zoom=this.zoom||1;if(h*=e,r){var u=r.min||0,c=r.max||1/0;h=Math.max(Math.min(c,h),u)}var f=h/this.zoom;this.zoom=h,s[0]-=(i-s[0])*(f-1),s[1]-=(n-s[1])*(f-1),l[0]*=f,l[1]*=f,a.dirty()}this.trigger("zoom",e,i,n)}}function h(t,e,i){this.target=e,this.rectProvider=i,this.zoomLimit,this.zoom,this._zr=t;var l=c.bind,h=l(n,this),d=l(o,this),f=l(a,this),p=l(r,this),g=l(s,this);u.call(this),this.enable=function(e){this.disable(),null==e&&(e=!0),e!==!0&&"move"!==e&&"pan"!==e||(t.on("mousedown",h),t.on("mousemove",d),t.on("mouseup",f)),e!==!0&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",p),t.on("pinch",g))},this.disable=function(){t.off("mousedown",h),t.off("mousemove",d),t.off("mouseup",f),t.off("mousewheel",p),t.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var u=i(21),c=i(1),d=i(34),f=i(101);c.mixin(h,u),t.exports=h},function(t,e){t.exports=function(t,e,i,n,o){function a(t,e,i){var n=e.length?e.slice():[e,e];return e[0]>e[1]&&n.reverse(),0>t&&n[0]+t<i[0]&&(t=i[0]-n[0]),t>0&&n[1]+t>i[1]&&(t=i[1]-n[1]),t}return t?("rigid"===n?(t=a(t,e,i),e[0]+=t,e[1]+=t):(t=a(t,e[o],i),e[o]+=t,"push"===n&&e[0]>e[1]&&(e[1-o]=e[o])),e):e}},function(t,e,i){var n=i(1),o={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,silent:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},a=n.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},o),r=n.defaults({boundaryGap:[0,0],splitNumber:5},o),s=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},r),l=n.defaults({},r);l.scale=!0,t.exports={categoryAxis:a,valueAxis:r,timeAxis:s,logAxis:l}},function(t,e,i){function n(t){var e=t.pieceList;t.hasSpecialVisual=!1,c.each(e,function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)})}function o(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(p(e,function(t,e){n[t]=e}),!c.isArray(i)){var o=[];c.isObject(i)?p(i,function(t,e){var i=n[e];o[null!=i?i:m]=t}):o[m]=i,i=t.visual=o}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete n[e[a]],e.pop())}function a(t,e){var i=t.visual,n=[];c.isObject(i)?p(i,function(t){n.push(t)}):null!=i&&n.push(i);var o={color:1,symbol:1};e||1!==n.length||t.type in o||(n[1]=n[0]),t.visual=n}function r(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n("color",t(i("color"),e))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=u(this)?h(this,n,e):f(e,[0,1],n,!0)),i}}}function s(t,e){return t[Math.round(f(e,[0,1],[0,t.length-1],!0))]}function l(t,e,i){i("color",this.mapValueToVisual(t))}function h(t,e,i){return e[t.option.loop&&i!==m?i%e.length:i]}function u(t){return"category"===t.option.mappingMethod}var c=i(1),d=i(22),f=i(4).linearMap,p=c.each,g=c.isObject,m=-1,v=function(t){var e=t.mappingMethod,i=t.type,r=this.option=c.clone(t);this.type=i,this.mappingMethod=e,this._normalizeData=x[e],this._getSpecifiedVisual=c.bind(_[e],this,i),c.extend(this,y[i]),"piecewise"===e?(a(r),n(r)):"category"===e?r.categories?o(r):a(r,!0):(c.assert(r.dataExtent),a(r))};v.prototype={constructor:v,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return c.bind(this._normalizeData,this)}};var y=v.visualHandlers={color:{applyVisual:l,getColorMapper:function(){var t=u(this)?this.option.visual:c.map(this.option.visual,d.parse);return c.bind(u(this)?function(e,i){return!i&&(e=this._normalizeData(e)),h(this,t,e)}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=d.fastMapToColor(e,t,n),o?n:c.stringify(n,"rgba")},this)},mapValueToVisual:function(t){var e=this.option.visual,i=this._normalizeData(t),n=this._getSpecifiedVisual(t);return null==n&&(n=u(this)?h(this,e,i):d.mapToColor(i,e)),n}},colorHue:r(function(t,e){return d.modifyHSL(t,e)}),colorSaturation:r(function(t,e){return d.modifyHSL(t,null,e)}),colorLightness:r(function(t,e){return d.modifyHSL(t,null,null,e)}),colorAlpha:r(function(t,e){return d.modifyAlpha(t,e)}),opacity:{applyVisual:function(t,e,i){i("opacity",this.mapValueToVisual(t))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=u(this)?h(this,n,e):f(e,[0,1],n,!0)),i}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(c.isString(n))i("symbol",n);else if(g(n))for(var o in n)n.hasOwnProperty(o)&&i(o,n[o])},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=u(this)?h(this,n,e):s(n,e)||{}),i}},symbolSize:{applyVisual:function(t,e,i){i("symbolSize",this.mapValueToVisual(t))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=u(this)?h(this,n,e):f(e,[0,1],n,!0)),i}}},x={linear:function(t){return f(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=v.findPieceIndex(t,e);return null!=i?f(i,[0,e.length-1],[0,1],!0):void 0},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?m:e}},_={linear:c.noop,piecewise:function(t,e){var i=this.option,n=i.pieceList;if(i.hasSpecialVisual){var o=v.findPieceIndex(e,n),a=n[o];if(a&&a.visual)return a.visual[t]}},category:c.noop};v.addVisualHandler=function(t,e){y[t]=e},v.isValidType=function(t){return y.hasOwnProperty(t)},v.eachVisual=function(t,e,i){c.isObject(t)?c.each(t,e,i):e.call(i,t)},v.mapVisual=function(t,e,i){var n,o=c.isArray(t)?[]:c.isObject(t)?{}:(n=!0,null);return v.eachVisual(t,function(t,a){var r=e.call(i,t,a);n?o=r:o[a]=r}),o},v.retrieveVisuals=function(t){var e,i={};return t&&p(y,function(n,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},v.prepareVisualTypes=function(t){if(g(t)){var e=[];p(t,function(t,i){e.push(i)}),t=e}else{if(!c.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},v.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},v.findPieceIndex=function(t,e){for(var i=0,n=e.length;n>i;i++){var o=e[i];if(null!=o.value&&o.value===t)return i}for(var i=0,n=e.length;n>i;i++){var o=e[i],a=o.interval;if(a)if(a[0]===-(1/0)){if(t<a[1])return i}else if(a[1]===1/0){if(a[0]<t)return i}else if(o.interval[0]<=t&&t<=o.interval[1])return i}},t.exports=v},function(t,e,i){var n=i(17);t.exports=function(t,e,i){function o(t){var o=[e,"normal","color"],a=i.get("color"),r=t.getData(),s=t.get(o)||a[t.seriesIndex%a.length];r.setVisual("color",s),i.isSeriesFiltered(t)||("function"!=typeof s||s instanceof n||r.each(function(e){r.setItemVisual(e,"color",s(t.getDataParams(e)))}),r.each(function(t){var e=r.getItemModel(t),i=e.get(o,!0);null!=i&&r.setItemVisual(t,"color",i)}))}t?i.eachSeriesByType(t,o):i.eachSeries(o)}},function(t,e){t.exports=function(t,e,i,n,o,a){if(a>e&&a>n||e>a&&n>a)return 0;if(n===e)return 0;var r=e>n?1:-1,s=(a-e)/(n-e),l=s*(i-t)+t;return l>o?r:0}},function(t,e,i){"use strict";var n=i(1),o=i(17),a=function(t,e,i,n,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,o.call(this,a)};a.prototype={constructor:a,type:"linear"},n.inherits(a,o),t.exports=a},function(t,e,i){"use strict";function n(t){return t>s||-s>t}var o=i(19),a=i(5),r=o.identity,s=5e-5,l=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},h=l.prototype;h.transform=null,h.needLocalTransform=function(){return n(this.rotation)||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1)},h.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||e?(n=n||o.create(),i?this.getLocalTransform(n):r(n),e&&(i?o.mul(n,t.transform,n):o.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||o.create(),void o.invert(this.invTransform,n)):void(n&&r(n))},h.getLocalTransform=function(t){t=t||[],r(t);var e=this.origin,i=this.scale,n=this.rotation,a=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),o.scale(t,t,i),n&&o.rotate(t,t,n),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=a[0],t[5]+=a[1],t},h.setTransform=function(t){var e=this.transform;e&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])};var u=[];h.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(o.mul(u,t.invTransform,e),e=u);var i=e[0]*e[0]+e[1]*e[1],a=e[2]*e[2]+e[3]*e[3],r=this.position,s=this.scale;n(i-1)&&(i=Math.sqrt(i)),n(a-1)&&(a=Math.sqrt(a)),e[0]<0&&(i=-i),e[3]<0&&(a=-a),r[0]=e[4],r[1]=e[5],s[0]=i,s[1]=a,this.rotation=Math.atan2(-e[1]/a,e[0]/i)}},h.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i]},h.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&a.applyTransform(i,i,n),i},h.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&a.applyTransform(i,i,n),i},t.exports=l},function(t,e,i){"use strict";function n(t){o.each(a,function(e){this[e]=o.bind(t[e],t)},this)}var o=i(1),a=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];t.exports=n},function(t,e,i){var n=i(1);i(52),i(80),i(81);var o=i(109),a=i(2);a.registerLayout(n.curry(o,"bar")),a.registerVisualCoding("chart",function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})}),i(36)},function(t,e,i){"use strict";var n=i(13),o=i(35);t.exports=n.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(t,e){return o(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(t),n=this.getData(),o=n.getLayout("offset"),a=n.getLayout("size"),r=e.getBaseAxis().isHorizontal()?0:1;return i[r]+=o+a/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})},function(t,e,i){"use strict";function n(t,e){var i=t.width>0?1:-1,n=t.height>0?1:-1;e=Math.min(e,Math.abs(t.width),Math.abs(t.height)),t.x+=i*e/2,t.y+=n*e/2,t.width-=i*e,t.height-=n*e}var o=i(1),a=i(3);o.extend(i(12).prototype,i(82)),t.exports=i(2).extendChartView({type:"bar",render:function(t,e,i){var n=t.get("coordinateSystem");return"cartesian2d"===n&&this._renderOnCartesian(t,e,i),this.group},_renderOnCartesian:function(t,e,i){function r(e,i){var r=l.getItemLayout(e),s=l.getItemModel(e).get(p)||0;n(r,s);var h=new a.Rect({shape:o.extend({},r)});if(f){var u=h.shape,c=d?"height":"width",g={};u[c]=0,g[c]=r[c],a[i?"updateProps":"initProps"](h,{shape:g},t,e)}return h}var s=this.group,l=t.getData(),h=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),d=c.isHorizontal(),f=t.get("animation"),p=["itemStyle","normal","barBorderWidth"];l.diff(h).add(function(t){if(l.hasValue(t)){var e=r(t);l.setItemGraphicEl(t,e),s.add(e)}}).update(function(e,i){var o=h.getItemGraphicEl(i);if(!l.hasValue(e))return void s.remove(o);o||(o=r(e,!0));var u=l.getItemLayout(e),c=l.getItemModel(e).get(p)||0;n(u,c),a.updateProps(o,{shape:u},t,e),l.setItemGraphicEl(e,o),s.add(o)}).remove(function(e){var i=h.getItemGraphicEl(e);i&&(i.style.text="",a.updateProps(i,{shape:{width:0}},t,e,function(){s.remove(i)}))}).execute(),this._updateStyle(t,l,d),this._data=l},_updateStyle:function(t,e,i){function n(t,e,i,n,o){a.setText(t,e,i),t.text=n,"outside"===t.textPosition&&(t.textPosition=o)}e.eachItemGraphicEl(function(r,s){var l=e.getItemModel(s),h=e.getItemVisual(s,"color"),u=e.getItemVisual(s,"opacity"),c=e.getItemLayout(s),d=l.getModel("itemStyle.normal"),f=l.getModel("itemStyle.emphasis").getBarItemStyle();r.setShape("r",d.get("barBorderRadius")||0),r.useStyle(o.defaults({fill:h,opacity:u},d.getBarItemStyle()));var p=i?c.height>0?"bottom":"top":c.width>0?"left":"right",g=l.getModel("label.normal"),m=l.getModel("label.emphasis"),v=r.style;g.get("show")?n(v,g,h,o.retrieve(t.getFormattedLabel(s,"normal"),t.getRawValue(s)),p):v.text="",m.get("show")?n(f,m,h,o.retrieve(t.getFormattedLabel(s,"emphasis"),t.getRawValue(s)),p):f.text="",a.setHoverStyle(r,f)})},remove:function(t,e){var i=this.group;t.get("animation")?this._data&&this._data.eachItemGraphicEl(function(e){e.style.text="",a.updateProps(e,{shape:{width:0}},t,e.dataIndex,function(){i.remove(e)})}):i.removeAll()}})},function(t,e,i){t.exports={getBarItemStyle:i(30)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){function n(t){return"_"+t+"Type"}function o(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),a=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){f.isArray(a)||(a=[a,a]);var r=h.createSymbol(o,-a[0]/2,-a[1]/2,a[0],a[1],n);return r.name=t,r}}function a(t){var e=new c({name:"line"});return r(e.shape,t),e}function r(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o&&(t.cpx1=o[0],t.cpy1=o[1])}function s(){var t=this,e=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),n=t.childOfName("label");if(e||i||!n.ignore){for(var o=1,a=this.parent;a;)a.scale&&(o/=a.scale[0]),a=a.parent;var r=t.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),h=r.pointAt(s),c=u.sub([],h,l);if(u.normalize(c,c),e){e.attr("position",l);var d=r.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0])),e.attr("scale",[o*s,o*s])}if(i){i.attr("position",h);var d=r.tangentAt(1);i.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0])),i.attr("scale",[o*s,o*s])}if(!n.ignore){n.attr("position",h);var f,p,g,m=5*o;if("end"===n.__position)f=[c[0]*m+h[0],c[1]*m+h[1]],p=c[0]>.8?"left":c[0]<-.8?"right":"center",g=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var v=s/2,d=r.tangentAt(v),y=[d[1],-d[0]],x=r.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),f=[x[0]+y[0]*m,x[1]+y[1]*m],p="center",g="bottom";var _=-Math.atan2(d[1],d[0]);h[0]<l[0]&&(_=Math.PI+_),n.attr("rotation",_)}else f=[-c[0]*m+l[0],-c[1]*m+l[1]],p=c[0]>.8?"right":c[0]<-.8?"left":"center",g=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||g,textAlign:n.__textAlign||p},position:f,scale:[o,o]})}}}}function l(t,e){d.Group.call(this),this._createLine(t,e)}var h=i(25),u=i(5),c=i(164),d=i(3),f=i(1),p=i(4),g=["fromSymbol","toSymbol"],m=l.prototype;m.beforeUpdate=s,m._createLine=function(t,e){var i=t.hostModel,r=t.getItemLayout(e),s=a(r);s.shape.percent=0,d.initProps(s,{shape:{percent:1}},i,e),this.add(s);var l=new d.Text({name:"label"});this.add(l),f.each(g,function(i){var a=o(i,t,e);this.add(a),this[n(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e)},m.updateData=function(t,e){var i=t.hostModel,a=this.childOfName("line"),s=t.getItemLayout(e),l={shape:{}};r(l.shape,s),d.updateProps(a,l,i,e),f.each(g,function(i){var a=t.getItemVisual(e,i),r=n(i);if(this[r]!==a){var s=o(i,t,e);this.remove(this.childOfName(i)),this.add(s)}this[r]=a},this),this._updateCommonStl(t,e)},m._updateCommonStl=function(t,e){var i=t.hostModel,n=this.childOfName("line"),o=t.getItemModel(e),a=o.getModel("label.normal"),r=a.getModel("textStyle"),s=o.getModel("label.emphasis"),l=s.getModel("textStyle"),h=p.round(i.getRawValue(e));isNaN(h)&&(h=t.getName(e)),n.useStyle(f.extend({strokeNoScale:!0,fill:"none",stroke:t.getItemVisual(e,"color")},o.getModel("lineStyle.normal").getLineStyle())),n.hoverStyle=o.getModel("lineStyle.emphasis").getLineStyle();var u=t.getItemVisual(e,"color")||"#000",c=this.childOfName("label");c.setStyle({text:a.get("show")?f.retrieve(i.getFormattedLabel(e,"normal",t.dataType),h):"",textFont:r.getFont(),fill:r.getTextColor()||u}),c.hoverStyle={text:s.get("show")?f.retrieve(i.getFormattedLabel(e,"emphasis",t.dataType),h):"",textFont:l.getFont(),fill:l.getTextColor()||u},c.__textAlign=r.get("align"),c.__verticalAlign=r.get("baseline"),c.__position=a.get("position"),c.ignore=!c.style.text&&!c.hoverStyle.text,d.setHoverStyle(this)},m.updateLayout=function(t,e){var i=t.getItemLayout(e),n=this.childOfName("line");r(n.shape,i),n.dirty(!0)},m.setLinePoints=function(t){var e=this.childOfName("line");r(e.shape,t),e.dirty()},f.inherits(l,d.Group),t.exports=l},function(t,e,i){function n(t){return isNaN(t[0])||isNaN(t[1])}function o(t){return!n(t[0])&&!n(t[1])}function a(t){this._ctor=t||s,this.group=new r.Group}var r=i(3),s=i(83),l=a.prototype;l.updateData=function(t){var e=this._lineData,i=this.group,n=this._ctor;t.diff(e).add(function(e){if(o(t.getItemLayout(e))){var a=new n(t,e);t.setItemGraphicEl(e,a),i.add(a)}}).update(function(a,r){var s=e.getItemGraphicEl(r);return o(t.getItemLayout(a))?(s?s.updateData(t,a):s=new n(t,a),t.setItemGraphicEl(a,s),void i.add(s)):void i.remove(s)}).remove(function(t){i.remove(e.getItemGraphicEl(t))}).execute(),this._lineData=t},l.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},l.remove=function(){this.group.removeAll()},t.exports=a},function(t,e,i){var n=i(1),o=i(2);i(86),i(87),o.registerVisualCoding("chart",n.curry(i(44),"line","circle","line")),o.registerLayout(n.curry(i(53),"line")),o.registerProcessor("statistic",n.curry(i(121),"line")),i(36)},function(t,e,i){"use strict";var n=i(35),o=i(13);t.exports=o.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return n(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear"}})},function(t,e,i){"use strict";function n(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function o(t){return"number"==typeof t?t:t?.3:0}function a(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function r(t){return t>=0?1:-1}function s(t,e){var i=t.getBaseAxis(),n=t.getOtherAxis(i),o=i.onZero?0:n.scale.getExtent()[0],a=n.dim,s="x"===a||"radius"===a?1:0;return e.mapArray([a],function(n,l){for(var h,u=e.stackedOn;u&&r(u.get(a,l))===r(n);){h=u;break}var c=[];return c[s]=e.get(i.dim,l),c[1-s]=h?h.get(a,l,!0):o,t.dataToPoint(c)},!0)}function l(t,e){return null!=e.dataIndex?e.dataIndex:null!=e.name?t.indexOfName(e.name):void 0}function h(t,e,i){var n=a(t.getAxis("x")),o=a(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=Math.min(n[0],n[1]),l=Math.min(o[0],o[1]),h=Math.max(n[0],n[1])-s,u=Math.max(o[0],o[1])-l,c=i.get("lineStyle.normal.width")||2,d=i.get("clipOverflow")?c/2:Math.max(h,u);r?(l-=d,u+=2*d):(s-=d,h+=2*d);var f=new m.Rect({shape:{x:s,y:l,width:h,height:u}});return e&&(f.shape[r?"width":"height"]=0,m.initProps(f,{shape:{width:h,height:u}},i)),f}function u(t,e,i){var n=t.getAngleAxis(),o=t.getRadiusAxis(),a=o.getExtent(),r=n.getExtent(),s=Math.PI/180,l=new m.Sector({shape:{cx:t.cx,cy:t.cy,r0:a[0],r:a[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:n.inverse}});return e&&(l.shape.endAngle=-r[0]*s,m.initProps(l,{shape:{endAngle:-r[1]*s}},i)),l}function c(t,e,i){return"polar"===t.type?u(t,e,i):h(t,e,i)}var d=i(1),f=i(39),p=i(47),g=i(88),m=i(3),v=i(89),y=i(26);t.exports=y.extend({type:"line",init:function(){var t=new m.Group,e=new f;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var a=t.coordinateSystem,r=this.group,l=t.getData(),h=t.getModel("lineStyle.normal"),u=t.getModel("areaStyle.normal"),f=l.mapArray(l.getItemLayout,!0),p="polar"===a.type,g=this._coordSys,m=this._symbolDraw,v=this._polyline,y=this._polygon,x=this._lineGroup,_=t.get("animation"),b=!u.isEmpty(),w=s(a,l),S=t.get("showSymbol"),M=S&&!p&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,a),A=this._data;A&&A.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),A.setItemGraphicEl(e,null))}),S||m.remove(),r.add(x),v&&g.type===a.type?(b&&!y?y=this._newPolygon(f,w,a,_):y&&!b&&(x.remove(y),y=this._polygon=null),x.setClipPath(c(a,!1,t)),S&&m.updateData(l,M),l.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),n(this._stackedOnPoints,w)&&n(this._points,f)||(_?this._updateAnimation(l,w,a,i):(v.setShape({points:f}),y&&y.setShape({points:f,stackedOnPoints:w})))):(S&&m.updateData(l,M),v=this._newPolyline(f,a,_),b&&(y=this._newPolygon(f,w,a,_)),x.setClipPath(c(a,!0,t))),v.useStyle(d.defaults(h.getLineStyle(),{fill:"none",stroke:l.getVisual("color"),lineJoin:"bevel"}));var I=t.get("smooth");if(I=o(t.get("smooth")),v.setShape({smooth:I,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),y){var T=l.stackedOn,L=0;if(y.useStyle(d.defaults(u.getAreaStyle(),{fill:l.getVisual("color"),opacity:.7,lineJoin:"bevel"})),T){var C=T.hostModel;L=o(C.get("smooth"))}y.setShape({smooth:I,stackedOnSmooth:L,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=l,this._coordSys=a,this._stackedOnPoints=w,this._points=f},highlight:function(t,e,i,n){var o=t.getData(),a=l(o,n);if(null!=a&&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);r=new p(o,a,i),r.position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else y.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),a=l(o,n);if(null!=a&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else y.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new v.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new v.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale("ordinal")[0];return i&&i.isLabelIgnored?d.bind(i.isLabelIgnored,i):void 0},_updateAnimation:function(t,e,i,n){var o=this._polyline,a=this._polygon,r=t.hostModel,s=g(this._data,t,this._stackedOnPoints,e,this._coordSys,i);o.shape.points=s.current,m.updateProps(o,{shape:{points:s.next}},r),a&&(a.setShape({points:s.current,stackedOnPoints:s.stackedOnCurrent}),m.updateProps(a,{shape:{points:s.next,stackedOnPoints:s.stackedOnNext}},r));for(var l=[],h=s.status,u=0;u<h.length;u++){var c=h[u].cmd;if("="===c){var d=t.getItemGraphicEl(h[u].idx1);d&&l.push({el:d,ptIdx:u})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<l.length;t++){var e=l[t].el;e.attr("position",o.shape.points[l[t].ptIdx])}})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(t,e){function i(t){return t>=0?1:-1}function n(t,e,n){for(var o,a=t.getBaseAxis(),r=t.getOtherAxis(a),s=a.onZero?0:r.scale.getExtent()[0],l=r.dim,h="x"===l||"radius"===l?1:0,u=e.stackedOn,c=e.get(l,n);u&&i(u.get(l,n))===i(c);){o=u;break}var d=[];return d[h]=e.get(a.dim,n),d[1-h]=o?o.get(l,n,!0):s,t.dataToPoint(d)}function o(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}t.exports=function(t,e,i,a,r,s){for(var l=o(t,e),h=[],u=[],c=[],d=[],f=[],p=[],g=[],m=s.dimensions,v=0;v<l.length;v++){var y=l[v],x=!0;switch(y.cmd){case"=":var _=t.getItemLayout(y.idx),b=e.getItemLayout(y.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=b.slice()),h.push(_),u.push(b),c.push(i[y.idx]),d.push(a[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var w=y.idx;h.push(r.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)])),u.push(e.getItemLayout(w).slice()),c.push(n(r,e,w)),d.push(a[w]),g.push(e.getRawIndex(w));break;case"-":var w=y.idx,S=t.getRawIndex(w);S!==w?(h.push(t.getItemLayout(w)),u.push(s.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),c.push(i[w]),d.push(n(s,t,w)),g.push(S)):x=!1}x&&(f.push(y),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});for(var M=[],A=[],I=[],T=[],L=[],v=0;v<p.length;v++){var w=p[v];M[v]=h[w],A[v]=u[w],I[v]=c[w],T[v]=d[w],L[v]=f[w]}return{current:M,next:A,stackedOnCurrent:I,stackedOnNext:T,status:L}}},function(t,e,i){function n(t){return isNaN(t[0])||isNaN(t[1])}function o(t,e,i,o,a,r,g,m,v,y,x){for(var _=0,b=i,w=0;o>w;w++){var S=e[b];if(b>=a||0>b)break;if(n(S)){if(x){b+=r;continue}break}if(b===i)t[r>0?"moveTo":"lineTo"](S[0],S[1]),c(f,S);else if(v>0){var M=b+r,A=e[M];if(x)for(;A&&n(e[M]);)M+=r,A=e[M];var I=.5,T=e[_],A=e[M];if(!A||n(A))c(p,S);else{n(A)&&!x&&(A=S),s.sub(d,A,T);var L,C;if("x"===y||"y"===y){var D="x"===y?0:1;L=Math.abs(S[D]-T[D]),C=Math.abs(S[D]-A[D])}else L=s.dist(S,T),C=s.dist(S,A);I=C/(C+L),u(p,S,d,-v*(1-I))}l(f,f,m),h(f,f,g),l(p,p,m),h(p,p,g),t.bezierCurveTo(f[0],f[1],p[0],p[1],S[0],S[1]),u(f,S,d,v*I)}else t.lineTo(S[0],S[1]);_=b,b+=r}return w}function a(t,e){var i=[1/0,1/0],n=[-(1/0),-(1/0)];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<i[0]&&(i[0]=a[0]),a[1]<i[1]&&(i[1]=a[1]),a[0]>n[0]&&(n[0]=a[0]),a[1]>n[1]&&(n[1]=a[1])}return{min:e?i:n,max:e?n:i}}var r=i(6),s=i(5),l=s.min,h=s.max,u=s.scaleAndAdd,c=s.copy,d=[],f=[],p=[];t.exports={Polyline:r.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(t,e){var i=e.points,r=0,s=i.length,l=a(i,e.smoothConstraint);if(e.connectNulls){for(;s>0&&n(i[s-1]);s--);for(;s>r&&n(i[r]);r++);}for(;s>r;)r+=o(t,i,r,s,s,1,l.min,l.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:r.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(t,e){var i=e.points,r=e.stackedOnPoints,s=0,l=i.length,h=e.smoothMonotone,u=a(i,e.smoothConstraint),c=a(r,e.smoothConstraint);if(e.connectNulls){for(;l>0&&n(i[l-1]);l--);for(;l>s&&n(i[s]);s++);}for(;l>s;){var d=o(t,i,s,l,l,1,u.min,u.max,e.smooth,h,e.connectNulls);o(t,r,s+d-1,d,l,-1,c.min,c.max,e.stackedOnSmooth,h,e.connectNulls),s+=d+1,t.closePath()}}})}},function(t,e,i){var n=i(1),o=i(2);i(91),i(92),i(69)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),o.registerVisualCoding("chart",n.curry(i(64),"pie")),o.registerLayout(n.curry(i(94),"pie")),o.registerProcessor("filter",n.curry(i(63),"pie"))},function(t,e,i){"use strict";var n=i(15),o=i(1),a=i(7),r=i(31),s=i(61),l=i(2).extendSeriesModel({type:"series.pie",init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){l.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(t,e){var i=r(["value"],t.data),o=new n(i,this);return o.initData(t.data),o},getDataParams:function(t){var e=this._data,i=l.superCall(this,"getDataParams",t),n=e.getSum("value");return i.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,i.$vars.push("percent"),i},_defaultLabelLine:function(t){a.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,
hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});o.mixin(l,s),t.exports=l},function(t,e,i){function n(t,e,i,n){var a=e.getData(),r=this.dataIndex,s=a.getName(r),l=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),a.each(function(t){o(a.getItemGraphicEl(t),a.getItemLayout(t),e.isSelected(a.getName(t)),l,i)})}function o(t,e,i,n,o){var a=(e.startAngle+e.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=i?n:0,h=[r*l,s*l];o?t.animate().when(200,{position:h}).start("bounceOut"):t.attr("position",h)}function a(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}s.Group.call(this);var o=new s.Sector({z2:2}),a=new s.Polyline,r=new s.Text;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function r(t,e,i,n,o){var a=n.getModel("textStyle"),r="inside"===o||"inner"===o;return{fill:a.getTextColor()||(r?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:a.getFont(),text:l.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var s=i(3),l=i(1),h=a.prototype;h.updateData=function(t,e,i){function n(){r.stopAnimation(!0),r.animateTo({shape:{r:c.r+10}},300,"elasticOut")}function a(){r.stopAnimation(!0),r.animateTo({shape:{r:c.r}},300,"elasticOut")}var r=this.childAt(0),h=t.hostModel,u=t.getItemModel(e),c=t.getItemLayout(e),d=l.extend({},c);d.label=null,i?(r.setShape(d),r.shape.endAngle=c.startAngle,s.updateProps(r,{shape:{endAngle:c.endAngle}},h,e)):s.updateProps(r,{shape:d},h,e);var f=u.getModel("itemStyle"),p=t.getItemVisual(e,"color");r.useStyle(l.defaults({fill:p},f.getModel("normal").getItemStyle())),r.hoverStyle=f.getModel("emphasis").getItemStyle(),o(this,t.getItemLayout(e),u.get("selected"),h.get("selectedOffset"),h.get("animation")),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.get("hoverAnimation")&&r.on("mouseover",n).on("mouseout",a).on("emphasis",n).on("normal",a),this._updateLabel(t,e),s.setHoverStyle(this)},h._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),l=t.getItemLayout(e),h=l.label,u=t.getItemVisual(e,"color");s.updateProps(i,{shape:{points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]}},o,e),s.updateProps(n,{style:{x:h.x,y:h.y}},o,e),n.attr({style:{textVerticalAlign:h.verticalAlign,textAlign:h.textAlign,textFont:h.font},rotation:h.rotation,origin:[h.x,h.y],z2:10});var c=a.getModel("label.normal"),d=a.getModel("label.emphasis"),f=a.getModel("labelLine.normal"),p=a.getModel("labelLine.emphasis"),g=c.get("position")||d.get("position");n.setStyle(r(t,e,"normal",c,g)),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:u,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=r(t,e,"emphasis",d,g),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&m===!0&&(m=.4),i.setShape({smooth:m})},l.inherits(a,s.Group);var u=i(26).extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,i,o){if(!o||o.from!==this.uid){var r=t.getData(),s=this._data,h=this.group,u=e.get("animation"),c=!s,d=l.curry(n,this.uid,t,u,i),f=t.get("selectedMode");if(r.diff(s).add(function(t){var e=new a(r,t);c&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",d),r.setItemGraphicEl(t,e),h.add(e)}).update(function(t,e){var i=s.getItemGraphicEl(e);i.updateData(r,t),i.off("click"),f&&i.on("click",d),h.add(i),r.setItemGraphicEl(t,i)}).remove(function(t){var e=s.getItemGraphicEl(t);h.remove(e)}).execute(),u&&c&&r.count()>0){var p=r.getItemLayout(0),g=Math.max(i.getWidth(),i.getHeight())/2,m=l.bind(h.removeClipPath,h);h.setClipPath(this._createClipPath(p.cx,p.cy,g,p.startAngle,p.clockwise,m,t))}this._data=r}},_createClipPath:function(t,e,i,n,o,a,r){var l=new s.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return s.initProps(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},r,a),l}});t.exports=u},function(t,e,i){"use strict";function n(t,e,i,n,o,a,r){function s(e,i,n,o){for(var a=e;i>a;a++)if(t[a].y+=n,a>e&&i>a+1&&t[a+1].y>t[a].y+t[a].height)return void l(a,n/2);l(i-1,n/2)}function l(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function h(t,e,i,n,o,a){for(var r=a>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,l=t.length;l>s;s++)if("center"!==t[s].position){var h=Math.abs(t[s].y-n),u=t[s].len,c=t[s].len2,d=o+u>h?Math.sqrt((o+u+c)*(o+u+c)-h*h):Math.abs(t[s].x-i);e&&d>=r&&(d=r-10),!e&&r>=d&&(d=r+10),t[s].x=i+d*a,r=d}}t.sort(function(t,e){return t.y-e.y});for(var u,c=0,d=t.length,f=[],p=[],g=0;d>g;g++)u=t[g].y-c,0>u&&s(g,d,-u,o),c=t[g].y+t[g].height;0>r-c&&l(d-1,c-r);for(var g=0;d>g;g++)t[g].y>=i?p.push(t[g]):f.push(t[g]);h(f,!1,e,i,n,o),h(p,!0,e,i,n,o)}function o(t,e,i,o,a,r){for(var s=[],l=[],h=0;h<t.length;h++)t[h].x<e?s.push(t[h]):l.push(t[h]);n(l,e,i,o,1,a,r),n(s,e,i,o,-1,a,r);for(var h=0;h<t.length;h++){var u=t[h].linePoints;if(u){var c=u[1][0]-u[2][0];t[h].x<e?u[2][0]=t[h].x+3:u[2][0]=t[h].x-3,u[1][1]=u[2][1]=t[h].y,u[1][0]=u[2][0]+c}}}var a=i(18);t.exports=function(t,e,i,n){var r,s,l=t.getData(),h=[],u=!1;l.each(function(i){var n,o,c,d,f=l.getItemLayout(i),p=l.getItemModel(i),g=p.getModel("label.normal"),m=g.get("position")||p.get("label.emphasis.position"),v=p.getModel("labelLine.normal"),y=v.get("length"),x=v.get("length2"),_=(f.startAngle+f.endAngle)/2,b=Math.cos(_),w=Math.sin(_);r=f.cx,s=f.cy;var S="inside"===m||"inner"===m;if("center"===m)n=f.cx,o=f.cy,d="center";else{var M=(S?(f.r+f.r0)/2*b:f.r*b)+r,A=(S?(f.r+f.r0)/2*w:f.r*w)+s;if(n=M+3*b,o=A+3*w,!S){var I=M+b*(y+e-f.r),T=A+w*(y+e-f.r),L=I+(0>b?-1:1)*x,C=T;n=L+(0>b?-5:5),o=C,c=[[M,A],[I,T],[L,C]]}d=S?"center":b>0?"left":"right"}var D=g.getModel("textStyle").getFont(),P=g.get("rotate")?0>b?-_+Math.PI:-_:0,k=t.getFormattedLabel(i,"normal")||l.getName(i),z=a.getBoundingRect(k,D,d,"top");u=!!P,f.label={x:n,y:o,position:m,height:z.height,len:y,len2:x,linePoints:c,textAlign:d,verticalAlign:"middle",font:D,rotation:P},S||h.push(f.label)}),!u&&t.get("avoidLabelOverlap")&&o(h,r,s,e,i,n)}},function(t,e,i){var n=i(4),o=n.parsePercent,a=i(93),r=i(1),s=2*Math.PI,l=Math.PI/180;t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),h=t.get("radius");r.isArray(h)||(h=[0,h]),r.isArray(e)||(e=[e,e]);var u=i.getWidth(),c=i.getHeight(),d=Math.min(u,c),f=o(e[0],u),p=o(e[1],c),g=o(h[0],d/2),m=o(h[1],d/2),v=t.getData(),y=-t.get("startAngle")*l,x=t.get("minAngle")*l,_=v.getSum("value"),b=Math.PI/(_||v.count())*2,w=t.get("clockwise"),S=t.get("roseType"),M=v.getDataExtent("value");M[0]=0;var A=s,I=0,T=y,L=w?1:-1;if(v.each("value",function(t,e){var i;i="area"!==S?0===_?b:t*b:s/(v.count()||1),x>i?(i=x,A-=x):I+=t;var o=T+L*i;v.setItemLayout(e,{angle:i,startAngle:T,endAngle:o,clockwise:w,cx:f,cy:p,r0:g,r:S?n.linearMap(t,M,[g,m]):m}),T=o},!0),s>A)if(.001>=A){var C=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+L*t*C,e.endAngle=y+L*(t+1)*C})}else b=A/I,T=y,v.each("value",function(t,e){var i=v.getItemLayout(e),n=i.angle===x?x:t*b;i.startAngle=T,i.endAngle=T+L*n,T+=n});a(t,m,u,c)})}},function(t,e,i){"use strict";i(51),i(96)},function(t,e,i){function n(t,e){function i(t,e){var i=n.getAxis(t);return i.toGlobalCoord(i.dataToCoord(0))}var n=t.coordinateSystem,o=e.axis,a={},r=o.position,s=o.onZero?"onZero":r,l=o.dim,h=n.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],c={x:{top:u[2],bottom:u[3]},y:{left:u[0],right:u[1]}};c.x.onZero=Math.max(Math.min(i("y"),c.x.bottom),c.x.top),c.y.onZero=Math.max(Math.min(i("x"),c.y.right),c.y.left),a.position=["y"===l?c.y[s]:u[0],"x"===l?c.x[s]:u[3]];var d={x:0,y:1};a.rotation=Math.PI/2*d[l];var f={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=f[r],o.onZero&&(a.labelOffset=c[l][r]-c[l].onZero),e.getModel("axisTick").get("inside")&&(a.tickDirection=-a.tickDirection),e.getModel("axisLabel").get("inside")&&(a.labelDirection=-a.labelDirection);var p=e.getModel("axisLabel").get("rotate");return a.labelRotation="top"===s?-p:p,a.labelInterval=o.getLabelInterval(),a.z2=1,a}var o=i(1),a=i(3),r=i(49),s=r.ifIgnoreOnTick,l=r.getInterval,h=["axisLine","axisLabel","axisTick","axisName"],u=["splitLine","splitArea"],c=i(2).extendComponentView({type:"axis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("grid",t.get("gridIndex")),a=n(i,t),s=new r(t,a);o.each(h,s.add,s),this.group.add(s.getGroup()),o.each(u,function(e){t.get(e+".show")&&this["_"+e](t,i,a.labelInterval)},this)}},_splitLine:function(t,e,i){var n=t.axis,r=t.getModel("splitLine"),h=r.getModel("lineStyle"),u=h.get("width"),c=h.get("color"),d=l(r,i);c=o.isArray(c)?c:[c];for(var f=e.coordinateSystem.getRect(),p=n.isHorizontal(),g=[],m=0,v=n.getTicksCoords(),y=[],x=[],_=0;_<v.length;_++)if(!s(n,_,d)){var b=n.toGlobalCoord(v[_]);p?(y[0]=b,y[1]=f.y,x[0]=b,x[1]=f.y+f.height):(y[0]=f.x,y[1]=b,x[0]=f.x+f.width,x[1]=b);var w=m++%c.length;g[w]=g[w]||[],g[w].push(new a.Line(a.subPixelOptimizeLine({shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:{lineWidth:u},silent:!0})))}for(var S=h.getLineStyle(),_=0;_<g.length;_++)this.group.add(a.mergePath(g[_],{style:o.defaults({stroke:c[_%c.length]},S),silent:!0}))},_splitArea:function(t,e,i){var n=t.axis,r=t.getModel("splitArea"),h=r.getModel("areaStyle"),u=h.get("color"),c=e.coordinateSystem.getRect(),d=n.getTicksCoords(),f=n.toGlobalCoord(d[0]),p=n.toGlobalCoord(d[0]),g=[],m=0,v=l(r,i);u=o.isArray(u)?u:[u];for(var y=1;y<d.length;y++)if(!s(n,y,v)){var x,_,b,w,S=n.toGlobalCoord(d[y]);n.isHorizontal()?(x=f,_=c.y,b=S-x,w=c.height):(x=c.x,_=p,b=c.width,w=S-_);var M=m++%u.length;g[M]=g[M]||[],g[M].push(new a.Rect({shape:{x:x,y:_,width:b,height:w},silent:!0})),f=x+b,p=_+w}for(var A=h.getAreaStyle(),y=0;y<g.length;y++)this.group.add(a.mergePath(g[y],{style:o.defaults({fill:u[y%u.length]},A),silent:!0}))}});c.extend({type:"xAxis"}),c.extend({type:"yAxis"})},function(t,e,i){var n=i(1),o=i(7),a=i(2);a.registerAction("dataZoom",function(t,e){var i=o.createLinkedNodesFinder(n.bind(e.eachComponent,e,"dataZoom"),o.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),a=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){a.push.apply(a,i(t).nodes)}),n.each(a,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,i){function n(t,e,i){i.getAxisProxy(t.name,e).reset(i)}function o(t,e,i){i.getAxisProxy(t.name,e).filterData(i)}var a=i(2);a.registerProcessor("filter",function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(n),t.eachTargetAxis(o)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})})})},function(t,e,i){function n(t){var e=t[r];return e||(e=t[r]=[{}]),e}var o=i(1),a=o.each,r="\x00_ec_hist_store",s={push:function(t,e){var i=n(t);a(e,function(e,n){for(var o=i.length-1;o>=0;o--){var a=i[o];if(a[n])break}if(0>o){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}}),i.push(e)},pop:function(t){var e=n(t),i=e[e.length-1];e.length>1&&e.pop();var o={};return a(i,function(t,i){for(var n=e.length-1;n>=0;n--){var t=e[n][i];if(t){o[i]=t;break}}}),o},clear:function(t){t[r]=null},count:function(t){return n(t).length}};t.exports=s},function(t,e,i){i(10).registerSubTypeDefaulter("dataZoom",function(t){return"slider"})},function(t,e){function i(t){return t[n]||(t[n]={})}var n="\x00_ec_interaction_mutex",o={take:function(t,e){i(e)[t]=!0},release:function(t,e){i(e)[t]=!1},isTaken:function(t,e){return!!i(e)[t]}};t.exports=o},function(t,e,i){function n(t,e,i){o.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}var o=i(11),a=i(9),r=i(3);t.exports={layout:function(t,e,i){var a=o.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"));o.box(e.get("orient"),t,e.get("itemGap"),a.width,a.height),n(t,e,i)},addBackground:function(t,e){var i=a.normalizeCssArray(e.get("padding")),n=t.getBoundingRect(),o=e.getItemStyle(["color","opacity"]);o.fill=e.get("backgroundColor");var s=new r.Rect({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},style:o,silent:!0,z2:-1});r.subPixelOptimizeRect(s),t.add(s)}}},function(t,e,i){function n(t,e,i){var n=-1;do n=Math.max(r.getPrecision(t.get(e,i)),n),t=t.stackedOn;while(t);return n}function o(t,e,i,o,a,r){var s=[],l=p(e,o,t),h=e.indexOfNearest(o,l,!0);s[a]=e.get(i,h,!0),s[r]=e.get(o,h,!0);var u=n(e,o,h);return u>=0&&(s[r]=+s[r].toFixed(u)),s}var a=i(1),r=i(4),s=a.indexOf,l=a.curry,h={min:l(o,"min"),max:l(o,"max"),average:l(o,"average")},u=function(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&&(isNaN(parseFloat(e.x))||isNaN(parseFloat(e.y)))&&!a.isArray(e.coord)&&n){var o=c(e,i,n,t);if(e=a.clone(e),e.type&&h[e.type]&&o.baseAxis&&o.valueAxis){var r=n.dimensions,l=s(r,o.baseAxis.dim),u=s(r,o.valueAxis.dim);e.coord=h[e.type](i,o.baseDataDim,o.valueDataDim,l,u),e.value=e.coord[u]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}return e},c=function(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(n.dataDimToCoordDim(o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0]):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0],o.valueDataDim=n.coordDimToDataDim(o.valueAxis.dim)[0]),o},d=function(t,e){return t&&t.containData&&e.coord&&(null==e.x||null==e.y)?t.containData(e.coord):!0},f=function(t,e,i,n){return 2>n?t.coord&&t.coord[n]:t.value},p=function(t,e,i){return"average"===i?t.getSum(e,!0)/t.count():t.getDataExtent(e,!0)["max"===i?1:0]};t.exports={dataTransform:u,dataFilter:d,dimValueGetter:f,getAxisInfo:c,numCalculate:p}},function(t,e,i){var n=i(1),o=i(43),a=i(108),r=function(t,e,i,n,a){o.call(this,t,e,i),this.type=n||"value",this.position=a||"bottom"};r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=a(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},n.inherits(r,o),t.exports=r},function(t,e,i){"use strict";function n(t){return this._axes[t]}var o=i(1),a=function(t){this._axes={},this._dimList=[],this.name=t||""};a.prototype={constructor:a,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return o.map(this._dimList,n,this)},getAxesByScale:function(t){return t=t.toLowerCase(),o.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var a=i[o],r=this._axes[a];n[a]=r[e](t[a])}return n}},t.exports=a},function(t,e,i){"use strict";function n(t){a.call(this,t)}var o=i(1),a=i(105);n.prototype={constructor:n,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))]},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.coordToData(i.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},o.inherits(n,a),t.exports=n},function(t,e,i){"use strict";i(51);var n=i(10);t.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(t,e,i){"use strict";var n=i(1),o=i(24);t.exports=function(t){var e=t.model,i=e.getModel("axisLabel"),a=i.get("interval");return"category"!==t.type||"auto"!==a?"auto"===a?0:a:o.getAxisLabelInterval(n.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),i.getModel("textStyle").getFont(),t.isHorizontal())}},function(t,e,i){"use strict";function n(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function o(t,e){var i={};r.each(t,function(t,e){var o=t.coordinateSystem,a=o.getBaseAxis(),r=i[a.index]||{remainedWidth:a.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:a,stacks:{}},s=r.stacks;i[a.index]=r;var l=n(t);s[l]||r.autoWidthCount++,s[l]=s[l]||{width:0,maxWidth:0};var h=t.get("barWidth"),u=t.get("barMaxWidth"),c=t.get("barGap"),d=t.get("barCategoryGap");h&&!s[l].width&&(h=Math.min(r.remainedWidth,h),s[l].width=h,r.remainedWidth-=h),u&&(s[l].maxWidth=u),null!=c&&(r.gap=c),null!=d&&(r.categoryGap=d)});var o={};return r.each(i,function(t,e){o[e]={};var i=t.stacks,n=t.axis,a=n.getBandWidth(),s=l(t.categoryGap,a),h=l(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,d=(u-s)/(c+(c-1)*h);d=Math.max(d,0),r.each(i,function(t,e){var i=t.maxWidth;!t.width&&i&&d>i&&(i=Math.min(i,u),u-=i,t.width=i,c--)}),d=(u-s)/(c+(c-1)*h),d=Math.max(d,0);var f,p=0;r.each(i,function(t,e){t.width||(t.width=d),f=t,p+=t.width*(1+h)}),f&&(p-=f.width*h);var g=-p/2;r.each(i,function(t,i){o[e][i]=o[e][i]||{offset:g,width:t.width},g+=t.width*(1+h)})}),o}function a(t,e,i){var a=o(r.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),s={};e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,o=i.getBaseAxis(),r=n(t),l=a[o.index][r],h=l.offset,u=l.width,c=i.getOtherAxis(o),d=t.get("barMinHeight")||0,f=o.onZero?c.toGlobalCoord(c.dataToCoord(0)):c.getGlobalExtent()[0],p=i.dataToPoints(e,!0);s[r]=s[r]||[],e.setLayout({offset:h,size:u}),e.each(c.dim,function(t,i){if(!isNaN(t)){s[r][i]||(s[r][i]={p:f,n:f});var n,o,a,l,g=t>=0?"p":"n",m=p[i],v=s[r][i][g];c.isHorizontal()?(n=v,o=m[1]+h,a=m[0]-v,l=u,Math.abs(a)<d&&(a=(0>a?-1:1)*d),s[r][i][g]+=a):(n=m[0]+h,o=v,a=u,l=m[1]-v,Math.abs(l)<d&&(l=(0>=l?-1:1)*d),s[r][i][g]+=l),e.setItemLayout(i,{x:n,y:o,width:a,height:l})}},!0)},this)}var r=i(1),s=i(4),l=s.parsePercent;t.exports=a},function(t,e,i){var n=i(3),o=i(1),a=Math.PI;t.exports=function(t,e){e=e||{},o.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new n.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new n.Arc({shape:{startAngle:-a/2,endAngle:-a/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new n.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*a/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*a/2}).delay(300).start("circularInOut");var l=new n.Group;return l.add(r),l.add(s),l.add(i),l.resize=function(){var e=t.getWidth()/2,n=t.getHeight()/2;r.setShape({cx:e,cy:n});var o=r.shape.r;s.setShape({x:e-o,y:n-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}},function(t,e,i){function n(t,e){for(var i in e)_.hasClass(i)||("object"==typeof e[i]?t[i]=t[i]?c.merge(t[i],e[i],!1):c.clone(e[i]):null==t[i]&&(t[i]=e[i]))}function o(t){t=t,this.option={},this.option[w]=1,this._componentsMap={},this._seriesIndices=null,n(t,this._theme.option),c.merge(t,b,!1),this.mergeOption(t)}function a(t,e){c.isArray(e)||(e=e?[e]:[]);var i={};return p(e,function(e){i[e]=(t[e]||[]).slice()}),i}function r(t,e){var i={};p(e,function(t,e){var n=t.exist;n&&(i[n.id]=t)}),p(e,function(e,n){var o=e.option;if(c.assert(!o||null==o.id||!i[o.id]||i[o.id]===e,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&(i[o.id]=e),x(o)){var a=s(t,o,e.exist);e.keyInfo={mainType:t,subType:a}}}),p(e,function(t,e){var n=t.exist,o=t.option,a=t.keyInfo;if(x(o)){if(a.name=null!=o.name?o.name+"":n?n.name:"\x00-",n)a.id=n.id;else if(null!=o.id)a.id=o.id+"";else{var r=0;do a.id="\x00"+a.name+"\x00"+r++;while(i[a.id])}i[a.id]=t}})}function s(t,e,i){var n=e.type?e.type:i?i.subType:_.determineSubType(t,e);return n}function l(t){return m(t,function(t){return t.componentIndex})||[]}function h(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function u(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}var c=i(1),d=i(7),f=i(12),p=c.each,g=c.filter,m=c.map,v=c.isArray,y=c.indexOf,x=c.isObject,_=i(10),b=i(113),w="\x00_ec_inner",S=f.extend({constructor:S,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new f(i),this._optionManager=n},setOption:function(t,e){c.assert(!(w in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):o.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=i.getTimelineOption(this);a&&(this.mergeOption(a),e=!0)}if(!t||"recreate"===t||"media"===t){var r=i.getMediaOption(this,this._api);r.length&&p(r,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,o){var s=d.normalizeToArray(t[e]),h=d.mappingToExists(n[e],s);r(e,h);var u=a(n,o);i[e]=[],n[e]=[],p(h,function(t,o){var a=t.exist,r=t.option;if(c.assert(x(r)||a,"Empty component definition"),r){var s=_.getClass(e,t.keyInfo.subType,!0);a&&a instanceof s?(a.mergeOption(r,this),a.optionUpdated(this)):(a=new s(r,this,this,c.extend({dependentModels:u,componentIndex:o},t.keyInfo)),a.optionUpdated(this))}else a.mergeOption({},this),a.optionUpdated(this);n[e][o]=a,i[e][o]=a.option},this),"series"===e&&(this._seriesIndices=l(n.series))}var i=this.option,n=this._componentsMap,o=[];p(t,function(t,e){null!=t&&(_.hasClass(e)?o.push(e):i[e]=null==i[e]?c.clone(t):c.merge(i[e],t,!0))}),_.topologicalTravel(o,_.getAllClassMainTypes(),e,this)},getOption:function(){var t=c.clone(this.option);return p(t,function(e,i){if(_.hasClass(i)){for(var e=d.normalizeToArray(e),n=e.length-1;n>=0;n--)d.isIdInner(e[n])&&e.splice(n,1);t[i]=e}}),delete t[w],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap[t];return i?i[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,o=t.name,a=this._componentsMap[e];if(!a||!a.length)return[];var r;if(null!=i)v(i)||(i=[i]),r=g(m(i,function(t){return a[t]}),function(t){return!!t});else if(null!=n){var s=v(n);r=g(a,function(t){return s&&y(n,t.id)>=0||!s&&t.id===n})}else if(null!=o){var l=v(o);r=g(a,function(t){return l&&y(o,t.name)>=0||!l&&t.name===o})}return h(r,t)},findComponents:function(t){function e(t){var e=o+"Index",i=o+"Id",n=o+"Name";return t&&(t.hasOwnProperty(e)||t.hasOwnProperty(i)||t.hasOwnProperty(n))?{mainType:o,index:t[e],id:t[i],name:t[n]}:null}function i(e){return t.filter?g(e,t.filter):e}var n=t.query,o=t.mainType,a=e(n),r=a?this.queryComponents(a):this._componentsMap[o];return i(h(r,t))},eachComponent:function(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,p(n,function(t,n){p(t,function(t,o){e.call(i,n,t,o)})});else if(c.isString(t))p(n[t],e,i);else if(x(t)){var o=this.findComponents(t);p(o,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){u(this),p(this._seriesIndices,function(i){var n=this._componentsMap.series[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){p(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,i){u(this),p(this._seriesIndices,function(n){var o=this._componentsMap.series[n];o.subType===t&&e.call(i,o,n)},this)},eachRawSeriesByType:function(t,e,i){return p(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return u(this),c.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){u(this);var i=g(this._componentsMap.series,t,e);this._seriesIndices=l(i)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=l(t.series);var e=[];p(t,function(t,i){e.push(i)}),_.topologicalTravel(e,_.getAllClassMainTypes(),function(e,i){p(t[e],function(t){t.restoreData()})})}});t.exports=S},function(t,e,i){function n(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function o(t,e){var i,n,o=[],a=[],r=t.timeline;if(t.baseOption&&(n=t.baseOption),(r||t.options)&&(n=n||{},o=(t.options||[]).slice()),t.media){n=n||{};var s=t.media;d(s,function(t){t&&t.option&&(t.query?a.push(t):i||(i=t))})}return n||(n=t),n.timeline||(n.timeline=r),d([n].concat(o).concat(h.map(a,function(t){return t.option})),function(t){d(e,function(e){e(t)})}),{baseOption:n,timelineOptions:o,mediaDefault:i,mediaList:a}}function a(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return h.each(t,function(t,e){var i=e.match(m);if(i&&i[1]&&i[2]){var a=i[1],s=i[2].toLowerCase();r(n[s],t,a)||(o=!1)}}),o}function r(t,e,i){return"min"===i?t>=e:"max"===i?e>=t:t===e}function s(t,e){return t.join(",")===e.join(",")}function l(t,e){e=e||{},d(e,function(e,i){if(null!=e){var n=t[i];if(c.hasClass(i)){e=u.normalizeToArray(e),n=u.normalizeToArray(n);var o=u.mappingToExists(n,e);t[i]=p(o,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option})}else t[i]=g(n,e,!0)}})}var h=i(1),u=i(7),c=i(10),d=h.each,f=h.clone,p=h.map,g=h.merge,m=/^(min|max)?(.+)$/;n.prototype={constructor:n,setOption:function(t,e){t=f(t,!0);var i=this._optionBackup,n=o.call(this,t,e);this._newBaseOption=n.baseOption,i?(l(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=p(e.timelineOptions,f),this._mediaList=p(e.mediaList,f),this._mediaDefault=f(e.mediaDefault),this._currentMediaIndices=[],f(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=f(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,r=[],l=[];if(!n.length&&!o)return l;for(var h=0,u=n.length;u>h;h++)a(n[h].query,e,i)&&r.push(h);return!r.length&&o&&(r=[-1]),r.length&&!s(r,this._currentMediaIndices)&&(l=p(r,function(t){return f(-1===t?o.option:n[t].option)})),this._currentMediaIndices=r,l}},t.exports=n},function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}},function(t,e,i){t.exports={getAreaStyle:i(30)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e,i){t.exports={getItemStyle:i(30)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){var n=i(30)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=n.call(this,t),i=this.getLineDash();return i&&(e.lineDash=i),e},getLineDash:function(){var t=this.get("type");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,i){function n(t,e){return t&&t.getShallow(e)}var o=i(18);t.exports={getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||n(e,"fontStyle"),this.getShallow("fontWeight")||n(e,"fontWeight"),(this.getShallow("fontSize")||n(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||n(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){var e=this.get("textStyle")||{};return o.getBoundingRect(t,this.getFont(),e.align,e.baseline)},ellipsis:function(t,e,i){return o.ellipsis(t,this.getFont(),e,i)}}},function(t,e,i){function n(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&(i=i&&i[e[n]],null!=i);n++);return i}function o(t,e,i,n){e=e.split(",");for(var o,a=t,r=0;r<e.length-1;r++)o=e[r],null==a[o]&&(a[o]={}),a=a[o];(n||null==a[e[r]])&&(a[e[r]]=i)}function a(t){c(l,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var r=i(1),s=i(120),l=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],h=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],u=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],c=r.each;t.exports=function(t){c(t.series,function(t){if(r.isObject(t)){var e=t.type;if(s(t),"pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=n(t,"pointer.color");null!=i&&o(t,"itemStyle.normal.color",i)}for(var l=0;l<u.length;l++)if(u[l]===t.type){a(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),c(h,function(e){var i=t[e];i&&(r.isArray(i)||(i=[i]),c(i,function(t){a(t)}))})}},function(t,e,i){function n(t){var e=t&&t.itemStyle;e&&o.each(a,function(i){var n=e.normal,a=e.emphasis;n&&n[i]&&(t[i]=t[i]||{},t[i].normal?o.merge(t[i].normal,n[i]):t[i].normal=n[i],n[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?o.merge(t[i].emphasis,a[i]):t[i].emphasis=a[i],
a[i]=null)})}var o=i(1),a=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=function(t){if(t){n(t),n(t.markPoint),n(t.markLine);var e=t.data;if(e){for(var i=0;i<e.length;i++)n(e[i]);var a=t.markPoint;if(a&&a.data)for(var r=a.data,i=0;i<r.length;i++)n(r[i]);var s=t.markLine;if(s&&s.data)for(var l=s.data,i=0;i<l.length;i++)o.isArray(l[i])?(n(l[i][0]),n(l[i][1])):n(l[i])}}}},function(t,e){var i={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-(1/0),i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e},nearest:function(t){return t[0]}},n=function(t,e){return Math.round(t.length/2)};t.exports=function(t,e,o){e.eachSeriesByType(t,function(t){var e=t.getData(),o=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&o){var r=a.getBaseAxis(),s=a.getOtherAxis(r),l=r.getExtent(),h=l[1]-l[0],u=Math.round(e.count()/h);if(u>1){var c;"string"==typeof o?c=i[o]:"function"==typeof o&&(c=o),c&&(e=e.downSample(s.dim,1/u,c,n),t.setData(e))}}},this)}},function(t,e,i){var n=i(1),o=i(32),a=i(4),r=i(38),s=o.prototype,l=r.prototype,h=Math.floor,u=Math.ceil,c=Math.pow,d=10,f=Math.log,p=o.extend({type:"log",getTicks:function(){return n.map(l.getTicks.call(this),function(t){return a.round(c(d,t))})},getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),c(d,t)},setExtent:function(t,e){t=f(t)/f(d),e=f(e)/f(d),l.setExtent.call(this,t,e)},getExtent:function(){var t=s.getExtent.call(this);return t[0]=c(d,t[0]),t[1]=c(d,t[1]),t},unionExtent:function(t){t[0]=f(t[0])/f(d),t[1]=f(t[1])/f(d),s.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||0>=i)){var n=c(10,h(f(i/t)/Math.LN10)),o=t/i*n;.5>=o&&(n*=10);var r=[a.round(u(e[0]/n)*n),a.round(h(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:l.niceExtent});n.each(["contain","normalize"],function(t){p.prototype[t]=function(e){return e=f(e)/f(d),s[t].call(this,e)}}),p.create=function(){return new p},t.exports=p},function(t,e,i){var n=i(1),o=i(32),a=o.prototype,r=o.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?n.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),a.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return a.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(a.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:n.noop,niceExtent:n.noop});r.create=function(){return new r},t.exports=r},function(t,e,i){var n=i(1),o=i(4),a=i(9),r=i(38),s=r.prototype,l=Math.ceil,h=Math.floor,u=1e3,c=60*u,d=60*c,f=24*d,p=function(t,e,i,n){for(;n>i;){var o=i+n>>>1;t[o][2]<e?i=o+1:n=o}return i},g=r.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return a.formatTime(e[0],i)},niceExtent:function(t,e,i){var n=this._extent;if(n[0]===n[1]&&(n[0]-=f,n[1]+=f),n[1]===-(1/0)&&n[0]===1/0){var a=new Date;n[1]=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-f}this.niceTicks(t);var r=this._interval;e||(n[0]=o.round(h(n[0]/r)*r)),i||(n[1]=o.round(l(n[1]/r)*r))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0],n=i/t,a=m.length,r=p(m,n,0,a),s=m[Math.min(r,a-1)],u=s[2];if("year"===s[0]){var c=i/u,d=o.nice(c/t,!0);u*=d}var f=[l(e[0]/u)*u,h(e[1]/u)*u];this._stepLvl=s,this._interval=u,this._niceExtent=f},parse:function(t){return+o.parseDate(t)}});n.each(["contain","normalize"],function(t){g.prototype[t]=function(e){return s[t].call(this,this.parse(e))}});var m=[["hh:mm:ss",1,u],["hh:mm:ss",5,5*u],["hh:mm:ss",10,10*u],["hh:mm:ss",15,15*u],["hh:mm:ss",30,30*u],["hh:mm\nMM-dd",1,c],["hh:mm\nMM-dd",5,5*c],["hh:mm\nMM-dd",10,10*c],["hh:mm\nMM-dd",15,15*c],["hh:mm\nMM-dd",30,30*c],["hh:mm\nMM-dd",1,d],["hh:mm\nMM-dd",2,2*d],["hh:mm\nMM-dd",6,6*d],["hh:mm\nMM-dd",12,12*d],["MM-dd\nyyyy",1,f],["week",7,7*f],["month",1,31*f],["quarter",3,380*f/4],["half-year",6,380*f/2],["year",1,380*f]];g.create=function(){return new g},t.exports=g},function(t,e){var i={},n="\x00__throttleOriginMethod",o="\x00__throttleRate";i.throttle=function(t,e,i,n){function o(o){function f(){u=(new Date).getTime(),c=null,(d?t:t[o]).apply(r,s||[])}var p=function(){l=(new Date).getTime(),r=this,s=arguments,a=l-(n?h:u)-e,clearTimeout(c),n?i?c=setTimeout(f,e):a>=0&&f():a>=0?f():i&&(c=setTimeout(f,-a)),h=l};return p.clear=function(){c&&(clearTimeout(c),c=null)},p}var a,r,s,l=(new Date).getTime(),h=0,u=0,c=null,d="function"==typeof t;if(e=e||0,d)return o();for(var f=[],p=0;p<t.length;p++)f[p]=o(p);return f},i.fixRate=function(t,e){return null!=e?i.throttle(t,e,!0,!1):t},i.debounce=function(t,e){return null!=e?i.throttle(t,e,!0,!0):t},i.createOrUpdate=function(t,e,a,r){var s=t[e];if(s&&null!=a&&r){var l=s[n]||s,h=s[o];h!==a&&(s=t[e]=i[r](l,a),s[n]=l,s[o]=a)}},i.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])},t.exports=i},function(t,e,i){"use strict";function n(t,e,i){return{type:t,event:i,target:e,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta}}function o(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var o=n.recognize(e,t.findHover(e.zrX,e.zrY,null));if("end"===i&&n.clear(),o){var a=o.type;e.gestureEvent=a,t._dispatchProxy(o.target,a,o.event)}}function a(t){function e(t,e){return function(){return e._touching?void 0:t.apply(e,arguments)}}for(var i=y.concat(x),n=0;n<i.length;n++){var o=i[n];t._handlers[o]=f.bind(M[o],t)}for(var n=0;n<v.length;n++){var o=v[n];t._handlers[o]=e(M[o],t)}}function r(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t;n;){if(n.silent||n.clipPath&&!n.clipPath.contain(e,i))return!1;n=n.parent}return!0}return!1}function s(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function l(){return!1}function h(){return c.touchEventsSupported}function u(t){return"mousewheel"===t&&c.browser.firefox?"DOMMouseScroll":t}var c=i(14),d=i(34),f=i(1),p=i(155),g=i(138),m=i(21),v=["click","dblclick","mousewheel","mouseout"];!l()&&v.push("mouseup","mousedown","mousemove");var y=["touchstart","touchend","touchmove"],x=["pointerdown","pointerup","pointermove"],_=300,b=d.addEventListener,w=d.removeEventListener,S=d.normalizeEvent,M={mousemove:function(t){t=S(this.root,t);var e=t.zrX,i=t.zrY,n=this.findHover(e,i,null),o=this._hovered;this._hovered=n,this.root.style.cursor=n?n.cursor:this._defaultCursorStyle,o&&n!==o&&o.__zr&&this._dispatchProxy(o,"mouseout",t),this._dispatchProxy(n,"mousemove",t),n&&n!==o&&this._dispatchProxy(n,"mouseover",t)},mouseout:function(t){t=S(this.root,t);var e=t.toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e===this.root)return;e=e.parentNode}this._dispatchProxy(this._hovered,"mouseout",t),this.trigger("globalout",{event:t})},touchstart:function(t){t=S(this.root,t),this._lastTouchMoment=new Date,o(this,t,"start"),M.mousemove.call(this,t),M.mousedown.call(this,t),s(this)},touchmove:function(t){t=S(this.root,t),o(this,t,"change"),M.mousemove.call(this,t),s(this)},touchend:function(t){t=S(this.root,t),o(this,t,"end"),M.mouseup.call(this,t),+new Date-this._lastTouchMoment<_&&M.click.call(this,t),s(this)}};f.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){M[t]=function(e){e=S(this.root,e);var i=this.findHover(e.zrX,e.zrY,null);if("mousedown"===t)this._downel=i,this._upel=i;else if("mosueup"===t)this._upel=i;else if("click"===t&&this._downel!==this._upel)return;this._dispatchProxy(i,t,e)}});var A=function(t,e,i){function n(e,i){f.each(e,function(e){b(t,u(e),i._handlers[e])},i)}m.call(this),this.root=t,this.storage=e,this.painter=i,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new g,this._handlers=[],this._touching=!1,this._touchTimer,a(this),l()?n(x,this):h()&&n(y,this),n(v,this),p.call(this)};A.prototype={constructor:A,resize:function(t){this._hovered=null},dispatch:function(t,e){var i=this._handlers[t];i&&i.call(this,e)},dispose:function(){for(var t=this.root,e=v.concat(y),i=0;i<e.length;i++){var n=e[i];w(t,u(n),this._handlers[n])}this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(t){this._defaultCursorStyle=t},_dispatchProxy:function(t,e,i){for(var o="on"+e,a=n(e,t,i),r=t;r&&(r[o]&&(a.cancelBubble=r[o].call(r,a)),r.trigger(e,a),r=r.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a)}))},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o=n.length-1;o>=0;o--)if(!n[o].silent&&n[o]!==i&&!n[o].ignore&&r(n[o],t,e))return n[o]}},f.mixin(A,m),f.mixin(A,p),t.exports=A},function(t,e,i){function n(){return!1}function o(t,e,i,n){var o=document.createElement(e),a=i.getWidth(),r=i.getHeight(),s=o.style;return s.position="absolute",s.left=0,s.top=0,s.width=a+"px",s.height=r+"px",o.width=a*n,o.height=r*n,o.setAttribute("data-zr-dom-id",t),o}var a=i(1),r=i(33),s=function(t,e,i){var s;i=i||r.devicePixelRatio,"string"==typeof t?s=o(t,"canvas",e,i):a.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var l=s.style;l&&(s.onselectstart=n,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};s.prototype={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var t=this.dpr;1!=t&&this.ctx.scale(t,t)},createBackBuffer:function(){var t=this.dpr;this.domBack=o("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o.width=t+"px",o.height=e+"px",n.width=t*i,n.height=e*i,1!=i&&this.ctx.scale(i,i),a&&(a.width=t*i,a.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,o=e.height,a=this.clearColor,r=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr;if(r&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/l,o/l)),i.clearRect(0,0,n/l,o/l),a&&(i.save(),i.fillStyle=this.clearColor,i.fillRect(0,0,n/l,o/l),i.restore()),r){var h=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(h,0,0,n/l,o/l),i.restore()}}},t.exports=s},function(t,e,i){"use strict";function n(t){return parseInt(t,10)}function o(t){return t?t.isBuildin?!0:"function"==typeof t.resize&&"function"==typeof t.refresh:!1}function a(t){t.__unusedCount++}function r(t){t.__dirty=!1,1==t.__unusedCount&&t.clear()}function s(t,e,i){return g.copy(t.getBoundingRect()),t.transform&&g.applyTransform(t.transform),m.width=e,m.height=i,!g.intersect(m)}function l(t,e){if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function h(t,e){for(var i=0;i<t.length;i++){var n,o=t[i];o.transform&&(n=o.transform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]));var a=o.path;a.beginPath(e),o.buildPath(a,o.shape),e.clip(),o.transform&&(n=o.invTransform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]))}}var u=i(33),c=i(1),d=i(45),f=i(8),p=i(127),g=new f(0,0,0,0),m=new f(0,0,0,0),v=function(t,e,i){var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();i=i||{},this.dpr=i.devicePixelRatio||u.devicePixelRatio,this._singleCanvas=n,this.root=t;var o=t.style;if(o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e,n){var a=t.width,r=t.height;this._width=a,this._height=r;var s=new p(t,this,1);s.initContext(),this._layers={0:s},this._zlevelList=[0]}else{var a=this._getWidth(),r=this._getHeight();this._width=a,this._height=r;var l=document.createElement("div");this._domRoot=l;var h=l.style;h.position="relative",h.overflow="hidden",h.width=this._width+"px",h.height=this._height+"px",t.appendChild(l),this._layers={},this._zlevelList=[]}this._layerConfig={},this.pathToImage=this._createPathToImage()};v.prototype={constructor:v,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n<i.length;n++){var o=i[n],a=this._layers[o];!a.isBuildin&&a.refresh&&a.refresh()}return this},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t);var i,n,o,u=this._width,c=this._height;this.eachBuildinLayer(a);for(var f=null,p=0,g=t.length;g>p;p++){var m=t[p],v=this._singleCanvas?0:m.zlevel;if(n!==v&&(n=v,i=this.getLayer(n),i.isBuildin||d("ZLevel "+n+" has been used by unkown layer "+i.id),o=i.ctx,i.__unusedCount=0,(i.__dirty||e)&&i.clear()),(i.__dirty||e)&&!m.invisible&&0!==m.style.opacity&&m.scale[0]&&m.scale[1]&&(!m.culling||!s(m,u,c))){var y=m.__clipPaths;l(y,f)&&(f&&o.restore(),y&&(o.save(),h(y,o)),f=y),m.beforeBrush&&m.beforeBrush(o),m.brush(o,!1),m.afterBrush&&m.afterBrush(o)}m.__dirty=!1}f&&o.restore(),this.eachBuildinLayer(r)},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new p("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&c.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,a=n.length,r=null,s=-1,l=this._domRoot;if(i[t])return void d("ZLevel "+t+" has been used already");if(!o(e))return void d("Layer of zlevel "+t+" is not valid");if(a>0&&t>n[0]){for(s=0;a-1>s&&!(n[s]<t&&n[s+1]>t);s++);r=i[n[s]]}if(n.splice(s+1,0,t),r){var h=r.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);i[t]=e},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuildinLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],i=this._layers[n],i.isBuildin&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],i=this._layers[n],i.isBuildin||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,o=t.length;o>n;n++){var a=t[n],r=this._singleCanvas?0:a.zlevel,s=e[r];if(s){if(s.elCount++,s.__dirty)continue;s.__dirty=a.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?c.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&&c.merge(n,i[t],!0)}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(c.indexOf(i,t),1))},resize:function(t,e){var i=this._domRoot;if(i.style.display="none",t=t||this._getWidth(),e=e||this._getHeight(),i.style.display="",this._width!=t||e!=this._height){i.style.width=t+"px",i.style.height=e+"px";for(var n in this._layers)this._layers[n].resize(t,e);this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new p("image",this,t.pixelRatio||this.dpr);e.initContext();var i=e.ctx;e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),o=0;o<n.length;o++){var a=n[o];a.invisible||(a.beforeBrush&&a.beforeBrush(i),a.brush(i,!1),a.afterBrush&&a.afterBrush(i))}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientWidth||n(e.width)||n(t.style.width))-(n(e.paddingLeft)||0)-(n(e.paddingRight)||0)|0},_getHeight:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientHeight||n(e.height)||n(t.style.height))-(n(e.paddingTop)||0)-(n(e.paddingBottom)||0)|0},_pathToImage:function(t,e,n,o,a){var r=document.createElement("canvas"),s=r.getContext("2d");r.width=n*a,r.height=o*a,s.clearRect(0,0,n*a,o*a);var l={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s);var h=i(46),u=new h({id:t,style:{x:0,y:0,image:r}});return null!=l.position&&(u.position=e.position=l.position),null!=l.rotation&&(u.rotation=e.rotation=l.rotation),null!=l.scale&&(u.scale=e.scale=l.scale),u},_createPathToImage:function(){var t=this;return function(e,i,n,o){return t._pathToImage(e,i,n,o,t.dpr)}}},t.exports=v},function(t,e,i){"use strict";function n(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2===e.z2?t.__renderidx-e.__renderidx:t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var o=i(1),a=i(27),r=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};r.prototype={constructor:r,getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,o=0,a=e.length;a>o;o++)this._updateAndAddDisplayable(e[o],null,t);i.length=this._displayListLen;for(var o=0,a=i.length;a>o;o++)i[o].__renderidx=o;i.sort(n)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.clipPath;if(n&&(n.parent=t,n.updateTransform(),e?(e=e.slice(),e.push(n)):e=[n]),"group"==t.type){for(var o=t._children,a=0;a<o.length;a++){var r=o[a];r.__dirty=t.__dirty||r.__dirty,this._updateAndAddDisplayable(r,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof a&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof a&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,n=t.length;n>e;e++)this.delRoot(t[e]);else{var r;r="string"==typeof t?this._elements[t]:t;var s=o.indexOf(this._roots,r);s>=0&&(this.delFromMap(r.id),this._roots.splice(s,1),r instanceof a&&r.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof a&&(t.__storage=this),t.dirty(),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,i=e[t];return i&&(delete e[t],i instanceof a&&(i.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},t.exports=r},function(t,e,i){"use strict";var n=i(1),o=i(34).Dispatcher,a="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},r=i(56),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,o.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,o=[],a=[],r=0;n>r;r++){var s=i[r],l=s.step(t);l&&(o.push(l),a.push(s))}for(var r=0;n>r;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=o.length;for(var r=0;n>r;r++)a[r].fire(o[r]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},start:function(){function t(){e._running&&(a(t),e._update())}var e=this;this._running=!0,this._time=(new Date).getTime(),a(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var i=new r(t,e.loop,e.getter,e.setter);return i}},n.mixin(s,o),t.exports=s},function(t,e,i){function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null==t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var o=i(132);n.prototype={constructor:n,step:function(t){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var i=this.easing,n="string"==typeof i?o[i]:i,a="function"==typeof n?n(e):e;return this.fire("frame",a),1==e?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var t=(new Date).getTime(),e=(t-this._startTime)%this._life;this._startTime=(new Date).getTime()-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},t.exports=n},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}};t.exports=i},function(t,e,i){var n=i(57).normalizeRadian,o=2*Math.PI;t.exports={containStroke:function(t,e,i,a,r,s,l,h,u){if(0===l)return!1;var c=l;h-=t,u-=e;var d=Math.sqrt(h*h+u*u);if(d-c>i||i>d+c)return!1;if(Math.abs(a-r)%o<1e-4)return!0;if(s){var f=a;a=n(r),r=n(f)}else a=n(a),r=n(r);a>r&&(r+=o);var p=Math.atan2(u,h);return 0>p&&(p+=o),p>=a&&r>=p||p+o>=a&&r>=p+o}}},function(t,e,i){var n=i(16);t.exports={containStroke:function(t,e,i,o,a,r,s,l,h,u,c){if(0===h)return!1;var d=h;if(c>e+d&&c>o+d&&c>r+d&&c>l+d||e-d>c&&o-d>c&&r-d>c&&l-d>c||u>t+d&&u>i+d&&u>a+d&&u>s+d||t-d>u&&i-d>u&&a-d>u&&s-d>u)return!1;var f=n.cubicProjectPoint(t,e,i,o,a,r,s,l,u,c,null);return d/2>=f}}},function(t,e){t.exports={containStroke:function(t,e,i,n,o,a,r){if(0===o)return!1;var s=o,l=0,h=t;if(r>e+s&&r>n+s||e-s>r&&n-s>r||a>t+s&&a>i+s||t-s>a&&i-s>a)return!1;if(t===i)return Math.abs(a-t)<=s/2;l=(e-n)/(t-i),h=(t*n-i*e)/(t-i);var u=l*a-r+h,c=u*u/(l*l+1);return s/2*s/2>=c}}},function(t,e,i){"use strict";function n(t,e){return Math.abs(t-e)<x}function o(){var t=b[0];b[0]=b[1],b[1]=t}function a(t,e,i,n,a,r,s,l,h,u){if(u>e&&u>n&&u>r&&u>l||e>u&&n>u&&r>u&&l>u)return 0;var c=g.cubicRootAt(e,n,r,l,u,_);if(0===c)return 0;for(var d,f,p=0,m=-1,v=0;c>v;v++){var y=_[v],x=g.cubicAt(t,i,a,s,y);h>x||(0>m&&(m=g.cubicExtrema(e,n,r,l,b),b[1]<b[0]&&m>1&&o(),d=g.cubicAt(e,n,r,l,b[0]),m>1&&(f=g.cubicAt(e,n,r,l,b[1]))),p+=2==m?y<b[0]?e>d?1:-1:y<b[1]?d>f?1:-1:f>l?1:-1:y<b[0]?e>d?1:-1:d>l?1:-1)}return p}function r(t,e,i,n,o,a,r,s){if(s>e&&s>n&&s>a||e>s&&n>s&&a>s)return 0;var l=g.quadraticRootAt(e,n,a,s,_);if(0===l)return 0;var h=g.quadraticExtremum(e,n,a);if(h>=0&&1>=h){for(var u=0,c=g.quadraticAt(e,n,a,h),d=0;l>d;d++){var f=g.quadraticAt(t,i,o,_[d]);r>f||(u+=_[d]<h?e>c?1:-1:c>a?1:-1)}return u}var f=g.quadraticAt(t,i,o,_[0]);return r>f?0:e>a?1:-1}function s(t,e,i,n,o,a,r,s){if(s-=e,s>i||-i>s)return 0;var l=Math.sqrt(i*i-s*s);_[0]=-l,_[1]=l;var h=Math.abs(n-o);if(1e-4>h)return 0;if(1e-4>h%y){n=0,o=y;var u=a?1:-1;return r>=_[0]+t&&r<=_[1]+t?u:0}if(a){var l=n;n=p(o),o=p(l)}else n=p(n),o=p(o);n>o&&(o+=y);for(var c=0,d=0;2>d;d++){var f=_[d];if(f+t>r){var g=Math.atan2(s,f),u=a?1:-1;0>g&&(g=y+g),(g>=n&&o>=g||g+y>=n&&o>=g+y)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),c+=u)}}return c}function l(t,e,i,o,l){for(var u=0,p=0,g=0,y=0,x=0,_=0;_<t.length;){var b=t[_++];if(b===h.M&&_>1&&(i||(u+=m(p,g,y,x,o,l)),0!==u))return!0;switch(1==_&&(p=t[_],g=t[_+1],y=p,x=g),b){case h.M:y=t[_++],x=t[_++],p=y,g=x;break;case h.L:if(i){if(v(p,g,t[_],t[_+1],e,o,l))return!0}else u+=m(p,g,t[_],t[_+1],o,l)||0;p=t[_++],g=t[_++];break;case h.C:if(i){if(c.containStroke(p,g,t[_++],t[_++],t[_++],t[_++],t[_],t[_+1],e,o,l))return!0}else u+=a(p,g,t[_++],t[_++],t[_++],t[_++],t[_],t[_+1],o,l)||0;p=t[_++],g=t[_++];break;case h.Q:if(i){if(d.containStroke(p,g,t[_++],t[_++],t[_],t[_+1],e,o,l))return!0}else u+=r(p,g,t[_++],t[_++],t[_],t[_+1],o,l)||0;p=t[_++],g=t[_++];break;case h.A:var w=t[_++],S=t[_++],M=t[_++],A=t[_++],I=t[_++],T=t[_++],L=(t[_++],1-t[_++]),C=Math.cos(I)*M+w,D=Math.sin(I)*A+S;_>1?u+=m(p,g,C,D,o,l):(y=C,x=D);var P=(o-w)*A/M+w;if(i){if(f.containStroke(w,S,A,I,I+T,L,e,P,l))return!0}else u+=s(w,S,A,I,I+T,L,P,l);p=Math.cos(I+T)*M+w,g=Math.sin(I+T)*A+S;break;case h.R:y=p=t[_++],x=g=t[_++];var k=t[_++],z=t[_++],C=y+k,D=x+z;if(i){if(v(y,x,C,x,e,o,l)||v(C,x,C,D,e,o,l)||v(C,D,y,D,e,o,l)||v(y,D,C,D,e,o,l))return!0}else u+=m(C,x,C,D,o,l),u+=m(y,D,y,x,o,l);break;case h.Z:if(i){if(v(p,g,y,x,e,o,l))return!0}else if(u+=m(p,g,y,x,o,l),0!==u)return!0;p=y,g=x}}return i||n(g,x)||(u+=m(p,g,y,x,o,l)||0),0!==u}var h=i(28).CMD,u=i(135),c=i(134),d=i(137),f=i(133),p=i(57).normalizeRadian,g=i(16),m=i(75),v=u.containStroke,y=2*Math.PI,x=1e-4,_=[-1,-1,-1],b=[-1,-1];t.exports={contain:function(t,e,i){return l(t,0,!1,e,i)},containStroke:function(t,e,i,n){return l(t,e,!0,i,n)}}},function(t,e,i){var n=i(16);t.exports={containStroke:function(t,e,i,o,a,r,s,l,h){if(0===s)return!1;var u=s;if(h>e+u&&h>o+u&&h>r+u||e-u>h&&o-u>h&&r-u>h||l>t+u&&l>i+u&&l>a+u||t-u>l&&i-u>l&&a-u>l)return!1;var c=n.quadraticProjectPoint(t,e,i,o,a,r,l,h,null);return u/2>=c}}},function(t,e){"use strict";function i(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function n(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var o=function(){this._track=[]};o.prototype={constructor:o,recognize:function(t,e){return this._doTrack(t,e),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e){var i=t.touches;if(i){for(var n={points:[],touches:[],target:e,event:t},o=0,a=i.length;a>o;o++){var r=i[o];n.points.push([r.clientX,r.clientY]),n.touches.push(r)}this._track.push(n)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var i=a[e](this._track,t);if(i)return i}}};var a={pinch:function(t,e){var o=t.length;if(o){var a=(t[o-1]||{}).points,r=(t[o-2]||{}).points||a;if(r&&r.length>1&&a&&a.length>1){var s=i(a)/i(r);!isFinite(s)&&(s=1),e.pinchScale=s;var l=n(a);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=o},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},n=i.prototype;n.insert=function(t){var e=new o(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var o=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new i,this._map={},this._maxSize=t||10},r=a.prototype;r.put=function(t,e){var i=this._list,n=this._map;if(null==n[t]){var o=i.len();if(o>=this._maxSize&&o>0){var a=i.head;i.remove(a),delete n[a.key]}var r=i.insert(e);r.key=t,n[t]=r}},r.get=function(t){var e=this._map[t],i=this._list;return null!=e?(e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value):void 0},r.clear=function(){this._list.clear(),this._map={}},t.exports=a},function(t,e,i){var n=i(6);t.exports=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape)},afterBrush:function(){for(var t=this.shape.paths,e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this)}})},function(t,e,i){"use strict";var n=i(1),o=i(17),a=function(t,e,i,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,o.call(this,n)};a.prototype={constructor:a,type:"radial"},n.inherits(a,o),t.exports=a},function(t,e){var i=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],n=function(t){this.extendFrom(t)};n.prototype={constructor:n,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(t,e){for(var n=this.fill,o=this.stroke,a=0;a<i.length;a++){var r=i[a];null!=this[r]&&(t[r]=this[r])}if(null!=o){var s=this.lineWidth;t.lineWidth=s/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}null==n||"none"===n||n.colorStops||(t.fillStyle=n),null==o||"none"===o||o.colorStops||(t.strokeStyle=o),null!=this.opacity&&(t.globalAlpha=this.opacity)},extendFrom:function(t,e){if(t){var i=this;for(var n in t)!t.hasOwnProperty(n)||!e&&i.hasOwnProperty(n)||(i[n]=t[n])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0);
},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},createLinearGradient:function(t,e,i){var n=e.x*i.width+i.x,o=e.x2*i.width+i.x,a=e.y*i.height+i.y,r=e.y2*i.height+i.y,s=t.createLinearGradient(n,a,o,r);return s},createRadialGradient:function(t,e,i){var n=i.width,o=i.height,a=Math.min(n,o),r=e.x*n+i.x,s=e.y*o+i.y,l=e.r*a,h=t.createRadialGradient(r,s,0,r,s,l);return h},getGradient:function(t,e,i){for(var n="radial"===e.type?"createRadialGradient":"createLinearGradient",o=this[n](t,e,i),a=e.colorStops,r=0;r<a.length;r++)o.addColorStop(a[r].offset,a[r].color);return o}};var o,a,r=n.prototype;for(a=0;a<i.length;a++)o=i[a],o in r||(r[o]=null);t.exports=n},function(t,e,i){var n=i(5),o=n.min,a=n.max,r=n.scale,s=n.distance,l=n.add;t.exports=function(t,e,i,h){var u,c,d,f,p=[],g=[],m=[],v=[];if(h){d=[1/0,1/0],f=[-(1/0),-(1/0)];for(var y=0,x=t.length;x>y;y++)o(d,d,t[y]),a(f,f,t[y]);o(d,d,h[0]),a(f,f,h[1])}for(var y=0,x=t.length;x>y;y++){var _=t[y];if(i)u=t[y?y-1:x-1],c=t[(y+1)%x];else{if(0===y||y===x-1){p.push(n.clone(t[y]));continue}u=t[y-1],c=t[y+1]}n.sub(g,c,u),r(g,g,e);var b=s(_,u),w=s(_,c),S=b+w;0!==S&&(b/=S,w/=S),r(m,g,-b),r(v,g,w);var M=l([],_,m),A=l([],_,v);h&&(a(M,M,d),o(M,M,f),a(A,A,d),o(A,A,f)),p.push(M),p.push(A)}return i&&p.push(p.shift()),p}},function(t,e,i){function n(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}var o=i(5);t.exports=function(t,e){for(var i=t.length,a=[],r=0,s=1;i>s;s++)r+=o.distance(t[s-1],t[s]);var l=r/2;l=i>l?i:l;for(var s=0;l>s;s++){var h,u,c,d=s/(l-1)*(e?i:i-1),f=Math.floor(d),p=d-f,g=t[f%i];e?(h=t[(f-1+i)%i],u=t[(f+1)%i],c=t[(f+2)%i]):(h=t[0===f?f:f-1],u=t[f>i-2?i-1:f+1],c=t[f>i-3?i-1:f+2]);var m=p*p,v=p*m;a.push([n(h[0],g[0],u[0],c[0],p,m,v),n(h[1],g[1],u[1],c[1],p,m,v)])}return a}},function(t,e,i){t.exports=i(6).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),h=Math.sin(a);t.moveTo(l*o+i,h*o+n),t.arc(i,n,o,a,r,!s)}})},function(t,e,i){"use strict";function n(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?c:h)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?c:h)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?u:l)(t.x1,t.cpx1,t.x2,e),(i?u:l)(t.y1,t.cpy1,t.y2,e)]}var o=i(16),a=i(5),r=o.quadraticSubdivide,s=o.cubicSubdivide,l=o.quadraticAt,h=o.cubicAt,u=o.quadraticDerivativeAt,c=o.cubicDerivativeAt,d=[];t.exports=i(6).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,l=e.cpx1,h=e.cpy1,u=e.cpx2,c=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,n),null==u||null==c?(1>f&&(r(i,l,o,f,d),l=d[1],o=d[2],r(n,h,a,f,d),h=d[1],a=d[2]),t.quadraticCurveTo(l,h,o,a)):(1>f&&(s(i,l,u,o,f,d),l=d[1],u=d[2],o=d[3],s(n,h,c,a,f,d),h=d[1],c=d[2],a=d[3]),t.bezierCurveTo(l,h,u,c,o,a)))},pointAt:function(t){return n(this.shape,t,!1)},tangentAt:function(t){var e=n(this.shape,t,!0);return a.normalize(e,e)}})},function(t,e,i){"use strict";t.exports=i(6).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,i){t.exports=i(6).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.percent;0!==r&&(t.moveTo(i,n),1>r&&(o=i*(1-r)+o*r,a=n*(1-r)+a*r),t.lineTo(o,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,i){var n=i(59);t.exports=i(6).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}})},function(t,e,i){var n=i(59);t.exports=i(6).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}})},function(t,e,i){var n=i(60);t.exports=i(6).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,o=e.y,a=e.width,r=e.height;e.r?n.buildPath(t,e):t.rect(i,o,a,r),t.closePath()}})},function(t,e,i){t.exports=i(6).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}})},function(t,e,i){t.exports=i(6).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(r),u=Math.sin(r);t.moveTo(h*o+i,u*o+n),t.lineTo(h*a+i,u*a+n),t.arc(i,n,a,r,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,r,l),t.closePath()}})},function(t,e,i){"use strict";var n=i(56),o=i(1),a=o.isString,r=o.isFunction,s=o.isObject,l=i(45),h=function(){this.animators=[]};h.prototype={constructor:h,animate:function(t,e){var i,a=!1,r=this,s=this.__zr;if(t){var h=t.split("."),u=r;a="shape"===h[0];for(var c=0,d=h.length;d>c;c++)u&&(u=u[h[c]]);u&&(i=u)}else i=r;if(!i)return void l('Property "'+t+'" is not existed in element '+r.id);var f=r.animators,p=new n(i,e);return p.during(function(t){r.dirty(a)}).done(function(){f.splice(o.indexOf(f,p),1)}),f.push(p),s&&s.animation.addAnimator(p),p},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;i>n;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o){function s(){h--,h||o&&o()}a(i)?(o=n,n=i,i=0):r(n)?(o=n,n="linear",i=0):r(i)?(o=i,i=0):r(e)?(o=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i,n,o);var l=this.animators.slice(),h=l.length;h||o&&o();for(var u=0;u<l.length;u++)l[u].done(s).start(n)},_animateToShallow:function(t,e,i,n,a){var r={},l=0;for(var h in i)if(null!=e[h])s(i[h])&&!o.isArrayLike(i[h])?this._animateToShallow(t?t+"."+h:h,e[h],i[h],n,a):(r[h]=i[h],l++);else if(null!=i[h])if(t){var u={};u[t]={},u[t][h]=i[h],this.attr(u)}else this.attr(h,i[h]);return l>0&&this.animate(t,!1).when(null==n?500:n,r).delay(a||0),this}},t.exports=h},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this._dispatchProxy(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,a=n-this._y;this._x=i,this._y=n,e.drift(o,a,t),this._dispatchProxy(e,"drag",t.event);var r=this.findHover(i,n,e),s=this._dropTarget;this._dropTarget=r,e!==r&&(s&&r!==s&&this._dispatchProxy(s,"dragleave",t.event),r&&r!==s&&this._dispatchProxy(r,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this._dispatchProxy(e,"dragend",t.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=i},function(t,e,i){function n(t,e,i,n,o,a,r,s,l,h,u){var g=l*(p/180),y=f(g)*(t-i)/2+d(g)*(e-n)/2,x=-1*d(g)*(t-i)/2+f(g)*(e-n)/2,_=y*y/(r*r)+x*x/(s*s);_>1&&(r*=c(_),s*=c(_));var b=(o===a?-1:1)*c((r*r*(s*s)-r*r*(x*x)-s*s*(y*y))/(r*r*(x*x)+s*s*(y*y)))||0,w=b*r*x/s,S=b*-s*y/r,M=(t+i)/2+f(g)*w-d(g)*S,A=(e+n)/2+d(g)*w+f(g)*S,I=v([1,0],[(y-w)/r,(x-S)/s]),T=[(y-w)/r,(x-S)/s],L=[(-1*y-w)/r,(-1*x-S)/s],C=v(T,L);m(T,L)<=-1&&(C=p),m(T,L)>=1&&(C=0),0===a&&C>0&&(C-=2*p),1===a&&0>C&&(C+=2*p),u.addData(h,M,A,r,s,I,C,g,a)}function o(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<u.length;e++)i=i.replace(new RegExp(u[e],"g"),"|"+u[e]);var o,a=i.split("|"),r=0,l=0,h=new s,c=s.CMD;for(e=1;e<a.length;e++){var d,f=a[e],p=f.charAt(0),g=0,m=f.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,x,_,b,w,S,M,A=r,I=l;switch(p){case"l":r+=m[g++],l+=m[g++],d=c.L,h.addData(d,r,l);break;case"L":r=m[g++],l=m[g++],d=c.L,h.addData(d,r,l);break;case"m":r+=m[g++],l+=m[g++],d=c.M,h.addData(d,r,l),p="l";break;case"M":r=m[g++],l=m[g++],d=c.M,h.addData(d,r,l),p="L";break;case"h":r+=m[g++],d=c.L,h.addData(d,r,l);break;case"H":r=m[g++],d=c.L,h.addData(d,r,l);break;case"v":l+=m[g++],d=c.L,h.addData(d,r,l);break;case"V":l=m[g++],d=c.L,h.addData(d,r,l);break;case"C":d=c.C,h.addData(d,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),r=m[g-2],l=m[g-1];break;case"c":d=c.C,h.addData(d,m[g++]+r,m[g++]+l,m[g++]+r,m[g++]+l,m[g++]+r,m[g++]+l),r+=m[g-2],l+=m[g-1];break;case"S":y=r,x=l;var T=h.len(),L=h.data;o===c.C&&(y+=r-L[T-4],x+=l-L[T-3]),d=c.C,A=m[g++],I=m[g++],r=m[g++],l=m[g++],h.addData(d,y,x,A,I,r,l);break;case"s":y=r,x=l;var T=h.len(),L=h.data;o===c.C&&(y+=r-L[T-4],x+=l-L[T-3]),d=c.C,A=r+m[g++],I=l+m[g++],r+=m[g++],l+=m[g++],h.addData(d,y,x,A,I,r,l);break;case"Q":A=m[g++],I=m[g++],r=m[g++],l=m[g++],d=c.Q,h.addData(d,A,I,r,l);break;case"q":A=m[g++]+r,I=m[g++]+l,r+=m[g++],l+=m[g++],d=c.Q,h.addData(d,A,I,r,l);break;case"T":y=r,x=l;var T=h.len(),L=h.data;o===c.Q&&(y+=r-L[T-4],x+=l-L[T-3]),r=m[g++],l=m[g++],d=c.Q,h.addData(d,y,x,r,l);break;case"t":y=r,x=l;var T=h.len(),L=h.data;o===c.Q&&(y+=r-L[T-4],x+=l-L[T-3]),r+=m[g++],l+=m[g++],d=c.Q,h.addData(d,y,x,r,l);break;case"A":_=m[g++],b=m[g++],w=m[g++],S=m[g++],M=m[g++],A=r,I=l,r=m[g++],l=m[g++],d=c.A,n(A,I,r,l,S,M,_,b,w,d,h);break;case"a":_=m[g++],b=m[g++],w=m[g++],S=m[g++],M=m[g++],A=r,I=l,r+=m[g++],l+=m[g++],d=c.A,n(A,I,r,l,S,M,_,b,w,d,h)}}"z"!==p&&"Z"!==p||(d=c.Z,h.addData(d)),o=d}return h.toStatic(),h}function a(t,e){var i,n=o(t);return e=e||{},e.buildPath=function(t){t.setData(n.data),i&&l(t,i);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){i||(i=h.create()),h.mul(i,t,i)},e}var r=i(6),s=i(28),l=i(157),h=i(19),u=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,d=Math.sin,f=Math.cos,p=Math.PI,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},m=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))},v=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))};t.exports={createFromString:function(t,e){return new r(a(t,e))},extendFromString:function(t,e){return r.extend(a(t,e))},mergePath:function(t,e){var i,n,o=[],a=t.length;for(n=0;a>n;n++)i=t[n],i.__dirty&&i.buildPath(i.path,i.shape),o.push(i.path);var s=new r(e);return s.buildPath=function(t){t.appendPath(o);var e=t.getContext();e&&t.rebuildPath(e)},s}}},function(t,e,i){function n(t,e){var i,n,a,u,c,d,f=t.data,p=o.M,g=o.C,m=o.L,v=o.R,y=o.A,x=o.Q;for(a=0,u=0;a<f.length;){switch(i=f[a++],u=a,n=0,i){case p:n=1;break;case m:n=1;break;case g:n=3;break;case x:n=2;break;case y:var _=e[4],b=e[5],w=l(e[0]*e[0]+e[1]*e[1]),S=l(e[2]*e[2]+e[3]*e[3]),M=h(-e[1]/S,e[0]/w);f[a++]+=_,f[a++]+=b,f[a++]*=w,f[a++]*=S,f[a++]+=M,f[a++]+=M,a+=2,u=a;break;case v:d[0]=f[a++],d[1]=f[a++],r(d,d,e),f[u++]=d[0],f[u++]=d[1],d[0]+=f[a++],d[1]+=f[a++],r(d,d,e),f[u++]=d[0],f[u++]=d[1]}for(c=0;n>c;c++){var d=s[c];d[0]=f[a++],d[1]=f[a++],r(d,d,e),f[u++]=d[0],f[u++]=d[1]}}}var o=i(28).CMD,a=i(5),r=a.applyTransform,s=[[],[],[]],l=Math.sqrt,h=Math.atan2;t.exports=n},function(t,e,i){if(!i(14).canvasSupported){var n,o="urn:schemas-microsoft-com:vml",a=window,r=a.document,s=!1;try{!r.namespaces.zrvml&&r.namespaces.add("zrvml",o),n=function(t){return r.createElement("<zrvml:"+t+' class="zrvml">')}}catch(l){n=function(t){return r.createElement("<"+t+' xmlns="'+o+'" class="zrvml">')}}var h=function(){if(!s){s=!0;var t=r.styleSheets;t.length<31?r.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}};t.exports={doc:r,initVML:h,createNode:n}}},function(t,e,i){"use strict";function n(t){return null==t.value?t:t.value}var o=i(15),a=i(31),r=i(267),s=i(1),l={_baseAxisDim:null,getInitialData:function(t,e){var i,r,s=e.getComponent("xAxis",this.get("xAxisIndex")),l=e.getComponent("yAxis",this.get("yAxisIndex")),h=s.get("type"),u=l.get("type");"category"===h?(t.layout="horizontal",i=s.getCategories(),r=!0):"category"===u?(t.layout="vertical",i=l.getCategories(),r=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var c=t.data,d=this.dimensions=["base"].concat(this.valueDimensions);a(d,c);var f=new o(d,this);return f.initData(c,i?i.slice():null,function(t,e,i,o){var a=n(t);return r?"base"===e?i:a[o-1]:a[o]}),f},coordDimToDataDim:function(t){var e=this.valueDimensions.slice(),i=["base"],n={horizontal:{x:i,y:e},vertical:{x:e,y:i}};return n[this.get("layout")][t]},dataDimToCoordDim:function(t){var e;return s.each(["x","y"],function(i,n){var o=this.coordDimToDataDim(i);s.indexOf(o,t)>=0&&(e=i)},this),e},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},h={init:function(){var t=this._whiskerBoxDraw=new r(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}};t.exports={seriesModelMixin:l,viewMixin:h}},function(t,e,i){var n=i(1),o={retrieveTargetInfo:function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&&i.contains(n))return{node:n};var o=t.targetNodeId;if(null!=o&&(n=i.getNodeById(o)))return{node:n}}},getPathToRoot:function(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()},aboveViewRoot:function(t,e){var i=o.getPathToRoot(t);return n.indexOf(i,e)>=0}};t.exports=o},function(t,e,i){function n(t,e,i){v.call(this),this.type=t,this.zr=e,this.opt=y.clone(i),this.group=new x.Group,this._containerRect=null,this._track=[],this._dragging,this._cover,this._disabled=!0,this._handlers={mousedown:_(s,this),mousemove:_(l,this),mouseup:_(h,this)},b(T,function(t){this.zr.on(t,this._handlers[t])},this)}function o(t){t.traverse(function(t){t.z=A})}function a(t,e){var i=this.group.transformCoordToLocal(t,e);return!this._containerRect||this._containerRect.contain(i[0],i[1])}function r(t){var e=t.event;e.preventDefault&&e.preventDefault()}function s(t){if(!(this._disabled||t.target&&t.target.draggable)){r(t);var e=t.offsetX,i=t.offsetY;a.call(this,e,i)&&(this._dragging=!0,this._track=[[e,i]])}}function l(t){this._dragging&&!this._disabled&&(r(t),u.call(this,t))}function h(t){this._dragging&&!this._disabled&&(r(t),u.call(this,t,!0),this._dragging=!1,this._track=[])}function u(t,e){var i=t.offsetX,n=t.offsetY;if(a.call(this,i,n)){this._track.push([i,n]);var o=c.call(this)?L[this.type].getRanges.call(this):[];d.call(this,o),this.trigger("selected",y.clone(o)),e&&this.trigger("selectEnd",y.clone(o))}}function c(){var t=this._track;if(!t.length)return!1;var e=t[t.length-1],i=t[0],n=e[0]-i[0],o=e[1]-i[1],a=M(n*n+o*o,.5);return a>I}function d(t){var e=L[this.type];t&&t.length?(this._cover||(this._cover=e.create.call(this),this.group.add(this._cover)),e.update.call(this,t)):(this.group.remove(this._cover),this._cover=null),o(this.group)}function f(){var t=this.group,e=t.parent;e&&e.remove(t)}function p(){var t=this.opt;return new x.Rect({style:{stroke:t.stroke,fill:t.fill,lineWidth:t.lineWidth,opacity:t.opacity}})}function g(){return y.map(this._track,function(t){return this.group.transformCoordToLocal(t[0],t[1])},this)}function m(){var t=g.call(this),e=t.length-1;return 0>e&&(e=0),[t[0],t[e]]}var v=i(21),y=i(1),x=i(3),_=y.bind,b=y.each,w=Math.min,S=Math.max,M=Math.pow,A=1e4,I=2,T=["mousedown","mousemove","mouseup"];n.prototype={constructor:n,enable:function(t,e){this._disabled=!1,f.call(this),this._containerRect=e!==!1?e||t.getBoundingRect():null,t.add(this.group)},update:function(t){d.call(this,t&&y.clone(t))},disable:function(){this._disabled=!0,f.call(this)},dispose:function(){this.disable(),b(T,function(t){this.zr.off(t,this._handlers[t])},this)}},y.mixin(n,v);var L={line:{create:p,getRanges:function(){var t=m.call(this),e=w(t[0][0],t[1][0]),i=S(t[0][0],t[1][0]);return[[e,i]]},update:function(t){var e=t[0],i=this.opt.width;this._cover.setShape({x:e[0],y:-i/2,width:e[1]-e[0],height:i})}},rect:{create:p,getRanges:function(){var t=m.call(this),e=[w(t[1][0],t[0][0]),w(t[1][1],t[0][1])],i=[S(t[1][0],t[0][0]),S(t[1][1],t[0][1])];return[[[e[0],i[0]],[e[1],i[1]]]]},update:function(t){var e=t[0];this._cover.setShape({x:e[0][0],y:e[1][0],width:e[0][1]-e[0][0],height:e[1][1]-e[1][0]})}}};t.exports=n},function(t,e,i){function n(t,e){var i=this.getBoundingRect(),n=t.getBoxLayoutParams();n.aspect=i.width/i.height*.75;var o=s.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});this.setViewRect(o.x,o.y,o.width,o.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function o(t,e){l.each(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e)})}function a(t){console.error("Map "+t+" not exists")}var r=i(328),s=i(11),l=i(1),h={},u={dimensions:r.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",function(t,s){var l=t.get("map"),u=h[l];u||a(l);var c=new r(l+s,l,u&&u.geoJson,u&&u.specialAreas,t.get("nameMap"));c.zoomLimit=t.get("scaleLimit"),i.push(c),o(c,t),t.coordinateSystem=c,c.model=t,c.resize=n,c.resize(t,e)}),t.eachSeries(function(t){var e=t.get("coordinateSystem");if("geo"===e){var n=t.get("geoIndex")||0;t.coordinateSystem=i[n]}});var s={};return t.eachSeriesByType("map",function(t){var e=t.get("map");s[e]=s[e]||[],s[e].push(t)}),l.each(s,function(t,s){var u=h[s];u||a(name);var c=l.map(t,function(t){return t.get("nameMap")}),d=new r(s,s,u&&u.geoJson,u&&u.specialAreas,l.mergeAll(c));d.zoomLimit=l.retrieve.apply(null,l.map(t,function(t){return t.get("scaleLimit")})),i.push(d),d.resize=n,d.resize(t[0],e),l.each(t,function(t){t.coordinateSystem=d,o(d,t)})}),i},registerMap:function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),h[t]={geoJson:e,specialAreas:i}},getMap:function(t){return h[t]},getFilledRegions:function(t,e){for(var i=(t||[]).slice(),n=u.getMap(e),o=n&&n.geoJson,a={},r=o.features,s=0;s<i.length;s++)a[i[s].name]=i[s];for(var s=0;s<r.length;s++){var l=r[s].properties.name;a[l]||i.push({name:l})}return i}},c=i(2);c.registerMap=u.registerMap,c.getMap=u.getMap,c.loadMap=function(){},c.registerCoordinateSystem("geo",u),t.exports=u},function(t,e,i){function n(){this.group=new o.Group,this._symbolEl=new s({silent:!0})}var o=i(3),a=i(25),r=i(1),s=o.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var i=e.points,n=e.sizes,o=this.symbolProxy,a=o.shape,r=0;r<i.length;r++){var s=i[r],l=n[r];l[0]<4?t.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(a.x=s[0]-l[0]/2,a.y=s[1]-l[1]/2,a.width=l[0],a.height=l[1],o.buildPath(t,a))}}}),l=n.prototype;l.updateData=function(t){this.group.removeAll();var e=this._symbolEl,i=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var i=t.getItemVisual(e,"symbolSize");return r.isArray(i)||(i=[i,i]),i})}),e.symbolProxy=a.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.useStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));var n=t.getVisual("color");n&&e.setColor(n),this.group.add(this._symbolEl)},l.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},l.remove=function(){this.group.removeAll()},t.exports=n},function(t,e,i){function n(t){return null==t.cpx1||null==t.cpy1}var o=i(3),a=i(5),r=o.Line.prototype,s=o.BezierCurve.prototype;t.exports=o.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(n(e)?r:s).buildPath(t,e)},pointAt:function(t){return n(this.shape)?r.pointAt.call(this,t):s.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=n(e)?[e.x2-e.x1,e.y2-e.y1]:s.tangentAt.call(this,t);return a.normalize(i,i)}})},function(t,e,i){var n=i(1),o=i(2);i(166),i(167),o.registerVisualCoding("chart",n.curry(i(44),"scatter","circle",null)),o.registerLayout(n.curry(i(53),"scatter")),i(36)},function(t,e,i){"use strict";var n=i(35),o=i(13);t.exports=o.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(t,e){var i=n(t.data,this,e);return i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(t,e,i){var n=i(39),o=i(163);i(2).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new n,this._largeSymbolDraw=new o},render:function(t,e,i){var n=t.getData(),o=this._largeSymbolDraw,a=this._normalSymbolDraw,r=this.group,s=t.get("large")&&n.count()>t.get("largeThreshold")?o:a;this._symbolDraw=s,s.updateData(n),r.add(s.group),r.remove(s===o?a.group:o.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)}})},function(t,e,i){i(100),i(40),i(41),i(174),i(175),i(170),i(171),i(98),i(97)},function(t,e,i){function n(t,e){var i=[1/0,-(1/0)];return h(e,function(e){var n=e.getData();n&&h(e.coordDimToDataDim(t),function(t){var e=n.getDataExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})},this),i}function o(t,e,i){var n=i.getAxisModel(),o=n.axis.scale,r=[0,100],s=[t.start,t.end],c=[];return e=e.slice(),a(e,n,o),h(["startValue","endValue"],function(e){c.push(null!=t[e]?o.parse(t[e]):null)}),h([0,1],function(t){var i=c[t],n=s[t];null!=n||null==i?(null==n&&(n=r[t]),i=o.parse(l.linearMap(n,r,e,!0))):n=l.linearMap(i,e,r,!0),c[t]=i,s[t]=n}),{valueWindow:u(c),percentWindow:u(s)}}function a(t,e,i){return h(["min","max"],function(n,o){var a=e.get(n,!0);null!=a&&(a+"").toLowerCase()!=="data"+n&&(t[o]=i.parse(a))}),e.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function r(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var a=e||0===n[0]&&100===n[1],r=!e&&l.getPixelPrecision(o,[0,500]),s=!(e||20>r&&r>=0),h=e||a||s;i.setRange&&i.setRange(h?null:+o[0].toFixed(r),h?null:+o[1].toFixed(r))}}var s=i(1),l=i(4),h=s.each,u=l.asc,c=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=n,this._dataZoomModel=i};c.prototype={constructor:c,hostedBy:function(t){return this._dataZoomModel===t},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[];return this.ecModel.eachSeries(function(e){this._axisIndex===e.get(this._dimName+"AxisIndex")&&t.push(e)},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel(),a="x"===i||"y"===i;a?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle");var r;return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(r=t)}),r},reset:function(t){if(t===this._dataZoomModel){var e=this._dataExtent=n(this._dimName,this.getTargetSeriesModels()),i=o(t.option,e,this);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,r(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,r(this,!0))},filterData:function(t){function e(t){return t>=a[0]&&t<=a[1]}if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow,r=this.getOtherAxisModel();t.get("$fromToolbox")&&r&&"category"===r.get("type")&&(o="empty"),h(n,function(t){var n=t.getData();n&&h(t.coordDimToDataDim(i),function(i){"empty"===o?t.setData(n.map(i,function(t){return e(t)?t:NaN})):n.filterSelf(i,e)})})}}},t.exports=c},function(t,e,i){t.exports=i(40).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(t,e,i){function n(t,e,i,n){e=e.slice();var o=n.axisModels[0];if(o){var r=a(t,o,i),s=r.signal*(e[1]-e[0])*r.pixel/r.pixelLength;return h(s,e,[0,100],"rigid"),e}}function o(t,e,i,n,o,s){i=i.slice();var l=o.axisModels[0];if(l){var h=a(e,l,n),u=h.pixel-h.pixelStart,c=u/h.pixelLength*(i[1]-i[0])+i[0];return t=Math.max(t,0),i[0]=(i[0]-c)*t+c,i[1]=(i[1]-c)*t+c,r(i)}}function a(t,e,i){var n=e.axis,o=i.rectProvider(),a={};return"x"===n.dim?(a.pixel=t[0],a.pixelLength=o.width,a.pixelStart=o.x,a.signal=n.inverse?1:-1):(a.pixel=t[1],a.pixelLength=o.height,a.pixelStart=o.y,a.signal=n.inverse?-1:1),a}function r(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t}var s=i(41),l=i(1),h=i(71),u=i(176),c=l.bind,d=s.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,n){d.superApply(this,"render",arguments),u.shouldRecordRange(n,t.id)&&(this._range=t.getPercentRange());var o=this.getTargetInfo().cartesians,a=l.map(o,function(t){return u.generateCoordId(t.model)});l.each(o,function(e){var n=e.model;u.register(i,{coordId:u.generateCoordId(n),allCoordIds:a,coordinateSystem:n.coordinateSystem,dataZoomId:t.id,throttleRage:t.get("throttle",!0),panGetRange:c(this._onPan,this,e),zoomGetRange:c(this._onZoom,this,e)})},this)},remove:function(){u.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"remove",arguments),this._range=null},dispose:function(){u.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,o){return this._range=n([i,o],this._range,e,t)},_onZoom:function(t,e,i,n,a){var r=this.dataZoomModel;return r.option.zoomLock?this._range:this._range=o(1/i,[n,a],this._range,e,t,r)}});t.exports=d},function(t,e,i){var n=i(40);t.exports=n.extend({type:"dataZoom.select"})},function(t,e,i){t.exports=i(41).extend({type:"dataZoom.select"})},function(t,e,i){var n=i(40),o=n.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.15)",handleColor:"rgba(148,164,165,0.95)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}},mergeOption:function(t){o.superApply(this,"mergeOption",arguments)}});t.exports=o},function(t,e,i){function n(t){return"x"===t?"y":"x"}var o=i(1),a=i(3),r=i(125),s=i(41),l=a.Rect,h=i(4),u=h.linearMap,c=i(11),d=i(71),f=h.asc,p=o.bind,g=Math.round,m=Math.max,v=o.each,y=7,x=1,_=30,b="horizontal",w="vertical",S=5,M=["line","bar","candlestick","scatter"],A=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._halfHandleSize,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){return A.superApply(this,"render",arguments),r.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this._halfHandleSize=g(t.get("handleSize")/2),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),void this._updateView())},remove:function(){A.superApply(this,"remove",arguments),r.clear(this,"_dispatchZoomAction")},dispose:function(){A.superApply(this,"dispose",arguments),r.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new a.Group;this._renderBackground(),this._renderDataShadow(),this._renderHandle(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},a=this._orient===b?{right:n.width-i.x-i.width,top:n.height-_-y,width:i.width,height:_}:{right:y,top:i.y,width:_,height:i.height},r=c.getLayoutParams(t.option);o.each(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=a[t])});var s=c.getLayoutRect(r,n,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===w&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==b||o?i===b&&o?{scale:r?[-1,1]:[-1,-1]}:i!==w||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.position[0]=e.x-s.x,t.position[1]=e.y-s.y},_getViewExtent:function(){var t=this._halfHandleSize,e=m(this._size[0],4*t),i=[t,e-t];return i},_renderBackground:function(){var t=this.dataZoomModel,e=this._size;this._displayables.barGroup.add(new l({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")}}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim,r=n.getDataExtent(o),s=.3*(r[1]-r[0]);r=[r[0]-s,r[1]+s];var l=[0,e[1]],h=[0,e[0]],c=[[e[0],0],[0,0]],d=h[1]/(n.count()-1),f=0,p=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(p>0&&e%p)return void(f+=d);var i=null==t||isNaN(t)||""===t?null:u(t,r,l,!0);null!=i&&c.push([f,i]),f+=d}),this._displayables.barGroup.add(new a.Polyline({shape:{points:c},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20}))}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(r,s){var l=t.getAxisProxy(r.name,s).getTargetSeriesModels();o.each(l,function(t){if(!(i||e!==!0&&o.indexOf(M,t.get("type"))<0)){var l=n(r.name),h=a.getComponent(r.axis,s).axis;i={thisAxis:h,series:t,thisDim:r.name,otherDim:l,otherAxisInverse:t.coordinateSystem.getOtherAxis(h).inverse}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,o=this._size;n.add(t.filler=new l({draggable:!0,cursor:"move",drift:p(this._onDragMove,this,"all"),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}})),n.add(new l(a.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:x,fill:"rgba(0,0,0,0)"}}))),v([0,1],function(t){n.add(e[t]=new l({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:p(this._onDragMove,this,t),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1)}));var o=this.dataZoomModel.textStyleModel;this.group.add(i[t]=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:o.getTextColor(),textFont:o.getFont()}}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[u(t[0],[0,100],e,!0),u(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this._handleEnds,n=this._getViewExtent();d(e,i,n,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=f([u(i[0],n,[0,100],!0),u(i[1],n,[0,100],!0)])},_updateView:function(){var t=this._displayables,e=this._handleEnds,i=f(e.slice()),n=this._size,o=this._halfHandleSize;v([0,1],function(i){var a=t.handles[i];a.setShape({x:e[i]-o,y:-1,width:2*o,height:n[1]+2,r:1})},this),t.filler.setShape({x:i[0],
y:0,width:i[1]-i[0],height:this._size[1]}),this._updateDataInfo()},_updateDataInfo:function(){function t(t){var e=a.getTransform(i.handles[t],this.group),s=a.transformDirection(0===t?"right":"left",e),l=this._halfHandleSize+S,u=a.applyTransform([h[t]+(0===t?-l:l),this._size[1]/2],e);n[t].setStyle({x:u[0],y:u[1],textVerticalAlign:o===b?"middle":s,textAlign:o===b?s:"center",text:r[t]})}var e=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,r=["",""];if(e.get("showDetail")){var s,l;e.eachTargetAxis(function(t,i){s||(s=e.getAxisProxy(t.name,i).getDataValueWindow(),l=this.ecModel.getComponent(t.axis,i).axis)},this),s&&(r=[this._formatLabel(s[0],l),this._formatLabel(s[1],l)])}var h=f(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter");if(o.isFunction(n))return n(t);var a=i.get("labelPrecision");return null!=a&&"auto"!==a||(a=e.getPixelPrecision()),t=null==t&&isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(a,20)),o.isString(n)&&(t=n.replace("{value}",t)),t},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._applyBarTransform([e,i],!0);this._updateInterval(t,n[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_applyBarTransform:function(t,e){var i=this._displayables.barGroup.getLocalTransform();return a.applyTransform(t,i,e)},_findCoordRect:function(){var t,e=this.getTargetInfo();if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var i=this.api.getWidth(),n=this.api.getHeight();t={x:.2*i,y:.2*n,width:.6*i,height:.6*n}}return t}});t.exports=A},function(t,e,i){function n(t){var e=t.getZr();return e[p]||(e[p]={})}function o(t,e,i){var n=new c(t.getZr());return n.enable(),n.on("pan",f(r,i)),n.on("zoom",f(s,i)),n}function a(t){u.each(t,function(e,i){e.count||(e.controller.off("pan").off("zoom"),delete t[i])})}function r(t,e,i){l(t,function(n){return n.panGetRange(t.controller,e,i)})}function s(t,e,i,n){l(t,function(o){return o.zoomGetRange(t.controller,e,i,n)})}function l(t,e){var i=[];u.each(t.dataZoomInfos,function(t){var n=e(t);n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function h(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var u=i(1),c=i(70),d=i(125),f=u.curry,p="\x00_ec_dataZoom_roams",g={register:function(t,e){var i=n(t),r=e.dataZoomId,s=e.coordId;u.each(i,function(t,i){var n=t.dataZoomInfos;n[r]&&u.indexOf(e.allCoordIds,s)<0&&(delete n[r],t.count--)}),a(i);var l=i[s];l||(l=i[s]={coordId:s,dataZoomInfos:{},count:0},l.controller=o(t,e,l),l.dispatchAction=u.curry(h,t));var c=e.coordinateSystem.getRect().clone();l.controller.rectProvider=function(){return c},d.createOrUpdate(l,"dispatchAction",e.throttleRate,"fixRate"),!l.dataZoomInfos[r]&&l.count++,l.dataZoomInfos[r]=e},unregister:function(t,e){var i=n(t);u.each(i,function(t){var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),a(i)},shouldRecordRange:function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;n>i;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+"\x00_"+t.id}};t.exports=g},function(t,e,i){i(100),i(40),i(41),i(172),i(173),i(98),i(97)},function(t,e,i){i(179),i(181),i(180);var n=i(2);n.registerProcessor("filter",i(182))},function(t,e,i){"use strict";var n=i(1),o=i(12),a=i(2).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateData(i);var n=this._data,o=this.option.selected;if(n[0]&&"single"===this.get("selectedMode")){var a=!1;for(var r in o)o[r]&&(this.select(r),a=!0);!a&&this.select(n[0].get("name"))}},mergeOption:function(t){a.superCall(this,"mergeOption",t),this._updateData(this.ecModel)},_updateData:function(t){var e=n.map(this.get("data")||[],function(t){return"string"==typeof t&&(t={name:t}),new o(t,this,this.ecModel)},this);this._data=e;var i=n.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName))}}),this._availableNames=i},getData:function(){return this._data},select:function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var o=this._data;n.each(o,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;t in e||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(t in e&&!e[t])&&n.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});t.exports=a},function(t,e,i){function n(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function o(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function a(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var r=i(1),s=i(25),l=i(3),h=i(102),u=r.curry,c="#ccc";t.exports=i(2).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,i){var s=this.group;if(s.removeAll(),t.get("show")){var c=t.get("selectedMode"),d=t.get("align");"auto"===d&&(d="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var f={};r.each(t.getData(),function(r){var h=r.get("name");if(""===h||"\n"===h)return void s.add(new l.Group({newline:!0}));var p=e.getSeriesByName(h)[0];if(!f[h])if(p){var g=p.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(p.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",y=g.getVisual("symbol"),x=this._createItem(h,r,t,v,y,d,m,c);x.on("click",u(n,h,i)).on("mouseover",u(o,p,"",i)).on("mouseout",u(a,p,"",i)),f[h]=!0}else e.eachRawSeries(function(e){if(!f[h]&&e.legendDataProvider){var s=e.legendDataProvider(),l=s.indexOfName(h);if(0>l)return;var p=s.getItemVisual(l,"color"),g="roundRect",m=this._createItem(h,r,t,g,null,d,p,c);m.on("click",u(n,h,i)).on("mouseover",u(o,e,h,i)).on("mouseout",u(a,e,h,i)),f[h]=!0}},this)},this),h.layout(s,t,i),h.addBackground(s,t)}},_createItem:function(t,e,i,n,o,a,r,h){var u=i.get("itemWidth"),d=i.get("itemHeight"),f=i.isSelected(t),p=new l.Group,g=e.getModel("textStyle"),m=e.get("icon");if(n=m||n,p.add(s.createSymbol(n,0,0,u,d,f?r:c)),!m&&o&&(o!==n||"none"==o)){var v=.8*d;"none"===o&&(o="circle"),p.add(s.createSymbol(o,(u-v)/2,(d-v)/2,v,v,f?r:c))}var y="left"===a?u+5:-5,x=a,_=i.get("formatter");"string"==typeof _&&_?t=_.replace("{name}",t):"function"==typeof _&&(t=_(t));var b=new l.Text({style:{text:t,x:y,y:d/2,fill:f?g.getTextColor():c,textFont:g.getFont(),textAlign:x,textVerticalAlign:"middle"}});return p.add(b),p.add(new l.Rect({shape:p.getBoundingRect(),invisible:!0})),p.eachChild(function(t){t.silent=!h}),this.group.add(p),l.setHoverStyle(p),p}})},function(t,e,i){function n(t,e,i){var n,o={},r="toggleSelected"===t;return i.eachComponent("legend",function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name));var s=i.getData();a.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);e in o?o[e]=o[e]&&n:o[e]=n}})}),{name:e.name,selected:o}}var o=i(2),a=i(1);o.registerAction("legendToggleSelect","legendselectchanged",a.curry(n,"toggleSelected")),o.registerAction("legendSelect","legendselected",a.curry(n,"select")),o.registerAction("legendUnSelect","legendunselected",a.curry(n,"unSelect"))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}},function(t,e,i){i(185),i(186),i(2).registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,i){i(187),i(188),i(2).registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,i){function n(t){o.defaultEmphasis(t.label,o.LABEL_OPTIONS)}var o=i(7),a=i(1),r=i(2).extendComponentModel({type:"markLine",dependencies:["series","grid","polar","geo"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,o){i||e.eachSeries(function(t){var i=t.get("markLine"),s=t.markLineModel;if(!i||!i.data)return void(t.markLineModel=null);if(s)s.mergeOption(i,e,!0);else{o&&n(i),a.each(i.data,function(t){t instanceof Array?(n(t[0]),n(t[1])):n(t)});var l={mainType:"markLine",seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};s=new r(i,this,e,l)}t.markLineModel=s},this)},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});t.exports=r},function(t,e,i){function n(t){return!isNaN(t)&&!isFinite(t)}function o(t,e,i,o){var a=1-t,r=o.dimensions[t];return n(e[a])&&n(i[a])&&e[t]===i[t]&&o.getAxis(r).containData(e[t])}function a(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(o(1,i,n,t)||o(0,i,n,t)))return!0}return g.dataFilter(t,e[0])&&g.dataFilter(t,e[1])}function r(t,e,i,o,a,r,s){var l,h=r.coordinateSystem,u=t.getItemModel(e),c=u.get("x"),f=u.get("y");if(null!=c&&null!=f)l=[d.parsePercent(c,s.getWidth()),d.parsePercent(f,s.getHeight())];else{if(r.getMarkerPosition)l=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var p=h.dimensions,g=t.get(p[0],e),m=t.get(p[1],e);l=h.dataToPoint([g,m])}if("cartesian2d"===h.type){var v=h.getAxis("x"),y=h.getAxis("y"),p=h.dimensions;n(t.get(p[0],e))?l[0]=v.toGlobalCoord(v.getExtent()[i?0:1]):n(t.get(p[1],e))&&(l[1]=y.toGlobalCoord(y.getExtent()[i?0:1]))}}t.setItemLayout(e,l)}function s(t,e,i){var n;n=t?l.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var o=new h(n,i),r=new h(n,i),s=new h([],i),u=l.map(i.get("data"),l.curry(v,e,t,i));t&&(u=l.filter(u,l.curry(a,t)));var c=t?g.dimValueGetter:function(t){return t.value};return o.initData(l.map(u,function(t){return t[0]}),null,c),r.initData(l.map(u,function(t){return t[1]}),null,c),s.initData(l.map(u,function(t){return t[2]})),{from:o,to:r,line:s}}var l=i(1),h=i(15),u=i(9),c=i(7),d=i(4),f=u.addCommas,p=u.encodeHTML,g=i(103),m=i(84),v=function(t,e,i,n){var o=t.getData(),a=n.type;if(!l.isArray(n)&&("min"===a||"max"===a||"average"===a||null!=n.xAxis||null!=n.yAxis)){var r,s,h;if(null!=n.yAxis||null!=n.xAxis)s=null!=n.yAxis?"y":"x",r=e.getAxis(s),h=l.retrieve(n.yAxis,n.xAxis);else{var u=g.getAxisInfo(n,o,e,t);s=u.valueDataDim,r=u.valueAxis,h=g.numCalculate(o,s,a)}var c="x"===s?0:1,d=1-c,f=l.clone(n),p={};f.type=null,f.coord=[],p.coord=[],f.coord[d]=-(1/0),p.coord[d]=1/0;var m=i.get("precision");m>=0&&(h=+h.toFixed(m)),f.coord[c]=p.coord[c]=h,n=[f,p,{type:a,valueIndex:n.valueIndex,value:h}]}return n=[g.dataTransform(t,n[0]),g.dataTransform(t,n[1]),l.extend({},n[2])],n[2].type=n[2].type||"",l.merge(n[2],n[0]),l.merge(n[2],n[1]),n},y={formatTooltip:function(t){var e=this._data,i=this.getRawValue(t),n=l.isArray(i)?l.map(i,f).join(", "):f(i),o=e.getName(t);return this.name+"<br />"+((o?p(o)+" : ":"")+n)},getData:function(){return this._data},setData:function(t){this._data=t}};l.defaults(y,c.dataFormatMixin),i(2).extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(t,e,i){var n=this._markLineMap;for(var o in n)n[o].__keep=!1;e.eachSeries(function(t){var n=t.markLineModel;n&&this._renderSeriesML(t,n,e,i)},this);for(var o in n)n[o].__keep||this.group.remove(n[o].group)},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,a=e.__to;o.each(function(e){var s=n.getItemModel(e),l=s.get("type"),h=s.get("valueIndex");r(o,e,!0,l,h,t,i),r(a,e,!1,l,h,t,i)}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),a.getItemLayout(t)])}),this._markLineMap[t.name].updateLayout()}},this)},_renderSeriesML:function(t,e,i,n){function o(e,i,o,a,s){var l=e.getItemModel(i);r(e,i,o,a,s,t,n),e.setItemVisual(i,{symbolSize:l.get("symbolSize")||_[o?0:1],symbol:l.get("symbol",!0)||x[o?0:1],color:l.get("itemStyle.normal.color")||u.getVisual("color")})}var a=t.coordinateSystem,h=t.name,u=t.getData(),c=this._markLineMap,d=c[h];d||(d=c[h]=new m),this.group.add(d.group);var f=s(a,t,e),p=f.from,g=f.to,v=f.line;e.__from=p,e.__to=g,l.extend(e,y),e.setData(v);var x=e.get("symbol"),_=e.get("symbolSize");l.isArray(x)||(x=[x,x]),"number"==typeof _&&(_=[_,_]),f.from.each(function(t){var e=v.getItemModel(t),i=e.get("type"),n=e.get("valueIndex");o(p,t,!0,i,n),o(g,t,!1,i,n)}),v.each(function(t){var e=v.getItemModel(t).get("lineStyle.normal.color");v.setItemVisual(t,{color:e||p.getItemVisual(t,"color")}),v.setItemLayout(t,[p.getItemLayout(t),g.getItemLayout(t)]),v.setItemVisual(t,{fromSymbolSize:p.getItemVisual(t,"symbolSize"),fromSymbol:p.getItemVisual(t,"symbol"),toSymbolSize:g.getItemVisual(t,"symbolSize"),toSymbol:g.getItemVisual(t,"symbol")})}),d.updateData(v),f.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),d.__keep=!0}})},function(t,e,i){function n(t){o.defaultEmphasis(t.label,o.LABEL_OPTIONS)}var o=i(7),a=i(1),r=i(2).extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,o){i||e.eachSeries(function(t){var i=t.get("markPoint"),s=t.markPointModel;if(!i||!i.data)return void(t.markPointModel=null);if(s)s.mergeOption(i,e,!0);else{o&&n(i),a.each(i.data,n);var l={mainType:"markPoint",seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};s=new r(i,this,e,l)}t.markPointModel=s},this)},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});t.exports=r},function(t,e,i){function n(t,e,i){var n=e.coordinateSystem;t.each(function(o){var a,r=t.getItemModel(o),s=r.getShallow("x"),l=r.getShallow("y");if(null!=s&&null!=l)a=[h.parsePercent(s,i.getWidth()),h.parsePercent(l,i.getHeight())];else if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var u=t.get(n.dimensions[0],o),c=t.get(n.dimensions[1],o);a=n.dataToPoint([u,c])}t.setItemLayout(o,a)})}function o(t,e,i){var n;n=t?r.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var o=new d(n,i),a=r.map(i.get("data"),r.curry(f.dataTransform,e));return t&&(a=r.filter(a,r.curry(f.dataFilter,t))),o.initData(a,null,t?f.dimValueGetter:function(t){return t.value}),o}var a=i(39),r=i(1),s=i(9),l=i(7),h=i(4),u=s.addCommas,c=s.encodeHTML,d=i(15),f=i(103),p={formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=r.isArray(i)?r.map(i,u).join(", "):u(i),o=e.getName(t);return this.name+"<br />"+((o?c(o)+" : ":"")+n)},getData:function(){return this._data},setData:function(t){this._data=t}};r.defaults(p,l.dataFormatMixin),i(2).extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(t,e,i){var n=this._symbolDrawMap;for(var o in n)n[o].__keep=!1;e.eachSeries(function(t){var e=t.markPointModel;e&&this._renderSeriesMP(t,e,i)},this);for(var o in n)n[o].__keep||(n[o].remove(),this.group.remove(n[o].group))},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(n(e.getData(),t,i),this._symbolDrawMap[t.name].updateLayout(e))},this)},_renderSeriesMP:function(t,e,i){var s=t.coordinateSystem,l=t.name,h=t.getData(),u=this._symbolDrawMap,c=u[l];c||(c=u[l]=new a);var d=o(s,t,e);r.mixin(e,p),e.setData(d),n(e.getData(),t,i),d.each(function(t){var i=d.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),d.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.normal.color")||h.getVisual("color"),symbol:i.getShallow("symbol")})}),c.updateData(d),this.group.add(c.group),d.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),c.__keep=!0}})},function(t,e,i){"use strict";var n=i(2),o=i(3),a=i(11);n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,r=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),h=new o.Text({style:{text:t.get("text"),textFont:r.getFont(),fill:r.getTextColor(),textBaseline:"top"},z2:10}),u=h.getBoundingRect(),c=t.get("subtext"),d=new o.Text({style:{text:c,textFont:s.getFont(),fill:s.getTextColor(),y:u.height+t.get("itemGap"),textBaseline:"top"},z2:10}),f=t.get("link"),p=t.get("sublink");h.silent=!f,d.silent=!p,f&&h.on("click",function(){window.open(f,"_"+t.get("target"))}),p&&d.on("click",function(){window.open(p,"_"+t.get("subtarget"))}),n.add(h),c&&n.add(d);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=a.getLayoutRect(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),"middle"===l&&(l="center"),"right"===l?v.x+=v.width:"center"===l&&(v.x+=v.width/2)),n.position=[v.x,v.y],h.setStyle("textAlign",l),d.setStyle("textAlign",l),g=n.getBoundingRect();var y=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var _=new o.Rect({shape:{x:g.x-y[3],y:g.y-y[0],width:g.width+y[1]+y[3],height:g.height+y[0]+y[2]},style:x,silent:!0});o.subPixelOptimizeRect(_),n.add(_)}}})},function(t,e,i){i(191),i(192),i(197),i(195),i(193),i(194),i(196)},function(t,e,i){var n=i(29),o=i(1),a=i(2).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(t){a.superApply(this,"mergeDefaultAndTheme",arguments),o.each(this.option.feature,function(t,e){var i=n.get(e);i&&o.merge(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=a},function(t,e,i){(function(e){function n(t){return 0===t.indexOf("my")}var o=i(29),a=i(1),r=i(3),s=i(12),l=i(48),h=i(102),u=i(18);t.exports=i(2).extendComponentView({type:"toolbox",render:function(t,e,i){function c(a,r){var l,h=v[a],u=v[r],c=g[h],f=new s(c,t,t.ecModel);if(h&&!u){if(n(h))l={model:f,onclick:f.option.onclick,featureName:h};else{var p=o.get(h);if(!p)return;l=new p(f)}m[h]=l}else{if(l=m[u],!l)return;l.model=f}return!h&&u?void(l.dispose&&l.dispose(e,i)):!f.get("show")||l.unusable?void(l.remove&&l.remove(e,i)):(d(f,l,h),f.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},void(l.render&&l.render(f,e,i)))}function d(n,o,s){var l=n.getModel("iconStyle"),h=o.getIcons?o.getIcons():n.get("icon"),u=n.get("title")||{};if("string"==typeof h){var c=h,d=u;h={},u={},h[s]=c,u[s]=d}var g=n.iconPaths={};a.each(h,function(s,h){var c=l.getModel("normal").getItemStyle(),d=l.getModel("emphasis").getItemStyle(),m={x:-p/2,y:-p/2,width:p,height:p},v=0===s.indexOf("image://")?(m.image=s.slice(8),new r.Image({style:m})):r.makePath(s.replace("path://",""),{style:c,hoverStyle:d,rectHover:!0},m,"center");r.setHoverStyle(v),t.get("showTitle")&&(v.__title=u[h],v.on("mouseover",function(){v.setStyle({text:u[h],textPosition:d.textPosition||"bottom",textFill:d.fill||d.stroke||"#000",textAlign:d.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})),v.trigger(n.get("iconStatus."+h)||"normal"),f.add(v),v.on("click",a.bind(o.onclick,o,e,i,h)),g[h]=v})}var f=this.group;if(f.removeAll(),t.get("show")){var p=+t.get("itemSize"),g=t.get("feature")||{},m=this._features||(this._features={}),v=[];a.each(g,function(t,e){v.push(e)}),new l(this._featureNames||[],v).add(c).update(c).remove(a.curry(c,null)).execute(),this._featureNames=v,h.layout(f,t,i),h.addBackground(f,t),f.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var o=u.getBoundingRect(e,n.font),a=t.position[0]+f.position[0],r=t.position[1]+f.position[1]+p,s=!1;r+o.height>i.getHeight()&&(n.textPosition="top",s=!0);var l=s?-5-o.height:p+8;a+o.width/2>i.getWidth()?(n.textPosition=["100%",l],n.textAlign="right"):a-o.width/2<0&&(n.textPosition=[0,l],n.textAlign="left")}})}},remove:function(t,e){a.each(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){a.each(this._features,function(i){i.dispose&&i.dispose(t,e)})}})}).call(e,i(203))},function(t,e,i){function n(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(t);else{var a=o.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function o(t){var e=[];return p.each(t,function(t,i){var n=t.categoryAxis,o=t.valueAxis,a=o.dim,r=[" "].concat(p.map(t.series,function(t){return t.name})),s=[n.model.getCategories()];p.each(t.series,function(t){s.push(t.getRawData().mapArray(a,function(t){return t}))});for(var l=[r.join(v)],h=0;h<s[0].length;h++){for(var u=[],c=0;c<s.length;c++)u.push(s[c][h]);l.push(u.join(v))}e.push(l.join("\n"))}),e.join("\n\n"+m+"\n\n")}function a(t){return p.map(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],a=e.getName(o),r=0;t-1>r;r++)n[r]=arguments[r];i.push((a?a+v:"")+n.join(v))}),i.join("\n")}).join("\n\n"+m+"\n\n")}function r(t){var e=n(t);return{value:p.filter([o(e.seriesGroupByCategoryAxis),a(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:e.meta}}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(t){var e=t.slice(0,t.indexOf("\n"));return e.indexOf(v)>=0?!0:void 0}function h(t){for(var e=t.split(/\n+/g),i=s(e.shift()).split(y),n=[],o=p.map(i,function(t){return{name:t,data:[]}}),a=0;a<e.length;a++){var r=s(e[a]).split(y);n.push(r.shift());for(var l=0;l<r.length;l++)o[l]&&(o[l].data[a]=r[l])}return{series:o,categories:n}}function u(t){for(var e=t.split(/\n+/g),i=s(e.shift()),n=[],o=0;o<e.length;o++){var a,r=s(e[o]).split(y),l="",h=!1;isNaN(r[0])?(h=!0,l=r[0],r=r.slice(1),n[o]={name:l,value:[]},a=n[o].value):a=n[o]=[];for(var u=0;u<r.length;u++)a.push(+r[u]);1===a.length&&(h?n[o].value=a[0]:n[o]=a[0])}return{name:i,data:n}}function c(t,e){var i=t.split(new RegExp("\n*"+m+"\n*","g")),n={series:[]};return p.each(i,function(t,i){if(l(t)){var o=h(t),a=e[i],r=a.axisDim+"Axis";a&&(n[r]=n[r]||[],n[r][a.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=u(t);n.series.push(o)}}),n}function d(t){this._dom=null,this.model=t}function f(t,e){return p.map(t,function(t,i){var n=e&&e[i];return p.isObject(n)&&!p.isArray(n)?(p.isObject(t)&&!p.isArray(t)&&(t=t.value),p.defaults({value:t},n)):t})}var p=i(1),g=i(34),m=new Array(60).join("-"),v="	",y=new RegExp("["+v+"]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"",lang:["","",""],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(t,e){function i(){n.removeChild(a),M._dom=null}var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var h=document.createElement("div"),u=document.createElement("textarea");h.style.cssText="display:block;width:100%;overflow:hidden;";var d=o.get("optionToContent"),f=o.get("contentToOption"),m=r(t);if("function"==typeof d){var y=d(e.getOption());"string"==typeof y?h.innerHTML=y:p.isDom(y)&&h.appendChild(y)}else h.appendChild(u),u.readOnly=o.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=o.get("textColor"),u.style.borderColor=o.get("textareaBorderColor"),u.style.backgroundColor=o.get("textareaColor"),u.value=m.value;var x=m.meta,_=document.createElement("div");_.style.cssText="position:absolute;bottom:0;left:0;right:0;";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),S=document.createElement("div");b+=";background-color:"+o.get("buttonColor"),b+=";color:"+o.get("buttonTextColor");var M=this;g.addEventListener(w,"click",i),g.addEventListener(S,"click",function(){var t;try{t="function"==typeof f?f(h,e.getOption()):c(u.value,x)}catch(n){throw i(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),i()}),w.innerHTML=l[1],S.innerHTML=l[2],S.style.cssText=b,w.style.cssText=b,!o.get("readOnly")&&_.appendChild(S),_.appendChild(w),g.addEventListener(u,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+v+e.substring(n),this.selectionStart=this.selectionEnd=i+1,g.stop(t)}}),a.appendChild(s),a.appendChild(h),a.appendChild(_),h.style.height=n.clientHeight-80+"px",n.appendChild(a),this._dom=a},d.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},d.prototype.dispose=function(t,e){this.remove(t,e)},i(29).register("dataView",d),i(2).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];p.each(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get("data");i.push({name:t.name,data:f(t.data,o)})}else i.push(p.extend({type:"scatter"},t))}),e.mergeOption(p.defaults({series:i},t.newOption))}),t.exports=d},function(t,e,i){"use strict";function n(t){this.model=t,this._controllerGroup,this._controller,this._isZoomActive}function o(t,e){var i=[{axisModel:t.getAxis("x").model,axisIndex:0},{axisModel:t.getAxis("y").model,axisIndex:0}];return i.grid=t,e.eachComponent({mainType:"dataZoom",subType:"select"},function(t,n){a("xAxis",i[0].axisModel,t,e)&&(i[0].dataZoomModel=t),a("yAxis",i[1].axisModel,t,e)&&(i[1].dataZoomModel=t)}),i}function a(t,e,i,n){var o=i.get(t+"Index");return null!=o&&n.getComponent(t,o)===e}function r(t,e){var i=e.grid,n=new d(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0]);if(n.intersect(i.getRect())){var o=i.getCartesian(e[0].axisIndex,e[1].axisIndex),a=o.pointToData([t[0][0],t[1][0]],!0),r=o.pointToData([t[0][1],t[1][1]],!0);return[v([a[0],r[0]]),v([a[1],r[1]])]}}function s(t,e,i,n){var o=e[i],a=o.dataZoomModel;return a?{dataZoomId:a.id,startValue:t[i][0],endValue:t[i][1]}:void 0}function l(t,e){t.setIconStatus("back",p.count(e)>1?"emphasis":"normal")}var h=i(1),u=i(4),c=i(161),d=i(8),f=i(27),p=i(99),g=i(101),m=h.each,v=u.asc;i(177);var y="\x00_ec_\x00toolbox-dataZoom_";n.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"",back:""}};var x=n.prototype;x.render=function(t,e,i){l(t,e)},x.onclick=function(t,e,i){var n=this._controllerGroup;this._controllerGroup||(n=this._controllerGroup=new f,e.getZr().add(n)),_[i].call(this,n,this.model,t,e)},x.remove=function(t,e){this._disposeController(),g.release("globalPan",e.getZr())},x.dispose=function(t,e){var i=e.getZr();g.release("globalPan",i),this._disposeController(),this._controllerGroup&&i.remove(this._controllerGroup)};var _={zoom:function(t,e,i,n){var o=this._isZoomActive=!this._isZoomActive,a=n.getZr();g[o?"take":"release"]("globalPan",a),e.setIconStatus("zoom",o?"emphasis":"normal"),o?(a.setDefaultCursorStyle("crosshair"),this._createController(t,e,i,n)):(a.setDefaultCursorStyle("default"),this._disposeController())},back:function(t,e,i,n){this._dispatchAction(p.pop(i),n)}};x._createController=function(t,e,i,n){var o=this._controller=new c("rect",n.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});o.on("selectEnd",h.bind(this._onSelected,this,o,e,i,n)),o.enable(t,!1)},x._disposeController=function(){var t=this._controller;t&&(t.off("selected"),t.dispose())},x._onSelected=function(t,e,i,n,a){if(a.length){var l=a[0];t.update();var h={};i.eachComponent("grid",function(t,e){var n=t.coordinateSystem,a=o(n,i),u=r(l,a);if(u){var c=s(u,a,0,"x"),d=s(u,a,1,"y");c&&(h[c.dataZoomId]=c),d&&(h[d.dataZoomId]=d)}},this),p.push(i,h),this._dispatchAction(h,n)}},x._dispatchAction=function(t,e){var i=[];m(t,function(t){i.push(t)}),i.length&&e.dispatchAction({type:"dataZoom",from:this.uid,batch:h.clone(i,!0)})},i(29).register("dataZoom",n),i(2).registerPreprocessor(function(t){function e(t,e){if(e){var o=t+"Index",a=e[o];null==a||h.isArray(a)||(a=a===!1?[]:[a]),i(t,function(e,i){if(null==a||-1!==h.indexOf(a,i)){var r={type:"select",$fromToolbox:!0,id:y+t+i};r[o]=i,n.push(r)}})}}function i(e,i){var n=t[e];h.isArray(n)||(n=n?[n]:[]),m(n,i)}if(t){var n=t.dataZoom||(t.dataZoom=[]);h.isArray(n)||(t.dataZoom=n=[n]);var o=t.toolbox;if(o&&(h.isArray(o)&&(o=o[0]),o&&o.feature)){var a=o.feature.dataZoom;e("xAxis",a),e("yAxis",a)}}}),t.exports=n},function(t,e,i){"use strict";function n(t){this.model=t}var o=i(1);n.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"",bar:"",stack:"",tiled:""},option:{},seriesIndex:{}};var a=n.prototype;a.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return o.each(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var r={line:function(t,e,i,n){return"bar"===t?o.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0):void 0},bar:function(t,e,i,n){return"line"===t?o.merge({id:e,type:"bar",data:i.get("data"),
stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0):void 0},stack:function(t,e,i,n){return"line"===t||"bar"===t?o.merge({id:e,stack:"__ec_magicType_stack__"},n.get("option.stack")||{},!0):void 0},tiled:function(t,e,i,n){return"line"===t||"bar"===t?o.merge({id:e,stack:""},n.get("option.tiled")||{},!0):void 0}},s=[["line","bar"],["stack","tiled"]];a.onclick=function(t,e,i){var n=this.model,a=n.get("seriesIndex."+i);if(r[i]){var l={series:[]},h=function(t){var e=t.subType,a=t.id,s=r[i](e,a,t,n);s&&(o.defaults(s,t.option),l.series.push(s));var h=t.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===i||"bar"===i)){var u=h.getAxesByScale("ordinal")[0];if(u){var c=u.dim,d=t.get(c+"AxisIndex"),f=c+"Axis";l[f]=l[f]||[];for(var p=0;d>=p;p++)l[f][d]=l[f][d]||{};l[f][d].boundaryGap="bar"===i}}};o.each(s,function(t){o.indexOf(t,i)>=0&&o.each(t,function(t){n.setIconStatus(t,"normal")})}),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},h),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:l})}};var l=i(2);l.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),i(29).register("magicType",n),t.exports=n},function(t,e,i){"use strict";function n(t){this.model=t}var o=i(99);n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:""};var a=n.prototype;a.onclick=function(t,e,i){o.clear(t),e.dispatchAction({type:"restore",from:this.uid})},i(29).register("restore",n),i(2).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),t.exports=n},function(t,e,i){function n(t){this.model=t}var o=i(14);n.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:[""]},n.prototype.unusable=!o.canvasSupported;var a=n.prototype;a.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",o=document.createElement("a"),a=i.get("type",!0)||"png";o.download=n+"."+a,o.target="_blank";var r=e.getConnectedDataURL({type:a,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(o.href=r,"function"==typeof MouseEvent){var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(s)}else{var l=i.get("lang"),h='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>',u=window.open();u.document.write(h)}},i(29).register("saveAsImage",n),t.exports=n},function(t,e,i){i(200),i(201),i(2).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),i(2).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(t,e,i){function n(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+t+"s "+e+",top "+t+"s "+e;return l.map(g,function(t){return t+"transition:"+i}).join(";")}function o(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),d(["decoration","align"],function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)}),e.join(";")}function a(t){t=t;var e=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),r=t.getModel("textStyle"),s=t.get("padding");return i&&e.push(n(i)),a&&(p.canvasSupported?e.push("background-Color:"+a):(e.push("background-Color:#"+h.toHex(a)),e.push("filter:alpha(opacity=70)"))),d(["width","color","radius"],function(i){var n="border-"+i,o=f(n),a=t.get(o);null!=a&&e.push(n+":"+a+("color"===i?"":"px"))}),e.push(o(r)),null!=s&&e.push("padding:"+c.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function r(t,e){var i=document.createElement("div"),n=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o.enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){if(!o.enterable){var i=n.handler;u.normalizeEvent(t,e),i.dispatch("mousemove",e)}},i.onmouseleave=function(){o.enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1},s(i,t)}function s(t,e){function i(t){n(t.target)&&t.preventDefault()}function n(i){for(;i&&i!==e;){if(i===t)return!0;i=i.parentNode}}u.addEventListener(e,"touchstart",i),u.addEventListener(e,"touchmove",i),u.addEventListener(e,"touchend",i)}var l=i(1),h=i(22),u=i(34),c=i(9),d=l.each,f=c.toCamelCase,p=i(14),g=["","-webkit-","-moz-","-o-"],m="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";r.prototype={constructor:r,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout),this.el.style.cssText=m+a(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(l.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=r},function(t,e,i){i(2).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(t,e,i){function n(t,e){if(!t||!e)return!1;var i=g.round;return i(t[0])===i(e[0])&&i(t[1])===i(e[1])}function o(t,e,i,n){return{x1:t,y1:e,x2:i,y2:n}}function a(t,e,i,n){return{x:t,y:e,width:i,height:n}}function r(t,e,i,n,o,a){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}function s(t,e,i,n,o){var a=i.clientWidth,r=i.clientHeight,s=20;return t+a+s>n?t-=a+s:t+=s,e+r+s>o?e-=r+s:e+=s,[t,e]}function l(t,e,i){var n=i.clientWidth,o=i.clientHeight,a=5,r=0,s=0,l=e.width,h=e.height;switch(t){case"inside":r=e.x+l/2-n/2,s=e.y+h/2-o/2;break;case"top":r=e.x+l/2-n/2,s=e.y-o-a;break;case"bottom":r=e.x+l/2-n/2,s=e.y+h+a;break;case"left":r=e.x-n-a,s=e.y+h/2-o/2;break;case"right":r=e.x+l+a,s=e.y+h/2-o/2}return[r,s]}function h(t,e,i,n,o,a,r){var h=r.getWidth(),u=r.getHeight(),c=a&&a.getBoundingRect().clone();if(a&&c.applyTransform(a.transform),"function"==typeof t&&(t=t([e,i],o,n.el,c)),f.isArray(t))e=m(t[0],h),i=m(t[1],u);else if("string"==typeof t&&a){var d=l(t,c,n.el);e=d[0],i=d[1]}else{var d=s(e,i,n.el,h,u);e=d[0],i=d[1]}n.moveTo(e,i)}function u(t){var e=t.coordinateSystem,i=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"single"!==e.type||"item"===i)}var c=i(199),d=i(3),f=i(1),p=i(9),g=i(4),m=g.parsePercent,v=i(14);i(2).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!v.node){var i=new c(e.getDom(),e);this._tooltipContent=i,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,i){if(!v.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastHover={};var n=this._tooltipContent;n.update(),n.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var o=this._crossText;if(o&&this.group.add(o),null!=this._lastX&&null!=this._lastY){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a._manuallyShowTip({x:a._lastX,y:a._lastY})})}var r=this._api.getZr();r.off("click",this._tryShow),r.off("mousemove",this._mousemove),r.off("mouseout",this._hide),r.off("globalout",this._hide),"click"===t.get("triggerOn")?r.on("click",this._tryShow,this):(r.on("mousemove",this._mousemove,this),r.on("mouseout",this._hide,this),r.on("globalout",this._hide,this))}},_mousemove:function(t){var e=this._tooltipModel.get("showDelay"),i=this;clearTimeout(this._showTimeout),e>0?this._showTimeout=setTimeout(function(){i._tryShow(t)},e):this._tryShow(t)},_manuallyShowTip:function(t){if(t.from!==this.uid){var e=this._ecModel,i=t.seriesIndex,n=t.dataIndex,o=e.getSeriesByIndex(i),a=this._api;if(null==t.x||null==t.y){if(o||e.eachSeries(function(t){u(t)&&!o&&(o=t)}),o){var r=o.getData();null==n&&(n=r.indexOfName(t.name));var s,l,h=r.getItemGraphicEl(n),c=o.coordinateSystem;if(c&&c.dataToPoint){var d=c.dataToPoint(r.getValues(f.map(c.dimensions,function(t){return o.coordDimToDataDim(t)[0]}),n,!0));s=d&&d[0],l=d&&d[1]}else if(h){var p=h.getBoundingRect().clone();p.applyTransform(h.transform),s=p.x+p.width/2,l=p.y+p.height/2}null!=s&&null!=l&&this._tryShow({offsetX:s,offsetY:l,target:h,event:{}})}}else{var h=a.getZr().handler.findHover(t.x,t.y);this._tryShow({offsetX:t.x,offsetY:t.y,target:h,event:{}})}}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var i={};return e.eachSeries(function(t){if(u(t)){var e,n,o=t.coordinateSystem;"cartesian2d"===o.type?(e=o.getBaseAxis(),n=e.dim+e.index):"single"===o.type?(e=o.getAxis(),n=e.dim+e.type):(e=o.getBaseAxis(),n=e.dim+o.name),i[n]=i[n]||{coordSys:[],series:[]},i[n].coordSys.push(o),i[n].series.push(t)}},this),i},_tryShow:function(t){var e=t.target,i=this._tooltipModel,n=i.get("trigger"),o=this._ecModel,a=this._api;if(i)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var r=e.dataModel||o.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,l=r.getData().getItemModel(s);"axis"===(l.get("tooltip.trigger")||n)?this._showAxisTooltip(i,o,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(r,s,e.dataType,t)),a.dispatchAction({type:"showTip",from:this.uid,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex})}else"item"===n?this._hide():this._showAxisTooltip(i,o,t),"cross"===i.get("axisPointer.type")&&a.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,i){var o=t.getModel("axisPointer"),a=o.get("type");if("cross"===a){var r=i.target;if(r&&null!=r.dataIndex){var s=e.getSeriesByIndex(r.seriesIndex),l=r.dataIndex;this._showItemTooltipContent(s,l,r.dataType,i)}}this._showAxisPointer();var h=!0;f.each(this._seriesGroupByAxis,function(t){var e=t.coordSys,r=e[0],s=[i.offsetX,i.offsetY];if(!r.containPoint(s))return void this._hideAxisPointer(r.name);h=!1;var l=r.dimensions,u=r.pointToData(s,!0);s=r.dataToPoint(u);var c=r.getBaseAxis(),d=o.get("axis");"auto"===d&&(d=c.dim);var p=!1,g=this._lastHover;if("cross"===a)n(g.data,u)&&(p=!0),g.data=u;else{var m=f.indexOf(l,d);g.data===u[m]&&(p=!0),g.data=u[m]}"cartesian2d"!==r.type||p?"polar"!==r.type||p?"single"!==r.type||p||this._showSinglePointer(o,r,d,s):this._showPolarPointer(o,r,d,s):this._showCartesianPointer(o,r,d,s),"cross"!==a&&this._dispatchAndShowSeriesTooltipContent(r,t.series,s,u,p)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),h&&this._hide()},_showCartesianPointer:function(t,e,i,n){function r(i,n,a){var r="x"===i?o(n[0],a[0],n[0],a[1]):o(a[0],n[1],a[1],n[1]),s=l._getPointerElement(e,t,i,r);u?d.updateProps(s,{shape:r},t):s.attr({shape:r})}function s(i,n,o){var r=e.getAxis(i),s=r.getBandWidth(),h=o[1]-o[0],c="x"===i?a(n[0]-s/2,o[0],s,h):a(o[0],n[1]-s/2,h,s),f=l._getPointerElement(e,t,i,c);u?d.updateProps(f,{shape:c},t):f.attr({shape:c})}var l=this,h=t.get("type"),u="cross"!==h;if("cross"===h)r("x",n,e.getAxis("y").getGlobalExtent()),r("y",n,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,n,t);else{var c=e.getAxis("x"===i?"y":"x"),f=c.getGlobalExtent();"cartesian2d"===e.type&&("line"===h?r:s)(i,n,f)}},_showSinglePointer:function(t,e,i,n){function a(i,n,a){var s=e.getAxis(),h=s.orient,u="horizontal"===h?o(n[0],a[0],n[0],a[1]):o(a[0],n[1],a[1],n[1]),c=r._getPointerElement(e,t,i,u);l?d.updateProps(c,{shape:u},t):c.attr({shape:u})}var r=this,s=t.get("type"),l="cross"!==s,h=e.getRect(),u=[h.y,h.y+h.height];a(i,n,u)},_showPolarPointer:function(t,e,i,n){function a(i,n,a){var r,s=e.pointToCoord(n);if("angle"===i){var h=e.coordToPoint([a[0],s[1]]),u=e.coordToPoint([a[1],s[1]]);r=o(h[0],h[1],u[0],u[1])}else r={cx:e.cx,cy:e.cy,r:s[0]};var c=l._getPointerElement(e,t,i,r);f?d.updateProps(c,{shape:r},t):c.attr({shape:r})}function s(i,n,o){var a,s=e.getAxis(i),h=s.getBandWidth(),u=e.pointToCoord(n),c=Math.PI/180;a="angle"===i?r(e.cx,e.cy,o[0],o[1],(-u[1]-h/2)*c,(-u[1]+h/2)*c):r(e.cx,e.cy,u[0]-h/2,u[0]+h/2,0,2*Math.PI);var p=l._getPointerElement(e,t,i,a);f?d.updateProps(p,{shape:a},t):p.attr({shape:a})}var l=this,h=t.get("type"),u=e.getAngleAxis(),c=e.getRadiusAxis(),f="cross"!==h;if("cross"===h)a("angle",n,c.getExtent()),a("radius",n,u.getExtent()),this._updateCrossText(e,n,t);else{var p=e.getAxis("radius"===i?"angle":"radius"),g=p.getExtent();("line"===h?a:s)(i,n,g)}},_updateCrossText:function(t,e,i){var n=i.getModel("crossStyle"),o=n.getModel("textStyle"),a=this._tooltipModel,r=this._crossText;r||(r=this._crossText=new d.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(r));var s=t.pointToData(e),l=t.dimensions;s=f.map(s,function(e,i){var n=t.getAxis(l[i]);return e="category"===n.type||"time"===n.type?n.scale.getLabel(e):p.addCommas(e.toFixed(n.getPixelPrecision()))}),r.setStyle({fill:o.getTextColor()||n.get("color"),textFont:o.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),r.z=a.get("z"),r.zlevel=a.get("zlevel")},_getPointerElement:function(t,e,i,n){var o=this._tooltipModel,a=o.get("z"),r=o.get("zlevel"),s=this._axisPointers,l=t.name;if(s[l]=s[l]||{},s[l][i])return s[l][i];var h=e.get("type"),u=e.getModel(h+"Style"),c="shadow"===h,f=u[c?"getAreaStyle":"getLineStyle"](),p="polar"===t.type?c?"Sector":"radius"===i?"Circle":"Line":c?"Rect":"Line";c?f.stroke=null:f.fill=null;var g=s[l][i]=new d[p]({style:f,z:a,zlevel:r,silent:!0,shape:n});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,i,n,o){var a=this._tooltipModel,r=this._tooltipContent,s=t.getBaseAxis(),l=f.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndex:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(s.dim),n,s):t.getData().indexOfNearest(t.coordDimToDataDim(s.dim)[0],n["x"===s.dim||"radius"===s.dim?0:1])}}),u=this._lastHover,c=this._api;if(u.payloadBatch&&!o&&c.dispatchAction({type:"downplay",batch:u.payloadBatch}),o||(c.dispatchAction({type:"highlight",batch:l}),u.payloadBatch=l),c.dispatchAction({type:"showTip",dataIndex:l[0].dataIndex,seriesIndex:l[0].seriesIndex,from:this.uid}),s&&a.get("showContent")&&a.get("show")){var d,g=a.get("formatter"),m=a.get("position"),v=f.map(e,function(t,e){return t.getDataParams(l[e].dataIndex)});r.show(a);var y=l[0].dataIndex;if(!o){if(this._ticket="",g){if("string"==typeof g)d=p.formatTpl(g,v);else if("function"==typeof g){var x=this,_="axis_"+t.name+"_"+y,b=function(t,e){t===x._ticket&&(r.setContent(e),h(m,i[0],i[1],r,v,null,c))};x._ticket=_,d=g(v,_,b)}}else{var w=e[0].getData().getName(y);d=(w?w+"<br />":"")+f.map(e,function(t,e){return t.formatTooltip(l[e].dataIndex,!0)}).join("<br />")}r.setContent(d)}h(m,i[0],i[1],r,v,null,c)}},_showItemTooltipContent:function(t,e,i,n){var o=this._api,a=t.getData(i),r=a.getItemModel(e),s=this._tooltipModel,l=this._tooltipContent,u=r.getModel("tooltip");if(u.parentModel?u.parentModel.parentModel=s:u.parentModel=this._tooltipModel,u.get("showContent")&&u.get("show")){var c,d=u.get("formatter"),f=u.get("position"),g=t.getDataParams(e,i);if(d){if("string"==typeof d)c=p.formatTpl(d,g);else if("function"==typeof d){var m=this,v="item_"+t.name+"_"+e,y=function(t,e){t===m._ticket&&(l.setContent(e),h(f,n.offsetX,n.offsetY,l,g,n.target,o))};m._ticket=v,c=d(g,v,y)}}else c=t.formatTooltip(e,!1,i);l.show(u),l.setContent(c),h(f,n.offsetX,n.offsetY,l,g,n.target,o)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&f.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&f.each(e,function(t){t.hide()})}else this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(t,e){if(!v.node){var i=e.getZr();this._tooltipContent.hide(),i.off("click",this._tryShow),i.off("mousemove",this._mousemove),i.off("mouseout",this._hide),i.off("globalout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},function(t,e,i){function n(t,e){var i=t.get("center"),n=t.get("radius"),o=e.getWidth(),a=e.getHeight(),r=s.parsePercent;this.cx=r(i[0],o),this.cy=r(i[1],a);var l=this.getRadiusAxis(),h=Math.min(o,a)/2;l.setExtent(0,r(n,h))}function o(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-(1/0)),o.scale.setExtent(1/0,-(1/0)),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();o.scale.unionExtent(e.getDataExtent("radius","category"!==o.type)),n.scale.unionExtent(e.getDataExtent("angle","category"!==n.type))}}),h(n,n.model),h(o,o.model),"category"===n.type&&!n.onBand){var a=n.getExtent(),r=360/n.scale.count();n.inverse?a[1]+=r:a[1]-=r,n.setExtent(a[0],a[1])}}function a(t,e){if(t.type=e.get("type"),t.scale=l.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var i=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}var r=i(341),s=i(4),l=i(24),h=l.niceScaleExtent;i(342);var u={dimensions:r.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",function(t,s){var l=new r(s);l.resize=n,l.update=o;var h=l.getRadiusAxis(),u=l.getAngleAxis(),c=t.findAxisModel("radiusAxis"),d=t.findAxisModel("angleAxis");a(h,c),a(u,d),l.resize(t,e),i.push(l),t.coordinateSystem=l}),t.eachSeries(function(t){"polar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("polarIndex")])}),i}};i(23).register("polar",u)},function(t,e){function i(){h=!1,r.length?l=r.concat(l):u=-1,l.length&&n()}function n(){if(!h){var t=setTimeout(i);h=!0;for(var e=l.length;e;){for(r=l,l=[];++u<e;)r&&r[u].run();u=-1,e=l.length}r=null,h=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var r,s=t.exports={},l=[],h=!1,u=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new o(t,e)),1!==l.length||h||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){function n(t){return parseInt(t,10)}function o(t,e){s.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromMap,a=e.addToMap;e.delFromMap=function(t){var i=e.get(t);o.call(e,t),i&&i.onRemove&&i.onRemove(n)},e.addToMap=function(t){t.onAdd&&t.onAdd(n),a.call(e,t)},this._firstPaint=!0}function a(t){return function(){r('In IE8.0 VML mode painter not support method "'+t+'"')}}var r=i(45),s=i(158);o.prototype={constructor:o,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(){var t=this._getWidth(),e=this._getHeight();if(this._width!=t&&this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||n(e.width))-n(e.paddingLeft)-n(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||n(e.height))-n(e.paddingTop)-n(e.paddingBottom)|0}};for(var l=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],h=0;h<l.length;h++){var u=l[h];o.prototype[u]=a(u)}t.exports=o},function(t,e,i){if(!i(14).canvasSupported){var n=i(5),o=i(8),a=i(28).CMD,r=i(22),s=i(18),l=i(67),h=i(37),u=i(46),c=i(66),d=i(6),f=i(17),p=i(158),g=Math.round,m=Math.sqrt,v=Math.abs,y=Math.cos,x=Math.sin,_=Math.max,b=n.applyTransform,w=",",S="progid:DXImageTransform.Microsoft",M=21600,A=M/2,I=1e5,T=1e3,L=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=M+","+M,t.coordorigin="0,0"},C=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},D=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},P=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},k=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},z=function(t,e,i){return(parseFloat(t)||0)*I+(parseFloat(e)||0)*T+i},E=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},O=function(t,e,i){var n=r.parse(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=D(n[0],n[1],n[2]),t.opacity=i*n[3])},R=function(t){var e=r.parse(t);return[D(e[0],e[1],e[2]),e[3]]},V=function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof f){var o,a=0,r=[0,0],s=0,l=1,h=i.getBoundingRect(),u=h.width,c=h.height;if("linear"===n.type){o="gradient";var d=i.transform,p=[n.x*u,n.y*c],g=[n.x2*u,n.y2*c];d&&(b(p,p,d),b(g,g,d));var m=g[0]-p[0],v=g[1]-p[1];a=180*Math.atan2(m,v)/Math.PI,0>a&&(a+=360),1e-6>a&&(a=0)}else{o="gradientradial";var p=[n.x*u,n.y*c],d=i.transform,y=i.scale,x=u,w=c;r=[(p[0]-h.x)/x,(p[1]-h.y)/w],d&&b(p,p,d),x/=y[0]*M,w/=y[1]*M;var S=_(x,w);s=0/S,l=2*n.r/S-s}var A=n.colorStops.slice();A.sort(function(t,e){return t.offset-e.offset});for(var I=A.length,T=[],L=[],C=0;I>C;C++){var D=A[C],P=R(D.color);L.push(D.offset*l+s+" "+P[0]),0!==C&&C!==I-1||T.push(P)}if(I>=2){var k=T[0][0],z=T[1][0],E=T[0][1]*e.opacity,V=T[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=a,t.color=k,t.color2=z,t.colors=L.join(","),t.opacity=V,t.opacity2=E}"radial"===o&&(t.focusposition=r.join(","))}else O(t,n,e.opacity)},N=function(t,e){null!=e.lineJoin&&(t.joinstyle=e.lineJoin),null!=e.miterLimit&&(t.miterlimit=e.miterLimit*M),null!=e.lineCap&&(t.endcap=e.lineCap),null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||O(t,e.stroke,e.opacity)},B=function(t,e,i,n){var o="fill"==e,a=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(o||!o&&i.lineWidth)?(t[o?"filled":"stroked"]="true",i[e]instanceof f&&k(t,a),a||(a=p.createNode(e)),o?V(a,i,n):N(a,i),P(t,a)):(t[o?"filled":"stroked"]="false",k(t,a))},G=[[],[],[]],F=function(t,e){var i,n,o,r,s,l,h=a.M,u=a.C,c=a.L,d=a.A,f=a.Q,p=[];for(r=0;r<t.length;){switch(o=t[r++],n="",i=0,o){case h:n=" m ",i=1,s=t[r++],l=t[r++],G[0][0]=s,G[0][1]=l;break;case c:n=" l ",i=1,s=t[r++],l=t[r++],G[0][0]=s,G[0][1]=l;break;case f:case u:n=" c ",i=3;var v,_,S=t[r++],I=t[r++],T=t[r++],L=t[r++];o===f?(v=T,_=L,T=(T+2*S)/3,L=(L+2*I)/3,S=(s+2*S)/3,I=(l+2*I)/3):(v=t[r++],_=t[r++]),G[0][0]=S,G[0][1]=I,G[1][0]=T,G[1][1]=L,G[2][0]=v,G[2][1]=_,s=v,l=_;break;case d:var C=0,D=0,P=1,k=1,z=0;e&&(C=e[4],D=e[5],P=m(e[0]*e[0]+e[1]*e[1]),k=m(e[2]*e[2]+e[3]*e[3]),z=Math.atan2(-e[1]/k,e[0]/P));var E=t[r++],O=t[r++],R=t[r++],V=t[r++],N=t[r++]+z,B=t[r++]+N+z;r++;var F=t[r++],H=E+y(N)*R,W=O+x(N)*V,S=E+y(B)*R,I=O+x(B)*V,Z=F?" wa ":" at ";Math.abs(H-S)<1e-10&&(Math.abs(B-N)>.01?F&&(H+=270/M):Math.abs(W-O)<1e-10?F&&E>H||!F&&H>E?I-=270/M:I+=270/M:F&&O>W||!F&&W>O?S+=270/M:S-=270/M),p.push(Z,g(((E-R)*P+C)*M-A),w,g(((O-V)*k+D)*M-A),w,g(((E+R)*P+C)*M-A),w,g(((O+V)*k+D)*M-A),w,g((H*P+C)*M-A),w,g((W*k+D)*M-A),w,g((S*P+C)*M-A),w,g((I*k+D)*M-A)),s=S,l=I;break;case a.R:var q=G[0],j=G[1];q[0]=t[r++],q[1]=t[r++],j[0]=q[0]+t[r++],j[1]=q[1]+t[r++],e&&(b(q,q,e),b(j,j,e)),q[0]=g(q[0]*M-A),j[0]=g(j[0]*M-A),q[1]=g(q[1]*M-A),j[1]=g(j[1]*M-A),p.push(" m ",q[0],w,q[1]," l ",j[0],w,q[1]," l ",j[0],w,j[1]," l ",q[0],w,j[1]);break;case a.Z:p.push(" x ")}if(i>0){p.push(n);for(var U=0;i>U;U++){var X=G[U];e&&b(X,X,e),p.push(g(X[0]*M-A),w,g(X[1]*M-A),i-1>U?w:"")}}}return p.join("")};d.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=p.createNode("shape"),L(i),this._vmlEl=i),B(i,"fill",e,this),B(i,"stroke",e,this);var n=this.transform,o=null!=n,a=i.getElementsByTagName("stroke")[0];if(a){var r=e.lineWidth;if(o&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=m(v(s))}a.weight=r+"px"}var l=this.path;this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=F(l.data,this.transform),i.style.zIndex=z(this.zlevel,this.z,this.z2),P(t,i),e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},d.prototype.onRemove=function(t){k(t,this._vmlEl),this.removeRectText(t)},d.prototype.onAdd=function(t){P(t,this._vmlEl),this.appendRectText(t)};var H=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};u.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if(H(o)){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width="auto",r.height="auto",e=o.width,i=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}o=a}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var h=n.x||0,u=n.y||0,c=n.width,d=n.height,f=n.sWidth,v=n.sHeight,y=n.sx||0,x=n.sy||0,M=f&&v,A=this._vmlEl;A||(A=p.doc.createElement("div"),L(A),this._vmlEl=A);var I,T=A.style,C=!1,D=1,k=1;if(this.transform&&(I=this.transform,D=m(I[0]*I[0]+I[1]*I[1]),k=m(I[2]*I[2]+I[3]*I[3]),C=I[1]||I[2]),C){var E=[h,u],O=[h+c,u],R=[h,u+d],V=[h+c,u+d];b(E,E,I),b(O,O,I),b(R,R,I),b(V,V,I);var N=_(E[0],O[0],R[0],V[0]),B=_(E[1],O[1],R[1],V[1]),G=[];G.push("M11=",I[0]/D,w,"M12=",I[2]/k,w,"M21=",I[1]/D,w,"M22=",I[3]/k,w,"Dx=",g(h*D+I[4]),w,"Dy=",g(u*k+I[5])),T.padding="0 "+g(N)+"px "+g(B)+"px 0",T.filter=S+".Matrix("+G.join("")+", SizingMethod=clip)"}else I&&(h=h*D+I[4],u=u*k+I[5]),T.filter="",T.left=g(h)+"px",T.top=g(u)+"px";var F=this._imageEl,W=this._cropEl;F||(F=p.doc.createElement("div"),this._imageEl=F);var Z=F.style;if(M){if(e&&i)Z.width=g(D*e*c/f)+"px",Z.height=g(k*i*d/v)+"px";else{var q=new Image,j=this;q.onload=function(){q.onload=null,e=q.width,i=q.height,Z.width=g(D*e*c/f)+"px",Z.height=g(k*i*d/v)+"px",j._imageWidth=e,j._imageHeight=i,j._imageSrc=o},q.src=o}W||(W=p.doc.createElement("div"),W.style.overflow="hidden",this._cropEl=W);var U=W.style;U.width=g((c+y*c/f)*D),U.height=g((d+x*d/v)*k),U.filter=S+".Matrix(Dx="+-y*c/f*D+",Dy="+-x*d/v*k+")",W.parentNode||A.appendChild(W),F.parentNode!=W&&W.appendChild(F)}else Z.width=g(D*c)+"px",Z.height=g(k*d)+"px",A.appendChild(F),W&&W.parentNode&&(A.removeChild(W),this._cropEl=null);var X="",Y=n.opacity;1>Y&&(X+=".Alpha(opacity="+g(100*Y)+") "),X+=S+".AlphaImageLoader(src="+o+", SizingMethod=scale)",Z.filter=X,A.style.zIndex=z(this.zlevel,this.z,this.z2),P(t,A),n.text&&this.drawRectText(t,this.getBoundingRect())}},u.prototype.onRemove=function(t){k(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},u.prototype.onAdd=function(t){P(t,this._vmlEl),this.appendRectText(t)};var W,Z="normal",q={},j=0,U=100,X=document.createElement("div"),Y=function(t){var e=q[t];if(!e){j>U&&(j=0,q={});var i,n=X.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(o){}e={style:n.fontStyle||Z,variant:n.fontVariant||Z,weight:n.fontWeight||Z,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},q[t]=e,j++}return e};s.measureText=function(t,e){var i=p.doc;W||(W=i.createElement("div"),W.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",p.doc.body.appendChild(W));try{W.style.font=e}catch(n){}return W.innerHTML="",W.appendChild(i.createTextNode(t)),{width:W.offsetWidth}};for(var K=new o,Q=function(t,e,i,n){var o=this.style,a=o.text;if(a){var r,l,h=o.textAlign,u=Y(o.textFont),c=u.style+" "+u.variant+" "+u.weight+" "+u.size+'px "'+u.family+'"',d=o.textBaseline,f=o.textVerticalAlign;i=i||s.getBoundingRect(a,c,h,d);var m=this.transform;if(m&&!n&&(K.copy(e),K.applyTransform(m),e=K),n)r=e.x,l=e.y;else{var v=o.textPosition,y=o.textDistance;if(v instanceof Array)r=e.x+E(v[0],e.width),l=e.y+E(v[1],e.height),h=h||"left",d=d||"top";else{var x=s.adjustTextPositionOnRect(v,e,i,y);r=x.x,l=x.y,h=h||x.textAlign,d=d||x.textBaseline}}if(f){switch(f){case"middle":l-=i.height/2;break;case"bottom":l-=i.height}d="top"}var _=u.size;switch(d){case"hanging":case"top":l+=_/1.75;break;case"middle":break;default:l-=_/2.25}switch(h){case"left":break;case"center":r-=i.width/2;break;case"right":r-=i.width}var S,M,A,I=p.createNode,T=this._textVmlEl;T?(A=T.firstChild,S=A.nextSibling,M=S.nextSibling):(T=I("line"),S=I("path"),M=I("textpath"),A=I("skew"),M.style["v-text-align"]="left",L(T),S.textpathok=!0,M.on=!0,T.from="0 0",T.to="1000 0.05",P(T,A),P(T,S),P(T,M),this._textVmlEl=T);var D=[r,l],k=T.style;m&&n?(b(D,D,m),A.on=!0,A.matrix=m[0].toFixed(3)+w+m[2].toFixed(3)+w+m[1].toFixed(3)+w+m[3].toFixed(3)+",0,0",A.offset=(g(D[0])||0)+","+(g(D[1])||0),A.origin="0 0",k.left="0px",k.top="0px"):(A.on=!1,k.left=g(r)+"px",k.top=g(l)+"px"),M.string=C(a);try{M.style.font=c}catch(O){}B(T,"fill",{fill:n?o.fill:o.textFill,opacity:o.opacity},this),B(T,"stroke",{stroke:n?o.stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),T.style.zIndex=z(this.zlevel,this.z,this.z2),P(t,T)}},$=function(t){k(t,this._textVmlEl),this._textVmlEl=null},J=function(t){P(t,this._textVmlEl)},tt=[l,h,u,d,c],et=0;et<tt.length;et++){var it=tt[et].prototype;it.drawRectText=Q,it.removeRectText=$,it.appendRectText=J}c.prototype.brushVML=function(t){var e=this.style;e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},c.prototype.onRemove=function(t){this.removeRectText(t);
},c.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,i){i(205),i(68).registerPainter("vml",i(204))},function(t,e,i){var n=i(1),o=i(208),a=i(2);a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(e){var a=e.coordinateSystem;if("geo"===a.type){var r=o.updateCenterAndZoom(a,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom),"series"===i&&n.each(e.seriesGroup,function(t){t.setCenter(r.center),t.setZoom(r.zoom)})}})})},function(t,e){var i={};i.updateCenterAndZoom=function(t,e,i){var n=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy){r[0]-=e.dx,r[1]-=e.dy;var o=t.pointToData(r);t.setCenter(o)}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}t.scale[0]*=a,t.scale[1]*=a;var h=t.position,u=(e.originX-h[0])*(a-1),c=(e.originY-h[1])*(a-1);h[0]-=u,h[1]-=c,t.updateTransform();var o=t.pointToData(r);t.setCenter(o),t.setZoom(a*n)}return{center:t.getCenter(),zoom:t.getZoom()}},t.exports=i},function(t,e,i){var n=i(5);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),o=t.getData(),a=o.graph,r=0,s=o.getSum("value"),l=2*Math.PI/(s||o.count()),h=i.width/2+i.x,u=i.height/2+i.y,c=Math.min(i.width,i.height)/2;a.eachNode(function(t){var e=t.getValue("value");r+=l*(s?e:2)/2,t.setLayout([c*Math.cos(r)+h,c*Math.sin(r)+u]),r+=l*(s?e:2)/2}),a.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,o=n.clone(t.node1.getLayout()),a=n.clone(t.node2.getLayout()),r=(o[0]+a[0])/2,s=(o[1]+a[1])/2;i>0&&(i*=3,e=[h*i+r*(1-i),u*i+s*(1-i)]),t.setLayout([o,a,e])})}}},function(t,e,i){var n=i(5);t.exports=function(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.normal.curveness")||0,i=n.clone(t.node1.getLayout()),o=n.clone(t.node2.getLayout()),a=[i,o];e>0&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*e,(i[1]+o[1])/2-(o[0]-i[0])*e]),t.setLayout(a)})}},function(t,e,i){var n=i(210);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),n(i)}}},function(t,e,i){var n=i(15),o=i(347),a=i(225),r=i(31),s=i(23),l=i(1),h=i(35);t.exports=function(t,e,i,u,c){for(var d=new o(u),f=0;f<t.length;f++)d.addNode(l.retrieve(t[f].id,t[f].name,f),f);for(var p=[],g=[],f=0;f<e.length;f++){var m=e[f],v=m.source,y=m.target;d.addEdge(v,y,f)&&(g.push(m),p.push(l.retrieve(m.id,v+" > "+y)))}var x,_=i.get("coordinateSystem");if("cartesian2d"===_||"polar"===_)x=h(t,i,i.ecModel);else{var b=s.get(_),w=r((b&&"view"!==b.type?b.dimensions||[]:[]).concat(["value"]),t);x=new n(w,i),x.initData(t)}var S=new n(["value"],i);return S.initData(g,p),c&&c(x,S),a({mainData:x,struct:d,structAttr:"graph",datas:{node:x,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}},function(t,e,i){function n(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return n&&(i.fill=n),i}function o(t,e,i,n){e.off("click"),t.get("selectedMode")&&e.on("click",function(o){for(var r=o.target;!r.__region;)r=r.parent;if(r){var s=r.__region,l={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",name:s.name,from:n.uid};l[t.mainType+"Id"]=t.id,i.dispatchAction(l),a(t,e)}})}function a(t,e){e.eachChild(function(e){e.__region&&e.trigger(t.isSelected(e.__region.name)?"emphasis":"normal")})}function r(t,e){var i=new l.Group;this._controller=new s(t.getZr(),e?i:null,null),this.group=i,this._updateGroup=e}var s=i(70),l=i(3),h=i(1);r.prototype={constructor:r,draw:function(t,e,i,r,s){var u=t.getData&&t.getData(),c=t.coordinateSystem,d=this.group,f=c.scale,p={position:c.position,scale:f};!d.childAt(0)||s?d.attr(p):l.updateProps(d,p,t),d.removeAll();var g=["itemStyle","normal"],m=["itemStyle","emphasis"],v=["label","normal"],y=["label","emphasis"];h.each(c.regions,function(e){var i=new l.Group,o=new l.CompoundPath({shape:{paths:[]}});i.add(o);var a,r=t.getRegionModel(e.name)||t,s=r.getModel(g),c=r.getModel(m),p=n(s,f),x=n(c,f),_=r.getModel(v),b=r.getModel(y);if(u){a=u.indexOfName(e.name);var w=u.getItemVisual(a,"color",!0);w&&(p.fill=w)}var S=_.getModel("textStyle"),M=b.getModel("textStyle");h.each(e.contours,function(t){var e=new l.Polygon({shape:{points:t}});o.shape.paths.push(e)}),o.setStyle(p),o.style.strokeNoScale=!0,o.culling=!0;var A=_.get("show"),I=b.get("show"),T=u&&isNaN(u.get("value",a)),L=u&&u.getItemLayout(a);if(!u||T&&(A||I)||L&&L.showLabel){var C=u?a:e.name,D=t.getFormattedLabel(C,"normal"),P=t.getFormattedLabel(C,"emphasis"),k=new l.Text({style:{text:A?D||e.name:"",fill:S.getTextColor(),textFont:S.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:I?P||e.name:"",fill:M.getTextColor(),textFont:M.getFont()},position:e.center.slice(),scale:[1/f[0],1/f[1]],z2:10,silent:!0});i.add(k)}if(u)u.setItemGraphicEl(a,i);else{var r=t.getRegionModel(e.name);o.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:r&&r.option||{}}}i.__region=e,l.setHoverStyle(i,x),d.add(i)}),this._updateController(t,e,i),o(t,d,i,r),a(t,d)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(t,e,i){function n(){var e={type:"geoRoam",componentType:r};return e[r+"Id"]=t.id,e}var o=t.coordinateSystem,a=this._controller;a.zoomLimit=t.get("scaleLimit"),a.zoom=o.getZoom(),a.enable(t.get("roam")||!1);var r=t.mainType;a.off("pan").on("pan",function(t,e){i.dispatchAction(h.extend(n(),{dx:t,dy:e}))}),a.off("zoom").on("zoom",function(t,e,o){if(i.dispatchAction(h.extend(n(),{zoom:t,originX:e,originY:o})),this._updateGroup){var a=this.group,r=a.scale;a.traverse(function(t){"text"===t.type&&t.attr("scale",[1/r[0],1/r[1]])})}},this),a.rectProvider=function(){return o.getViewRectAfterRoam()}}},t.exports=r},function(t,e,i){i(224),i(337),i(307);var n=i(2);n.extendComponentView({type:"parallel"}),n.registerPreprocessor(i(338))},function(t,e,i){function n(t,e){var i,n=["inRange","outOfRange","target","controller","color"];o.each(n,function(t){e.hasOwnProperty(t)&&(i=!0)}),i&&o.each(n,function(i){e.hasOwnProperty(i)?t[i]=o.clone(e[i]):delete t[i]})}var o=i(1),a=i(14),r=i(2),s=i(7),l=i(351),h=i(73),u=h.mapVisual,c=h.eachVisual,d=i(4),f=o.isArray,p=o.each,g=d.asc,m=d.linearMap,v=r.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-(1/0),1/0],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._dataExtent,this.controllerVisuals={},this.targetVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i),this.doMergeOption({},!0)},mergeOption:function(t){v.superApply(this,"mergeOption",arguments),this.doMergeOption(t,!1)},doMergeOption:function(t,e){var i=this.option;!e&&n(i,t),a.canvasSupported||(i.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},formatValueText:function(t,e){function i(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(s)}var n,a,r=this.option,s=r.precision,l=this.dataBound,h=r.formatter;return o.isArray(t)&&(t=t.slice(),n=!0),a=e?t:n?[i(t[0]),i(t[1])]:i(t),o.isString(h)?h.replace("{value}",n?a[0]:a).replace("{value2}",n?a[1]:a):o.isFunction(h)?n?h(t[0],t[1]):h(t):n?t[0]===l[0]?"< "+a[1]:t[1]===l[1]?"> "+a[0]:a[0]+" - "+a[1]:a},resetTargetSeries:function(t,e){var i=this.option,n=null==i.seriesIndex;i.seriesIndex=n?[]:s.normalizeToArray(i.seriesIndex),n&&this.ecModel.eachSeries(function(t,e){var n=t.getData();"list"===n.type&&i.seriesIndex.push(e)})},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(t){function e(e,a){p(this.stateList,function(r){var s=a[r]||(a[r]=i()),l=this.option[e][r]||{};p(l,function(i,a){if(h.isValidType(a)){var l={type:a,dataExtent:n,visual:i};t&&t.call(this,l,r),s[a]=new h(l),"controller"===e&&"opacity"===a&&(l=o.clone(l),l.type="colorAlpha",s.__hidden.__alphaForOpacity=new h(l))}},this)},this)}function i(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}var n=this.getExtent();e.call(this,"controller",this.controllerVisuals),e.call(this,"target",this.targetVisuals)},completeVisualOption:function(){function t(t){f(n.color)&&!t.inRange&&(t.inRange={color:n.color.slice().reverse()}),p(this.stateList,function(e){var i=t[e];if(o.isString(i)){var n=l.get(i,"active",d);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}function e(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},p(n,function(t,e){if(h.isValidType(e)){var i=l.get(e,"inactive",d);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}function i(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor");p(this.stateList,function(a){var r=this.itemSize,s=t[a];s||(s=t[a]={color:d?n:[n]}),null==s.symbol&&(s.symbol=e&&o.clone(e)||(d?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&o.clone(i)||(d?r[0]:[r[0],r[0]])),s.symbol=u(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var l=s.symbolSize;if(null!=l){var h=-(1/0);c(l,function(t){t>h&&(h=t)}),s.symbolSize=u(l,function(t){return m(t,[0,h],[0,r[0]],!0)})}},this)}var n=this.option,a={inRange:n.inRange,outOfRange:n.outOfRange},r=n.target||(n.target={}),s=n.controller||(n.controller={});o.merge(r,a),o.merge(s,a);var d=this.isCategory();t.call(this,r),t.call(this,s),e.call(this,r,"inRange","outOfRange"),e.call(this,r,"outOfRange","inRange"),i.call(this,s)},eachTargetSeries:function(t,e){o.each(this.option.seriesIndex,function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:o.noop,getValueState:o.noop});t.exports=v},function(t,e,i){var n=i(2),o=i(1),a=i(3),r=i(9),s=i(11),l=i(73);t.exports=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel,this._updatableShapes={}},render:function(t,e,i,n){return this.visualMapModel=t,t.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,i=r.normalizeCssArray(e.get("padding")||0),n=t.getBoundingRect();t.add(new a.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){function n(t){return h[t]}function a(t,e){h[t]=e}i=i||{};var r=i.forceState,s=this.visualMapModel,h={};if("symbol"===e&&(h.symbol=s.get("itemSymbol")),"color"===e){var u=s.get("contentColor");h.color=u}var c=s.controllerVisuals[r||s.getValueState(t)],d=l.prepareVisualTypes(c);return o.each(d,function(o){var r=c[o];i.convertOpacityToAlpha&&"opacity"===o&&(o="colorAlpha",r=c.__alphaForOpacity),l.dependsOn(o,e)&&r&&r.applyVisual(t,n,a)}),h[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;s.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:o.noop})},function(t,e,i){var n=i(11),o=i(1),a=i(48),r={getItemAlign:function(t,e,i){var o=t.option,a=o.align;if(null!=a&&"auto"!==a)return a;for(var r={width:e.getWidth(),height:e.getHeight()},s="horizontal"===o.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],h=l[s],u=[0,null,10],c={},d=0;3>d;d++)c[l[1-s][d]]=u[d],c[h[d]]=2===d?i[0]:o[h[d]];var f=[["x","width",3],["y","height",0]][s],p=n.getLayoutRect(c,r,o.padding);return h[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*r[f[1]]?0:1]},convertDataIndicesToBatch:function(t){var e=[];return o.each(t,function(t){o.each(t.dataIndices,function(i){e.push({seriesId:t.seriesId,dataIndex:i})})}),e},removeDuplicateBatch:function(t,e){function i(t){return t.seriesId+"-"+t.dataIndex}function n(t){s[1].push(e[t])}function r(e){s[0].push(t[e])}var s=[[],[]];return new a(t,e,i,i).add(n).update(o.noop).remove(r).execute(),s}};t.exports=r},function(t,e,i){function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var o=i(1),a=o.each;t.exports=function(t){var e=t&&t.visualMap;o.isArray(e)||(e=e?[e]:[]),a(e,function(t){if(t){n(t,"splitList")&&!n(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&o.isArray(e)&&a(e,function(t){o.isObject(t)&&(n(t,"start")&&!n(t,"min")&&(t.min=t.start),n(t,"end")&&!n(t,"max")&&(t.max=t.end))})}})}},function(t,e,i){i(10).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,i){function n(t,e){var i=t.targetVisuals,n={};r.each(["inRange","outOfRange"],function(t){var e=a.prepareVisualTypes(i[t]);n[t]=e}),t.eachTargetSeries(function(e){function o(t){return s.getItemVisual(r,t)}function a(t,e){s.setItemVisual(r,t,e)}var r,s=e.getData(),l=t.getDataDimension(s);s.each([l],function(e,s){r=s;for(var l=t.getValueState(e),h=i[l],u=n[l],c=0,d=u.length;d>c;c++){var f=u[c];h[f]&&h[f].applyVisual(e,o,a)}},!0)})}var o=i(2),a=i(73),r=i(1);o.registerVisualCoding("component",function(t){t.eachComponent("visualMap",function(e){n(e,t)})})},function(t,e,i){var n=i(2),o={type:"selectDataRange",event:"dataRangeSelected",update:"update"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,i){function n(){s.call(this)}function o(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransform=new n,this._viewTransform=new n,this._center,this._zoom}var a=i(5),r=i(19),s=i(77),l=i(1),h=i(8),u=a.applyTransform;l.mixin(n,s),o.prototype={constructor:o,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new h(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){i=i,n=n,this.transformTo(t,e,i,n),this._viewRect=new h(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=this._viewTransform;a.transform=o.calculateTransform(new h(t,e,i,n)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect(),e=t.x+t.width/2,i=t.y+t.height/2;return[e,i]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=a.applyTransform([],n,t),i=a.applyTransform([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&r.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t){var e=this.transform;return e?u([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?u([],t,e):[t[0],t[1]]}},l.mixin(o,s),t.exports=o},function(t,e,i){function n(t,e,i){if(this.name=t,this.contours=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}var o=i(352),a=i(8),r=i(65),s=i(5);n.prototype={constructor:n,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],l=[],h=this.contours,u=0;u<h.length;u++)r.fromPoints(h[u],o,l),s.min(i,i,o),s.max(n,n,l);return 0===u&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new a(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.contours;if(e.contain(t[0],t[1]))for(var n=0,a=i.length;a>n;n++)if(o.contain(i[n],t[0],t[1]))return!0;return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),r=o.width/o.height;i?n||(n=i/r):i=r*n;for(var l=new a(t,e,i,n),h=o.calculateTransform(l),u=this.contours,c=0;c<u.length;c++)for(var d=0;d<u[c].length;d++)s.applyTransform(u[c][d],u[c][d],h);o=this._rect,o.copy(l),this.center=[o.x+o.width/2,o.y+o.height/2]}},t.exports=n},function(t,e,i){function n(t,e){var i=[];return t.eachComponent("parallel",function(n,a){var r=new o(n,t,e);r.name="parallel_"+a,r.resize(n,e),n.coordinateSystem=r,r.model=n,i.push(r)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=t.get("parallelIndex");t.coordinateSystem=i[e]}}),i}var o=i(335);i(23).register("parallel",{create:n})},function(t,e,i){function n(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,h(e,i,t),d(i,function(i){d(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,c.curry(o,t))})}),e.wrapMethod("cloneShallow",c.curry(r,t)),d(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,c.curry(a,t))}),c.assert(i[e.dataType]===e)}function o(t,e){if(l(this)){var i=c.extend({},this[f]);i[this.dataType]=e,h(e,i,t)}else u(e,this.dataType,this[p],t);return e}function a(t,e){return t.struct&&t.struct.update(this),e}function r(t,e){return d(e[f],function(i,n){i!==e&&u(i.cloneShallow(),n,e,t)}),e}function s(t){var e=this[p];return null==t||null==e?e:e[f][t]}function l(t){return t[p]===t}function h(t,e,i){t[f]={},d(e,function(e,n){u(e,n,t,i)})}function u(t,e,i,n){i[f][e]=t,t[p]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=s}var c=i(1),d=c.each,f="\x00__link_datas",p="\x00__link_mainData";t.exports=n},function(t,e,i){var n=i(2);i(227),i(228),n.registerVisualCoding("chart",i(230)),n.registerLayout(i(229))},function(t,e,i){"use strict";var n=i(1),o=i(13),a=i(159),r=o.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(r,a.seriesModelMixin,!0),t.exports=r},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),o=n.getModel(h),a=e.getItemVisual(i,"color"),s=o.getItemStyle(["borderColor"]),l=t.childAt(t.whiskerIndex);l.style.set(s),l.style.stroke=a,l.dirty();var c=t.childAt(t.bodyIndex);c.style.set(s),c.style.stroke=a,c.dirty();var d=n.getModel(u).getItemStyle();r.setHoverStyle(t,d)}var o=i(1),a=i(26),r=i(3),s=i(159),l=a.extend({type:"boxplot",getStyleUpdater:function(){return n}});o.mixin(l,s.viewMixin,!0);var h=["itemStyle","normal"],u=["itemStyle","emphasis"];t.exports=l},function(t,e,i){function n(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var n=t.getBaseAxis(),o=r.indexOf(i,n);0>o&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)}),e}function o(t){var e,i,n=t.axis,o=t.seriesModels,a=o.length,s=t.boxWidthList=[],u=t.boxOffsetList=[],c=[];if("category"===n.type)i=n.getBandWidth();else{var d=0;h(o,function(t){d=Math.max(d,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])/d}h(o,function(t){var e=t.get("boxWidth");r.isArray(e)||(e=[e,e]),c.push([l(e[0],i)||0,l(e[1],i)||0])});var f=.8*i-2,p=f/a*.3,g=(f-p*(a-1))/a,m=g/2-f/2;h(o,function(t,e){u.push(m),m+=p+g,s.push(Math.min(Math.max(g,c[e][0]),c[e][1]))})}function a(t,e,i){var n=t.coordinateSystem,o=t.getData(),a=t.dimensions,r=t.get("layout"),s=i/2;o.each(a,function(){function t(t){var i=[];i[f]=c,i[p]=t;var o;return isNaN(c)||isNaN(t)?o=[NaN,NaN]:(o=n.dataToPoint(i),o[f]+=e),o}function i(t,e){var i=t.slice(),n=t.slice();i[f]+=s,n[f]-=s,e?x.push(i,n):x.push(n,i)}function l(t){var e=[t.slice(),t.slice()];e[0][f]-=s,e[1][f]+=s,y.push(e)}var h=arguments,u=a.length,c=h[0],d=h[u],f="horizontal"===r?0:1,p=1-f,g=t(h[3]),m=t(h[1]),v=t(h[5]),y=[[m,t(h[2])],[v,t(h[4])]];l(m),l(v),l(g);var x=[];i(y[0][1],0),i(y[1][1],1),o.setItemLayout(d,{chartLayout:r,initBaseline:g[p],median:g,bodyEnds:x,whiskerEnds:y})})}var r=i(1),s=i(4),l=s.parsePercent,h=r.each;t.exports=function(t,e){var i=n(t);h(i,function(t){var e=t.seriesModels;e.length&&(o(t),h(e,function(e,i){a(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}},function(t,e){var i=["itemStyle","normal","borderColor"];t.exports=function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var o=n[e.seriesIndex%n.length],a=e.getData();a.setVisual({legendSymbol:"roundRect",color:e.get(i)||o}),t.isSeriesFiltered(e)||a.each(function(t){var e=a.getItemModel(t);a.setItemVisual(t,{color:e.get(i,!0)})})})}},function(t,e,i){var n=i(2);i(232),i(233),n.registerPreprocessor(i(236)),n.registerVisualCoding("chart",i(235)),n.registerLayout(i(234))},function(t,e,i){"use strict";var n=i(1),o=i(13),a=i(159),r=i(9),s=r.encodeHTML,l=r.addCommas,h=o.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(t,e){var i=n.map(this.valueDimensions,function(e){return e+": "+l(this._data.get(e,t))},this);return s(this.name)+"<br />"+i.join("<br />")}});n.mixin(h,a.seriesModelMixin,!0),t.exports=h},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),o=n.getModel(h),a=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor"),l=o.getItemStyle(["color","color0","borderColor","borderColor0"]),c=t.childAt(t.whiskerIndex);c.useStyle(l),c.style.stroke=s;var d=t.childAt(t.bodyIndex);d.useStyle(l),d.style.fill=a,d.style.stroke=s;var f=n.getModel(u).getItemStyle();r.setHoverStyle(t,f)}var o=i(1),a=i(26),r=i(3),s=i(159),l=a.extend({type:"candlestick",getStyleUpdater:function(){return n}});o.mixin(l,s.viewMixin,!0);var h=["itemStyle","normal"],u=["itemStyle","emphasis"];t.exports=l},function(t,e){function i(t,e){var i,r=t.getBaseAxis(),s="category"===r.type?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/e.count());return s/2-2>o?s/2-2:s-o>a?o:Math.max(s-a,n)}var n=2,o=5,a=4;t.exports=function(t,e){t.eachSeriesByType("candlestick",function(t){var e=t.coordinateSystem,n=t.getData(),o=t.dimensions,a=t.get("layout"),r=i(t,n);n.each(o,function(){function t(t){var i=[];return i[c]=h,i[d]=t,isNaN(h)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function i(t,e){var i=t.slice(),n=t.slice();i[c]+=r/2,n[c]-=r/2,e?M.push(i,n):M.push(n,i)}var s=arguments,l=o.length,h=s[0],u=s[l],c="horizontal"===a?0:1,d=1-c,f=s[1],p=s[2],g=s[3],m=s[4],v=Math.min(f,p),y=Math.max(f,p),x=t(v),_=t(y),b=t(g),w=t(m),S=[[w,_],[b,x]],M=[];i(_,0),i(x,1),n.setItemLayout(u,{chartLayout:a,sign:f>p?-1:p>f?1:0,initBaseline:f>p?_[d]:x[d],bodyEnds:M,whiskerEnds:S})},!0)})}},function(t,e){var i=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],o=["itemStyle","normal","color"],a=["itemStyle","normal","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",function(e){var r=e.getData();r.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||r.each(function(t){var e=r.getItemModel(t),s=r.getItemLayout(t).sign;r.setItemVisual(t,{color:e.get(s>0?o:a),borderColor:e.get(s>0?i:n)})})})}},function(t,e,i){var n=i(1);t.exports=function(t){t&&n.isArray(t.series)&&n.each(t.series,function(t){n.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},function(t,e,i){var n=i(1),o=i(2);i(238),i(239),o.registerVisualCoding("chart",n.curry(i(44),"effectScatter","circle",null)),o.registerLayout(n.curry(i(53),"effectScatter"))},function(t,e,i){"use strict";var n=i(35),o=i(13);t.exports=o.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){var i=n(t.data,this,e);return i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(t,e,i){var n=i(39),o=i(266);i(2).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new n(o)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)}})},function(t,e,i){var n=i(1),o=i(2);i(241),i(242),o.registerVisualCoding("chart",n.curry(i(64),"funnel")),o.registerLayout(i(243)),o.registerProcessor("filter",n.curry(i(63),"funnel"))},function(t,e,i){"use strict";var n=i(15),o=i(7),a=i(31),r=i(2).extendSeriesModel({type:"series.funnel",init:function(t){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(t)},getInitialData:function(t,e){var i=a(["value"],t.data),o=new n(i,this);return o.initData(t.data),o},_defaultLabelLine:function(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=r},function(t,e,i){function n(t,e){function i(){r.ignore=r.hoverIgnore,s.ignore=s.hoverIgnore}function n(){r.ignore=r.normalIgnore,s.ignore=s.normalIgnore}a.Group.call(this);var o=new a.Polygon,r=new a.Polyline,s=new a.Text;this.add(o),this.add(r),this.add(s),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function o(t,e,i,n){var o=n.getModel("textStyle"),a=n.get("position"),s="inside"===a||"inner"===a||"center"===a;return{fill:o.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:o.getFont(),text:r.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var a=i(3),r=i(1),s=n.prototype,l=["itemStyle","normal","opacity"];s.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),h=t.getItemLayout(e),u=t.getItemModel(e).get(l);u=null==u?1:u,n.useStyle({}),i?(n.setShape({points:h.points}),n.setStyle({opacity:0}),a.initProps(n,{style:{opacity:u}},o,e)):a.updateProps(n,{style:{opacity:u},shape:{points:h.points}},o,e);var c=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");n.setStyle(r.defaults({fill:d},c.getModel("normal").getItemStyle(["opacity"]))),n.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),a.setHoverStyle(this)},s._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),h=l.label,u=t.getItemVisual(e,"color");a.updateProps(i,{shape:{points:h.linePoints||h.linePoints}},r,e),a.updateProps(n,{style:{x:h.x,y:h.y}},r,e),n.attr({style:{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,textFont:h.font},rotation:h.rotation,origin:[h.x,h.y],z2:10});var c=s.getModel("label.normal"),d=s.getModel("label.emphasis"),f=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis");n.setStyle(o(t,e,"normal",c)),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:u}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=o(t,e,"emphasis",d),i.hoverStyle=p.getModel("lineStyle").getLineStyle()},r.inherits(n,a.Group);var h=i(26).extend({type:"funnel",render:function(t,e,i){var o=t.getData(),a=this._data,r=this.group;o.diff(a).add(function(t){var e=new n(o,t);o.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);i.updateData(o,t),r.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e)}).execute(),this._data=o},remove:function(){this.group.removeAll(),this._data=null}});t.exports=h},function(t,e,i){function n(t,e){return r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function o(t,e){for(var i=t.mapArray("value",function(t){return t}),n=[],o="ascending"===e,a=0,r=t.count();r>a;a++)n[a]=a;return n.sort(function(t,e){return o?i[t]-i[e]:i[e]-i[t]}),n}function a(t){t.each(function(e){var i,n,o,a,r=t.getItemModel(e),s=r.getModel("label.normal"),l=s.get("position"),h=r.getModel("labelLine.normal"),u=t.getItemLayout(e),c=u.points,d="inner"===l||"inside"===l||"center"===l;if(d)n=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,o=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,i="center",a=[[n,o],[n,o]];else{var f,p,g,m=h.get("length");"left"===l?(f=(c[3][0]+c[0][0])/2,p=(c[3][1]+c[0][1])/2,g=f-m,n=g-5,i="right"):(f=(c[1][0]+c[2][0])/2,p=(c[1][1]+c[2][1])/2,g=f+m,n=g+5,i="left");var v=p;a=[[f,p],[g,v]],o=v}u.label={linePoints:a,x:n,y:o,verticalAlign:"middle",textAlign:i,inside:d}})}var r=i(11),s=i(4),l=s.parsePercent;t.exports=function(t,e){t.eachSeriesByType("funnel",function(t){var i=t.getData(),r=t.get("sort"),h=n(t,e),u=o(i,r),c=[l(t.get("minSize"),h.width),l(t.get("maxSize"),h.width)],d=i.getDataExtent("value"),f=t.get("min"),p=t.get("max");null==f&&(f=Math.min(d[0],0)),null==p&&(p=d[1]);var g=t.get("funnelAlign"),m=t.get("gap"),v=(h.height-m*(i.count()-1))/i.count(),y=h.y,x=function(t,e){var n,o=i.get("value",t)||0,a=s.linearMap(o,[f,p],c,!0);switch(g){case"left":n=h.x;break;case"center":n=h.x+(h.width-a)/2;break;case"right":n=h.x+h.width-a}return[[n,e],[n+a,e]]};"ascending"===r&&(v=-v,m=-m,y+=h.height,u=u.reverse());for(var _=0;_<u.length;_++){var b=u[_],w=u[_+1],S=x(b,y),M=x(w,y+v);y+=v+m,i.setItemLayout(b,{points:S.concat(M.slice().reverse())})}a(i)})}},function(t,e,i){i(245),i(246)},function(t,e,i){var n=i(15),o=i(13),a=i(1),r=o.extend({type:"series.gauge",getInitialData:function(t,e){var i=new n(["value"],this),o=t.data||[];return a.isArray(o)||(o=[o]),i.initData(o),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{
normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=r},function(t,e,i){function n(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o),r=l(i[0],e.getWidth()),s=l(i[1],e.getHeight()),h=l(t.get("radius"),a/2);return{cx:r,cy:s,r:h}}function o(t,e){return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(t))),t}var a=i(247),r=i(3),s=i(4),l=s.parsePercent,h=2*Math.PI,u=i(26).extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var o=t.get("axisLine.lineStyle.color"),a=n(t,i);this._renderMain(t,e,i,o,a)},_renderMain:function(t,e,i,n,o){for(var a=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),u=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,d=-t.get("endAngle")/180*Math.PI,f=(d-c)%h,p=c,g=l.get("width"),m=0;m<n.length;m++){var v=Math.min(Math.max(n[m][0],0),1),d=c+f*v,y=new r.Sector({shape:{startAngle:p,endAngle:d,cx:o.cx,cy:o.cy,clockwise:u,r0:o.r-g,r:o.r},silent:!0});y.setStyle({fill:n[m][1]}),y.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add(y),p=d}var x=function(t){if(0>=t)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!u){var _=c;c=d,d=_}this._renderTicks(t,e,i,x,o,c,d,u),this._renderPointer(t,e,i,x,o,c,d,u),this._renderTitle(t,e,i,x,o),this._renderDetail(t,e,i,x,o)},_renderTicks:function(t,e,i,n,a,h,u,c){for(var d=this.group,f=a.cx,p=a.cy,g=a.r,m=t.get("min"),v=t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),w=x.get("splitNumber"),S=l(y.get("length"),g),M=l(x.get("length"),g),A=h,I=(u-h)/b,T=I/w,L=y.getModel("lineStyle").getLineStyle(),C=x.getModel("lineStyle").getLineStyle(),D=_.getModel("textStyle"),P=0;b>=P;P++){var k=Math.cos(A),z=Math.sin(A);if(y.get("show")){var E=new r.Line({shape:{x1:k*g+f,y1:z*g+p,x2:k*(g-S)+f,y2:z*(g-S)+p},style:L,silent:!0});"auto"===L.stroke&&E.setStyle({stroke:n(P/b)}),d.add(E)}if(_.get("show")){var O=o(s.round(P/b*(v-m)+m),_.get("formatter")),R=new r.Text({style:{text:O,x:k*(g-S-5)+f,y:z*(g-S-5)+p,fill:D.getTextColor(),textFont:D.getFont(),textVerticalAlign:-.4>z?"top":z>.4?"bottom":"middle",textAlign:-.4>k?"left":k>.4?"right":"center"},silent:!0});"auto"===R.style.fill&&R.setStyle({fill:n(P/b)}),d.add(R)}if(x.get("show")&&P!==b){for(var V=0;w>=V;V++){var k=Math.cos(A),z=Math.sin(A),N=new r.Line({shape:{x1:k*g+f,y1:z*g+p,x2:k*(g-M)+f,y2:z*(g-M)+p},silent:!0,style:C});"auto"===C.stroke&&N.setStyle({stroke:n((P+V/w)/b)}),d.add(N),A+=T}A-=T}else A+=I}},_renderPointer:function(t,e,i,n,o,h,u,c){var d=[+t.get("min"),+t.get("max")],f=[h,u];c||(f=f.reverse());var p=t.getData(),g=this._data,m=this.group;p.diff(g).add(function(e){var i=new a({shape:{angle:h}});r.updateProps(i,{shape:{angle:s.linearMap(p.get("value",e),d,f,!0)}},t),m.add(i),p.setItemGraphicEl(e,i)}).update(function(e,i){var n=g.getItemGraphicEl(i);r.updateProps(n,{shape:{angle:s.linearMap(p.get("value",e),d,f,!0)}},t),m.add(n),p.setItemGraphicEl(e,n)}).remove(function(t){var e=g.getItemGraphicEl(t);m.remove(e)}).execute(),p.eachItemGraphicEl(function(t,e){var i=p.getItemModel(e),a=i.getModel("pointer");t.setShape({x:o.cx,y:o.cy,width:l(a.get("width"),o.r),r:l(a.get("length"),o.r)}),t.useStyle(i.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",n((p.get("value",e)-d[0])/(d[1]-d[0]))),r.setHoverStyle(t,i.getModel("itemStyle.emphasis").getItemStyle())}),this._data=p},_renderTitle:function(t,e,i,n,o){var a=t.getModel("title");if(a.get("show")){var s=a.getModel("textStyle"),h=a.get("offsetCenter"),u=o.cx+l(h[0],o.r),c=o.cy+l(h[1],o.r),d=new r.Text({style:{x:u,y:c,text:t.getData().getName(0),fill:s.getTextColor(),textFont:s.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(d)}},_renderDetail:function(t,e,i,n,a){var h=t.getModel("detail"),u=t.get("min"),c=t.get("max");if(h.get("show")){var d=h.getModel("textStyle"),f=h.get("offsetCenter"),p=a.cx+l(f[0],a.r),g=a.cy+l(f[1],a.r),m=l(h.get("width"),a.r),v=l(h.get("height"),a.r),y=t.getData().get("value",0),x=new r.Rect({shape:{x:p-m/2,y:g-v/2,width:m,height:v},style:{text:o(y,h.get("formatter")),fill:h.get("backgroundColor"),textFill:d.getTextColor(),textFont:d.getFont()}});"auto"===x.style.textFill&&x.setStyle("textFill",n(s.linearMap(y,[u,c],[0,1],!0))),x.setStyle(h.getItemStyle(["color"])),this.group.add(x)}}});t.exports=u},function(t,e,i){t.exports=i(6).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-i(r)*a*(a>=o/3?1:2),l=e.y-n(r)*a*(a>=o/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*a,e.y+n(r)*a),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(r)*a,e.y-n(r)*a),t.lineTo(s,l)}})},function(t,e,i){var n=i(2),o=i(1);i(249),i(250),i(259),n.registerProcessor("filter",i(252)),n.registerVisualCoding("chart",o.curry(i(44),"graph","circle",null)),n.registerVisualCoding("chart",i(253)),n.registerVisualCoding("chart",i(256)),n.registerLayout(i(260)),n.registerLayout(i(254)),n.registerLayout(i(258)),n.registerCoordinateSystem("graphView",{create:i(255)})},function(t,e,i){"use strict";var n=i(15),o=i(1),a=i(7),r=i(12),s=i(212),l=i(2).extendSeriesModel({type:"series.graph",init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){l.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){l.superApply(this,"mergeDefaultAndTheme",arguments),a.defaultEmphasis(t.edgeLabel,a.LABEL_OPTIONS)},getInitialData:function(t,e){function i(t,e){t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels,i=t.getShallow("category"),n=e[i];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t});var i=a.getModel("edgeLabel"),n=function(t,e){var o=(t||"").split(".");"label"===o[0]&&(e=e||i.getModel(o.slice(1)));var a=r.prototype.getModel.call(this,o,e);return a.getModel=n,a};e.wrapMethod("getItemModel",function(t){return t.getModel=n,t})}var n=t.edges||t.links||[],o=t.data||t.nodes||[],a=this;return o&&n?s(o,n,this,!0,i).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(t,i),a=n.graph.getEdgeByIndex(t),r=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),h=r+" > "+s;return o.value&&(h+=" : "+o.value),h}return l.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=o.map(this.option.categories||[],function(t){return null!=t.value?t:o.extend({value:0},t)}),e=new n(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=l},function(t,e,i){var n=i(39),o=i(84),a=i(70),r=i(3),s=i(251);i(2).extendChartView({type:"graph",init:function(t,e){var i=new n,r=new o,s=this.group,l=new a(e.getZr(),s);s.add(i.group),s.add(r.group),this._symbolDraw=i,this._lineDraw=r,this._controller=l,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var o=this._symbolDraw,a=this._lineDraw,l=this.group;if("view"===n.type){var h={position:n.position,scale:n.scale};this._firstRender?l.attr(h):r.updateProps(l,h,t)}s(t.getGraph(),this._getNodeGlobalScale(t));var u=t.getData();o.updateData(u);var c=t.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(t,i),clearTimeout(this._layoutTimeout);var d=t.forceLayout,f=t.get("force.layoutAnimation");d&&this._startForceLayoutIteration(d,f),u.eachItemGraphicEl(function(t,e){var i=u.getItemModel(e).get("draggable");i?t.on("drag",function(){d&&(d.warmUp(),!this._layouting&&this._startForceLayoutIteration(d,f),d.setFixed(e),u.setItemLayout(e,t.position))},this).on("dragend",function(){d&&d.setUnfixed(e)},this):t.off("drag"),t.setDraggable(i&&d)},this),this._firstRender=!1},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e){var i=this._controller,n=this.group;return i.rectProvider=function(){var t=n.getBoundingRect();return t.applyTransform(n.transform),t},"view"!==t.coordinateSystem.type?void i.disable():(i.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),void i.off("pan").off("zoom").on("pan",function(i,n){e.dispatchAction({seriesId:t.id,type:"graphRoam",dx:i,dy:n})}).on("zoom",function(i,n,o){e.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:i,originX:n,originY:o}),this._updateNodeAndLinkScale(),s(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=this.group.scale,o=n&&n[0]||1,a=e.getZoom(),r=(a-1)*i+1;return r/o},updateLayout:function(t){this._symbolDraw.updateLayout(),this._lineDraw.updateLayout(),s(t.getGraph(),this._getNodeGlobalScale(t))},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(t,e,i){function n(t,e,i){for(var n,o=t[0],a=t[1],d=t[2],f=1/0,p=i*i,g=.1,m=.1;.9>=m;m+=.1){r[0]=h(o[0],a[0],d[0],m),r[1]=h(o[1],a[1],d[1],m);var v=c(u(r,e)-p);f>v&&(f=v,n=m)}for(var y=0;32>y;y++){var x=n+g;s[0]=h(o[0],a[0],d[0],n),s[1]=h(o[1],a[1],d[1],n),l[0]=h(o[0],a[0],d[0],x),l[1]=h(o[1],a[1],d[1],x);var v=u(s,e)-p;if(c(v)<.01)break;var _=u(l,e)-p;g/=2,0>v?_>=0?n+=g:n-=g:_>=0?n-=g:n+=g}return n}var o=i(16),a=i(5),r=[],s=[],l=[],h=o.quadraticAt,u=a.distSquare,c=Math.abs;t.exports=function(t,e){var i=[],r=o.quadraticSubdivide,s=[[],[],[]],l=[[],[]],h=[];e/=2,t.eachEdge(function(t){var o=t.getLayout(),u=t.getVisual("fromSymbol"),c=t.getVisual("toSymbol");o.__original||(o.__original=[a.clone(o[0]),a.clone(o[1])],o[2]&&o.__original.push(a.clone(o[2])));var d=o.__original;if(null!=o[2]){if(a.copy(s[0],d[0]),a.copy(s[1],d[2]),a.copy(s[2],d[1]),u&&"none"!=u){var f=n(s,d[0],t.node1.getVisual("symbolSize")*e);r(s[0][0],s[1][0],s[2][0],f,i),s[0][0]=i[3],s[1][0]=i[4],r(s[0][1],s[1][1],s[2][1],f,i),s[0][1]=i[3],s[1][1]=i[4]}if(c&&"none"!=c){var f=n(s,d[1],t.node2.getVisual("symbolSize")*e);r(s[0][0],s[1][0],s[2][0],f,i),s[1][0]=i[1],s[2][0]=i[2],r(s[0][1],s[1][1],s[2][1],f,i),s[1][1]=i[1],s[2][1]=i[2]}a.copy(o[0],s[0]),a.copy(o[1],s[2]),a.copy(o[2],s[1])}else a.copy(l[0],d[0]),a.copy(l[1],d[1]),a.sub(h,l[1],l[0]),a.normalize(h,h),u&&"none"!=u&&a.scaleAndAdd(l[0],l[0],h,t.node1.getVisual("symbolSize")*e),c&&"none"!=c&&a.scaleAndAdd(l[1],l[1],h,-t.node2.getVisual("symbolSize")*e),a.copy(o[0],l[0]),a.copy(o[1],l[1])})}},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getGraph(),o=n.data,a=i.mapArray(i.getName);o.filterSelf(function(t){var i=o.getItemModel(t),n=i.getShallow("category");if(null!=n){"number"==typeof n&&(n=a[n]);for(var r=0;r<e.length;r++)if(!e[r].isSelected(n))return!1}return!0})},this)}},function(t,e){t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.get("color"),i=t.getCategoriesData(),n=t.getData(),o={};i.each(function(t){o[i.getName(t)]=t;var n=i.getItemModel(t),a=i.getRawIndex(t),r=n.get("itemStyle.normal.color")||e[a%e.length];i.setItemVisual(t,"color",r)}),i.count()&&n.each(function(t){var e=n.getItemModel(t),a=e.getShallow("category");null!=a&&("string"==typeof a&&(a=o[a]),n.getItemVisual(t,"color",!0)||n.setItemVisual(t,"color",i.getItemVisual(a,"color")))})})}},function(t,e,i){var n=i(209);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&n(t)})}},function(t,e,i){function n(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()})}var o=i(222),a=i(11),r=i(65);t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var a=t.get("coordinateSystem");if(!a||"view"===a){var s=new o;i.push(s);var l=t.getData(),h=l.mapArray(function(t){var e=l.getItemModel(t);return[+e.get("x"),+e.get("y")]}),u=[],c=[];r.fromPoints(h,u,c),c[0]-u[0]===0&&(c[0]+=1,u[0]-=1),c[1]-u[1]===0&&(c[1]+=1,u[1]-=1);var d=(c[0]-u[0])/(c[1]-u[1]),f=n(t,e,d);isNaN(d)&&(u=[f.x,f.y],c=[f.x+f.width,f.y+f.height]);var p=c[0]-u[0],g=c[1]-u[1],m=f.width,v=f.height;s=t.coordinateSystem=new o,s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(u[0],u[1],p,g),s.setViewRect(f.x,f.y,m,v),s.setCenter(t.get("center")),s.setZoom(t.get("zoom"))}}),i}},function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.getEdgeData(),n=i(t.get("edgeSymbol")),o=i(t.get("edgeSymbolSize"));e.setVisual("fromSymbol",n&&n[0]),e.setVisual("toSymbol",n&&n[1]),e.setVisual("fromSymbolSize",o&&o[0]),e.setVisual("toSymbolSize",o&&o[1]),e.setVisual("color",t.get("lineStyle.normal.color")),e.each(function(t){var n=e.getItemModel(t),o=i(n.getShallow("symbol",!0)),a=i(n.getShallow("symbolSize",!0));o[0]&&e.setItemVisual(t,"fromSymbol",o[0]),o[1]&&e.setItemVisual(t,"toSymbol",o[1]),a[0]&&e.setItemVisual(t,"fromSymbolSize",a[0]),a[1]&&e.setItemVisual(t,"toSymbolSize",a[1])})})}},function(t,e,i){var n=i(5),o=n.scaleAndAdd;t.exports=function(t,e,i){for(var a=i.rect,r=a.width,s=a.height,l=[a.x+r/2,a.y+s/2],h=null==i.gravity?.1:i.gravity,u=0;u<t.length;u++){var c=t[u];c.p||(c.p=n.create(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=n.clone(c.p),c.edges=null}var d=.6;return{warmUp:function(){d=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var a=[],r=t.length,s=0;s<e.length;s++){var u=e[s],c=u.n1,f=u.n2;n.sub(a,f.p,c.p);var p=n.len(a)-u.d,g=f.w/(c.w+f.w);n.normalize(a,a),!c.fixed&&o(c.p,c.p,a,g*p*d),!f.fixed&&o(f.p,f.p,a,-(1-g)*p*d)}for(var s=0;r>s;s++){var m=t[s];m.fixed||(n.sub(a,l,m.p),n.scaleAndAdd(m.p,m.p,a,h*d))}for(var s=0;r>s;s++)for(var c=t[s],v=s+1;r>v;v++){var f=t[v];n.sub(a,f.p,c.p);var p=n.len(a);0===p&&(n.set(a,Math.random()-.5,Math.random()-.5),p=1);var y=(c.rep+f.rep)/p/p;!c.fixed&&o(c.pp,c.pp,a,y),!f.fixed&&o(f.pp,f.pp,a,-y)}for(var x=[],s=0;r>s;s++){var m=t[s];m.fixed||(n.sub(x,m.p,m.pp),n.scaleAndAdd(m.p,m.p,x,d),n.copy(m.pp,m.p))}d=.992*d,i&&i(t,e,.01>d)}}}},function(t,e,i){var n=i(257),o=i(4),a=i(211),r=i(209),s=i(5);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},l=t.getGraph(),h=l.data,u=l.edgeData,c=t.getModel("force"),d=c.get("initLayout");t.preservedPoints?h.each(function(t){var e=h.getId(t);h.setItemLayout(t,i[e]||[NaN,NaN])}):d&&"none"!==d?"circular"===d&&r(t):a(t);var f=h.getDataExtent("value"),p=c.get("repulsion"),g=c.get("edgeLength"),m=h.mapArray("value",function(t,e){var i=h.getItemLayout(e),n=o.linearMap(t,f,[0,p])||p/2;return{w:n,rep:n,p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),v=u.mapArray("value",function(t,e){var i=l.getEdgeByIndex(e);return{n1:m[i.node1.dataIndex],n2:m[i.node2.dataIndex],d:g,curveness:i.getModel().get("lineStyle.normal.curveness")||0}}),e=t.coordinateSystem,y=e.getBoundingRect(),x=n(m,v,{rect:y,gravity:c.get("gravity")}),_=x.step;x.step=function(t){for(var e=0,n=m.length;n>e;e++)m[e].fixed&&s.copy(m[e].p,l.getNodeByIndex(e).getLayout());_(function(e,n,o){for(var a=0,r=e.length;r>a;a++)e[a].fixed||l.getNodeByIndex(a).setLayout(e[a].p),i[h.getId(a)]=e[a].p;for(var a=0,r=n.length;r>a;a++){var s=n[a],u=s.n1.p,c=s.n2.p,d=[u,c];s.curveness>0&&d.push([(u[0]+c[0])/2-(u[1]-c[1])*s.curveness,(u[1]+c[1])/2-(c[0]-u[0])*s.curveness]),l.getEdgeByIndex(a).setLayout(d)}t&&t(o)})},t.forceLayout=x,t.preservedPoints=i,x.step()}else t.forceLayout=null})}},function(t,e,i){var n=i(2),o=i(208),a={type:"graphRoam",event:"graphRoam",update:"none"};n.registerAction(a,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem,n=o.updateCenterAndZoom(i,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})})},function(t,e,i){var n=i(211),o=i(210);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var a=t.getData();a.each(i.dimensions,function(t,e,n){isNaN(t)||isNaN(e)?a.setItemLayout(n,[NaN,NaN]):a.setItemLayout(n,i.dataToPoint([t,e]))}),o(a.graph)}else e&&"none"!==e||n(t)})}},function(t,e,i){i(263),i(264)},function(t,e,i){function n(){var t=a.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var o=256,a=i(1);n.prototype={update:function(t,e,i,n,a,r){var s=this._getBrush(),l=this._getGradient(t,a,"inRange"),h=this._getGradient(t,a,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),f=t.length;c.width=e,c.height=i;for(var p=0;f>p;++p){var g=t[p],m=g[0],v=g[1],y=g[2],x=n(y);d.globalAlpha=x,d.drawImage(s,m-u,v-u)}for(var _=d.getImageData(0,0,c.width,c.height),b=_.data,w=0,S=b.length,M=this.minOpacity,A=this.maxOpacity,I=A-M;S>w;){var x=b[w+3]/256,T=4*Math.floor(x*(o-1));if(x>0){var L=r(x)?l:h;x>0&&(x=x*I+M),b[w++]=L[T],b[w++]=L[T+1],b[w++]=L[T+2],b[w++]=L[T+3]*x*256}else w+=4}return d.putImageData(_,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=a.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),a=[],r=0,s=0;256>s;s++)e[i](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o}},t.exports=n},function(t,e,i){var n=i(13),o=i(35);t.exports=n.extend({type:"series.heatmap",getInitialData:function(t,e){return o(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(t,e,i){function n(t,e,i){var n=t[1]-t[0];e=l.map(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}});var o=e.length,a=0;return function(t){for(var n=a;o>n;n++){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){a=n;break}}if(n===o)for(var n=a-1;n>=0;n--){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){a=n;break}}return n>=0&&o>n&&i[n]}}function o(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}function a(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var r=i(3),s=i(262),l=i(1);t.exports=i(2).extendChartView({type:"heatmap",render:function(t,e,i){var n;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(n=e)})}),!n)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type?this._renderOnCartesian(o,t,i):a(o)&&this._renderOnGeo(o,t,n,i)},_renderOnCartesian:function(t,e,i){var n=t.getAxis("x"),o=t.getAxis("y"),a=this.group;if("category"!==n.type||"category"!==o.type)throw new Error("Heatmap on cartesian must have two category axes");if(!n.onBand||!o.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var s=n.getBandWidth(),l=o.getBandWidth(),h=e.getData();h.each(["x","y","z"],function(i,n,o,u){var c=h.getItemModel(u),d=t.dataToPoint([i,n]);if(!isNaN(o)){var f=new r.Rect({shape:{x:d[0]-s/2,y:d[1]-l/2,width:s,height:l},style:{fill:h.getItemVisual(u,"color"),opacity:h.getItemVisual(u,"opacity")}}),p=c.getModel("itemStyle.normal").getItemStyle(["color"]),g=c.getModel("itemStyle.emphasis").getItemStyle(),m=c.getModel("label.normal"),v=c.getModel("label.emphasis"),y=e.getRawValue(u),x="-";y&&null!=y[2]&&(x=y[2]),m.get("show")&&(r.setText(p,m),p.text=e.getFormattedLabel(u,"normal")||x),v.get("show")&&(r.setText(g,v),g.text=e.getFormattedLabel(u,"emphasis")||x),f.setStyle(p),r.setHoverStyle(f,g),a.add(f),h.setItemGraphicEl(u,f)}})},_renderOnGeo:function(t,e,i,a){var l=i.targetVisuals.inRange,h=i.targetVisuals.outOfRange,u=e.getData(),c=this._hmLayer||this._hmLayer||new s;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var d=t.getViewRect().clone(),f=t.getRoamTransform().transform;d.applyTransform(f);var p=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,a.getWidth()),v=Math.min(d.height+d.y,a.getHeight()),y=m-p,x=v-g,_=u.mapArray(["lng","lat","value"],function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=p,o[1]-=g,o.push(n),o}),b=i.getExtent(),w="visualMap.continuous"===i.type?o(b,i.option.range):n(b,i.getPieceList(),i.option.selected);c.update(_,y,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:h.color.getColorMapper()},w);var S=new r.Image({style:{width:y,height:x,x:p,y:g,image:c.canvas},silent:!0});this.group.add(S)}})},function(t,e,i){function n(t,e){r.Group.call(this);var i=new s(t,e);this.add(i),this._updateEffectSymbol(t,e)}function o(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function a(){var t=this.__p1,e=this.__p2,i=this.__cp1,n=this.__t,o=this.position,a=u.quadraticAt,r=u.quadraticDerivativeAt;o[0]=a(t[0],i[0],e[0],n),o[1]=a(t[1],i[1],e[1],n);var s=r(t[0],i[0],e[0],n),l=r(t[1],i[1],e[1],n);this.rotation=-Math.atan2(l,s)-Math.PI/2,this.ignore=!1}var r=i(3),s=i(83),l=i(1),h=i(25),u=i(16),c=n.prototype;c._updateEffectSymbol=function(t,e){var i=t.getItemModel(e),n=i.getModel("effect"),r=n.get("symbolSize"),s=n.get("symbol");l.isArray(r)||(r=[r,r]);var u=n.get("color")||t.getItemVisual(e,"color"),c=this.childAt(1),d=1e3*n.get("period");this._symbolType===s&&d===this._period||(c=h.createSymbol(s,-.5,-.5,1,1,u),c.ignore=!0,c.z2=100,this._symbolType=s,this._period=d,this.add(c),c.__t=0,c.animate("",!0).when(d,{__t:1}).delay(e/t.count()*d/2).during(l.bind(a,c)).start()),c.setStyle("shadowColor",u),c.setStyle(n.getItemStyle(["color"])),c.attr("scale",r);var f=t.getItemLayout(e);o(c,f),c.setColor(u),c.attr("scale",r)},c.updateData=function(t,e){this.childAt(0).updateData(t,e),this._updateEffectSymbol(t,e)},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=this.childAt(1),n=t.getItemLayout(e);o(i,n)},l.inherits(n,r.Group),t.exports=n},function(t,e,i){function n(t){return a.isArray(t)||(t=[+t,+t]),t}function o(t,e){u.call(this);var i=new h(t,e),n=new u;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var a=i(1),r=i(25),s=i(3),l=i(4),h=i(47),u=s.Group,c=3,d=o.prototype;d.stopEffectAnimation=function(){this.childAt(1).removeAll()},d.startEffectAnimation=function(t,e,i,n,o,a){for(var s=this._symbolType,l=this._color,h=this.childAt(1),u=0;c>u;u++){var d=r.createSymbol(s,-.5,-.5,1,1,l);d.attr({style:{stroke:"stroke"===e?l:null,fill:"fill"===e?l:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:o,zlevel:a});var f=-u/c*t+n;d.animate("",!0).when(t,{scale:[i,i]}).delay(f).start(),d.animateStyle(!0).when(t,{opacity:0}).delay(f).start(),h.add(d)}},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateData=function(t,e){function i(){b.trigger("emphasis"),"render"!==p&&this.startEffectAnimation(v,m,g,y,x,_)}function o(){b.trigger("normal"),"render"!==p&&this.stopEffectAnimation()}var a=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),s=t.getItemModel(e),h=t.getItemVisual(e,"symbol"),u=n(t.getItemVisual(e,"symbolSize")),c=t.getItemVisual(e,"color");r.attr("scale",u),r.traverse(function(t){t.attr({fill:c})});var d=s.getShallow("symbolOffset");if(d){var f=r.position;f[0]=l.parsePercent(d[0],u[0]),f[1]=l.parsePercent(d[1],u[1])}r.rotation=(s.getShallow("symbolRotate")||0)*Math.PI/180||0,this._symbolType=h,this._color=c;var p=a.get("showEffectOn"),g=s.get("rippleEffect.scale"),m=s.get("rippleEffect.brushType"),v=1e3*s.get("rippleEffect.period"),y=e/t.count(),x=s.getShallow("z")||0,_=s.getShallow("zlevel")||0;this.stopEffectAnimation(),"render"===p&&this.startEffectAnimation(v,m,g,y,x,_);var b=this.childAt(0);this.on("mouseover",i,this).on("mouseout",o,this).on("emphasis",i,this).on("normal",o,this)},d.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},a.inherits(o,u),t.exports=o},function(t,e,i){function n(t,e,i,n){l.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel}function o(t,e,i){return s.map(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function a(t){var e={};return s.each(t,function(t,i){e["ends"+i]=t}),e}function r(t){this.group=new l.Group,this.styleUpdater=t}var s=i(1),l=i(3),h=i(6),u=h.extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}}),c=n.prototype;c._createContent=function(t,e,i){var n=t.getItemLayout(e),r="horizontal"===n.chartLayout?1:0,h=0;this.add(new l.Polygon({shape:{points:i?o(n.bodyEnds,r,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=h++;var c=s.map(n.whiskerEnds,function(t){return i?o(t,r,n):t});this.add(new u({shape:a(c),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=h++},c.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,o=t.getItemLayout(e),r=l[i?"initProps":"updateProps"];r(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},n,e),r(this.childAt(this.whiskerIndex),{shape:a(o.whiskerEnds)},n,e),this.styleUpdater.call(null,this,t,e)},s.inherits(n,l.Group);var d=r.prototype;d.updateData=function(t){var e=this.group,i=this._data,o=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var a=new n(t,i,o,!0);t.setItemGraphicEl(i,a),e.add(a)}}).update(function(a,r){var s=i.getItemGraphicEl(r);return t.hasValue(a)?(s?s.updateData(t,a):s=new n(t,a,o),e.add(s),void t.setItemGraphicEl(a,s)):void e.remove(s)}).remove(function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n)}).execute(),this._data=t},d.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.exports=r},function(t,e,i){i(269),i(270);var n=i(1),o=i(2);o.registerLayout(i(271)),o.registerVisualCoding("chart",n.curry(i(74),"lines","lineStyle"))},function(t,e,i){"use strict";var n=i(13),o=i(15),a=i(1),r=i(23);t.exports=n.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(t,e){function i(t,e,i,n){return t.coord&&t.coord[n]}var n=[],s=[],l=[];a.each(t.data,function(t){n.push(t[0]),s.push(t[1]),l.push(a.extend(a.extend({},a.isArray(t[0])?null:t[0]),a.isArray(t[1])?null:t[1]))});var h=r.get(t.coordinateSystem);if(!h)throw new Error("Invalid coordinate system");var u=h.dimensions,c=new o(u,this),d=new o(u,this),f=new o(["value"],this);return c.initData(n,null,i),d.initData(s,null,i),f.initData(l),this.fromData=c,this.toData=d,f},formatTooltip:function(t){var e=this.fromData.getName(t),i=this.toData.getName(t);return e+" > "+i},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(t,e,i){var n=i(84),o=i(265),a=i(83);i(2).extendChartView({type:"lines",init:function(){},render:function(t,e,i){var r=t.getData(),s=this._lineDraw,l=t.get("effect.show");l!==this._hasEffet&&(s&&s.remove(),s=this._lineDraw=new n(l?o:a),this._hasEffet=l);var h=t.get("zlevel"),u=t.get("effect.trailLength"),c=i.getZr();c.painter.getLayer(h).clear(!0),null!=this._lastZlevel&&c.configLayer(this._lastZlevel,{motionBlur:!1}),l&&u&&c.configLayer(h,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)}),this.group.add(s.group),s.updateData(r),this._lastZlevel=h},updateLayout:function(t,e,i){this._lineDraw.updateLayout();var n=i.getZr();n.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0)}})},function(t,e){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,i=t.fromData,n=t.toData,o=t.getData(),a=e.dimensions;i.each(a,function(t,n,o){i.setItemLayout(o,e.dataToPoint([t,n]))}),n.each(a,function(t,i,o){n.setItemLayout(o,e.dataToPoint([t,i]))}),o.each(function(t){var e,a=i.getItemLayout(t),r=n.getItemLayout(t),s=o.getItemModel(t).get("lineStyle.normal.curveness");s>0&&(e=[(a[0]+r[0])/2-(a[1]-r[1])*s,(a[1]+r[1])/2-(r[0]-a[0])*s]),o.setItemLayout(t,[a,r,e])})})}},function(t,e,i){var n=i(2);i(273),i(274),i(207),i(162),n.registerLayout(i(277)),n.registerVisualCoding("chart",i(278)),n.registerProcessor("statistic",i(276)),n.registerPreprocessor(i(275)),i(69)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,i){var n=i(15),o=i(13),a=i(1),r=i(31),s=i(9),l=s.encodeHTML,h=s.addCommas,u=i(61),c=i(162),d=o.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(t){t=this._fillOption(t,t.map),this.option=t,d.superApply(this,"init",arguments),this.updateSelectedMap(t.data)},getInitialData:function(t){var e=r(["value"],t.data||[]),i=new n(e,this);return i.initData(t.data),i},mergeOption:function(t){t.data&&(t=this._fillOption(t,this.option.map)),d.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},_fillOption:function(t,e){return t=a.extend({},t),t.data=c.getFilledRegions(t.data,e),t},getRawValue:function(t){return this._data.get("value",t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this._data,i=h(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,a=[],r=0;r<o.length;r++)isNaN(o[r].getRawValue(t))||a.push(l(o[r].name));return a.join(", ")+"<br />"+n+" : "+i},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"
}}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});a.mixin(d,u),t.exports=d},function(t,e,i){var n=i(3),o=i(213);i(2).extendChartView({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var a=this.group;if(a.removeAll(),n&&"geoRoam"===n.type&&"series"===n.component&&n.name===t.name){var r=this._mapDraw;r&&a.add(r.group)}else if(t.needsDrawMap){var r=this._mapDraw||new o(i,!0);a.add(r.group),r.draw(t,e,i,this,n),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(t,e,i){var o=t.getData(),a=this.group;o.each("value",function(t,e){if(!isNaN(t)){var i=o.getItemLayout(e);if(i&&i.point){var r=i.point,s=i.offset,l=new n.Circle({style:{fill:o.getVisual("color")},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:10});if(!s){var h=o.getName(e),u=o.getItemModel(e),c=u.getModel("label.normal"),d=u.getModel("label.emphasis"),f=c.getModel("textStyle"),p=d.getModel("textStyle"),g=o.getItemGraphicEl(e);l.setStyle({textPosition:"bottom"});var m=function(){l.setStyle({text:d.get("show")?h:"",textFill:p.getTextColor(),textFont:p.getFont()})},v=function(){l.setStyle({text:c.get("show")?h:"",textFill:f.getTextColor(),textFont:f.getFont()})};g.on("mouseover",m).on("mouseout",v).on("emphasis",m).on("normal",v),v()}a.add(l)}}})}})},function(t,e,i){function n(t){var e={};return o.each(a,function(i){null!=t[i]&&(e[i]=t[i])}),e}var o=i(1),a=["x","y","x2","y2","width","height","map","roam","center","zoom","scaleLimit","label","itemStyle"],r={};t.exports=function(t){var e=[];o.each(t.series,function(t){"map"===t.type&&e.push(t),o.extend(r,t.geoCoord)});var i={};o.each(e,function(e){if(e.map=e.map||e.mapType,o.defaults(e,e.mapLocation),e.markPoint){var a=e.markPoint;if(a.data=o.map(a.data,function(t){if(!o.isArray(t.value)){var e;t.geoCoord?e=t.geoCoord:t.name&&(e=r[t.name]);var i=e?[e[0],e[1]]:[NaN,NaN];null!=t.value&&i.push(t.value),t.value=i}return t}),!e.data||!e.data.length){t.geo?o.isArray(t.geo)||(t.geo=[t.geo]):t.geo=[];var s=i[e.map];s||(s=i[e.map]=n(e),t.geo.push(s));var l=e.markPoint;l.type=t.effect&&t.effect.show?"effectScatter":"scatter",l.coordinateSystem="geo",l.geoIndex=o.indexOf(t.geo,s),l.name=e.name,t.series.splice(o.indexOf(t.series,e),1,l)}}})}},function(t,e,i){function n(t,e){for(var i={},n=["value"],o=0;o<t.length;o++)t[o].each(n,function(e,n){var a=t[o].getName(n);i[a]=i[a]||[],isNaN(e)||i[a].push(e)});return t[0].map(n,function(n,o){for(var a=t[0].getName(o),r=0,s=1/0,l=-(1/0),h=i[a].length,u=0;h>u;u++)s=Math.min(s,i[a][u]),l=Math.max(l,i[a][u]),r+=i[a][u];var c;return c="min"===e?s:"max"===e?l:"average"===e?r/h:r,0===h?NaN:c})}var o=i(1);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.get("map");e[i]=e[i]||[],e[i].push(t)}),o.each(e,function(t,e){var i=n(o.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation"));t[0].seriesGroup=[],t[0].setData(i);for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a})}},function(t,e,i){var n=i(1);t.exports=function(t){var e={};t.eachSeriesByType("map",function(i){var o=i.get("map");if(!e[o]){var a={};n.each(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.getData();e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each("value",function(t,e){var o=n.getName(e),r=i.getRegion(o);if(r&&!isNaN(t)){var s=a[o]||0,l=i.dataToPoint(r.center);a[o]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var r=i.getData();r.each(function(t){var e=r.getName(t),i=r.getItemLayout(t)||{};i.showLabel=!a[e],r.setItemLayout(t,i)}),e[o]=!0}})}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle.normal"),n=i.get("areaColor"),o=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})})}},function(t,e,i){var n=i(2);i(214),i(280),i(281),n.registerVisualCoding("chart",i(282))},function(t,e,i){function n(t,e,i){var n=t.get("data"),o=+e.replace("dim","");n&&n.length&&a.each(i,function(t){if(t){var e=a.indexOf(n,t[o]);t[o]=e>=0?e:NaN}})}var o=i(15),a=i(1),r=i(13);t.exports=r.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(t,e){var i=e.getComponent("parallel",this.get("parallelIndex")),r=i.dimensions,s=i.parallelAxisIndex,l=t.data,h=a.map(r,function(t,i){var o=e.getComponent("parallelAxis",s[i]);return"category"===o.get("type")?(n(o,t,l),{name:t,type:"ordinal"}):t}),u=new o(h,this);return u.initData(l),u},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,o){t===e&&n.push(i.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})},function(t,e,i){function n(t,e,i){var n=t.model,o=t.getRect(),a=new s.Rect({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r="horizontal"===n.get("layout")?"width":"height";return a.setShape(r,0),s.initProps(a,{shape:{width:o.width,height:o.height}},e,i),a}function o(t,e,i,n){for(var o=0,a=e.length-1;a>o;o++){var s=e[o],l=e[o+1],h=t[o],u=t[o+1];n(r(h,i.getAxis(s).type)||r(u,i.getAxis(l).type)?null:[i.dataToPoint(h,s),i.dataToPoint(u,l)],o)}}function a(t){return new s.Polyline({shape:{points:t},silent:!0})}function r(t,e){return"category"===e?null==t:null==t||isNaN(t)}var s=i(3),l=i(1),h=i(26).extend({type:"parallel",init:function(){this._dataGroup=new s.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,i,r){function h(t){var e=f.getValues(m,t),i=new s.Group;d.add(i),o(e,m,g,function(t,e){t&&i.add(a(t))}),f.setItemGraphicEl(t,i)}function u(e,i){var n=f.getValues(m,e),r=p.getItemGraphicEl(i),l=[],h=0;o(n,m,g,function(i,n){var o=r.childAt(h++);i&&!o?l.push(a(i)):i&&s.updateProps(o,{shape:{points:i}},t,e)});for(var u=r.childCount()-1;u>=h;u--)r.remove(r.childAt(u));for(var u=0,c=l.length;c>u;u++)r.add(l[u]);f.setItemGraphicEl(e,r)}function c(t){var e=p.getItemGraphicEl(t);d.remove(e)}var d=this._dataGroup,f=t.getData(),p=this._data,g=t.coordinateSystem,m=g.dimensions;f.diff(p).add(h).update(u).remove(c).execute(),f.eachItemGraphicEl(function(t,e){var i=f.getItemModel(e),n=i.getModel("lineStyle.normal");t.eachChild(function(t){t.useStyle(l.extend(n.getLineStyle(),{fill:null,stroke:f.getItemVisual(e,"color"),opacity:f.getItemVisual(e,"opacity")}))})}),this._data||d.setClipPath(n(g,t,function(){d.removeClipPath()})),this._data=f},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=h},function(t,e){t.exports=function(t,e){t.eachSeriesByType("parallel",function(e){var i=e.getModel("itemStyle.normal"),n=t.get("color"),o=i.get("color")||n[e.seriesIndex%n.length],a=e.get("inactiveOpacity"),r=e.get("activeOpacity"),s=e.getModel("lineStyle.normal").getLineStyle(),l=e.coordinateSystem,h=e.getData(),u={normal:s.opacity,active:r,inactive:a};l.eachActiveState(h,function(t,e){h.setItemVisual(e,"opacity",u[t])}),h.setVisual("color",o)})}},function(t,e,i){var n=i(1),o=i(2);i(309),i(284),i(285),o.registerVisualCoding("chart",n.curry(i(64),"radar")),o.registerVisualCoding("chart",n.curry(i(44),"radar","circle",null)),o.registerLayout(i(287)),o.registerProcessor("filter",n.curry(i(63),"radar")),o.registerPreprocessor(i(286))},function(t,e,i){"use strict";var n=i(13),o=i(15),a=i(31),r=i(1),s=n.extend({type:"series.radar",dependencies:["radar"],init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(t,e){var i=t.data||[],n=a([],i,[],"indicator_"),r=new o(n,this);return r.initData(i),r},formatTooltip:function(t){var e=this.getRawValue(t),i=this.coordinateSystem,n=i.getIndicatorAxes();return this._data.getName(t)+"<br />"+r.map(n,function(t,i){return t.name+" : "+e[i]}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=s},function(t,e,i){function n(t){return a.isArray(t)||(t=[+t,+t]),t}var o=i(3),a=i(1),r=i(25);t.exports=i(2).extendChartView({type:"radar",render:function(t,e,i){function s(t,e){var i=t.getItemVisual(e,"symbol")||"circle",o=t.getItemVisual(e,"color");if("none"!==i){var a=r.createSymbol(i,-.5,-.5,1,1,o);return a.attr({style:{strokeNoScale:!0},z2:100,scale:n(t.getItemVisual(e,"symbolSize"))}),a}}function l(e,i,n,a,r,l){n.removeAll();for(var h=0;h<i.length-1;h++){var u=s(a,r);u&&(u.__dimIdx=h,e[h]?(u.attr("position",e[h]),o[l?"initProps":"updateProps"](u,{position:i[h]},t,r)):u.attr("position",i[h]),n.add(u))}}function h(t){return a.map(t,function(t){return[u.cx,u.cy]})}var u=t.coordinateSystem,c=this.group,d=t.getData(),f=this._data;d.diff(f).add(function(e){var i=d.getItemLayout(e);if(i){var n=new o.Polygon,a=new o.Polyline,r={shape:{points:i}};n.shape.points=h(i),a.shape.points=h(i),o.initProps(n,r,t,e),o.initProps(a,r,t,e);var s=new o.Group,u=new o.Group;s.add(a),s.add(n),s.add(u),l(a.shape.points,i,u,d,e,!0),d.setItemGraphicEl(e,s)}}).update(function(e,i){var n=f.getItemGraphicEl(i),a=n.childAt(0),r=n.childAt(1),s=n.childAt(2),h={shape:{points:d.getItemLayout(e)}};h.shape.points&&(l(a.shape.points,h.shape.points,s,d,e,!1),o.updateProps(a,h,t),o.updateProps(r,h,t),d.setItemGraphicEl(e,n))}).remove(function(t){c.remove(f.getItemGraphicEl(t))}).execute(),d.eachItemGraphicEl(function(e,i){function n(){h.attr("ignore",v)}function r(){h.attr("ignore",m)}var s=d.getItemModel(i),l=e.childAt(0),h=e.childAt(1),u=e.childAt(2),f=d.getItemVisual(i,"color");c.add(e),l.useStyle(a.extend(s.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:f})),l.hoverStyle=s.getModel("lineStyle.emphasis").getLineStyle();var p=s.getModel("areaStyle.normal"),g=s.getModel("areaStyle.emphasis"),m=p.isEmpty()&&p.parentModel.isEmpty(),v=g.isEmpty()&&g.parentModel.isEmpty();v=v&&m,h.ignore=m,h.useStyle(a.defaults(p.getAreaStyle(),{fill:f,opacity:.7})),h.hoverStyle=g.getAreaStyle();var y=s.getModel("itemStyle.normal").getItemStyle(["color"]),x=s.getModel("itemStyle.emphasis").getItemStyle(),_=s.getModel("label.normal"),b=s.getModel("label.emphasis");u.eachChild(function(e){e.setStyle(y),e.hoverStyle=a.clone(x);var n=d.get(d.dimensions[e.__dimIdx],i);o.setText(e.style,_,f),e.setStyle({text:_.get("show")?a.retrieve(t.getFormattedLabel(i,"normal",null,e.__dimIdx),n):""}),o.setText(e.hoverStyle,b,f),e.hoverStyle.text=b.get("show")?a.retrieve(t.getFormattedLabel(i,"emphasis",null,e.__dimIdx),n):""}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",n).on("mouseover",n).on("normal",r).on("mouseout",r),o.setHoverStyle(e)}),this._data=d},remove:function(){this.group.removeAll(),this._data=null}})},function(t,e,i){var n=i(1);t.exports=function(t){var e=t.polar;if(e){n.isArray(e)||(e=[e]);var i=[];n.each(e,function(e,o){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],n.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}n.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e){t.exports=function(t,e){t.eachSeriesByType("radar",function(t){function e(t,e){n[e]=n[e]||[],n[e][a]=o.dataToPoint(t,a)}var i=t.getData(),n=[],o=t.coordinateSystem;if(o){for(var a=0;a<o.getIndicatorAxes().length;a++){var r=i.dimensions[a];i.each(r,e)}i.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),i.setItemLayout(t,n[t])})}})}},function(t,e,i){var n=i(2);i(289),i(290),n.registerLayout(i(291)),n.registerVisualCoding("chart",i(292))},function(t,e,i){"use strict";var n=i(13),o=i(212),a=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t,e){var i=t.edges||t.links,n=t.data||t.nodes;if(n&&i){var a=o(n,i,this,!0);return a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getDataParams(t,i),o=n.data,r=o.source+" -- "+o.target;return n.value&&(r+=" : "+n.value),r}return a.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});t.exports=a},function(t,e,i){function n(t,e,i){var n=new o.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return o.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}var o=i(3),a=i(1),r=o.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}});t.exports=i(2).extendChartView({type:"sankey",_model:null,render:function(t,e,i){var s=t.getGraph(),l=this.group,h=t.layoutInfo,u=t.getData(),c=t.getData("edge");this._model=t,l.removeAll(),l.position=[h.x,h.y],s.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),r=n.getModel("label.normal"),s=r.getModel("textStyle"),h=n.getModel("label.emphasis"),c=h.getModel("textStyle"),d=new o.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:r.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:s.getFont(),textFill:s.getTextColor(),textPosition:r.get("position")}});d.setStyle(a.defaults({fill:e.getVisual("color")},n.getModel("itemStyle.normal").getItemStyle())),o.setHoverStyle(d,a.extend(e.getModel("itemStyle.emphasis"),{text:h.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:c.getFont(),textFill:c.getTextColor(),textPosition:h.get("position")})),l.add(d),u.setItemGraphicEl(e.dataIndex,d),d.dataType="node"}),s.eachEdge(function(e){var i=new r;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var n=e.getModel("lineStyle.normal"),a=n.get("curveness"),s=e.node1.getLayout(),h=e.node2.getLayout(),u=e.getLayout();i.shape.extent=Math.max(1,u.dy);var d=s.x+s.dx,f=s.y+u.sy+u.dy/2,p=h.x,g=h.y+u.ty+u.dy/2,m=d*(1-a)+p*a,v=f,y=d*a+p*(1-a),x=g;i.setShape({x1:d,y1:f,x2:p,y2:g,cpx1:m,cpy1:v,cpx2:y,cpy2:x}),i.setStyle(n.getItemStyle()),o.setHoverStyle(i,e.getModel("lineStyle.emphasis").getItemStyle()),l.add(i),c.setItemGraphicEl(e.dataIndex,i)}),!this._data&&t.get("animation")&&l.setClipPath(n(l.getBoundingRect(),t,function(){l.removeClipPath()})),this._data=t.getData()}})},function(t,e,i){function n(t,e){return M.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function o(t,e,i,n,o,a,s){r(t,i,o),h(t,e,a,n,s),m(t)}function a(t){I.each(t,function(t){var e=x(t.outEdges,S),i=x(t.inEdges,S),n=Math.max(e,i);t.setLayout({value:n},!0)})}function r(t,e,i){for(var n=t,o=null,a=0,r=0;n.length;){o=[];for(var h=0,u=n.length;u>h;h++){var c=n[h];c.setLayout({x:a},!0),c.setLayout({dx:e},!0);for(var d=0,f=c.outEdges.length;f>d;d++)o.push(c.outEdges[d].node2)}n=o,++a}s(t,a),r=(i-e)/(a-1),l(t,r)}function s(t,e){I.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function l(t,e){I.each(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}function h(t,e,i,n,o){var a=A().key(function(t){return t.getLayout().x}).sortKeys(w).entries(t).map(function(t){return t.values});u(t,a,e,i,n),c(a,n,i);for(var r=1;o>0;o--)r*=.99,d(a,r),c(a,n,i),p(a,r),c(a,n,i)}function u(t,e,i,n,o){var a=[];I.each(e,function(t){var e=t.length,i=0;I.each(t,function(t){i+=t.getLayout().value});var r=(n-(e-1)*o)/i;a.push(r)}),a.sort(function(t,e){return t-e});var r=a[0];I.each(e,function(t){I.each(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*r;t.setLayout({dy:i},!0)})}),I.each(i,function(t){var e=+t.getValue()*r;t.setLayout({dy:e},!0)})}function c(t,e,i){I.each(t,function(t){var n,o,a,r=0,s=t.length;for(t.sort(b),a=0;s>a;a++){if(n=t[a],o=r-n.getLayout().y,o>0){var l=n.getLayout().y+o;n.setLayout({y:l},!0)}r=n.getLayout().y+n.getLayout().dy+e}if(o=r-e-i,o>0){var l=n.getLayout().y-o;for(n.setLayout({y:l},!0),r=n.getLayout().y,a=s-2;a>=0;--a)n=t[a],o=n.getLayout().y+n.getLayout().dy+e-r,o>0&&(l=n.getLayout().y-o,n.setLayout({y:l},!0)),r=n.getLayout().y}})}function d(t,e){I.each(t.slice().reverse(),function(t){I.each(t,function(t){if(t.outEdges.length){var i=x(t.outEdges,f)/x(t.outEdges,S),n=t.getLayout().y+(i-_(t))*e;t.setLayout({y:n},!0)}})})}function f(t){return _(t.node2)*t.getValue()}function p(t,e){I.each(t,function(t){I.each(t,function(t){if(t.inEdges.length){var i=x(t.inEdges,g)/x(t.inEdges,S),n=t.getLayout().y+(i-_(t))*e;t.setLayout({y:n},!0)}})})}function g(t){return _(t.node1)*t.getValue()}function m(t){I.each(t,function(t){t.outEdges.sort(v),t.inEdges.sort(y)}),I.each(t,function(t){var e=0,i=0;I.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),I.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}function v(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function y(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function x(t,e){var i,n=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i=+t[a],isNaN(i)||(n+=i);else for(;++a<o;)i=+e.call(t,t[a],a),isNaN(i)||(n+=i);return n}function _(t){return t.getLayout().y+t.getLayout().dy/2}function b(t,e){return t.getLayout().y-e.getLayout().y}function w(t,e){return e>t?-1:t>e?1:t==e?0:NaN}function S(t){return t.getValue()}var M=i(11),A=i(350),I=i(1);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),s=n(t,e);t.layoutInfo=s;var l=s.width,h=s.height,u=t.getGraph(),c=u.nodes,d=u.edges;a(c);var f=c.filter(function(t){return 0===t.getLayout().value}),p=0!==f.length?0:t.get("layoutIterations");o(c,d,i,r,l,h,p)})}},function(t,e,i){var n=i(73);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),i=e.nodes;i.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var o=i[0].getLayout().value,a=i[i.length-1].getLayout().value;i.forEach(function(e){var i=new n({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:t.get("color")}),r=i.mapValueToVisual(e.getLayout().value);e.setVisual("color",r);var s=e.getModel(),l=s.get("itemStyle.normal.color");null!=l&&e.setVisual("color",l)})})}},function(t,e,i){var n=i(2);i(295),i(296),i(297),n.registerVisualCoding("chart",i(299)),n.registerLayout(i(298))},function(t,e,i){function n(t,e){this.group=new a.Group,t.add(this.group),this._onSelect=e||s.noop}function o(t,e,i,n,o,a){var r=[[o?t:t-u,e],[t+i,e],[t+i,e+n],[o?t:t-u,e+n]];return!a&&r.splice(2,0,[t+i+u,e+n/2]),!o&&r.push([t,e+n/2]),r}var a=i(3),r=i(11),s=i(1),l=8,h=8,u=5;n.prototype={constructor:n,render:function(t,e,i){var n=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),n.get("show")&&i){var a=n.getModel("itemStyle.normal"),s=a.getModel("textStyle"),l={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,i,l,s),this._renderContent(n,i,l,a,s),r.positionGroup(o,l.pos,l.box)}},_prepare:function(t,e,i,n){for(var o=e;o;o=o.parentNode){var a=o.getModel().get("name"),r=n.getTextRect(a),s=Math.max(r.width+2*l,i.emptyItemWidth);i.totalWidth+=s+h,i.renderList.push({node:o,text:a,width:s})}},_renderContent:function(t,e,i,n,l){for(var u=0,c=i.emptyItemWidth,d=t.get("height"),f=r.getAvailableSize(i.pos,i.box),p=i.totalWidth,g=i.renderList,m=g.length-1;m>=0;m--){var v=g[m],y=v.width,x=v.text;p>f.width&&(p-=y-c,y=c,x=""),this.group.add(new a.Polygon({shape:{points:o(u,0,y,d,m===g.length-1,0===m)},style:s.defaults(n.getItemStyle(),{lineJoin:"bevel",text:x,textFill:l.getTextColor(),textFont:l.getFont()}),z:10,onclick:s.bind(this._onSelect,this,v.node)})),u+=y+h}},remove:function(){this.group.removeAll()}},t.exports=n},function(t,e,i){function n(t,e){var i=0;s.each(t.children,function(t){n(t,e);var o=t.value;s.isArray(o)&&(o=o[0]),i+=o});var o=t.value;e>=0&&(s.isArray(o)?o=o[0]:t.value=new Array(e)),(null==o||isNaN(o))&&(o=i),0>o&&(o=0),e>=0?t.value[0]=o:t.value=o}function o(t,e){var i=e.get("color");if(i){t=t||[];var n;if(s.each(t,function(t){var e=new l(t),i=e.get("color");(e.get("itemStyle.normal.color")||i&&"none"!==i)&&(n=!0)}),!n){var o=t[0]||(t[0]={});o.color=i.slice()}return t}}var a=i(13),r=i(348),s=i(1),l=i(12),h=i(9),u=h.encodeHTML,c=h.addCommas;t.exports=a.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i=t.data||[],a=t.name;null==a&&(a=t.name);var l={name:a,children:t.data},h=(i[0]||{}).value;n(l,s.isArray(h)?h.length:-1);var u=t.levels||[];return u=t.levels=o(u,e),r.createTree(l,this,u).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=c(s.isArray(i)?i[0]:i),o=e.getName(t);return u(o)+": "+n},getDataParams:function(t){for(var e=a.prototype.getDataParams.apply(this,arguments),i=this.getData(),n=i.tree.getNodeByDataIndex(t),o=e.treePathInfo=[];n;){var r=n.dataIndex;o.push({name:n.name,dataIndex:r,value:this.getRawValue(r)}),n=n.parentNode}return o.reverse(),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},s.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var i=e[t];return null==i&&(e[t]=i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}})},function(t,e,i){function n(){return{nodeGroup:[],background:[],content:[]}}function o(t,e,i,n,o,l,h,u,c,d){function f(e){O.dataIndex=h.dataIndex,O.seriesIndex=t.seriesIndex;var i=I.borderWidth,n=Math.max(T-2*i,0),o=Math.max(L-2*i,0);O.culling=!0,O.setShape({x:i,y:i,width:n,height:o});var a=h.getVisual("color",!0);p(O,function(){var t={fill:a},e=h.getModel("itemStyle.emphasis").getItemStyle();g(t,e,a,n,o),O.setStyle(t),s.setHoverStyle(O,e)}),e.add(O)}function p(t,e){C?!t.invisible&&l.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function g(e,i,n,o,a){var r=h.getModel(),s=r.get("name");if(I.isLeafRoot){var l=t.get("drillDownIcon",!0);s+=l?"  "+l:""}y(s,e,r,_,n,o,a),y(s,i,r,b,n,o,a)}function y(t,e,i,n,o,a,r){var l=i.getModel(n),h=l.getModel("textStyle");s.setText(e,l,o),e.textAlign=h.get("align"),e.textVerticalAlign=h.get("baseline");var u=h.getTextRect(t);!l.getShallow("show")||u.height>r?e.text="":u.width>a?e.text=h.get("ellipsis")?h.ellipsis(t,a):"":e.text=t}function x(t,n,r,s){var l=null!=P&&i[t][P],h=o[t];return l?(i[t][P]=null,w(h,l,t)):C||(l=new n({z:a(r,s)}),l.__tmDepth=r,l.__tmStorageName=t,A(h,l,t)),e[t][D]=l}function w(t,e,i){var n=t[D]={};n.old="nodeGroup"===i?e.position.slice():r.extend({},e.shape)}function A(t,e,i){var a=t[D]={},r=h.parentNode;if(r&&(!n||"drillDown"===n.direction)){var s=0,l=0,u=o.background[r.getRawIndex()];!n&&u&&u.old&&(s=u.old.width,l=u.old.height),a.old="nodeGroup"===i?[0,l]:{x:s,y:l,width:0,height:0}}a.fadein="nodeGroup"!==i}if(h){var I=h.getLayout();if(I&&I.isInView){var T=I.width,L=I.height,C=I.invisible,D=h.getRawIndex(),P=u&&u.getRawIndex(),k=x("nodeGroup",m);if(k){if(c.add(k),k.position=[I.x||0,I.y||0],k.__tmNodeWidth=T,k.__tmNodeHeight=L,I.isAboveViewRoot)return k;var z=x("background",v,d,S);z&&(z.setShape({x:0,y:0,width:T,height:L}),p(z,function(){z.setStyle("fill",h.getVisual("borderColor",!0))}),k.add(z));var E=h.viewChildren;if(!E||!E.length){var O=x("content",v,d,M);O&&f(k)}return k}}}}function a(t,e){var i=t*w+e;return(i-1)/i}var r=i(1),s=i(3),l=i(48),h=i(160),u=i(294),c=i(70),d=i(8),f=i(19),p=i(349),g=r.bind,m=s.Group,v=s.Rect,y=r.each,x=3,_=["label","normal"],b=["label","emphasis"],w=10,S=1,M=2;t.exports=i(2).extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage=n(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(t,e,i,n){var o=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(r.indexOf(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var a=h.retrieveTargetInfo(n,t),s=n&&n.type,l=t.layoutInfo,u=!this._oldTree,c=this._storage,d="treemapRootToNode"===s&&a&&c?{rootNodeGroup:c.nodeGroup[a.node.getRawIndex()],direction:n.direction}:null,f=this._giveContainerGroup(l),p=this._doRender(f,t,d);u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?p.renderFinally():this._doAnimation(f,p,t,d),this._resetController(i),this._renderBreadcrumb(t,i,a)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new m,this._initEvents(e),this.group.add(e)),e.position=[t.x,t.y],e},_doRender:function(t,e,i){function a(t,e,i,n,o){function s(t){return t.getId()}function h(r,s){var l=null!=r?t[r]:null,h=null!=s?e[s]:null,u=m(l,h,i,o);u&&a(l&&l.viewChildren||[],h&&h.viewChildren||[],u,n,o+1)}n?(e=t,y(t,function(t,e){!t.isRemoved()&&h(e,e)})):new l(e,t,s,s).add(h).update(h).remove(r.curry(h,null)).execute()}function s(t){var e=n();return t&&y(t,function(t,i){var n=e[i];y(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),e}function h(){y(v,function(t){y(t,function(t){t.parent&&t.parent.remove(t)})}),y(g,function(t){t.invisible=!0,t.dirty()})}var u=e.getData().tree,c=this._oldTree,d=n(),f=n(),p=this._storage,g=[],m=r.curry(o,e,f,p,i,d,g);a(u.root?[u.root]:[],c&&c.root?[c.root]:[],t,u===c||!c,0);var v=s(p);return this._oldTree=u,this._storage=f,{lastsForAnimation:d,willDeleteEls:v,renderFinally:h}},_doAnimation:function(t,e,i,n){if(i.get("animation")){var o=i.get("animationDurationUpdate"),a=i.get("animationEasing"),s=p.createWrap();y(e.willDeleteEls,function(t,e){y(t,function(t,i){if(!t.invisible){var r,l=t.parent;if(n&&"drillDown"===n.direction)r=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,u=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),r="nodeGroup"===e?{position:[h,u],style:{opacity:0}}:{shape:{x:h,y:u,width:0,height:0},style:{opacity:0}}}r&&s.add(t,r,o,a)}})}),y(this._storage,function(t,i){y(t,function(t,n){var l=e.lastsForAnimation[i][n],h={};l&&("nodeGroup"===i?l.old&&(h.position=t.position.slice(),t.position=l.old):(l.old&&(h.shape=r.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),h.style={opacity:1}):1!==t.style.opacity&&(h.style={opacity:1})),s.add(t,h,o,a))})},this),this._state="animating",s.done(g(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new c(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",g(this._onPan,this)),e.on("zoom",g(this._onZoom,this)));var i=new d(0,0,t.getWidth(),t.getHeight());e.rectProvider=function(){return i}},_clearController:function(){var t=this._controller;t&&(t.off("pan").off("zoom"),t=null)},_onPan:function(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>x||Math.abs(e)>x)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if(this._mayClick=!1,"animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var a=new d(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=f.create();f.translate(s,s,[-e,-i]),f.scale(s,s,[t,t]),f.translate(s,s,[e,i]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),a=o.get("link",!0),r=o.get("target",!0)||"blank";a&&window.open(a,r)}}}}t.on("mousedown",function(t){"ready"===this._state&&(this._mayClick=!0)},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t))},this)},_renderBreadcrumb:function(t,e,i){function n(e){"animating"!==this._state&&(h.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}i||(i=this.findTarget(e.getWidth()/2,e.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new u(this.group,g(n,this)))).render(t,e,i.node)},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=n(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var a=o.transformCoordToLocal(t,e),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;i={node:n,offsetX:a[0],offsetY:a[1]}}},this),i}})},function(t,e,i){for(var n=i(2),o=i(160),a=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<r.length;s++)n.registerAction({type:r[s],update:"updateView"},a);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){function i(e,i){var n=o.retrieveTargetInfo(t,e);if(n){var a=e.getViewRoot();a&&(t.direction=o.aboveViewRoot(a,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},i)})},function(t,e,i){function n(t,e,i){var n={mainType:"series",subType:"treemap",query:i};t.eachComponent(n,function(t){var n=e.getWidth(),a=e.getHeight(),r=t.option,s=r.size||[],l=b(w(r.width,s[0]),n),h=b(w(r.height,s[1]),a),u=m.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),g=i&&i.type,x=v.retrieveTargetInfo(i,t),_="treemapRender"===g||"treemapMove"===g?i.rootRect:null,M=t.getViewRoot(),A=v.getPathToRoot(M);
if("treemapMove"!==g){var I="treemapZoomToNode"===g?c(t,x,M,l,h):_?[_.width,_.height]:[l,h],T=r.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var L={squareRatio:r.squareRatio,sort:T,leafDepth:r.leafDepth};M.hostTree.clearLayouts();var C={x:0,y:0,width:I[0],height:I[1],area:I[0]*I[1]};M.setLayout(C),o(M,L,!1,0);var C=M.getLayout();S(A,function(t,e){var i=(A[e+1]||M).getValue();t.setLayout(p.extend({dataExtent:[i,i],borderWidth:0},C))})}var D=t.getData().tree.root;D.setLayout(d(u,_,x),!0),t.setLayoutInfo(u),f(D,new y(-u.x,-u.y,n,a),A,M,0)})}function o(t,e,i,n){var r,s;if(!t.isRemoved()){var l=t.getLayout();r=l.width,s=l.height;var c=t.getModel("itemStyle.normal"),d=c.get("borderWidth"),f=c.get("gapWidth")/2,p=d-f,g=t.getModel();t.setLayout({borderWidth:d},!0),r=x(r-2*p,0),s=x(s-2*p,0);var m=r*s,v=a(t,g,m,e,i,n);if(v.length){var y={x:p,y:p,width:r,height:s},b=_(r,s),w=1/0,S=[];S.area=0;for(var M=0,A=v.length;A>M;){var I=v[M];S.push(I),S.area+=I.getLayout().area;var T=h(S,b,e.squareRatio);w>=T?(M++,w=T):(S.area-=S.pop().getLayout().area,u(S,b,y,f,!1),b=_(y.width,y.height),S.length=S.area=0,w=1/0)}if(S.length&&u(S,b,y,f,!0),!i){var L=g.get("childrenVisibleMin");null!=L&&L>m&&(i=!0)}for(var M=0,A=v.length;A>M;M++)o(v[M],e,i,n+1)}}}function a(t,e,i,n,o,a){var h=t.children||[],u=n.sort;"asc"!==u&&"desc"!==u&&(u=null);var c=null!=n.leafDepth&&n.leafDepth<=a;if(o&&!c)return t.viewChildren=[];h=p.filter(h,function(t){return!t.isRemoved()}),s(h,u);var d=l(e,h,u);if(0===d.sum)return t.viewChildren=[];if(d.sum=r(e,i,d.sum,u,h),0===d.sum)return t.viewChildren=[];for(var f=0,g=h.length;g>f;f++){var m=h[f].getValue()/d.sum*i;h[f].setLayout({area:m})}return c&&(h.length&&t.setLayout({isLeafRoot:!0},!0),h.length=0),t.viewChildren=h,t.setLayout({dataExtent:d.dataExtent},!0),h}function r(t,e,i,n,o){if(!n)return i;for(var a=t.get("visibleMin"),r=o.length,s=r,l=r-1;l>=0;l--){var h=o["asc"===n?r-l-1:l].getValue();a>h/i*e&&(s=l,i-=h)}return"asc"===n?o.splice(0,r-s):o.splice(s,r-s),i}function s(t,e){return e&&t.sort(function(t,i){return"asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue()}),t}function l(t,e,i){for(var n=0,o=0,a=e.length;a>o;o++)n+=e[o].getValue();var r,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&i)r=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&r.reverse();else{var r=[1/0,-(1/0)];S(e,function(t){var e=t.getValue(s);e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e)})}else r=[NaN,NaN];return{sum:n,dataExtent:r}}function h(t,e,i){for(var n,o=0,a=1/0,r=0,s=t.length;s>r;r++)n=t[r].getLayout().area,n&&(a>n&&(a=n),n>o&&(o=n));var l=t.area*t.area,h=e*e*i;return l?x(h*o/l,l/(h*a)):1/0}function u(t,e,i,n,o){var a=e===i.width?0:1,r=1-a,s=["x","y"],l=["width","height"],h=i[s[a]],u=e?t.area/e:0;(o||u>i[l[r]])&&(u=i[l[r]]);for(var c=0,d=t.length;d>c;c++){var f=t[c],p={},g=u?f.getLayout().area/u:0,m=p[l[r]]=x(u-2*n,0),v=i[s[a]]+i[l[a]]-h,y=c===d-1||g>v?v:g,b=p[l[a]]=x(y-2*n,0);p[s[r]]=i[s[r]]+_(n,m/2),p[s[a]]=h+_(n,b/2),h+=y,f.setLayout(p,!0)}i[s[r]]+=u,i[l[r]]-=u}function c(t,e,i,n,o){var a=(e||{}).node,r=[n,o];if(!a||a===i)return r;for(var s,l=n*o,h=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var u=0,c=s.children,d=0,f=c.length;f>d;d++)u+=c[d].getValue();var p=a.getValue();if(0===p)return r;h*=u/p;var m=s.getModel("itemStyle.normal").get("borderWidth");isFinite(m)&&(h+=4*m*m+4*m*Math.pow(h,.5)),h>g.MAX_SAFE_INTEGER&&(h=g.MAX_SAFE_INTEGER),a=s}l>h&&(h=l);var v=Math.pow(h/l,.5);return[n*v,o*v]}function d(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}function f(t,e,i,n,o){var a=t.getLayout(),r=i[o],s=r&&r===t;if(!(r&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new y(e.x-a.x,e.y-a.y,e.width,e.height);S(t.viewChildren||[],function(t){f(t,l,i,n,o+1)})}}var p=i(1),g=i(4),m=i(11),v=i(160),y=i(8),v=i(160),x=Math.max,_=Math.min,b=g.parsePercent,w=p.retrieve,S=p.each;t.exports=n},function(t,e,i){function n(t,e,i,s,h,c){var d=t.getModel(),p=t.getLayout();if(p&&!p.invisible&&p.isInView){var m,v=t.getModel(g),y=i[t.depth],x=o(v,e,y,s),_=v.get("borderColor"),b=v.get("borderColorSaturation");null!=b&&(m=a(x,t),_=r(b,m)),t.setVisual("borderColor",_);var w=t.viewChildren;if(w&&w.length){var S=l(t,d,p,v,x,w);f.each(w,function(t,e){if(t.depth>=h.length||t===h[t.depth]){var o=u(d,x,t,e,S,c);n(t,o,i,s,h,c)}})}else m=a(x,t),t.setVisual("color",m)}}function o(t,e,i,n){var o=f.extend({},e);return f.each(["color","colorAlpha","colorSaturation"],function(a){var r=t.get(a,!0);null==r&&i&&(r=i[a]),null==r&&(r=e[a]),null==r&&(r=n.get(a)),null!=r&&(o[a]=r)}),o}function a(t){var e=s(t,"color");if(e){var i=s(t,"colorAlpha"),n=s(t,"colorSaturation");return n&&(e=d.modifyHSL(e,null,null,n)),i&&(e=d.modifyAlpha(e,i)),e}}function r(t,e){return null!=e?d.modifyHSL(e,null,null,t):null}function s(t,e){var i=t[e];return null!=i&&"none"!==i?i:void 0}function l(t,e,i,n,o,a){if(a&&a.length){var r=h(e,"color")||null!=o.color&&"none"!==o.color&&(h(e,"colorAlpha")||h(e,"colorSaturation"));if(r){var s=e.get("colorMappingBy"),l={type:r.name,dataExtent:i.dataExtent,visual:r.range};"color"!==l.type||"index"!==s&&"id"!==s?l.mappingMethod="linear":(l.mappingMethod="category",l.loop=!0);var u=new c(l);return u.__drColorMappingBy=s,u}}}function h(t,e){var i=t.get(e);return p(i)&&i.length?{name:e,range:i}:null}function u(t,e,i,n,o,a){var r=f.extend({},e);if(o){var s=o.type,l="color"===s&&o.__drColorMappingBy,h="index"===l?n:"id"===l?a.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));r[s]=o.mapValueToVisual(h)}return r}var c=i(73),d=i(22),f=i(1),p=f.isArray,g="itemStyle.normal";t.exports=function(t,e){var i={mainType:"series",subType:"treemap",query:e};t.eachComponent(i,function(t){var e=t.getData().tree,i=e.root,o=t.getModel(g);if(!i.isRemoved()){var a=f.map(e.levelModels,function(t){return t?t.get(g):null});n(i,{},a,o,t.getViewRoot().getAncestors(),t)}})}},function(t,e,i){"use strict";i(202),i(301)},function(t,e,i){"use strict";function n(t,e,i,n){var o=t.coordToPoint([e,n]),a=t.coordToPoint([i,n]);return{x1:o[0],y1:o[1],x2:a[0],y2:a[1]}}var o=i(1),a=i(3),r=i(12),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i(2).extendComponentView({type:"angleAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),n=t.axis,a=i.coordinateSystem,r=a.getRadiusAxis().getExtent(),l=n.getTicksCoords();"category"!==n.type&&l.pop(),o.each(s,function(e){t.get(e+".show")&&this["_"+e](t,a,l,r)},this)}},_axisLine:function(t,e,i,n){var o=t.getModel("axisLine.lineStyle"),r=new a.Circle({shape:{cx:e.cx,cy:e.cy,r:n[1]},style:o.getLineStyle(),z2:1,silent:!0});r.style.fill=null,this.group.add(r)},_axisTick:function(t,e,i,r){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),h=o.map(i,function(t){return new a.Line({shape:n(e,r[1],r[1]+l,t)})});this.group.add(a.mergePath(h,{style:s.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(t,e,i,n){for(var o=t.axis,s=t.get("data"),l=t.getModel("axisLabel"),h=l.getModel("textStyle"),u=t.getFormattedLabels(),c=l.get("margin"),d=o.getLabelsCoords(),f=0;f<i.length;f++){var p=n[1],g=e.coordToPoint([p+c,d[f]]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/p<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-v)/p<.3?"middle":g[1]>v?"top":"bottom",_=h;s&&s[f]&&s[f].textStyle&&(_=new r(s[f].textStyle,h)),this.group.add(new a.Text({style:{x:g[0],y:g[1],fill:_.getTextColor(),text:u[f],textAlign:y,textVerticalAlign:x,textFont:_.getFont()},silent:!0}))}},_splitLine:function(t,e,i,r){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),h=l.get("color"),u=0;h=h instanceof Array?h:[h];for(var c=[],d=0;d<i.length;d++){var f=u++%h.length;c[f]=c[f]||[],c[f].push(new a.Line({shape:n(e,r[0],r[1],i[d])}))}for(var d=0;d<c.length;d++)this.group.add(a.mergePath(c[d],{style:o.defaults({stroke:h[d%h.length]},l.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,n){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var u=[],c=Math.PI/180,d=-i[0]*c,f=Math.min(n[0],n[1]),p=Math.max(n[0],n[1]),g=t.get("clockwise"),m=1;m<i.length;m++){var v=h++%l.length;u[v]=u[v]||[],u[v].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:p,startAngle:d,endAngle:-i[m]*c,clockwise:g},silent:!0})),d=-i[m]*c}for(var m=0;m<u.length;m++)this.group.add(a.mergePath(u[m],{style:o.defaults({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}})},function(t,e,i){function n(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}var o=i(1),a=i(49),r=i(161),s=["axisLine","axisLabel","axisTick","axisName"],l=i(2).extendComponentView({type:"parallelAxis",_selectController:null,render:function(t,e,i,r){if(!n(t,e,r)&&(this.axisModel=t,this.api=i,this.group.removeAll(),t.get("show"))){var l=e.getComponent("parallel",t.get("parallelIndex")).coordinateSystem,h=t.getAreaSelectStyle(),u=h.width,c=l.getAxisLayout(t.axis.dim),d=o.extend({strokeContainThreshold:u,axisLineSilent:!(u>0)},c),f=new a(t,d);o.each(s,f.add,f);var p=f.getGroup();this.group.add(p),this._buildSelectController(p,h,t,i)}},_buildSelectController:function(t,e,i,n){var a=i.axis,s=this._selectController;s||(s=this._selectController=new r("line",n.getZr(),e),s.on("selected",o.bind(this._onSelected,this))),s.enable(t);var l=o.map(i.activeIntervals,function(t){return[a.dataToCoord(t[0],!0),a.dataToCoord(t[1],!0)]});s.update(l)},_onSelected:function(t){var e=this.axisModel,i=e.axis,n=o.map(t,function(t){return[i.coordToData(t[0],!0),i.coordToData(t[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:e.id,intervals:n})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});t.exports=l},function(t,e,i){"use strict";function n(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:e.getModel("axisLabel").get("rotate"),z2:1}}var o=i(1),a=i(3),r=i(49),s=["axisLine","axisLabel","axisTick","axisName"],l=["splitLine","splitArea"];i(2).extendComponentView({type:"radiusAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),a=i.coordinateSystem.getAngleAxis(),h=t.axis,u=i.coordinateSystem,c=h.getTicksCoords(),d=a.getExtent()[0],f=h.getExtent(),p=n(u,t,d),g=new r(t,p);o.each(s,g.add,g),this.group.add(g.getGroup()),o.each(l,function(e){t.get(e+".show")&&this["_"+e](t,u,d,f,c)},this)}},_splitLine:function(t,e,i,n,r){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),h=l.get("color"),u=0;h=h instanceof Array?h:[h];for(var c=[],d=0;d<r.length;d++){var f=u++%h.length;c[f]=c[f]||[],c[f].push(new a.Circle({shape:{cx:e.cx,cy:e.cy,r:r[d]},silent:!0}))}for(var d=0;d<c.length;d++)this.group.add(a.mergePath(c[d],{style:o.defaults({stroke:h[d%h.length],fill:null},l.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,r){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),h=l.get("color"),u=0;h=h instanceof Array?h:[h];for(var c=[],d=r[0],f=1;f<r.length;f++){var p=u++%h.length;c[p]=c[p]||[],c[p].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:r[f],startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[f]}for(var f=0;f<c.length;f++)this.group.add(a.mergePath(c[f],{style:o.defaults({fill:h[f%h.length]},l.getAreaStyle()),silent:!0}))}})},function(t,e,i){var n=i(2),o={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})})},function(t,e,i){function n(t,e){e.update="updateView",o.registerAction(e,function(e,i){var n={};return i.eachComponent({mainType:"geo",query:e},function(i){i[t](e.name);var o=i.coordinateSystem;a.each(o.regions,function(t){n[t.name]=i.isSelected(t.name)||!1})}),{selected:n,name:e.name}})}i(329),i(162),i(306),i(207);var o=i(2),a=i(1);n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,i){"use strict";var n=i(213);t.exports=i(2).extendComponentView({type:"geo",init:function(t,e){var i=new n(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get("show")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll()}}})},function(t,e,i){i(224),i(304),i(302)},function(t,e,i){"use strict";i(202),i(300),i(311),i(2).extendComponentView({type:"polar"})},function(t,e,i){i(345),i(346),i(310)},function(t,e,i){var n=i(49),o=i(1),a=i(3),r=["axisLine","axisLabel","axisTick","axisName"];t.exports=i(2).extendComponentView({type:"radar",render:function(t,e,i){var n=this.group;n.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),a=o.map(i,function(t){var i=new n(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i});o.each(a,function(t){o.each(r,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=t.get("splitNumber"),r=i.getIndicatorAxes();if(r.length){var s=t.get("shape"),l=t.getModel("splitLine"),h=t.getModel("splitArea"),u=l.getModel("lineStyle"),c=h.getModel("areaStyle"),d=l.get("show"),f=h.get("show"),p=u.get("color"),g=c.get("color");p=o.isArray(p)?p:[p],g=o.isArray(g)?g:[g];var m=[],v=[];if("circle"===s)for(var y=r[0].getTicksCoords(),x=i.cx,_=i.cy,b=0;b<y.length;b++){if(d){var w=e(m,p,b);m[w].push(new a.Circle({shape:{cx:x,cy:_,r:y[b]}}))}if(f&&b<y.length-1){var w=e(v,g,b);v[w].push(new a.Ring({shape:{cx:x,cy:_,r0:y[b],r:y[b+1]}}))}}else for(var S=o.map(r,function(t,e){var n=t.getTicksCoords();return o.map(n,function(t){return i.coordToPoint(t,e)})}),M=[],b=0;n>=b;b++){for(var A=[],I=0;I<r.length;I++)A.push(S[I][b]);if(A.push(A[0].slice()),d){var w=e(m,p,b);m[w].push(new a.Polyline({shape:{points:A}}))}if(f&&M){var w=e(v,g,b-1);v[w].push(new a.Polygon({shape:{points:A.concat(M)}}))}M=A.slice().reverse()}var T=u.getLineStyle(),L=c.getAreaStyle();o.each(v,function(t,e){this.group.add(a.mergePath(t,{style:o.defaults({stroke:"none",fill:g[e%g.length]},L),silent:!0}))},this),o.each(m,function(t,e){this.group.add(a.mergePath(t,{style:o.defaults({fill:"none",stroke:p[e%p.length]},T),silent:!0}))},this)}}})},function(t,e,i){i(202),i(303)},function(t,e,i){var n=i(2);n.registerPreprocessor(i(318)),i(320),i(319),i(313),i(314)},function(t,e,i){var n=i(316),o=i(1),a=i(7),r=n.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});o.mixin(r,a.dataFormatMixin),t.exports=r},function(t,e,i){function n(t,e){return h.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function o(t,e,i,n){var o=l.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(n||{}),new p(i[0],i[1],i[2],i[3]),"center");return o}function a(t,e,i,n,o,a){var r=t.get("symbol"),l=e.get("color"),h=t.get("symbolSize"),u=h/2,c=e.getItemStyle(["color","symbol","symbolSize"]);return o?(o.setStyle(c),o.setColor(l),i.add(o),a&&a.onUpdate(o)):(o=d.createSymbol(r,-u,-u,h,h,l),i.add(o),a&&a.onCreate(o)),n=s.merge({rectHover:!0,style:c,z2:100},n,!0),o.attr(n),o}function r(t,e,i,n,o){if(!t.dragging){var a=n.getModel("checkpointStyle"),r=i.dataToCoord(n.getData().get(["value"],e));o||!a.get("animation",!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}var s=i(1),l=i(3),h=i(11),u=i(317),c=i(315),d=i(25),f=i(24),p=i(8),g=i(19),m=i(4),v=i(9),y=v.encodeHTML,x=s.bind,_=s.each,b=Math.PI;t.exports=u.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,i),a=this._createGroup("mainGroup"),r=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return y(s.scale.getLabel(t))},_(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](o,a,s,t)},this),this._renderAxisLabel(o,r,s,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.normal.position"),o=t.get("orient"),a=n(t,e);null==i||"auto"===i?i="horizontal"===o?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][i]);var r={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},s={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:b/2},h="vertical"===o?a.height:a.width,u=t.getModel("controlStyle"),c=u.get("show"),d=c?u.get("itemSize"):0,f=c?u.get("itemGap"):0,p=d+f,g=t.get("label.normal.rotate")||0;g=g*b/180;var m,v,y,x,_=u.get("position",!0),c=u.get("show",!0),w=c&&u.get("showPlayBtn",!0),S=c&&u.get("showPrevBtn",!0),M=c&&u.get("showNextBtn",!0),A=0,I=h;return"left"===_||"bottom"===_?(w&&(m=[0,0],A+=p),S&&(v=[A,0],A+=p),M&&(y=[I-d,0],I-=p)):(w&&(m=[I-d,0],I-=p),S&&(v=[0,0],A+=p),M&&(y=[I-d,0],I-=p)),x=[A,I],t.get("inverse")&&x.reverse(),{viewRect:a,mainLength:h,orient:o,rotation:l[o],labelRotation:g,labelPosOpt:i,labelAlign:r[o],labelBaseline:s[o],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:x,controlSize:d,controlGap:f}},_position:function(t,e){function i(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}var a=this._mainGroup,r=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=g.create(),h=s.x,u=s.y+s.height;g.translate(l,l,[-h,-u]),g.rotate(l,l,-b/2),g.translate(l,l,[h,u]),s=s.clone(),s.applyTransform(l)}var c=n(s),d=n(a.getBoundingRect()),f=n(r.getBoundingRect()),p=a.position,m=r.position;m[0]=p[0]=c[0][0];var v=t.labelPosOpt;if(isNaN(v)){var y="+"===v?0:1;o(p,d,c,1,y),o(m,f,c,1,1-y)}else{var y=v>=0?0:1;o(p,d,c,1,y),m[1]=p[1]+v}a.position=p,r.position=m,a.rotation=r.rotation=t.rotation,i(a),i(r)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),o=f.createScaleByModel(e,n),a=i.getDataExtent("value");o.setExtent(a[0],a[1]),this._customizeScale(o,i),o.niceTicks();var r=new c("value",o,t.axisExtent,n);return r.model=e,r},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return s.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new l.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var o=i.getExtent();n.get("lineStyle.show")&&e.add(new l.Line({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:s.extend({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var o=n.getData(),r=i.scale.getTicks();_(r,function(t,r){var s=i.dataToCoord(t),h=o.getItemModel(r),u=h.getModel("itemStyle.normal"),c=h.getModel("itemStyle.emphasis"),d={position:[s,0],onclick:x(this._changeTimeline,this,r)},f=a(h,u,e,d);l.setHoverStyle(f,c.getItemStyle()),h.get("tooltip")?(f.dataIndex=r,f.dataModel=n):f.dataIndex=f.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){var o=n.getModel("label.normal");if(o.get("show")){var a=n.getData(),r=i.scale.getTicks(),s=f.getFormattedLabels(i,o.get("formatter")),h=i.getLabelInterval();_(r,function(n,o){if(!i.isLabelIgnored(o,h)){var r=a.getItemModel(o),u=r.getModel("label.normal.textStyle"),c=r.getModel("label.emphasis.textStyle"),d=i.dataToCoord(n),f=new l.Text({style:{text:s[o],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:u.getFont(),fill:u.getTextColor()},position:[d,0],rotation:t.labelRotation-t.rotation,onclick:x(this._changeTimeline,this,o),silent:!1});e.add(f),l.setHoverStyle(f,c.getItemStyle())}},this)}},_renderControl:function(t,e,i,n){function a(t,i,a,d){if(t){var f={position:t,origin:[r/2,0],rotation:d?-s:0,rectHover:!0,style:h,onclick:a},p=o(n,i,c,f);e.add(p),l.setHoverStyle(p,u)}}var r=t.controlSize,s=t.rotation,h=n.getModel("controlStyle.normal").getItemStyle(),u=n.getModel("controlStyle.emphasis").getItemStyle(),c=[0,-r/2,r,r],d=n.getPlayState(),f=n.get("inverse",!0);a(t.nextBtnPosition,"controlStyle.nextIcon",x(this._changeTimeline,this,f?"-":"+")),a(t.prevBtnPosition,"controlStyle.prevIcon",x(this._changeTimeline,this,f?"+":"-")),a(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),x(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),s=n.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),h=this,u={onCreate:function(t){t.draggable=!0,t.drift=x(h._handlePointerDrag,h),t.ondragend=x(h._handlePointerDragend,h),r(t,s,i,n,!0)},onUpdate:function(t){r(t,s,i,n)}};this._currentPointer=a(l,l,this._mainGroup,{},this._currentPointer,u)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=m.asc(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var a=this._findNearestTick(i),r=this.model;(e||a!==r.getCurrentIndex()&&r.get("realtime"))&&this._changeTimeline(a)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(x(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return l.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],function(i,a){var r=o.dataToCoord(i),s=Math.abs(r-t);n>s&&(n=s,e=a)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}})},function(t,e,i){var n=i(1),o=i(43),a=i(24),r=function(t,e,i,n){o.call(this,t,e,i),this.type=n||"value",this._autoLabelInterval,this.model=null};r.prototype={constructor:r,getLabelInterval:function(){var t=this.model,e=t.getModel("label.normal"),i=e.get("interval");if(null!=i&&"auto"!=i)return i;var i=this._autoLabelInterval;return i||(i=this._autoLabelInterval=a.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),a.getFormattedLabels(this,e.get("formatter")),e.getModel("textStyle").getFont(),"horizontal"===t.get("orient"))),i},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},n.inherits(r,o),t.exports=r},function(t,e,i){var n=i(10),o=i(15),a=i(1),r=i(7),s=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),0>t&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if("category"===i){var s=[];a.each(e,function(t,e){var i,o=r.getDataItemValue(t);a.isObject(t)?(i=a.clone(t),i.value=e):i=e,s.push(i),a.isString(o)||null!=o&&!isNaN(o)||(o=""),n.push(o+"")}),e=s}var l={category:"ordinal",time:"time"}[i]||"number",h=this._data=new o([{name:"value",type:l}],this);h.initData(e,n)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});t.exports=s},function(t,e,i){var n=i(54);t.exports=n.extend({type:"timeline"})},function(t,e,i){function n(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),o(t),a(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});a(n,"position")||(n.position=t.controlPosition),"none"!==n.position||a(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}r.each(t.data||[],function(t){r.isObject(t)&&!r.isArray(t)&&(!a(t,"value")&&a(t,"name")&&(t.value=t.name),o(t))})}function o(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),s={normal:1,emphasis:1};r.each(n,function(t,e){s[e]||a(o,e)||(o[e]=t)}),i.label&&!a(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function a(t,e){return t.hasOwnProperty(e)}var r=i(1);t.exports=function(t){var e=t&&t.timeline;r.isArray(e)||(e=e?[e]:[]),r.each(e,function(t){t&&n(t)})}},function(t,e,i){var n=i(2);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline")}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)})},function(t,e,i){i(10).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,i){i(326),i(327)},function(t,e,i){var n=i(215),o=i(1),a=i(4),r=[20,140],s=n.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this.resetTargetSeries(t,e),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear"}),this._resetRange()},resetItemSize:function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=r[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=r[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):o.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),o.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=a.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)},!0,this),e.push({seriesId:i.id,dataIndices:n})},this),e}});t.exports=s},function(t,e,i){function n(t,e,i){return new s.Polygon({shape:{points:t},draggable:!!e,cursor:i,drift:e})}function o(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function a(t,e,i){return t?[[0,-m(y,v(e,0))],[x,0],[0,m(y,v(i-e,0))]]:[[0,0],[5,-5],[5,5]]}var r=i(216),s=i(3),l=i(1),h=i(4),u=i(71),c=i(76),d=i(217),f=h.linearMap,p=d.convertDataIndicesToBatch,g=l.each,m=Math.min,v=Math.max,y=6,x=6,_=r.extend({type:"visualMap.continuous",init:function(){r.prototype.init.apply(this,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[]},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid?this._updateView():this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,l=this._shapes.barGroup,h=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],l),u=this._applyTransform(0===i?"bottom":"top",l),c=this._orient,d=this.visualMapModel.textStyleModel;
this.group.add(new s.Text({style:{x:h[0],y:h[1],textVerticalAlign:"horizontal"===c?"middle":u,textAlign:"horizontal"===c?u:"center",text:n,textFont:d.getFont(),fill:d.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,o=e.itemSize,a=this._orient,r=this._useHandle,s=d.getItemAlign(e,this.api,o),h=i.barGroup=this._createBarGroup(s);h.add(i.outOfRange=n()),h.add(i.inRange=n(null,l.bind(this._modifyHandle,this,"all"),r?"move":null));var u=e.textStyleModel.getTextRect(""),c=Math.max(u.width,u.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(h,0,o,c,a,s),this._createHandle(h,1,o,c,a,s)),this._createIndicator(h,o,c,a),t.add(h)},_createHandle:function(t,e,i,a,r){var h=l.bind(this._modifyHandle,this,e),u=n(o(e,a),h,"move");u.position[0]=i[0],t.add(u);var c=this.visualMapModel.textStyleModel,d=new s.Text({draggable:!0,drift:h,style:{x:0,y:0,text:"",textFont:c.getFont(),fill:c.getTextColor()}});this.group.add(d);var f=["horizontal"===r?a/2:1.5*a,"horizontal"===r?0===e?-(1.5*a):1.5*a:0===e?-a/2:a/2],p=this._shapes;p.handleThumbs[e]=u,p.handleLabelPoints[e]=f,p.handleLabels[e]=d},_createIndicator:function(t,e,i,o){var a=n([[0,0]],null,"move");a.position[0]=e[0],a.attr({invisible:!0,silent:!0}),t.add(a);var r=this.visualMapModel.textStyleModel,l=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),fill:r.getTextColor()}});this.group.add(l);var h=["horizontal"===o?i/2:x+3,0],u=this._shapes;u.indicator=a,u.indicatorLabel=l,u.indicatorLabelPoint=h},_modifyHandle:function(t,e,i){if(this._useHandle){var n=this._applyTransform([e,i],this._shapes.barGroup,!0);this._updateInterval(t,n[1]),this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[f(e[0],i,n,!0),f(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds;u(e,n,[0,i.itemSize[1]],"all"===t?"rigid":"push",t);var o=i.getExtent(),a=[0,i.itemSize[1]];this._dataInterval=[f(n[0],a,o,!0),f(n[1],a,o,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,r)},_createBarVisual:function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(i,r);return{barColor:new c(0,0,1,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var i=100,n=[],o=(t[1]-t[0])/i;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var a=1;i>a;a++){var r=t[0]+o*a;if(r>t[1])break;n.push({color:this.getControllerVisual(r,"color",e),offset:a/i})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels;g([0,1],function(r){var l=o[r];l.setStyle("fill",e.handlesColor[r]),l.position[1]=t[r];var h=s.applyTransform(i.handleLabelPoints[r],s.getTransform(l,this.group));a[r].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(t,e){var i=this.visualMapModel,n=i.getExtent(),o=i.itemSize,r=[0,o[1]],l=f(t,n,r,!0),h=this._shapes,u=h.indicator;if(u){u.position[1]=l,u.attr("invisible",!1),u.setShape("points",a(e,l,o[1]));var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",c);u.setStyle("fill",d);var p=s.applyTransform(h.indicatorLabelPoint,s.getTransform(u,this.group)),g=h.indicatorLabel;g.attr("invisible",!1);var m=this._applyTransform("left",h.barGroup),v=this._orient;g.setStyle({text:(e?"":"")+i.formatValueText(t),textVerticalAlign:"horizontal"===v?m:"middle",textAlign:"horizontal"===v?"center":m,x:p[0],y:p[1]})}},_enableHoverLinkToSeries:function(){function t(t){var e=this.visualMapModel,i=e.itemSize;if(e.option.hoverLink){var n=this._applyTransform([t.offsetX,t.offsetY],this._shapes.barGroup,!0,!0),o=[n[1]-y/2,n[1]+y/2],a=[0,i[1]],r=e.getExtent(),s=[f(o[0],a,r,!0),f(o[1],a,r,!0)];0<=n[0]&&n[0]<=i[0]&&this._showIndicator((s[0]+s[1])/2,!0);var l=p(this._hoverLinkDataIndices);this._hoverLinkDataIndices=e.findTargetDataIndices(s);var h=p(this._hoverLinkDataIndices),u=d.removeDuplicateBatch(l,h);this.api.dispatchAction({type:"downplay",batch:u[0]}),this.api.dispatchAction({type:"highlight",batch:u[1]})}}this._shapes.barGroup.on("mousemove",l.bind(t,this)).on("mouseout",l.bind(this._clearHoverLinkToSeries,this))},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target;if(e&&null!=e.dataIndex){var i=e.dataModel||this.ecModel.getSeriesByIndex(e.seriesIndex),n=i.getData(e.dataType),o=n.getDimension(this.visualMapModel.getDataDimension(n)),a=n.get(o,e.dataIndex,!0);this._showIndicator(a)}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this.api.dispatchAction({type:"downplay",batch:p(t)}),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,n){var o=s.getTransform(e,n?null:this.group);return s[l.isArray(t)?"applyTransform":"transformDirection"](t,o,i)},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});t.exports=_},function(t,e,i){function n(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}var o=i(215),a=i(1),r=i(73),s=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this._pieceList=[],this.resetTargetSeries(t,e),this.resetExtent();var i=this._mode=this._decideMode();l[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=a.clone(n)):(t.mappingMethod="piecewise",t.pieceList=a.map(this._pieceList,function(t){var t=a.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,a.each(n,function(t,e){var i=this.getSelectedMapKey(t);i in o||(o[i]=!0)},this),"single"===i.selectedMode){var r=!1;a.each(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(r?o[i]=!1:r=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=a.clone(t)},getValueState:function(t){var e=r.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){var o=r.findPieceIndex(e,this._pieceList);o===t&&n.push(i)},!0,this),e.push({seriesId:i.id,dataIndices:n})},this),e}}),l={splitNumber:function(){var t=this.option,e=t.precision,i=this.getExtent(),n=t.splitNumber;n=Math.max(parseInt(n,10),1),t.splitNumber=n;for(var o=(i[1]-i[0])/n;+o.toFixed(e)!==o&&5>e;)e++;t.precision=e,o=+o.toFixed(e);for(var a=0,r=i[0];n>a;a++,r+=o){var s=a===n-1?i[1]:r+o;this._pieceList.push({text:this.formatValueText([r,s]),index:a,interval:[r,s]})}},categories:function(){var t=this.option;a.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),n(t,this._pieceList)},pieces:function(){var t=this.option;a.each(t.pieces,function(t,e){a.isObject(t)||(t={value:t});var i,n={text:"",index:e};if(null!=t.label&&(n.text=t.label,i=!0),t.hasOwnProperty("value"))n.value=t.value,i||(n.text=this.formatValueText(n.value));else{var o=t.min,s=t.max;null==o&&(o=-(1/0)),null==s&&(s=1/0),o===s&&(n.value=o),n.interval=[o,s],i||(n.text=this.formatValueText([o,s]))}n.visual=r.retrieveVisuals(t),this._pieceList.push(n)},this),n(t,this._pieceList)}};t.exports=s},function(t,e,i){var n=i(216),o=i(1),a=i(3),r=i(25),s=i(11),l=i(217),h=n.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var i=t.piece,r=new a.Group;r.onclick=o.bind(this._onItemClick,this,i),this._enableHoverLink(r,t.indexInModelPieceList);var s=this._getRepresentValue(i);if(this._createItemSymbol(r,s,[0,0,c[0],c[1]]),f){var d=this.visualMapModel.getValueState(s);r.add(new a.Text({style:{x:"right"===u?-n:c[0]+n,y:c[1]/2,text:i.text,textVerticalAlign:"middle",textAlign:u,textFont:l,fill:h,opacity:"outOfRange"===d?.5:1}}))}e.add(r)}var e=this.group;e.removeAll();var i=this.visualMapModel,n=i.get("textGap"),r=i.textStyleModel,l=r.getFont(),h=r.getTextColor(),u=this._getItemAlign(),c=i.itemSize,d=this._getViewData(),f=!d.endsText,p=!f;p&&this._renderEndsText(e,d.endsText[0],c),o.each(d.viewPieceList,t,this),p&&this._renderEndsText(e,d.endsText[1],c),s.box(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:l.convertDataIndicesToBatch(i.findTargetDataIndices(e))})}t.on("mouseover",o.bind(i,this,"highlight")).on("mouseout",o.bind(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i){if(e){var n=new a.Group,o=this.visualMapModel.textStyleModel;n.add(new a.Text({style:{x:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:"center",text:e,textFont:o.getFont(),fill:o.getTextColor()}})),t.add(n)}},_getViewData:function(){var t=this.visualMapModel,e=o.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get("text"),n=t.get("orient"),a=t.get("inverse");return("horizontal"===n?a:!a)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_getRepresentValue:function(t){var e;if(this.visualMapModel.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=(i[0]+i[1])/2}return e},_createItemSymbol:function(t,e,i){t.add(r.createSymbol(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=o.clone(i.selected),a=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[a]=!0,o.each(n,function(t,e){n[e]=e===a})):n[a]=!n[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});t.exports=h},function(t,e,i){i(2).registerPreprocessor(i(218)),i(219),i(220),i(322),i(323),i(221)},function(t,e,i){i(2).registerPreprocessor(i(218)),i(219),i(220),i(324),i(325),i(221)},function(t,e,i){function n(t,e,i,n,o){s.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(i,n,o)}var o=i(333),a=i(1),r=i(8),s=i(222),l=[i(331),i(332),i(330)];n.prototype={constructor:n,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,i){try{this.regions=t?o(t):[]}catch(n){throw"Invalid geoJson format\n"+n}e=e||{},i=i||{};for(var r=this.regions,s={},h=0;h<r.length;h++){var u=r[h].name;u=i[u]||u,r[h].name=u,s[u]=r[h],this.addGeoCoord(u,r[h].center);var c=e[u];c&&r[h].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=s,this._rect=null,a.each(l,function(t){t(this)},this)},transformTo:function(t,e,i,n){var o=this.getBoundingRect();o=o.clone(),o.y=-o.y-o.height;var a=this._viewTransform;a.transform=o.calculateTransform(new r(t,e,i,n)),a.decomposeTransform();var s=a.scale;s[1]=-s[1],a.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getGeoCoord:function(t){return this._nameCoordMap[t]},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n)}return this._rect=t||new r(0,0,0,0)},dataToPoints:function(t){var e=[];return t.mapArray(["lng","lat"],function(t,i){return e[0]=t,e[1]=i,this.dataToPoint(e)},this)},dataToPoint:function(t){return"string"==typeof t&&(t=this.getGeoCoord(t)),t?s.prototype.dataToPoint.call(this,t):void 0}},a.mixin(n,s),t.exports=n},function(t,e,i){"use strict";var n=i(7),o=i(10),a=i(12),r=i(1),s=i(61),l=i(162),h=o.extend({type:"geo",coordinateSystem:null,init:function(t){o.prototype.init.apply(this,arguments),n.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map),this._optionModelMap=r.reduce(t.regions||[],function(t,i){return i.name&&(t[i.name]=new a(i,e)),t},{}),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap[t]},getFormattedLabel:function(t,e){var i=this.get("label."+e+".formatter"),n={name:t};return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?i.replace("{a}",n.seriesName):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});r.mixin(h,s),t.exports=h},function(t,e,i){var n=i(1),o={Russia:[100,60],"United States of America":[-99,38]};t.exports=function(t){n.each(t.regions,function(t){var e=o[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})}},function(t,e,i){for(var n=i(223),o=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],r=0;r<a.length;r++)for(var s=0;s<a[r].length;s++)a[r][s][0]/=10.5,a[r][s][1]/=-14,a[r][s][0]+=o[0],a[r][s][1]+=o[1];t.exports=function(t){"china"===t.map&&t.regions.push(new n("",a,o))}},function(t,e,i){var n=i(1),o={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=function(t){n.each(t.regions,function(t){var e=o[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})}},function(t,e,i){function n(t){if(!t.UTF8Encoding)return t;for(var e=t.features,i=0;i<e.length;i++)for(var n=e[i],a=n.geometry,r=a.coordinates,s=a.encodeOffsets,l=0;l<r.length;l++){var h=r[l];if("Polygon"===a.type)r[l]=o(h,s[l]);else if("MultiPolygon"===a.type)for(var u=0;u<h.length;u++){var c=h[u];h[u]=o(c,s[l][u])}}return t.UTF8Encoding=!1,t}function o(t,e){for(var i=[],n=e[0],o=e[1],a=0;a<t.length;a+=2){var r=t.charCodeAt(a)-64,s=t.charCodeAt(a+1)-64;r=r>>1^-(1&r),s=s>>1^-(1&s),r+=n,s+=o,n=r,o=s,i.push([r/1024,s/1024])}return i}function a(t){for(var e=[],i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)e.push(t[i][n]);return e}var r=i(1),s=i(223);t.exports=function(t){return n(t),r.map(r.filter(t.features,function(t){return t.geometry&&t.properties}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates;return"MultiPolygon"===i.type&&(n=a(n)),new s(e.name,n,e.cp)})}},function(t,e,i){function n(t,e){return e.type||(e.data?"category":"value")}var o=i(10),a=i(1),r=i(30),s=i(62),l=i(4),h=o.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=a.clone(t);if(e)for(var i=e.length-1;i>=0;i--)l.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;n>i;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}}),u={type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10};a.merge(h.prototype,i(50)),s("parallel",h,n,u),t.exports=h},function(t,e,i){function n(t,e,i){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}var o=i(11),a=i(24),r=i(1),s=i(336),l=i(19),h=i(5),u=r.each,c=Math.PI;n.prototype={type:"parallel",constructor:n,_init:function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;u(n,function(t,i){var n=o[i],r=e.getComponent("parallelAxis",n),l=this._axesMap[t]=new s(t,a.createScaleByModel(r),[0,0],r.get("type"),n),h="category"===l.type;l.onBand=h&&r.get("boundaryGap"),l.inverse=r.get("inverse"),r.axis=l,l.model=r},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();u(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtent(n.getDataExtent(t)),a.niceScaleExtent(e,e.model)},this)}},this)},resize:function(t,e){this._rect=o.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes(t)},getRect:function(){return this._rect},_layoutAxes:function(t){var e=this._rect,i=t.get("layout"),n=this._axesMap,o=this.dimensions,a=[e.width,e.height],r="horizontal"===i?0:1,s=a[r],h=a[1-r],d=[0,h];u(n,function(t){var e=t.inverse?1:0;t.setExtent(d[e],d[1-e])}),u(o,function(t,n){var a=s*n/(o.length-1),r={horizontal:{x:a,y:h},vertical:{x:0,y:a}},u={horizontal:c/2,vertical:0},d=[r[i].x+e.x,r[i].y+e.y],f=u[i],p=l.create();l.rotate(p,p,f),l.translate(p,p,d),this._axesLayout[t]={position:d,rotation:f,transform:p,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap[t]},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var n=this.dimensions,o=this._axesMap,a=!1,r=0,s=n.length;s>r;r++)"normal"!==o[n[r]].model.getActiveState()&&(a=!0);for(var l=0,h=t.count();h>l;l++){var u,c=t.getValues(n,l);if(a){u="active";for(var r=0,s=n.length;s>r;r++){var d=n[r],f=o[d].model.getActiveState(c[r],r);if("inactive"===f){u="inactive";break}}}else u="normal";e.call(i,u,l)}},axisCoordToPoint:function(t,e){var i=this._axesLayout[e],n=[t,0];return h.applyTransform(n,n,i.transform),n},getAxisLayout:function(t){return r.clone(this._axesLayout[t])}},t.exports=n},function(t,e,i){var n=i(1),o=i(43),a=function(t,e,i,n,a){o.call(this,t,e,i),this.type=n||"value",this.axisIndex=a};a.prototype={constructor:a,model:null},n.inherits(a,o),t.exports=a},function(t,e,i){var n=i(1),o=i(10);i(334),o.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){o.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&n.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex});n.each(i,function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)})}})},function(t,e,i){function n(t){if(!t.parallel){var e=!1;a.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function o(t){var e=r.normalizeToArray(t.parallelAxis);a.each(e,function(e){if(a.isObject(e)){var i=e.parallelIndex||0,n=r.normalizeToArray(t.parallel)[i];n&&n.parallelAxisDefault&&a.merge(e,n.parallelAxisDefault,!1)}})}var a=i(1),r=i(7);t.exports=function(t){n(t),o(t)}},function(t,e,i){"use strict";function n(t,e){e=e||[0,360],a.call(this,"angle",t,e),this.type="category"}var o=i(1),a=i(43);n.prototype={constructor:n,dataToAngle:a.prototype.dataToCoord,angleToData:a.prototype.coordToData},o.inherits(n,a),t.exports=n},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var o=i(1),a=i(10),r=i(62),s=a.extend({type:"polarAxis",axis:null});o.merge(s.prototype,i(50));var l={angle:{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{polarIndex:0,splitNumber:5}};r("angle",s,n,l.angle),r("radius",s,n,l.radius)},function(t,e,i){"use strict";var n=i(343),o=i(339),a=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new n,this._angleAxis=new o};a.prototype={constructor:a,type:"polar",dimensions:["radius","angle"],containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e])},this)},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);n.inverse?a=r-360:r=a+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,h=a>l?1:-1;a>l||l>r;)l+=360*h;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI,n=Math.cos(i)*e+this.cx,o=-Math.sin(i)*e+this.cy;return[n,o]}},t.exports=a},function(t,e,i){"use strict";i(340),i(2).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e,i=this.ecModel;return i.eachComponent(t,function(t){i.getComponent("polar",t.getShallow("polarIndex"))===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(t,e,i){"use strict";function n(t,e){a.call(this,"radius",t,e),this.type="category"}var o=i(1),a=i(43);n.prototype={constructor:n,dataToRadius:a.prototype.dataToCoord,radiusToData:a.prototype.coordToData},o.inherits(n,a),t.exports=n},function(t,e,i){function n(t,e,i){a.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}var o=i(1),a=i(43);o.inherits(n,a),t.exports=n},function(t,e,i){function n(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=o.map(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new a(i,new r);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}var o=i(1),a=i(344),r=i(38),s=i(4),l=i(24);n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e],n=i.angle,o=this.cx+t*Math.cos(n),a=this.cy-t*Math.sin(n);return[o,a]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,a=Math.atan2(-i,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],u=Math.abs(a-h.angle);r>u&&(o=h,s=l,r=u)}return[s,+(o&&o.coodToData(n))]},n.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),a=e.getHeight(),r=Math.min(n,a)/2;this.cx=s.parsePercent(i[0],n),this.cy=s.parsePercent(i[1],a),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),r),o.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},n.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,a=this._model;o.each(n,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===a){var r=e.getData();o.each(n,function(t){t.scale.unionExtent(r.getDataExtent(t.dim))})}},this);var r=a.get("splitNumber");o.each(n,function(t,e){var n=l.getScaleExtent(t,t.model);l.niceScaleExtent(t,t.model);var o=t.model,a=t.scale,h=o.get("min"),u=o.get("max"),c=a.getInterval();if(null!=h&&null!=u)a.setInterval((u-h)/r);else if(null!=h){var d;do d=h+c*r,a.setExtent(+h,d),a.setInterval(c),c=i(c);while(d<n[1]&&isFinite(d)&&isFinite(n[1]))}else if(null!=u){var f;do f=u-c*r,a.setExtent(f,+u),a.setInterval(c),c=i(c);while(f>n[0]&&isFinite(f)&&isFinite(n[0]))}else{var p=a.getTicks().length-1;p>r&&(c=i(c));var g=Math.round((n[0]+n[1])/2/c)*c,m=Math.round(r/2);a.setExtent(s.round(g-m*c),s.round(g+(r-m)*c)),a.setInterval(c)}})},n.dimensions=[],n.create=function(t,e){var i=[];return t.eachComponent("radar",function(o){var a=new n(o,t,e);i.push(a),o.coordinateSystem=a}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},i(23).register("radar",n),t.exports=n},function(t,e,i){function n(t,e){return s.defaults({show:e},t)}var o=i(72),a=o.valueAxis,r=i(12),s=i(1),l=i(50),h=i(2).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),h=this.get("name.textStyle"),u=this.get("name.show"),c=this.get("name.formatter"),d=this.get("nameGap"),f=s.map(this.get("indicator")||[],function(f){return null!=f.max&&f.max>0?f.min=0:null!=f.min&&f.min<0&&(f.max=0),f=s.merge(s.clone(f),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:o,axisLabel:a,name:f.text,nameLocation:"end",nameGap:d,nameTextStyle:h},!1),u||(f.name=""),"string"==typeof c?f.name=c.replace("{value}",f.name):"function"==typeof c&&(f.name=c(f.name,f)),s.extend(new r(f,null,this.ecModel),l)},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:s.merge({lineStyle:{color:"#bbb"}},a.axisLine),axisLabel:n(a.axisLabel,!1),axisTick:n(a.axisTick,!1),splitLine:n(a.splitLine,!0),splitArea:n(a.splitArea,!0),indicator:[]}});t.exports=h},function(t,e,i){"use strict";function n(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function o(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}var a=i(1),r=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=r.prototype;s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){t=t||""+e;var i=this._nodesMap;if(!i[t]){var o=new n(t,e);return o.hostGraph=this,this.nodes.push(o),i[t]=o,o}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[t]},s.addEdge=function(t,e,i){var a=this._nodesMap,r=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof n||(t=a[t]),e instanceof n||(e=a[e]),t&&e){var s=t.id+"-"+e.id;if(!r[s]){var l=new o(t,e,i);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),r[s]=l,l}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){t instanceof n&&(t=t.id),e instanceof n&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},s.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;n>o;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},s.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;n>o;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},s.breadthFirstTraverse=function(t,e,i,o){if(e instanceof n||(e=this._nodesMap[e]),e){for(var a="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(o,e,null))for(var s=[e];s.length;)for(var l=s.shift(),h=l[a],r=0;r<h.length;r++){var u=h[r],c=u.node1===l?u.node2:u.node1;if(!c.__visited){if(t.call(c,c,l))return;s.push(c),c.__visited=!0}}}},s.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,a=i.length;a>o;o++)i[o].dataIndex=-1;for(var o=0,a=t.count();a>o;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var o=0,a=n.length;a>o;o++)n[o].dataIndex=-1;for(var o=0,a=e.count();a>o;o++)n[e.getRawIndex(o)].dataIndex=o},s.clone=function(){for(var t=new r(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex);
}return t},n.prototype={constructor:n,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.data.getItemModel(this.dataIndex);return i.getModel(t)}}},o.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.edgeData.getItemModel(this.dataIndex);return i.getModel(t)}};var l=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};a.mixin(n,l("hostGraph","data")),a.mixin(o,l("hostGraph","edgeData")),r.Node=n,r.Edge=o,t.exports=r},function(t,e,i){function n(t,e){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=a.map(e||[],function(e){return new r(e,t,t.ecModel)})}function o(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e)}var a=i(1),r=i(12),s=i(15),l=i(225),h=i(31),u=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};u.prototype={constructor:u,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},a.isString(t)&&(t={order:t});var n,o=t.order||"preorder",r=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var s=0;!n&&s<r.length;s++)r[s].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;n>e;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;n>e;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree,i=e.data.getItemModel(this.dataIndex),n=this.getLevelModel();return i.getModel(t,(n||e.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},n.prototype={constructor:n,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;n>i;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();n>i;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},n.createTree=function(t,e,i){function a(t,e){c.push(t);var i=new u(t.name,r);e?o(i,e):r.root=i,r._nodes.push(i);var n=t.children;if(n)for(var s=0;s<n.length;s++)a(n[s],i)}var r=new n(e,i),c=[];a(t),r.root.updateDepthAndHeight(0);var d=h([{name:"value"}],c),f=new s(d,e);return f.initData(c),l({mainData:f,struct:r,structAttr:"tree"}),r.update(),r},t.exports=n},function(t,e,i){function n(){var t,e=[],i={};return{add:function(t,n,a,r,s){return o.isString(r)&&(s=r,r=0),i[t.id]?!1:(i[t.id]=1,e.push({el:t,target:n,time:a,delay:r,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function n(){o--,o||(e.length=0,i={},t&&t())}for(var o=e.length,a=0,r=e.length;r>a;a++){var s=e[a];s.el.animateTo(s.target,s.time,s.delay,s.easing,n)}return this}}}var o=i(1);t.exports={createWrap:n}},function(t,e,i){function n(){function t(e,n){if(n>=i.length)return e;for(var a=-1,r=e.length,s=i[n++],l={},h={};++a<r;){var u=s(e[a]),c=h[u];c?c.push(e[a]):h[u]=[e[a]]}return o.each(h,function(e,i){l[i]=t(e,n)}),l}function e(t,a){if(a>=i.length)return t;var r=[],s=n[a++];return o.each(t,function(t,i){r.push({key:i,values:e(t,a)})}),s?r.sort(function(t,e){return s(t.key,e.key)}):r}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}var o=i(1);t.exports=n},function(t,e,i){var n=i(1),o={get:function(t,e,i){var o=n.clone((a[t]||{})[e]);return i&&n.isArray(o)?o[o.length-1]:o}},a={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=o},function(t,e,i){function n(t,e){return Math.abs(t-e)<r}function o(t,e,i){var o=0,r=t[0];if(!r)return!1;for(var s=1;s<t.length;s++){var l=t[s];o+=a(r[0],r[1],l[0],l[1],e,i),r=l}var h=t[0];return n(r[0],h[0])&&n(r[1],h[1])||(o+=a(r[0],r[1],h[0],h[1],e,i)),0!==o}var a=i(75),r=1e-8;t.exports={contain:o}}])});
/*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout(function(){m(b,a,c,d)},4),n},n.config=function(a){return n(a)},a._defined=q,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){var e=b[d];"function"==typeof e&&"constructor"!==d&&c.push(d)}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){var a=Array.prototype.unshift;return a.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;d>c;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;a>c;c++){var d=Math.floor(36*Math.random());b+=d.toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return e!==f||"hidden"!==f&&"visible"!==f?"scroll"===e||"scroll"===f?!0:d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth:!1},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)},c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()}),e=b.$results.find(".select2-results__option[aria-selected]");e.each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";a(h);this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):0>h-g&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{})):void d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),2>=c?this.$results.scrollTop(0):(g>this.$results.outerHeight()||0>g)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a,b){var d=this,e=(a.id+"-container",a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2"),e=a(".select2.select2-container--open");e.each(function(){var b=a(this);if(this!=d[0]){var c=b.data("element");c.select2("close")}})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},d.prototype.selectionContainer=function(){var b=a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return b},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id,d=b.length>1;if(d||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||(c.which==b.DELETE||c.which==b.BACKSPACE)&&this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&11>=f;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){return g?void e.$selection.off("input.search input.searchcheck"):void e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)return void e.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{var b=this.$search.val().length+1;a=.75*b+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){var a={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return a}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),d+=null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4)},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");
if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this,f=this.$element.children();f.each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(b=c.data(a[0],"data"),null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){var c=this.options.get("matcher");return c(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0),k=i.text===b.term;if(k||j)return f?!1:(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions([m]),e.insertTag(g,l)}a.results=g,c(a)}var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){var c=(this._lastTag,this.$element.find("option[data-select2-tag]"));c.each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b),d=g.$element.find("option").filter(function(){return a(this).val()===c.id});if(!d.length){var e=g.option(c);e.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([e])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return d.maximumSelectionLength>0&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()&&e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){var b=e.showSearch(a);b?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1),d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1);c+50>=d&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id,h=this.$container.parents().filter(b.hasScroll);h.off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return a(c.data.results)<this.minimumResultsForSearch?!1:b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){var b=a.minimum-a.input.length,c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){var h=e.children[g],i=c(d,h);null==i&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return 0>=e?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;i>h;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null;
},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("select2/compat/utils",["jquery"],function(a){function b(b,c,d){var e,f,g=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&g.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(f=d(this),null!=f&&g.push(f))})),b.attr("class",g.join(" "))}return{syncCssClasses:b}}),b.define("select2/compat/containerCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("containerCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptContainerCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("containerCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}return d.prototype.render=function(d){var e=d.call(this),f=this.options.get("dropdownCssClass")||"";a.isFunction(f)&&(f=f(this.$element));var g=this.options.get("adaptDropdownCssClass");if(g=g||c,-1!==f.indexOf(":all:")){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);return null!=b?b+" "+a:a}}var i=this.options.get("dropdownCss")||{};return a.isFunction(i)&&(i=i(this.$element)),b.syncCssClasses(e,this.$element,g),e.css(i),e.addClass(f),e},d}),b.define("select2/compat/initSelection",["jquery"],function(a){function b(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=c.get("initSelection"),this._isInitialized=!1,a.call(this,b,c)}return b.prototype.current=function(b,c){var d=this;return this._isInitialized?void b.call(this,c):void this.initSelection.call(null,this.$element,function(b){d._isInitialized=!0,a.isArray(b)||(b=[b]),c(b)})},b}),b.define("select2/compat/inputData",["jquery"],function(a){function b(a,b,c){this._currentData=[],this._valueSeparator=c.get("valueSeparator")||",","hidden"===b.prop("type")&&c.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),a.call(this,b,c)}return b.prototype.current=function(b,c){function d(b,c){var e=[];return b.selected||-1!==a.inArray(b.id,c)?(b.selected=!0,e.push(b)):b.selected=!1,b.children&&e.push.apply(e,d(b.children,c)),e}for(var e=[],f=0;f<this._currentData.length;f++){var g=this._currentData[f];e.push.apply(e,d(g,this.$element.val().split(this._valueSeparator)))}c(e)},b.prototype.select=function(b,c){if(this.options.get("multiple")){var d=this.$element.val();d+=this._valueSeparator+c.id,this.$element.val(d),this.$element.trigger("change")}else this.current(function(b){a.map(b,function(a){a.selected=!1})}),this.$element.val(c.id),this.$element.trigger("change")},b.prototype.unselect=function(a,b){var c=this;b.selected=!1,this.current(function(a){for(var d=[],e=0;e<a.length;e++){var f=a[e];b.id!=f.id&&d.push(f.id)}c.$element.val(d.join(c._valueSeparator)),c.$element.trigger("change")})},b.prototype.query=function(a,b,c){for(var d=[],e=0;e<this._currentData.length;e++){var f=this._currentData[e],g=this.matches(b,f);null!==g&&d.push(g)}c({results:d})},b.prototype.addOptions=function(b,c){var d=a.map(c,function(b){return a.data(b[0],"data")});this._currentData.push.apply(this._currentData,d)},b}),b.define("select2/compat/matcher",["jquery"],function(a){function b(b){function c(c,d){var e=a.extend(!0,{},d);if(null==c.term||""===a.trim(c.term))return e;if(d.children){for(var f=d.children.length-1;f>=0;f--){var g=d.children[f],h=b(c.term,g.text,g);h||e.children.splice(f,1)}if(e.children.length>0)return e}return b(c.term,d.text,d)?e:null}return c}return b}),b.define("select2/compat/query",[],function(){function a(a,b,c){c.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),a.call(this,b,c)}return a.prototype.query=function(a,b,c){b.callback=c;var d=this.options.get("query");d.call(null,b)},a}),b.define("select2/dropdown/attachContainer",[],function(){function a(a,b,c){a.call(this,b,c)}return a.prototype.position=function(a,b,c){var d=c.find(".dropdown-wrapper");d.append(b),b.addClass("select2-dropdown--below"),c.addClass("select2-container--below")},a}),b.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(d.join(" "),function(a){a.stopPropagation()})},a}),b.define("select2/selection/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(d.join(" "),function(a){a.stopPropagation()})},a}),function(c){"function"==typeof b.define&&b.define.amd?b.define("jquery-mousewheel",["jquery"],c):"object"==typeof exports?module.exports=c:c(a)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if(b=b||{},"object"==typeof b)return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c});
/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

/**
 * Resize function without multiple trigger
 * 
 * Usage:
 * $(window).smartresize(function(){  
 *     // code here
 * });
 */
(function($,sr){
    // debouncing function from John Hann
    // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/
    var debounce = function (func, threshold, execAsap) {
      var timeout;

        return function debounced () {
            var obj = this, args = arguments;
            function delayed () {
                if (!execAsap)
                    func.apply(obj, args); 
                timeout = null; 
            }

            if (timeout)
                clearTimeout(timeout);
            else if (execAsap)
                func.apply(obj, args);

            timeout = setTimeout(delayed, threshold || 100); 
        };
    };

    // smartresize 
    jQuery.fn[sr] = function(fn){  return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };

})(jQuery,'smartresize');
/**
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

// Validator.js
	  // initialize the validator function
      validator.message.date = 'not a real date';

      // validate a field on "blur" event, a 'select' on 'change' event & a '.reuired' classed multifield on 'keyup':
      $('form')
        .on('blur', 'input[required], input.optional, select.required', validator.checkField)
        .on('change', 'select.required', validator.checkField)
        .on('keypress', 'input[required][pattern]', validator.keypress);
        //~ .on('keypress', 'input[required][pattern]', function(){console.log('press')});

      $('.multi.required').on('keyup blur', 'input', function() {
        validator.checkField.apply($(this).siblings().last()[0]);
      });

      $('form').submit(function(e) {
        e.preventDefault();
        var submit = true;

        // evaluate the form using generic validaing
        if (!validator.checkAll($(this))) {
          submit = false;
        }

        if (submit)
          this.submit();

        return false;
		});
// /Validator.js

//PNotify
		var stack_center = {"dir1": "down", "dir2": "right", "firstpos1": 25, "firstpos2": ($(window).width() / 2) - (Number(PNotify.prototype.options.width.replace(/\D/g, '')) / 2)};
				$(window).resize(function(){
					stack_center.firstpos2 = ($(window).width() / 2) - (Number(PNotify.prototype.options.width.replace(/\D/g, '')) / 2);
				});
    PNotify.prototype.options.styling = "bootstrap3";
// /PNotify

// Sidebar
var CURRENT_URL = window.location.href.split('#')[0].split('?')[0],
    $BODY = $('body'),
    $MENU_TOGGLE = $('#menu_toggle'),
    $SIDEBAR_MENU = $('#sidebar-menu'),
    $SIDEBAR_FOOTER = $('.sidebar-footer'),
    $LEFT_COL = $('.left_col'),
    $RIGHT_COL = $('.right_col'),
    $NAV_MENU = $('.nav_menu'),
    $FOOTER = $('footer');


function init_sidebar() {
// TODO: This is some kind of easy fix, maybe we can improve this
var setContentHeight = function () {
	// reset height
	$RIGHT_COL.css('min-height', $(window).height());

	var bodyHeight = $BODY.outerHeight(),
		footerHeight = $BODY.hasClass('footer_fixed') ? -10 : $FOOTER.height(),
		leftColHeight = $LEFT_COL.eq(1).height() + $SIDEBAR_FOOTER.height(),
		contentHeight = bodyHeight < leftColHeight ? leftColHeight : bodyHeight;

	// normalize content
	contentHeight -= $NAV_MENU.height() + footerHeight;

	$RIGHT_COL.css('min-height', contentHeight);
};

  $SIDEBAR_MENU.find('a').on('click', function(ev) {
	  console.log('clicked - sidebar_menu');
        var $li = $(this).parent();

        if ($li.is('.active')) {
            $li.removeClass('active active-sm');
            $('ul:first', $li).slideUp(function() {
                setContentHeight();
            });
        } else {
            // prevent closing menu if we are on child menu
            if (!$li.parent().is('.child_menu')) {
                $SIDEBAR_MENU.find('li').removeClass('active active-sm');
                $SIDEBAR_MENU.find('li ul').slideUp();
            }else
            {
				if ( $BODY.is( ".nav-sm" ) )
				{
					$SIDEBAR_MENU.find( "li" ).removeClass( "active active-sm" );
					$SIDEBAR_MENU.find( "li ul" ).slideUp();
				}
			}
            $li.addClass('active');

            $('ul:first', $li).slideDown(function() {
                setContentHeight();
            });
        }
    });

// toggle small or large menu 
$MENU_TOGGLE.on('click', function() {
		console.log('clicked - menu toggle');
		
		if ($BODY.hasClass('nav-md')) {
			$SIDEBAR_MENU.find('li.active ul').hide();
			$SIDEBAR_MENU.find('li.active').addClass('active-sm').removeClass('active');
		} else {
			$SIDEBAR_MENU.find('li.active-sm ul').show();
			$SIDEBAR_MENU.find('li.active-sm').addClass('active').removeClass('active-sm');
		}

	$BODY.toggleClass('nav-md nav-sm');

	setContentHeight();
});

	// check active menu
	$SIDEBAR_MENU.find('a[href="' + CURRENT_URL + '"]').parent('li').addClass('current-page');

	$SIDEBAR_MENU.find('a').filter(function () {
		return this.href == CURRENT_URL;
	}).parent('li').addClass('current-page').parents('ul').slideDown(function() {
		setContentHeight();
	}).parent().addClass('active');

	// recompute content when resizing
	$(window).smartresize(function(){  
		setContentHeight();
	});

	setContentHeight();

	// fixed sidebar
	if ($.fn.mCustomScrollbar) {
		$('.menu_fixed').mCustomScrollbar({
			autoHideScrollbar: true,
			theme: 'minimal',
			mouseWheel:{ preventDefault: true }
		});
	}
};
// /Sidebar

$(document).ready(function() {
    init_sidebar();
    $('input').iCheck({
        checkboxClass: 'icheckbox_flat-green',
        radioClass: 'iradio_flat-green',
    })
});


// Form serialization

        (function($){
            $.fn.serializeObject = function(){
				console.log('serialization')
                var self = this,
                    json = {},
                    push_counters = {},
                    patterns = {
						  "validate": /^[a-z][a-z0-9_-]*(?:\[(?:\d*|[a-z0-9_-]+)\])*$/i,
						  "key":      /[a-z0-9_-]+|(?=\[\])/gi,
						  "named":    /^[a-z0-9_-]+$/i,				
                        //~ "validate": /^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,
                        //~ "key":      /[a-zA-Z0-9_]+|(?=\[\])/g,
                        "push":     /^$/,
                        "fixed":    /^\d+$/,
                        //~ "named":    /^[a-zA-Z0-9_]+$/
                    };


                this.build = function(base, key, value){
                    base[key] = value;
                    return base;
                };

                this.push_counter = function(key){
                    if(push_counters[key] === undefined){
                        push_counters[key] = 0;
                    }
                    return push_counters[key]++;
                };

                $.each($(this).serializeArray(), function(){

                    // skip invalid keys
                    if(!patterns.validate.test(this.name)){
                        return;
                    }

                    var k,
                        keys = this.name.match(patterns.key),
                        merge = this.value,
                        reverse_key = this.name;

                    while((k = keys.pop()) !== undefined){

                        // adjust reverse_key
                        reverse_key = reverse_key.replace(new RegExp("\\[" + k + "\\]$"), '');

                        // push
                        if(k.match(patterns.push)){
                            merge = self.build([], self.push_counter(reverse_key), merge);
                        }

                        // fixed
                        else if(k.match(patterns.fixed)){
                            merge = self.build([], k, merge);
                        }

                        // named
                        else if(k.match(patterns.named)){
                            merge = self.build({}, k, merge);
                        }
                    }

                    json = $.extend(true, json, merge);
                });

                return json;
            };
        })(jQuery); 


//~ function applyData(table, data, append){
    //~ //Quickly appends new data rows.  Does not update rows
    //~ if(append == true){
        //~ table.rows.add(data);
         
    //~ //Locate and update rows by rowId or add if new
    //~ }else{
        //~ var index;
        //~ for (var x = 0;x < data.length;x++){
            //~ //Find row index by rowId if row exists
            //~ index = table.row('#' + data[x].id);
             
            //~ //Update row data if existing, and invalidate for redraw
            //~ if(index.length > 0){
                //~ table.row(index[0]).data(data[x]).invalidate();
             
            //~ //Add row data if new
            //~ }else{
                //~ table.row.add(data[x]);
            //~ }
        //~ }
    //~ }
 
    //~ //Redraw table maintaining paging
    //~ table.draw(false);
//~ }

function dtUpdateInsertoLD(table, data, append){
    //Quickly appends new data rows.  Does not update rows
    if(append == true){
        table.rows.add(data);
         
    //Locate and update rows by rowId or add if new
    }else{
			//~ console.log('Found: '+table.rows().nodes().indexOf(data.id)+' - '+data.id)
            found=false;
            table.rows().every( function ( rowIdx, tableLoop, rowLoop ) {
                if(this.data().id==data.id){
                    table.row(rowIdx).data(data).invalidate();
                    found=true;
                    return false; //Break
                }
            });
            if(!found){
                table.row.add(data);
                }
    }
 
    //Redraw table maintaining paging
    table.draw(false);
}

function dtUpdateInsert(table, data, append){
    //Quickly appends new data rows.  Does not update rows
    new_id=false
    if(append == true){
        table.rows.add(data);
        new_id=true
    //Locate and update rows by rowId or add if new
    }else{
		if(typeof(table.row('#'+data.id).id())=='undefined'){
			// Does not exists yes
			table.row.add(data);
            new_id=true
		}else{
			// Exists, do update
			table.row('#'+data.id).data(data).invalidate();
		}
    }
 
    //Redraw table maintaining paging
    table.draw(false);
    return new_id
}


// Panel toolbox
$(document).ready(function() {
    $('.collapse-link').on('click', function() {
        var $BOX_PANEL = $(this).closest('.x_panel'),
            $ICON = $(this).find('i'),
            $BOX_CONTENT = $BOX_PANEL.find('.x_content');
        
        // fix for some div with hardcoded fix class
        if ($BOX_PANEL.attr('style')) {
            $BOX_CONTENT.slideToggle(200, function(){
                $BOX_PANEL.removeAttr('style');
            });
        } else {
            $BOX_CONTENT.slideToggle(200); 
            $BOX_PANEL.css('height', 'auto');  
        }

        $ICON.toggleClass('fa-chevron-up fa-chevron-down');
    });

    $('.close-link').click(function () {
        var $BOX_PANEL = $(this).closest('.x_panel');

        $BOX_PANEL.remove();
    });
});


/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

$lost=0;
//~ $maxlost=1;
    function connection_done(){
      //~ $lost=0;
      if($lost){
        location.reload(); 
      }
	  //~ $('#modal-lostconnection').modal('hide');        
    }
    
    function connection_lost(){
        $lost=$lost+1;
        //~ if($lost>=$maxlost){
                $('#modal-lostconnection').modal({
                    backdrop: 'static',
                    keyboard: false
                }).modal('show');
                        return false;
            //~ }
    }

    function drawUserQuota(data){
        $('.quota-desktops .badge').html(data.d);
        $('.quota-desktops .perc').html(data.dqp);
        $('.quota-desktops .have').html(data.d);
        $('.quota-desktops .of').html(data.dq);
        if(data.dqp <= 50){$('.quota-desktops .badge').addClass('bg-green');}
        if(data.dqp > 50 && data.dqp <= 80){$('.quota-desktops .badge').addClass('bg-orange');}
        if(data.dqp > 80){$('.quota-desktops .badge').addClass('bg-red');}
        
        $('.quota-templates .badge').html(data.t);
        $('.quota-templates .perc').html(data.tqp);
        $('.quota-templates .have').html(data.t);
        $('.quota-templates .of').html(data.tq);
        if(data.tqp <= 50){$('.quota-templates .badge').addClass('bg-green');}
        if(data.tqp > 50 && data.tqp <= 80){$('.quota-templates .badge').addClass('bg-orange');}
        if(data.tqp > 80){$('.quota-templates .badge').addClass('bg-red');}
        
        $('.quota-play .badge').html(data.r);
        $('.quota-play .perc').html(data.rqp);
        $('.quota-play .have').html(data.r);
        $('.quota-play .of').html(data.rq);
        if(data.rqp <= 50){$('.quota-play .badge').addClass('bg-green');}
        if(data.rqp > 50 && data.rqp <= 80){$('.quota-play .badge').addClass('bg-orange');}
        if(data.rqp > 80){$('.quota-play .badge').addClass('bg-red');}	

        $('.quota-isos .badge').html(data.i);
        $('.quota-isos .perc').html(data.iqp);
        $('.quota-isos .have').html(data.i);
        $('.quota-isos .of').html(data.iq);
        if(data.iqp <= 50){$('.quota-isos .badge').addClass('bg-green');}
        if(data.iqp > 50 && data.iqp <= 80){$('.quota-isos .badge').addClass('bg-orange');}
        if(data.iqp > 80){$('.quota-isos .badge').addClass('bg-red');}	
    }
    

    // SocketIO
    socket = io.connect(location.protocol+'//' + document.domain + ':' + location.port+'/sio_users');
     
    socket.on('connect', function() {
        connection_done();
        console.log('Listening users namespace for quota');
    });

    socket.on('connect_error', function(data) {
      connection_lost();
    });
    
    socket.on('user_quota', function(data) {
        console.log('Quota update')
        var data = JSON.parse(data);
        drawUserQuota(data);
    });

	//~ function setProfile(id){
			//~ api.ajax('/quota','POST',{'pk':id}).done(function(gen) {
                //~ var wasted=0
                //~ $.each(gen['gen_ids'],function(index,val){
                    //~ $("#table-genealogy-"+id).append('<tr><td>'+index+'</td><td>'+val.name+'</td></tr>');
                //~ });  
                //~ renderDiskDonut(gen['free'],gen['wasted'],gen['free_hs'],gen['wasted_hs']);
            //~ });
            
    //~ }
    
    //~ function renderDiskDonut(free,wasted, freehs, wastedhs){
			  //~ var echartDonut = echarts.init(document.getElementById('disk_donut'), theme);
			  //~ echartDonut.setOption({
				//~ tooltip: {
				  //~ trigger: 'item',
				  //~ formatter: "{a} <br/>{b} : {c} ({d}%)"
				//~ },
				//~ calculable: true,
				//~ legend: {
				  //~ x: 'center',
				  //~ y: 'bottom',
				  //~ data: ['Free','Used']
				//~ },
				//~ toolbox: {
				  //~ show: true,
				  //~ feature: {
					//~ magicType: {
					  //~ show: true,
					  //~ type: ['pie', 'funnel'],
					  //~ option: {
						//~ funnel: {
						  //~ x: '25%',
						  //~ width: '50%',
						  //~ funnelAlign: 'center',
						  //~ max: 1548
						//~ }
					  //~ }
					//~ },
				  //~ }
				//~ },
				//~ series: [{
				  //~ name: 'Hard disk space',
				  //~ type: 'pie',
				  //~ radius: ['35%', '55%'],
				  //~ itemStyle: {
					//~ normal: {
					  //~ label: {
						//~ show: true
					  //~ },
					  //~ labelLine: {
						//~ show: true
					  //~ }
					//~ },
					//~ emphasis: {
					  //~ label: {
						//~ show: true,
						//~ position: 'center',
						//~ textStyle: {
						  //~ fontSize: '14',
						  //~ fontWeight: 'normal'
						//~ }
					  //~ }
					//~ }
				  //~ },
				  //~ data: [{
					//~ value: free,
					//~ name: 'Free: '+freehs
				  //~ }, {
					//~ value: wasted,
					//~ name: 'Used: '+wastedhs
				  //~ }]
				//~ }]
			  //~ });

     
    //~ }


				  //~ var theme = {
				  //~ color: [
					  //~ '#26B99A', '#34495E', '#BDC3C7', '#3498DB',
					  //~ '#9B59B6', '#8abb6f', '#759c6a', '#bfd3b7'
				  //~ ],

				  //~ title: {
					  //~ itemGap: 8,
					  //~ textStyle: {
						  //~ fontWeight: 'normal',
						  //~ color: '#408829'
					  //~ }
				  //~ },

				  //~ dataRange: {
					  //~ color: ['#1f610a', '#97b58d']
				  //~ },

				  //~ toolbox: {
					  //~ color: ['#408829', '#408829', '#408829', '#408829']
				  //~ },

				  //~ tooltip: {
					  //~ backgroundColor: 'rgba(0,0,0,0.5)',
					  //~ axisPointer: {
						  //~ type: 'line',
						  //~ lineStyle: {
							  //~ color: '#408829',
							  //~ type: 'dashed'
						  //~ },
						  //~ crossStyle: {
							  //~ color: '#408829'
						  //~ },
						  //~ shadowStyle: {
							  //~ color: 'rgba(200,200,200,0.3)'
						  //~ }
					  //~ }
				  //~ },

				  //~ dataZoom: {
					  //~ dataBackgroundColor: '#eee',
					  //~ fillerColor: 'rgba(64,136,41,0.2)',
					  //~ handleColor: '#408829'
				  //~ },
				  //~ grid: {
					  //~ borderWidth: 0
				  //~ },

				  //~ categoryAxis: {
					  //~ axisLine: {
						  //~ lineStyle: {
							  //~ color: '#408829'
						  //~ }
					  //~ },
					  //~ splitLine: {
						  //~ lineStyle: {
							  //~ color: ['#eee']
						  //~ }
					  //~ }
				  //~ },

				  //~ valueAxis: {
					  //~ axisLine: {
						  //~ lineStyle: {
							  //~ color: '#408829'
						  //~ }
					  //~ },
					  //~ splitArea: {
						  //~ show: true,
						  //~ areaStyle: {
							  //~ color: ['rgba(250,250,250,0.1)', 'rgba(200,200,200,0.1)']
						  //~ }
					  //~ },
					  //~ splitLine: {
						  //~ lineStyle: {
							  //~ color: ['#eee']
						  //~ }
					  //~ }
				  //~ },
				  //~ timeline: {
					  //~ lineStyle: {
						  //~ color: '#408829'
					  //~ },
					  //~ controlStyle: {
						  //~ normal: {color: '#408829'},
						  //~ emphasis: {color: '#408829'}
					  //~ }
				  //~ },

				  //~ k: {
					  //~ itemStyle: {
						  //~ normal: {
							  //~ color: '#68a54a',
							  //~ color0: '#a9cba2',
							  //~ lineStyle: {
								  //~ width: 1,
								  //~ color: '#408829',
								  //~ color0: '#86b379'
							  //~ }
						  //~ }
					  //~ }
				  //~ },
				  //~ map: {
					  //~ itemStyle: {
						  //~ normal: {
							  //~ areaStyle: {
								  //~ color: '#ddd'
							  //~ },
							  //~ label: {
								  //~ textStyle: {
									  //~ color: '#c12e34'
								  //~ }
							  //~ }
						  //~ },
						  //~ emphasis: {
							  //~ areaStyle: {
								  //~ color: '#99d2dd'
							  //~ },
							  //~ label: {
								  //~ textStyle: {
									  //~ color: '#c12e34'
								  //~ }
							  //~ }
						  //~ }
					  //~ }
				  //~ },
				  //~ force: {
					  //~ itemStyle: {
						  //~ normal: {
							  //~ linkStyle: {
								  //~ strokeColor: '#408829'
							  //~ }
						  //~ }
					  //~ }
				  //~ },
				  //~ chord: {
					  //~ padding: 4,
					  //~ itemStyle: {
						  //~ normal: {
							  //~ lineStyle: {
								  //~ width: 1,
								  //~ color: 'rgba(128, 128, 128, 0.5)'
							  //~ },
							  //~ chordStyle: {
								  //~ lineStyle: {
									  //~ width: 1,
									  //~ color: 'rgba(128, 128, 128, 0.5)'
								  //~ }
							  //~ }
						  //~ },
						  //~ emphasis: {
							  //~ lineStyle: {
								  //~ width: 1,
								  //~ color: 'rgba(128, 128, 128, 0.5)'
							  //~ },
							  //~ chordStyle: {
								  //~ lineStyle: {
									  //~ width: 1,
									  //~ color: 'rgba(128, 128, 128, 0.5)'
								  //~ }
							  //~ }
						  //~ }
					  //~ }
				  //~ },
				  //~ gauge: {
					  //~ startAngle: 225,
					  //~ endAngle: -45,
					  //~ axisLine: {
						  //~ show: true,
						  //~ lineStyle: {
							  //~ color: [[0.2, '#86b379'], [0.8, '#68a54a'], [1, '#408829']],
							  //~ width: 8
						  //~ }
					  //~ },
					  //~ axisTick: {
						  //~ splitNumber: 10,
						  //~ length: 12,
						  //~ lineStyle: {
							  //~ color: 'auto'
						  //~ }
					  //~ },
					  //~ axisLabel: {
						  //~ textStyle: {
							  //~ color: 'auto'
						  //~ }
					  //~ },
					  //~ splitLine: {
						  //~ length: 18,
						  //~ lineStyle: {
							  //~ color: 'auto'
						  //~ }
					  //~ },
					  //~ pointer: {
						  //~ length: '90%',
						  //~ color: 'auto'
					  //~ },
					  //~ title: {
						  //~ textStyle: {
							  //~ color: '#333'
						  //~ }
					  //~ },
					  //~ detail: {
						  //~ textStyle: {
							  //~ color: 'auto'
						  //~ }
					  //~ }
				  //~ },
				  //~ textStyle: {
					  //~ fontFamily: 'Arial, Verdana, sans-serif'
				  //~ }
			  //~ };

/*! iCheck v1.0.2 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */
(function(f){function A(a,b,d){var c=a[0],g=/er/.test(d)?_indeterminate:/bl/.test(d)?n:k,e=d==_update?{checked:c[k],disabled:c[n],indeterminate:"true"==a.attr(_indeterminate)||"false"==a.attr(_determinate)}:c[g];if(/^(ch|di|in)/.test(d)&&!e)x(a,g);else if(/^(un|en|de)/.test(d)&&e)q(a,g);else if(d==_update)for(var f in e)e[f]?x(a,f,!0):q(a,f,!0);else if(!b||"toggle"==d){if(!b)a[_callback]("ifClicked");e?c[_type]!==r&&q(a,g):x(a,g)}}function x(a,b,d){var c=a[0],g=a.parent(),e=b==k,u=b==_indeterminate,
v=b==n,s=u?_determinate:e?y:"enabled",F=l(a,s+t(c[_type])),B=l(a,b+t(c[_type]));if(!0!==c[b]){if(!d&&b==k&&c[_type]==r&&c.name){var w=a.closest("form"),p='input[name="'+c.name+'"]',p=w.length?w.find(p):f(p);p.each(function(){this!==c&&f(this).data(m)&&q(f(this),b)})}u?(c[b]=!0,c[k]&&q(a,k,"force")):(d||(c[b]=!0),e&&c[_indeterminate]&&q(a,_indeterminate,!1));D(a,e,b,d)}c[n]&&l(a,_cursor,!0)&&g.find("."+C).css(_cursor,"default");g[_add](B||l(a,b)||"");g.attr("role")&&!u&&g.attr("aria-"+(v?n:k),"true");
g[_remove](F||l(a,s)||"")}function q(a,b,d){var c=a[0],g=a.parent(),e=b==k,f=b==_indeterminate,m=b==n,s=f?_determinate:e?y:"enabled",q=l(a,s+t(c[_type])),r=l(a,b+t(c[_type]));if(!1!==c[b]){if(f||!d||"force"==d)c[b]=!1;D(a,e,s,d)}!c[n]&&l(a,_cursor,!0)&&g.find("."+C).css(_cursor,"pointer");g[_remove](r||l(a,b)||"");g.attr("role")&&!f&&g.attr("aria-"+(m?n:k),"false");g[_add](q||l(a,s)||"")}function E(a,b){if(a.data(m)){a.parent().html(a.attr("style",a.data(m).s||""));if(b)a[_callback](b);a.off(".i").unwrap();
f(_label+'[for="'+a[0].id+'"]').add(a.closest(_label)).off(".i")}}function l(a,b,f){if(a.data(m))return a.data(m).o[b+(f?"":"Class")]}function t(a){return a.charAt(0).toUpperCase()+a.slice(1)}function D(a,b,f,c){if(!c){if(b)a[_callback]("ifToggled");a[_callback]("ifChanged")[_callback]("if"+t(f))}}var m="iCheck",C=m+"-helper",r="radio",k="checked",y="un"+k,n="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";
_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);f.fn[m]=function(a,b){var d='input[type="checkbox"], input[type="'+r+'"]',c=f(),g=function(a){a.each(function(){var a=f(this);c=a.is(d)?c.add(a):c.add(a.find(d))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(a))return a=a.toLowerCase(),g(this),c.each(function(){var c=
f(this);"destroy"==a?E(c,"ifDestroyed"):A(c,!0,a);f.isFunction(b)&&b()});if("object"!=typeof a&&a)return this;var e=f.extend({checkedClass:k,disabledClass:n,indeterminateClass:_indeterminate,labelHover:!0},a),l=e.handle,v=e.hoverClass||"hover",s=e.focusClass||"focus",t=e.activeClass||"active",B=!!e.labelHover,w=e.labelHoverClass||"hover",p=(""+e.increaseArea).replace("%","")|0;if("checkbox"==l||l==r)d='input[type="'+l+'"]';-50>p&&(p=-50);g(this);return c.each(function(){var a=f(this);E(a);var c=this,
b=c.id,g=-p+"%",d=100+2*p+"%",d={position:"absolute",top:g,left:g,display:"block",width:d,height:d,margin:0,padding:0,background:"#fff",border:0,opacity:0},g=_mobile?{position:"absolute",visibility:"hidden"}:p?d:{position:"absolute",opacity:0},l="checkbox"==c[_type]?e.checkboxClass||"icheckbox":e.radioClass||"i"+r,z=f(_label+'[for="'+b+'"]').add(a.closest(_label)),u=!!e.aria,y=m+"-"+Math.random().toString(36).substr(2,6),h='<div class="'+l+'" '+(u?'role="'+c[_type]+'" ':"");u&&z.each(function(){h+=
'aria-labelledby="';this.id?h+=this.id:(this.id=y,h+=y);h+='"'});h=a.wrap(h+"/>")[_callback]("ifCreated").parent().append(e.insert);d=f('<ins class="'+C+'"/>').css(d).appendTo(h);a.data(m,{o:e,s:a.attr("style")}).css(g);e.inheritClass&&h[_add](c.className||"");e.inheritID&&b&&h.attr("id",m+"-"+b);"static"==h.css("position")&&h.css("position","relative");A(a,!0,_update);if(z.length)z.on(_click+".i mouseover.i mouseout.i "+_touch,function(b){var d=b[_type],e=f(this);if(!c[n]){if(d==_click){if(f(b.target).is("a"))return;
A(a,!1,!0)}else B&&(/ut|nd/.test(d)?(h[_remove](v),e[_remove](w)):(h[_add](v),e[_add](w)));if(_mobile)b.stopPropagation();else return!1}});a.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(b){var d=b[_type];b=b.keyCode;if(d==_click)return!1;if("keydown"==d&&32==b)return c[_type]==r&&c[k]||(c[k]?q(a,k):x(a,k)),!1;if("keyup"==d&&c[_type]==r)!c[k]&&x(a,k);else if(/us|ur/.test(d))h["blur"==d?_remove:_add](s)});d.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(b){var d=
b[_type],e=/wn|up/.test(d)?t:v;if(!c[n]){if(d==_click)A(a,!1,!0);else{if(/wn|er|in/.test(d))h[_add](e);else h[_remove](e+" "+t);if(z.length&&B&&e==v)z[/ut|nd/.test(d)?_remove:_add](w)}if(_mobile)b.stopPropagation();else return!1}})})}})(window.jQuery||window.Zepto);

(function(){function require(name){var module=require.modules[name];if(!module)throw new Error('failed to require "'+name+'"');if(!("exports"in module)&&typeof module.definition==="function"){module.client=module.component=true;module.definition.call(this,module.exports={},module);delete module.definition}return module.exports}require.loader="component";require.helper={};require.helper.semVerSort=function(a,b){var aArray=a.version.split(".");var bArray=b.version.split(".");for(var i=0;i<aArray.length;++i){var aInt=parseInt(aArray[i],10);var bInt=parseInt(bArray[i],10);if(aInt===bInt){var aLex=aArray[i].substr((""+aInt).length);var bLex=bArray[i].substr((""+bInt).length);if(aLex===""&&bLex!=="")return 1;if(aLex!==""&&bLex==="")return-1;if(aLex!==""&&bLex!=="")return aLex>bLex?1:-1;continue}else if(aInt>bInt){return 1}else{return-1}}return 0};require.latest=function(name,returnPath){function showError(name){throw new Error('failed to find latest module of "'+name+'"')}var versionRegexp=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;var remoteRegexp=/(.*)~(.*)/;if(!remoteRegexp.test(name))showError(name);var moduleNames=Object.keys(require.modules);var semVerCandidates=[];var otherCandidates=[];for(var i=0;i<moduleNames.length;i++){var moduleName=moduleNames[i];if(new RegExp(name+"@").test(moduleName)){var version=moduleName.substr(name.length+1);var semVerMatch=versionRegexp.exec(moduleName);if(semVerMatch!=null){semVerCandidates.push({version:version,name:moduleName})}else{otherCandidates.push({version:version,name:moduleName})}}}if(semVerCandidates.concat(otherCandidates).length===0){showError(name)}if(semVerCandidates.length>0){var module=semVerCandidates.sort(require.helper.semVerSort).pop().name;if(returnPath===true){return module}return require(module)}var module=otherCandidates.sort(function(a,b){return a.name>b.name})[0].name;if(returnPath===true){return module}return require(module)};require.modules={};require.register=function(name,definition){require.modules[name]={definition:definition}};require.define=function(name,exports){require.modules[name]={exports:exports}};require.register("abpetkov~transitionize@0.0.3",function(exports,module){module.exports=Transitionize;function Transitionize(element,props){if(!(this instanceof Transitionize))return new Transitionize(element,props);this.element=element;this.props=props||{};this.init()}Transitionize.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)};Transitionize.prototype.init=function(){var transitions=[];for(var key in this.props){transitions.push(key+" "+this.props[key])}this.element.style.transition=transitions.join(", ");if(this.isSafari())this.element.style.webkitTransition=transitions.join(", ")}});require.register("ftlabs~fastclick@v0.6.11",function(exports,module){function FastClick(layer){"use strict";var oldOnClick,self=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=layer;if(!layer||!layer.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(self,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(self,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(self,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(self,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(self,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(self,arguments)};if(FastClick.notNeeded(layer)){return}if(this.deviceIsAndroid){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true)}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,callback.hijacked||callback,capture)}else{rmv.call(layer,type,callback,capture)}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event)}}),capture)}else{adv.call(layer,type,callback,capture)}}}if(typeof layer.onclick==="function"){oldOnClick=layer.onclick;layer.addEventListener("click",function(event){oldOnClick(event)},false);layer.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(target){"use strict";switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled){return true}break;case"input":if(this.deviceIsIOS&&target.type==="file"||target.disabled){return true}break;case"label":case"video":return true}return/\bneedsclick\b/.test(target.className)};FastClick.prototype.needsFocus=function(target){"use strict";switch(target.nodeName.toLowerCase()){case"textarea":return true;case"select":return!this.deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}};FastClick.prototype.sendClick=function(targetElement,event){"use strict";var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur()}touch=event.changedTouches[0];clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent)};FastClick.prototype.determineEventType=function(targetElement){"use strict";if(this.deviceIsAndroid&&targetElement.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(targetElement){"use strict";var length;if(this.deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf("date")!==0&&targetElement.type!=="time"){length=targetElement.value.length;targetElement.setSelectionRange(length,length)}else{targetElement.focus()}};FastClick.prototype.updateScrollParent=function(targetElement){"use strict";var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){"use strict";if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode}return eventTarget};FastClick.prototype.onTouchStart=function(event){"use strict";var targetElement,touch,selection;if(event.targetTouches.length>1){return true}targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(this.deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true}if(!this.deviceIsIOS4){if(touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement)}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if(event.timeStamp-this.lastClickTime<200){event.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(event){"use strict";var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true}return false};FastClick.prototype.onTouchMove=function(event){"use strict";if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(labelElement){"use strict";if(labelElement.control!==undefined){return labelElement.control}if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor)}return labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(event){"use strict";var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true}if(event.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent}targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==="label"){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(this.deviceIsAndroid){return false}targetElement=forElement}}else if(this.needsFocus(targetElement)){if(event.timeStamp-trackingClickStart>100||this.deviceIsIOS&&window.top!==window&&targetTagName==="input"){this.targetElement=null;return false}this.focus(targetElement);if(!this.deviceIsIOS4||targetTagName!=="select"){this.targetElement=null;event.preventDefault()}return false}if(this.deviceIsIOS&&!this.deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true}}if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event)}return false};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(event){"use strict";if(!this.targetElement){return true}if(event.forwardedTouchEvent){return true}if(!event.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation()}else{event.propagationStopped=true}event.stopPropagation();event.preventDefault();return false}return true};FastClick.prototype.onClick=function(event){"use strict";var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(event.target.type==="submit"&&event.detail===0){return true}permitted=this.onMouse(event);if(!permitted){this.targetElement=null}return permitted};FastClick.prototype.destroy=function(){"use strict";var layer=this.layer;if(this.deviceIsAndroid){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true)}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(layer){"use strict";var metaViewport;var chromeVersion;if(typeof window.ontouchstart==="undefined"){return true}chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(FastClick.prototype.deviceIsAndroid){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(chromeVersion>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(layer.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(layer){"use strict";return new FastClick(layer)};if(typeof define!=="undefined"&&define.amd){define(function(){"use strict";return FastClick})}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}});require.register("component~indexof@0.0.3",function(exports,module){module.exports=function(arr,obj){if(arr.indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}});require.register("component~classes@1.2.1",function(exports,module){var index=require("component~indexof@0.0.3");var re=/\s+/;var toString=Object.prototype.toString;module.exports=function(el){return new ClassList(el)};function ClassList(el){if(!el)throw new Error("A DOM element reference is required");this.el=el;this.list=el.classList}ClassList.prototype.add=function(name){if(this.list){this.list.add(name);return this}var arr=this.array();var i=index(arr,name);if(!~i)arr.push(name);this.el.className=arr.join(" ");return this};ClassList.prototype.remove=function(name){if("[object RegExp]"==toString.call(name)){return this.removeMatching(name)}if(this.list){this.list.remove(name);return this}var arr=this.array();var i=index(arr,name);if(~i)arr.splice(i,1);this.el.className=arr.join(" ");return this};ClassList.prototype.removeMatching=function(re){var arr=this.array();for(var i=0;i<arr.length;i++){if(re.test(arr[i])){this.remove(arr[i])}}return this};ClassList.prototype.toggle=function(name,force){if(this.list){if("undefined"!==typeof force){if(force!==this.list.toggle(name,force)){this.list.toggle(name)}}else{this.list.toggle(name)}return this}if("undefined"!==typeof force){if(!force){this.remove(name)}else{this.add(name)}}else{if(this.has(name)){this.remove(name)}else{this.add(name)}}return this};ClassList.prototype.array=function(){var str=this.el.className.replace(/^\s+|\s+$/g,"");var arr=str.split(re);if(""===arr[0])arr.shift();return arr};ClassList.prototype.has=ClassList.prototype.contains=function(name){return this.list?this.list.contains(name):!!~index(this.array(),name)}});require.register("component~event@0.1.4",function(exports,module){var bind=window.addEventListener?"addEventListener":"attachEvent",unbind=window.removeEventListener?"removeEventListener":"detachEvent",prefix=bind!=="addEventListener"?"on":"";exports.bind=function(el,type,fn,capture){el[bind](prefix+type,fn,capture||false);return fn};exports.unbind=function(el,type,fn,capture){el[unbind](prefix+type,fn,capture||false);return fn}});require.register("component~query@0.0.3",function(exports,module){function one(selector,el){return el.querySelector(selector)}exports=module.exports=function(selector,el){el=el||document;return one(selector,el)};exports.all=function(selector,el){el=el||document;return el.querySelectorAll(selector)};exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");one=obj.one;exports.all=obj.all;return exports}});require.register("component~matches-selector@0.1.5",function(exports,module){var query=require("component~query@0.0.3");var proto=Element.prototype;var vendor=proto.matches||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(!el||el.nodeType!==1)return false;if(vendor)return vendor.call(el,selector);var nodes=query.all(selector,el.parentNode);for(var i=0;i<nodes.length;++i){if(nodes[i]==el)return true}return false}});require.register("component~closest@0.1.4",function(exports,module){var matches=require("component~matches-selector@0.1.5");module.exports=function(element,selector,checkYoSelf,root){element=checkYoSelf?{parentNode:element}:element;root=root||document;while((element=element.parentNode)&&element!==document){if(matches(element,selector))return element;if(element===root)return}}});require.register("component~delegate@0.2.3",function(exports,module){var closest=require("component~closest@0.1.4"),event=require("component~event@0.1.4");exports.bind=function(el,selector,type,fn,capture){return event.bind(el,type,function(e){var target=e.target||e.srcElement;e.delegateTarget=closest(target,selector,true,el);if(e.delegateTarget)fn.call(el,e)},capture)};exports.unbind=function(el,type,fn,capture){event.unbind(el,type,fn,capture)}});require.register("component~events@1.0.9",function(exports,module){var events=require("component~event@0.1.4");var delegate=require("component~delegate@0.2.3");module.exports=Events;function Events(el,obj){if(!(this instanceof Events))return new Events(el,obj);if(!el)throw new Error("element required");if(!obj)throw new Error("object required");this.el=el;this.obj=obj;this._events={}}Events.prototype.sub=function(event,method,cb){this._events[event]=this._events[event]||{};this._events[event][method]=cb};Events.prototype.bind=function(event,method){var e=parse(event);var el=this.el;var obj=this.obj;var name=e.name;var method=method||"on"+name;var args=[].slice.call(arguments,2);function cb(){var a=[].slice.call(arguments).concat(args);obj[method].apply(obj,a)}if(e.selector){cb=delegate.bind(el,e.selector,name,cb)}else{events.bind(el,name,cb)}this.sub(name,method,cb);return cb};Events.prototype.unbind=function(event,method){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(event);var bindings=this._events[event];if(!bindings)return;var cb=bindings[method];if(!cb)return;events.unbind(this.el,event,cb)};Events.prototype.unbindAll=function(){for(var event in this._events){this.unbindAllOf(event)}};Events.prototype.unbindAllOf=function(event){var bindings=this._events[event];if(!bindings)return;for(var method in bindings){this.unbind(event,method)}};function parse(event){var parts=event.split(/ +/);return{name:parts.shift(),selector:parts.join(" ")}}});require.register("switchery",function(exports,module){var transitionize=require("abpetkov~transitionize@0.0.3"),fastclick=require("ftlabs~fastclick@v0.6.11"),classes=require("component~classes@1.2.1"),events=require("component~events@1.0.9");module.exports=Switchery;var defaults={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:false,disabledOpacity:.5,speed:"0.4s",size:"default"};function Switchery(element,options){if(!(this instanceof Switchery))return new Switchery(element,options);this.element=element;this.options=options||{};for(var i in defaults){if(this.options[i]==null){this.options[i]=defaults[i]}}if(this.element!=null&&this.element.type=="checkbox")this.init();if(this.isDisabled()===true)this.disable()}Switchery.prototype.hide=function(){this.element.style.display="none"};Switchery.prototype.show=function(){var switcher=this.create();this.insertAfter(this.element,switcher)};Switchery.prototype.create=function(){this.switcher=document.createElement("span");this.jack=document.createElement("small");this.switcher.appendChild(this.jack);this.switcher.className=this.options.className;this.events=events(this.switcher,this);return this.switcher};Switchery.prototype.insertAfter=function(reference,target){reference.parentNode.insertBefore(target,reference.nextSibling)};Switchery.prototype.setPosition=function(clicked){var checked=this.isChecked(),switcher=this.switcher,jack=this.jack;if(clicked&&checked)checked=false;else if(clicked&&!checked)checked=true;if(checked===true){this.element.checked=true;if(window.getComputedStyle)jack.style.left=parseInt(window.getComputedStyle(switcher).width)-parseInt(window.getComputedStyle(jack).width)+"px";else jack.style.left=parseInt(switcher.currentStyle["width"])-parseInt(jack.currentStyle["width"])+"px";if(this.options.color)this.colorize();this.setSpeed()}else{jack.style.left=0;this.element.checked=false;this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor;this.switcher.style.borderColor=this.options.secondaryColor;this.switcher.style.backgroundColor=this.options.secondaryColor!==defaults.secondaryColor?this.options.secondaryColor:"#fff";this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor;this.setSpeed()}};Switchery.prototype.setSpeed=function(){var switcherProp={},jackProp={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};if(this.isChecked()){switcherProp={border:this.options.speed,"box-shadow":this.options.speed,"background-color":this.options.speed.replace(/[a-z]/,"")*3+"s"}}else{switcherProp={border:this.options.speed,"box-shadow":this.options.speed}}transitionize(this.switcher,switcherProp);transitionize(this.jack,jackProp)};Switchery.prototype.setSize=function(){var small="switchery-small",normal="switchery-default",large="switchery-large";switch(this.options.size){case"small":classes(this.switcher).add(small);break;case"large":classes(this.switcher).add(large);break;default:classes(this.switcher).add(normal);break}};Switchery.prototype.colorize=function(){var switcherHeight=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color;this.switcher.style.borderColor=this.options.color;this.switcher.style.boxShadow="inset 0 0 0 "+switcherHeight+"px "+this.options.color;this.jack.style.backgroundColor=this.options.jackColor};Switchery.prototype.handleOnchange=function(state){if(document.dispatchEvent){var event=document.createEvent("HTMLEvents");event.initEvent("change",true,true);this.element.dispatchEvent(event)}else{this.element.fireEvent("onchange")}};Switchery.prototype.handleChange=function(){var self=this,el=this.element;if(el.addEventListener){el.addEventListener("change",function(){self.setPosition()})}else{el.attachEvent("onchange",function(){self.setPosition()})}};Switchery.prototype.handleClick=function(){var switcher=this.switcher;fastclick(switcher);this.events.bind("click","bindClick")};Switchery.prototype.bindClick=function(){var parent=this.element.parentNode.tagName.toLowerCase(),labelParent=parent==="label"?false:true;this.setPosition(labelParent);this.handleOnchange(this.element.checked)};Switchery.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",true)};Switchery.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")};Switchery.prototype.init=function(){this.hide();this.show();this.setSize();this.setPosition();this.markAsSwitched();this.handleChange();this.handleClick()};Switchery.prototype.isChecked=function(){return this.element.checked};Switchery.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly};Switchery.prototype.destroy=function(){this.events.unbind()};Switchery.prototype.enable=function(){if(this.options.disabled)this.options.disabled=false;if(this.element.disabled)this.element.disabled=false;if(this.element.readOnly)this.element.readOnly=false;this.switcher.style.opacity=1;this.events.bind("click","bindClick")};Switchery.prototype.disable=function(){if(!this.options.disabled)this.options.disabled=true;if(!this.element.disabled)this.element.disabled=true;if(!this.element.readOnly)this.element.readOnly=true;this.switcher.style.opacity=this.options.disabledOpacity;this.destroy()}});if(typeof exports=="object"){module.exports=require("switchery")}else if(typeof define=="function"&&define.amd){define("Switchery",[],function(){return require("switchery")})}else{(this||window)["Switchery"]=require("switchery")}})();
/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

socket=null
user={}
$(document).ready(function() {
    user['role']=$('#user-data').data("role");
    modal_add_desktops = $('#modal_add_desktops').DataTable()
	initalize_modal_all_desktops_events()
 
	$template = $(".template-detail-domain");

    
	$('.btn-new').on('click', function () {
		if($('.quota-desktops .perc').text() >=100){
            new PNotify({
                title: "Quota for creating desktops full.",
                text: "Can't create another desktop, quota full.",
                hide: true,
                delay: 3000,
                icon: 'fa fa-alert-sign',
                opacity: 1,
                type: 'error'
            });
		}else{	
			setHardwareOptions('#modalAddDesktop');
            //~ setHardwareDomainDefaults('#modalAddDesktop',pk);
            $("#modalAdd")[0].reset();
			$('#modalAddDesktop').modal({
				backdrop: 'static',
				keyboard: false
			}).modal('show');
             $('#modalAddDesktop #hardware-block').hide();
            $('#modalAdd').parsley();
            modal_add_desktop_datatables();
		}
	});


	//DataTable Main renderer
	var table = $('#desktops').DataTable({
			"ajax": {
				"url": "/desktops/get",
				"dataSrc": ""
			},
			"language": {
				"loadingRecords": '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><span class="sr-only">Loading...</span>'
			},
			"rowId": "id",
			"deferRender": true,
			"columns": [
				{
                "className":      'details-control',
                "orderable":      false,
                "data":           null,
                "width": "10px",
                "defaultContent": '<button class="btn btn-xs btn-info" type="button"  data-placement="top" ><i class="fa fa-plus"></i></button>'
				},
				{ "data": "icon", "width": "10px" },
				{ "data": null, "width": "10px"},
				{ "data": null, "width": "10px"},
				{ "data": "status", "width": "10px"},
				{ "data": "name"},
                { "data": "hyp_started", "width": "10px"}
				],
			 "order": [[3, 'desc']],		 
		"columnDefs": [ {
							"targets": 1,
							"render": function ( data, type, full, meta ) {
							  return renderIcon(full);
							}},
							{
							"targets": 2,
							"render": function ( data, type, full, meta ) {
							  return renderAction(full);
							}},
							{
							"targets": 3,
							"render": function ( data, type, full, meta ) {
							  return renderDisplay(full);
							}},
							{
							"targets": 4,
							"render": function ( data, type, full, meta ) {
							  return renderStatus(full);
							}},
							{
							"targets": 5,
							"render": function ( data, type, full, meta ) {
							  return renderName(full);
							}},
							{
							"targets": 6,
							"render": function ( data, type, full, meta ) {
							  return renderHypStarted(full);
							}}
							]
	} );

	// DataTable detail
	$('#desktops tbody').on('click', 'td.details-control', function () {
        var tr = $(this).closest('tr');
        var row = table.row( tr );
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            row.child.remove();
            tr.removeClass('shown');
        }
        else {
            
            // Close other rows
             if ( table.row( '.shown' ).length ) {
                      $('.details-control', table.row( '.shown' ).node()).click();
              }
             if (row.data().status=='Creating'){
                 //In this case better not to open detail as ajax snippets will fail
                 //Maybe needs to be blocked also on other -ing's
						new PNotify({
						title: "Domain is being created",
							text: "Wait till domain ["+row.data().name+"] creation completes to view details",
							hide: true,
							delay: 3000,
							icon: 'fa fa-alert-sign',
							opacity: 1,
							type: 'error'
						});                 
             }else{
                // Open this row
                row.child( addDesktopDetailPannel(row.data()) ).show();
                tr.addClass('shown');
                $('#status-detail-'+row.data().id).html(row.data().detail);
                actionsDesktopDetail();
                setDesktopDetailButtonsStatus(row.data().id,row.data().status)
                if(row.data().status=='Stopped' || row.data().status=='Started'){
                    setDomainGenealogy(row.data().id);
                    setHardwareDomainDefaults_viewer('#hardware-'+row.data().id,row.data().id);
                }                
                
               
                
            }
          }
    } );


	// DataTable buttons
    $('#desktops tbody').on( 'click', 'button', function () {
        var data = table.row( $(this).parents('tr') ).data();
        switch($(this).attr('id')){
            case 'btn-play':
				if($('.quota-play .perc').text() >=100){
					new PNotify({
						title: "Quota for running desktops full.",
							text: "Can't start another desktop, quota full.",
							hide: true,
							delay: 3000,
							icon: 'fa fa-alert-sign',
							opacity: 1,
							type: 'error'
						});
				}else{
                    socket.emit('domain_update',{'pk':data['id'],'name':'status','value':'Starting'}) 
				}          
                break;
            case 'btn-stop':
				new PNotify({
						title: 'Unplug desktop warning!',
							text: "It is NOT RECOMMENDED to continue and turn off desktop "+ name+".\n \
								   Please, properly shut down desktop from inside viewer \n\n \
								   Turn off desktop? "+ name+"?",
							hide: false,
							opacity: 0.9,
							confirm: {
								confirm: true
							},
							buttons: {
								closer: false,
								sticker: false
							},
							history: {
								history: false
							},
							stack: stack_center
						}).get().on('pnotify.confirm', function() {
                            socket.emit('domain_update',{'pk':data['id'],'name':'status','value':'Stopping'})
						}).on('pnotify.cancel', function() {
				});	
                break;
            case 'btn-display':
                getClientViewer(data,socket);
                break;
        }
    });


    // SocketIO
    //~ reconnect=-1;
    socket = io.connect(location.protocol+'//' + document.domain + ':' + location.port+'/sio_users');


    
    socket.on('connect', function() {
        connection_done();
        console.log('Listening users namespace');
    });

    socket.on('connect_error', function(data) {
      connection_lost();
    });
    
     startClientViewerSocket(socket);
     
    socket.on('user_quota', function(data) {
        var data = JSON.parse(data);
        drawUserQuota(data);
    });

   
    
    socket.on('desktop_data', function(data){
        var data = JSON.parse(data);
        dtUpdateInsert(table,data,false);
        setDesktopDetailButtonsStatus(data.id, data.status);
    });
    
    socket.on('desktop_delete', function(data){
        var data = JSON.parse(data);
        var row = table.row('#'+data.id).remove().draw();
        new PNotify({
                title: "Desktop deleted",
                text: "Desktop "+data.name+" has been deleted",
                hide: true,
                delay: 4000,
                icon: 'fa fa-success',
                opacity: 1,
                type: 'success'
        });
    });
    
    socket.on('result', function (data) {
        var data = JSON.parse(data);
        new PNotify({
                title: data.title,
                text: data.text,
                hide: true,
                delay: 4000,
                icon: 'fa fa-'+data.icon,
                opacity: 1,
                type: data.type
        });
    });

    socket.on('add_form_result', function (data) {
        var data = JSON.parse(data);
        if(data.result){
            $("#modalAdd")[0].reset();
            $("#modalAddDesktop").modal('hide');
        }
        new PNotify({
                title: data.title,
                text: data.text,
                hide: true,
                delay: 4000,
                icon: 'fa fa-'+data.icon,
                opacity: 1,
                type: data.type
        });
    });

    socket.on('edit_form_result', function (data) {
        var data = JSON.parse(data);
        if(data.result){
            $("#modalEdit")[0].reset();
            $("#modalEditDesktop").modal('hide');
            setHardwareDomainDefaults_viewer('#hardware-'+data.id,data.id);
        }
        new PNotify({
                title: data.title,
                text: data.text,
                hide: true,
                delay: 4000,
                icon: 'fa fa-'+data.icon,
                opacity: 1,
                type: data.type
        });
    });
            

});


function actionsDesktopDetail(){
	$('.btn-edit').on('click', function () {
            var pk=$(this).closest("div").attr("data-pk");
			setHardwareOptions('#modalEditDesktop');
            setHardwareDomainDefaults('#modalEditDesktop',pk);
            $("#modalEdit")[0].reset();
			$('#modalEditDesktop').modal({
				backdrop: 'static',
				keyboard: false
			}).modal('show');
             $('#hardware-block').hide();
            $('#modalEdit').parsley();
            modal_edit_desktop_datatables(pk);
	});

	$('.btn-template').on('click', function () {
		if($('.quota-templates .perc').text() >=100){
            new PNotify({
                title: "Quota for creating templates full.",
                text: "Can't create another template, quota full.",
                hide: true,
                delay: 3000,
                icon: 'fa fa-alert-sign',
                opacity: 1,
                type: 'error'
            });
		}else{	
			var pk=$(this).closest("div").attr("data-pk");
			setDefaultsTemplate(pk);
			setHardwareOptions('#modalTemplateDesktop');
			setHardwareDomainDefaults('#modalTemplateDesktop',pk);
			$('#modalTemplateDesktop').modal({
				backdrop: 'static',
				keyboard: false
			}).modal('show');
        }
	});

	$('.btn-delete').on('click', function () {
				var pk=$(this).closest("div").attr("data-pk");
				var name=$(this).closest("div").attr("data-name");
				new PNotify({
						title: 'Confirmation Needed',
							text: "Are you sure you want to delete virtual machine: "+name+"?",
							hide: false,
							opacity: 0.9,
							confirm: {
								confirm: true
							},
							buttons: {
								closer: false,
								sticker: false
							},
							history: {
								history: false
							},
							stack: stack_center
						}).get().on('pnotify.confirm', function() {
                            socket.emit('domain_update',{'pk':pk,'name':'status','value':'Deleting'})
						}).on('pnotify.cancel', function() {
				});	
	});
}
	
//~ RENDER DATATABLE	
function addDesktopDetailPannel ( d ) {
		$newPanel = $template.clone();
		$newPanel.html(function(i, oldHtml){
			return oldHtml.replace(/d.id/g, d.id).replace(/d.name/g, d.name);
		});
		return $newPanel
}

function setDesktopDetailButtonsStatus(id,status){
          if(status=='Stopped'){
                $('#actions-'+id+' *[class^="btn"]').prop('disabled', false);
          }else{
                $('#actions-'+id+' *[class^="btn"]').prop('disabled', true);
          } 
}
	
function icon(name){
       if(name=='windows' || name=='linux'){
           return "<i class='fa fa-"+name+" fa-2x '></i>";
        }else{
            return "<span class='fl-"+name+" fa-2x'></span>";
		}       
}

function icon1x(name){
       if(name=='windows' || name=='linux'){
           return "<i class='fa fa-"+name+"'></i>";
        }else{
            return "<span class='fl-"+name+"'></span>";
		}       
}

function renderDisplay(data){
        if(data.status=='Stopping' || data.status =='Started'){
            return ' <div class="display"> \
					<button type="button" id="btn-display" class="btn btn-pill-right btn-success btn-xs"> \
					<i class="fa fa-desktop"></i> Show</button></div>';
        }
        return ''
}

function renderName(data){
		return '<div class="block_content" > \
      			<h2 class="title" style="height: 4px; margin-top: 0px;"> \
                <a>'+data.name+'</a> \
                </h2> \
      			<p class="excerpt" >'+data.description+'</p> \
           		</div>'
}
                        
function renderIcon(data){
		return '<span class="xe-icon" data-pk="'+data.id+'">'+icon(data.icon)+'</span>'
}

function renderIcon1x(data){
		return '<span class="xe-icon" data-pk="'+data.id+'">'+icon1x(data.icon)+'</span>'
}

function renderStatus(data){
		return data.status;
}
	
function renderAction(data){
		status=data.status;
        if(status=='Stopped' || status=='Failed'){
            return '<button type="button" id="btn-play" class="btn btn-pill-right btn-success btn-xs"><i class="fa fa-play"></i> Start</button>';
        }
        if(status=='Started'){
            return '<button type="button" id="btn-stop" class="btn btn-pill-left btn-danger btn-xs"><i class="fa fa-stop"></i> Stop</button>';
        } 
        if(status=='Crashed'){
            return '<div class="Change"> <i class="fa fa-thumbs-o-down fa-2x"></i> </div>';
        } 
        if(status=='Disabled'){
                return '<i class="fa fa-times fa-2x"></i>';
        }            
        return '<i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>';
}	

function renderHypStarted(data){
        if('forced_hyp' in data && data.forced_hyp!=''){return '**'+data.forced_hyp+'**';}
        if('hyp_started' in data){ return data.hyp_started;}
		return '';
}

function setDefaultsTemplate(id) {
	$.ajax({
		type: "GET",
		url:"/desktops/templateUpdate/" + id,
		success: function(data)
		{
			$('.template-id').val(id);
			$('.template-id').attr('data-pk', id);
            $('.template-name').val('Template '+data.name);
            $('.template-description').val(data.description);
		}				
	});
}




function renderTemplateKind(data){
		if(data.kind=="public_template"){return "public";}
        if(data.kind=="user_template"){return "private";}
        return "base"
}

function modal_add_desktop_datatables(){
    modal_add_desktops.destroy()
    $('#modalAddDesktop #template').val('');
    $('#modalAddDesktop #datatables-error-status').empty()
    
    $('#modal_add_desktops thead th').each( function () {
        var title = $(this).text();
        if(title=='Name'){
            $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
        }
        //~ if(title=='Type'){
                    //~ column=modal_add_desktops.columns(0)
                    //~ var select = $('<select><option value=""><option value="base">Base</option><option value="public_template">Public</select>')
                        //~ .appendTo( $(column.header()).empty() )
                        //~ .on( 'change', function () {
                            //~ var val = $.fn.dataTable.util.escapeRegex(
                                //~ $(this).val()
                            //~ );
                            //~ column
                                //~ .search( val ? '^'+val+'$' : '', true, false )
                                //~ .draw();
                        //~ } );
        //~ }
    } );
    
	modal_add_desktops = $('#modal_add_desktops').DataTable({
			"ajax": {
				"url": "/desktops/getAllTemplates",
				"dataSrc": ""
			},

            "scrollY":        "125px",
            "scrollCollapse": true,
            "paging":         false,
            
            //~ "searching":         false,
			"language": {
				"loadingRecords": '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><span class="sr-only">Loading...</span>',
                "zeroRecords":    "No matching templates found",
                "info":           "Showing _START_ to _END_ of _TOTAL_ templates",
                "infoEmpty":      "Showing 0 to 0 of 0 templates",
                "infoFiltered":   "(filtered from _MAX_ total templates)"
			},
			"rowId": "id",
			"deferRender": true,
			"columns": [
				//~ {
                //~ "className":      'details-control',
                //~ "orderable":      false,
                //~ "data":           null,
                //~ "width": "10px",
                //~ "defaultContent": '<button class="btn btn-xs btn-info" type="button"  data-placement="top" ><i class="fa fa-plus"></i></button>'
				//~ },
                { "data": "kind", "width": "10px", "orderable": false},
				{ "data": "name"},
                { "data": "group", "width": "10px"},
                { "data": "username"}
				],
			 "order": [[0, 'asc']],	
             "pageLength": 5,	 
		"columnDefs": [     
                            {
							"targets": 0,
							"render": function ( data, type, full, meta ) {
							  return renderTemplateKind(full);
							}},
							{
							"targets": 1,
							"render": function ( data, type, full, meta ) {
							  return renderIcon1x(full)+" "+full.name;
							}},
							]



	} );  
    


        
    
    modal_add_desktops.columns().every( function () {
        var that = this;
 
        $( 'input', this.header() ).on( 'keyup change', function () {
            if ( that.search() !== this.value ) {
                that
                    .search( this.value )
                    .draw();
            }
        } );
    } );





}

function initalize_modal_all_desktops_events(){
   $('#modal_add_desktops tbody').on( 'click', 'tr', function () {
        rdata=modal_add_desktops.row(this).data()
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
            $('#modal_add_desktops').closest('.x_panel').addClass('datatables-error');
            $('#modalAddDesktop #datatables-error-status').html('No template selected').addClass('my-error');
            
            $('#modalAddDesktop #template').val('');
            $('#modalAddDesktop #btn-hardware').hide();
            $('#modalAddDesktop #hardware-block').hide();
        }
        else {
            modal_add_desktops.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
            $('#modal_add_desktops').closest('.x_panel').removeClass('datatables-error');
            $('#modalAddDesktop #datatables-error-status').empty().html('<b style="color:DarkSeaGreen">Template selected: '+rdata['name']+'</b>').removeClass('my-error');
            $('#modalAddDesktop #template').val(rdata['id']);
            if(user['role']!='user'){
                $('#modalAddDesktop #btn-hardware').show();
                setHardwareDomainDefaults('#modalAddDesktop',rdata['id'])
            }
        }
    } );	
	
    $("#modalAddDesktop #send").on('click', function(e){
            var form = $('#modalAdd');

            form.parsley().validate();

            if (form.parsley().isValid()){
                template=$('#modalAddDesktop #template').val();
                if (template !=''){
                    data=$('#modalAdd').serializeObject();
                    socket.emit('domain_add',data)
                }else{
                    $('#modal_add_desktops').closest('.x_panel').addClass('datatables-error');
                    $('#modalAddDesktop #datatables-error-status').html('No template selected').addClass('my-error');
                }
            }
        });
        
        $("#modalAddDesktop #btn-hardware").on('click', function(e){
                $('#modalAddDesktop #hardware-block').show();
        });
        	
}

function modal_edit_desktop_datatables(id){
	$.ajax({
		type: "GET",
		url:"/desktops/templateUpdate/" + id,
		success: function(data)
		{
            $('#modalEditDesktop #forced_hyp').closest("div").remove();
			$('#modalEditDesktop #name_hidden').val(data.name);
            $('#modalEditDesktop #name').val(data.name);
			$('#modalEditDesktop #description').val(data.description);
            $('#modalEditDesktop #id').val(data.id);
            setHardwareDomainDefaults('#modalEditDesktop', id);
		}				
	});
  
    
}

    $("#modalEditDesktop #send").on('click', function(e){
            var form = $('#modalEdit');
            form.parsley().validate();
            if (form.parsley().isValid()){
                    data=$('#modalEdit').serializeObject();
                    socket.emit('domain_edit',data)
            }
        });
        
    

/*
* Copyright 2017 the Isard-vdi project authors:
*      Josep Maria Violas Auquer
*      Alberto Larraz Dalmases
* License: AGPLv3
*/

var $template='';
var table='';
$(document).ready(function() {
	$template = $(".template-detail");
	table = $('#templates').DataTable({
			"ajax": {
				"url": "/templates/get",
				"dataSrc": ""
			},
			"language": {
				"loadingRecords": '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><span class="sr-only">Loading...</span>'
			},
			"rowId": "id",
			"deferRender": true,
			"columns": [
				{
                "className":      'details-control',
                "orderable":      false,
                "data":           null,
                "width": "10px",
                "defaultContent": '<button class="btn btn-xs btn-info" type="button"  data-placement="top" ><i class="fa fa-plus"></i></button>'
				},
				{ "data": "icon", "width": "10px" },
				{ "data": "name"},
				{ "data": "kind-icon"},
				{ "data": "kind"},
				{ "data": "status"},
                { "data": "pending"},
				{ "data": "description", "visible": false}
				],
			 "order": [[2, 'asc']],
			 "columnDefs": [ {
							"targets": 1,
							"render": function ( data, type, full, meta ) {
							  return renderIcon(full);
							}},
							{
							"targets": 2,
							"render": function ( data, type, full, meta ) {
							  return renderName(full);
							}},
							{
							"targets": 3,
							"orderable": false,
							"render": function ( data, type, full, meta ) {
							  return renderKindIcon(full);
							}},
							{
							"targets": 4,
							"render": function ( data, type, full, meta ) {
							  return renderKind(full);
							}},
							{
							"targets": 5,
							"render": function ( data, type, full, meta ) {
							  return renderStatus(full);
							}},
							{
							"targets": 6,
							"render": function ( data, type, full, meta ) {
							  return renderPending(full);
							}}
							]
		} );
	
	$('#templates').find('tbody').on('click', 'td.details-control', function () {
		console.log('clicked');
        var tr = $(this).closest('tr');
        var row = table.row( tr );
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            row.child.remove();
            tr.removeClass('shown');
        }
        else {
            // Open this row
            row.child( formatPanel(row.data()) ).show();
            tr.addClass('shown');
            setHardwareDomainDefaults_viewer('#hardware-'+row.data().id,row.data().id);
            setHardwareGraph();
            setAlloweds_viewer('#alloweds-'+row.data().id,row.data().id);
            actionsTmplDetail();
            
        }
    });

   
    //~ Delete confirm modal
	$('#confirm-modal > .modal-dialog > .modal-content > .modal-footer > .btn-primary').click(function() {
        console.log('id:'+$('#confirm-modal').data('id')+' - action: delete');
        // Needs some work
        });
        
	$('#confirm-modal').on('show.bs.modal', function (event) {
	  var button = $(event.relatedTarget);
	  var id = button.data('id'); // Extract data-* attributes
	  var name = button.data('name');
	  var modal = $(this);
	  modal.data('id',id);
	  modal.find('.modal-title').text('Do you really want to remove "' + name + '" desktop?');
	  modal.find('.modal-body').text('The desktop will be permanently deleted (unrecoverable)')
	});

    // SocketIO
    var socket = io.connect(location.protocol+'//' + document.domain + ':' + location.port+'/sio_users');

    socket.on('connect', function() {
        connection_done();
        console.log('Listening user namespace');
    });

    socket.on('connect_error', function(data) {
      connection_lost();
    });
    
    socket.on('user_quota', function(data) {
        console.log('Quota update')
        var data = JSON.parse(data);
        drawUserQuota(data);
    });

    socket.on('template_update', function(data){
        console.log('update')
        var data = JSON.parse(data);
        var row = table.row('#'+data.id); 
        table.row(row).data(data);
        setDesktopDetailButtonsStatus(data.id, data.status);
    });

    socket.on('template_add', function(data){
        console.log('add')
        var data = JSON.parse(data);
		if($("#" + data.id).length == 0) {
		  //it doesn't exist
		  table.row.add(data).draw();
		}else{
          //if already exists do an update (ie. connection lost and reconnect)
          var row = table.row('#'+data.id); 
          table.row(row).data(data);			
		}
    });
    
    socket.on('template_delete', function(data){
        console.log('delete')
        var data = JSON.parse(data);
        var row = table.row('#'+data.id).remove().draw();
        new PNotify({
                title: "Desktop deleted",
                text: "Desktop "+data.name+" has been deleted",
                hide: true,
                delay: 4000,
                icon: 'fa fa-success',
                opacity: 1,
                type: 'info'
        });
    });

//~ // SERVER SENT EVENTS Stream
	//~ if (!!window.EventSource) {
	  //~ var desktops_source = new EventSource('/stream/desktops');
      //~ console.log('on event');
	//~ } else {
	  //~ // Result to xhr polling :(
	//~ }

	//~ window.onbeforeunload = function(){
	  //~ desktops_source.close();
	//~ };

	//~ desktops_source.addEventListener('New', function(e) {
	  //~ var data = JSON.parse(e.data);
		//~ if($("#" + data.id).length == 0) {
		  //~ //it doesn't exist
		  //~ table.row.add( formatTmplDetails(data)).draw();
		//~ }else{
		  //~ //if already exists do an update (ie. connection lost and reconnect)
			//~ var row = table.row('#'+data.id); 
			//~ table.row(row).data(formatTmplDetails(data));			
		//~ }
      
		//~ if(data.status=='Stopped'){
            //~ // Should disable details buttons
		//~ }else{
            //~ // And enable it again
		//~ }
	//~ }, false);

	//~ desktops_source.addEventListener('Status', function(e) {
	  //~ var data = JSON.parse(e.data);
      //~ var row = table.row('#'+data.id); 
      //~ table.row(row).data(formatTmplDetails(data));
	//~ }, false);

	//~ desktops_source.addEventListener('Deleted', function(e) {
	  //~ var data = JSON.parse(e.data);
      //~ // var row =
		//~ table.row('#'+data.id).remove().draw();
	//~ }, false);


});   // document ready

function formatTmplDetails(data){
		var row=$('*[data-pk="'+data.id+'"]');
		if(data.status=='Stopped'){
			row.find('.btn-delete').prop('disabled', false);
		}else{
			row.find('.btn-delete').prop('disabled', true);
		}
		return data;
}

function formatPanel ( d ) {
		$newPanel = $template.clone();
		$newPanel.html(function(i, oldHtml){
			return oldHtml.replace(/d.id/g, d.id).replace(/d.name/g, d.name).replace(/d.kind/g, d.kind);
		});
		if(d.status=='Stopped'){
			$newPanel.find('.btn-actions').prop('disabled', false);
		}else{
			$newPanel.find('.btn-actions').prop('disabled', true);
		}
		return $newPanel
}
	
function actionsTmplDetail(){
		$('.btn-edit').on('click', function () {
            // Not implemented
        });

		$('.btn-kind').on('click', function () {
                var closest=$(this).closest("div");
				var pk=closest.attr("data-pk");
				var name=closest.attr("data-name");
                new PNotify({
						title: 'Confirmation Needed',
							text: "Are you sure you want to change public/private on template: "+name+"?",
							hide: false,
							opacity: 0.9,
							confirm: {
								confirm: true
							},
							buttons: {
								closer: false,
								sticker: false
							},
							history: {
								history: false
							},
							stack: stack_center
						}).get().on('pnotify.confirm', function() {
							api.ajax('/template/togglekind','POST',{'pk':pk}).done(function(data) {
								//~ console.log('data received:'+data);
                                table.ajax.reload()	;
							});  
						}).on('pnotify.cancel', function() {
				});
                
        });

		$('.btn-delete').on('click', function () {
				var pk=$(this).closest("div").attr("data-pk");
				var name=$(this).closest("div").attr("data-name");
				new PNotify({
						title: 'Confirmation Needed',
							text: "Are you sure you want to delete template: "+name+"?",
							hide: false,
							opacity: 0.9,
							confirm: {
								confirm: true
							},
							buttons: {
								closer: false,
								sticker: false
							},
							history: {
								history: false
							},
							stack: stack_center
						}).get().on('pnotify.confirm', function() {
							api.ajax('/domains/update','POST',{'pk':pk,'name':'status','value':'Deleting'}).done(function(data) {
								console.log('data received:'+data);
							});  
						}).on('pnotify.cancel', function() {
				});	
			});
	}

    function icon(name){
       if(name=='windows' || name=='linux'){
           return "<span ><i class='fa fa-"+name+" fa-2x'></i></span>";
        }else{
            return "<span class='fl-"+name+" fa-2x'></span>";
		}       
    }

	function renderIcon(data){
		return '<span class="xe-icon" data-pk="'+data.id+'">'+icon(data.icon)+'</span>'
	}

	function renderName(data){
		return '<div class="block_content" > \
      			<h2 class="title" style="height: 4px; margin-top: 0px;"> \
                <a>'+data.name+'</a> \
                </h2> \
      			<p class="excerpt" >'+data.description+'</p> \
           		</div>'
    }
    	
    function renderStatus(data){
        return data.status
    }	
    
    function renderKindIcon(data){
		switch (data.kind) {
			case 'user_template':
				return '<i class="fa fa-user-secret fa-2x" style="color:darksalmon"></i>';
				break;
			case 'public_template':
				return '<i class="fa fa-users fa-2x" style="color:darkseagreen"></i>';
				break;
		}
	}

    function renderKind(data){
		switch (data.kind) {
			case 'public_template':
				return 'Public';
				break;
			case 'user_template':
				return 'Private';
				break;
		}
	}

	function renderPending(data){
		status=data.status;
        if(status=='Stopped'){
            return 'None';
        }
        return '<div class="Change"> <i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i><span class="sr-only">Working...</span></i> </div>';
	}	

var derivates_table =''
function setDomainDerivates(id){
	$("#bulk-edit-"+id).on( 'click', function () {
            $("#modalBulkEditForm")[0].reset();
            setHardwareOptions('#modalBulkEdit','disk');
			$('#modalBulkEdit').modal({
				backdrop: 'static',
				keyboard: false
			}).modal('show');
            setHardwareDomainDefaults('#modalBulkEdit', id);
            //~ $('#modalAddFromBuilder #modalAdd').parsley();
            modal_bulk_edit_setdata("#modalBulkEditForm");
	});    
        
    derivates_table=$("#table-derivates-"+id).DataTable({
			"ajax": {
				"url": "/domain_derivates",
                "contentType": "application/json",
                "type": 'POST',
                "data": function(d){return JSON.stringify({'pk':id})}
			},
            "sAjaxDataProp": "",
			"language": {
				"loadingRecords": '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><span class="sr-only">Loading...</span>'
			},
            //~ "bLengthChange": false,
            //~ "bFilter": false,
			"rowId": "id",
			"deferRender": true,
			"columns": [
				{ "data": "name"},
				{ "data": "kind"},
                {'data':'user'},
				{'data':'category'},
                {'data': 'group'},
                ],
			 "order": [[0, 'desc']],
			 //~ "columnDefs": [ {
							//~ "targets": 0,
							//~ "render": function ( data, type, full, meta ) {
                              //~ if ( type === 'display' || type === 'filter' ) {
                                    //~ return moment.unix(full.when).fromNow();
                              //~ }                                 
                              //~ return data;  
							//~ }}]
    } );
            
			//~ api.ajax('/domain_derivates','POST',{'pk':id}).done(function(derivates) {
                //~ var wasted=0
                //~ $.each(derivates,function(index,val){
                    //~ $("#table-derivates-"+id).append('<tr><td>'+val['name']+'</td><td>'+val['kind']+'</td><td>'+val['user']+'</td></tr>');
                //~ });  
            //~ });

    $("#modalBulkEdit #send").on('click', function(e){
            var form = $('#modalBulkEditForm');
            //~ form.parsley().validate();
            //~ if (form.parsley().isValid()){
                    data=$('#modalBulkEditForm').serializeObject();
                    console.log(data);
                    socket.emit('domain_bulkedit',data)
                    //~ console.log('is valid form')
            //~ }
        });
            
}
    
function modal_bulk_edit_setdata(id){
        names=''
        ids=[]
        $(id+" #ids").find('option').remove();
        if(derivates_table.rows('.active').data().length){
            $.each(derivates_table.rows('.active').data(),function(key, value){
                //~ names+=value['name']+'\n';
                //~ ids.push(value['id']);
                $(id+' #ids').append('<option value=' + value.id + '>' + value.name + '</option>');
            });
            //~ var text = "You are about to these desktops:\n\n "+names
        }else{ 
            $.each(derivates_table.rows({filter: 'applied'}).data(),function(key, value){
                //~ ids.push(value['id']);
                $(id+' #ids').append('<option value=' + value.id + '>' + value.name + '</option>');
            });
            //~ var text = "You are about to "+derivates_table.rows({filter: 'applied'}).data().length+" desktops!\n All the desktops in list!"
        }    
        $(id+' #ids > option').attr("selected",true);
        //~ console.log(text)
        //~ $(id+' #afecteds').val(text);
        
        $(id+" .btn-unselect-all").on( 'click', function () {
            $(id+' #ids > option').attr("selected",false);
        })


        $(id+" .btn-select-all").on( 'click', function () {
            $(id+' #ids > option').attr("selected",true);
        })        
    
}


	function setAlloweds_viewer(div_id,id){
			api.ajax('/domain/alloweds','POST',{'pk':id}).done(function(alloweds) {
                var all=false;
                $.each(alloweds,function(key, value) 
                {
                    if(typeof value !== 'undefined' && value.length == 0){all=true;}
                });
                if(all){
                    $(div_id+" #table-alloweds-"+id).append('<tr><td>Everyone</td><td>Has access</td></tr>');
                }else{
                    $.each(alloweds,function(key, value) 
                    {   
                        if(value){
                                $(div_id+" #table-alloweds-"+id).append('<tr><td>'+key+'</td><td>'+value+'</td></tr>');
                        }

                    });
                }
			}); 
	}

	function replaceAlloweds_arrays(data){
		ids=['a-roles','a-categories','a-groups','a-users']
		data['allowed']={}
		 $.each(ids,function(idx,id) 
         { 
			 delete data[id];
			 val = $('#'+id).val()  || false
			 if(!(val) && id+'-cb' in data){val=[];}
			 delete data[id+'-cb'];
			 data['allowed'][id.replace('a-','')] = val; 
		 });
		 
		 return data
	}


 	
	function setAlloweds_add(parentid){
		ids=['a-roles','a-categories','a-groups','a-users']
		 $.each(ids,function(idx,id) 
         {   $(parentid+' #'+id+'-cb').iCheck('uncheck');
			 $(parentid+' #'+id+'-cb').on('ifChecked', function(event){
				  $(parentid+" #"+id).attr('disabled',false);
			 });
			 $(parentid+' #'+id+'-cb').on('ifUnchecked', function(event){
				  $(parentid+" #"+id).attr('disabled',true);
			 });
			 $(parentid+" #"+id).attr('disabled',true);
			 console.log(id)
			 $(parentid+" #"+id).select2({
				minimumInputLength: 2,
				multiple: true,
				ajax: {
					type: "POST",
					url: '/admin/table/'+id.replace('a-','')+'/post',
					dataType: 'json',
					contentType: "application/json",
					delay: 250,
					data: function (params) {
						return  JSON.stringify({
							term: params.term,
							pluck: ['id','name']
						});
					},
					processResults: function (data) {
						return {
							results: $.map(data, function (item, i) {
								return {
									text: item.name,
									id: item.id
								}
							})
						};
					}
				},
			});	
		});
	
	}
	

// Not implemented at all

	function setHardwareOptions(id,default_boot){
        default_boot = typeof default_boot !== 'undefined' ? default_boot : 'hd' ;
			// id is the main div id containing hardware.html
			$(id+" #hardware-interfaces").find('option').remove();
			$(id+" #hardware-graphics").find('option').remove();
            $(id+" #hardware-videos").find('option').remove();
            $(id+" #hardware-boot_order").find('option').remove();
            $(id+" #hypervisors_pools").find('option').remove();
            $(id+" #forced_hyp").find('option').remove();
            
			api.ajax_async('/hardware','GET','').done(function(hardware) {
                // Needs a hidden input to activate disabled dropdowns...
                //~ if(hardware.nets.length==1){$(id+" #hardware-interfaces").prop('disabled',true);}
				$.each(hardware.nets,function(key, value) 
				{
					$(id+" #hardware-interfaces").append('<option value=' + value.id + '>' + value.name + '</option>');
				});
                
				//~ if(hardware.graphics.length==1){$if(hardware.nets.length==1){$(id+" #hardware-interfaces").prop('disabled',true);}(id+" #hardware-graphics").prop('disabled',true);}
				$.each(hardware.graphics,function(key, value) 
				{
					$(id+" #hardware-graphics").append('<option value=' + value.id + '>' + value.name + '</option>');
				});
                
                //~ if(hardware.videos.length==1){$(id+" #hardware-videos").prop('disabled',true);}
				$.each(hardware.videos,function(key, value) 
				{
					$(id+" #hardware-videos").append('<option value=' + value.id + '>' + value.name + '</option>');
				});
                
                //~ if(hardware.boots.length==1){$(id+" #hardware-boot_order").prop('disabled',true);}
				$.each(hardware.boots,function(key, value) 
				{   
                    //~ if(value.id=='hd'){value.id='disk'}
					$(id+" #hardware-boot_order").append('<option value=' + value.id + '>' + value.name + '</option>');
				});
                $(id+' #hardware-boot_order option[value="'+default_boot+'"]').prop("selected",true);
                
                //~ if(hardware.hypervisors_pools.length==1){$(id+" #hypervisors_pools").prop('disabled',true);}
				$.each(hardware.hypervisors_pools,function(key, value) 
				{   // hypervisors_pools is not inside hardware (take it into account when editing!)
					$(id+" #hypervisors_pools").append('<option value=' + value.id + '>' + value.name + '</option>');
				});

				$.each(hardware.forced_hyps,function(key, value) 
				{   // hypervisors_pools is not inside hardware (take it into account when editing!)
					$(id+" #forced_hyp").append('<option value=' + value.id + '>' + value.hostname+' ('+value.status+')' + '</option>');
				});
                console.log(hardware.user['quota-hardware-memory'])
				$(id+" #hardware-memory").ionRangeSlider({
						  type: "single",
						  min: 500,
						  max: hardware.user['quota-hardware-memory']/1000,
                          step:250,
						  grid: true,
						  disable: false
						  }).data("ionRangeSlider").update();
				$(id+" #hardware-vcpus").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: hardware.user['quota-hardware-vcpus'],
						  grid: true,
						  disable: false
						  }).data("ionRangeSlider").update();
                if($(id+" #disk_size").length != 0) {
                    if(hardware.user['quota-domains-desktops_disk_max']/1000000>200){
                        var dsize=80;}else{ var dsize=hardware.user['quota-domains-desktops_disk_max']/1000000;}
                    $(id+" #disk_size").ionRangeSlider({
                              type: "single",
                              min: 1,
                              max: dsize,
                              grid: true,
                              disable: false
                              }).data("ionRangeSlider").update();
                }
			}); 
	}
    
	function setHardwareDomainDefaults(div_id,domain_id){
			// id is the domain id
            $(div_id+' #hardware-interfaces option:selected').prop("selected", false);
            $(div_id+' #hardware-graphics option:selected').prop("selected", false);
            $(div_id+' #hardware-videos option:selected').prop("selected", false);
            $(div_id+' #hardware-boot_order option:selected').prop("selected", false);
            $(div_id+' #hypervisors_pools option:selected').prop("selected", false);
            
			api.ajax('/domain','POST',{'pk':domain_id}).done(function(domain) {
				$(div_id+' #hardware-interfaces option[value="'+domain['hardware-interfaces'][0].id+'"]').prop("selected",true);
				$(div_id+' #hardware-graphics option[value="'+domain['hardware-graphics-type']+'"]').prop("selected",true);
                $(div_id+' #hardware-videos option[value="'+domain['hardware-video-type']+'"]').prop("selected",true);
                
                // Need to talk with engine and change this
                if(domain['hardware-boot_order'][0]=='hd'){domain['hardware-boot_order'][0]='disk'}
                if(domain['hardware-boot_order'][0]=='cdrom'){domain['hardware-boot_order'][0]='iso'}
                if(domain['hardware-boot_order'][0]=='network'){domain['hardware-boot_order'][0]='pxe'}
                $(div_id+' #hardware-boot_order option[value="'+domain['hardware-boot_order'][0]+'"]').prop("selected",true);
                
                $(div_id+' #hypervisors_pools option[value="'+domain['hypervisors_pools'][0]+'"]').prop("selected",true);
                if(domain['forced_hyp']){
                    $(div_id+' #forced_hyp option[value="'+domain['forced_hyp']+'"]').prop("selected",true);
                }
				$(div_id+" #hardware-memory").data("ionRangeSlider").update({
						  from: domain['hardware-memory']/1000
                });
				$(div_id+" #hardware-vcpus").data("ionRangeSlider").update({
						  from: domain['hardware-vcpus']
                });
					  
			}); 
	}

	//~ function setHardwareUserDefaults(div_id,user){
			//~ // id is the domain id
            //~ $(div_id+' #hardware-interfaces option:selected').prop("selected", false);
            //~ $(div_id+' #hardware-graphics option:selected').prop("selected", false);
            //~ $(div_id+' #hardware-videos option:selected').prop("selected", false);
            //~ $(div_id+' #hardware-boot_order option:selected').prop("selected", false);
            //~ $(div_id+' #hypervisors_pools option:selected').prop("selected", false);
            
			//~ api.ajax('/userhardwarequota','POST',{'pk':domain_id}).done(function(domain) {
				//~ $(div_id+' #hardware-interfaces option[value="'+domain['hardware-interfaces'][0].id+'"]').prop("selected",true);
				//~ $(div_id+' #hardware-graphics option[value="'+domain['hardware-graphics-type']+'"]').prop("selected",true);
                //~ $(div_id+' #hardware-videos option[value="'+domain['hardware-video-type']+'"]').prop("selected",true);
                
                //~ // Need to talk with engine and change this
                //~ if(domain['hardware-boot_order'][0]=='hd'){domain['hardware-boot_order'][0]='disk'}
                //~ if(domain['hardware-boot_order'][0]=='cdrom'){domain['hardware-boot_order'][0]='iso'}
                //~ if(domain['hardware-boot_order'][0]=='network'){domain['hardware-boot_order'][0]='pxe'}
                //~ $(div_id+' #hardware-boot_order option[value="'+domain['hardware-boot_order'][0]+'"]').prop("selected",true);
                
                //~ $(div_id+' #hypervisors_pools option[value="'+domain['hypervisors_pools'][0]+'"]').prop("selected",true);
                //~ if(domain['forced_hyp']){
                    //~ $(div_id+' #forced_hyp option[value="'+domain['forced_hyp']+'"]').prop("selected",true);
                //~ }
				//~ $(div_id+" #hardware-memory").data("ionRangeSlider").update({
						  //~ from: domain['hardware-memory']/1000
                //~ });
				//~ $(div_id+" #hardware-vcpus").data("ionRangeSlider").update({
						  //~ from: domain['hardware-vcpus']
                //~ });
					  
			//~ }); 
	//~ }
    
	function setHardwareDomainDefaults_viewer(div_id,domain_id){
			api.ajax('/domain','POST',{'pk':domain_id,'hs':true}).done(function(domain) {
				$(div_id+" #vcpu").html(domain['hardware-vcpus']+' CPU(s)');
				$(div_id+" #ram").html(domain['hardware-memory']);
                // List could not be ordered! In theory all the disks have same virtual-size
                $(div_id+" #disks").html(domain['disks_info'][0]['virtual-size']);
				$(div_id+" #net").html(domain['hardware-interfaces'][0].id);
				$(div_id+" #graphics").html(domain['hardware-graphics-type']);
                $(div_id+" #video").html(domain['hardware-video-type']);
                $(div_id+" #boot").html(domain['hardware-boot_order']);
                $(div_id+" #hypervisor_pool").html(domain['hypervisors_pools'][0]);
                if(domain['forced_hyp']){
                    $(div_id+" #forced_hyp").html(domain['forced_hyp']);
                    $(div_id+" #forced_hyp").closest("tr").show();
                }else{
                    $(div_id+" #forced_hyp").closest("tr").hide(); //.closest("tr").remove();
                }
			}); 
	}

    function setHardwareGraph() {
        // Not implemented
    }



	function setDomainGenealogy(id){
			api.ajax('/domain_genealogy','POST',{'pk':id}).done(function(gen) {
                var wasted=0
                //~ $.each(gen['genealogy'],function(index,disk){
                $.each(gen['gen_ids'],function(index,val){
                    $("#table-genealogy-"+id).append('<tr><td>'+index+'</td><td>'+val.name+'</td></tr>');
                    //~ $("#table-genealogy-"+id).append('<tr><td>'+index+'</td><td>'+disk.filename+'</td></tr>');
                });  
                renderDiskDonut(gen['free'],gen['wasted'],gen['free_hs'],gen['wasted_hs']);
            });
            
    }
    
    function renderDiskDonut(free,wasted, freehs, wastedhs){
			  var echartDonut = echarts.init(document.getElementById('disk_donut'), theme);
			  echartDonut.setOption({
				tooltip: {
				  trigger: 'item',
				  formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				calculable: true,
				legend: {
				  x: 'center',
				  y: 'bottom',
				  data: ['Free','Used']
				},
				toolbox: {
				  show: true,
				  feature: {
					magicType: {
					  show: true,
					  type: ['pie', 'funnel'],
					  option: {
						funnel: {
						  x: '25%',
						  width: '50%',
						  funnelAlign: 'center',
						  max: 1548
						}
					  }
					},
					//~ restore: {
					  //~ show: true,
					  //~ title: "Restore"
					//~ },
					//~ saveAsImage: {
					  //~ show: true,
					  //~ title: "Save Image"
					//~ }
				  }
				},
				series: [{
				  name: 'Hard disk space',
				  type: 'pie',
				  radius: ['35%', '55%'],
				  itemStyle: {
					normal: {
					  label: {
						show: true
					  },
					  labelLine: {
						show: true
					  }
					},
					emphasis: {
					  label: {
						show: true,
						position: 'center',
						textStyle: {
						  fontSize: '14',
						  fontWeight: 'normal'
						}
					  }
					}
				  },
				  data: [{
					value: free,
					name: 'Free: '+freehs
				  }, {
					value: wasted,
					name: 'Used: '+wastedhs
				  }]
				}]
			  });

     
    }


				  var theme = {
				  color: [
					  '#26B99A', '#34495E', '#BDC3C7', '#3498DB',
					  '#9B59B6', '#8abb6f', '#759c6a', '#bfd3b7'
				  ],

				  title: {
					  itemGap: 8,
					  textStyle: {
						  fontWeight: 'normal',
						  color: '#408829'
					  }
				  },

				  dataRange: {
					  color: ['#1f610a', '#97b58d']
				  },

				  toolbox: {
					  color: ['#408829', '#408829', '#408829', '#408829']
				  },

				  tooltip: {
					  backgroundColor: 'rgba(0,0,0,0.5)',
					  axisPointer: {
						  type: 'line',
						  lineStyle: {
							  color: '#408829',
							  type: 'dashed'
						  },
						  crossStyle: {
							  color: '#408829'
						  },
						  shadowStyle: {
							  color: 'rgba(200,200,200,0.3)'
						  }
					  }
				  },

				  dataZoom: {
					  dataBackgroundColor: '#eee',
					  fillerColor: 'rgba(64,136,41,0.2)',
					  handleColor: '#408829'
				  },
				  grid: {
					  borderWidth: 0
				  },

				  categoryAxis: {
					  axisLine: {
						  lineStyle: {
							  color: '#408829'
						  }
					  },
					  splitLine: {
						  lineStyle: {
							  color: ['#eee']
						  }
					  }
				  },

				  valueAxis: {
					  axisLine: {
						  lineStyle: {
							  color: '#408829'
						  }
					  },
					  splitArea: {
						  show: true,
						  areaStyle: {
							  color: ['rgba(250,250,250,0.1)', 'rgba(200,200,200,0.1)']
						  }
					  },
					  splitLine: {
						  lineStyle: {
							  color: ['#eee']
						  }
					  }
				  },
				  timeline: {
					  lineStyle: {
						  color: '#408829'
					  },
					  controlStyle: {
						  normal: {color: '#408829'},
						  emphasis: {color: '#408829'}
					  }
				  },

				  k: {
					  itemStyle: {
						  normal: {
							  color: '#68a54a',
							  color0: '#a9cba2',
							  lineStyle: {
								  width: 1,
								  color: '#408829',
								  color0: '#86b379'
							  }
						  }
					  }
				  },
				  map: {
					  itemStyle: {
						  normal: {
							  areaStyle: {
								  color: '#ddd'
							  },
							  label: {
								  textStyle: {
									  color: '#c12e34'
								  }
							  }
						  },
						  emphasis: {
							  areaStyle: {
								  color: '#99d2dd'
							  },
							  label: {
								  textStyle: {
									  color: '#c12e34'
								  }
							  }
						  }
					  }
				  },
				  force: {
					  itemStyle: {
						  normal: {
							  linkStyle: {
								  strokeColor: '#408829'
							  }
						  }
					  }
				  },
				  chord: {
					  padding: 4,
					  itemStyle: {
						  normal: {
							  lineStyle: {
								  width: 1,
								  color: 'rgba(128, 128, 128, 0.5)'
							  },
							  chordStyle: {
								  lineStyle: {
									  width: 1,
									  color: 'rgba(128, 128, 128, 0.5)'
								  }
							  }
						  },
						  emphasis: {
							  lineStyle: {
								  width: 1,
								  color: 'rgba(128, 128, 128, 0.5)'
							  },
							  chordStyle: {
								  lineStyle: {
									  width: 1,
									  color: 'rgba(128, 128, 128, 0.5)'
								  }
							  }
						  }
					  }
				  },
				  gauge: {
					  startAngle: 225,
					  endAngle: -45,
					  axisLine: {
						  show: true,
						  lineStyle: {
							  color: [[0.2, '#86b379'], [0.8, '#68a54a'], [1, '#408829']],
							  width: 8
						  }
					  },
					  axisTick: {
						  splitNumber: 10,
						  length: 12,
						  lineStyle: {
							  color: 'auto'
						  }
					  },
					  axisLabel: {
						  textStyle: {
							  color: 'auto'
						  }
					  },
					  splitLine: {
						  length: 18,
						  lineStyle: {
							  color: 'auto'
						  }
					  },
					  pointer: {
						  length: '90%',
						  color: 'auto'
					  },
					  title: {
						  textStyle: {
							  color: '#333'
						  }
					  },
					  detail: {
						  textStyle: {
							  color: 'auto'
						  }
					  }
				  },
				  textStyle: {
					  fontFamily: 'Arial, Verdana, sans-serif'
				  }
			  };

	function setQuotaOptions(parentid,disabled){
        disabled = typeof disabled !== 'undefined' ? disabled : false;
        api.ajax('/hardware','GET','').done(function(hardware) {
            user=hardware.user
            parentid=parentid+' ';
            //~ if( $(parentid+"#quota-domains-desktops").hasAttribute('data-grid') ){
                //~ alert('it has')
                //~ $(parentid+"#quota-domains-desktops").destroy();
            //~ }
				$(parentid+"#quota-domains-desktops").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: user['quota-domains-desktops'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");
				$(parentid+"#quota-domains-running").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: user['quota-domains-running'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");	
				$(parentid+"#quota-domains-templates").ionRangeSlider({
						  type: "single",
						  min: 0,
						  max: user['quota-domains-templates'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");		
				$(parentid+"#quota-domains-isos").ionRangeSlider({
						  type: "single",
						  min: 0,
						  max: user['quota-domains-isos'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");	
				$(parentid+"#quota-hardware-memory").ionRangeSlider({
						  type: "single",
						  min: 1000,
						  max: user['quota-hardware-memory']/1000,
                          step: 250,
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");
				$(parentid+"#quota-hardware-vcpus").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: user['quota-hardware-vcpus'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");	
        });
    }; 

    function quota2dict(data){
         data['quota']={'hardware':{},'domains':{}}
         $.each(data,function(key,value){
             if(key.startsWith('quota-domains')){
                 data['quota']['domains'][key.split('-')[2]] = parseInt(value)  || 0
                 delete data[key];
             }
             if(key.startsWith('quota-hardware')){
                 data['quota']['hardware'][key.split('-')[2]] = parseInt(value)  || 0
                 delete data[key];
             }                 
         })
        return data;
    }

	function setQuotaTableDefaults(div_id,table,id){
			api.ajax('/admin/tabletest/'+table+'/post','POST',{'id':id}).done(function(domain) {
				$(div_id+" #quota-domains-desktops").data("ionRangeSlider").update({
						  from: domain['quota-domains-desktops']
                });
				$(div_id+" #quota-domains-running").data("ionRangeSlider").update({
						  from: domain['quota-domains-running']
                });
                $(div_id+" #quota-domains-templates").data("ionRangeSlider").update({
						  from: domain['quota-domains-templates']
                });
				$(div_id+" #quota-domains-isos").data("ionRangeSlider").update({
						  from: domain['quota-domains-isos']
                });                

				$(div_id+" #quota-hardware-memory").data("ionRangeSlider").update({
						  from: domain['quota-hardware-memory']/1000
                });
				$(div_id+" #quota-hardware-vcpus").data("ionRangeSlider").update({
						  from: domain['quota-hardware-vcpus']
                });
			}); 
        
	}

	function setQuotaDataDefaults(div_id,data){
        api.ajax('/hardware','GET','').done(function(hardware) {
            user=hardware.user
            parentid=div_id+' ';
            disabled=true
				$(parentid+"#quota-domains-desktops").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: user['quota-domains-desktops'],
                          from: data['quota-domains-desktops'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");
				$(parentid+"#quota-domains-running").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: user['quota-domains-running'],
                          from: data['quota-domains-running'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");	
				$(parentid+"#quota-domains-templates").ionRangeSlider({
						  type: "single",
						  min: 0,
						  max: user['quota-domains-templates'],
                          from: data['quota-domains-templates'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");		
				$(parentid+"#quota-domains-isos").ionRangeSlider({
						  type: "single",
						  min: 0,
						  max: user['quota-domains-isos'],
                          from: data['quota-domains-isos'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");	
				$(parentid+"#quota-hardware-memory").ionRangeSlider({
						  type: "single",
						  min: 1000,
						  max: user['quota-hardware-memory']/1000,
                          from: data['quota-hardware-memory'],
                          step: 250,
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");
				$(parentid+"#quota-hardware-vcpus").ionRangeSlider({
						  type: "single",
						  min: 1,
						  max: user['quota-hardware-vcpus'],
                          from: data['quota-hardware-vcpus'],
						  grid: true,
						  disable: disabled
						  }).data("ionRangeSlider");	
        });
        
	}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5taW4uanMiLCJwbm90aWZ5LmpzIiwicG5vdGlmeS5jb25maXJtLmpzIiwicG5vdGlmeS5idXR0b25zLmpzIiwicmVzdGZ1bC5qcyIsInNvY2tldC5pby5taW4uanMiLCJ2aWV3ZXIuanMiLCJkaXNwb3NhYmxlcy5qcyIsImpxdWVyeS5qcyIsImJvb3RzdHJhcC5qcyIsIm5wcm9ncmVzcy5qcyIsImpxdWVyeS5kYXRhVGFibGVzLmpzIiwiZGF0YVRhYmxlcy5ib290c3RyYXAuanMiLCJpb24ucmFuZ2VTbGlkZXIubWluLmpzIiwidmFsaWRhdG9yLmpzIiwicGFyc2xleS5taW4uanMiLCJtb21lbnQubWluLmpzIiwiaWNoZWNrLmpzIiwiYm9vdHN0cmFwLXByb2dyZXNzYmFyLm1pbi5qcyIsImVjaGFydHMubWluLmpzIiwic2VsZWN0Mi5mdWxsLm1pbi5qcyIsImlzYXJkLmpzIiwicXVvdGEuanMiLCJxdW90YV9zb2NrZXQuanMiLCJwcm9maWxlX2dyYXBocy5qcyIsImljaGVjay5taW4uanMiLCJzd2l0Y2hlcnkubWluLmpzIiwiZGVza3RvcHMuanMiLCJ0ZW1wbGF0ZXMuanMiLCJkb21haW5fZGVyaXZhdGVzLmpzIiwiYWxsb3dlZHMuanMiLCJkb21haW5fZ3JhcGhzLmpzIiwiZG9tYWluX2hhcmR3YXJlLmpzIiwiZG9tYWluX2dlbmVhbG9neS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3Q0E7QUFDQTtBQUNBO0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqTEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNzZkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMVpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN2ZBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoQ0E7QUFDQTtBQUNBO0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2WEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWEE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEZBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDektBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FYNVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJpc2FyZC11c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIGpRdWVyeSB2Mi4yLjQgfCAoYykgalF1ZXJ5IEZvdW5kYXRpb24gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbiFmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gYihhKX06YihhKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPWMuc2xpY2UsZj1jLmNvbmNhdCxnPWMucHVzaCxoPWMuaW5kZXhPZixpPXt9LGo9aS50b1N0cmluZyxrPWkuaGFzT3duUHJvcGVydHksbD17fSxtPVwiMi4yLjRcIixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOlwiXCIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBnJiYoaj1nLGc9YXJndW1lbnRzW2hdfHx7fSxoKyspLFwib2JqZWN0XCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09bi50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEudG9TdHJpbmcoKTtyZXR1cm4hbi5pc0FycmF5KGEpJiZiLXBhcnNlRmxvYXQoYikrMT49MH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZihcIm9iamVjdFwiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpKXJldHVybiExO2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSxcImNvbnN0cnVjdG9yXCIpJiYhay5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlfHx7fSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITE7Zm9yKGIgaW4gYSk7cmV0dXJuIHZvaWQgMD09PWJ8fGsuY2FsbChhLGIpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/YStcIlwiOlwib2JqZWN0XCI9PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2lbai5jYWxsKGEpXXx8XCJvYmplY3RcIjp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXt2YXIgYixjPWV2YWw7YT1uLnRyaW0oYSksYSYmKDE9PT1hLmluZGV4T2YoXCJ1c2Ugc3RyaWN0XCIpPyhiPWQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxiLnRleHQ9YSxkLmhlYWQuYXBwZW5kQ2hpbGQoYikucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSk6YyhhKSl9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHAsXCJtcy1cIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOihhK1wiXCIpLnJlcGxhY2UobyxcIlwiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLFwic3RyaW5nXCI9PXR5cGVvZiBhP1thXTphKTpnLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aC5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZz0wLGg9W107aWYocyhhKSlmb3IoZD1hLmxlbmd0aDtkPmc7ZysrKWU9YihhW2ddLGcsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGcgaW4gYSllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZi5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxmO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYz1hW2JdLGI9YSxhPWMpLG4uaXNGdW5jdGlvbihhKT8oZD1lLmNhbGwoYXJndW1lbnRzLDIpLGY9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShifHx0aGlzLGQuY29uY2F0KGUuY2FsbChhcmd1bWVudHMpKSl9LGYuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxuLmd1aWQrKyxmKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Omx9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuLmZuW1N5bWJvbC5pdGVyYXRvcl09Y1tTeW1ib2wuaXRlcmF0b3JdKSxuLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2lbXCJbb2JqZWN0IFwiK2IrXCJdXCJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9ISFhJiZcImxlbmd0aFwiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuXCJmdW5jdGlvblwiPT09Y3x8bi5pc1dpbmRvdyhhKT8hMTpcImFycmF5XCI9PT1jfHwwPT09Ynx8XCJudW1iZXJcIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT1cInNpenpsZVwiKzEqbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1nYSgpLHo9Z2EoKSxBPWdhKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9MTw8MzEsRD17fS5oYXNPd25Qcm9wZXJ0eSxFPVtdLEY9RS5wb3AsRz1FLnB1c2gsSD1FLnB1c2gsST1FLnNsaWNlLEo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LEs9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLEw9XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLE09XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixOPVwiXFxcXFtcIitMK1wiKihcIitNK1wiKSg/OlwiK0wrXCIqKFsqXiR8IX5dPz0pXCIrTCtcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK00rXCIpKXwpXCIrTCtcIipcXFxcXVwiLE89XCI6KFwiK00rXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK04rXCIpKil8LiopXFxcXCl8KVwiLFA9bmV3IFJlZ0V4cChMK1wiK1wiLFwiZ1wiKSxRPW5ldyBSZWdFeHAoXCJeXCIrTCtcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrTCtcIiskXCIsXCJnXCIpLFI9bmV3IFJlZ0V4cChcIl5cIitMK1wiKixcIitMK1wiKlwiKSxTPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiooWz4rfl18XCIrTCtcIilcIitMK1wiKlwiKSxUPW5ldyBSZWdFeHAoXCI9XCIrTCtcIiooW15cXFxcXSdcXFwiXSo/KVwiK0wrXCIqXFxcXF1cIixcImdcIiksVT1uZXcgUmVnRXhwKE8pLFY9bmV3IFJlZ0V4cChcIl5cIitNK1wiJFwiKSxXPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTStcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitNK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTStcInxbKl0pXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitOKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitPKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitMK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrTCtcIiooPzooWystXXwpXCIrTCtcIiooXFxcXGQrKXwpKVwiK0wrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrSytcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK0wrXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK0wrXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK0wrXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFg9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxZPS9eaFxcZCQvaSxaPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sJD0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxfPS9bK35dLyxhYT0vJ3xcXFxcL2csYmE9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK0wrXCI/fChcIitMK1wiKXwuKVwiLFwiaWdcIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiMHhcIitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX0sZGE9ZnVuY3Rpb24oKXttKCl9O3RyeXtILmFwcGx5KEU9SS5jYWxsKHYuY2hpbGROb2Rlcyksdi5jaGlsZE5vZGVzKSxFW3YuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGVhKXtIPXthcHBseTpFLmxlbmd0aD9mdW5jdGlvbihhLGIpe0cuYXBwbHkoYSxJLmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBmYShhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHc9YiYmYi5vd25lckRvY3VtZW50LHg9Yj9iLm5vZGVUeXBlOjk7aWYoZD1kfHxbXSxcInN0cmluZ1wiIT10eXBlb2YgYXx8IWF8fDEhPT14JiY5IT09eCYmMTEhPT14KXJldHVybiBkO2lmKCFlJiYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4scCkpe2lmKDExIT09eCYmKG89JC5leGVjKGEpKSlpZihmPW9bMV0pe2lmKDk9PT14KXtpZighKGo9Yi5nZXRFbGVtZW50QnlJZChmKSkpcmV0dXJuIGQ7aWYoai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2UgaWYodyYmKGo9dy5nZXRFbGVtZW50QnlJZChmKSkmJnQoYixqKSYmai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2V7aWYob1syXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGY9b1szXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYpKSxkfWlmKGMucXNhJiYhQVthK1wiIFwiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKFwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpeyhrPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpP2s9ay5yZXBsYWNlKGFhLFwiXFxcXCQmXCIpOmIuc2V0QXR0cmlidXRlKFwiaWRcIixrPXUpLHI9ZyhhKSxoPXIubGVuZ3RoLGw9Vi50ZXN0KGspP1wiI1wiK2s6XCJbaWQ9J1wiK2srXCInXVwiO3doaWxlKGgtLSlyW2hdPWwrXCIgXCIrcWEocltoXSk7cz1yLmpvaW4oXCIsXCIpLHc9Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxifWlmKHMpdHJ5e3JldHVybiBILmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHMpKSxkfWNhdGNoKHkpe31maW5hbGx5e2s9PT11JiZiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFEsXCIkMVwiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjK1wiIFwiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYytcIiBcIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBoYShhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGlhKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImRpdlwiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoXCJ8XCIpLGU9Yy5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGthKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxDKS0ofmEuc291cmNlSW5kZXh8fEMpO2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBsYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PWN8fFwiYnV0dG9uXCI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIGhhKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGhhKGZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hKFtdLGMubGVuZ3RoLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWNbZT1mW2ddXSYmKGNbZV09IShkW2VdPWNbZV0pKX0pfSl9ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIGEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWM9ZmEuc3VwcG9ydD17fSxmPWZhLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9cIkhUTUxcIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixkYSwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZGEpKSxjLmF0dHJpYnV0ZXM9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPVwiaVwiLCFhLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKX0pLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWU9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQobi5jcmVhdGVDb21tZW50KFwiXCIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRCeUlkJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImlkXCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpjLnFzYT9iLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZihcIipcIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPVoudGVzdChuLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGlhKGZ1bmN0aW9uKGEpe28uYXBwZW5kQ2hpbGQoYSkuaW5uZXJIVE1MPVwiPGEgaWQ9J1wiK3UrXCInPjwvYT48c2VsZWN0IGlkPSdcIit1K1wiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsYS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoJiZxLnB1c2goXCJbKl4kXT1cIitMK1wiKig/OicnfFxcXCJcXFwiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8cS5wdXNoKFwiXFxcXFtcIitMK1wiKig/OnZhbHVlfFwiK0srXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIrdStcIi1dXCIpLmxlbmd0aHx8cS5wdXNoKFwifj1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxxLnB1c2goXCI6Y2hlY2tlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiK3UrXCIrKlwiKS5sZW5ndGh8fHEucHVzaChcIi4jLitbK35dXCIpfSksaWEoZnVuY3Rpb24oYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmcS5wdXNoKFwibmFtZVwiK0wrXCIqWypeJHwhfl0/PVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGh8fHEucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxxLnB1c2goXCIsLio6XCIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj1aLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmlhKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsXCJkaXZcIikscy5jYWxsKGEsXCJbcyE9JyddOnhcIiksci5wdXNoKFwiIT1cIixPKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKFwifFwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oXCJ8XCIpKSxiPVoudGVzdChvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx0PWJ8fFoudGVzdChvLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LEI9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PW58fGEub3duZXJEb2N1bWVudD09PXYmJnQodixhKT8tMTpiPT09bnx8Yi5vd25lckRvY3VtZW50PT09diYmdCh2LGIpPzE6az9KKGssYSktSihrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGU9YS5wYXJlbnROb2RlLGY9Yi5wYXJlbnROb2RlLGc9W2FdLGg9W2JdO2lmKCFlfHwhZilyZXR1cm4gYT09PW4/LTE6Yj09PW4/MTplPy0xOmY/MTprP0ooayxhKS1KKGssYik6MDtpZihlPT09ZilyZXR1cm4ga2EoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpZy51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7d2hpbGUoZ1tkXT09PWhbZF0pZCsrO3JldHVybiBkP2thKGdbZF0saFtkXSk6Z1tkXT09PXY/LTE6aFtkXT09PXY/MTowfSxuKTpufSxmYS5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZhKGEsbnVsbCxudWxsLGIpfSxmYS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksYj1iLnJlcGxhY2UoVCxcIj0nJDEnXVwiKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYitcIiBcIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2EpfSxmYS51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W10sZT0wLGY9MDtpZihsPSFjLmRldGVjdER1cGxpY2F0ZXMsaz0hYy5zb3J0U3RhYmxlJiZhLnNsaWNlKDApLGEuc29ydChCKSxsKXt3aGlsZShiPWFbZisrXSliPT09YVtmXSYmKGU9ZC5wdXNoKGYpKTt3aGlsZShlLS0pYS5zcGxpY2UoZFtlXSwxKX1yZXR1cm4gaz1udWxsLGF9LGU9ZmEuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjPVwiXCIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGJhLGNhKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHxcIlwiKS5yZXBsYWNlKGJhLGNhKSxcIn49XCI9PT1hWzJdJiYoYVszXT1cIiBcIithWzNdK1wiIFwiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSxcIm50aFwiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxmYS5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKihcImV2ZW5cIj09PWFbM118fFwib2RkXCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8XCJvZGRcIj09PWFbM10pKTphWzNdJiZmYS5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gVy5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHxcIlwiOmMmJlUudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZihcIilcIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWE/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9fSxDTEFTUzpmdW5jdGlvbihhKXt2YXIgYj15W2ErXCIgXCJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKFwiKF58XCIrTCtcIilcIithK1wiKFwiK0wrXCJ8JClcIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdChcInN0cmluZ1wiPT10eXBlb2YgYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1mYS5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/XCIhPVwiPT09YjpiPyhlKz1cIlwiLFwiPVwiPT09Yj9lPT09YzpcIiE9XCI9PT1iP2UhPT1jOlwiXj1cIj09PWI/YyYmMD09PWUuaW5kZXhPZihjKTpcIio9XCI9PT1iP2MmJmUuaW5kZXhPZihjKT4tMTpcIiQ9XCI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6XCJ+PVwiPT09Yj8oXCIgXCIrZS5yZXBsYWNlKFAsXCIgXCIpK1wiIFwiKS5pbmRleE9mKGMpPi0xOlwifD1cIj09PWI/ZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrXCItXCI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1cIm50aFwiIT09YS5zbGljZSgwLDMpLGc9XCJsYXN0XCIhPT1hLnNsaWNlKC00KSxoPVwib2YtdHlwZVwiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/XCJuZXh0U2libGluZ1wiOlwicHJldmlvdXNTaWJsaW5nXCIscT1iLnBhcmVudE5vZGUscj1oJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscz0haSYmIWgsdD0hMTtpZihxKXtpZihmKXt3aGlsZShwKXttPWI7d2hpbGUobT1tW3BdKWlmKGg/bS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bS5ub2RlVHlwZSlyZXR1cm4hMTtvPXA9XCJvbmx5XCI9PT1hJiYhbyYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxlbmd0aD4xPyhjPVthLGEsXCJcIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYShmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SihhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDpoYShmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUSxcIiQxXCIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8XCJcIil8fGZhLmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIrYSksYT1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHxiLmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErXCItXCIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmISFhLmNoZWNrZWR8fFwib3B0aW9uXCI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWC50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJlwiYnV0dG9uXCI9PT1hLnR5cGV8fFwiYnV0dG9uXCI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVyblwiaW5wdXRcIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om5hKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpuYShmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bmEoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWxhKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW1hKGIpO2Z1bmN0aW9uIHBhKCl7fXBhLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcGEsZz1mYS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthK1wiIFwiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsXCIgXCIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7Zm9yKGcgaW4gZC5maWx0ZXIpIShlPVdbZ10uZXhlYyhoKSl8fGpbZ10mJiEoZT1qW2ddKGUpKXx8KGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmcsbWF0Y2hlczplfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7aWYoIWMpYnJlYWt9cmV0dXJuIGI/aC5sZW5ndGg6aD9mYS5lcnJvcihhKTp6KGEsaSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHFhKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD1cIlwiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiByYShhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1jJiZcInBhcmVudE5vZGVcIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHxcIipcIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnVhKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj11YShyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/SihmLGwpOm1ba10pPi0xJiYoZltqXT0hKGdbal09bCkpfX1lbHNlIHI9dWEocj09PWc/ci5zcGxpY2UobyxyLmxlbmd0aCk6ciksZT9lKG51bGwsZyxyLGkpOkguYXBwbHkoZyxyKX0pfWZ1bmN0aW9uIHdhKGEpe2Zvcih2YXIgYixjLGUsZj1hLmxlbmd0aCxnPWQucmVsYXRpdmVbYVswXS50eXBlXSxoPWd8fGQucmVsYXRpdmVbXCIgXCJdLGk9Zz8xOjAsaz1yYShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9cmEoZnVuY3Rpb24oYSl7cmV0dXJuIEooYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bcmEoc2EobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHZhKGk+MSYmc2EobSksaT4xJiZxYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09YVtpLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKFEsXCIkMVwiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9XCIwXCIsdD1mJiZbXSx1PVtdLHY9aix4PWZ8fGUmJmQuZmluZC5UQUcoXCIqXCIsaykseT13Kz1udWxsPT12PzE6TWF0aC5yYW5kb20oKXx8LjEsej14Lmxlbmd0aDtmb3IoayYmKGo9Zz09PW58fGd8fGspO3MhPT16JiZudWxsIT0obD14W3NdKTtzKyspe2lmKGUmJmwpe289MCxnfHxsLm93bmVyRG9jdW1lbnQ9PT1ufHwobShsKSxoPSFwKTt3aGlsZShxPWFbbysrXSlpZihxKGwsZ3x8bixoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXkpfWMmJigobD0hcSYmbCkmJnItLSxmJiZ0LnB1c2gobCkpfWlmKHIrPXMsYyYmcyE9PXIpe289MDt3aGlsZShxPWJbbysrXSlxKHQsdSxnLGgpO2lmKGYpe2lmKHI+MCl3aGlsZShzLS0pdFtzXXx8dVtzXXx8KHVbc109Ri5jYWxsKGkpKTt1PXVhKHUpfUguYXBwbHkoaSx1KSxrJiYhZiYmdS5sZW5ndGg+MCYmcitiLmxlbmd0aD4xJiZmYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz15LGo9diksdH07cmV0dXJuIGM/aGEoZik6Zn1yZXR1cm4gaD1mYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthK1wiIFwiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5sZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJlwiSURcIj09PShrPWpbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJnAmJmQucmVsYXRpdmVbalsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKGJhLGNhKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9Vy5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLF8udGVzdChqWzBdLnR5cGUpJiZvYShiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcWEoaiksIWEpcmV0dXJuIEguYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsIWJ8fF8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxpYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxqYShcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsXCJ0eXBlXCI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmaWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGphKFwidmFsdWVcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fFwiaW5wdXRcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxpYShmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwcltcIjpcIl09bi5leHByLnBzZXVkb3Msbi51bmlxdWVTb3J0PW4udW5pcXVlPXQudW5pcXVlU29ydCxuLnRleHQ9dC5nZXRUZXh0LG4uaXNYTUxEb2M9dC5pc1hNTCxuLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJm4oYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSx2PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfSx3PW4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQseD0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8seT0vXi5bXjojXFxbXFwuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2lmKHkudGVzdChiKSlyZXR1cm4gbi5maWx0ZXIoYixhLGMpO2I9bi5maWx0ZXIoYixhKX1yZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGguY2FsbChiLGEpPi0xIT09Y30pfW4uZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT1cIjpub3QoXCIrYStcIilcIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhuKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7Yz5iO2IrKylpZihuLmNvbnRhaW5zKGVbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGI9MDtjPmI7YisrKW4uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP24udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHoodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHoodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXoodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLEM9bi5mbi5pbml0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmO2lmKCFhKXJldHVybiB0aGlzO2lmKGM9Y3x8QSxcInN0cmluZ1wiPT10eXBlb2YgYSl7aWYoZT1cIjxcIj09PWFbMF0mJlwiPlwiPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTpCLmV4ZWMoYSksIWV8fCFlWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8YykuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoZVsxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbj9iWzBdOmIsbi5tZXJnZSh0aGlzLG4ucGFyc2VIVE1MKGVbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6ZCwhMCkpLHgudGVzdChlWzFdKSYmbi5pc1BsYWluT2JqZWN0KGIpKWZvcihlIGluIGIpbi5pc0Z1bmN0aW9uKHRoaXNbZV0pP3RoaXNbZV0oYltlXSk6dGhpcy5hdHRyKGUsYltlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZiksdGhpcy5jb250ZXh0PWQsdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpuLmlzRnVuY3Rpb24oYSk/dm9pZCAwIT09Yy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1uKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDtjPmE7YSsrKWlmKG4uY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPXRoaXMubGVuZ3RoLGY9W10sZz13LnRlc3QoYSl8fFwic3RyaW5nXCIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhP1wic3RyaW5nXCI9PXR5cGVvZiBhP2guY2FsbChuKGEpLHRoaXNbMF0pOmguY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwicGFyZW50Tm9kZVwiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBGKGEsXCJuZXh0U2libGluZ1wiKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJuZXh0U2libGluZ1wiLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHYoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB2KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8bi5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bi5tYXAodGhpcyxiLGMpO3JldHVyblwiVW50aWxcIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGU9bi5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKEVbYV18fG4udW5pcXVlU29ydChlKSxELnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFxTKy9nO2Z1bmN0aW9uIEgoYSl7dmFyIGI9e307cmV0dXJuIG4uZWFjaChhLm1hdGNoKEcpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW4uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOlwiXCIpfSxqPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGMmJiFiJiYoaD1mLmxlbmd0aC0xLGcucHVzaChjKSksZnVuY3Rpb24gZChiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe24uaXNGdW5jdGlvbihjKT9hLnVuaXF1ZSYmai5oYXMoYyl8fGYucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PW4udHlwZShjKSYmZChjKX0pfShhcmd1bWVudHMpLGMmJiFiJiZpKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBuLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9bi5pbkFycmF5KGIsZixjKSk+LTEpZi5zcGxpY2UoYywxKSxoPj1jJiZoLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bi5pbkFycmF5KGEsZik+LTE6Zi5sZW5ndGg+MH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGY9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGY9Yz1cIlwiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGN8fChmPWM9XCJcIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiBlfHwoYz1jfHxbXSxjPVthLGMuc2xpY2U/Yy5zbGljZSgpOmNdLGcucHVzaChjKSxifHxpKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gai5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4gan0sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsbi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsbi5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxjPVwicGVuZGluZ1wiLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkucHJvZ3Jlc3MoYy5ub3RpZnkpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KTpjW2ZbMF0rXCJXaXRoXCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rXCJXaXRoXCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZS5jYWxsKGFyZ3VtZW50cyksZD1jLmxlbmd0aCxmPTEhPT1kfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9kOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2UuY2FsbChhcmd1bWVudHMpOmQsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihkPjEpZm9yKGk9bmV3IEFycmF5KGQpLGo9bmV3IEFycmF5KGQpLGs9bmV3IEFycmF5KGQpO2Q+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkucHJvZ3Jlc3MoaChiLGosaSkpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBJO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChJLnJlc29sdmVXaXRoKGQsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihkKS50cmlnZ2VySGFuZGxlcihcInJlYWR5XCIpLG4oZCkub2ZmKFwicmVhZHlcIikpKSl9fSk7ZnVuY3Rpb24gSigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSiksbi5yZWFkeSgpfW4ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtyZXR1cm4gSXx8KEk9bi5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PWQucmVhZHlTdGF0ZXx8XCJsb2FkaW5nXCIhPT1kLnJlYWR5U3RhdGUmJiFkLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9hLnNldFRpbWVvdXQobi5yZWFkeSk6KGQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSikpKSxJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBLPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoXCJvYmplY3RcIj09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKUsoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sTD1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIE0oKXt0aGlzLmV4cGFuZG89bi5leHBhbmRvK00udWlkKyt9TS51aWQ9MSxNLnByb3RvdHlwZT17cmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx7fTtyZXR1cm4gYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YzpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmMsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYVt0aGlzLmV4cGFuZG9dfSxjYWNoZTpmdW5jdGlvbihhKXtpZighTChhKSlyZXR1cm57fTt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LEwoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWVbYl09YztlbHNlIGZvcihkIGluIGIpZVtkXT1iW2RdO3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwPT09Yj90aGlzLmNhY2hlKGEpOmFbdGhpcy5leHBhbmRvXSYmYVt0aGlzLmV4cGFuZG9dW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWFbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1mKXtpZih2b2lkIDA9PT1iKXRoaXMucmVnaXN0ZXIoYSk7ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZj9kPVtiLGVdOihkPWUsZD1kIGluIGY/W2RdOmQubWF0Y2goRyl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGZbZFtjXV19KHZvaWQgMD09PWJ8fG4uaXNFbXB0eU9iamVjdChmKSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGFbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWFbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09YiYmIW4uaXNFbXB0eU9iamVjdChiKX19O3ZhciBOPW5ldyBNLE89bmV3IE0sUD0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sUT0vW0EtWl0vZztmdW5jdGlvbiBSKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPVwiZGF0YS1cIitiLnJlcGxhY2UoUSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksXCJzdHJpbmdcIj09dHlwZW9mIGMpe3RyeXtjPVwidHJ1ZVwiPT09Yz8hMDpcImZhbHNlXCI9PT1jPyExOlwibnVsbFwiPT09Yz9udWxsOitjK1wiXCI9PT1jPytjOlAudGVzdChjKT9uLnBhcnNlSlNPTihjKTpjO1xufWNhdGNoKGUpe31PLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31uLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTy5oYXNEYXRhKGEpfHxOLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBPLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtPLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE4uYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtOLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9Ty5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFOLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUihmLGQsZVtkXSkpKTtOLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe08uc2V0KHRoaXMsYSl9KTpLKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZDtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU8uZ2V0KGYsYSl8fE8uZ2V0KGYsYS5yZXBsYWNlKFEsXCItJCZcIikudG9Mb3dlckNhc2UoKSksdm9pZCAwIT09YylyZXR1cm4gYztpZihkPW4uY2FtZWxDYXNlKGEpLGM9Ty5nZXQoZixkKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9UihmLGQsdm9pZCAwKSx2b2lkIDAhPT1jKXJldHVybiBjfWVsc2UgZD1uLmNhbWVsQ2FzZShhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1PLmdldCh0aGlzLGQpO08uc2V0KHRoaXMsZCxiKSxhLmluZGV4T2YoXCItXCIpPi0xJiZ2b2lkIDAhPT1jJiZPLnNldCh0aGlzLGEsYil9KX0sbnVsbCxiLGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Ty5yZW1vdmUodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fFwiZnhcIikrXCJxdWV1ZVwiLGQ9Ti5nZXQoYSxiKSxjJiYoIWR8fG4uaXNBcnJheShjKT9kPU4uYWNjZXNzKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHxcImZ4XCI7dmFyIGM9bi5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1uLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe24uZGVxdWV1ZShhLGIpfTtcImlucHJvZ3Jlc3NcIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJihcImZ4XCI9PT1iJiZjLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIE4uZ2V0KGEsYyl8fE4uYWNjZXNzKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXtOLnJlbW92ZShhLFtiK1wicXVldWVcIixjXSl9KX0pfX0pLG4uZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT1cImZ4XCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksXCJmeFwiPT09YSYmXCJpbnByb2dyZXNzXCIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9O1wic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fFwiZnhcIjt3aGlsZShnLS0pYz1OLmdldChmW2ddLGErXCJxdWV1ZUhvb2tzXCIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBTPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxUPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK1MrXCIpKFthLXolXSopJFwiLFwiaVwiKSxVPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxWPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSxcIm5vbmVcIj09PW4uY3NzKGEsXCJkaXNwbGF5XCIpfHwhbi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9O2Z1bmN0aW9uIFcoYSxiLGMsZCl7dmFyIGUsZj0xLGc9MjAsaD1kP2Z1bmN0aW9uKCl7cmV0dXJuIGQuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3NzKGEsYixcIlwiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/XCJcIjpcInB4XCIpLGs9KG4uY3NzTnVtYmVyW2JdfHxcInB4XCIhPT1qJiYraSkmJlQuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fFwiLjVcIixrLz1mLG4uc3R5bGUoYSxiLGsraik7d2hpbGUoZiE9PShmPWgoKS9pKSYmMSE9PWYmJi0tZyl9cmV0dXJuIGMmJihrPStrfHwraXx8MCxlPWNbMV0/aysoY1sxXSsxKSpjWzJdOitjWzJdLGQmJihkLnVuaXQ9aixkLnN0YXJ0PWssZC5lbmQ9ZSkpLGV9dmFyIFg9L14oPzpjaGVja2JveHxyYWRpbykkL2ksWT0vPChbXFx3Oi1dKykvLFo9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSwkPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07JC5vcHRncm91cD0kLm9wdGlvbiwkLnRib2R5PSQudGZvb3Q9JC5jb2xncm91cD0kLmNhcHRpb249JC50aGVhZCwkLnRoPSQudGQ7ZnVuY3Rpb24gXyhhLGIpe3ZhciBjPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYnx8XCIqXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gYWEoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspTi5zZXQoYVtjXSxcImdsb2JhbEV2YWxcIiwhYnx8Ti5nZXQoYltjXSxcImdsb2JhbEV2YWxcIikpfXZhciBiYT0vPHwmIz9cXHcrOy87ZnVuY3Rpb24gY2EoYSxiLGMsZCxlKXtmb3IodmFyIGYsZyxoLGksaixrLGw9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbT1bXSxvPTAscD1hLmxlbmd0aDtwPm87bysrKWlmKGY9YVtvXSxmfHwwPT09ZilpZihcIm9iamVjdFwiPT09bi50eXBlKGYpKW4ubWVyZ2UobSxmLm5vZGVUeXBlP1tmXTpmKTtlbHNlIGlmKGJhLnRlc3QoZikpe2c9Z3x8bC5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGg9KFkuZXhlYyhmKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCksaT0kW2hdfHwkLl9kZWZhdWx0LGcuaW5uZXJIVE1MPWlbMV0rbi5odG1sUHJlZmlsdGVyKGYpK2lbMl0saz1pWzBdO3doaWxlKGstLSlnPWcubGFzdENoaWxkO24ubWVyZ2UobSxnLmNoaWxkTm9kZXMpLGc9bC5maXJzdENoaWxkLGcudGV4dENvbnRlbnQ9XCJcIn1lbHNlIG0ucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtsLnRleHRDb250ZW50PVwiXCIsbz0wO3doaWxlKGY9bVtvKytdKWlmKGQmJm4uaW5BcnJheShmLGQpPi0xKWUmJmUucHVzaChmKTtlbHNlIGlmKGo9bi5jb250YWlucyhmLm93bmVyRG9jdW1lbnQsZiksZz1fKGwuYXBwZW5kQ2hpbGQoZiksXCJzY3JpcHRcIiksaiYmYWEoZyksYyl7az0wO3doaWxlKGY9Z1trKytdKVoudGVzdChmLnR5cGV8fFwiXCIpJiZjLnB1c2goZil9cmV0dXJuIGx9IWZ1bmN0aW9uKCl7dmFyIGE9ZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksYz1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpLGMuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLFwiY2hlY2tlZFwiKSxjLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIiksYi5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsYi5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsbC5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBkYT0vXmtleS8sZWE9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLGZhPS9eKFteLl0qKSg/OlxcLiguKyl8KS87ZnVuY3Rpb24gZ2EoKXtyZXR1cm4hMH1mdW5jdGlvbiBoYSgpe3JldHVybiExfWZ1bmN0aW9uIGlhKCl7dHJ5e3JldHVybiBkLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1mdW5jdGlvbiBqYShhLGIsYyxkLGUsZil7dmFyIGcsaDtpZihcIm9iamVjdFwiPT10eXBlb2YgYil7XCJzdHJpbmdcIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpamEoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGM/KGU9ZCxkPXZvaWQgMCk6KGU9ZCxkPWMsYz12b2lkIDApKSxlPT09ITEpZT1oYTtlbHNlIGlmKCFlKXJldHVybiBhO3JldHVybiAxPT09ZiYmKGc9ZSxlPWZ1bmN0aW9uKGEpe3JldHVybiBuKCkub2ZmKGEpLGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmd1aWQ9Zy5ndWlkfHwoZy5ndWlkPW4uZ3VpZCsrKSksYS5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC5hZGQodGhpcyxiLGUsZCxjKX0pfW4uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9Ti5nZXQoYSk7aWYocil7Yy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZuLmV2ZW50LnRyaWdnZXJlZCE9PWIudHlwZT9uLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9KSxiPShifHxcIlwiKS5tYXRjaChHKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9ZmEuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oXCIuXCIpfSxmKSwobT1pW29dKXx8KG09aVtvXT1bXSxtLmRlbGVnYXRlQ291bnQ9MCxsLnNldHVwJiZsLnNldHVwLmNhbGwoYSxkLHAsZykhPT0hMXx8YS5hZGRFdmVudExpc3RlbmVyJiZhLmFkZEV2ZW50TGlzdGVuZXIobyxnKSksbC5hZGQmJihsLmFkZC5jYWxsKGEsayksay5oYW5kbGVyLmd1aWR8fChrLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsayk6bS5wdXNoKGspLG4uZXZlbnQuZ2xvYmFsW29dPSEwKX19LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1OLmhhc0RhdGEoYSkmJk4uZ2V0KGEpO2lmKHImJihpPXIuZXZlbnRzKSl7Yj0oYnx8XCJcIikubWF0Y2goRyl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyl7bD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitwLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoXCIqKlwiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGlbb10pfWVsc2UgZm9yKG8gaW4gaSluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChpKSYmTi5yZW1vdmUoYSxcImhhbmRsZSBldmVudHNcIil9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPW4uZXZlbnQuZml4KGEpO3ZhciBiLGMsZCxmLGcsaD1bXSxpPWUuY2FsbChhcmd1bWVudHMpLGo9KE4uZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW4uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sYz0wO3doaWxlKChnPWYuaGFuZGxlcnNbYysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpYS5ybmFtZXNwYWNlJiYhYS5ybmFtZXNwYWNlLnRlc3QoZy5uYW1lc3BhY2UpfHwoYS5oYW5kbGVPYmo9ZyxhLmRhdGE9Zy5kYXRhLGQ9KChuLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWQmJihhLnJlc3VsdD1kKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJihcImNsaWNrXCIhPT1hLnR5cGV8fGlzTmFOKGEuYnV0dG9uKXx8YS5idXR0b248MSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZigxPT09aS5ub2RlVHlwZSYmKGkuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09YS50eXBlKSl7Zm9yKGQ9W10sYz0wO2g+YztjKyspZj1iW2NdLGU9Zi5zZWxlY3RvcitcIiBcIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LHByb3BzOlwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZGV0YWlsIGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiLnNwbGl0KFwiIFwiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6XCJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlXCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6XCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnRcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b247cmV0dXJuIG51bGw9PWEucGFnZVgmJm51bGwhPWIuY2xpZW50WCYmKGM9YS50YXJnZXQub3duZXJEb2N1bWVudHx8ZCxlPWMuZG9jdW1lbnRFbGVtZW50LGY9Yy5ib2R5LGEucGFnZVg9Yi5jbGllbnRYKyhlJiZlLnNjcm9sbExlZnR8fGYmJmYuc2Nyb2xsTGVmdHx8MCktKGUmJmUuY2xpZW50TGVmdHx8ZiYmZi5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWIuY2xpZW50WSsoZSYmZS5zY3JvbGxUb3B8fGYmJmYuc2Nyb2xsVG9wfHwwKS0oZSYmZS5jbGllbnRUb3B8fGYmJmYuY2xpZW50VG9wfHwwKSksYS53aGljaHx8dm9pZCAwPT09Z3x8KGEud2hpY2g9MSZnPzE6MiZnPzM6NCZnPzI6MCksYX19LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1lYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpkYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1kKSwzPT09YS50YXJnZXQubm9kZVR5cGUmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09aWEoKSYmdGhpcy5mb2N1cz8odGhpcy5mb2N1cygpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09aWEoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVyblwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLFwiaW5wdXRcIik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihhKXt2b2lkIDAhPT1hLnJlc3VsdCYmYS5vcmlnaW5hbEV2ZW50JiYoYS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWEucmVzdWx0KX19fX0sbi5yZW1vdmVFdmVudD1mdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/Z2E6aGEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6aGEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6aGEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6aGEsaXNTaW11bGF0ZWQ6ITEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9Z2EsYSYmIXRoaXMuaXNTaW11bGF0ZWQmJmEucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmIXRoaXMuaXNTaW11bGF0ZWQmJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWdhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSxuLmVhY2goe21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIixwb2ludGVyZW50ZXI6XCJwb2ludGVyb3ZlclwiLHBvaW50ZXJsZWF2ZTpcInBvaW50ZXJvdXRcIn0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gamEodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlK1wiLlwiK2QubmFtZXNwYWNlOmQub3JpZ1R5cGUsZC5zZWxlY3RvcixkLmhhbmRsZXIpLHRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2ZvcihlIGluIGEpdGhpcy5vZmYoZSxiLGFbZV0pO3JldHVybiB0aGlzfXJldHVybiBiIT09ITEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9aGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9fSk7dmFyIGthPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2ksbGE9LzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksbWE9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxuYT0vXnRydWVcXC8oLiopLyxvYT0vXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7ZnVuY3Rpb24gcGEoYSxiKXtyZXR1cm4gbi5ub2RlTmFtZShhLFwidGFibGVcIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLFwidHJcIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIikpOmF9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrYS50eXBlLGF9ZnVuY3Rpb24gcmEoYSl7dmFyIGI9bmEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxhfWZ1bmN0aW9uIHNhKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTi5oYXNEYXRhKGEpJiYoZj1OLmFjY2VzcyhhKSxnPU4uc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1PLmhhc0RhdGEoYSkmJihoPU8uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTy5zZXQoYixpKSl9fWZ1bmN0aW9uIHRhKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiaW5wdXRcIj09PWMmJlgudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6XCJpbnB1dFwiIT09YyYmXCJ0ZXh0YXJlYVwiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiB1YShhLGIsYyxkKXtiPWYuYXBwbHkoW10sYik7dmFyIGUsZyxoLGksaixrLG09MCxvPWEubGVuZ3RoLHA9by0xLHE9YlswXSxyPW4uaXNGdW5jdGlvbihxKTtpZihyfHxvPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBxJiYhbC5jaGVja0Nsb25lJiZtYS50ZXN0KHEpKXJldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9YS5lcShlKTtyJiYoYlswXT1xLmNhbGwodGhpcyxlLGYuaHRtbCgpKSksdWEoZixiLGMsZCl9KTtpZihvJiYoZT1jYShiLGFbMF0ub3duZXJEb2N1bWVudCwhMSxhLGQpLGc9ZS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT1nKSxnfHxkKSl7Zm9yKGg9bi5tYXAoXyhlLFwic2NyaXB0XCIpLHFhKSxpPWgubGVuZ3RoO28+bTttKyspaj1lLG0hPT1wJiYoaj1uLmNsb25lKGosITAsITApLGkmJm4ubWVyZ2UoaCxfKGosXCJzY3JpcHRcIikpKSxjLmNhbGwoYVttXSxqLG0pO2lmKGkpZm9yKGs9aFtoLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGgscmEpLG09MDtpPm07bSsrKWo9aFttXSxaLnRlc3Qoai50eXBlfHxcIlwiKSYmIU4uYWNjZXNzKGosXCJnbG9iYWxFdmFsXCIpJiZuLmNvbnRhaW5zKGssaikmJihqLnNyYz9uLl9ldmFsVXJsJiZuLl9ldmFsVXJsKGouc3JjKTpuLmdsb2JhbEV2YWwoai50ZXh0Q29udGVudC5yZXBsYWNlKG9hLFwiXCIpKSl9cmV0dXJuIGF9ZnVuY3Rpb24gdmEoYSxiLGMpe2Zvcih2YXIgZCxlPWI/bi5maWx0ZXIoYixhKTphLGY9MDtudWxsIT0oZD1lW2ZdKTtmKyspY3x8MSE9PWQubm9kZVR5cGV8fG4uY2xlYW5EYXRhKF8oZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZhYShfKGQsXCJzY3JpcHRcIikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9bi5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShrYSxcIjwkMT48LyQyPlwiKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1fKGgpLGY9XyhhKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXRhKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fF8oYSksZz1nfHxfKGgpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspc2EoZltkXSxnW2RdKTtlbHNlIHNhKGEsaCk7cmV0dXJuIGc9XyhoLFwic2NyaXB0XCIpLGcubGVuZ3RoPjAmJmFhKGcsIWkmJl8oYSxcInNjcmlwdFwiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1uLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihMKGMpKXtpZihiPWNbTi5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9uLmV2ZW50LnJlbW92ZShjLGQpOm4ucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW04uZXhwYW5kb109dm9pZCAwfWNbTy5leHBhbmRvXSYmKGNbTy5leHBhbmRvXT12b2lkIDApfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6dWEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB2YSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXBhKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9cGEodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoXyhhLCExKSksYS50ZXh0Q29udGVudD1cIlwiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBuLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiYhbGEudGVzdChhKSYmISRbKFkuZXhlYyhhKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPW4uaHRtbFByZWZpbHRlcihhKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihuLmNsZWFuRGF0YShfKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGFyZW50Tm9kZTtuLmluQXJyYXkodGhpcyxhKTwwJiYobi5jbGVhbkRhdGEoXyh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86XCJhcHBlbmRcIixwcmVwZW5kVG86XCJwcmVwZW5kXCIsaW5zZXJ0QmVmb3JlOlwiYmVmb3JlXCIsaW5zZXJ0QWZ0ZXI6XCJhZnRlclwiLHJlcGxhY2VBbGw6XCJyZXBsYWNlV2l0aFwifSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1uKGEpLGY9ZS5sZW5ndGgtMSxoPTA7Zj49aDtoKyspYz1oPT09Zj90aGlzOnRoaXMuY2xvbmUoITApLG4oZVtoXSlbYl0oYyksZy5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgd2EseGE9e0hUTUw6XCJibG9ja1wiLEJPRFk6XCJibG9ja1wifTtmdW5jdGlvbiB5YShhLGIpe3ZhciBjPW4oYi5jcmVhdGVFbGVtZW50KGEpKS5hcHBlbmRUbyhiLmJvZHkpLGQ9bi5jc3MoY1swXSxcImRpc3BsYXlcIik7cmV0dXJuIGMuZGV0YWNoKCksZH1mdW5jdGlvbiB6YShhKXt2YXIgYj1kLGM9eGFbYV07cmV0dXJuIGN8fChjPXlhKGEsYiksXCJub25lXCIhPT1jJiZjfHwod2E9KHdhfHxuKFwiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPlwiKSkuYXBwZW5kVG8oYi5kb2N1bWVudEVsZW1lbnQpLGI9d2FbMF0uY29udGVudERvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz15YShhLGIpLHdhLmRldGFjaCgpKSx4YVthXT1jKSxjfXZhciBBYT0vXm1hcmdpbi8sQmE9bmV3IFJlZ0V4cChcIl4oXCIrUytcIikoPyFweClbYS16JV0rJFwiLFwiaVwiKSxDYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LERhPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfSxFYT1kLmRvY3VtZW50RWxlbWVudDshZnVuY3Rpb24oKXt2YXIgYixjLGUsZixnPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxoPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihoLnN0eWxlKXtoLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiY29udGVudC1ib3hcIixoLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJcIixsLmNsZWFyQ2xvbmVTdHlsZT1cImNvbnRlbnQtYm94XCI9PT1oLnN0eWxlLmJhY2tncm91bmRDbGlwLGcuc3R5bGUuY3NzVGV4dD1cImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlXCIsZy5hcHBlbmRDaGlsZChoKTtmdW5jdGlvbiBpKCl7aC5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt0b3A6MSU7d2lkdGg6NTAlXCIsaC5pbm5lckhUTUw9XCJcIixFYS5hcHBlbmRDaGlsZChnKTt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoaCk7Yj1cIjElXCIhPT1kLnRvcCxmPVwiMnB4XCI9PT1kLm1hcmdpbkxlZnQsYz1cIjRweFwiPT09ZC53aWR0aCxoLnN0eWxlLm1hcmdpblJpZ2h0PVwiNTAlXCIsZT1cIjRweFwiPT09ZC5tYXJnaW5SaWdodCxFYS5yZW1vdmVDaGlsZChnKX1uLmV4dGVuZChsLHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGkoKSxifSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZpKCksY30scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZpKCksZX0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxmfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1oLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1oLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MFwiLGMuc3R5bGUubWFyZ2luUmlnaHQ9Yy5zdHlsZS53aWR0aD1cIjBcIixoLnN0eWxlLndpZHRoPVwiMXB4XCIsRWEuYXBwZW5kQ2hpbGQoZyksYj0hcGFyc2VGbG9hdChhLmdldENvbXB1dGVkU3R5bGUoYykubWFyZ2luUmlnaHQpLEVhLnJlbW92ZUNoaWxkKGcpLGgucmVtb3ZlQ2hpbGQoYyksYn19KX19KCk7ZnVuY3Rpb24gRmEoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxDYShhKSxnPWM/Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdOnZvaWQgMCxcIlwiIT09ZyYmdm9pZCAwIT09Z3x8bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW4uc3R5bGUoYSxiKSksYyYmIWwucGl4ZWxNYXJnaW5SaWdodCgpJiZCYS50ZXN0KGcpJiZBYS50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24gR2EoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIEhhPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxJYT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sSmE9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxLYT1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl0sTGE9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIE1hKGEpe2lmKGEgaW4gTGEpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1LYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9S2FbY10rYixhIGluIExhKXJldHVybiBhfWZ1bmN0aW9uIE5hKGEsYixjKXt2YXIgZD1ULmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzJdLShjfHwwKSkrKGRbM118fFwicHhcIik6Yn1mdW5jdGlvbiBPYShhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1uLmNzcyhhLGMrVVtmXSwhMCxlKSksZD8oXCJjb250ZW50XCI9PT1jJiYoZy09bi5jc3MoYSxcInBhZGRpbmdcIitVW2ZdLCEwLGUpKSxcIm1hcmdpblwiIT09YyYmKGctPW4uY3NzKGEsXCJib3JkZXJcIitVW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1uLmNzcyhhLFwicGFkZGluZ1wiK1VbZl0sITAsZSksXCJwYWRkaW5nXCIhPT1jJiYoZys9bi5jc3MoYSxcImJvcmRlclwiK1VbZl0rXCJXaWR0aFwiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gUGEoYSxiLGMpe3ZhciBkPSEwLGU9XCJ3aWR0aFwiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9Q2EoYSksZz1cImJvcmRlci1ib3hcIj09PW4uY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKTtpZigwPj1lfHxudWxsPT1lKXtpZihlPUZhKGEsYixmKSwoMD5lfHxudWxsPT1lKSYmKGU9YS5zdHlsZVtiXSksQmEudGVzdChlKSlyZXR1cm4gZTtkPWcmJihsLmJveFNpemluZ1JlbGlhYmxlKCl8fGU9PT1hLnN0eWxlW2JdKSxlPXBhcnNlRmxvYXQoZSl8fDB9cmV0dXJuIGUrT2EoYSxiLGN8fChnP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLGQsZikrXCJweFwifWZ1bmN0aW9uIFFhKGEsYil7Zm9yKHZhciBjLGQsZSxmPVtdLGc9MCxoPWEubGVuZ3RoO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihmW2ddPU4uZ2V0KGQsXCJvbGRkaXNwbGF5XCIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fFwibm9uZVwiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSxcIlwiPT09ZC5zdHlsZS5kaXNwbGF5JiZWKGQpJiYoZltnXT1OLmFjY2VzcyhkLFwib2xkZGlzcGxheVwiLHphKGQubm9kZU5hbWUpKSkpOihlPVYoZCksXCJub25lXCI9PT1jJiZlfHxOLnNldChkLFwib2xkZGlzcGxheVwiLGU/YzpuLmNzcyhkLFwiZGlzcGxheVwiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiZcIm5vbmVcIiE9PWQuc3R5bGUuZGlzcGxheSYmXCJcIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fFwiXCI6XCJub25lXCIpKTtyZXR1cm4gYX1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPUZhKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1ULmV4ZWMoYykpJiZlWzFdJiYoYz1XKGEsYixlKSxmPVwibnVtYmVyXCIpLG51bGwhPWMmJmM9PT1jJiYoXCJudW1iZXJcIj09PWYmJihjKz1lJiZlWzNdfHwobi5jc3NOdW1iZXJbaF0/XCJcIjpcInB4XCIpKSxsLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PWN8fDAhPT1iLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoaVtiXT1cImluaGVyaXRcIiksZyYmXCJzZXRcImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSl8fChpW2JdPWMpKSx2b2lkIDApfX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihlPUZhKGEsYixkKSksXCJub3JtYWxcIj09PWUmJmIgaW4gSmEmJihlPUphW2JdKSxcIlwiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8aXNGaW5pdGUoZik/Znx8MDplKTplfX0pLG4uZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9IYS50ZXN0KG4uY3NzKGEsXCJkaXNwbGF5XCIpKSYmMD09PWEub2Zmc2V0V2lkdGg/RGEoYSxJYSxmdW5jdGlvbigpe3JldHVybiBQYShhLGIsZCl9KTpQYShhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGY9ZCYmQ2EoYSksZz1kJiZPYShhLGIsZCxcImJvcmRlci1ib3hcIj09PW4uY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9VC5leGVjKGMpKSYmXCJweFwiIT09KGVbM118fFwicHhcIikmJihhLnN0eWxlW2JdPWMsYz1uLmNzcyhhLGIpKSxOYShhLGMsZyl9fX0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1HYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KEZhKGEsXCJtYXJnaW5MZWZ0XCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LURhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIjp2b2lkIDB9KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0PUdhKGwucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP0RhKGEse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0sRmEsW2EsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK1VbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sQWEudGVzdChhKXx8KG4uY3NzSG9va3NbYStiXS5zZXQ9TmEpfSksbi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobi5pc0FycmF5KGIpKXtmb3IoZD1DYShhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1uLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bi5zdHlsZShhLGIsYyk6bi5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gUWEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gUWEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtWKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFJhLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1SYSxSYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlJhLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/XCJcIjpcInB4XCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6UmEucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9UmEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPW4uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxSYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9UmEucHJvdG90eXBlLFJhLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gMSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbCE9YS5lbGVtW2EucHJvcF0mJm51bGw9PWEuZWxlbS5zdHlsZVthLnByb3BdP2EuZWxlbVthLnByb3BdOihiPW4uY3NzKGEuZWxlbSxhLnByb3AsXCJcIiksYiYmXCJhdXRvXCIhPT1iP2I6MCl9LHNldDpmdW5jdGlvbihhKXtuLmZ4LnN0ZXBbYS5wcm9wXT9uLmZ4LnN0ZXBbYS5wcm9wXShhKToxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsPT1hLmVsZW0uc3R5bGVbbi5jc3NQcm9wc1thLnByb3BdXSYmIW4uY3NzSG9va3NbYS5wcm9wXT9hLmVsZW1bYS5wcm9wXT1hLm5vdzpuLnN0eWxlKGEuZWxlbSxhLnByb3AsYS5ub3crYS51bml0KX19fSxSYS5wcm9wSG9va3Muc2Nyb2xsVG9wPVJhLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEuZWxlbVthLnByb3BdPWEubm93KX19LG4uZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29zKGEqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6XCJzd2luZ1wifSxuLmZ4PVJhLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgU2EsVGEsVWE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFZhPS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gV2EoKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7U2E9dm9pZCAwfSksU2E9bi5ub3coKX1mdW5jdGlvbiBYYShhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPVVbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gWWEoYSxiLGMpe2Zvcih2YXIgZCxlPShfYS50d2VlbmVyc1tiXXx8W10pLmNvbmNhdChfYS50d2VlbmVyc1tcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIFphKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcyxtPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJlYoYSkscT1OLmdldChhLFwiZnhzaG93XCIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIGJ8fFwid2lkdGhcImluIGIpJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLFwiZGlzcGxheVwiKSxrPVwibm9uZVwiPT09aj9OLmdldChhLFwib2xkZGlzcGxheVwiKXx8emEoYS5ub2RlTmFtZSk6aixcImlubGluZVwiPT09ayYmXCJub25lXCI9PT1uLmNzcyhhLFwiZmxvYXRcIikmJihvLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihvLm92ZXJmbG93PVwiaGlkZGVuXCIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLFVhLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShwP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKVwiaW5saW5lXCI9PT0oXCJub25lXCI9PT1qP3phKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT9cImhpZGRlblwiaW4gcSYmKHA9cS5oaWRkZW4pOnE9Ti5hY2Nlc3MoYSxcImZ4c2hvd1wiLHt9KSxmJiYocS5oaWRkZW49IXApLHA/bihhKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7bihhKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtOLnJlbW92ZShhLFwiZnhzaG93XCIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9WWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD1cIndpZHRoXCI9PT1kfHxcImhlaWdodFwiPT09ZD8xOjApKX19ZnVuY3Rpb24gJGEoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiZcImV4cGFuZFwiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIF9hKGEsYixjKXt2YXIgZCxlLGY9MCxnPV9hLnByZWZpbHRlcnMubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9U2F8fFdhKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOm4uZWFzaW5nLl9kZWZhdWx0fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6U2F8fFdhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiPyhoLm5vdGlmeVdpdGgoYSxbaiwxLDBdKSxoLnJlc29sdmVXaXRoKGEsW2osYl0pKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKCRhKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1fYS5wcmVmaWx0ZXJzW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gbi5pc0Z1bmN0aW9uKGQuc3RvcCkmJihuLl9xdWV1ZUhvb2tzKGouZWxlbSxqLm9wdHMucXVldWUpLnN0b3A9bi5wcm94eShkLnN0b3AsZCkpLGQ7cmV0dXJuIG4ubWFwKGssWWEsaiksbi5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihuLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChfYSx7dHdlZW5lcnM6e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKTtyZXR1cm4gVyhjLmVsZW0sYSxULmV4ZWMoYiksYyksY31dfSx0d2VlbmVyOmZ1bmN0aW9uKGEsYil7bi5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bXCIqXCJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLF9hLnR3ZWVuZXJzW2NdPV9hLnR3ZWVuZXJzW2NdfHxbXSxfYS50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltaYV0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9fYS5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6X2EucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIGQuZHVyYXRpb24/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW2QuZHVyYXRpb25dOm4uZnguc3BlZWRzLl9kZWZhdWx0LG51bGwhPWQucXVldWUmJmQucXVldWUhPT0hMHx8KGQucXVldWU9XCJmeFwiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihWKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1fYSh0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxOLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9bi50aW1lcnMsZz1OLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZWYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPU4uZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoWGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlhhKFwic2hvd1wiKSxzbGlkZVVwOlhhKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpYYShcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoU2E9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxTYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtUYXx8KFRhPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKFRhKSxUYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8XCJmeFwiLHRoaXMucXVldWUoYyxmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2V0VGltZW91dChjLGIpO2Quc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJUaW1lb3V0KGUpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9ZC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsbC5jaGVja09uPVwiXCIhPT1hLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGwub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsbC5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgYWIsYmI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT9hYjp2b2lkIDApKSx2b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgbi5yZW1vdmVBdHRyKGEsYik6ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjK1wiXCIpLGMpOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1uLmZpbmQuYXR0cihhLGIpLG51bGw9PWQ/dm9pZCAwOmQpKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighbC5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT1iJiZuLm5vZGVOYW1lKGEsXCJpbnB1dFwiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYiksYyYmKGEudmFsdWU9YyksYn19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChHKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW4ucHJvcEZpeFtjXXx8YyxuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9fSksYWI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxuLmVhY2gobi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9YmJbYl18fG4uZmluZC5hdHRyO2JiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj1iYltiXSxiYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsYmJbYl09ZiksZX19KTt2YXIgY2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxkYj0vXig/OmF8YXJlYSkkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiAxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLFxudm9pZCAwIT09Yz9lJiZcInNldFwiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsXCJ0YWJpbmRleFwiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTpjYi50ZXN0KGEubm9kZU5hbWUpfHxkYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifX0pLGwub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksbi5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgZWI9L1tcXHRcXHJcXG5cXGZdL2c7ZnVuY3Rpb24gZmIoYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifW4uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLGZiKHRoaXMpKSl9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPWZiKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGViLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZihcIiBcIitmK1wiIFwiKTwwJiYoZCs9ZitcIiBcIik7aD1uLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixoKX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsZmIodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLFwiXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKFwiIFwiK2UrXCIgXCIpLnJlcGxhY2UoZWIsXCIgXCIpKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKFwiIFwiK2YrXCIgXCIpPi0xKWQ9ZC5yZXBsYWNlKFwiIFwiK2YrXCIgXCIsXCIgXCIpO2g9bi50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsZmIodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZihcInN0cmluZ1wiPT09Yyl7ZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Ugdm9pZCAwIT09YSYmXCJib29sZWFuXCIhPT1jfHwoYj1mYih0aGlzKSxiJiZOLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYnx8YT09PSExP1wiXCI6Ti5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQ9MDtiPVwiIFwiK2ErXCIgXCI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJihcIiBcIitmYihjKStcIiBcIikucmVwbGFjZShlYixcIiBcIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgZ2I9L1xcci9nLGhiPS9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO24uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1uLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgZT9lKz1cIlwiOm4uaXNBcnJheShlKSYmKGU9bi5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmErXCJcIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwic2V0XCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcImdldFwiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSxcInZhbHVlXCIpKT9jOihjPWUudmFsdWUsXCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGdiLFwiXCIpOm51bGw9PWM/XCJcIjpjKX19fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLFwidmFsdWVcIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKGhiLFwiIFwiKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sKGMuc2VsZWN0ZWR8fGk9PT1lKSYmKGwub3B0RGlzYWJsZWQ/IWMuZGlzYWJsZWQ6bnVsbD09PWMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPW4oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1uLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KG4udmFsSG9va3Mub3B0aW9uLmdldChkKSxmKT4tMSkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG4uZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmEudmFsdWV9KX0pO3ZhciBpYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87bi5leHRlbmQobi5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZyxoLGksaixsLG0sbyxwPVtlfHxkXSxxPWsuY2FsbChiLFwidHlwZVwiKT9iLnR5cGU6YixyPWsuY2FsbChiLFwibmFtZXNwYWNlXCIpP2IubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihoPWk9ZT1lfHxkLDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmIWliLnRlc3QocStuLmV2ZW50LnRyaWdnZXJlZCkmJihxLmluZGV4T2YoXCIuXCIpPi0xJiYocj1xLnNwbGl0KFwiLlwiKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksbD1xLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKFwiLlwiKSxiLnJuYW1lc3BhY2U9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Iuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZSksYz1udWxsPT1jP1tiXTpuLm1ha2VBcnJheShjLFtiXSksbz1uLmV2ZW50LnNwZWNpYWxbcV18fHt9LGZ8fCFvLnRyaWdnZXJ8fG8udHJpZ2dlci5hcHBseShlLGMpIT09ITEpKXtpZighZiYmIW8ubm9CdWJibGUmJiFuLmlzV2luZG93KGUpKXtmb3Ioaj1vLmRlbGVnYXRlVHlwZXx8cSxpYi50ZXN0KGorcSl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlwLnB1c2goaCksaT1oO2k9PT0oZS5vd25lckRvY3VtZW50fHxkKSYmcC5wdXNoKGkuZGVmYXVsdFZpZXd8fGkucGFyZW50V2luZG93fHxhKX1nPTA7d2hpbGUoKGg9cFtnKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zz4xP2o6by5iaW5kVHlwZXx8cSxtPShOLmdldChoLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXSYmTi5nZXQoaCxcImhhbmRsZVwiKSxtJiZtLmFwcGx5KGgsYyksbT1sJiZoW2xdLG0mJm0uYXBwbHkmJkwoaCkmJihiLnJlc3VsdD1tLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZnx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFMKGUpfHxsJiZuLmlzRnVuY3Rpb24oZVtxXSkmJiFuLmlzV2luZG93KGUpJiYoaT1lW2xdLGkmJihlW2xdPW51bGwpLG4uZXZlbnQudHJpZ2dlcmVkPXEsZVtxXSgpLG4uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxpJiYoZVtsXT1pKSksYi5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bi5leHRlbmQobmV3IG4uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwfSk7bi5ldmVudC50cmlnZ2VyKGQsbnVsbCxiKX19KSxuLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9uLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KSxuLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksbi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pLGwuZm9jdXNpbj1cIm9uZm9jdXNpblwiaW4gYSxsLmZvY3VzaW58fG4uZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPU4uYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTi5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1OLmFjY2VzcyhkLGIpLTE7ZT9OLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLE4ucmVtb3ZlKGQsYikpfX19KTt2YXIgamI9YS5sb2NhdGlvbixrYj1uLm5vdygpLGxiPS9cXD8vO24ucGFyc2VKU09OPWZ1bmN0aW9uKGEpe3JldHVybiBKU09OLnBhcnNlKGErXCJcIil9LG4ucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGM7aWYoIWJ8fFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtjPShuZXcgYS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhiLFwidGV4dC94bWxcIil9Y2F0Y2goZCl7Yz12b2lkIDB9cmV0dXJuIGMmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RofHxuLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK2IpLGN9O3ZhciBtYj0vIy4qJC8sbmI9LyhbPyZdKV89W14mXSovLG9iPS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20scGI9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8scWI9L14oPzpHRVR8SEVBRCkkLyxyYj0vXlxcL1xcLy8sc2I9e30sdGI9e30sdWI9XCIqL1wiLmNvbmNhdChcIipcIiksdmI9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTt2Yi5ocmVmPWpiLmhyZWY7ZnVuY3Rpb24gd2IoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWIsYj1cIipcIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pXCIrXCI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fFwiKlwiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09dGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbXCIqXCJdJiZnKFwiKlwiKX1mdW5jdGlvbiB5YihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZuLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gemIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKFwiKlwiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZCYmKGQ9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZStcIiBcIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gQWIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZihcIipcIj09PWYpZj1pO2Vsc2UgaWYoXCIqXCIhPT1pJiZpIT09Zil7aWYoZz1qW2krXCIgXCIrZl18fGpbXCIqIFwiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KFwiIFwiKSxoWzFdPT09ZiYmKGc9altpK1wiIFwiK2hbMF1dfHxqW1wiKiBcIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbXCJ0aHJvd3NcIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmc/bDpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitpK1wiIHRvIFwiK2Z9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6amIuaHJlZix0eXBlOlwiR0VUXCIsaXNMb2NhbDpwYi50ZXN0KGpiLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixhY2NlcHRzOntcIipcIjp1Yix0ZXh0OlwidGV4dC9wbGFpblwiLGh0bWw6XCJ0ZXh0L2h0bWxcIix4bWw6XCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsanNvbjpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwifSxjb250ZW50czp7eG1sOi9cXGJ4bWxcXGIvLGh0bWw6L1xcYmh0bWwvLGpzb246L1xcYmpzb25cXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOlwicmVzcG9uc2VYTUxcIix0ZXh0OlwicmVzcG9uc2VUZXh0XCIsanNvbjpcInJlc3BvbnNlSlNPTlwifSxjb252ZXJ0ZXJzOntcIiogdGV4dFwiOlN0cmluZyxcInRleHQgaHRtbFwiOiEwLFwidGV4dCBqc29uXCI6bi5wYXJzZUpTT04sXCJ0ZXh0IHhtbFwiOm4ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP3liKHliKGEsbi5hamF4U2V0dGluZ3MpLGIpOnliKG4uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOndiKHNiKSxhamF4VHJhbnNwb3J0OndiKHRiKSxhamF4OmZ1bmN0aW9uKGIsYyl7XCJvYmplY3RcIj09dHlwZW9mIGImJihjPWIsYj12b2lkIDApLGM9Y3x8e307dmFyIGUsZixnLGgsaSxqLGssbCxtPW4uYWpheFNldHVwKHt9LGMpLG89bS5jb250ZXh0fHxtLHA9bS5jb250ZXh0JiYoby5ub2RlVHlwZXx8by5qcXVlcnkpP24obyk6bi5ldmVudCxxPW4uRGVmZXJyZWQoKSxyPW4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikscz1tLnN0YXR1c0NvZGV8fHt9LHQ9e30sdT17fSx2PTAsdz1cImNhbmNlbGVkXCIseD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT12KXtpZighaCl7aD17fTt3aGlsZShiPW9iLmV4ZWMoZykpaFtiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1oW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXY/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB2fHwoYT11W2NdPXVbY118fGEsdFthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB2fHwobS5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj52KWZvcihiIGluIGEpc1tiXT1bc1tiXSxhW2JdXTtlbHNlIHguYWx3YXlzKGFbeC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dztyZXR1cm4gZSYmZS5hYm9ydChiKSx6KDAsYiksdGhpc319O2lmKHEucHJvbWlzZSh4KS5jb21wbGV0ZT1yLmFkZCx4LnN1Y2Nlc3M9eC5kb25lLHguZXJyb3I9eC5mYWlsLG0udXJsPSgoYnx8bS51cmx8fGpiLmhyZWYpK1wiXCIpLnJlcGxhY2UobWIsXCJcIikucmVwbGFjZShyYixqYi5wcm90b2NvbCtcIi8vXCIpLG0udHlwZT1jLm1ldGhvZHx8Yy50eXBlfHxtLm1ldGhvZHx8bS50eXBlLG0uZGF0YVR5cGVzPW4udHJpbShtLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W1wiXCJdLG51bGw9PW0uY3Jvc3NEb21haW4pe2o9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTt0cnl7ai5ocmVmPW0udXJsLGouaHJlZj1qLmhyZWYsbS5jcm9zc0RvbWFpbj12Yi5wcm90b2NvbCtcIi8vXCIrdmIuaG9zdCE9ai5wcm90b2NvbCtcIi8vXCIrai5ob3N0fWNhdGNoKHkpe20uY3Jvc3NEb21haW49ITB9fWlmKG0uZGF0YSYmbS5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIG0uZGF0YSYmKG0uZGF0YT1uLnBhcmFtKG0uZGF0YSxtLnRyYWRpdGlvbmFsKSkseGIoc2IsbSxjLHgpLDI9PT12KXJldHVybiB4O2s9bi5ldmVudCYmbS5nbG9iYWwsayYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxtLnR5cGU9bS50eXBlLnRvVXBwZXJDYXNlKCksbS5oYXNDb250ZW50PSFxYi50ZXN0KG0udHlwZSksZj1tLnVybCxtLmhhc0NvbnRlbnR8fChtLmRhdGEmJihmPW0udXJsKz0obGIudGVzdChmKT9cIiZcIjpcIj9cIikrbS5kYXRhLGRlbGV0ZSBtLmRhdGEpLG0uY2FjaGU9PT0hMSYmKG0udXJsPW5iLnRlc3QoZik/Zi5yZXBsYWNlKG5iLFwiJDFfPVwiK2tiKyspOmYrKGxiLnRlc3QoZik/XCImXCI6XCI/XCIpK1wiXz1cIitrYisrKSksbS5pZk1vZGlmaWVkJiYobi5sYXN0TW9kaWZpZWRbZl0mJnguc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLG4uZXRhZ1tmXSkpLChtLmRhdGEmJm0uaGFzQ29udGVudCYmbS5jb250ZW50VHlwZSE9PSExfHxjLmNvbnRlbnRUeXBlKSYmeC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsbS5jb250ZW50VHlwZSkseC5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsbS5kYXRhVHlwZXNbMF0mJm0uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0/bS5hY2NlcHRzW20uZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1tLmRhdGFUeXBlc1swXT9cIiwgXCIrdWIrXCI7IHE9MC4wMVwiOlwiXCIpOm0uYWNjZXB0c1tcIipcIl0pO2ZvcihsIGluIG0uaGVhZGVycyl4LnNldFJlcXVlc3RIZWFkZXIobCxtLmhlYWRlcnNbbF0pO2lmKG0uYmVmb3JlU2VuZCYmKG0uYmVmb3JlU2VuZC5jYWxsKG8seCxtKT09PSExfHwyPT09dikpcmV0dXJuIHguYWJvcnQoKTt3PVwiYWJvcnRcIjtmb3IobCBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl4W2xdKG1bbF0pO2lmKGU9eGIodGIsbSxjLHgpKXtpZih4LnJlYWR5U3RhdGU9MSxrJiZwLnRyaWdnZXIoXCJhamF4U2VuZFwiLFt4LG1dKSwyPT09dilyZXR1cm4geDttLmFzeW5jJiZtLnRpbWVvdXQ+MCYmKGk9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eC5hYm9ydChcInRpbWVvdXRcIil9LG0udGltZW91dCkpO3RyeXt2PTEsZS5zZW5kKHQseil9Y2F0Y2goeSl7aWYoISgyPnYpKXRocm93IHk7eigtMSx5KX19ZWxzZSB6KC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIHooYixjLGQsaCl7dmFyIGosbCx0LHUsdyx5PWM7MiE9PXYmJih2PTIsaSYmYS5jbGVhclRpbWVvdXQoaSksZT12b2lkIDAsZz1ofHxcIlwiLHgucmVhZHlTdGF0ZT1iPjA/NDowLGo9Yj49MjAwJiYzMDA+Ynx8MzA0PT09YixkJiYodT16YihtLHgsZCkpLHU9QWIobSx1LHgsaiksaj8obS5pZk1vZGlmaWVkJiYodz14LmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSx3JiYobi5sYXN0TW9kaWZpZWRbZl09dyksdz14LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSx3JiYobi5ldGFnW2ZdPXcpKSwyMDQ9PT1ifHxcIkhFQURcIj09PW0udHlwZT95PVwibm9jb250ZW50XCI6MzA0PT09Yj95PVwibm90bW9kaWZpZWRcIjooeT11LnN0YXRlLGw9dS5kYXRhLHQ9dS5lcnJvcixqPSF0KSk6KHQ9eSwhYiYmeXx8KHk9XCJlcnJvclwiLDA+YiYmKGI9MCkpKSx4LnN0YXR1cz1iLHguc3RhdHVzVGV4dD0oY3x8eSkrXCJcIixqP3EucmVzb2x2ZVdpdGgobyxbbCx5LHhdKTpxLnJlamVjdFdpdGgobyxbeCx5LHRdKSx4LnN0YXR1c0NvZGUocykscz12b2lkIDAsayYmcC50cmlnZ2VyKGo/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3gsbSxqP2w6dF0pLHIuZmlyZVdpdGgobyxbeCx5XSksayYmKHAudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt4LG1dKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiB4fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5nZXQoYSx2b2lkIDAsYixcInNjcmlwdFwiKX19KSxuLmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGEsYil7bltiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksbi5hamF4KG4uZXh0ZW5kKHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSxuLmlzUGxhaW5PYmplY3QoYSkmJmEpKX19KSxuLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuLmFqYXgoe3VybDphLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LG4uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToodGhpc1swXSYmKGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcyxcImJvZHlcIil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMudmlzaWJsZShhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aD4wfHxhLm9mZnNldEhlaWdodD4wfHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPjB9O3ZhciBCYj0vJTIwL2csQ2I9L1xcW1xcXSQvLERiPS9cXHI/XFxuL2csRWI9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLEZiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBHYihhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxDYi50ZXN0KGEpP2QoYSxlKTpHYihhK1wiW1wiKyhcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9ZT9iOlwiXCIpK1wiXVwiLGUsYyxkKX0pO2Vsc2UgaWYoY3x8XCJvYmplY3RcIiE9PW4udHlwZShiKSlkKGEsYik7ZWxzZSBmb3IoZSBpbiBiKUdiKGErXCJbXCIrZStcIl1cIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iP1wiXCI6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlHYihjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKFwiJlwiKS5yZXBsYWNlKEJiLFwiK1wiKX0sbi5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBuLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9bi5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZGYi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhRWIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVgudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShEYixcIlxcclxcblwiKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKERiLFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pLG4uYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX07dmFyIEhiPXswOjIwMCwxMjIzOjIwNH0sSWI9bi5hamF4U2V0dGluZ3MueGhyKCk7bC5jb3JzPSEhSWImJlwid2l0aENyZWRlbnRpYWxzXCJpbiBJYixsLmFqYXg9SWI9ISFJYixuLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gbC5jb3JzfHxJYiYmIWIuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oZSxmKXt2YXIgZyxoPWIueGhyKCk7aWYoaC5vcGVuKGIudHlwZSxiLnVybCxiLmFzeW5jLGIudXNlcm5hbWUsYi5wYXNzd29yZCksYi54aHJGaWVsZHMpZm9yKGcgaW4gYi54aHJGaWVsZHMpaFtnXT1iLnhockZpZWxkc1tnXTtiLm1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZShiLm1pbWVUeXBlKSxiLmNyb3NzRG9tYWlufHxlW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KGVbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIik7Zm9yKGcgaW4gZSloLnNldFJlcXVlc3RIZWFkZXIoZyxlW2ddKTtjPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2MmJihjPWQ9aC5vbmxvYWQ9aC5vbmVycm9yPWgub25hYm9ydD1oLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLFwiYWJvcnRcIj09PWE/aC5hYm9ydCgpOlwiZXJyb3JcIj09PWE/XCJudW1iZXJcIiE9dHlwZW9mIGguc3RhdHVzP2YoMCxcImVycm9yXCIpOmYoaC5zdGF0dXMsaC5zdGF0dXNUZXh0KTpmKEhiW2guc3RhdHVzXXx8aC5zdGF0dXMsaC5zdGF0dXNUZXh0LFwidGV4dFwiIT09KGgucmVzcG9uc2VUeXBlfHxcInRleHRcIil8fFwic3RyaW5nXCIhPXR5cGVvZiBoLnJlc3BvbnNlVGV4dD97YmluYXJ5OmgucmVzcG9uc2V9Ont0ZXh0OmgucmVzcG9uc2VUZXh0fSxoLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxoLm9ubG9hZD1jKCksZD1oLm9uZXJyb3I9YyhcImVycm9yXCIpLHZvaWQgMCE9PWgub25hYm9ydD9oLm9uYWJvcnQ9ZDpoLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1oLnJlYWR5U3RhdGUmJmEuc2V0VGltZW91dChmdW5jdGlvbigpe2MmJmQoKX0pfSxjPWMoXCJhYm9ydFwiKTt0cnl7aC5zZW5kKGIuaGFzQ29udGVudCYmYi5kYXRhfHxudWxsKX1jYXRjaChpKXtpZihjKXRocm93IGl9fSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19OnZvaWQgMH0pLG4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9XCJHRVRcIil9KSxuLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7Yj1uKFwiPHNjcmlwdD5cIikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oXCJsb2FkIGVycm9yXCIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZmKFwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxkLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEpiPVtdLEtiPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87bi5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9SmIucG9wKCl8fG4uZXhwYW5kbytcIl9cIitrYisrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbi5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihLYi50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJjA9PT0oYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmS2IudGVzdChiLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGh8fFwianNvbnBcIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShLYixcIiQxXCIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShsYi50ZXN0KGIudXJsKT9cIiZcIjpcIj9cIikrYi5qc29ucCtcIj1cIitlKSxiLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBnfHxuLmVycm9yKGUrXCIgd2FzIG5vdCBjYWxsZWRcIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09XCJqc29uXCIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssSmIucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBudWxsO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWNhKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBMYj1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSYmTGIpcmV0dXJuIExiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKFwiIFwiKTtyZXR1cm4gaD4tMSYmKGQ9bi50cmltKGEuc2xpY2UoaCkpLGE9YS5zbGljZSgwLGgpKSxuLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihlPVwiUE9TVFwiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZXx8XCJHRVRcIixkYXRhVHlwZTpcImh0bWxcIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oXCI8ZGl2PlwiKS5hcHBlbmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5hbHdheXMoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSl9KSx0aGlzfSxuLmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTtmdW5jdGlvbiBNYihhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSxcInBvc2l0aW9uXCIpLGw9bihhKSxtPXt9O1wic3RhdGljXCI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsXCJ0b3BcIiksaT1uLmNzcyhhLFwibGVmdFwiKSxqPShcImFic29sdXRlXCI9PT1rfHxcImZpeGVkXCI9PT1rKSYmKGYraSkuaW5kZXhPZihcImF1dG9cIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG4uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxuLmV4dGVuZCh7fSxoKSkpLG51bGwhPWIudG9wJiYobS50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobS5sZWZ0PWIubGVmdC1oLmxlZnQrZSksXCJ1c2luZ1wiaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8oZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9TWIoZikse3RvcDplLnRvcCtjLnBhZ2VZT2Zmc2V0LWIuY2xpZW50VG9wLGxlZnQ6ZS5sZWZ0K2MucGFnZVhPZmZzZXQtYi5jbGllbnRMZWZ0fSk6ZX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9dGhpc1swXSxkPXt0b3A6MCxsZWZ0OjB9O3JldHVyblwiZml4ZWRcIj09PW4uY3NzKGMsXCJwb3NpdGlvblwiKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLFwiaHRtbFwiKXx8KGQ9YS5vZmZzZXQoKSksZC50b3ArPW4uY3NzKGFbMF0sXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxkLmxlZnQrPW4uY3NzKGFbMF0sXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpLHt0b3A6Yi50b3AtZC50b3Atbi5jc3MoYyxcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OmIubGVmdC1kLmxlZnQtbi5jc3MoYyxcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoYSYmXCJzdGF0aWNcIj09PW4uY3NzKGEsXCJwb3NpdGlvblwiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxFYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oYSxiKXt2YXIgYz1cInBhZ2VZT2Zmc2V0XCI9PT1iO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9TWIoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9mW2JdOmFbZF06dm9pZChmP2Yuc2Nyb2xsVG8oYz9mLnBhZ2VYT2Zmc2V0OmUsYz9lOmYucGFnZVlPZmZzZXQpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoKX19KSxuLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1HYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1GYShhLGIpLEJhLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdK1wicHhcIjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7cGFkZGluZzpcImlubmVyXCIrYSxjb250ZW50OmIsXCJcIjpcIm91dGVyXCIrYX0sZnVuY3Rpb24oYyxkKXtuLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fFwiYm9vbGVhblwiIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbi5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVtcInNjcm9sbFwiK2FdLGVbXCJzY3JvbGxcIithXSxiLmJvZHlbXCJvZmZzZXRcIithXSxlW1wib2Zmc2V0XCIrYV0sZVtcImNsaWVudFwiK2FdKSk6dm9pZCAwPT09ZD9uLmNzcyhiLGMsZyk6bi5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxuLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSxcIioqXCIpOnRoaXMub2ZmKGIsYXx8XCIqKlwiLGMpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofX0pLG4uZm4uYW5kU2VsZj1uLmZuLmFkZEJhY2ssXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIE5iPWEualF1ZXJ5LE9iPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU9iKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1OYiksbn0sYnx8KGEualF1ZXJ5PWEuJD1uKSxufSk7XG4iLCIvKlxuUE5vdGlmeSAzLjAuMCBzY2lhY3RpdmUuY29tL3Bub3RpZnkvXG4oQykgMjAxNSBIdW50ZXIgUGVycmluOyBHb29nbGUsIEluYy5cbmxpY2Vuc2UgQXBhY2hlLTIuMFxuKi9cbihmdW5jdGlvbihiLGspe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwicG5vdGlmeVwiLFtcImpxdWVyeVwiXSxmdW5jdGlvbihxKXtyZXR1cm4gayhxLGIpfSk6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1rKHJlcXVpcmUoXCJqcXVlcnlcIiksZ2xvYmFsfHxiKTpiLlBOb3RpZnk9ayhiLmpRdWVyeSxiKX0pKHRoaXMsZnVuY3Rpb24oYixrKXt2YXIgcT1mdW5jdGlvbihsKXt2YXIgaz17ZGlyMTpcImRvd25cIixkaXIyOlwibGVmdFwiLHB1c2g6XCJib3R0b21cIixzcGFjaW5nMTozNixzcGFjaW5nMjozNixjb250ZXh0OmIoXCJib2R5XCIpLG1vZGFsOiExfSxnLGgsbj1iKGwpLHI9ZnVuY3Rpb24oKXtoPWIoXCJib2R5XCIpO2QucHJvdG90eXBlLm9wdGlvbnMuc3RhY2suY29udGV4dD1oO249YihsKTtuLmJpbmQoXCJyZXNpemVcIixmdW5jdGlvbigpe2cmJmNsZWFyVGltZW91dChnKTtnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnBvc2l0aW9uQWxsKCEwKX0sXG4xMCl9KX0scz1mdW5jdGlvbihjKXt2YXIgYT1iKFwiPGRpdiAvPlwiLHtcImNsYXNzXCI6XCJ1aS1wbm90aWZ5LW1vZGFsLW92ZXJsYXlcIn0pO2EucHJlcGVuZFRvKGMuY29udGV4dCk7Yy5vdmVybGF5X2Nsb3NlJiZhLmNsaWNrKGZ1bmN0aW9uKCl7ZC5yZW1vdmVTdGFjayhjKX0pO3JldHVybiBhfSxkPWZ1bmN0aW9uKGMpe3RoaXMucGFyc2VPcHRpb25zKGMpO3RoaXMuaW5pdCgpfTtiLmV4dGVuZChkLnByb3RvdHlwZSx7dmVyc2lvbjpcIjMuMC4wXCIsb3B0aW9uczp7dGl0bGU6ITEsdGl0bGVfZXNjYXBlOiExLHRleHQ6ITEsdGV4dF9lc2NhcGU6ITEsc3R5bGluZzpcImJyaWdodHRoZW1lXCIsYWRkY2xhc3M6XCJcIixjb3JuZXJjbGFzczpcIlwiLGF1dG9fZGlzcGxheTohMCx3aWR0aDpcIjMwMHB4XCIsbWluX2hlaWdodDpcIjE2cHhcIix0eXBlOlwibm90aWNlXCIsaWNvbjohMCxhbmltYXRpb246XCJmYWRlXCIsYW5pbWF0ZV9zcGVlZDpcIm5vcm1hbFwiLHNoYWRvdzohMCxoaWRlOiEwLGRlbGF5OjhFMyxtb3VzZV9yZXNldDohMCxcbnJlbW92ZTohMCxpbnNlcnRfYnJzOiEwLGRlc3Ryb3k6ITAsc3RhY2s6a30sbW9kdWxlczp7fSxydW5Nb2R1bGVzOmZ1bmN0aW9uKGMsYSl7dmFyIHAsYjtmb3IoYiBpbiB0aGlzLm1vZHVsZXMpcD1cIm9iamVjdFwiPT09dHlwZW9mIGEmJmIgaW4gYT9hW2JdOmEsXCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMubW9kdWxlc1tiXVtjXSYmKHRoaXMubW9kdWxlc1tiXS5ub3RpY2U9dGhpcyx0aGlzLm1vZHVsZXNbYl0ub3B0aW9ucz1cIm9iamVjdFwiPT09dHlwZW9mIHRoaXMub3B0aW9uc1tiXT90aGlzLm9wdGlvbnNbYl06e30sdGhpcy5tb2R1bGVzW2JdW2NdKHRoaXMsXCJvYmplY3RcIj09PXR5cGVvZiB0aGlzLm9wdGlvbnNbYl0/dGhpcy5vcHRpb25zW2JdOnt9LHApKX0sc3RhdGU6XCJpbml0aWFsaXppbmdcIix0aW1lcjpudWxsLGFuaW1UaW1lcjpudWxsLHN0eWxlczpudWxsLGVsZW06bnVsbCxjb250YWluZXI6bnVsbCx0aXRsZV9jb250YWluZXI6bnVsbCx0ZXh0X2NvbnRhaW5lcjpudWxsLGFuaW1hdGluZzohMSxcbnRpbWVySGlkZTohMSxpbml0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLm1vZHVsZXM9e307Yi5leHRlbmQoITAsdGhpcy5tb2R1bGVzLGQucHJvdG90eXBlLm1vZHVsZXMpO3RoaXMuc3R5bGVzPVwib2JqZWN0XCI9PT10eXBlb2YgdGhpcy5vcHRpb25zLnN0eWxpbmc/dGhpcy5vcHRpb25zLnN0eWxpbmc6ZC5zdHlsaW5nW3RoaXMub3B0aW9ucy5zdHlsaW5nXTt0aGlzLmVsZW09YihcIjxkaXYgLz5cIix7XCJjbGFzc1wiOlwidWktcG5vdGlmeSBcIit0aGlzLm9wdGlvbnMuYWRkY2xhc3MsY3NzOntkaXNwbGF5Olwibm9uZVwifSxcImFyaWEtbGl2ZVwiOlwiYXNzZXJ0aXZlXCIsXCJhcmlhLXJvbGVcIjpcImFsZXJ0ZGlhbG9nXCIsbW91c2VlbnRlcjpmdW5jdGlvbihhKXtpZihjLm9wdGlvbnMubW91c2VfcmVzZXQmJlwib3V0XCI9PT1jLmFuaW1hdGluZyl7aWYoIWMudGltZXJIaWRlKXJldHVybjtjLmNhbmNlbFJlbW92ZSgpfWMub3B0aW9ucy5oaWRlJiZjLm9wdGlvbnMubW91c2VfcmVzZXQmJmMuY2FuY2VsUmVtb3ZlKCl9LFxubW91c2VsZWF2ZTpmdW5jdGlvbihhKXtjLm9wdGlvbnMuaGlkZSYmYy5vcHRpb25zLm1vdXNlX3Jlc2V0JiZcIm91dFwiIT09Yy5hbmltYXRpbmcmJmMucXVldWVSZW1vdmUoKTtkLnBvc2l0aW9uQWxsKCl9fSk7XCJmYWRlXCI9PT10aGlzLm9wdGlvbnMuYW5pbWF0aW9uJiZ0aGlzLmVsZW0uYWRkQ2xhc3MoXCJ1aS1wbm90aWZ5LWZhZGUtXCIrdGhpcy5vcHRpb25zLmFuaW1hdGVfc3BlZWQpO3RoaXMuY29udGFpbmVyPWIoXCI8ZGl2IC8+XCIse1wiY2xhc3NcIjp0aGlzLnN0eWxlcy5jb250YWluZXIrXCIgdWktcG5vdGlmeS1jb250YWluZXIgXCIrKFwiZXJyb3JcIj09PXRoaXMub3B0aW9ucy50eXBlP3RoaXMuc3R5bGVzLmVycm9yOlwiaW5mb1wiPT09dGhpcy5vcHRpb25zLnR5cGU/dGhpcy5zdHlsZXMuaW5mbzpcInN1Y2Nlc3NcIj09PXRoaXMub3B0aW9ucy50eXBlP3RoaXMuc3R5bGVzLnN1Y2Nlc3M6dGhpcy5zdHlsZXMubm90aWNlKSxyb2xlOlwiYWxlcnRcIn0pLmFwcGVuZFRvKHRoaXMuZWxlbSk7XCJcIiE9PVxudGhpcy5vcHRpb25zLmNvcm5lcmNsYXNzJiZ0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci1hbGxcIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNvcm5lcmNsYXNzKTt0aGlzLm9wdGlvbnMuc2hhZG93JiZ0aGlzLmNvbnRhaW5lci5hZGRDbGFzcyhcInVpLXBub3RpZnktc2hhZG93XCIpOyExIT09dGhpcy5vcHRpb25zLmljb24mJmIoXCI8ZGl2IC8+XCIse1wiY2xhc3NcIjpcInVpLXBub3RpZnktaWNvblwifSkuYXBwZW5kKGIoXCI8c3BhbiAvPlwiLHtcImNsYXNzXCI6ITA9PT10aGlzLm9wdGlvbnMuaWNvbj9cImVycm9yXCI9PT10aGlzLm9wdGlvbnMudHlwZT90aGlzLnN0eWxlcy5lcnJvcl9pY29uOlwiaW5mb1wiPT09dGhpcy5vcHRpb25zLnR5cGU/dGhpcy5zdHlsZXMuaW5mb19pY29uOlwic3VjY2Vzc1wiPT09dGhpcy5vcHRpb25zLnR5cGU/dGhpcy5zdHlsZXMuc3VjY2Vzc19pY29uOnRoaXMuc3R5bGVzLm5vdGljZV9pY29uOnRoaXMub3B0aW9ucy5pY29ufSkpLnByZXBlbmRUbyh0aGlzLmNvbnRhaW5lcik7XG50aGlzLnRpdGxlX2NvbnRhaW5lcj1iKFwiPGg0IC8+XCIse1wiY2xhc3NcIjpcInVpLXBub3RpZnktdGl0bGVcIn0pLmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKTshMT09PXRoaXMub3B0aW9ucy50aXRsZT90aGlzLnRpdGxlX2NvbnRhaW5lci5oaWRlKCk6dGhpcy5vcHRpb25zLnRpdGxlX2VzY2FwZT90aGlzLnRpdGxlX2NvbnRhaW5lci50ZXh0KHRoaXMub3B0aW9ucy50aXRsZSk6dGhpcy50aXRsZV9jb250YWluZXIuaHRtbCh0aGlzLm9wdGlvbnMudGl0bGUpO3RoaXMudGV4dF9jb250YWluZXI9YihcIjxkaXYgLz5cIix7XCJjbGFzc1wiOlwidWktcG5vdGlmeS10ZXh0XCIsXCJhcmlhLXJvbGVcIjpcImFsZXJ0XCJ9KS5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lcik7ITE9PT10aGlzLm9wdGlvbnMudGV4dD90aGlzLnRleHRfY29udGFpbmVyLmhpZGUoKTp0aGlzLm9wdGlvbnMudGV4dF9lc2NhcGU/dGhpcy50ZXh0X2NvbnRhaW5lci50ZXh0KHRoaXMub3B0aW9ucy50ZXh0KTp0aGlzLnRleHRfY29udGFpbmVyLmh0bWwodGhpcy5vcHRpb25zLmluc2VydF9icnM/XG5TdHJpbmcodGhpcy5vcHRpb25zLnRleHQpLnJlcGxhY2UoL1xcbi9nLFwiPGJyIC8+XCIpOnRoaXMub3B0aW9ucy50ZXh0KTtcInN0cmluZ1wiPT09dHlwZW9mIHRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy5lbGVtLmNzcyhcIndpZHRoXCIsdGhpcy5vcHRpb25zLndpZHRoKTtcInN0cmluZ1wiPT09dHlwZW9mIHRoaXMub3B0aW9ucy5taW5faGVpZ2h0JiZ0aGlzLmNvbnRhaW5lci5jc3MoXCJtaW4taGVpZ2h0XCIsdGhpcy5vcHRpb25zLm1pbl9oZWlnaHQpO2Qubm90aWNlcz1cInRvcFwiPT09dGhpcy5vcHRpb25zLnN0YWNrLnB1c2g/Yi5tZXJnZShbdGhpc10sZC5ub3RpY2VzKTpiLm1lcmdlKGQubm90aWNlcyxbdGhpc10pO1widG9wXCI9PT10aGlzLm9wdGlvbnMuc3RhY2sucHVzaCYmdGhpcy5xdWV1ZVBvc2l0aW9uKCExLDEpO3RoaXMub3B0aW9ucy5zdGFjay5hbmltYXRpb249ITE7dGhpcy5ydW5Nb2R1bGVzKFwiaW5pdFwiKTt0aGlzLm9wdGlvbnMuYXV0b19kaXNwbGF5JiZ0aGlzLm9wZW4oKTtyZXR1cm4gdGhpc30sXG51cGRhdGU6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcy5vcHRpb25zO3RoaXMucGFyc2VPcHRpb25zKGEsYyk7dGhpcy5lbGVtLnJlbW92ZUNsYXNzKFwidWktcG5vdGlmeS1mYWRlLXNsb3cgdWktcG5vdGlmeS1mYWRlLW5vcm1hbCB1aS1wbm90aWZ5LWZhZGUtZmFzdFwiKTtcImZhZGVcIj09PXRoaXMub3B0aW9ucy5hbmltYXRpb24mJnRoaXMuZWxlbS5hZGRDbGFzcyhcInVpLXBub3RpZnktZmFkZS1cIit0aGlzLm9wdGlvbnMuYW5pbWF0ZV9zcGVlZCk7dGhpcy5vcHRpb25zLmNvcm5lcmNsYXNzIT09YS5jb3JuZXJjbGFzcyYmdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsIFwiK2EuY29ybmVyY2xhc3MpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jb3JuZXJjbGFzcyk7dGhpcy5vcHRpb25zLnNoYWRvdyE9PWEuc2hhZG93JiYodGhpcy5vcHRpb25zLnNoYWRvdz90aGlzLmNvbnRhaW5lci5hZGRDbGFzcyhcInVpLXBub3RpZnktc2hhZG93XCIpOnRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktcG5vdGlmeS1zaGFkb3dcIikpO1xuITE9PT10aGlzLm9wdGlvbnMuYWRkY2xhc3M/dGhpcy5lbGVtLnJlbW92ZUNsYXNzKGEuYWRkY2xhc3MpOnRoaXMub3B0aW9ucy5hZGRjbGFzcyE9PWEuYWRkY2xhc3MmJnRoaXMuZWxlbS5yZW1vdmVDbGFzcyhhLmFkZGNsYXNzKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWRkY2xhc3MpOyExPT09dGhpcy5vcHRpb25zLnRpdGxlP3RoaXMudGl0bGVfY29udGFpbmVyLnNsaWRlVXAoXCJmYXN0XCIpOnRoaXMub3B0aW9ucy50aXRsZSE9PWEudGl0bGUmJih0aGlzLm9wdGlvbnMudGl0bGVfZXNjYXBlP3RoaXMudGl0bGVfY29udGFpbmVyLnRleHQodGhpcy5vcHRpb25zLnRpdGxlKTp0aGlzLnRpdGxlX2NvbnRhaW5lci5odG1sKHRoaXMub3B0aW9ucy50aXRsZSksITE9PT1hLnRpdGxlJiZ0aGlzLnRpdGxlX2NvbnRhaW5lci5zbGlkZURvd24oMjAwKSk7ITE9PT10aGlzLm9wdGlvbnMudGV4dD90aGlzLnRleHRfY29udGFpbmVyLnNsaWRlVXAoXCJmYXN0XCIpOnRoaXMub3B0aW9ucy50ZXh0IT09XG5hLnRleHQmJih0aGlzLm9wdGlvbnMudGV4dF9lc2NhcGU/dGhpcy50ZXh0X2NvbnRhaW5lci50ZXh0KHRoaXMub3B0aW9ucy50ZXh0KTp0aGlzLnRleHRfY29udGFpbmVyLmh0bWwodGhpcy5vcHRpb25zLmluc2VydF9icnM/U3RyaW5nKHRoaXMub3B0aW9ucy50ZXh0KS5yZXBsYWNlKC9cXG4vZyxcIjxiciAvPlwiKTp0aGlzLm9wdGlvbnMudGV4dCksITE9PT1hLnRleHQmJnRoaXMudGV4dF9jb250YWluZXIuc2xpZGVEb3duKDIwMCkpO3RoaXMub3B0aW9ucy50eXBlIT09YS50eXBlJiZ0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLnN0eWxlcy5lcnJvcitcIiBcIit0aGlzLnN0eWxlcy5ub3RpY2UrXCIgXCIrdGhpcy5zdHlsZXMuc3VjY2VzcytcIiBcIit0aGlzLnN0eWxlcy5pbmZvKS5hZGRDbGFzcyhcImVycm9yXCI9PT10aGlzLm9wdGlvbnMudHlwZT90aGlzLnN0eWxlcy5lcnJvcjpcImluZm9cIj09PXRoaXMub3B0aW9ucy50eXBlP3RoaXMuc3R5bGVzLmluZm86XCJzdWNjZXNzXCI9PT10aGlzLm9wdGlvbnMudHlwZT9cbnRoaXMuc3R5bGVzLnN1Y2Nlc3M6dGhpcy5zdHlsZXMubm90aWNlKTtpZih0aGlzLm9wdGlvbnMuaWNvbiE9PWEuaWNvbnx8ITA9PT10aGlzLm9wdGlvbnMuaWNvbiYmdGhpcy5vcHRpb25zLnR5cGUhPT1hLnR5cGUpdGhpcy5jb250YWluZXIuZmluZChcImRpdi51aS1wbm90aWZ5LWljb25cIikucmVtb3ZlKCksITEhPT10aGlzLm9wdGlvbnMuaWNvbiYmYihcIjxkaXYgLz5cIix7XCJjbGFzc1wiOlwidWktcG5vdGlmeS1pY29uXCJ9KS5hcHBlbmQoYihcIjxzcGFuIC8+XCIse1wiY2xhc3NcIjohMD09PXRoaXMub3B0aW9ucy5pY29uP1wiZXJyb3JcIj09PXRoaXMub3B0aW9ucy50eXBlP3RoaXMuc3R5bGVzLmVycm9yX2ljb246XCJpbmZvXCI9PT10aGlzLm9wdGlvbnMudHlwZT90aGlzLnN0eWxlcy5pbmZvX2ljb246XCJzdWNjZXNzXCI9PT10aGlzLm9wdGlvbnMudHlwZT90aGlzLnN0eWxlcy5zdWNjZXNzX2ljb246dGhpcy5zdHlsZXMubm90aWNlX2ljb246dGhpcy5vcHRpb25zLmljb259KSkucHJlcGVuZFRvKHRoaXMuY29udGFpbmVyKTtcbnRoaXMub3B0aW9ucy53aWR0aCE9PWEud2lkdGgmJnRoaXMuZWxlbS5hbmltYXRlKHt3aWR0aDp0aGlzLm9wdGlvbnMud2lkdGh9KTt0aGlzLm9wdGlvbnMubWluX2hlaWdodCE9PWEubWluX2hlaWdodCYmdGhpcy5jb250YWluZXIuYW5pbWF0ZSh7bWluSGVpZ2h0OnRoaXMub3B0aW9ucy5taW5faGVpZ2h0fSk7dGhpcy5vcHRpb25zLmhpZGU/YS5oaWRlfHx0aGlzLnF1ZXVlUmVtb3ZlKCk6dGhpcy5jYW5jZWxSZW1vdmUoKTt0aGlzLnF1ZXVlUG9zaXRpb24oITApO3RoaXMucnVuTW9kdWxlcyhcInVwZGF0ZVwiLGEpO3JldHVybiB0aGlzfSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT1cIm9wZW5pbmdcIjt0aGlzLnJ1bk1vZHVsZXMoXCJiZWZvcmVPcGVuXCIpO3ZhciBjPXRoaXM7dGhpcy5lbGVtLnBhcmVudCgpLmxlbmd0aHx8dGhpcy5lbGVtLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5zdGFjay5jb250ZXh0P3RoaXMub3B0aW9ucy5zdGFjay5jb250ZXh0OmgpO1widG9wXCIhPT10aGlzLm9wdGlvbnMuc3RhY2sucHVzaCYmXG50aGlzLnBvc2l0aW9uKCEwKTt0aGlzLmFuaW1hdGVJbihmdW5jdGlvbigpe2MucXVldWVQb3NpdGlvbighMCk7Yy5vcHRpb25zLmhpZGUmJmMucXVldWVSZW1vdmUoKTtjLnN0YXRlPVwib3BlblwiO2MucnVuTW9kdWxlcyhcImFmdGVyT3BlblwiKX0pO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYyl7dGhpcy5zdGF0ZT1cImNsb3NpbmdcIjt0aGlzLnRpbWVySGlkZT0hIWM7dGhpcy5ydW5Nb2R1bGVzKFwiYmVmb3JlQ2xvc2VcIik7dmFyIGE9dGhpczt0aGlzLnRpbWVyJiYobC5jbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj1udWxsKTt0aGlzLmFuaW1hdGVPdXQoZnVuY3Rpb24oKXthLnN0YXRlPVwiY2xvc2VkXCI7YS5ydW5Nb2R1bGVzKFwiYWZ0ZXJDbG9zZVwiKTthLnF1ZXVlUG9zaXRpb24oITApO2Eub3B0aW9ucy5yZW1vdmUmJmEuZWxlbS5kZXRhY2goKTthLnJ1bk1vZHVsZXMoXCJiZWZvcmVEZXN0cm95XCIpO2lmKGEub3B0aW9ucy5kZXN0cm95JiZudWxsIT09ZC5ub3RpY2VzKXt2YXIgYz1cbmIuaW5BcnJheShhLGQubm90aWNlcyk7LTEhPT1jJiZkLm5vdGljZXMuc3BsaWNlKGMsMSl9YS5ydW5Nb2R1bGVzKFwiYWZ0ZXJEZXN0cm95XCIpfSk7cmV0dXJuIHRoaXN9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW19LHBhcnNlT3B0aW9uczpmdW5jdGlvbihjLGEpe3RoaXMub3B0aW9ucz1iLmV4dGVuZCghMCx7fSxkLnByb3RvdHlwZS5vcHRpb25zKTt0aGlzLm9wdGlvbnMuc3RhY2s9ZC5wcm90b3R5cGUub3B0aW9ucy5zdGFjaztmb3IodmFyIHA9W2MsYV0sbSxmPTA7ZjxwLmxlbmd0aDtmKyspe209cFtmXTtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIG0pYnJlYWs7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBtKXRoaXMub3B0aW9ucy50ZXh0PW07ZWxzZSBmb3IodmFyIGUgaW4gbSl0aGlzLm1vZHVsZXNbZV0/Yi5leHRlbmQoITAsdGhpcy5vcHRpb25zW2VdLG1bZV0pOnRoaXMub3B0aW9uc1tlXT1tW2VdfX0sYW5pbWF0ZUluOmZ1bmN0aW9uKGMpe3RoaXMuYW5pbWF0aW5nPVxuXCJpblwiO3ZhciBhPXRoaXM7Yz1mdW5jdGlvbigpe2EuYW5pbVRpbWVyJiZjbGVhclRpbWVvdXQoYS5hbmltVGltZXIpO1wiaW5cIj09PWEuYW5pbWF0aW5nJiYoYS5lbGVtLmlzKFwiOnZpc2libGVcIik/KHRoaXMmJnRoaXMuY2FsbCgpLGEuYW5pbWF0aW5nPSExKTphLmFuaW1UaW1lcj1zZXRUaW1lb3V0KGMsNDApKX0uYmluZChjKTtcImZhZGVcIj09PXRoaXMub3B0aW9ucy5hbmltYXRpb24/KHRoaXMuZWxlbS5vbmUoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kIG1velRyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIixjKS5hZGRDbGFzcyhcInVpLXBub3RpZnktaW5cIiksdGhpcy5lbGVtLmNzcyhcIm9wYWNpdHlcIiksdGhpcy5lbGVtLmFkZENsYXNzKFwidWktcG5vdGlmeS1mYWRlLWluXCIpLHRoaXMuYW5pbVRpbWVyPXNldFRpbWVvdXQoYyw2NTApKToodGhpcy5lbGVtLmFkZENsYXNzKFwidWktcG5vdGlmeS1pblwiKSxjKCkpfSxhbmltYXRlT3V0OmZ1bmN0aW9uKGMpe3RoaXMuYW5pbWF0aW5nPVxuXCJvdXRcIjt2YXIgYT10aGlzO2M9ZnVuY3Rpb24oKXthLmFuaW1UaW1lciYmY2xlYXJUaW1lb3V0KGEuYW5pbVRpbWVyKTtcIm91dFwiPT09YS5hbmltYXRpbmcmJihcIjBcIiE9YS5lbGVtLmNzcyhcIm9wYWNpdHlcIikmJmEuZWxlbS5pcyhcIjp2aXNpYmxlXCIpP2EuYW5pbVRpbWVyPXNldFRpbWVvdXQoYyw0MCk6KGEuZWxlbS5yZW1vdmVDbGFzcyhcInVpLXBub3RpZnktaW5cIiksdGhpcyYmdGhpcy5jYWxsKCksYS5hbmltYXRpbmc9ITEpKX0uYmluZChjKTtcImZhZGVcIj09PXRoaXMub3B0aW9ucy5hbmltYXRpb24/KHRoaXMuZWxlbS5vbmUoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kIG1velRyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIixjKS5yZW1vdmVDbGFzcyhcInVpLXBub3RpZnktZmFkZS1pblwiKSx0aGlzLmFuaW1UaW1lcj1zZXRUaW1lb3V0KGMsNjUwKSk6KHRoaXMuZWxlbS5yZW1vdmVDbGFzcyhcInVpLXBub3RpZnktaW5cIiksYygpKX0scG9zaXRpb246ZnVuY3Rpb24oYyl7dmFyIGE9XG50aGlzLm9wdGlvbnMuc3RhY2ssYj10aGlzLmVsZW07XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhLmNvbnRleHQmJihhLmNvbnRleHQ9aCk7aWYoYSl7XCJudW1iZXJcIiE9PXR5cGVvZiBhLm5leHRwb3MxJiYoYS5uZXh0cG9zMT1hLmZpcnN0cG9zMSk7XCJudW1iZXJcIiE9PXR5cGVvZiBhLm5leHRwb3MyJiYoYS5uZXh0cG9zMj1hLmZpcnN0cG9zMik7XCJudW1iZXJcIiE9PXR5cGVvZiBhLmFkZHBvczImJihhLmFkZHBvczI9MCk7dmFyIGQ9IWIuaGFzQ2xhc3MoXCJ1aS1wbm90aWZ5LWluXCIpO2lmKCFkfHxjKXthLm1vZGFsJiYoYS5vdmVybGF5P2Eub3ZlcmxheS5zaG93KCk6YS5vdmVybGF5PXMoYSkpO2IuYWRkQ2xhc3MoXCJ1aS1wbm90aWZ5LW1vdmVcIik7dmFyIGY7c3dpdGNoKGEuZGlyMSl7Y2FzZSBcImRvd25cIjpmPVwidG9wXCI7YnJlYWs7Y2FzZSBcInVwXCI6Zj1cImJvdHRvbVwiO2JyZWFrO2Nhc2UgXCJsZWZ0XCI6Zj1cInJpZ2h0XCI7YnJlYWs7Y2FzZSBcInJpZ2h0XCI6Zj1cImxlZnRcIn1jPXBhcnNlSW50KGIuY3NzKGYpLnJlcGxhY2UoLyg/OlxcLi4qfFteMC05Ll0pL2csXG5cIlwiKSk7aXNOYU4oYykmJihjPTApO1widW5kZWZpbmVkXCIhPT10eXBlb2YgYS5maXJzdHBvczF8fGR8fChhLmZpcnN0cG9zMT1jLGEubmV4dHBvczE9YS5maXJzdHBvczEpO3ZhciBlO3N3aXRjaChhLmRpcjIpe2Nhc2UgXCJkb3duXCI6ZT1cInRvcFwiO2JyZWFrO2Nhc2UgXCJ1cFwiOmU9XCJib3R0b21cIjticmVhaztjYXNlIFwibGVmdFwiOmU9XCJyaWdodFwiO2JyZWFrO2Nhc2UgXCJyaWdodFwiOmU9XCJsZWZ0XCJ9Yz1wYXJzZUludChiLmNzcyhlKS5yZXBsYWNlKC8oPzpcXC4uKnxbXjAtOS5dKS9nLFwiXCIpKTtpc05hTihjKSYmKGM9MCk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhLmZpcnN0cG9zMnx8ZHx8KGEuZmlyc3Rwb3MyPWMsYS5uZXh0cG9zMj1hLmZpcnN0cG9zMik7aWYoXCJkb3duXCI9PT1hLmRpcjEmJmEubmV4dHBvczErYi5oZWlnaHQoKT4oYS5jb250ZXh0LmlzKGgpP24uaGVpZ2h0KCk6YS5jb250ZXh0LnByb3AoXCJzY3JvbGxIZWlnaHRcIikpfHxcInVwXCI9PT1hLmRpcjEmJmEubmV4dHBvczErYi5oZWlnaHQoKT5cbihhLmNvbnRleHQuaXMoaCk/bi5oZWlnaHQoKTphLmNvbnRleHQucHJvcChcInNjcm9sbEhlaWdodFwiKSl8fFwibGVmdFwiPT09YS5kaXIxJiZhLm5leHRwb3MxK2Iud2lkdGgoKT4oYS5jb250ZXh0LmlzKGgpP24ud2lkdGgoKTphLmNvbnRleHQucHJvcChcInNjcm9sbFdpZHRoXCIpKXx8XCJyaWdodFwiPT09YS5kaXIxJiZhLm5leHRwb3MxK2Iud2lkdGgoKT4oYS5jb250ZXh0LmlzKGgpP24ud2lkdGgoKTphLmNvbnRleHQucHJvcChcInNjcm9sbFdpZHRoXCIpKSlhLm5leHRwb3MxPWEuZmlyc3Rwb3MxLGEubmV4dHBvczIrPWEuYWRkcG9zMisoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhLnNwYWNpbmcyPzI1OmEuc3BhY2luZzIpLGEuYWRkcG9zMj0wO1wibnVtYmVyXCI9PT10eXBlb2YgYS5uZXh0cG9zMiYmKGEuYW5pbWF0aW9uP2IuY3NzKGUsYS5uZXh0cG9zMitcInB4XCIpOihiLnJlbW92ZUNsYXNzKFwidWktcG5vdGlmeS1tb3ZlXCIpLGIuY3NzKGUsYS5uZXh0cG9zMitcInB4XCIpLGIuY3NzKGUpLGIuYWRkQ2xhc3MoXCJ1aS1wbm90aWZ5LW1vdmVcIikpKTtcbnN3aXRjaChhLmRpcjIpe2Nhc2UgXCJkb3duXCI6Y2FzZSBcInVwXCI6Yi5vdXRlckhlaWdodCghMCk+YS5hZGRwb3MyJiYoYS5hZGRwb3MyPWIuaGVpZ2h0KCkpO2JyZWFrO2Nhc2UgXCJsZWZ0XCI6Y2FzZSBcInJpZ2h0XCI6Yi5vdXRlcldpZHRoKCEwKT5hLmFkZHBvczImJihhLmFkZHBvczI9Yi53aWR0aCgpKX1cIm51bWJlclwiPT09dHlwZW9mIGEubmV4dHBvczEmJihhLmFuaW1hdGlvbj9iLmNzcyhmLGEubmV4dHBvczErXCJweFwiKTooYi5yZW1vdmVDbGFzcyhcInVpLXBub3RpZnktbW92ZVwiKSxiLmNzcyhmLGEubmV4dHBvczErXCJweFwiKSxiLmNzcyhmKSxiLmFkZENsYXNzKFwidWktcG5vdGlmeS1tb3ZlXCIpKSk7c3dpdGNoKGEuZGlyMSl7Y2FzZSBcImRvd25cIjpjYXNlIFwidXBcIjphLm5leHRwb3MxKz1iLmhlaWdodCgpKyhcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEuc3BhY2luZzE/MjU6YS5zcGFjaW5nMSk7YnJlYWs7Y2FzZSBcImxlZnRcIjpjYXNlIFwicmlnaHRcIjphLm5leHRwb3MxKz1iLndpZHRoKCkrKFwidW5kZWZpbmVkXCI9PT1cbnR5cGVvZiBhLnNwYWNpbmcxPzI1OmEuc3BhY2luZzEpfX1yZXR1cm4gdGhpc319LHF1ZXVlUG9zaXRpb246ZnVuY3Rpb24oYixhKXtnJiZjbGVhclRpbWVvdXQoZyk7YXx8KGE9MTApO2c9c2V0VGltZW91dChmdW5jdGlvbigpe2QucG9zaXRpb25BbGwoYil9LGEpO3JldHVybiB0aGlzfSxjYW5jZWxSZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnRpbWVyJiZsLmNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmFuaW1UaW1lciYmbC5jbGVhclRpbWVvdXQodGhpcy5hbmltVGltZXIpO1wiY2xvc2luZ1wiPT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9XCJvcGVuXCIsdGhpcy5hbmltYXRpbmc9ITEsdGhpcy5lbGVtLmFkZENsYXNzKFwidWktcG5vdGlmeS1pblwiKSxcImZhZGVcIj09PXRoaXMub3B0aW9ucy5hbmltYXRpb24mJnRoaXMuZWxlbS5hZGRDbGFzcyhcInVpLXBub3RpZnktZmFkZS1pblwiKSk7cmV0dXJuIHRoaXN9LHF1ZXVlUmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLmNhbmNlbFJlbW92ZSgpO1xudGhpcy50aW1lcj1sLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlbW92ZSghMCl9LGlzTmFOKHRoaXMub3B0aW9ucy5kZWxheSk/MDp0aGlzLm9wdGlvbnMuZGVsYXkpO3JldHVybiB0aGlzfX0pO2IuZXh0ZW5kKGQse25vdGljZXM6W10scmVsb2FkOnEscmVtb3ZlQWxsOmZ1bmN0aW9uKCl7Yi5lYWNoKGQubm90aWNlcyxmdW5jdGlvbigpe3RoaXMucmVtb3ZlJiZ0aGlzLnJlbW92ZSghMSl9KX0scmVtb3ZlU3RhY2s6ZnVuY3Rpb24oYyl7Yi5lYWNoKGQubm90aWNlcyxmdW5jdGlvbigpe3RoaXMucmVtb3ZlJiZ0aGlzLm9wdGlvbnMuc3RhY2s9PT1jJiZ0aGlzLnJlbW92ZSghMSl9KX0scG9zaXRpb25BbGw6ZnVuY3Rpb24oYyl7ZyYmY2xlYXJUaW1lb3V0KGcpO2c9bnVsbDtpZihkLm5vdGljZXMmJmQubm90aWNlcy5sZW5ndGgpYi5lYWNoKGQubm90aWNlcyxmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5zdGFjazthJiYoYS5vdmVybGF5JiZhLm92ZXJsYXkuaGlkZSgpLGEubmV4dHBvczE9XG5hLmZpcnN0cG9zMSxhLm5leHRwb3MyPWEuZmlyc3Rwb3MyLGEuYWRkcG9zMj0wLGEuYW5pbWF0aW9uPWMpfSksYi5lYWNoKGQubm90aWNlcyxmdW5jdGlvbigpe3RoaXMucG9zaXRpb24oKX0pO2Vsc2V7dmFyIGE9ZC5wcm90b3R5cGUub3B0aW9ucy5zdGFjazthJiYoZGVsZXRlIGEubmV4dHBvczEsZGVsZXRlIGEubmV4dHBvczIpfX0sc3R5bGluZzp7YnJpZ2h0dGhlbWU6e2NvbnRhaW5lcjpcImJyaWdodHRoZW1lXCIsbm90aWNlOlwiYnJpZ2h0dGhlbWUtbm90aWNlXCIsbm90aWNlX2ljb246XCJicmlnaHR0aGVtZS1pY29uLW5vdGljZVwiLGluZm86XCJicmlnaHR0aGVtZS1pbmZvXCIsaW5mb19pY29uOlwiYnJpZ2h0dGhlbWUtaWNvbi1pbmZvXCIsc3VjY2VzczpcImJyaWdodHRoZW1lLXN1Y2Nlc3NcIixzdWNjZXNzX2ljb246XCJicmlnaHR0aGVtZS1pY29uLXN1Y2Nlc3NcIixlcnJvcjpcImJyaWdodHRoZW1lLWVycm9yXCIsZXJyb3JfaWNvbjpcImJyaWdodHRoZW1lLWljb24tZXJyb3JcIn0sanF1ZXJ5dWk6e2NvbnRhaW5lcjpcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIsXG5ub3RpY2U6XCJ1aS1zdGF0ZS1oaWdobGlnaHRcIixub3RpY2VfaWNvbjpcInVpLWljb24gdWktaWNvbi1pbmZvXCIsaW5mbzpcIlwiLGluZm9faWNvbjpcInVpLWljb24gdWktaWNvbi1pbmZvXCIsc3VjY2VzczpcInVpLXN0YXRlLWRlZmF1bHRcIixzdWNjZXNzX2ljb246XCJ1aS1pY29uIHVpLWljb24tY2lyY2xlLWNoZWNrXCIsZXJyb3I6XCJ1aS1zdGF0ZS1lcnJvclwiLGVycm9yX2ljb246XCJ1aS1pY29uIHVpLWljb24tYWxlcnRcIn0sYm9vdHN0cmFwMzp7Y29udGFpbmVyOlwiYWxlcnRcIixub3RpY2U6XCJhbGVydC13YXJuaW5nXCIsbm90aWNlX2ljb246XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ25cIixpbmZvOlwiYWxlcnQtaW5mb1wiLGluZm9faWNvbjpcImdseXBoaWNvbiBnbHlwaGljb24taW5mby1zaWduXCIsc3VjY2VzczpcImFsZXJ0LXN1Y2Nlc3NcIixzdWNjZXNzX2ljb246XCJnbHlwaGljb24gZ2x5cGhpY29uLW9rLXNpZ25cIixlcnJvcjpcImFsZXJ0LWRhbmdlclwiLGVycm9yX2ljb246XCJnbHlwaGljb24gZ2x5cGhpY29uLXdhcm5pbmctc2lnblwifX19KTtcbmQuc3R5bGluZy5mb250YXdlc29tZT1iLmV4dGVuZCh7fSxkLnN0eWxpbmcuYm9vdHN0cmFwMyk7Yi5leHRlbmQoZC5zdHlsaW5nLmZvbnRhd2Vzb21lLHtub3RpY2VfaWNvbjpcImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZVwiLGluZm9faWNvbjpcImZhIGZhLWluZm9cIixzdWNjZXNzX2ljb246XCJmYSBmYS1jaGVja1wiLGVycm9yX2ljb246XCJmYSBmYS13YXJuaW5nXCJ9KTtsLmRvY3VtZW50LmJvZHk/cigpOmIocik7cmV0dXJuIGR9O3JldHVybiBxKGspfSk7XG4iLCIoZnVuY3Rpb24oZSxjKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcInBub3RpZnkuY29uZmlybVwiLFtcImpxdWVyeVwiLFwicG5vdGlmeVwiXSxjKTpcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWMocmVxdWlyZShcImpxdWVyeVwiKSxyZXF1aXJlKFwiLi9wbm90aWZ5XCIpKTpjKGUualF1ZXJ5LGUuUE5vdGlmeSl9KSh0aGlzLGZ1bmN0aW9uKGUsYyl7Yy5wcm90b3R5cGUub3B0aW9ucy5jb25maXJtPXtjb25maXJtOiExLHByb21wdDohMSxwcm9tcHRfY2xhc3M6XCJcIixwcm9tcHRfZGVmYXVsdDpcIlwiLHByb21wdF9tdWx0aV9saW5lOiExLGFsaWduOlwicmlnaHRcIixidXR0b25zOlt7dGV4dDpcIk9rXCIsYWRkQ2xhc3M6XCJcIixwcm9tcHRUcmlnZ2VyOiEwLGNsaWNrOmZ1bmN0aW9uKGIsYSl7Yi5yZW1vdmUoKTtiLmdldCgpLnRyaWdnZXIoXCJwbm90aWZ5LmNvbmZpcm1cIixbYixhXSl9fSx7dGV4dDpcIkNhbmNlbFwiLFxuYWRkQ2xhc3M6XCJcIixjbGljazpmdW5jdGlvbihiKXtiLnJlbW92ZSgpO2IuZ2V0KCkudHJpZ2dlcihcInBub3RpZnkuY2FuY2VsXCIsYil9fV19O2MucHJvdG90eXBlLm1vZHVsZXMuY29uZmlybT17Y29udGFpbmVyOm51bGwscHJvbXB0Om51bGwsaW5pdDpmdW5jdGlvbihiLGEpe3RoaXMuY29udGFpbmVyPWUoJzxkaXYgY2xhc3M9XCJ1aS1wbm90aWZ5LWFjdGlvbi1iYXJcIiBzdHlsZT1cIm1hcmdpbi10b3A6NXB4O2NsZWFyOmJvdGg7XCIgLz4nKS5jc3MoXCJ0ZXh0LWFsaWduXCIsYS5hbGlnbikuYXBwZW5kVG8oYi5jb250YWluZXIpO2EuY29uZmlybXx8YS5wcm9tcHQ/dGhpcy5tYWtlRGlhbG9nKGIsYSk6dGhpcy5jb250YWluZXIuaGlkZSgpfSx1cGRhdGU6ZnVuY3Rpb24oYixhKXthLmNvbmZpcm0/KHRoaXMubWFrZURpYWxvZyhiLGEpLHRoaXMuY29udGFpbmVyLnNob3coKSk6dGhpcy5jb250YWluZXIuaGlkZSgpLmVtcHR5KCl9LGFmdGVyT3BlbjpmdW5jdGlvbihiLGEpe2EucHJvbXB0JiZcbnRoaXMucHJvbXB0LmZvY3VzKCl9LG1ha2VEaWFsb2c6ZnVuY3Rpb24oYixhKXt2YXIgaD0hMSxsPXRoaXMsZyxkO3RoaXMuY29udGFpbmVyLmVtcHR5KCk7YS5wcm9tcHQmJih0aGlzLnByb21wdD1lKFwiPFwiKyhhLnByb21wdF9tdWx0aV9saW5lPyd0ZXh0YXJlYSByb3dzPVwiNVwiJzonaW5wdXQgdHlwZT1cInRleHRcIicpKycgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjVweDtjbGVhcjpib3RoO1wiIC8+JykuYWRkQ2xhc3MoKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYi5zdHlsZXMuaW5wdXQ/XCJcIjpiLnN0eWxlcy5pbnB1dCkrXCIgXCIrKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYS5wcm9tcHRfY2xhc3M/XCJcIjphLnByb21wdF9jbGFzcykpLnZhbChhLnByb21wdF9kZWZhdWx0KS5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lcikpO2Zvcih2YXIgbT1hLmJ1dHRvbnNbMF0mJmEuYnV0dG9uc1swXSE9PWMucHJvdG90eXBlLm9wdGlvbnMuY29uZmlybS5idXR0b25zWzBdLGY9MDtmPGEuYnV0dG9ucy5sZW5ndGg7ZisrKWlmKCEobnVsbD09PVxuYS5idXR0b25zW2ZdfHxtJiZjLnByb3RvdHlwZS5vcHRpb25zLmNvbmZpcm0uYnV0dG9uc1tmXSYmYy5wcm90b3R5cGUub3B0aW9ucy5jb25maXJtLmJ1dHRvbnNbZl09PT1hLmJ1dHRvbnNbZl0pKXtnPWEuYnV0dG9uc1tmXTtoP3RoaXMuY29udGFpbmVyLmFwcGVuZChcIiBcIik6aD0hMDtkPWUoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidWktcG5vdGlmeS1hY3Rpb24tYnV0dG9uXCIgLz4nKS5hZGRDbGFzcygoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBiLnN0eWxlcy5idG4/XCJcIjpiLnN0eWxlcy5idG4pK1wiIFwiKyhcInVuZGVmaW5lZFwiPT09dHlwZW9mIGcuYWRkQ2xhc3M/XCJcIjpnLmFkZENsYXNzKSkudGV4dChnLnRleHQpLmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oayl7cmV0dXJuIGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2Ygay5jbGljayYmay5jbGljayhiLGEucHJvbXB0P2wucHJvbXB0LnZhbCgpOm51bGwpfX0oZykpO2EucHJvbXB0JiZcbiFhLnByb21wdF9tdWx0aV9saW5lJiZnLnByb21wdFRyaWdnZXImJnRoaXMucHJvbXB0LmtleXByZXNzKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihhKXsxMz09YS5rZXlDb2RlJiZiLmNsaWNrKCl9fShkKSk7Yi5zdHlsZXMudGV4dCYmZC53cmFwSW5uZXIoJzxzcGFuIGNsYXNzPVwiJytiLnN0eWxlcy50ZXh0KydcIj48L3NwYW4+Jyk7Yi5zdHlsZXMuYnRuaG92ZXImJmQuaG92ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YS5hZGRDbGFzcyhiLnN0eWxlcy5idG5ob3Zlcil9fShkKSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXthLnJlbW92ZUNsYXNzKGIuc3R5bGVzLmJ0bmhvdmVyKX19KGQpKTtpZihiLnN0eWxlcy5idG5hY3RpdmUpZC5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2EuYWRkQ2xhc3MoYi5zdHlsZXMuYnRuYWN0aXZlKX19KGQpKS5vbihcIm1vdXNldXBcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXthLnJlbW92ZUNsYXNzKGIuc3R5bGVzLmJ0bmFjdGl2ZSl9fShkKSk7XG5pZihiLnN0eWxlcy5idG5mb2N1cylkLm9uKFwiZm9jdXNcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXthLmFkZENsYXNzKGIuc3R5bGVzLmJ0bmZvY3VzKX19KGQpKS5vbihcImJsdXJcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXthLnJlbW92ZUNsYXNzKGIuc3R5bGVzLmJ0bmZvY3VzKX19KGQpKX19fTtlLmV4dGVuZChjLnN0eWxpbmcuanF1ZXJ5dWkse2J0bjpcInVpLWJ1dHRvbiB1aS13aWRnZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIHVpLWJ1dHRvbi10ZXh0LW9ubHlcIixidG5ob3ZlcjpcInVpLXN0YXRlLWhvdmVyXCIsYnRuYWN0aXZlOlwidWktc3RhdGUtYWN0aXZlXCIsYnRuZm9jdXM6XCJ1aS1zdGF0ZS1mb2N1c1wiLGlucHV0OlwiXCIsdGV4dDpcInVpLWJ1dHRvbi10ZXh0XCJ9KTtlLmV4dGVuZChjLnN0eWxpbmcuYm9vdHN0cmFwMix7YnRuOlwiYnRuXCIsaW5wdXQ6XCJcIn0pO2UuZXh0ZW5kKGMuc3R5bGluZy5ib290c3RyYXAzLHtidG46XCJidG4gYnRuLWRlZmF1bHRcIixcbmlucHV0OlwiZm9ybS1jb250cm9sXCJ9KTtlLmV4dGVuZChjLnN0eWxpbmcuZm9udGF3ZXNvbWUse2J0bjpcImJ0biBidG4tZGVmYXVsdFwiLGlucHV0OlwiZm9ybS1jb250cm9sXCJ9KX0pO1xuIiwiKGZ1bmN0aW9uKGQsZSl7XCJmdW5jdGlvblwiPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJwbm90aWZ5LmJ1dHRvbnNcIixbXCJqcXVlcnlcIixcInBub3RpZnlcIl0sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJqcXVlcnlcIikscmVxdWlyZShcIi4vcG5vdGlmeVwiKSk6ZShkLmpRdWVyeSxkLlBOb3RpZnkpfSkodGhpcyxmdW5jdGlvbihkLGUpe2UucHJvdG90eXBlLm9wdGlvbnMuYnV0dG9ucz17Y2xvc2VyOiEwLGNsb3Nlcl9ob3ZlcjohMCxzdGlja2VyOiEwLHN0aWNrZXJfaG92ZXI6ITAsc2hvd19vbl9ub25ibG9jazohMSxsYWJlbHM6e2Nsb3NlOlwiQ2xvc2VcIixzdGljazpcIlN0aWNrXCIsdW5zdGljazpcIlVuc3RpY2tcIn0sY2xhc3Nlczp7Y2xvc2VyOm51bGwscGluX3VwOm51bGwscGluX2Rvd246bnVsbH19O2UucHJvdG90eXBlLm1vZHVsZXMuYnV0dG9ucz17Y2xvc2VyOm51bGwsXG5zdGlja2VyOm51bGwsaW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YS5lbGVtLm9uKHttb3VzZWVudGVyOmZ1bmN0aW9uKGIpeyFjLm9wdGlvbnMuc3RpY2tlcnx8YS5vcHRpb25zLm5vbmJsb2NrJiZhLm9wdGlvbnMubm9uYmxvY2subm9uYmxvY2smJiFjLm9wdGlvbnMuc2hvd19vbl9ub25ibG9ja3x8Yy5zdGlja2VyLnRyaWdnZXIoXCJwbm90aWZ5OmJ1dHRvbnM6dG9nZ2xlU3RpY2tcIikuY3NzKFwidmlzaWJpbGl0eVwiLFwidmlzaWJsZVwiKTshYy5vcHRpb25zLmNsb3Nlcnx8YS5vcHRpb25zLm5vbmJsb2NrJiZhLm9wdGlvbnMubm9uYmxvY2subm9uYmxvY2smJiFjLm9wdGlvbnMuc2hvd19vbl9ub25ibG9ja3x8Yy5jbG9zZXIuY3NzKFwidmlzaWJpbGl0eVwiLFwidmlzaWJsZVwiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbihhKXtjLm9wdGlvbnMuc3RpY2tlcl9ob3ZlciYmYy5zdGlja2VyLmNzcyhcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtjLm9wdGlvbnMuY2xvc2VyX2hvdmVyJiZjLmNsb3Nlci5jc3MoXCJ2aXNpYmlsaXR5XCIsXG5cImhpZGRlblwiKX19KTt0aGlzLnN0aWNrZXI9ZChcIjxkaXYgLz5cIix7XCJjbGFzc1wiOlwidWktcG5vdGlmeS1zdGlja2VyXCIsXCJhcmlhLXJvbGVcIjpcImJ1dHRvblwiLFwiYXJpYS1wcmVzc2VkXCI6YS5vcHRpb25zLmhpZGU/XCJmYWxzZVwiOlwidHJ1ZVwiLHRhYmluZGV4OlwiMFwiLHRpdGxlOmEub3B0aW9ucy5oaWRlP2IubGFiZWxzLnN0aWNrOmIubGFiZWxzLnVuc3RpY2ssY3NzOntjdXJzb3I6XCJwb2ludGVyXCIsdmlzaWJpbGl0eTpiLnN0aWNrZXJfaG92ZXI/XCJoaWRkZW5cIjpcInZpc2libGVcIn0sY2xpY2s6ZnVuY3Rpb24oKXthLm9wdGlvbnMuaGlkZT0hYS5vcHRpb25zLmhpZGU7YS5vcHRpb25zLmhpZGU/YS5xdWV1ZVJlbW92ZSgpOmEuY2FuY2VsUmVtb3ZlKCk7ZCh0aGlzKS50cmlnZ2VyKFwicG5vdGlmeTpidXR0b25zOnRvZ2dsZVN0aWNrXCIpfX0pLmJpbmQoXCJwbm90aWZ5OmJ1dHRvbnM6dG9nZ2xlU3RpY2tcIixmdW5jdGlvbigpe3ZhciBiPW51bGw9PT1jLm9wdGlvbnMuY2xhc3Nlcy5waW5fdXA/YS5zdHlsZXMucGluX3VwOlxuYy5vcHRpb25zLmNsYXNzZXMucGluX3VwLGU9bnVsbD09PWMub3B0aW9ucy5jbGFzc2VzLnBpbl9kb3duP2Euc3R5bGVzLnBpbl9kb3duOmMub3B0aW9ucy5jbGFzc2VzLnBpbl9kb3duO2QodGhpcykuYXR0cihcInRpdGxlXCIsYS5vcHRpb25zLmhpZGU/Yy5vcHRpb25zLmxhYmVscy5zdGljazpjLm9wdGlvbnMubGFiZWxzLnVuc3RpY2spLmNoaWxkcmVuKCkuYXR0cihcImNsYXNzXCIsXCJcIikuYWRkQ2xhc3MoYS5vcHRpb25zLmhpZGU/YjplKS5hdHRyKFwiYXJpYS1wcmVzc2VkXCIsYS5vcHRpb25zLmhpZGU/XCJmYWxzZVwiOlwidHJ1ZVwiKX0pLmFwcGVuZChcIjxzcGFuIC8+XCIpLnRyaWdnZXIoXCJwbm90aWZ5OmJ1dHRvbnM6dG9nZ2xlU3RpY2tcIikucHJlcGVuZFRvKGEuY29udGFpbmVyKTsoIWIuc3RpY2tlcnx8YS5vcHRpb25zLm5vbmJsb2NrJiZhLm9wdGlvbnMubm9uYmxvY2subm9uYmxvY2smJiFiLnNob3dfb25fbm9uYmxvY2spJiZ0aGlzLnN0aWNrZXIuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTtcbnRoaXMuY2xvc2VyPWQoXCI8ZGl2IC8+XCIse1wiY2xhc3NcIjpcInVpLXBub3RpZnktY2xvc2VyXCIsXCJhcmlhLXJvbGVcIjpcImJ1dHRvblwiLHRhYmluZGV4OlwiMFwiLHRpdGxlOmIubGFiZWxzLmNsb3NlLGNzczp7Y3Vyc29yOlwicG9pbnRlclwiLHZpc2liaWxpdHk6Yi5jbG9zZXJfaG92ZXI/XCJoaWRkZW5cIjpcInZpc2libGVcIn0sY2xpY2s6ZnVuY3Rpb24oKXthLnJlbW92ZSghMSk7Yy5zdGlja2VyLmNzcyhcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtjLmNsb3Nlci5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIil9fSkuYXBwZW5kKGQoXCI8c3BhbiAvPlwiLHtcImNsYXNzXCI6bnVsbD09PWIuY2xhc3Nlcy5jbG9zZXI/YS5zdHlsZXMuY2xvc2VyOmIuY2xhc3Nlcy5jbG9zZXJ9KSkucHJlcGVuZFRvKGEuY29udGFpbmVyKTsoIWIuY2xvc2VyfHxhLm9wdGlvbnMubm9uYmxvY2smJmEub3B0aW9ucy5ub25ibG9jay5ub25ibG9jayYmIWIuc2hvd19vbl9ub25ibG9jaykmJnRoaXMuY2xvc2VyLmNzcyhcImRpc3BsYXlcIixcblwibm9uZVwiKX0sdXBkYXRlOmZ1bmN0aW9uKGEsYil7IWIuY2xvc2VyfHxhLm9wdGlvbnMubm9uYmxvY2smJmEub3B0aW9ucy5ub25ibG9jay5ub25ibG9jayYmIWIuc2hvd19vbl9ub25ibG9jaz90aGlzLmNsb3Nlci5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpOmIuY2xvc2VyJiZ0aGlzLmNsb3Nlci5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTshYi5zdGlja2VyfHxhLm9wdGlvbnMubm9uYmxvY2smJmEub3B0aW9ucy5ub25ibG9jay5ub25ibG9jayYmIWIuc2hvd19vbl9ub25ibG9jaz90aGlzLnN0aWNrZXIuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTpiLnN0aWNrZXImJnRoaXMuc3RpY2tlci5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTt0aGlzLnN0aWNrZXIudHJpZ2dlcihcInBub3RpZnk6YnV0dG9uczp0b2dnbGVTdGlja1wiKTt0aGlzLmNsb3Nlci5maW5kKFwic3BhblwiKS5hdHRyKFwiY2xhc3NcIixcIlwiKS5hZGRDbGFzcyhudWxsPT09Yi5jbGFzc2VzLmNsb3Nlcj9hLnN0eWxlcy5jbG9zZXI6Yi5jbGFzc2VzLmNsb3Nlcik7XG5iLnN0aWNrZXJfaG92ZXI/dGhpcy5zdGlja2VyLmNzcyhcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTphLm9wdGlvbnMubm9uYmxvY2smJmEub3B0aW9ucy5ub25ibG9jay5ub25ibG9jayYmIWIuc2hvd19vbl9ub25ibG9ja3x8dGhpcy5zdGlja2VyLmNzcyhcInZpc2liaWxpdHlcIixcInZpc2libGVcIik7Yi5jbG9zZXJfaG92ZXI/dGhpcy5jbG9zZXIuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpOmEub3B0aW9ucy5ub25ibG9jayYmYS5vcHRpb25zLm5vbmJsb2NrLm5vbmJsb2NrJiYhYi5zaG93X29uX25vbmJsb2NrfHx0aGlzLmNsb3Nlci5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpfX07ZC5leHRlbmQoZS5zdHlsaW5nLmJyaWdodHRoZW1lLHtjbG9zZXI6XCJicmlnaHR0aGVtZS1pY29uLWNsb3NlclwiLHBpbl91cDpcImJyaWdodHRoZW1lLWljb24tc3RpY2tlclwiLHBpbl9kb3duOlwiYnJpZ2h0dGhlbWUtaWNvbi1zdGlja2VyIGJyaWdodHRoZW1lLWljb24tc3R1Y2tcIn0pO2QuZXh0ZW5kKGUuc3R5bGluZy5qcXVlcnl1aSxcbntjbG9zZXI6XCJ1aS1pY29uIHVpLWljb24tY2xvc2VcIixwaW5fdXA6XCJ1aS1pY29uIHVpLWljb24tcGluLXdcIixwaW5fZG93bjpcInVpLWljb24gdWktaWNvbi1waW4tc1wifSk7ZC5leHRlbmQoZS5zdHlsaW5nLmJvb3RzdHJhcDIse2Nsb3NlcjpcImljb24tcmVtb3ZlXCIscGluX3VwOlwiaWNvbi1wYXVzZVwiLHBpbl9kb3duOlwiaWNvbi1wbGF5XCJ9KTtkLmV4dGVuZChlLnN0eWxpbmcuYm9vdHN0cmFwMyx7Y2xvc2VyOlwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIixwaW5fdXA6XCJnbHlwaGljb24gZ2x5cGhpY29uLXBhdXNlXCIscGluX2Rvd246XCJnbHlwaGljb24gZ2x5cGhpY29uLXBsYXlcIn0pO2QuZXh0ZW5kKGUuc3R5bGluZy5mb250YXdlc29tZSx7Y2xvc2VyOlwiZmEgZmEtdGltZXNcIixwaW5fdXA6XCJmYSBmYS1wYXVzZVwiLHBpbl9kb3duOlwiZmEgZmEtcGxheVwifSl9KTtcbiIsIi8qXG4qIENvcHlyaWdodCAyMDE3IHRoZSBJc2FyZC12ZGkgcHJvamVjdCBhdXRob3JzOlxuKiAgICAgIEpvc2VwIE1hcmlhIFZpw7FvbGFzIEF1cXVlclxuKiAgICAgIEFsYmVydG8gTGFycmF6IERhbG1hc2VzXG4qIExpY2Vuc2U6IEFHUEx2M1xuKi9cblxuZnVuY3Rpb24gYXBpQ2FsbCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5hamF4ID0gZnVuY3Rpb24odXJpLG1ldGhvZCwgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVyaSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjY2VwdHM6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWpheCBlcnJvciBcIiArIGpxWEhSLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXgocmVxdWVzdCk7XG4gICAgfTtcblxuICAgIHNlbGYuYWpheF9hc3luYyA9IGZ1bmN0aW9uKHVyaSxtZXRob2QsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgICAgICBhY2NlcHRzOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWpheCBlcnJvciBcIiArIGpxWEhSLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXgocmVxdWVzdCk7XG4gICAgfVxufVxuXG52YXIgYXBpID0gbmV3IGFwaUNhbGwoKTtcblxuIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5pbz1lKCk6dC5pbz1lKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShuKXtpZihyW25dKXJldHVybiByW25dLmV4cG9ydHM7dmFyIG89cltuXT17ZXhwb3J0czp7fSxpZDpuLGxvYWRlZDohMX07cmV0dXJuIHRbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciByPXt9O3JldHVybiBlLm09dCxlLmM9cixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6aSh0KSkmJihlPXQsdD12b2lkIDApLGU9ZXx8e307dmFyIHIsbj1zKHQpLGE9bi5zb3VyY2UscD1uLmlkLGY9bi5wYXRoLGw9aFtwXSYmZiBpbiBoW3BdLm5zcHMsZD1lLmZvcmNlTmV3fHxlW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl18fCExPT09ZS5tdWx0aXBsZXh8fGw7cmV0dXJuIGQ/KHUoXCJpZ25vcmluZyBzb2NrZXQgY2FjaGUgZm9yICVzXCIsYSkscj1jKGEsZSkpOihoW3BdfHwodShcIm5ldyBpbyBpbnN0YW5jZSBmb3IgJXNcIixhKSxoW3BdPWMoYSxlKSkscj1oW3BdKSxuLnF1ZXJ5JiYhZS5xdWVyeT9lLnF1ZXJ5PW4ucXVlcnk6ZSYmXCJvYmplY3RcIj09PWkoZS5xdWVyeSkmJihlLnF1ZXJ5PW8oZS5xdWVyeSkpLHIuc29ja2V0KG4ucGF0aCxlKX1mdW5jdGlvbiBvKHQpe3ZhciBlPVtdO2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJmUucHVzaChlbmNvZGVVUklDb21wb25lbnQocikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbcl0pKTtyZXR1cm4gZS5qb2luKFwiJlwiKX12YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxzPXIoMSksYT1yKDcpLGM9cigxNyksdT1yKDMpKFwic29ja2V0LmlvLWNsaWVudFwiKTt0LmV4cG9ydHM9ZT1uO3ZhciBoPWUubWFuYWdlcnM9e307ZS5wcm90b2NvbD1hLnByb3RvY29sLGUuY29ubmVjdD1uLGUuTWFuYWdlcj1yKDE3KSxlLlNvY2tldD1yKDQ0KX0sZnVuY3Rpb24odCxlLHIpeyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQscil7dmFyIG49dDtyPXJ8fGUubG9jYXRpb24sbnVsbD09dCYmKHQ9ci5wcm90b2NvbCtcIi8vXCIrci5ob3N0KSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKFwiL1wiPT09dC5jaGFyQXQoMCkmJih0PVwiL1wiPT09dC5jaGFyQXQoMSk/ci5wcm90b2NvbCt0OnIuaG9zdCt0KSwvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHQpfHwoaShcInByb3RvY29sLWxlc3MgdXJsICVzXCIsdCksdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9yLnByb3RvY29sK1wiLy9cIit0OlwiaHR0cHM6Ly9cIit0KSxpKFwicGFyc2UgJXNcIix0KSxuPW8odCkpLG4ucG9ydHx8KC9eKGh0dHB8d3MpJC8udGVzdChuLnByb3RvY29sKT9uLnBvcnQ9XCI4MFwiOi9eKGh0dHB8d3MpcyQvLnRlc3Qobi5wcm90b2NvbCkmJihuLnBvcnQ9XCI0NDNcIikpLG4ucGF0aD1uLnBhdGh8fFwiL1wiO3ZhciBzPW4uaG9zdC5pbmRleE9mKFwiOlwiKSE9PS0xLGE9cz9cIltcIituLmhvc3QrXCJdXCI6bi5ob3N0O3JldHVybiBuLmlkPW4ucHJvdG9jb2wrXCI6Ly9cIithK1wiOlwiK24ucG9ydCxuLmhyZWY9bi5wcm90b2NvbCtcIjovL1wiK2ErKHImJnIucG9ydD09PW4ucG9ydD9cIlwiOlwiOlwiK24ucG9ydCksbn12YXIgbz1yKDIpLGk9cigzKShcInNvY2tldC5pby1jbGllbnQ6dXJsXCIpO3QuZXhwb3J0cz1ufSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3ZhciByPS9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLG49W1wic291cmNlXCIsXCJwcm90b2NvbFwiLFwiYXV0aG9yaXR5XCIsXCJ1c2VySW5mb1wiLFwidXNlclwiLFwicGFzc3dvcmRcIixcImhvc3RcIixcInBvcnRcIixcInJlbGF0aXZlXCIsXCJwYXRoXCIsXCJkaXJlY3RvcnlcIixcImZpbGVcIixcInF1ZXJ5XCIsXCJhbmNob3JcIl07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQsbz10LmluZGV4T2YoXCJbXCIpLGk9dC5pbmRleE9mKFwiXVwiKTtvIT0tMSYmaSE9LTEmJih0PXQuc3Vic3RyaW5nKDAsbykrdC5zdWJzdHJpbmcobyxpKS5yZXBsYWNlKC86L2csXCI7XCIpK3Quc3Vic3RyaW5nKGksdC5sZW5ndGgpKTtmb3IodmFyIHM9ci5leGVjKHR8fFwiXCIpLGE9e30sYz0xNDtjLS07KWFbbltjXV09c1tjXXx8XCJcIjtyZXR1cm4gbyE9LTEmJmkhPS0xJiYoYS5zb3VyY2U9ZSxhLmhvc3Q9YS5ob3N0LnN1YnN0cmluZygxLGEuaG9zdC5sZW5ndGgtMSkucmVwbGFjZSgvOy9nLFwiOlwiKSxhLmF1dGhvcml0eT1hLmF1dGhvcml0eS5yZXBsYWNlKFwiW1wiLFwiXCIpLnJlcGxhY2UoXCJdXCIsXCJcIikucmVwbGFjZSgvOy9nLFwiOlwiKSxhLmlwdjZ1cmk9ITApLGF9fSxmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIG8oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJlwiV2Via2l0QXBwZWFyYW5jZVwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlfHx3aW5kb3cuY29uc29sZSYmKGNvbnNvbGUuZmlyZWJ1Z3x8Y29uc29sZS5leGNlcHRpb24mJmNvbnNvbGUudGFibGUpfHxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF9ZnVuY3Rpb24gaSgpe3ZhciB0PWFyZ3VtZW50cyxyPXRoaXMudXNlQ29sb3JzO2lmKHRbMF09KHI/XCIlY1wiOlwiXCIpK3RoaXMubmFtZXNwYWNlKyhyP1wiICVjXCI6XCIgXCIpK3RbMF0rKHI/XCIlYyBcIjpcIiBcIikrXCIrXCIrZS5odW1hbml6ZSh0aGlzLmRpZmYpLCFyKXJldHVybiB0O3ZhciBuPVwiY29sb3I6IFwiK3RoaXMuY29sb3I7dD1bdFswXSxuLFwiY29sb3I6IGluaGVyaXRcIl0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMSkpO3ZhciBvPTAsaT0wO3JldHVybiB0WzBdLnJlcGxhY2UoLyVbYS16JV0vZyxmdW5jdGlvbih0KXtcIiUlXCIhPT10JiYobysrLFwiJWNcIj09PXQmJihpPW8pKX0pLHQuc3BsaWNlKGksMCxuKSx0fWZ1bmN0aW9uIHMoKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2cmJkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLGNvbnNvbGUsYXJndW1lbnRzKX1mdW5jdGlvbiBhKHQpe3RyeXtudWxsPT10P2Uuc3RvcmFnZS5yZW1vdmVJdGVtKFwiZGVidWdcIik6ZS5zdG9yYWdlLmRlYnVnPXR9Y2F0Y2godCl7fX1mdW5jdGlvbiBjKCl7dHJ5e3JldHVybiBlLnN0b3JhZ2UuZGVidWd9Y2F0Y2godCl7fWlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZcImVudlwiaW4gbilyZXR1cm4gbi5lbnYuREVCVUd9ZnVuY3Rpb24gdSgpe3RyeXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaCh0KXt9fWU9dC5leHBvcnRzPXIoNSksZS5sb2c9cyxlLmZvcm1hdEFyZ3M9aSxlLnNhdmU9YSxlLmxvYWQ9YyxlLnVzZUNvbG9ycz1vLGUuc3RvcmFnZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2U/Y2hyb21lLnN0b3JhZ2UubG9jYWw6dSgpLGUuY29sb3JzPVtcImxpZ2h0c2VhZ3JlZW5cIixcImZvcmVzdGdyZWVuXCIsXCJnb2xkZW5yb2RcIixcImRvZGdlcmJsdWVcIixcImRhcmtvcmNoaWRcIixcImNyaW1zb25cIl0sZS5mb3JtYXR0ZXJzLmo9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX1jYXRjaCh0KXtyZXR1cm5cIltVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiBcIit0Lm1lc3NhZ2V9fSxlLmVuYWJsZShjKCkpfSkuY2FsbChlLHIoNCkpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIG4oKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbyh0KXtpZihoPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dCh0LDApO2lmKChoPT09cnx8IWgpJiZzZXRUaW1lb3V0KXJldHVybiBoPXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gaCh0LDApfWNhdGNoKGUpe3RyeXtyZXR1cm4gaC5jYWxsKG51bGwsdCwwKX1jYXRjaChlKXtyZXR1cm4gaC5jYWxsKHRoaXMsdCwwKX19fWZ1bmN0aW9uIGkodCl7aWYocD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChwPT09bnx8IXApJiZjbGVhclRpbWVvdXQpcmV0dXJuIHA9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cmV0dXJuIHAodCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBwLmNhbGwobnVsbCx0KX1jYXRjaChlKXtyZXR1cm4gcC5jYWxsKHRoaXMsdCl9fX1mdW5jdGlvbiBzKCl7eSYmbCYmKHk9ITEsbC5sZW5ndGg/ZD1sLmNvbmNhdChkKTpnPS0xLGQubGVuZ3RoJiZhKCkpfWZ1bmN0aW9uIGEoKXtpZigheSl7dmFyIHQ9byhzKTt5PSEwO2Zvcih2YXIgZT1kLmxlbmd0aDtlOyl7Zm9yKGw9ZCxkPVtdOysrZzxlOylsJiZsW2ddLnJ1bigpO2c9LTEsZT1kLmxlbmd0aH1sPW51bGwseT0hMSxpKHQpfX1mdW5jdGlvbiBjKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gdSgpe312YXIgaCxwLGY9dC5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtoPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpyfWNhdGNoKHQpe2g9cn10cnl7cD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Om59Y2F0Y2godCl7cD1ufX0oKTt2YXIgbCxkPVtdLHk9ITEsZz0tMTtmLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbci0xXT1hcmd1bWVudHNbcl07ZC5wdXNoKG5ldyBjKHQsZSkpLDEhPT1kLmxlbmd0aHx8eXx8byhhKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZi50aXRsZT1cImJyb3dzZXJcIixmLmJyb3dzZXI9ITAsZi5lbnY9e30sZi5hcmd2PVtdLGYudmVyc2lvbj1cIlwiLGYudmVyc2lvbnM9e30sZi5vbj11LGYuYWRkTGlzdGVuZXI9dSxmLm9uY2U9dSxmLm9mZj11LGYucmVtb3ZlTGlzdGVuZXI9dSxmLnJlbW92ZUFsbExpc3RlbmVycz11LGYuZW1pdD11LGYuYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sZi5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sZi5jaGRpcj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGYudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKCl7cmV0dXJuIGUuY29sb3JzW2grKyVlLmNvbG9ycy5sZW5ndGhdfWZ1bmN0aW9uIG8odCl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKCl7dmFyIHQ9byxyPStuZXcgRGF0ZSxpPXItKHV8fHIpO3QuZGlmZj1pLHQucHJldj11LHQuY3Vycj1yLHU9cixudWxsPT10LnVzZUNvbG9ycyYmKHQudXNlQ29sb3JzPWUudXNlQ29sb3JzKCkpLG51bGw9PXQuY29sb3ImJnQudXNlQ29sb3JzJiYodC5jb2xvcj1uKCkpO2Zvcih2YXIgcz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksYT0wO2E8cy5sZW5ndGg7YSsrKXNbYV09YXJndW1lbnRzW2FdO3NbMF09ZS5jb2VyY2Uoc1swXSksXCJzdHJpbmdcIiE9dHlwZW9mIHNbMF0mJihzPVtcIiVvXCJdLmNvbmNhdChzKSk7dmFyIGM9MDtzWzBdPXNbMF0ucmVwbGFjZSgvJShbYS16JV0pL2csZnVuY3Rpb24ocixuKXtpZihcIiUlXCI9PT1yKXJldHVybiByO2MrKzt2YXIgbz1lLmZvcm1hdHRlcnNbbl07aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbyl7dmFyIGk9c1tjXTtyPW8uY2FsbCh0LGkpLHMuc3BsaWNlKGMsMSksYy0tfXJldHVybiByfSkscz1lLmZvcm1hdEFyZ3MuYXBwbHkodCxzKTt2YXIgaD1vLmxvZ3x8ZS5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7aC5hcHBseSh0LHMpfXIuZW5hYmxlZD0hMSxvLmVuYWJsZWQ9ITA7dmFyIGk9ZS5lbmFibGVkKHQpP286cjtyZXR1cm4gaS5uYW1lc3BhY2U9dCxpfWZ1bmN0aW9uIGkodCl7ZS5zYXZlKHQpO2Zvcih2YXIgcj0odHx8XCJcIikuc3BsaXQoL1tcXHMsXSsvKSxuPXIubGVuZ3RoLG89MDtvPG47bysrKXJbb10mJih0PXJbb10ucmVwbGFjZSgvW1xcXFxeJCs/LigpfFtcXF17fV0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9cXCovZyxcIi4qP1wiKSxcIi1cIj09PXRbMF0/ZS5za2lwcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrdC5zdWJzdHIoMSkrXCIkXCIpKTplLm5hbWVzLnB1c2gobmV3IFJlZ0V4cChcIl5cIit0K1wiJFwiKSkpfWZ1bmN0aW9uIHMoKXtlLmVuYWJsZShcIlwiKX1mdW5jdGlvbiBhKHQpe3ZhciByLG47Zm9yKHI9MCxuPWUuc2tpcHMubGVuZ3RoO3I8bjtyKyspaWYoZS5za2lwc1tyXS50ZXN0KHQpKXJldHVybiExO2ZvcihyPTAsbj1lLm5hbWVzLmxlbmd0aDtyPG47cisrKWlmKGUubmFtZXNbcl0udGVzdCh0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3I/dC5zdGFja3x8dC5tZXNzYWdlOnR9ZT10LmV4cG9ydHM9by5kZWJ1Zz1vLGUuY29lcmNlPWMsZS5kaXNhYmxlPXMsZS5lbmFibGU9aSxlLmVuYWJsZWQ9YSxlLmh1bWFuaXplPXIoNiksZS5uYW1lcz1bXSxlLnNraXBzPVtdLGUuZm9ybWF0dGVycz17fTt2YXIgdSxoPTB9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0KXtpZih0PVN0cmluZyh0KSwhKHQubGVuZ3RoPjFlNCkpe3ZhciBlPS9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWModCk7aWYoZSl7dmFyIHI9cGFyc2VGbG9hdChlWzFdKSxuPShlWzJdfHxcIm1zXCIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKG4pe2Nhc2VcInllYXJzXCI6Y2FzZVwieWVhclwiOmNhc2VcInlyc1wiOmNhc2VcInlyXCI6Y2FzZVwieVwiOnJldHVybiByKmg7Y2FzZVwiZGF5c1wiOmNhc2VcImRheVwiOmNhc2VcImRcIjpyZXR1cm4gcip1O2Nhc2VcImhvdXJzXCI6Y2FzZVwiaG91clwiOmNhc2VcImhyc1wiOmNhc2VcImhyXCI6Y2FzZVwiaFwiOnJldHVybiByKmM7Y2FzZVwibWludXRlc1wiOmNhc2VcIm1pbnV0ZVwiOmNhc2VcIm1pbnNcIjpjYXNlXCJtaW5cIjpjYXNlXCJtXCI6cmV0dXJuIHIqYTtjYXNlXCJzZWNvbmRzXCI6Y2FzZVwic2Vjb25kXCI6Y2FzZVwic2Vjc1wiOmNhc2VcInNlY1wiOmNhc2VcInNcIjpyZXR1cm4gcipzO2Nhc2VcIm1pbGxpc2Vjb25kc1wiOmNhc2VcIm1pbGxpc2Vjb25kXCI6Y2FzZVwibXNlY3NcIjpjYXNlXCJtc2VjXCI6Y2FzZVwibXNcIjpyZXR1cm4gcjtkZWZhdWx0OnJldHVybn19fX1mdW5jdGlvbiBuKHQpe3JldHVybiB0Pj11P01hdGgucm91bmQodC91KStcImRcIjp0Pj1jP01hdGgucm91bmQodC9jKStcImhcIjp0Pj1hP01hdGgucm91bmQodC9hKStcIm1cIjp0Pj1zP01hdGgucm91bmQodC9zKStcInNcIjp0K1wibXNcIn1mdW5jdGlvbiBvKHQpe3JldHVybiBpKHQsdSxcImRheVwiKXx8aSh0LGMsXCJob3VyXCIpfHxpKHQsYSxcIm1pbnV0ZVwiKXx8aSh0LHMsXCJzZWNvbmRcIil8fHQrXCIgbXNcIn1mdW5jdGlvbiBpKHQsZSxyKXtpZighKHQ8ZSkpcmV0dXJuIHQ8MS41KmU/TWF0aC5mbG9vcih0L2UpK1wiIFwiK3I6TWF0aC5jZWlsKHQvZSkrXCIgXCIrcitcInNcIn12YXIgcz0xZTMsYT02MCpzLGM9NjAqYSx1PTI0KmMsaD0zNjUuMjUqdTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O3ZhciBpPXR5cGVvZiB0O2lmKFwic3RyaW5nXCI9PT1pJiZ0Lmxlbmd0aD4wKXJldHVybiByKHQpO2lmKFwibnVtYmVyXCI9PT1pJiZpc05hTih0KT09PSExKXJldHVybiBlLmxvbmc/byh0KTpuKHQpO3Rocm93IG5ldyBFcnJvcihcInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9XCIrSlNPTi5zdHJpbmdpZnkodCkpfX0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gbyh0KXt2YXIgcj1cIlwiLG49ITE7cmV0dXJuIHIrPXQudHlwZSxlLkJJTkFSWV9FVkVOVCE9dC50eXBlJiZlLkJJTkFSWV9BQ0shPXQudHlwZXx8KHIrPXQuYXR0YWNobWVudHMscis9XCItXCIpLHQubnNwJiZcIi9cIiE9dC5uc3AmJihuPSEwLHIrPXQubnNwKSxudWxsIT10LmlkJiYobiYmKHIrPVwiLFwiLG49ITEpLHIrPXQuaWQpLG51bGwhPXQuZGF0YSYmKG4mJihyKz1cIixcIikscis9Zi5zdHJpbmdpZnkodC5kYXRhKSkscChcImVuY29kZWQgJWogYXMgJXNcIix0LHIpLHJ9ZnVuY3Rpb24gaSh0LGUpe2Z1bmN0aW9uIHIodCl7dmFyIHI9ZC5kZWNvbnN0cnVjdFBhY2tldCh0KSxuPW8oci5wYWNrZXQpLGk9ci5idWZmZXJzO2kudW5zaGlmdChuKSxlKGkpfWQucmVtb3ZlQmxvYnModCxyKX1mdW5jdGlvbiBzKCl7dGhpcy5yZWNvbnN0cnVjdG9yPW51bGx9ZnVuY3Rpb24gYSh0KXt2YXIgcj17fSxuPTA7aWYoci50eXBlPU51bWJlcih0LmNoYXJBdCgwKSksbnVsbD09ZS50eXBlc1tyLnR5cGVdKXJldHVybiBoKCk7aWYoZS5CSU5BUllfRVZFTlQ9PXIudHlwZXx8ZS5CSU5BUllfQUNLPT1yLnR5cGUpe2Zvcih2YXIgbz1cIlwiO1wiLVwiIT10LmNoYXJBdCgrK24pJiYobys9dC5jaGFyQXQobiksbiE9dC5sZW5ndGgpOyk7aWYobyE9TnVtYmVyKG8pfHxcIi1cIiE9dC5jaGFyQXQobikpdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBhdHRhY2htZW50c1wiKTtyLmF0dGFjaG1lbnRzPU51bWJlcihvKX1pZihcIi9cIj09dC5jaGFyQXQobisxKSlmb3Ioci5uc3A9XCJcIjsrK247KXt2YXIgaT10LmNoYXJBdChuKTtpZihcIixcIj09aSlicmVhaztpZihyLm5zcCs9aSxuPT10Lmxlbmd0aClicmVha31lbHNlIHIubnNwPVwiL1wiO3ZhciBzPXQuY2hhckF0KG4rMSk7aWYoXCJcIiE9PXMmJk51bWJlcihzKT09cyl7Zm9yKHIuaWQ9XCJcIjsrK247KXt2YXIgaT10LmNoYXJBdChuKTtpZihudWxsPT1pfHxOdW1iZXIoaSkhPWkpey0tbjticmVha31pZihyLmlkKz10LmNoYXJBdChuKSxuPT10Lmxlbmd0aClicmVha31yLmlkPU51bWJlcihyLmlkKX1yZXR1cm4gdC5jaGFyQXQoKytuKSYmKHI9YyhyLHQuc3Vic3RyKG4pKSkscChcImRlY29kZWQgJXMgYXMgJWpcIix0LHIpLHJ9ZnVuY3Rpb24gYyh0LGUpe3RyeXt0LmRhdGE9Zi5wYXJzZShlKX1jYXRjaCh0KXtyZXR1cm4gaCgpfXJldHVybiB0fWZ1bmN0aW9uIHUodCl7dGhpcy5yZWNvblBhY2s9dCx0aGlzLmJ1ZmZlcnM9W119ZnVuY3Rpb24gaCh0KXtyZXR1cm57dHlwZTplLkVSUk9SLGRhdGE6XCJwYXJzZXIgZXJyb3JcIn19dmFyIHA9cig4KShcInNvY2tldC5pby1wYXJzZXJcIiksZj1yKDExKSxsPXIoMTMpLGQ9cigxNCkseT1yKDE2KTtlLnByb3RvY29sPTQsZS50eXBlcz1bXCJDT05ORUNUXCIsXCJESVNDT05ORUNUXCIsXCJFVkVOVFwiLFwiQUNLXCIsXCJFUlJPUlwiLFwiQklOQVJZX0VWRU5UXCIsXCJCSU5BUllfQUNLXCJdLGUuQ09OTkVDVD0wLGUuRElTQ09OTkVDVD0xLGUuRVZFTlQ9MixlLkFDSz0zLGUuRVJST1I9NCxlLkJJTkFSWV9FVkVOVD01LGUuQklOQVJZX0FDSz02LGUuRW5jb2Rlcj1uLGUuRGVjb2Rlcj1zLG4ucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0LHIpe2lmKHAoXCJlbmNvZGluZyBwYWNrZXQgJWpcIix0KSxlLkJJTkFSWV9FVkVOVD09dC50eXBlfHxlLkJJTkFSWV9BQ0s9PXQudHlwZSlpKHQscik7ZWxzZXt2YXIgbj1vKHQpO3IoW25dKX19LGwocy5wcm90b3R5cGUpLHMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgcjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyPWEodCksZS5CSU5BUllfRVZFTlQ9PXIudHlwZXx8ZS5CSU5BUllfQUNLPT1yLnR5cGU/KHRoaXMucmVjb25zdHJ1Y3Rvcj1uZXcgdShyKSwwPT09dGhpcy5yZWNvbnN0cnVjdG9yLnJlY29uUGFjay5hdHRhY2htZW50cyYmdGhpcy5lbWl0KFwiZGVjb2RlZFwiLHIpKTp0aGlzLmVtaXQoXCJkZWNvZGVkXCIscik7ZWxzZXtpZigheSh0KSYmIXQuYmFzZTY0KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdCk7aWYoIXRoaXMucmVjb25zdHJ1Y3Rvcil0aHJvdyBuZXcgRXJyb3IoXCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7cj10aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEodCksciYmKHRoaXMucmVjb25zdHJ1Y3Rvcj1udWxsLHRoaXMuZW1pdChcImRlY29kZWRcIixyKSl9fSxzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZWNvbnN0cnVjdG9yJiZ0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpfSx1LnByb3RvdHlwZS50YWtlQmluYXJ5RGF0YT1mdW5jdGlvbih0KXtpZih0aGlzLmJ1ZmZlcnMucHVzaCh0KSx0aGlzLmJ1ZmZlcnMubGVuZ3RoPT10aGlzLnJlY29uUGFjay5hdHRhY2htZW50cyl7dmFyIGU9ZC5yZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjayx0aGlzLmJ1ZmZlcnMpO3JldHVybiB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSxlfXJldHVybiBudWxsfSx1LnByb3RvdHlwZS5maW5pc2hlZFJlY29uc3RydWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5yZWNvblBhY2s9bnVsbCx0aGlzLmJ1ZmZlcnM9W119fSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbigpe3JldHVyblwiV2Via2l0QXBwZWFyYW5jZVwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlfHx3aW5kb3cuY29uc29sZSYmKGNvbnNvbGUuZmlyZWJ1Z3x8Y29uc29sZS5leGNlcHRpb24mJmNvbnNvbGUudGFibGUpfHxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF9ZnVuY3Rpb24gbygpe3ZhciB0PWFyZ3VtZW50cyxyPXRoaXMudXNlQ29sb3JzO2lmKHRbMF09KHI/XCIlY1wiOlwiXCIpK3RoaXMubmFtZXNwYWNlKyhyP1wiICVjXCI6XCIgXCIpK3RbMF0rKHI/XCIlYyBcIjpcIiBcIikrXCIrXCIrZS5odW1hbml6ZSh0aGlzLmRpZmYpLCFyKXJldHVybiB0O3ZhciBuPVwiY29sb3I6IFwiK3RoaXMuY29sb3I7dD1bdFswXSxuLFwiY29sb3I6IGluaGVyaXRcIl0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMSkpO3ZhciBvPTAsaT0wO3JldHVybiB0WzBdLnJlcGxhY2UoLyVbYS16JV0vZyxmdW5jdGlvbih0KXtcIiUlXCIhPT10JiYobysrLFwiJWNcIj09PXQmJihpPW8pKX0pLHQuc3BsaWNlKGksMCxuKSx0fWZ1bmN0aW9uIGkoKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2cmJkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLGNvbnNvbGUsYXJndW1lbnRzKX1mdW5jdGlvbiBzKHQpe3RyeXtudWxsPT10P2Uuc3RvcmFnZS5yZW1vdmVJdGVtKFwiZGVidWdcIik6ZS5zdG9yYWdlLmRlYnVnPXR9Y2F0Y2godCl7fX1mdW5jdGlvbiBhKCl7dmFyIHQ7dHJ5e3Q9ZS5zdG9yYWdlLmRlYnVnfWNhdGNoKHQpe31yZXR1cm4gdH1mdW5jdGlvbiBjKCl7dHJ5e3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKHQpe319ZT10LmV4cG9ydHM9cig5KSxlLmxvZz1pLGUuZm9ybWF0QXJncz1vLGUuc2F2ZT1zLGUubG9hZD1hLGUudXNlQ29sb3JzPW4sZS5zdG9yYWdlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUuc3RvcmFnZT9jaHJvbWUuc3RvcmFnZS5sb2NhbDpjKCksZS5jb2xvcnM9W1wibGlnaHRzZWFncmVlblwiLFwiZm9yZXN0Z3JlZW5cIixcImdvbGRlbnJvZFwiLFwiZG9kZ2VyYmx1ZVwiLFwiZGFya29yY2hpZFwiLFwiY3JpbXNvblwiXSxlLmZvcm1hdHRlcnMuaj1mdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9LGUuZW5hYmxlKGEoKSl9LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKCl7cmV0dXJuIGUuY29sb3JzW2grKyVlLmNvbG9ycy5sZW5ndGhdfWZ1bmN0aW9uIG8odCl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKCl7dmFyIHQ9byxyPStuZXcgRGF0ZSxpPXItKHV8fHIpO3QuZGlmZj1pLHQucHJldj11LHQuY3Vycj1yLHU9cixudWxsPT10LnVzZUNvbG9ycyYmKHQudXNlQ29sb3JzPWUudXNlQ29sb3JzKCkpLG51bGw9PXQuY29sb3ImJnQudXNlQ29sb3JzJiYodC5jb2xvcj1uKCkpO3ZhciBzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7c1swXT1lLmNvZXJjZShzWzBdKSxcInN0cmluZ1wiIT10eXBlb2Ygc1swXSYmKHM9W1wiJW9cIl0uY29uY2F0KHMpKTt2YXIgYT0wO3NbMF09c1swXS5yZXBsYWNlKC8lKFthLXolXSkvZyxmdW5jdGlvbihyLG4pe2lmKFwiJSVcIj09PXIpcmV0dXJuIHI7YSsrO3ZhciBvPWUuZm9ybWF0dGVyc1tuXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvKXt2YXIgaT1zW2FdO3I9by5jYWxsKHQsaSkscy5zcGxpY2UoYSwxKSxhLS19cmV0dXJuIHJ9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZvcm1hdEFyZ3MmJihzPWUuZm9ybWF0QXJncy5hcHBseSh0LHMpKTt2YXIgYz1vLmxvZ3x8ZS5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7Yy5hcHBseSh0LHMpfXIuZW5hYmxlZD0hMSxvLmVuYWJsZWQ9ITA7dmFyIGk9ZS5lbmFibGVkKHQpP286cjtyZXR1cm4gaS5uYW1lc3BhY2U9dCxpfWZ1bmN0aW9uIGkodCl7ZS5zYXZlKHQpO2Zvcih2YXIgcj0odHx8XCJcIikuc3BsaXQoL1tcXHMsXSsvKSxuPXIubGVuZ3RoLG89MDtvPG47bysrKXJbb10mJih0PXJbb10ucmVwbGFjZSgvXFwqL2csXCIuKj9cIiksXCItXCI9PT10WzBdP2Uuc2tpcHMucHVzaChuZXcgUmVnRXhwKFwiXlwiK3Quc3Vic3RyKDEpK1wiJFwiKSk6ZS5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrdCtcIiRcIikpKX1mdW5jdGlvbiBzKCl7ZS5lbmFibGUoXCJcIil9ZnVuY3Rpb24gYSh0KXt2YXIgcixuO2ZvcihyPTAsbj1lLnNraXBzLmxlbmd0aDtyPG47cisrKWlmKGUuc2tpcHNbcl0udGVzdCh0KSlyZXR1cm4hMTtmb3Iocj0wLG49ZS5uYW1lcy5sZW5ndGg7cjxuO3IrKylpZihlLm5hbWVzW3JdLnRlc3QodCkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEVycm9yP3Quc3RhY2t8fHQubWVzc2FnZTp0fWU9dC5leHBvcnRzPW8sZS5jb2VyY2U9YyxlLmRpc2FibGU9cyxlLmVuYWJsZT1pLGUuZW5hYmxlZD1hLGUuaHVtYW5pemU9cigxMCksZS5uYW1lcz1bXSxlLnNraXBzPVtdLGUuZm9ybWF0dGVycz17fTt2YXIgdSxoPTB9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0KXtpZih0PVwiXCIrdCwhKHQubGVuZ3RoPjFlNCkpe3ZhciBlPS9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWModCk7aWYoZSl7dmFyIHI9cGFyc2VGbG9hdChlWzFdKSxuPShlWzJdfHxcIm1zXCIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKG4pe2Nhc2VcInllYXJzXCI6Y2FzZVwieWVhclwiOmNhc2VcInlyc1wiOmNhc2VcInlyXCI6Y2FzZVwieVwiOnJldHVybiByKmg7Y2FzZVwiZGF5c1wiOmNhc2VcImRheVwiOmNhc2VcImRcIjpyZXR1cm4gcip1O2Nhc2VcImhvdXJzXCI6Y2FzZVwiaG91clwiOmNhc2VcImhyc1wiOmNhc2VcImhyXCI6Y2FzZVwiaFwiOnJldHVybiByKmM7Y2FzZVwibWludXRlc1wiOmNhc2VcIm1pbnV0ZVwiOmNhc2VcIm1pbnNcIjpjYXNlXCJtaW5cIjpjYXNlXCJtXCI6cmV0dXJuIHIqYTtjYXNlXCJzZWNvbmRzXCI6Y2FzZVwic2Vjb25kXCI6Y2FzZVwic2Vjc1wiOmNhc2VcInNlY1wiOmNhc2VcInNcIjpyZXR1cm4gcipzO2Nhc2VcIm1pbGxpc2Vjb25kc1wiOmNhc2VcIm1pbGxpc2Vjb25kXCI6Y2FzZVwibXNlY3NcIjpjYXNlXCJtc2VjXCI6Y2FzZVwibXNcIjpyZXR1cm4gcn19fX1mdW5jdGlvbiBuKHQpe3JldHVybiB0Pj11P01hdGgucm91bmQodC91KStcImRcIjp0Pj1jP01hdGgucm91bmQodC9jKStcImhcIjp0Pj1hP01hdGgucm91bmQodC9hKStcIm1cIjp0Pj1zP01hdGgucm91bmQodC9zKStcInNcIjp0K1wibXNcIn1mdW5jdGlvbiBvKHQpe3JldHVybiBpKHQsdSxcImRheVwiKXx8aSh0LGMsXCJob3VyXCIpfHxpKHQsYSxcIm1pbnV0ZVwiKXx8aSh0LHMsXCJzZWNvbmRcIil8fHQrXCIgbXNcIn1mdW5jdGlvbiBpKHQsZSxyKXtpZighKHQ8ZSkpcmV0dXJuIHQ8MS41KmU/TWF0aC5mbG9vcih0L2UpK1wiIFwiK3I6TWF0aC5jZWlsKHQvZSkrXCIgXCIrcitcInNcIn12YXIgcz0xZTMsYT02MCpzLGM9NjAqYSx1PTI0KmMsaD0zNjUuMjUqdTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHx7fSxcInN0cmluZ1wiPT10eXBlb2YgdD9yKHQpOmUubG9uZz9vKHQpOm4odCl9fSxmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKHQscil7dmFyIG49ITE7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyh0LGUpe2Z1bmN0aW9uIHIodCl7aWYoclt0XSE9PWcpcmV0dXJuIHJbdF07dmFyIG87aWYoXCJidWctc3RyaW5nLWNoYXItaW5kZXhcIj09dClvPVwiYVwiIT1cImFcIlswXTtlbHNlIGlmKFwianNvblwiPT10KW89cihcImpzb24tc3RyaW5naWZ5XCIpJiZyKFwianNvbi1wYXJzZVwiKTtlbHNle3ZhciBzLGE9J3tcImFcIjpbMSx0cnVlLGZhbHNlLG51bGwsXCJcXFxcdTAwMDBcXFxcYlxcXFxuXFxcXGZcXFxcclxcXFx0XCJdfSc7aWYoXCJqc29uLXN0cmluZ2lmeVwiPT10KXt2YXIgYz1lLnN0cmluZ2lmeSxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIGMmJmI7aWYoaCl7KHM9ZnVuY3Rpb24oKXtyZXR1cm4gMX0pLnRvSlNPTj1zO3RyeXtoPVwiMFwiPT09YygwKSYmXCIwXCI9PT1jKG5ldyBuKSYmJ1wiXCInPT1jKG5ldyBpKSYmYyh2KT09PWcmJmMoZyk9PT1nJiZjKCk9PT1nJiZcIjFcIj09PWMocykmJlwiWzFdXCI9PWMoW3NdKSYmXCJbbnVsbF1cIj09YyhbZ10pJiZcIm51bGxcIj09YyhudWxsKSYmXCJbbnVsbCxudWxsLG51bGxdXCI9PWMoW2csdixudWxsXSkmJmMoe2E6W3MsITAsITEsbnVsbCxcIlxcMFxcYlxcblxcZlxcclxcdFwiXX0pPT1hJiZcIjFcIj09PWMobnVsbCxzKSYmXCJbXFxuIDEsXFxuIDJcXG5dXCI9PWMoWzEsMl0sbnVsbCwxKSYmJ1wiLTI3MTgyMS0wNC0yMFQwMDowMDowMC4wMDBaXCInPT1jKG5ldyB1KC04NjRlMTMpKSYmJ1wiKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaXCInPT1jKG5ldyB1KDg2NGUxMykpJiYnXCItMDAwMDAxLTAxLTAxVDAwOjAwOjAwLjAwMFpcIic9PWMobmV3IHUoLTYyMTk4NzU1MmU1KSkmJidcIjE5NjktMTItMzFUMjM6NTk6NTkuOTk5WlwiJz09YyhuZXcgdSgtMSkpfWNhdGNoKHQpe2g9ITF9fW89aH1pZihcImpzb24tcGFyc2VcIj09dCl7dmFyIHA9ZS5wYXJzZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBwKXRyeXtpZigwPT09cChcIjBcIikmJiFwKCExKSl7cz1wKGEpO3ZhciBmPTU9PXMuYS5sZW5ndGgmJjE9PT1zLmFbMF07aWYoZil7dHJ5e2Y9IXAoJ1wiXFx0XCInKX1jYXRjaCh0KXt9aWYoZil0cnl7Zj0xIT09cChcIjAxXCIpfWNhdGNoKHQpe31pZihmKXRyeXtmPTEhPT1wKFwiMS5cIil9Y2F0Y2godCl7fX19fWNhdGNoKHQpe2Y9ITF9bz1mfX1yZXR1cm4gclt0XT0hIW99dHx8KHQ9Yy5PYmplY3QoKSksZXx8KGU9Yy5PYmplY3QoKSk7dmFyIG49dC5OdW1iZXJ8fGMuTnVtYmVyLGk9dC5TdHJpbmd8fGMuU3RyaW5nLGE9dC5PYmplY3R8fGMuT2JqZWN0LHU9dC5EYXRlfHxjLkRhdGUsaD10LlN5bnRheEVycm9yfHxjLlN5bnRheEVycm9yLHA9dC5UeXBlRXJyb3J8fGMuVHlwZUVycm9yLGY9dC5NYXRofHxjLk1hdGgsbD10LkpTT058fGMuSlNPTjtcIm9iamVjdFwiPT10eXBlb2YgbCYmbCYmKGUuc3RyaW5naWZ5PWwuc3RyaW5naWZ5LGUucGFyc2U9bC5wYXJzZSk7dmFyIGQseSxnLG09YS5wcm90b3R5cGUsdj1tLnRvU3RyaW5nLGI9bmV3IHUoLTB4Yzc4MmI1YjgwMGNlYyk7dHJ5e2I9Yi5nZXRVVENGdWxsWWVhcigpPT0tMTA5MjUyJiYwPT09Yi5nZXRVVENNb250aCgpJiYxPT09Yi5nZXRVVENEYXRlKCkmJjEwPT1iLmdldFVUQ0hvdXJzKCkmJjM3PT1iLmdldFVUQ01pbnV0ZXMoKSYmNj09Yi5nZXRVVENTZWNvbmRzKCkmJjcwOD09Yi5nZXRVVENNaWxsaXNlY29uZHMoKX1jYXRjaCh0KXt9aWYoIXIoXCJqc29uXCIpKXt2YXIgdz1cIltvYmplY3QgRnVuY3Rpb25dXCIsaz1cIltvYmplY3QgRGF0ZV1cIix4PVwiW29iamVjdCBOdW1iZXJdXCIsQT1cIltvYmplY3QgU3RyaW5nXVwiLEM9XCJbb2JqZWN0IEFycmF5XVwiLEI9XCJbb2JqZWN0IEJvb2xlYW5dXCIsUz1yKFwiYnVnLXN0cmluZy1jaGFyLWluZGV4XCIpO2lmKCFiKXZhciBUPWYuZmxvb3IsRT1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxfPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVbZV0rMzY1Kih0LTE5NzApK1QoKHQtMTk2OSsoZT0rKGU+MSkpKS80KS1UKCh0LTE5MDErZSkvMTAwKStUKCh0LTE2MDErZSkvNDAwKX07aWYoKGQ9bS5oYXNPd25Qcm9wZXJ0eSl8fChkPWZ1bmN0aW9uKHQpe3ZhciBlLHI9e307cmV0dXJuKHIuX19wcm90b19fPW51bGwsci5fX3Byb3RvX189e3RvU3RyaW5nOjF9LHIpLnRvU3RyaW5nIT12P2Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3Byb3RvX18scj10IGluKHRoaXMuX19wcm90b19fPW51bGwsdGhpcyk7cmV0dXJuIHRoaXMuX19wcm90b19fPWUscn06KGU9ci5jb25zdHJ1Y3RvcixkPWZ1bmN0aW9uKHQpe3ZhciByPSh0aGlzLmNvbnN0cnVjdG9yfHxlKS5wcm90b3R5cGU7cmV0dXJuIHQgaW4gdGhpcyYmISh0IGluIHImJnRoaXNbdF09PT1yW3RdKX0pLHI9bnVsbCxkLmNhbGwodGhpcyx0KX0pLHk9ZnVuY3Rpb24odCxlKXt2YXIgcixuLG8saT0wOyhyPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZU9mPTB9KS5wcm90b3R5cGUudmFsdWVPZj0wLG49bmV3IHI7Zm9yKG8gaW4gbilkLmNhbGwobixvKSYmaSsrO3JldHVybiByPW49bnVsbCxpP3k9Mj09aT9mdW5jdGlvbih0LGUpe3ZhciByLG49e30sbz12LmNhbGwodCk9PXc7Zm9yKHIgaW4gdClvJiZcInByb3RvdHlwZVwiPT1yfHxkLmNhbGwobixyKXx8IShuW3JdPTEpfHwhZC5jYWxsKHQscil8fGUocil9OmZ1bmN0aW9uKHQsZSl7dmFyIHIsbixvPXYuY2FsbCh0KT09dztmb3IociBpbiB0KW8mJlwicHJvdG90eXBlXCI9PXJ8fCFkLmNhbGwodCxyKXx8KG49XCJjb25zdHJ1Y3RvclwiPT09cil8fGUocik7KG58fGQuY2FsbCh0LHI9XCJjb25zdHJ1Y3RvclwiKSkmJmUocil9OihuPVtcInZhbHVlT2ZcIixcInRvU3RyaW5nXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcImlzUHJvdG90eXBlT2ZcIixcImhhc093blByb3BlcnR5XCIsXCJjb25zdHJ1Y3RvclwiXSx5PWZ1bmN0aW9uKHQsZSl7dmFyIHIsbyxpPXYuY2FsbCh0KT09dyxhPSFpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZzW3R5cGVvZiB0Lmhhc093blByb3BlcnR5XSYmdC5oYXNPd25Qcm9wZXJ0eXx8ZDtmb3IociBpbiB0KWkmJlwicHJvdG90eXBlXCI9PXJ8fCFhLmNhbGwodCxyKXx8ZShyKTtmb3Iobz1uLmxlbmd0aDtyPW5bLS1vXTthLmNhbGwodCxyKSYmZShyKSk7fSkseSh0LGUpfSwhcihcImpzb24tc3RyaW5naWZ5XCIpKXt2YXIgTj17OTI6XCJcXFxcXFxcXFwiLDM0OidcXFxcXCInLDg6XCJcXFxcYlwiLDEyOlwiXFxcXGZcIiwxMDpcIlxcXFxuXCIsMTM6XCJcXFxcclwiLDk6XCJcXFxcdFwifSxqPVwiMDAwMDAwXCIsTz1mdW5jdGlvbih0LGUpe3JldHVybihqKyhlfHwwKSkuc2xpY2UoLXQpfSxQPVwiXFxcXHUwMFwiLFI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSdcIicscj0wLG49dC5sZW5ndGgsbz0hU3x8bj4xMCxpPW8mJihTP3Quc3BsaXQoXCJcIik6dCk7cjxuO3IrKyl7dmFyIHM9dC5jaGFyQ29kZUF0KHIpO3N3aXRjaChzKXtjYXNlIDg6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMjpjYXNlIDEzOmNhc2UgMzQ6Y2FzZSA5MjplKz1OW3NdO2JyZWFrO2RlZmF1bHQ6aWYoczwzMil7ZSs9UCtPKDIscy50b1N0cmluZygxNikpO2JyZWFrfWUrPW8/aVtyXTp0LmNoYXJBdChyKX19cmV0dXJuIGUrJ1wiJ30sRD1mdW5jdGlvbih0LGUscixuLG8saSxzKXt2YXIgYSxjLHUsaCxmLGwsbSxiLHcsUyxFLE4saixQLHEsVTt0cnl7YT1lW3RdfWNhdGNoKHQpe31pZihcIm9iamVjdFwiPT10eXBlb2YgYSYmYSlpZihjPXYuY2FsbChhKSxjIT1rfHxkLmNhbGwoYSxcInRvSlNPTlwiKSlcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRvSlNPTiYmKGMhPXgmJmMhPUEmJmMhPUN8fGQuY2FsbChhLFwidG9KU09OXCIpKSYmKGE9YS50b0pTT04odCkpO2Vsc2UgaWYoYT4tMS8wJiZhPDEvMCl7aWYoXyl7Zm9yKGY9VChhLzg2NGU1KSx1PVQoZi8zNjUuMjQyNSkrMTk3MC0xO18odSsxLDApPD1mO3UrKyk7Zm9yKGg9VCgoZi1fKHUsMCkpLzMwLjQyKTtfKHUsaCsxKTw9ZjtoKyspO2Y9MStmLV8odSxoKSxsPShhJTg2NGU1Kzg2NGU1KSU4NjRlNSxtPVQobC8zNmU1KSUyNCxiPVQobC82ZTQpJTYwLHc9VChsLzFlMyklNjAsUz1sJTFlM31lbHNlIHU9YS5nZXRVVENGdWxsWWVhcigpLGg9YS5nZXRVVENNb250aCgpLGY9YS5nZXRVVENEYXRlKCksbT1hLmdldFVUQ0hvdXJzKCksYj1hLmdldFVUQ01pbnV0ZXMoKSx3PWEuZ2V0VVRDU2Vjb25kcygpLFM9YS5nZXRVVENNaWxsaXNlY29uZHMoKTthPSh1PD0wfHx1Pj0xZTQ/KHU8MD9cIi1cIjpcIitcIikrTyg2LHU8MD8tdTp1KTpPKDQsdSkpK1wiLVwiK08oMixoKzEpK1wiLVwiK08oMixmKStcIlRcIitPKDIsbSkrXCI6XCIrTygyLGIpK1wiOlwiK08oMix3KStcIi5cIitPKDMsUykrXCJaXCJ9ZWxzZSBhPW51bGw7aWYociYmKGE9ci5jYWxsKGUsdCxhKSksbnVsbD09PWEpcmV0dXJuXCJudWxsXCI7aWYoYz12LmNhbGwoYSksYz09QilyZXR1cm5cIlwiK2E7aWYoYz09eClyZXR1cm4gYT4tMS8wJiZhPDEvMD9cIlwiK2E6XCJudWxsXCI7aWYoYz09QSlyZXR1cm4gUihcIlwiK2EpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoUD1zLmxlbmd0aDtQLS07KWlmKHNbUF09PT1hKXRocm93IHAoKTtpZihzLnB1c2goYSksRT1bXSxxPWksaSs9byxjPT1DKXtmb3Ioaj0wLFA9YS5sZW5ndGg7ajxQO2orKylOPUQoaixhLHIsbixvLGkscyksRS5wdXNoKE49PT1nP1wibnVsbFwiOk4pO1U9RS5sZW5ndGg/bz9cIltcXG5cIitpK0Uuam9pbihcIixcXG5cIitpKStcIlxcblwiK3ErXCJdXCI6XCJbXCIrRS5qb2luKFwiLFwiKStcIl1cIjpcIltdXCJ9ZWxzZSB5KG58fGEsZnVuY3Rpb24odCl7dmFyIGU9RCh0LGEscixuLG8saSxzKTtlIT09ZyYmRS5wdXNoKFIodCkrXCI6XCIrKG8/XCIgXCI6XCJcIikrZSl9KSxVPUUubGVuZ3RoP28/XCJ7XFxuXCIraStFLmpvaW4oXCIsXFxuXCIraSkrXCJcXG5cIitxK1wifVwiOlwie1wiK0Uuam9pbihcIixcIikrXCJ9XCI6XCJ7fVwiO3JldHVybiBzLnBvcCgpLFV9fTtlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGE7aWYoc1t0eXBlb2YgZV0mJmUpaWYoKGE9di5jYWxsKGUpKT09dylvPWU7ZWxzZSBpZihhPT1DKXtpPXt9O2Zvcih2YXIgYyx1PTAsaD1lLmxlbmd0aDt1PGg7Yz1lW3UrK10sYT12LmNhbGwoYyksKGE9PUF8fGE9PXgpJiYoaVtjXT0xKSk7fWlmKHIpaWYoKGE9di5jYWxsKHIpKT09eCl7aWYoKHItPXIlMSk+MClmb3Iobj1cIlwiLHI+MTAmJihyPTEwKTtuLmxlbmd0aDxyO24rPVwiIFwiKTt9ZWxzZSBhPT1BJiYobj1yLmxlbmd0aDw9MTA/cjpyLnNsaWNlKDAsMTApKTtyZXR1cm4gRChcIlwiLChjPXt9LGNbXCJcIl09dCxjKSxvLGksbixcIlwiLFtdKX19aWYoIXIoXCJqc29uLXBhcnNlXCIpKXt2YXIgcSxVLE09aS5mcm9tQ2hhckNvZGUsTD17OTI6XCJcXFxcXCIsMzQ6J1wiJyw0NzpcIi9cIiw5ODpcIlxcYlwiLDExNjpcIlxcdFwiLDExMDpcIlxcblwiLDEwMjpcIlxcZlwiLDExNDpcIlxcclwifSxJPWZ1bmN0aW9uKCl7dGhyb3cgcT1VPW51bGwsaCgpfSxIPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUscixuLG8saT1VLHM9aS5sZW5ndGg7cTxzOylzd2l0Y2gobz1pLmNoYXJDb2RlQXQocSkpe2Nhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAzMjpxKys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gdD1TP2kuY2hhckF0KHEpOmlbcV0scSsrLHQ7Y2FzZSAzNDpmb3IodD1cIkBcIixxKys7cTxzOylpZihvPWkuY2hhckNvZGVBdChxKSxvPDMyKUkoKTtlbHNlIGlmKDkyPT1vKXN3aXRjaChvPWkuY2hhckNvZGVBdCgrK3EpKXtjYXNlIDkyOmNhc2UgMzQ6Y2FzZSA0NzpjYXNlIDk4OmNhc2UgMTE2OmNhc2UgMTEwOmNhc2UgMTAyOmNhc2UgMTE0OnQrPUxbb10scSsrO2JyZWFrO2Nhc2UgMTE3OmZvcihlPSsrcSxyPXErNDtxPHI7cSsrKW89aS5jaGFyQ29kZUF0KHEpLG8+PTQ4JiZvPD01N3x8bz49OTcmJm88PTEwMnx8bz49NjUmJm88PTcwfHxJKCk7dCs9TShcIjB4XCIraS5zbGljZShlLHEpKTticmVhaztkZWZhdWx0OkkoKX1lbHNle2lmKDM0PT1vKWJyZWFrO2ZvcihvPWkuY2hhckNvZGVBdChxKSxlPXE7bz49MzImJjkyIT1vJiYzNCE9bzspbz1pLmNoYXJDb2RlQXQoKytxKTt0Kz1pLnNsaWNlKGUscSl9aWYoMzQ9PWkuY2hhckNvZGVBdChxKSlyZXR1cm4gcSsrLHQ7SSgpO2RlZmF1bHQ6aWYoZT1xLDQ1PT1vJiYobj0hMCxvPWkuY2hhckNvZGVBdCgrK3EpKSxvPj00OCYmbzw9NTcpe2Zvcig0OD09byYmKG89aS5jaGFyQ29kZUF0KHErMSksbz49NDgmJm88PTU3KSYmSSgpLG49ITE7cTxzJiYobz1pLmNoYXJDb2RlQXQocSksbz49NDgmJm88PTU3KTtxKyspO2lmKDQ2PT1pLmNoYXJDb2RlQXQocSkpe2ZvcihyPSsrcTtyPHMmJihvPWkuY2hhckNvZGVBdChyKSxvPj00OCYmbzw9NTcpO3IrKyk7cj09cSYmSSgpLHE9cn1pZihvPWkuY2hhckNvZGVBdChxKSwxMDE9PW98fDY5PT1vKXtmb3Iobz1pLmNoYXJDb2RlQXQoKytxKSw0MyE9byYmNDUhPW98fHErKyxyPXE7cjxzJiYobz1pLmNoYXJDb2RlQXQociksbz49NDgmJm88PTU3KTtyKyspO3I9PXEmJkkoKSxxPXJ9cmV0dXJuK2kuc2xpY2UoZSxxKX1pZihuJiZJKCksXCJ0cnVlXCI9PWkuc2xpY2UocSxxKzQpKXJldHVybiBxKz00LCEwO2lmKFwiZmFsc2VcIj09aS5zbGljZShxLHErNSkpcmV0dXJuIHErPTUsITE7aWYoXCJudWxsXCI9PWkuc2xpY2UocSxxKzQpKXJldHVybiBxKz00LG51bGw7SSgpfXJldHVyblwiJFwifSx6PWZ1bmN0aW9uKHQpe3ZhciBlLHI7aWYoXCIkXCI9PXQmJkkoKSxcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoXCJAXCI9PShTP3QuY2hhckF0KDApOnRbMF0pKXJldHVybiB0LnNsaWNlKDEpO2lmKFwiW1wiPT10KXtmb3IoZT1bXTt0PUgoKSxcIl1cIiE9dDtyfHwocj0hMCkpciYmKFwiLFwiPT10Pyh0PUgoKSxcIl1cIj09dCYmSSgpKTpJKCkpLFwiLFwiPT10JiZJKCksZS5wdXNoKHoodCkpO3JldHVybiBlfWlmKFwie1wiPT10KXtmb3IoZT17fTt0PUgoKSxcIn1cIiE9dDtyfHwocj0hMCkpciYmKFwiLFwiPT10Pyh0PUgoKSxcIn1cIj09dCYmSSgpKTpJKCkpLFwiLFwiIT10JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJAXCI9PShTP3QuY2hhckF0KDApOnRbMF0pJiZcIjpcIj09SCgpfHxJKCksZVt0LnNsaWNlKDEpXT16KEgoKSk7cmV0dXJuIGV9SSgpfXJldHVybiB0fSxKPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1YKHQsZSxyKTtuPT09Zz9kZWxldGUgdFtlXTp0W2VdPW59LFg9ZnVuY3Rpb24odCxlLHIpe3ZhciBuLG89dFtlXTtpZihcIm9iamVjdFwiPT10eXBlb2YgbyYmbylpZih2LmNhbGwobyk9PUMpZm9yKG49by5sZW5ndGg7bi0tOylKKG8sbixyKTtlbHNlIHkobyxmdW5jdGlvbih0KXtKKG8sdCxyKX0pO3JldHVybiByLmNhbGwodCxlLG8pfTtlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbjtyZXR1cm4gcT0wLFU9XCJcIit0LHI9eihIKCkpLFwiJFwiIT1IKCkmJkkoKSxxPVU9bnVsbCxlJiZ2LmNhbGwoZSk9PXc/WCgobj17fSxuW1wiXCJdPXIsbiksXCJcIixlKTpyfX19cmV0dXJuIGUucnVuSW5Db250ZXh0PW8sZX12YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuLmFtZCxzPXtmdW5jdGlvbjohMCxvYmplY3Q6ITB9LGE9c1t0eXBlb2YgZV0mJmUmJiFlLm5vZGVUeXBlJiZlLGM9c1t0eXBlb2Ygd2luZG93XSYmd2luZG93fHx0aGlzLHU9YSYmc1t0eXBlb2YgdF0mJnQmJiF0Lm5vZGVUeXBlJiZcIm9iamVjdFwiPT10eXBlb2YgciYmcjtpZighdXx8dS5nbG9iYWwhPT11JiZ1LndpbmRvdyE9PXUmJnUuc2VsZiE9PXV8fChjPXUpLGEmJiFpKW8oYyxhKTtlbHNle3ZhciBoPWMuSlNPTixwPWMuSlNPTjMsZj0hMSxsPW8oYyxjLkpTT04zPXtub0NvbmZsaWN0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ8fChmPSEwLGMuSlNPTj1oLGMuSlNPTjM9cCxoPXA9bnVsbCksbH19KTtjLkpTT049e3BhcnNlOmwucGFyc2Usc3RyaW5naWZ5Omwuc3RyaW5naWZ5fX1pJiZuKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KX0pLmNhbGwodGhpcyl9KS5jYWxsKGUscigxMikodCksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LndlYnBhY2tQb2x5ZmlsbHx8KHQuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fSx0LnBhdGhzPVtdLHQuY2hpbGRyZW49W10sdC53ZWJwYWNrUG9seWZpbGw9MSksdH19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0KXtpZih0KXJldHVybiBuKHQpfWZ1bmN0aW9uIG4odCl7Zm9yKHZhciBlIGluIHIucHJvdG90eXBlKXRbZV09ci5wcm90b3R5cGVbZV07cmV0dXJuIHR9dC5leHBvcnRzPXIsci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwodGhpcy5fY2FsbGJhY2tzW3RdPXRoaXMuX2NhbGxiYWNrc1t0XXx8W10pLnB1c2goZSksdGhpc30sci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIoKXtuLm9mZih0LHIpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHIuZm49ZSx0aGlzLm9uKHQsciksdGhpc30sci5wcm90b3R5cGUub2ZmPXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1yLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIHI9dGhpcy5fY2FsbGJhY2tzW3RdO2lmKCFyKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbdF0sdGhpcztmb3IodmFyIG4sbz0wO288ci5sZW5ndGg7bysrKWlmKG49cltvXSxuPT09ZXx8bi5mbj09PWUpe3Iuc3BsaWNlKG8sMSk7YnJlYWt9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj10aGlzLl9jYWxsYmFja3NbdF07aWYocil7cj1yLnNsaWNlKDApO2Zvcih2YXIgbj0wLG89ci5sZW5ndGg7bjxvOysrbilyW25dLmFwcGx5KHRoaXMsZSl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sdGhpcy5fY2FsbGJhY2tzW3RdfHxbXX0sci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5saXN0ZW5lcnModCkubGVuZ3RofX0sZnVuY3Rpb24odCxlLHIpeyhmdW5jdGlvbih0KXt2YXIgbj1yKDE1KSxvPXIoMTYpO2UuZGVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtpZighdClyZXR1cm4gdDtpZihvKHQpKXt2YXIgaT17X3BsYWNlaG9sZGVyOiEwLG51bTpyLmxlbmd0aH07cmV0dXJuIHIucHVzaCh0KSxpfWlmKG4odCkpe2Zvcih2YXIgcz1uZXcgQXJyYXkodC5sZW5ndGgpLGE9MDthPHQubGVuZ3RoO2ErKylzW2FdPWUodFthXSk7cmV0dXJuIHN9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIERhdGUpKXt2YXIgcz17fTtmb3IodmFyIGMgaW4gdClzW2NdPWUodFtjXSk7cmV0dXJuIHN9cmV0dXJuIHR9dmFyIHI9W10saT10LmRhdGEscz10O3JldHVybiBzLmRhdGE9ZShpKSxzLmF0dGFjaG1lbnRzPXIubGVuZ3RoLHtwYWNrZXQ6cyxidWZmZXJzOnJ9fSxlLnJlY29uc3RydWN0UGFja2V0PWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0KXtpZih0JiZ0Ll9wbGFjZWhvbGRlcil7dmFyIG89ZVt0Lm51bV07cmV0dXJuIG99aWYobih0KSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT1yKHRbaV0pO3JldHVybiB0fWlmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0KXtmb3IodmFyIHMgaW4gdCl0W3NdPXIodFtzXSk7cmV0dXJuIHR9cmV0dXJuIHR9cmV0dXJuIHQuZGF0YT1yKHQuZGF0YSksdC5hdHRhY2htZW50cz12b2lkIDAsdH0sZS5yZW1vdmVCbG9icz1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoZSxjLHUpe2lmKCFlKXJldHVybiBlO2lmKHQuQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2J8fHQuRmlsZSYmZSBpbnN0YW5jZW9mIEZpbGUpe3MrKzt2YXIgaD1uZXcgRmlsZVJlYWRlcjtoLm9ubG9hZD1mdW5jdGlvbigpe3U/dVtjXT10aGlzLnJlc3VsdDphPXRoaXMucmVzdWx0LC0tc3x8cihhKX0saC5yZWFkQXNBcnJheUJ1ZmZlcihlKX1lbHNlIGlmKG4oZSkpZm9yKHZhciBwPTA7cDxlLmxlbmd0aDtwKyspaShlW3BdLHAsZSk7ZWxzZSBpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIW8oZSkpZm9yKHZhciBmIGluIGUpaShlW2ZdLGYsZSl9dmFyIHM9MCxhPWU7aShhKSxzfHxyKGEpfX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9fSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQpe3JldHVybiBlLkJ1ZmZlciYmZS5CdWZmZXIuaXNCdWZmZXIodCl8fGUuQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn10LmV4cG9ydHM9cn0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4/KHQmJlwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpvKHQpKSYmKGU9dCx0PXZvaWQgMCksZT1lfHx7fSxlLnBhdGg9ZS5wYXRofHxcIi9zb2NrZXQuaW9cIix0aGlzLm5zcHM9e30sdGhpcy5zdWJzPVtdLHRoaXMub3B0cz1lLHRoaXMucmVjb25uZWN0aW9uKGUucmVjb25uZWN0aW9uIT09ITEpLHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMoZS5yZWNvbm5lY3Rpb25BdHRlbXB0c3x8MS8wKSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5KGUucmVjb25uZWN0aW9uRGVsYXl8fDFlMyksdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChlLnJlY29ubmVjdGlvbkRlbGF5TWF4fHw1ZTMpLHRoaXMucmFuZG9taXphdGlvbkZhY3RvcihlLnJhbmRvbWl6YXRpb25GYWN0b3J8fC41KSx0aGlzLmJhY2tvZmY9bmV3IGwoe21pbjp0aGlzLnJlY29ubmVjdGlvbkRlbGF5KCksbWF4OnRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgoKSxqaXR0ZXI6dGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKCl9KSx0aGlzLnRpbWVvdXQobnVsbD09ZS50aW1lb3V0PzJlNDplLnRpbWVvdXQpLHRoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMudXJpPXQsdGhpcy5jb25uZWN0aW5nPVtdLHRoaXMubGFzdFBpbmc9bnVsbCx0aGlzLmVuY29kaW5nPSExLHRoaXMucGFja2V0QnVmZmVyPVtdLHRoaXMuZW5jb2Rlcj1uZXcgYy5FbmNvZGVyLHRoaXMuZGVjb2Rlcj1uZXcgYy5EZWNvZGVyLHRoaXMuYXV0b0Nvbm5lY3Q9ZS5hdXRvQ29ubmVjdCE9PSExLHZvaWQodGhpcy5hdXRvQ29ubmVjdCYmdGhpcy5vcGVuKCkpKTpuZXcgbih0LGUpfXZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGk9cigxOCkscz1yKDQ0KSxhPXIoMzUpLGM9cig3KSx1PXIoNDYpLGg9cig0NykscD1yKDMpKFwic29ja2V0LmlvLWNsaWVudDptYW5hZ2VyXCIpLGY9cig0MiksbD1yKDQ4KSxkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPW4sbi5wcm90b3R5cGUuZW1pdEFsbD1mdW5jdGlvbigpe3RoaXMuZW1pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciB0IGluIHRoaXMubnNwcylkLmNhbGwodGhpcy5uc3BzLHQpJiZ0aGlzLm5zcHNbdF0uZW1pdC5hcHBseSh0aGlzLm5zcHNbdF0sYXJndW1lbnRzKX0sbi5wcm90b3R5cGUudXBkYXRlU29ja2V0SWRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubnNwcylkLmNhbGwodGhpcy5uc3BzLHQpJiYodGhpcy5uc3BzW3RdLmlkPXRoaXMuZW5naW5lLmlkKX0sYShuLnByb3RvdHlwZSksbi5wcm90b3R5cGUucmVjb25uZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb249ISF0LHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbn0sbi5wcm90b3R5cGUucmVjb25uZWN0aW9uQXR0ZW1wdHM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzPXQsdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHN9LG4ucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb25EZWxheT10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldE1pbih0KSx0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25EZWxheX0sbi5wcm90b3R5cGUucmFuZG9taXphdGlvbkZhY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmFuZG9taXphdGlvbkZhY3Rvcj10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldEppdHRlcih0KSx0aGlzKTp0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yfSxuLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25EZWxheU1heD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg9dCx0aGlzLmJhY2tvZmYmJnRoaXMuYmFja29mZi5zZXRNYXgodCksdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXh9LG4ucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3RpbWVvdXQ9dCx0aGlzKTp0aGlzLl90aW1lb3V0fSxuLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3Blbj1mdW5jdGlvbigpeyF0aGlzLnJlY29ubmVjdGluZyYmdGhpcy5fcmVjb25uZWN0aW9uJiYwPT09dGhpcy5iYWNrb2ZmLmF0dGVtcHRzJiZ0aGlzLnJlY29ubmVjdCgpfSxuLnByb3RvdHlwZS5vcGVuPW4ucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24odCxlKXtpZihwKFwicmVhZHlTdGF0ZSAlc1wiLHRoaXMucmVhZHlTdGF0ZSksfnRoaXMucmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlyZXR1cm4gdGhpcztwKFwib3BlbmluZyAlc1wiLHRoaXMudXJpKSx0aGlzLmVuZ2luZT1pKHRoaXMudXJpLHRoaXMub3B0cyk7dmFyIHI9dGhpcy5lbmdpbmUsbj10aGlzO3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5pbmdcIix0aGlzLnNraXBSZWNvbm5lY3Q9ITE7dmFyIG89dShyLFwib3BlblwiLGZ1bmN0aW9uKCl7bi5vbm9wZW4oKSx0JiZ0KCl9KSxzPXUocixcImVycm9yXCIsZnVuY3Rpb24oZSl7aWYocChcImNvbm5lY3RfZXJyb3JcIiksbi5jbGVhbnVwKCksbi5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsbi5lbWl0QWxsKFwiY29ubmVjdF9lcnJvclwiLGUpLHQpe3ZhciByPW5ldyBFcnJvcihcIkNvbm5lY3Rpb24gZXJyb3JcIik7ci5kYXRhPWUsdChyKX1lbHNlIG4ubWF5YmVSZWNvbm5lY3RPbk9wZW4oKX0pO2lmKCExIT09dGhpcy5fdGltZW91dCl7dmFyIGE9dGhpcy5fdGltZW91dDtwKFwiY29ubmVjdCBhdHRlbXB0IHdpbGwgdGltZW91dCBhZnRlciAlZFwiLGEpO3ZhciBjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtwKFwiY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZFwiLGEpLG8uZGVzdHJveSgpLHIuY2xvc2UoKSxyLmVtaXQoXCJlcnJvclwiLFwidGltZW91dFwiKSxuLmVtaXRBbGwoXCJjb25uZWN0X3RpbWVvdXRcIixhKX0sYSk7dGhpcy5zdWJzLnB1c2goe2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYyl9fSl9cmV0dXJuIHRoaXMuc3Vicy5wdXNoKG8pLHRoaXMuc3Vicy5wdXNoKHMpLHRoaXN9LG4ucHJvdG90eXBlLm9ub3Blbj1mdW5jdGlvbigpe3AoXCJvcGVuXCIpLHRoaXMuY2xlYW51cCgpLHRoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIix0aGlzLmVtaXQoXCJvcGVuXCIpO3ZhciB0PXRoaXMuZW5naW5lO3RoaXMuc3Vicy5wdXNoKHUodCxcImRhdGFcIixoKHRoaXMsXCJvbmRhdGFcIikpKSx0aGlzLnN1YnMucHVzaCh1KHQsXCJwaW5nXCIsaCh0aGlzLFwib25waW5nXCIpKSksdGhpcy5zdWJzLnB1c2godSh0LFwicG9uZ1wiLGgodGhpcyxcIm9ucG9uZ1wiKSkpLHRoaXMuc3Vicy5wdXNoKHUodCxcImVycm9yXCIsaCh0aGlzLFwib25lcnJvclwiKSkpLHRoaXMuc3Vicy5wdXNoKHUodCxcImNsb3NlXCIsaCh0aGlzLFwib25jbG9zZVwiKSkpLHRoaXMuc3Vicy5wdXNoKHUodGhpcy5kZWNvZGVyLFwiZGVjb2RlZFwiLGgodGhpcyxcIm9uZGVjb2RlZFwiKSkpfSxuLnByb3RvdHlwZS5vbnBpbmc9ZnVuY3Rpb24oKXt0aGlzLmxhc3RQaW5nPW5ldyBEYXRlLHRoaXMuZW1pdEFsbChcInBpbmdcIil9LG4ucHJvdG90eXBlLm9ucG9uZz1mdW5jdGlvbigpe3RoaXMuZW1pdEFsbChcInBvbmdcIixuZXcgRGF0ZS10aGlzLmxhc3RQaW5nKX0sbi5wcm90b3R5cGUub25kYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZGVjb2Rlci5hZGQodCl9LG4ucHJvdG90eXBlLm9uZGVjb2RlZD1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwYWNrZXRcIix0KX0sbi5wcm90b3R5cGUub25lcnJvcj1mdW5jdGlvbih0KXtwKFwiZXJyb3JcIix0KSx0aGlzLmVtaXRBbGwoXCJlcnJvclwiLHQpfSxuLnByb3RvdHlwZS5zb2NrZXQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKCl7fmYoby5jb25uZWN0aW5nLG4pfHxvLmNvbm5lY3RpbmcucHVzaChuKX12YXIgbj10aGlzLm5zcHNbdF07aWYoIW4pe249bmV3IHModGhpcyx0LGUpLHRoaXMubnNwc1t0XT1uO3ZhciBvPXRoaXM7bi5vbihcImNvbm5lY3RpbmdcIixyKSxuLm9uKFwiY29ubmVjdFwiLGZ1bmN0aW9uKCl7bi5pZD1vLmVuZ2luZS5pZH0pLHRoaXMuYXV0b0Nvbm5lY3QmJnIoKX1yZXR1cm4gbn0sbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt2YXIgZT1mKHRoaXMuY29ubmVjdGluZyx0KTt+ZSYmdGhpcy5jb25uZWN0aW5nLnNwbGljZShlLDEpLHRoaXMuY29ubmVjdGluZy5sZW5ndGh8fHRoaXMuY2xvc2UoKX0sbi5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHQpe3AoXCJ3cml0aW5nIHBhY2tldCAlalwiLHQpO3ZhciBlPXRoaXM7dC5xdWVyeSYmMD09PXQudHlwZSYmKHQubnNwKz1cIj9cIit0LnF1ZXJ5KSxlLmVuY29kaW5nP2UucGFja2V0QnVmZmVyLnB1c2godCk6KGUuZW5jb2Rpbmc9ITAsdGhpcy5lbmNvZGVyLmVuY29kZSh0LGZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKWUuZW5naW5lLndyaXRlKHJbbl0sdC5vcHRpb25zKTtlLmVuY29kaW5nPSExLGUucHJvY2Vzc1BhY2tldFF1ZXVlKCl9KSl9LG4ucHJvdG90eXBlLnByb2Nlc3NQYWNrZXRRdWV1ZT1mdW5jdGlvbigpe2lmKHRoaXMucGFja2V0QnVmZmVyLmxlbmd0aD4wJiYhdGhpcy5lbmNvZGluZyl7dmFyIHQ9dGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTt0aGlzLnBhY2tldCh0KX19LG4ucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24oKXtwKFwiY2xlYW51cFwiKTtmb3IodmFyIHQ9dGhpcy5zdWJzLmxlbmd0aCxlPTA7ZTx0O2UrKyl7dmFyIHI9dGhpcy5zdWJzLnNoaWZ0KCk7ci5kZXN0cm95KCl9dGhpcy5wYWNrZXRCdWZmZXI9W10sdGhpcy5lbmNvZGluZz0hMSx0aGlzLmxhc3RQaW5nPW51bGwsdGhpcy5kZWNvZGVyLmRlc3Ryb3koKX0sbi5wcm90b3R5cGUuY2xvc2U9bi5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe3AoXCJkaXNjb25uZWN0XCIpLHRoaXMuc2tpcFJlY29ubmVjdD0hMCx0aGlzLnJlY29ubmVjdGluZz0hMSxcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5jbGVhbnVwKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbmdpbmUmJnRoaXMuZW5naW5lLmNsb3NlKCl9LG4ucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24odCl7cChcIm9uY2xvc2VcIiksdGhpcy5jbGVhbnVwKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0KFwiY2xvc2VcIix0KSx0aGlzLl9yZWNvbm5lY3Rpb24mJiF0aGlzLnNraXBSZWNvbm5lY3QmJnRoaXMucmVjb25uZWN0KCl9LG4ucHJvdG90eXBlLnJlY29ubmVjdD1mdW5jdGlvbigpe2lmKHRoaXMucmVjb25uZWN0aW5nfHx0aGlzLnNraXBSZWNvbm5lY3QpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcztpZih0aGlzLmJhY2tvZmYuYXR0ZW1wdHM+PXRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKXAoXCJyZWNvbm5lY3QgZmFpbGVkXCIpLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMuZW1pdEFsbChcInJlY29ubmVjdF9mYWlsZWRcIiksdGhpcy5yZWNvbm5lY3Rpbmc9ITE7ZWxzZXt2YXIgZT10aGlzLmJhY2tvZmYuZHVyYXRpb24oKTtwKFwid2lsbCB3YWl0ICVkbXMgYmVmb3JlIHJlY29ubmVjdCBhdHRlbXB0XCIsZSksdGhpcy5yZWNvbm5lY3Rpbmc9ITA7dmFyIHI9c2V0VGltZW91dChmdW5jdGlvbigpe3Quc2tpcFJlY29ubmVjdHx8KHAoXCJhdHRlbXB0aW5nIHJlY29ubmVjdFwiKSx0LmVtaXRBbGwoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLHQuYmFja29mZi5hdHRlbXB0cyksdC5lbWl0QWxsKFwicmVjb25uZWN0aW5nXCIsdC5iYWNrb2ZmLmF0dGVtcHRzKSx0LnNraXBSZWNvbm5lY3R8fHQub3BlbihmdW5jdGlvbihlKXtlPyhwKFwicmVjb25uZWN0IGF0dGVtcHQgZXJyb3JcIiksdC5yZWNvbm5lY3Rpbmc9ITEsdC5yZWNvbm5lY3QoKSx0LmVtaXRBbGwoXCJyZWNvbm5lY3RfZXJyb3JcIixlLmRhdGEpKToocChcInJlY29ubmVjdCBzdWNjZXNzXCIpLHQub25yZWNvbm5lY3QoKSl9KSl9LGUpO3RoaXMuc3Vicy5wdXNoKHtkZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpfX0pfX0sbi5wcm90b3R5cGUub25yZWNvbm5lY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJhY2tvZmYuYXR0ZW1wdHM7dGhpcy5yZWNvbm5lY3Rpbmc9ITEsdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy51cGRhdGVTb2NrZXRJZHMoKSx0aGlzLmVtaXRBbGwoXCJyZWNvbm5lY3RcIix0KX19LGZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigxOSl9LGZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigyMCksdC5leHBvcnRzLnBhcnNlcj1yKDI3KX0sZnVuY3Rpb24odCxlLHIpeyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQscil7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIG5ldyBuKHQscik7cj1yfHx7fSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKHI9dCx0PW51bGwpLHQ/KHQ9aCh0KSxyLmhvc3RuYW1lPXQuaG9zdCxyLnNlY3VyZT1cImh0dHBzXCI9PT10LnByb3RvY29sfHxcIndzc1wiPT09dC5wcm90b2NvbCxyLnBvcnQ9dC5wb3J0LHQucXVlcnkmJihyLnF1ZXJ5PXQucXVlcnkpKTpyLmhvc3QmJihyLmhvc3RuYW1lPWgoci5ob3N0KS5ob3N0KSxcbnRoaXMuc2VjdXJlPW51bGwhPXIuc2VjdXJlP3Iuc2VjdXJlOmUubG9jYXRpb24mJlwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbCxyLmhvc3RuYW1lJiYhci5wb3J0JiYoci5wb3J0PXRoaXMuc2VjdXJlP1wiNDQzXCI6XCI4MFwiKSx0aGlzLmFnZW50PXIuYWdlbnR8fCExLHRoaXMuaG9zdG5hbWU9ci5ob3N0bmFtZXx8KGUubG9jYXRpb24/bG9jYXRpb24uaG9zdG5hbWU6XCJsb2NhbGhvc3RcIiksdGhpcy5wb3J0PXIucG9ydHx8KGUubG9jYXRpb24mJmxvY2F0aW9uLnBvcnQ/bG9jYXRpb24ucG9ydDp0aGlzLnNlY3VyZT80NDM6ODApLHRoaXMucXVlcnk9ci5xdWVyeXx8e30sXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMucXVlcnkmJih0aGlzLnF1ZXJ5PWYuZGVjb2RlKHRoaXMucXVlcnkpKSx0aGlzLnVwZ3JhZGU9ITEhPT1yLnVwZ3JhZGUsdGhpcy5wYXRoPShyLnBhdGh8fFwiL2VuZ2luZS5pb1wiKS5yZXBsYWNlKC9cXC8kLyxcIlwiKStcIi9cIix0aGlzLmZvcmNlSlNPTlA9ISFyLmZvcmNlSlNPTlAsdGhpcy5qc29ucD0hMSE9PXIuanNvbnAsdGhpcy5mb3JjZUJhc2U2ND0hIXIuZm9yY2VCYXNlNjQsdGhpcy5lbmFibGVzWERSPSEhci5lbmFibGVzWERSLHRoaXMudGltZXN0YW1wUGFyYW09ci50aW1lc3RhbXBQYXJhbXx8XCJ0XCIsdGhpcy50aW1lc3RhbXBSZXF1ZXN0cz1yLnRpbWVzdGFtcFJlcXVlc3RzLHRoaXMudHJhbnNwb3J0cz1yLnRyYW5zcG9ydHN8fFtcInBvbGxpbmdcIixcIndlYnNvY2tldFwiXSx0aGlzLnJlYWR5U3RhdGU9XCJcIix0aGlzLndyaXRlQnVmZmVyPVtdLHRoaXMucHJldkJ1ZmZlckxlbj0wLHRoaXMucG9saWN5UG9ydD1yLnBvbGljeVBvcnR8fDg0Myx0aGlzLnJlbWVtYmVyVXBncmFkZT1yLnJlbWVtYmVyVXBncmFkZXx8ITEsdGhpcy5iaW5hcnlUeXBlPW51bGwsdGhpcy5vbmx5QmluYXJ5VXBncmFkZXM9ci5vbmx5QmluYXJ5VXBncmFkZXMsdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZT0hMSE9PXIucGVyTWVzc2FnZURlZmxhdGUmJihyLnBlck1lc3NhZ2VEZWZsYXRlfHx7fSksITA9PT10aGlzLnBlck1lc3NhZ2VEZWZsYXRlJiYodGhpcy5wZXJNZXNzYWdlRGVmbGF0ZT17fSksdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSYmbnVsbD09dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQmJih0aGlzLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZD0xMDI0KSx0aGlzLnBmeD1yLnBmeHx8bnVsbCx0aGlzLmtleT1yLmtleXx8bnVsbCx0aGlzLnBhc3NwaHJhc2U9ci5wYXNzcGhyYXNlfHxudWxsLHRoaXMuY2VydD1yLmNlcnR8fG51bGwsdGhpcy5jYT1yLmNhfHxudWxsLHRoaXMuY2lwaGVycz1yLmNpcGhlcnN8fG51bGwsdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ9dm9pZCAwPT09ci5yZWplY3RVbmF1dGhvcml6ZWQ/bnVsbDpyLnJlamVjdFVuYXV0aG9yaXplZCx0aGlzLmZvcmNlTm9kZT0hIXIuZm9yY2VOb2RlO3ZhciBvPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlO28uZ2xvYmFsPT09byYmKHIuZXh0cmFIZWFkZXJzJiZPYmplY3Qua2V5cyhyLmV4dHJhSGVhZGVycykubGVuZ3RoPjAmJih0aGlzLmV4dHJhSGVhZGVycz1yLmV4dHJhSGVhZGVycyksci5sb2NhbEFkZHJlc3MmJih0aGlzLmxvY2FsQWRkcmVzcz1yLmxvY2FsQWRkcmVzcykpLHRoaXMuaWQ9bnVsbCx0aGlzLnVwZ3JhZGVzPW51bGwsdGhpcy5waW5nSW50ZXJ2YWw9bnVsbCx0aGlzLnBpbmdUaW1lb3V0PW51bGwsdGhpcy5waW5nSW50ZXJ2YWxUaW1lcj1udWxsLHRoaXMucGluZ1RpbWVvdXRUaW1lcj1udWxsLHRoaXMub3BlbigpfWZ1bmN0aW9uIG8odCl7dmFyIGU9e307Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGV9dmFyIGk9cigyMSkscz1yKDM1KSxhPXIoMykoXCJlbmdpbmUuaW8tY2xpZW50OnNvY2tldFwiKSxjPXIoNDIpLHU9cigyNyksaD1yKDIpLHA9cig0MyksZj1yKDM2KTt0LmV4cG9ydHM9bixuLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSxzKG4ucHJvdG90eXBlKSxuLnByb3RvY29sPXUucHJvdG9jb2wsbi5Tb2NrZXQ9bixuLlRyYW5zcG9ydD1yKDI2KSxuLnRyYW5zcG9ydHM9cigyMSksbi5wYXJzZXI9cigyNyksbi5wcm90b3R5cGUuY3JlYXRlVHJhbnNwb3J0PWZ1bmN0aW9uKHQpe2EoJ2NyZWF0aW5nIHRyYW5zcG9ydCBcIiVzXCInLHQpO3ZhciBlPW8odGhpcy5xdWVyeSk7ZS5FSU89dS5wcm90b2NvbCxlLnRyYW5zcG9ydD10LHRoaXMuaWQmJihlLnNpZD10aGlzLmlkKTt2YXIgcj1uZXcgaVt0XSh7YWdlbnQ6dGhpcy5hZ2VudCxob3N0bmFtZTp0aGlzLmhvc3RuYW1lLHBvcnQ6dGhpcy5wb3J0LHNlY3VyZTp0aGlzLnNlY3VyZSxwYXRoOnRoaXMucGF0aCxxdWVyeTplLGZvcmNlSlNPTlA6dGhpcy5mb3JjZUpTT05QLGpzb25wOnRoaXMuanNvbnAsZm9yY2VCYXNlNjQ6dGhpcy5mb3JjZUJhc2U2NCxlbmFibGVzWERSOnRoaXMuZW5hYmxlc1hEUix0aW1lc3RhbXBSZXF1ZXN0czp0aGlzLnRpbWVzdGFtcFJlcXVlc3RzLHRpbWVzdGFtcFBhcmFtOnRoaXMudGltZXN0YW1wUGFyYW0scG9saWN5UG9ydDp0aGlzLnBvbGljeVBvcnQsc29ja2V0OnRoaXMscGZ4OnRoaXMucGZ4LGtleTp0aGlzLmtleSxwYXNzcGhyYXNlOnRoaXMucGFzc3BocmFzZSxjZXJ0OnRoaXMuY2VydCxjYTp0aGlzLmNhLGNpcGhlcnM6dGhpcy5jaXBoZXJzLHJlamVjdFVuYXV0aG9yaXplZDp0aGlzLnJlamVjdFVuYXV0aG9yaXplZCxwZXJNZXNzYWdlRGVmbGF0ZTp0aGlzLnBlck1lc3NhZ2VEZWZsYXRlLGV4dHJhSGVhZGVyczp0aGlzLmV4dHJhSGVhZGVycyxmb3JjZU5vZGU6dGhpcy5mb3JjZU5vZGUsbG9jYWxBZGRyZXNzOnRoaXMubG9jYWxBZGRyZXNzfSk7cmV0dXJuIHJ9LG4ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLnJlbWVtYmVyVXBncmFkZSYmbi5wcmlvcldlYnNvY2tldFN1Y2Nlc3MmJnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpIT09LTEpdD1cIndlYnNvY2tldFwiO2Vsc2V7aWYoMD09PXRoaXMudHJhbnNwb3J0cy5sZW5ndGgpe3ZhciBlPXRoaXM7cmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2UuZW1pdChcImVycm9yXCIsXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKX0sMCl9dD10aGlzLnRyYW5zcG9ydHNbMF19dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiO3RyeXt0PXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQpfWNhdGNoKHQpe3JldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx2b2lkIHRoaXMub3BlbigpfXQub3BlbigpLHRoaXMuc2V0VHJhbnNwb3J0KHQpfSxuLnByb3RvdHlwZS5zZXRUcmFuc3BvcnQ9ZnVuY3Rpb24odCl7YShcInNldHRpbmcgdHJhbnNwb3J0ICVzXCIsdC5uYW1lKTt2YXIgZT10aGlzO3RoaXMudHJhbnNwb3J0JiYoYShcImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlc1wiLHRoaXMudHJhbnNwb3J0Lm5hbWUpLHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpKSx0aGlzLnRyYW5zcG9ydD10LHQub24oXCJkcmFpblwiLGZ1bmN0aW9uKCl7ZS5vbkRyYWluKCl9KS5vbihcInBhY2tldFwiLGZ1bmN0aW9uKHQpe2Uub25QYWNrZXQodCl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7ZS5vbkVycm9yKHQpfSkub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7ZS5vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIpfSl9LG4ucHJvdG90eXBlLnByb2JlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZihmLm9ubHlCaW5hcnlVcGdyYWRlcyl7dmFyIGU9IXRoaXMuc3VwcG9ydHNCaW5hcnkmJmYudHJhbnNwb3J0LnN1cHBvcnRzQmluYXJ5O3A9cHx8ZX1wfHwoYSgncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLHQpLGguc2VuZChbe3R5cGU6XCJwaW5nXCIsZGF0YTpcInByb2JlXCJ9XSksaC5vbmNlKFwicGFja2V0XCIsZnVuY3Rpb24oZSl7aWYoIXApaWYoXCJwb25nXCI9PT1lLnR5cGUmJlwicHJvYmVcIj09PWUuZGF0YSl7aWYoYSgncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBwb25nJyx0KSxmLnVwZ3JhZGluZz0hMCxmLmVtaXQoXCJ1cGdyYWRpbmdcIixoKSwhaClyZXR1cm47bi5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PWgubmFtZSxhKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsZi50cmFuc3BvcnQubmFtZSksZi50cmFuc3BvcnQucGF1c2UoZnVuY3Rpb24oKXtwfHxcImNsb3NlZFwiIT09Zi5yZWFkeVN0YXRlJiYoYShcImNoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldFwiKSx1KCksZi5zZXRUcmFuc3BvcnQoaCksaC5zZW5kKFt7dHlwZTpcInVwZ3JhZGVcIn1dKSxmLmVtaXQoXCJ1cGdyYWRlXCIsaCksaD1udWxsLGYudXBncmFkaW5nPSExLGYuZmx1c2goKSl9KX1lbHNle2EoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkJyx0KTt2YXIgcj1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTtyLnRyYW5zcG9ydD1oLm5hbWUsZi5lbWl0KFwidXBncmFkZUVycm9yXCIscil9fSkpfWZ1bmN0aW9uIHIoKXtwfHwocD0hMCx1KCksaC5jbG9zZSgpLGg9bnVsbCl9ZnVuY3Rpb24gbyhlKXt2YXIgbj1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIrZSk7bi50cmFuc3BvcnQ9aC5uYW1lLHIoKSxhKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsdCxlKSxmLmVtaXQoXCJ1cGdyYWRlRXJyb3JcIixuKX1mdW5jdGlvbiBpKCl7byhcInRyYW5zcG9ydCBjbG9zZWRcIil9ZnVuY3Rpb24gcygpe28oXCJzb2NrZXQgY2xvc2VkXCIpfWZ1bmN0aW9uIGModCl7aCYmdC5uYW1lIT09aC5uYW1lJiYoYSgnXCIlc1wiIHdvcmtzIC0gYWJvcnRpbmcgXCIlc1wiJyx0Lm5hbWUsaC5uYW1lKSxyKCkpfWZ1bmN0aW9uIHUoKXtoLnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLGUpLGgucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG8pLGgucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGkpLGYucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHMpLGYucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRpbmdcIixjKX1hKCdwcm9iaW5nIHRyYW5zcG9ydCBcIiVzXCInLHQpO3ZhciBoPXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQse3Byb2JlOjF9KSxwPSExLGY9dGhpcztuLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSxoLm9uY2UoXCJvcGVuXCIsZSksaC5vbmNlKFwiZXJyb3JcIixvKSxoLm9uY2UoXCJjbG9zZVwiLGkpLHRoaXMub25jZShcImNsb3NlXCIscyksdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsYyksaC5vcGVuKCl9LG4ucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe2lmKGEoXCJzb2NrZXQgb3BlblwiKSx0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsbi5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PXRoaXMudHJhbnNwb3J0Lm5hbWUsdGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLmZsdXNoKCksXCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudXBncmFkZSYmdGhpcy50cmFuc3BvcnQucGF1c2Upe2EoXCJzdGFydGluZyB1cGdyYWRlIHByb2Jlc1wiKTtmb3IodmFyIHQ9MCxlPXRoaXMudXBncmFkZXMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5wcm9iZSh0aGlzLnVwZ3JhZGVzW3RdKX19LG4ucHJvdG90eXBlLm9uUGFja2V0PWZ1bmN0aW9uKHQpe2lmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjbG9zaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUpc3dpdGNoKGEoJ3NvY2tldCByZWNlaXZlOiB0eXBlIFwiJXNcIiwgZGF0YSBcIiVzXCInLHQudHlwZSx0LmRhdGEpLHRoaXMuZW1pdChcInBhY2tldFwiLHQpLHRoaXMuZW1pdChcImhlYXJ0YmVhdFwiKSx0LnR5cGUpe2Nhc2VcIm9wZW5cIjp0aGlzLm9uSGFuZHNoYWtlKHAodC5kYXRhKSk7YnJlYWs7Y2FzZVwicG9uZ1wiOnRoaXMuc2V0UGluZygpLHRoaXMuZW1pdChcInBvbmdcIik7YnJlYWs7Y2FzZVwiZXJyb3JcIjp2YXIgZT1uZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7ZS5jb2RlPXQuZGF0YSx0aGlzLm9uRXJyb3IoZSk7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOnRoaXMuZW1pdChcImRhdGFcIix0LmRhdGEpLHRoaXMuZW1pdChcIm1lc3NhZ2VcIix0LmRhdGEpfWVsc2UgYSgncGFja2V0IHJlY2VpdmVkIHdpdGggc29ja2V0IHJlYWR5U3RhdGUgXCIlc1wiJyx0aGlzLnJlYWR5U3RhdGUpfSxuLnByb3RvdHlwZS5vbkhhbmRzaGFrZT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJoYW5kc2hha2VcIix0KSx0aGlzLmlkPXQuc2lkLHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZD10LnNpZCx0aGlzLnVwZ3JhZGVzPXRoaXMuZmlsdGVyVXBncmFkZXModC51cGdyYWRlcyksdGhpcy5waW5nSW50ZXJ2YWw9dC5waW5nSW50ZXJ2YWwsdGhpcy5waW5nVGltZW91dD10LnBpbmdUaW1lb3V0LHRoaXMub25PcGVuKCksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuc2V0UGluZygpLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJoZWFydGJlYXRcIix0aGlzLm9uSGVhcnRiZWF0KSx0aGlzLm9uKFwiaGVhcnRiZWF0XCIsdGhpcy5vbkhlYXJ0YmVhdCkpfSxuLnByb3RvdHlwZS5vbkhlYXJ0YmVhdD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKTt2YXIgZT10aGlzO2UucGluZ1RpbWVvdXRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJjbG9zZWRcIiE9PWUucmVhZHlTdGF0ZSYmZS5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpfSx0fHxlLnBpbmdJbnRlcnZhbCtlLnBpbmdUaW1lb3V0KX0sbi5wcm90b3R5cGUuc2V0UGluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Y2xlYXJUaW1lb3V0KHQucGluZ0ludGVydmFsVGltZXIpLHQucGluZ0ludGVydmFsVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2EoXCJ3cml0aW5nIHBpbmcgcGFja2V0IC0gZXhwZWN0aW5nIHBvbmcgd2l0aGluICVzbXNcIix0LnBpbmdUaW1lb3V0KSx0LnBpbmcoKSx0Lm9uSGVhcnRiZWF0KHQucGluZ1RpbWVvdXQpfSx0LnBpbmdJbnRlcnZhbCl9LG4ucHJvdG90eXBlLnBpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc2VuZFBhY2tldChcInBpbmdcIixmdW5jdGlvbigpe3QuZW1pdChcInBpbmdcIil9KX0sbi5wcm90b3R5cGUub25EcmFpbj1mdW5jdGlvbigpe3RoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsdGhpcy5wcmV2QnVmZmVyTGVuKSx0aGlzLnByZXZCdWZmZXJMZW49MCwwPT09dGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg/dGhpcy5lbWl0KFwiZHJhaW5cIik6dGhpcy5mbHVzaCgpfSxuLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe1wiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudHJhbnNwb3J0LndyaXRhYmxlJiYhdGhpcy51cGdyYWRpbmcmJnRoaXMud3JpdGVCdWZmZXIubGVuZ3RoJiYoYShcImZsdXNoaW5nICVkIHBhY2tldHMgaW4gc29ja2V0XCIsdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpLHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlciksdGhpcy5wcmV2QnVmZmVyTGVuPXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoLHRoaXMuZW1pdChcImZsdXNoXCIpKX0sbi5wcm90b3R5cGUud3JpdGU9bi5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIix0LGUsciksdGhpc30sbi5wcm90b3R5cGUuc2VuZFBhY2tldD1mdW5jdGlvbih0LGUscixuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj1lLGU9dm9pZCAwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYobj1yLHI9bnVsbCksXCJjbG9zaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUpe3I9cnx8e30sci5jb21wcmVzcz0hMSE9PXIuY29tcHJlc3M7dmFyIG89e3R5cGU6dCxkYXRhOmUsb3B0aW9uczpyfTt0aGlzLmVtaXQoXCJwYWNrZXRDcmVhdGVcIixvKSx0aGlzLndyaXRlQnVmZmVyLnB1c2gobyksbiYmdGhpcy5vbmNlKFwiZmx1c2hcIixuKSx0aGlzLmZsdXNoKCl9fSxuLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtuLm9uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIiksYShcInNvY2tldCBjbG9zaW5nIC0gdGVsbGluZyB0cmFuc3BvcnQgdG8gY2xvc2VcIiksbi50cmFuc3BvcnQuY2xvc2UoKX1mdW5jdGlvbiBlKCl7bi5yZW1vdmVMaXN0ZW5lcihcInVwZ3JhZGVcIixlKSxuLnJlbW92ZUxpc3RlbmVyKFwidXBncmFkZUVycm9yXCIsZSksdCgpfWZ1bmN0aW9uIHIoKXtuLm9uY2UoXCJ1cGdyYWRlXCIsZSksbi5vbmNlKFwidXBncmFkZUVycm9yXCIsZSl9aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlKXt0aGlzLnJlYWR5U3RhdGU9XCJjbG9zaW5nXCI7dmFyIG49dGhpczt0aGlzLndyaXRlQnVmZmVyLmxlbmd0aD90aGlzLm9uY2UoXCJkcmFpblwiLGZ1bmN0aW9uKCl7dGhpcy51cGdyYWRpbmc/cigpOnQoKX0pOnRoaXMudXBncmFkaW5nP3IoKTp0KCl9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7YShcInNvY2tldCBlcnJvciAlalwiLHQpLG4ucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRoaXMuZW1pdChcImVycm9yXCIsdCksdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsdCl9LG4ucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24odCxlKXtpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXthKCdzb2NrZXQgY2xvc2Ugd2l0aCByZWFzb246IFwiJXNcIicsdCk7dmFyIHI9dGhpcztjbGVhclRpbWVvdXQodGhpcy5waW5nSW50ZXJ2YWxUaW1lciksY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXRUaW1lciksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLmlkPW51bGwsdGhpcy5lbWl0KFwiY2xvc2VcIix0LGUpLHIud3JpdGVCdWZmZXI9W10sci5wcmV2QnVmZmVyTGVuPTB9fSxuLnByb3RvdHlwZS5maWx0ZXJVcGdyYWRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10scj0wLG49dC5sZW5ndGg7cjxuO3IrKyl+Yyh0aGlzLnRyYW5zcG9ydHMsdFtyXSkmJmUucHVzaCh0W3JdKTtyZXR1cm4gZX19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxyKXsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXt2YXIgcixuPSExLGE9ITEsYz0hMSE9PWUuanNvbnA7aWYodC5sb2NhdGlvbil7dmFyIHU9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLGg9bG9jYXRpb24ucG9ydDtofHwoaD11PzQ0Mzo4MCksbj1lLmhvc3RuYW1lIT09bG9jYXRpb24uaG9zdG5hbWV8fGghPT1lLnBvcnQsYT1lLnNlY3VyZSE9PXV9aWYoZS54ZG9tYWluPW4sZS54c2NoZW1lPWEscj1uZXcgbyhlKSxcIm9wZW5cImluIHImJiFlLmZvcmNlSlNPTlApcmV0dXJuIG5ldyBpKGUpO2lmKCFjKXRocm93IG5ldyBFcnJvcihcIkpTT05QIGRpc2FibGVkXCIpO3JldHVybiBuZXcgcyhlKX12YXIgbz1yKDIyKSxpPXIoMjQpLHM9cigzOSksYT1yKDQwKTtlLnBvbGxpbmc9bixlLndlYnNvY2tldD1hfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKGUpe3ZhciBuPXIoMjMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgcj10Lnhkb21haW4sbz10LnhzY2hlbWUsaT10LmVuYWJsZXNYRFI7dHJ5e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmKCFyfHxuKSlyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKHQpe310cnl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0JiYhbyYmaSlyZXR1cm4gbmV3IFhEb21haW5SZXF1ZXN0fWNhdGNoKHQpe31pZighcil0cnl7cmV0dXJuIG5ldyhlW1tcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIildKShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfWNhdGNoKHQpe319fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3RyeXt0LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe3QuZXhwb3J0cz0hMX19LGZ1bmN0aW9uKHQsZSxyKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBvKHQpe2lmKGMuY2FsbCh0aGlzLHQpLHRoaXMucmVxdWVzdFRpbWVvdXQ9dC5yZXF1ZXN0VGltZW91dCxlLmxvY2F0aW9uKXt2YXIgcj1cImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2wsbj1sb2NhdGlvbi5wb3J0O258fChuPXI/NDQzOjgwKSx0aGlzLnhkPXQuaG9zdG5hbWUhPT1lLmxvY2F0aW9uLmhvc3RuYW1lfHxuIT09dC5wb3J0LHRoaXMueHM9dC5zZWN1cmUhPT1yfWVsc2UgdGhpcy5leHRyYUhlYWRlcnM9dC5leHRyYUhlYWRlcnN9ZnVuY3Rpb24gaSh0KXt0aGlzLm1ldGhvZD10Lm1ldGhvZHx8XCJHRVRcIix0aGlzLnVyaT10LnVyaSx0aGlzLnhkPSEhdC54ZCx0aGlzLnhzPSEhdC54cyx0aGlzLmFzeW5jPSExIT09dC5hc3luYyx0aGlzLmRhdGE9dm9pZCAwIT09dC5kYXRhP3QuZGF0YTpudWxsLHRoaXMuYWdlbnQ9dC5hZ2VudCx0aGlzLmlzQmluYXJ5PXQuaXNCaW5hcnksdGhpcy5zdXBwb3J0c0JpbmFyeT10LnN1cHBvcnRzQmluYXJ5LHRoaXMuZW5hYmxlc1hEUj10LmVuYWJsZXNYRFIsdGhpcy5yZXF1ZXN0VGltZW91dD10LnJlcXVlc3RUaW1lb3V0LHRoaXMucGZ4PXQucGZ4LHRoaXMua2V5PXQua2V5LHRoaXMucGFzc3BocmFzZT10LnBhc3NwaHJhc2UsdGhpcy5jZXJ0PXQuY2VydCx0aGlzLmNhPXQuY2EsdGhpcy5jaXBoZXJzPXQuY2lwaGVycyx0aGlzLnJlamVjdFVuYXV0aG9yaXplZD10LnJlamVjdFVuYXV0aG9yaXplZCx0aGlzLmV4dHJhSGVhZGVycz10LmV4dHJhSGVhZGVycyx0aGlzLmNyZWF0ZSgpfWZ1bmN0aW9uIHMoKXtmb3IodmFyIHQgaW4gaS5yZXF1ZXN0cylpLnJlcXVlc3RzLmhhc093blByb3BlcnR5KHQpJiZpLnJlcXVlc3RzW3RdLmFib3J0KCl9dmFyIGE9cigyMiksYz1yKDI1KSx1PXIoMzUpLGg9cigzNykscD1yKDMpKFwiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nLXhoclwiKTt0LmV4cG9ydHM9byx0LmV4cG9ydHMuUmVxdWVzdD1pLGgobyxjKSxvLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeT0hMCxvLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fHt9LHQudXJpPXRoaXMudXJpKCksdC54ZD10aGlzLnhkLHQueHM9dGhpcy54cyx0LmFnZW50PXRoaXMuYWdlbnR8fCExLHQuc3VwcG9ydHNCaW5hcnk9dGhpcy5zdXBwb3J0c0JpbmFyeSx0LmVuYWJsZXNYRFI9dGhpcy5lbmFibGVzWERSLHQucGZ4PXRoaXMucGZ4LHQua2V5PXRoaXMua2V5LHQucGFzc3BocmFzZT10aGlzLnBhc3NwaHJhc2UsdC5jZXJ0PXRoaXMuY2VydCx0LmNhPXRoaXMuY2EsdC5jaXBoZXJzPXRoaXMuY2lwaGVycyx0LnJlamVjdFVuYXV0aG9yaXplZD10aGlzLnJlamVjdFVuYXV0aG9yaXplZCx0LnJlcXVlc3RUaW1lb3V0PXRoaXMucmVxdWVzdFRpbWVvdXQsdC5leHRyYUhlYWRlcnM9dGhpcy5leHRyYUhlYWRlcnMsbmV3IGkodCl9LG8ucHJvdG90eXBlLmRvV3JpdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1cInN0cmluZ1wiIT10eXBlb2YgdCYmdm9pZCAwIT09dCxuPXRoaXMucmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLGRhdGE6dCxpc0JpbmFyeTpyfSksbz10aGlzO24ub24oXCJzdWNjZXNzXCIsZSksbi5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7by5vbkVycm9yKFwieGhyIHBvc3QgZXJyb3JcIix0KX0pLHRoaXMuc2VuZFhocj1ufSxvLnByb3RvdHlwZS5kb1BvbGw9ZnVuY3Rpb24oKXtwKFwieGhyIHBvbGxcIik7dmFyIHQ9dGhpcy5yZXF1ZXN0KCksZT10aGlzO3Qub24oXCJkYXRhXCIsZnVuY3Rpb24odCl7ZS5vbkRhdGEodCl9KSx0Lm9uKFwiZXJyb3JcIixmdW5jdGlvbih0KXtlLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLHQpfSksdGhpcy5wb2xsWGhyPXR9LHUoaS5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PXthZ2VudDp0aGlzLmFnZW50LHhkb21haW46dGhpcy54ZCx4c2NoZW1lOnRoaXMueHMsZW5hYmxlc1hEUjp0aGlzLmVuYWJsZXNYRFJ9O3QucGZ4PXRoaXMucGZ4LHQua2V5PXRoaXMua2V5LHQucGFzc3BocmFzZT10aGlzLnBhc3NwaHJhc2UsdC5jZXJ0PXRoaXMuY2VydCx0LmNhPXRoaXMuY2EsdC5jaXBoZXJzPXRoaXMuY2lwaGVycyx0LnJlamVjdFVuYXV0aG9yaXplZD10aGlzLnJlamVjdFVuYXV0aG9yaXplZDt2YXIgcj10aGlzLnhocj1uZXcgYSh0KSxuPXRoaXM7dHJ5e3AoXCJ4aHIgb3BlbiAlczogJXNcIix0aGlzLm1ldGhvZCx0aGlzLnVyaSksci5vcGVuKHRoaXMubWV0aG9kLHRoaXMudXJpLHRoaXMuYXN5bmMpO3RyeXtpZih0aGlzLmV4dHJhSGVhZGVycyl7ci5zZXREaXNhYmxlSGVhZGVyQ2hlY2soITApO2Zvcih2YXIgbyBpbiB0aGlzLmV4dHJhSGVhZGVycyl0aGlzLmV4dHJhSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShvKSYmci5zZXRSZXF1ZXN0SGVhZGVyKG8sdGhpcy5leHRyYUhlYWRlcnNbb10pfX1jYXRjaCh0KXt9aWYodGhpcy5zdXBwb3J0c0JpbmFyeSYmKHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIiksXCJQT1NUXCI9PT10aGlzLm1ldGhvZCl0cnl7dGhpcy5pc0JpbmFyeT9yLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTpyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKX1jYXRjaCh0KXt9dHJ5e3Iuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiKi8qXCIpfWNhdGNoKHQpe31cIndpdGhDcmVkZW50aWFsc1wiaW4gciYmKHIud2l0aENyZWRlbnRpYWxzPSEwKSx0aGlzLnJlcXVlc3RUaW1lb3V0JiYoci50aW1lb3V0PXRoaXMucmVxdWVzdFRpbWVvdXQpLHRoaXMuaGFzWERSKCk/KHIub25sb2FkPWZ1bmN0aW9uKCl7bi5vbkxvYWQoKX0sci5vbmVycm9yPWZ1bmN0aW9uKCl7bi5vbkVycm9yKHIucmVzcG9uc2VUZXh0KX0pOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmKDIwMD09PXIuc3RhdHVzfHwxMjIzPT09ci5zdGF0dXM/bi5vbkxvYWQoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5vbkVycm9yKHIuc3RhdHVzKX0sMCkpfSxwKFwieGhyIGRhdGEgJXNcIix0aGlzLmRhdGEpLHIuc2VuZCh0aGlzLmRhdGEpfWNhdGNoKHQpe3JldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLm9uRXJyb3IodCl9LDApfWUuZG9jdW1lbnQmJih0aGlzLmluZGV4PWkucmVxdWVzdHNDb3VudCsrLGkucmVxdWVzdHNbdGhpcy5pbmRleF09dGhpcyl9LGkucHJvdG90eXBlLm9uU3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMuZW1pdChcInN1Y2Nlc3NcIiksdGhpcy5jbGVhbnVwKCl9LGkucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJkYXRhXCIsdCksdGhpcy5vblN1Y2Nlc3MoKX0saS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJlcnJvclwiLHQpLHRoaXMuY2xlYW51cCghMCl9LGkucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMueGhyJiZudWxsIT09dGhpcy54aHIpe2lmKHRoaXMuaGFzWERSKCk/dGhpcy54aHIub25sb2FkPXRoaXMueGhyLm9uZXJyb3I9bjp0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bix0KXRyeXt0aGlzLnhoci5hYm9ydCgpfWNhdGNoKHQpe31lLmRvY3VtZW50JiZkZWxldGUgaS5yZXF1ZXN0c1t0aGlzLmluZGV4XSx0aGlzLnhocj1udWxsfX0saS5wcm90b3R5cGUub25Mb2FkPWZ1bmN0aW9uKCl7dmFyIHQ7dHJ5e3ZhciBlO3RyeXtlPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpLnNwbGl0KFwiO1wiKVswXX1jYXRjaCh0KXt9aWYoXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIj09PWUpdD10aGlzLnhoci5yZXNwb25zZXx8dGhpcy54aHIucmVzcG9uc2VUZXh0O2Vsc2UgaWYodGhpcy5zdXBwb3J0c0JpbmFyeSl0cnl7dD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkodGhpcy54aHIucmVzcG9uc2UpKX1jYXRjaChlKXtmb3IodmFyIHI9bmV3IFVpbnQ4QXJyYXkodGhpcy54aHIucmVzcG9uc2UpLG49W10sbz0wLGk9ci5sZW5ndGg7bzxpO28rKyluLnB1c2gocltvXSk7dD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbil9ZWxzZSB0PXRoaXMueGhyLnJlc3BvbnNlVGV4dH1jYXRjaCh0KXt0aGlzLm9uRXJyb3IodCl9bnVsbCE9dCYmdGhpcy5vbkRhdGEodCl9LGkucHJvdG90eXBlLmhhc1hEUj1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLlhEb21haW5SZXF1ZXN0JiYhdGhpcy54cyYmdGhpcy5lbmFibGVzWERSfSxpLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuY2xlYW51cCgpfSxpLnJlcXVlc3RzQ291bnQ9MCxpLnJlcXVlc3RzPXt9LGUuZG9jdW1lbnQmJihlLmF0dGFjaEV2ZW50P2UuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLHMpOmUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIscywhMSkpfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbih0KXt2YXIgZT10JiZ0LmZvcmNlQmFzZTY0O2gmJiFlfHwodGhpcy5zdXBwb3J0c0JpbmFyeT0hMSksby5jYWxsKHRoaXMsdCl9dmFyIG89cigyNiksaT1yKDM2KSxzPXIoMjcpLGE9cigzNyksYz1yKDM4KSx1PXIoMykoXCJlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmdcIik7dC5leHBvcnRzPW47dmFyIGg9ZnVuY3Rpb24oKXt2YXIgdD1yKDIyKSxlPW5ldyB0KHt4ZG9tYWluOiExfSk7cmV0dXJuIG51bGwhPWUucmVzcG9uc2VUeXBlfSgpO2EobixvKSxuLnByb3RvdHlwZS5uYW1lPVwicG9sbGluZ1wiLG4ucHJvdG90eXBlLmRvT3Blbj1mdW5jdGlvbigpe3RoaXMucG9sbCgpfSxuLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dShcInBhdXNlZFwiKSxyLnJlYWR5U3RhdGU9XCJwYXVzZWRcIix0KCl9dmFyIHI9dGhpcztpZih0aGlzLnJlYWR5U3RhdGU9XCJwYXVzaW5nXCIsdGhpcy5wb2xsaW5nfHwhdGhpcy53cml0YWJsZSl7dmFyIG49MDt0aGlzLnBvbGxpbmcmJih1KFwid2UgYXJlIGN1cnJlbnRseSBwb2xsaW5nIC0gd2FpdGluZyB0byBwYXVzZVwiKSxuKyssdGhpcy5vbmNlKFwicG9sbENvbXBsZXRlXCIsZnVuY3Rpb24oKXt1KFwicHJlLXBhdXNlIHBvbGxpbmcgY29tcGxldGVcIiksLS1ufHxlKCl9KSksdGhpcy53cml0YWJsZXx8KHUoXCJ3ZSBhcmUgY3VycmVudGx5IHdyaXRpbmcgLSB3YWl0aW5nIHRvIHBhdXNlXCIpLG4rKyx0aGlzLm9uY2UoXCJkcmFpblwiLGZ1bmN0aW9uKCl7dShcInByZS1wYXVzZSB3cml0aW5nIGNvbXBsZXRlXCIpLC0tbnx8ZSgpfSkpfWVsc2UgZSgpfSxuLnByb3RvdHlwZS5wb2xsPWZ1bmN0aW9uKCl7dShcInBvbGxpbmdcIiksdGhpcy5wb2xsaW5nPSEwLHRoaXMuZG9Qb2xsKCksdGhpcy5lbWl0KFwicG9sbFwiKX0sbi5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dShcInBvbGxpbmcgZ290IGRhdGEgJXNcIix0KTt2YXIgcj1mdW5jdGlvbih0LHIsbil7cmV0dXJuXCJvcGVuaW5nXCI9PT1lLnJlYWR5U3RhdGUmJmUub25PcGVuKCksXCJjbG9zZVwiPT09dC50eXBlPyhlLm9uQ2xvc2UoKSwhMSk6dm9pZCBlLm9uUGFja2V0KHQpfTtzLmRlY29kZVBheWxvYWQodCx0aGlzLnNvY2tldC5iaW5hcnlUeXBlLHIpLFwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnBvbGxpbmc9ITEsdGhpcy5lbWl0KFwicG9sbENvbXBsZXRlXCIpLFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlP3RoaXMucG9sbCgpOnUoJ2lnbm9yaW5nIHBvbGwgLSB0cmFuc3BvcnQgc3RhdGUgXCIlc1wiJyx0aGlzLnJlYWR5U3RhdGUpKX0sbi5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt1KFwid3JpdGluZyBjbG9zZSBwYWNrZXRcIiksZS53cml0ZShbe3R5cGU6XCJjbG9zZVwifV0pfXZhciBlPXRoaXM7XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGU/KHUoXCJ0cmFuc3BvcnQgb3BlbiAtIGNsb3NpbmdcIiksdCgpKToodShcInRyYW5zcG9ydCBub3Qgb3BlbiAtIGRlZmVycmluZyBjbG9zZVwiKSx0aGlzLm9uY2UoXCJvcGVuXCIsdCkpfSxuLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMud3JpdGFibGU9ITE7dmFyIHI9ZnVuY3Rpb24oKXtlLndyaXRhYmxlPSEwLGUuZW1pdChcImRyYWluXCIpfTtzLmVuY29kZVBheWxvYWQodCx0aGlzLnN1cHBvcnRzQmluYXJ5LGZ1bmN0aW9uKHQpe2UuZG9Xcml0ZSh0LHIpfSl9LG4ucHJvdG90eXBlLnVyaT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucXVlcnl8fHt9LGU9dGhpcy5zZWN1cmU/XCJodHRwc1wiOlwiaHR0cFwiLHI9XCJcIjshMSE9PXRoaXMudGltZXN0YW1wUmVxdWVzdHMmJih0W3RoaXMudGltZXN0YW1wUGFyYW1dPWMoKSksdGhpcy5zdXBwb3J0c0JpbmFyeXx8dC5zaWR8fCh0LmI2ND0xKSx0PWkuZW5jb2RlKHQpLHRoaXMucG9ydCYmKFwiaHR0cHNcIj09PWUmJjQ0MyE9PU51bWJlcih0aGlzLnBvcnQpfHxcImh0dHBcIj09PWUmJjgwIT09TnVtYmVyKHRoaXMucG9ydCkpJiYocj1cIjpcIit0aGlzLnBvcnQpLHQubGVuZ3RoJiYodD1cIj9cIit0KTt2YXIgbj10aGlzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpIT09LTE7cmV0dXJuIGUrXCI6Ly9cIisobj9cIltcIit0aGlzLmhvc3RuYW1lK1wiXVwiOnRoaXMuaG9zdG5hbWUpK3IrdGhpcy5wYXRoK3R9fSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbih0KXt0aGlzLnBhdGg9dC5wYXRoLHRoaXMuaG9zdG5hbWU9dC5ob3N0bmFtZSx0aGlzLnBvcnQ9dC5wb3J0LHRoaXMuc2VjdXJlPXQuc2VjdXJlLHRoaXMucXVlcnk9dC5xdWVyeSx0aGlzLnRpbWVzdGFtcFBhcmFtPXQudGltZXN0YW1wUGFyYW0sdGhpcy50aW1lc3RhbXBSZXF1ZXN0cz10LnRpbWVzdGFtcFJlcXVlc3RzLHRoaXMucmVhZHlTdGF0ZT1cIlwiLHRoaXMuYWdlbnQ9dC5hZ2VudHx8ITEsdGhpcy5zb2NrZXQ9dC5zb2NrZXQsdGhpcy5lbmFibGVzWERSPXQuZW5hYmxlc1hEUix0aGlzLnBmeD10LnBmeCx0aGlzLmtleT10LmtleSx0aGlzLnBhc3NwaHJhc2U9dC5wYXNzcGhyYXNlLHRoaXMuY2VydD10LmNlcnQsdGhpcy5jYT10LmNhLHRoaXMuY2lwaGVycz10LmNpcGhlcnMsdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ9dC5yZWplY3RVbmF1dGhvcml6ZWQsdGhpcy5mb3JjZU5vZGU9dC5mb3JjZU5vZGUsdGhpcy5leHRyYUhlYWRlcnM9dC5leHRyYUhlYWRlcnMsdGhpcy5sb2NhbEFkZHJlc3M9dC5sb2NhbEFkZHJlc3N9dmFyIG89cigyNyksaT1yKDM1KTt0LmV4cG9ydHM9bixpKG4ucHJvdG90eXBlKSxuLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IEVycm9yKHQpO3JldHVybiByLnR5cGU9XCJUcmFuc3BvcnRFcnJvclwiLHIuZGVzY3JpcHRpb249ZSx0aGlzLmVtaXQoXCJlcnJvclwiLHIpLHRoaXN9LG4ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXtyZXR1cm5cImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiZcIlwiIT09dGhpcy5yZWFkeVN0YXRlfHwodGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiLHRoaXMuZG9PcGVuKCkpLHRoaXN9LG4ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuXCJvcGVuaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwib3BlblwiIT09dGhpcy5yZWFkeVN0YXRlfHwodGhpcy5kb0Nsb3NlKCksdGhpcy5vbkNsb3NlKCkpLHRoaXN9LG4ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7aWYoXCJvcGVuXCIhPT10aGlzLnJlYWR5U3RhdGUpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNwb3J0IG5vdCBvcGVuXCIpO3RoaXMud3JpdGUodCl9LG4ucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIix0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdChcIm9wZW5cIil9LG4ucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt2YXIgZT1vLmRlY29kZVBhY2tldCh0LHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO3RoaXMub25QYWNrZXQoZSl9LG4ucHJvdG90eXBlLm9uUGFja2V0PWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcInBhY2tldFwiLHQpfSxuLnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0KFwiY2xvc2VcIil9fSxmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4odCxyKXt2YXIgbj1cImJcIitlLnBhY2tldHNbdC50eXBlXSt0LmRhdGEuZGF0YTtyZXR1cm4gcihuKX1mdW5jdGlvbiBvKHQscixuKXtpZighcilyZXR1cm4gZS5lbmNvZGVCYXNlNjRQYWNrZXQodCxuKTt2YXIgbz10LmRhdGEsaT1uZXcgVWludDhBcnJheShvKSxzPW5ldyBVaW50OEFycmF5KDErby5ieXRlTGVuZ3RoKTtzWzBdPXZbdC50eXBlXTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylzW2ErMV09aVthXTtyZXR1cm4gbihzLmJ1ZmZlcil9ZnVuY3Rpb24gaSh0LHIsbil7aWYoIXIpcmV0dXJuIGUuZW5jb2RlQmFzZTY0UGFja2V0KHQsbik7dmFyIG89bmV3IEZpbGVSZWFkZXI7cmV0dXJuIG8ub25sb2FkPWZ1bmN0aW9uKCl7dC5kYXRhPW8ucmVzdWx0LGUuZW5jb2RlUGFja2V0KHQsciwhMCxuKX0sby5yZWFkQXNBcnJheUJ1ZmZlcih0LmRhdGEpfWZ1bmN0aW9uIHModCxyLG4pe2lmKCFyKXJldHVybiBlLmVuY29kZUJhc2U2NFBhY2tldCh0LG4pO2lmKG0pcmV0dXJuIGkodCxyLG4pO3ZhciBvPW5ldyBVaW50OEFycmF5KDEpO29bMF09dlt0LnR5cGVdO3ZhciBzPW5ldyBrKFtvLmJ1ZmZlcix0LmRhdGFdKTtyZXR1cm4gbihzKX1mdW5jdGlvbiBhKHQpe3RyeXt0PWQuZGVjb2RlKHQpfWNhdGNoKHQpe3JldHVybiExfXJldHVybiB0fWZ1bmN0aW9uIGModCxlLHIpe2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgpLG89bCh0Lmxlbmd0aCxyKSxpPWZ1bmN0aW9uKHQscixvKXtlKHIsZnVuY3Rpb24oZSxyKXtuW3RdPXIsbyhlLG4pfSl9LHM9MDtzPHQubGVuZ3RoO3MrKylpKHMsdFtzXSxvKX12YXIgdSxoPXIoMjgpLHA9cigyOSksZj1yKDMwKSxsPXIoMzEpLGQ9cigzMik7dCYmdC5BcnJheUJ1ZmZlciYmKHU9cigzMykpO3ZhciB5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9QaGFudG9tSlMvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG09eXx8ZztlLnByb3RvY29sPTM7dmFyIHY9ZS5wYWNrZXRzPXtvcGVuOjAsY2xvc2U6MSxwaW5nOjIscG9uZzozLG1lc3NhZ2U6NCx1cGdyYWRlOjUsbm9vcDo2fSxiPWgodiksdz17dHlwZTpcImVycm9yXCIsZGF0YTpcInBhcnNlciBlcnJvclwifSxrPXIoMzQpO2UuZW5jb2RlUGFja2V0PWZ1bmN0aW9uKGUscixpLGEpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJihhPXIscj0hMSksXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGE9aSxpPW51bGwpO3ZhciBjPXZvaWQgMD09PWUuZGF0YT92b2lkIDA6ZS5kYXRhLmJ1ZmZlcnx8ZS5kYXRhO2lmKHQuQXJyYXlCdWZmZXImJmMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbyhlLHIsYSk7aWYoayYmYyBpbnN0YW5jZW9mIHQuQmxvYilyZXR1cm4gcyhlLHIsYSk7aWYoYyYmYy5iYXNlNjQpcmV0dXJuIG4oZSxhKTt2YXIgdT12W2UudHlwZV07cmV0dXJuIHZvaWQgMCE9PWUuZGF0YSYmKHUrPWk/ZC5lbmNvZGUoU3RyaW5nKGUuZGF0YSkpOlN0cmluZyhlLmRhdGEpKSxhKFwiXCIrdSl9LGUuZW5jb2RlQmFzZTY0UGFja2V0PWZ1bmN0aW9uKHIsbil7dmFyIG89XCJiXCIrZS5wYWNrZXRzW3IudHlwZV07aWYoayYmci5kYXRhIGluc3RhbmNlb2YgdC5CbG9iKXt2YXIgaT1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gaS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD1pLnJlc3VsdC5zcGxpdChcIixcIilbMV07bihvK3QpfSxpLnJlYWRBc0RhdGFVUkwoci5kYXRhKX12YXIgczt0cnl7cz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoci5kYXRhKSl9Y2F0Y2godCl7Zm9yKHZhciBhPW5ldyBVaW50OEFycmF5KHIuZGF0YSksYz1uZXcgQXJyYXkoYS5sZW5ndGgpLHU9MDt1PGEubGVuZ3RoO3UrKyljW3VdPWFbdV07cz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYyl9cmV0dXJuIG8rPXQuYnRvYShzKSxuKG8pfSxlLmRlY29kZVBhY2tldD1mdW5jdGlvbih0LHIsbil7aWYodm9pZCAwPT09dClyZXR1cm4gdztpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoXCJiXCI9PXQuY2hhckF0KDApKXJldHVybiBlLmRlY29kZUJhc2U2NFBhY2tldCh0LnN1YnN0cigxKSxyKTtpZihuJiYodD1hKHQpLHQ9PT0hMSkpcmV0dXJuIHc7dmFyIG89dC5jaGFyQXQoMCk7cmV0dXJuIE51bWJlcihvKT09byYmYltvXT90Lmxlbmd0aD4xP3t0eXBlOmJbb10sZGF0YTp0LnN1YnN0cmluZygxKX06e3R5cGU6YltvXX06d312YXIgaT1uZXcgVWludDhBcnJheSh0KSxvPWlbMF0scz1mKHQsMSk7cmV0dXJuIGsmJlwiYmxvYlwiPT09ciYmKHM9bmV3IGsoW3NdKSkse3R5cGU6YltvXSxkYXRhOnN9fSxlLmRlY29kZUJhc2U2NFBhY2tldD1mdW5jdGlvbih0LGUpe3ZhciByPWJbdC5jaGFyQXQoMCldO2lmKCF1KXJldHVybnt0eXBlOnIsZGF0YTp7YmFzZTY0OiEwLGRhdGE6dC5zdWJzdHIoMSl9fTt2YXIgbj11LmRlY29kZSh0LnN1YnN0cigxKSk7cmV0dXJuXCJibG9iXCI9PT1lJiZrJiYobj1uZXcgayhbbl0pKSx7dHlwZTpyLGRhdGE6bn19LGUuZW5jb2RlUGF5bG9hZD1mdW5jdGlvbih0LHIsbil7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC5sZW5ndGgrXCI6XCIrdH1mdW5jdGlvbiBpKHQsbil7ZS5lbmNvZGVQYWNrZXQodCwhIXMmJnIsITAsZnVuY3Rpb24odCl7bihudWxsLG8odCkpfSl9XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG49cixyPW51bGwpO3ZhciBzPXAodCk7cmV0dXJuIHImJnM/ayYmIW0/ZS5lbmNvZGVQYXlsb2FkQXNCbG9iKHQsbik6ZS5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcih0LG4pOnQubGVuZ3RoP3ZvaWQgYyh0LGksZnVuY3Rpb24odCxlKXtyZXR1cm4gbihlLmpvaW4oXCJcIikpfSk6bihcIjA6XCIpfSxlLmRlY29kZVBheWxvYWQ9ZnVuY3Rpb24odCxyLG4pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiBlLmRlY29kZVBheWxvYWRBc0JpbmFyeSh0LHIsbik7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG49cixyPW51bGwpO3ZhciBvO2lmKFwiXCI9PXQpcmV0dXJuIG4odywwLDEpO2Zvcih2YXIgaSxzLGE9XCJcIixjPTAsdT10Lmxlbmd0aDtjPHU7YysrKXt2YXIgaD10LmNoYXJBdChjKTtpZihcIjpcIiE9aClhKz1oO2Vsc2V7aWYoXCJcIj09YXx8YSE9KGk9TnVtYmVyKGEpKSlyZXR1cm4gbih3LDAsMSk7aWYocz10LnN1YnN0cihjKzEsaSksYSE9cy5sZW5ndGgpcmV0dXJuIG4odywwLDEpO2lmKHMubGVuZ3RoKXtpZihvPWUuZGVjb2RlUGFja2V0KHMsciwhMCksdy50eXBlPT1vLnR5cGUmJncuZGF0YT09by5kYXRhKXJldHVybiBuKHcsMCwxKTt2YXIgcD1uKG8sYytpLHUpO2lmKCExPT09cClyZXR1cm59Yys9aSxhPVwiXCJ9fXJldHVyblwiXCIhPWE/bih3LDAsMSk6dm9pZCAwfSxlLmVuY29kZVBheWxvYWRBc0FycmF5QnVmZmVyPWZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbih0LHIpe2UuZW5jb2RlUGFja2V0KHQsITAsITAsZnVuY3Rpb24odCl7cmV0dXJuIHIobnVsbCx0KX0pfXJldHVybiB0Lmxlbmd0aD92b2lkIGModCxuLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXt2YXIgcjtyZXR1cm4gcj1cInN0cmluZ1wiPT10eXBlb2YgZT9lLmxlbmd0aDplLmJ5dGVMZW5ndGgsdCtyLnRvU3RyaW5nKCkubGVuZ3RoK3IrMn0sMCksbz1uZXcgVWludDhBcnJheShuKSxpPTA7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1cInN0cmluZ1wiPT10eXBlb2YgdCxyPXQ7aWYoZSl7Zm9yKHZhciBuPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSxzPTA7czx0Lmxlbmd0aDtzKyspbltzXT10LmNoYXJDb2RlQXQocyk7cj1uLmJ1ZmZlcn1lP29baSsrXT0wOm9baSsrXT0xO2Zvcih2YXIgYT1yLmJ5dGVMZW5ndGgudG9TdHJpbmcoKSxzPTA7czxhLmxlbmd0aDtzKyspb1tpKytdPXBhcnNlSW50KGFbc10pO29baSsrXT0yNTU7Zm9yKHZhciBuPW5ldyBVaW50OEFycmF5KHIpLHM9MDtzPG4ubGVuZ3RoO3MrKylvW2krK109bltzXX0pLHIoby5idWZmZXIpfSk6cihuZXcgQXJyYXlCdWZmZXIoMCkpfSxlLmVuY29kZVBheWxvYWRBc0Jsb2I9ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBuKHQscil7ZS5lbmNvZGVQYWNrZXQodCwhMCwhMCxmdW5jdGlvbih0KXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtpZihlWzBdPTEsXCJzdHJpbmdcIj09dHlwZW9mIHQpe2Zvcih2YXIgbj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCksbz0wO288dC5sZW5ndGg7bysrKW5bb109dC5jaGFyQ29kZUF0KG8pO3Q9bi5idWZmZXIsZVswXT0wfWZvcih2YXIgaT10IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dC5ieXRlTGVuZ3RoOnQuc2l6ZSxzPWkudG9TdHJpbmcoKSxhPW5ldyBVaW50OEFycmF5KHMubGVuZ3RoKzEpLG89MDtvPHMubGVuZ3RoO28rKylhW29dPXBhcnNlSW50KHNbb10pO2lmKGFbcy5sZW5ndGhdPTI1NSxrKXt2YXIgYz1uZXcgayhbZS5idWZmZXIsYS5idWZmZXIsdF0pO3IobnVsbCxjKX19KX1jKHQsbixmdW5jdGlvbih0LGUpe3JldHVybiByKG5ldyBrKGUpKX0pfSxlLmRlY29kZVBheWxvYWRBc0JpbmFyeT1mdW5jdGlvbih0LHIsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG49cixyPW51bGwpO2Zvcih2YXIgbz10LGk9W10scz0hMTtvLmJ5dGVMZW5ndGg+MDspe2Zvcih2YXIgYT1uZXcgVWludDhBcnJheShvKSxjPTA9PT1hWzBdLHU9XCJcIixoPTE7MjU1IT1hW2hdO2grKyl7aWYodS5sZW5ndGg+MzEwKXtzPSEwO2JyZWFrfXUrPWFbaF19aWYocylyZXR1cm4gbih3LDAsMSk7bz1mKG8sMit1Lmxlbmd0aCksdT1wYXJzZUludCh1KTt2YXIgcD1mKG8sMCx1KTtpZihjKXRyeXtwPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShwKSl9Y2F0Y2godCl7dmFyIGw9bmV3IFVpbnQ4QXJyYXkocCk7cD1cIlwiO2Zvcih2YXIgaD0wO2g8bC5sZW5ndGg7aCsrKXArPVN0cmluZy5mcm9tQ2hhckNvZGUobFtoXSl9aS5wdXNoKHApLG89ZihvLHUpfXZhciBkPWkubGVuZ3RoO2kuZm9yRWFjaChmdW5jdGlvbih0LG8pe24oZS5kZWNvZGVQYWNrZXQodCxyLCEwKSxvLGQpfSl9fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7dmFyIGU9W10scj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Zvcih2YXIgbiBpbiB0KXIuY2FsbCh0LG4pJiZlLnB1c2gobik7cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7ZnVuY3Rpb24gcih0KXtpZighdClyZXR1cm4hMTtpZihlLkJ1ZmZlciYmZS5CdWZmZXIuaXNCdWZmZXImJmUuQnVmZmVyLmlzQnVmZmVyKHQpfHxlLkFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuQmxvYiYmdCBpbnN0YW5jZW9mIEJsb2J8fGUuRmlsZSYmdCBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuITA7aWYobyh0KSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYocih0W25dKSlyZXR1cm4hMH1lbHNlIGlmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0KXt0LnRvSlNPTiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b0pTT04mJih0PXQudG9KU09OKCkpO2Zvcih2YXIgaSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiZyKHRbaV0pKXJldHVybiEwfXJldHVybiExfXJldHVybiByKHQpfXZhciBvPXIoMTUpO3QuZXhwb3J0cz1ufSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dmFyIG49dC5ieXRlTGVuZ3RoO2lmKGU9ZXx8MCxyPXJ8fG4sdC5zbGljZSlyZXR1cm4gdC5zbGljZShlLHIpO2lmKGU8MCYmKGUrPW4pLHI8MCYmKHIrPW4pLHI+biYmKHI9biksZT49bnx8ZT49cnx8MD09PW4pcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtmb3IodmFyIG89bmV3IFVpbnQ4QXJyYXkodCksaT1uZXcgVWludDhBcnJheShyLWUpLHM9ZSxhPTA7czxyO3MrKyxhKyspaVthXT1vW3NdO3JldHVybiBpLmJ1ZmZlcn19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0LGUscil7ZnVuY3Rpb24gbyh0LG4pe2lmKG8uY291bnQ8PTApdGhyb3cgbmV3IEVycm9yKFwiYWZ0ZXIgY2FsbGVkIHRvbyBtYW55IHRpbWVzXCIpOy0tby5jb3VudCx0PyhpPSEwLGUodCksZT1yKTowIT09by5jb3VudHx8aXx8ZShudWxsLG4pfXZhciBpPSExO3JldHVybiByPXJ8fG4sby5jb3VudD10LDA9PT10P2UoKTpvfWZ1bmN0aW9uIG4oKXt9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxyKXt2YXIgbjsoZnVuY3Rpb24odCxvKXshZnVuY3Rpb24oaSl7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGUscixuPVtdLG89MCxpPXQubGVuZ3RoO288aTspZT10LmNoYXJDb2RlQXQobysrKSxlPj01NTI5NiYmZTw9NTYzMTkmJm88aT8ocj10LmNoYXJDb2RlQXQobysrKSw1NjMyMD09KDY0NTEyJnIpP24ucHVzaCgoKDEwMjMmZSk8PDEwKSsoMTAyMyZyKSs2NTUzNik6KG4ucHVzaChlKSxvLS0pKTpuLnB1c2goZSk7cmV0dXJuIG59ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGUscj10Lmxlbmd0aCxuPS0xLG89XCJcIjsrK248cjspZT10W25dLGU+NjU1MzUmJihlLT02NTUzNixvKz1iKGU+Pj4xMCYxMDIzfDU1Mjk2KSxlPTU2MzIwfDEwMjMmZSksbys9YihlKTtyZXR1cm4gb31mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIGIodD4+ZSY2M3wxMjgpfWZ1bmN0aW9uIHUodCl7aWYoMD09KDQyOTQ5NjcxNjgmdCkpcmV0dXJuIGIodCk7dmFyIGU9XCJcIjtyZXR1cm4gMD09KDQyOTQ5NjUyNDgmdCk/ZT1iKHQ+PjYmMzF8MTkyKTowPT0oNDI5NDkwMTc2MCZ0KT8oZT1iKHQ+PjEyJjE1fDIyNCksZSs9Yyh0LDYpKTowPT0oNDI5Mjg3MDE0NCZ0KSYmKGU9Yih0Pj4xOCY3fDI0MCksZSs9Yyh0LDEyKSxlKz1jKHQsNikpLGUrPWIoNjMmdHwxMjgpfWZ1bmN0aW9uIGgodCl7Zm9yKHZhciBlLHI9cyh0KSxuPXIubGVuZ3RoLG89LTEsaT1cIlwiOysrbzxuOyllPXJbb10saSs9dShlKTtyZXR1cm4gaX1mdW5jdGlvbiBwKCl7aWYodj49bSl0aHJvdyBFcnJvcihcIkludmFsaWQgYnl0ZSBpbmRleFwiKTt2YXIgdD0yNTUmZ1t2XTtpZih2KyssMTI4PT0oMTkyJnQpKXJldHVybiA2MyZ0O3Rocm93IEVycm9yKFwiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZVwiKX1mdW5jdGlvbiBmKCl7dmFyIHQsZSxyLG4sbztpZih2Pm0pdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJ5dGUgaW5kZXhcIik7aWYodj09bSlyZXR1cm4hMTtpZih0PTI1NSZnW3ZdLHYrKywwPT0oMTI4JnQpKXJldHVybiB0O2lmKDE5Mj09KDIyNCZ0KSl7dmFyIGU9cCgpO2lmKG89KDMxJnQpPDw2fGUsbz49MTI4KXJldHVybiBvO3Rocm93IEVycm9yKFwiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZVwiKX1pZigyMjQ9PSgyNDAmdCkpe2lmKGU9cCgpLHI9cCgpLG89KDE1JnQpPDwxMnxlPDw2fHIsbz49MjA0OClyZXR1cm4gbzt0aHJvdyBFcnJvcihcIkludmFsaWQgY29udGludWF0aW9uIGJ5dGVcIil9aWYoMjQwPT0oMjQ4JnQpJiYoZT1wKCkscj1wKCksbj1wKCksbz0oMTUmdCk8PDE4fGU8PDEyfHI8PDZ8bixvPj02NTUzNiYmbzw9MTExNDExMSkpcmV0dXJuIG87dGhyb3cgRXJyb3IoXCJJbnZhbGlkIFdURi04IGRldGVjdGVkXCIpfWZ1bmN0aW9uIGwodCl7Zz1zKHQpLG09Zy5sZW5ndGgsdj0wO2Zvcih2YXIgZSxyPVtdOyhlPWYoKSkhPT0hMTspci5wdXNoKGUpO3JldHVybiBhKHIpfXZhciBkPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLHk9KFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0LmV4cG9ydHM9PWQmJnQsXCJvYmplY3RcIj09dHlwZW9mIG8mJm8pO3kuZ2xvYmFsIT09eSYmeS53aW5kb3chPT15fHwoaT15KTt2YXIgZyxtLHYsYj1TdHJpbmcuZnJvbUNoYXJDb2RlLHc9e3ZlcnNpb246XCIxLjAuMFwiLGVuY29kZTpoLGRlY29kZTpsfTtuPWZ1bmN0aW9uKCl7cmV0dXJuIHd9LmNhbGwoZSxyLGUsdCksISh2b2lkIDAhPT1uJiYodC5leHBvcnRzPW4pKX0odGhpcyl9KS5jYWxsKGUscigxMikodCksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7IWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciB0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLHI9bmV3IFVpbnQ4QXJyYXkoMjU2KSxuPTA7bjx0Lmxlbmd0aDtuKyspclt0LmNoYXJDb2RlQXQobildPW47ZS5lbmNvZGU9ZnVuY3Rpb24oZSl7dmFyIHIsbj1uZXcgVWludDhBcnJheShlKSxvPW4ubGVuZ3RoLGk9XCJcIjtmb3Iocj0wO3I8bztyKz0zKWkrPXRbbltyXT4+Ml0saSs9dFsoMyZuW3JdKTw8NHxuW3IrMV0+PjRdLGkrPXRbKDE1Jm5bcisxXSk8PDJ8bltyKzJdPj42XSxpKz10WzYzJm5bcisyXV07cmV0dXJuIG8lMz09PTI/aT1pLnN1YnN0cmluZygwLGkubGVuZ3RoLTEpK1wiPVwiOm8lMz09PTEmJihpPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMikrXCI9PVwiKSxpfSxlLmRlY29kZT1mdW5jdGlvbih0KXt2YXIgZSxuLG8saSxzLGE9Ljc1KnQubGVuZ3RoLGM9dC5sZW5ndGgsdT0wO1wiPVwiPT09dFt0Lmxlbmd0aC0xXSYmKGEtLSxcIj1cIj09PXRbdC5sZW5ndGgtMl0mJmEtLSk7dmFyIGg9bmV3IEFycmF5QnVmZmVyKGEpLHA9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKGU9MDtlPGM7ZSs9NCluPXJbdC5jaGFyQ29kZUF0KGUpXSxvPXJbdC5jaGFyQ29kZUF0KGUrMSldLGk9clt0LmNoYXJDb2RlQXQoZSsyKV0scz1yW3QuY2hhckNvZGVBdChlKzMpXSxwW3UrK109bjw8MnxvPj40LHBbdSsrXT0oMTUmbyk8PDR8aT4+MixwW3UrK109KDMmaSk8PDZ8NjMmcztyZXR1cm4gaH19KCl9LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07aWYoci5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIG49ci5idWZmZXI7aWYoci5ieXRlTGVuZ3RoIT09bi5ieXRlTGVuZ3RoKXt2YXIgbz1uZXcgVWludDhBcnJheShyLmJ5dGVMZW5ndGgpO28uc2V0KG5ldyBVaW50OEFycmF5KG4sci5ieXRlT2Zmc2V0LHIuYnl0ZUxlbmd0aCkpLG49by5idWZmZXJ9dFtlXT1ufX19ZnVuY3Rpb24gbih0LGUpe2U9ZXx8e307dmFyIG49bmV3IGk7cih0KTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyluLmFwcGVuZCh0W29dKTtyZXR1cm4gZS50eXBlP24uZ2V0QmxvYihlLnR5cGUpOm4uZ2V0QmxvYigpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gcih0KSxuZXcgQmxvYih0LGV8fHt9KX12YXIgaT1lLkJsb2JCdWlsZGVyfHxlLldlYktpdEJsb2JCdWlsZGVyfHxlLk1TQmxvYkJ1aWxkZXJ8fGUuTW96QmxvYkJ1aWxkZXIscz1mdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgQmxvYihbXCJoaVwiXSk7cmV0dXJuIDI9PT10LnNpemV9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGE9cyYmZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bmV3IEJsb2IoW25ldyBVaW50OEFycmF5KFsxLDJdKV0pO3JldHVybiAyPT09dC5zaXplfWNhdGNoKHQpe3JldHVybiExfX0oKSxjPWkmJmkucHJvdG90eXBlLmFwcGVuZCYmaS5wcm90b3R5cGUuZ2V0QmxvYjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gcz9hP2UuQmxvYjpvOmM/bjp2b2lkIDB9KCl9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQpe2lmKHQpcmV0dXJuIG8odCl9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGUgaW4gbi5wcm90b3R5cGUpdFtlXT1uLnByb3RvdHlwZVtlXTtyZXR1cm4gdH10LmV4cG9ydHM9bixuLnByb3RvdHlwZS5vbj1uLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LCh0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF09dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXSkucHVzaChlKSx0aGlzfSxuLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMub2ZmKHQsciksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHIuZm49ZSx0aGlzLm9uKHQsciksdGhpc30sbi5wcm90b3R5cGUub2ZmPW4ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPW4ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1uLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIHI9dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdO2lmKCFyKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpcztmb3IodmFyIG4sbz0wO288ci5sZW5ndGg7bysrKWlmKG49cltvXSxuPT09ZXx8bi5mbj09PWUpe3Iuc3BsaWNlKG8sMSk7YnJlYWt9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF07aWYocil7cj1yLnNsaWNlKDApO2Zvcih2YXIgbj0wLG89ci5sZW5ndGg7bjxvOysrbilyW25dLmFwcGx5KHRoaXMsZSl9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sdGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXX0sbi5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5saXN0ZW5lcnModCkubGVuZ3RofX0sZnVuY3Rpb24odCxlKXtlLmVuY29kZT1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihlLmxlbmd0aCYmKGUrPVwiJlwiKSxlKz1lbmNvZGVVUklDb21wb25lbnQocikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbcl0pKTtyZXR1cm4gZX0sZS5kZWNvZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LHI9dC5zcGxpdChcIiZcIiksbj0wLG89ci5sZW5ndGg7bjxvO24rKyl7dmFyIGk9cltuXS5zcGxpdChcIj1cIik7ZVtkZWNvZGVVUklDb21wb25lbnQoaVswXSldPWRlY29kZVVSSUNvbXBvbmVudChpWzFdKX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9XCJcIjtkbyBlPXNbdCVhXStlLHQ9TWF0aC5mbG9vcih0L2EpO3doaWxlKHQ+MCk7cmV0dXJuIGV9ZnVuY3Rpb24gbih0KXt2YXIgZT0wO2ZvcihoPTA7aDx0Lmxlbmd0aDtoKyspZT1lKmErY1t0LmNoYXJBdChoKV07cmV0dXJuIGV9ZnVuY3Rpb24gbygpe3ZhciB0PXIoK25ldyBEYXRlKTtyZXR1cm4gdCE9PWk/KHU9MCxpPXQpOnQrXCIuXCIrcih1KyspfWZvcih2YXIgaSxzPVwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotX1wiLnNwbGl0KFwiXCIpLGE9NjQsYz17fSx1PTAsaD0wO2g8YTtoKyspY1tzW2hdXT1oO28uZW5jb2RlPXIsby5kZWNvZGU9bix0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLHIpeyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIG8odCl7aS5jYWxsKHRoaXMsdCksdGhpcy5xdWVyeT10aGlzLnF1ZXJ5fHx7fSxhfHwoZS5fX19laW98fChlLl9fX2Vpbz1bXSksYT1lLl9fX2VpbyksdGhpcy5pbmRleD1hLmxlbmd0aDt2YXIgcj10aGlzO2EucHVzaChmdW5jdGlvbih0KXtyLm9uRGF0YSh0KX0pLHRoaXMucXVlcnkuaj10aGlzLmluZGV4LGUuZG9jdW1lbnQmJmUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXtyLnNjcmlwdCYmKHIuc2NyaXB0Lm9uZXJyb3I9bil9LCExKX12YXIgaT1yKDI1KSxzPXIoMzcpO3QuZXhwb3J0cz1vO3ZhciBhLGM9L1xcbi9nLHU9L1xcXFxuL2c7cyhvLGkpLG8ucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSExLG8ucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnNjcmlwdCYmKHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0PW51bGwpLHRoaXMuZm9ybSYmKHRoaXMuZm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9ybSksdGhpcy5mb3JtPW51bGwsdGhpcy5pZnJhbWU9bnVsbCksaS5wcm90b3R5cGUuZG9DbG9zZS5jYWxsKHRoaXMpfSxvLnByb3RvdHlwZS5kb1BvbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0aGlzLnNjcmlwdCYmKHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0PW51bGwpLGUuYXN5bmM9ITAsZS5zcmM9dGhpcy51cmkoKSxlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5vbkVycm9yKFwianNvbnAgcG9sbCBlcnJvclwiLGUpfTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtyP3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxyKTooZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoZSksdGhpcy5zY3JpcHQ9ZTt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvZ2Vja28vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO24mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KX0sMTAwKX0sby5wcm90b3R5cGUuZG9Xcml0ZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIoKXtuKCksZSgpfWZ1bmN0aW9uIG4oKXtpZihvLmlmcmFtZSl0cnl7by5mb3JtLnJlbW92ZUNoaWxkKG8uaWZyYW1lKX1jYXRjaCh0KXtvLm9uRXJyb3IoXCJqc29ucCBwb2xsaW5nIGlmcmFtZSByZW1vdmFsIGVycm9yXCIsdCl9dHJ5e3ZhciB0PSc8aWZyYW1lIHNyYz1cImphdmFzY3JpcHQ6MFwiIG5hbWU9XCInK28uaWZyYW1lSWQrJ1wiPic7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfWNhdGNoKHQpe2k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxpLm5hbWU9by5pZnJhbWVJZCxpLnNyYz1cImphdmFzY3JpcHQ6MFwifWkuaWQ9by5pZnJhbWVJZCxvLmZvcm0uYXBwZW5kQ2hpbGQoaSksby5pZnJhbWU9aX12YXIgbz10aGlzO2lmKCF0aGlzLmZvcm0pe3ZhciBpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksaD10aGlzLmlmcmFtZUlkPVwiZWlvX2lmcmFtZV9cIit0aGlzLmluZGV4O3MuY2xhc3NOYW1lPVwic29ja2V0aW9cIixzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzLnN0eWxlLnRvcD1cIi0xMDAwcHhcIixzLnN0eWxlLmxlZnQ9XCItMTAwMHB4XCIscy50YXJnZXQ9aCxzLm1ldGhvZD1cIlBPU1RcIixzLnNldEF0dHJpYnV0ZShcImFjY2VwdC1jaGFyc2V0XCIsXCJ1dGYtOFwiKSxhLm5hbWU9XCJkXCIscy5hcHBlbmRDaGlsZChhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLHRoaXMuZm9ybT1zLHRoaXMuYXJlYT1hfXRoaXMuZm9ybS5hY3Rpb249dGhpcy51cmkoKSxuKCksdD10LnJlcGxhY2UodSxcIlxcXFxcXG5cIiksdGhpcy5hcmVhLnZhbHVlPXQucmVwbGFjZShjLFwiXFxcXG5cIik7dHJ5e3RoaXMuZm9ybS5zdWJtaXQoKX1jYXRjaCh0KXt9dGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQ/dGhpcy5pZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09by5pZnJhbWUucmVhZHlTdGF0ZSYmcigpO1xufTp0aGlzLmlmcmFtZS5vbmxvYWQ9cn19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxyKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXt2YXIgZT10JiZ0LmZvcmNlQmFzZTY0O2UmJih0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSx0aGlzLnBlck1lc3NhZ2VEZWZsYXRlPXQucGVyTWVzc2FnZURlZmxhdGUsdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQ9cCYmIXQuZm9yY2VOb2RlLHRoaXMudXNpbmdCcm93c2VyV2ViU29ja2V0fHwoZj1vKSxpLmNhbGwodGhpcyx0KX12YXIgbyxpPXIoMjYpLHM9cigyNyksYT1yKDM2KSxjPXIoMzcpLHU9cigzOCksaD1yKDMpKFwiZW5naW5lLmlvLWNsaWVudDp3ZWJzb2NrZXRcIikscD1lLldlYlNvY2tldHx8ZS5Nb3pXZWJTb2NrZXQ7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyl0cnl7bz1yKDQxKX1jYXRjaCh0KXt9dmFyIGY9cDtmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93fHwoZj1vKSx0LmV4cG9ydHM9bixjKG4saSksbi5wcm90b3R5cGUubmFtZT1cIndlYnNvY2tldFwiLG4ucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSEwLG4ucHJvdG90eXBlLmRvT3Blbj1mdW5jdGlvbigpe2lmKHRoaXMuY2hlY2soKSl7dmFyIHQ9dGhpcy51cmkoKSxlPXZvaWQgMCxyPXthZ2VudDp0aGlzLmFnZW50LHBlck1lc3NhZ2VEZWZsYXRlOnRoaXMucGVyTWVzc2FnZURlZmxhdGV9O3IucGZ4PXRoaXMucGZ4LHIua2V5PXRoaXMua2V5LHIucGFzc3BocmFzZT10aGlzLnBhc3NwaHJhc2Usci5jZXJ0PXRoaXMuY2VydCxyLmNhPXRoaXMuY2Esci5jaXBoZXJzPXRoaXMuY2lwaGVycyxyLnJlamVjdFVuYXV0aG9yaXplZD10aGlzLnJlamVjdFVuYXV0aG9yaXplZCx0aGlzLmV4dHJhSGVhZGVycyYmKHIuaGVhZGVycz10aGlzLmV4dHJhSGVhZGVycyksdGhpcy5sb2NhbEFkZHJlc3MmJihyLmxvY2FsQWRkcmVzcz10aGlzLmxvY2FsQWRkcmVzcyk7dHJ5e3RoaXMud3M9dGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQ/bmV3IGYodCk6bmV3IGYodCxlLHIpfWNhdGNoKHQpe3JldHVybiB0aGlzLmVtaXQoXCJlcnJvclwiLHQpfXZvaWQgMD09PXRoaXMud3MuYmluYXJ5VHlwZSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLHRoaXMud3Muc3VwcG9ydHMmJnRoaXMud3Muc3VwcG9ydHMuYmluYXJ5Pyh0aGlzLnN1cHBvcnRzQmluYXJ5PSEwLHRoaXMud3MuYmluYXJ5VHlwZT1cIm5vZGVidWZmZXJcIik6dGhpcy53cy5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCl9fSxuLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy53cy5vbm9wZW49ZnVuY3Rpb24oKXt0Lm9uT3BlbigpfSx0aGlzLndzLm9uY2xvc2U9ZnVuY3Rpb24oKXt0Lm9uQ2xvc2UoKX0sdGhpcy53cy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5vbkRhdGEoZS5kYXRhKX0sdGhpcy53cy5vbmVycm9yPWZ1bmN0aW9uKGUpe3Qub25FcnJvcihcIndlYnNvY2tldCBlcnJvclwiLGUpfX0sbi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcigpe24uZW1pdChcImZsdXNoXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLndyaXRhYmxlPSEwLG4uZW1pdChcImRyYWluXCIpfSwwKX12YXIgbj10aGlzO3RoaXMud3JpdGFibGU9ITE7Zm9yKHZhciBvPXQubGVuZ3RoLGk9MCxhPW87aTxhO2krKykhZnVuY3Rpb24odCl7cy5lbmNvZGVQYWNrZXQodCxuLnN1cHBvcnRzQmluYXJ5LGZ1bmN0aW9uKGkpe2lmKCFuLnVzaW5nQnJvd3NlcldlYlNvY2tldCl7dmFyIHM9e307aWYodC5vcHRpb25zJiYocy5jb21wcmVzcz10Lm9wdGlvbnMuY29tcHJlc3MpLG4ucGVyTWVzc2FnZURlZmxhdGUpe3ZhciBhPVwic3RyaW5nXCI9PXR5cGVvZiBpP2UuQnVmZmVyLmJ5dGVMZW5ndGgoaSk6aS5sZW5ndGg7YTxuLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCYmKHMuY29tcHJlc3M9ITEpfX10cnl7bi51c2luZ0Jyb3dzZXJXZWJTb2NrZXQ/bi53cy5zZW5kKGkpOm4ud3Muc2VuZChpLHMpfWNhdGNoKHQpe2goXCJ3ZWJzb2NrZXQgY2xvc2VkIGJlZm9yZSBvbmNsb3NlIGV2ZW50XCIpfS0tb3x8cigpfSl9KHRbaV0pfSxuLnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUub25DbG9zZS5jYWxsKHRoaXMpfSxuLnByb3RvdHlwZS5kb0Nsb3NlPWZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMud3MmJnRoaXMud3MuY2xvc2UoKX0sbi5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5xdWVyeXx8e30sZT10aGlzLnNlY3VyZT9cIndzc1wiOlwid3NcIixyPVwiXCI7dGhpcy5wb3J0JiYoXCJ3c3NcIj09PWUmJjQ0MyE9PU51bWJlcih0aGlzLnBvcnQpfHxcIndzXCI9PT1lJiY4MCE9PU51bWJlcih0aGlzLnBvcnQpKSYmKHI9XCI6XCIrdGhpcy5wb3J0KSx0aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLnRpbWVzdGFtcFBhcmFtXT11KCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fCh0LmI2ND0xKSx0PWEuZW5jb2RlKHQpLHQubGVuZ3RoJiYodD1cIj9cIit0KTt2YXIgbj10aGlzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpIT09LTE7cmV0dXJuIGUrXCI6Ly9cIisobj9cIltcIit0aGlzLmhvc3RuYW1lK1wiXVwiOnRoaXMuaG9zdG5hbWUpK3IrdGhpcy5wYXRoK3R9LG4ucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7cmV0dXJuISghZnx8XCJfX2luaXRpYWxpemVcImluIGYmJnRoaXMubmFtZT09PW4ucHJvdG90eXBlLm5hbWUpfX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSl7dmFyIHI9W10uaW5kZXhPZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihyKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9fSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXt2YXIgcj0vXltcXF0sOnt9XFxzXSokLyxuPS9cXFxcKD86W1wiXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csbz0vXCJbXlwiXFxcXFxcblxccl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csaT0vKD86Xnw6fCwpKD86XFxzKlxcWykrL2cscz0vXlxccysvLGE9L1xccyskLzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQ/KHQ9dC5yZXBsYWNlKHMsXCJcIikucmVwbGFjZShhLFwiXCIpLGUuSlNPTiYmSlNPTi5wYXJzZT9KU09OLnBhcnNlKHQpOnIudGVzdCh0LnJlcGxhY2UobixcIkBcIikucmVwbGFjZShvLFwiXVwiKS5yZXBsYWNlKGksXCJcIikpP25ldyBGdW5jdGlvbihcInJldHVybiBcIit0KSgpOnZvaWQgMCk6bnVsbH19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxyKXt0aGlzLmlvPXQsdGhpcy5uc3A9ZSx0aGlzLmpzb249dGhpcyx0aGlzLmlkcz0wLHRoaXMuYWNrcz17fSx0aGlzLnJlY2VpdmVCdWZmZXI9W10sdGhpcy5zZW5kQnVmZmVyPVtdLHRoaXMuY29ubmVjdGVkPSExLHRoaXMuZGlzY29ubmVjdGVkPSEwLHImJnIucXVlcnkmJih0aGlzLnF1ZXJ5PXIucXVlcnkpLHRoaXMuaW8uYXV0b0Nvbm5lY3QmJnRoaXMub3BlbigpfXZhciBvPXIoNyksaT1yKDM1KSxzPXIoNDUpLGE9cig0NiksYz1yKDQ3KSx1PXIoMykoXCJzb2NrZXQuaW8tY2xpZW50OnNvY2tldFwiKSxoPXIoMjkpO3QuZXhwb3J0cz1lPW47dmFyIHA9e2Nvbm5lY3Q6MSxjb25uZWN0X2Vycm9yOjEsY29ubmVjdF90aW1lb3V0OjEsY29ubmVjdGluZzoxLGRpc2Nvbm5lY3Q6MSxlcnJvcjoxLHJlY29ubmVjdDoxLHJlY29ubmVjdF9hdHRlbXB0OjEscmVjb25uZWN0X2ZhaWxlZDoxLHJlY29ubmVjdF9lcnJvcjoxLHJlY29ubmVjdGluZzoxLHBpbmc6MSxwb25nOjF9LGY9aS5wcm90b3R5cGUuZW1pdDtpKG4ucHJvdG90eXBlKSxuLnByb3RvdHlwZS5zdWJFdmVudHM9ZnVuY3Rpb24oKXtpZighdGhpcy5zdWJzKXt2YXIgdD10aGlzLmlvO3RoaXMuc3Vicz1bYSh0LFwib3BlblwiLGModGhpcyxcIm9ub3BlblwiKSksYSh0LFwicGFja2V0XCIsYyh0aGlzLFwib25wYWNrZXRcIikpLGEodCxcImNsb3NlXCIsYyh0aGlzLFwib25jbG9zZVwiKSldfX0sbi5wcm90b3R5cGUub3Blbj1uLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkP3RoaXM6KHRoaXMuc3ViRXZlbnRzKCksdGhpcy5pby5vcGVuKCksXCJvcGVuXCI9PT10aGlzLmlvLnJlYWR5U3RhdGUmJnRoaXMub25vcGVuKCksdGhpcy5lbWl0KFwiY29ubmVjdGluZ1wiKSx0aGlzKX0sbi5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3ZhciB0PXMoYXJndW1lbnRzKTtyZXR1cm4gdC51bnNoaWZ0KFwibWVzc2FnZVwiKSx0aGlzLmVtaXQuYXBwbHkodGhpcyx0KSx0aGlzfSxuLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe2lmKHAuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXM7dmFyIGU9cyhhcmd1bWVudHMpLHI9by5FVkVOVDtoKGUpJiYocj1vLkJJTkFSWV9FVkVOVCk7dmFyIG49e3R5cGU6cixkYXRhOmV9O3JldHVybiBuLm9wdGlvbnM9e30sbi5vcHRpb25zLmNvbXByZXNzPSF0aGlzLmZsYWdzfHwhMSE9PXRoaXMuZmxhZ3MuY29tcHJlc3MsXCJmdW5jdGlvblwiPT10eXBlb2YgZVtlLmxlbmd0aC0xXSYmKHUoXCJlbWl0dGluZyBwYWNrZXQgd2l0aCBhY2sgaWQgJWRcIix0aGlzLmlkcyksdGhpcy5hY2tzW3RoaXMuaWRzXT1lLnBvcCgpLG4uaWQ9dGhpcy5pZHMrKyksdGhpcy5jb25uZWN0ZWQ/dGhpcy5wYWNrZXQobik6dGhpcy5zZW5kQnVmZmVyLnB1c2gobiksZGVsZXRlIHRoaXMuZmxhZ3MsdGhpc30sbi5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHQpe3QubnNwPXRoaXMubnNwLHRoaXMuaW8ucGFja2V0KHQpfSxuLnByb3RvdHlwZS5vbm9wZW49ZnVuY3Rpb24oKXt1KFwidHJhbnNwb3J0IGlzIG9wZW4gLSBjb25uZWN0aW5nXCIpLFwiL1wiIT09dGhpcy5uc3AmJih0aGlzLnF1ZXJ5P3RoaXMucGFja2V0KHt0eXBlOm8uQ09OTkVDVCxxdWVyeTp0aGlzLnF1ZXJ5fSk6dGhpcy5wYWNrZXQoe3R5cGU6by5DT05ORUNUfSkpfSxuLnByb3RvdHlwZS5vbmNsb3NlPWZ1bmN0aW9uKHQpe3UoXCJjbG9zZSAoJXMpXCIsdCksdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5kaXNjb25uZWN0ZWQ9ITAsZGVsZXRlIHRoaXMuaWQsdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiLHQpfSxuLnByb3RvdHlwZS5vbnBhY2tldD1mdW5jdGlvbih0KXtpZih0Lm5zcD09PXRoaXMubnNwKXN3aXRjaCh0LnR5cGUpe2Nhc2Ugby5DT05ORUNUOnRoaXMub25jb25uZWN0KCk7YnJlYWs7Y2FzZSBvLkVWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIG8uQklOQVJZX0VWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIG8uQUNLOnRoaXMub25hY2sodCk7YnJlYWs7Y2FzZSBvLkJJTkFSWV9BQ0s6dGhpcy5vbmFjayh0KTticmVhaztjYXNlIG8uRElTQ09OTkVDVDp0aGlzLm9uZGlzY29ubmVjdCgpO2JyZWFrO2Nhc2Ugby5FUlJPUjp0aGlzLmVtaXQoXCJlcnJvclwiLHQuZGF0YSl9fSxuLnByb3RvdHlwZS5vbmV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YXx8W107dShcImVtaXR0aW5nIGV2ZW50ICVqXCIsZSksbnVsbCE9dC5pZCYmKHUoXCJhdHRhY2hpbmcgYWNrIGNhbGxiYWNrIHRvIGV2ZW50XCIpLGUucHVzaCh0aGlzLmFjayh0LmlkKSkpLHRoaXMuY29ubmVjdGVkP2YuYXBwbHkodGhpcyxlKTp0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChlKX0sbi5wcm90b3R5cGUuYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighcil7cj0hMDt2YXIgbj1zKGFyZ3VtZW50cyk7dShcInNlbmRpbmcgYWNrICVqXCIsbik7dmFyIGk9aChuKT9vLkJJTkFSWV9BQ0s6by5BQ0s7ZS5wYWNrZXQoe3R5cGU6aSxpZDp0LGRhdGE6bn0pfX19LG4ucHJvdG90eXBlLm9uYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWNrc1t0LmlkXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlPyh1KFwiY2FsbGluZyBhY2sgJXMgd2l0aCAlalwiLHQuaWQsdC5kYXRhKSxlLmFwcGx5KHRoaXMsdC5kYXRhKSxkZWxldGUgdGhpcy5hY2tzW3QuaWRdKTp1KFwiYmFkIGFjayAlc1wiLHQuaWQpfSxuLnByb3RvdHlwZS5vbmNvbm5lY3Q9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3RlZD0hMCx0aGlzLmRpc2Nvbm5lY3RlZD0hMSx0aGlzLmVtaXQoXCJjb25uZWN0XCIpLHRoaXMuZW1pdEJ1ZmZlcmVkKCl9LG4ucHJvdG90eXBlLmVtaXRCdWZmZXJlZD1mdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDx0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoO3QrKylmLmFwcGx5KHRoaXMsdGhpcy5yZWNlaXZlQnVmZmVyW3RdKTtmb3IodGhpcy5yZWNlaXZlQnVmZmVyPVtdLHQ9MDt0PHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7dCsrKXRoaXMucGFja2V0KHRoaXMuc2VuZEJ1ZmZlclt0XSk7dGhpcy5zZW5kQnVmZmVyPVtdfSxuLnByb3RvdHlwZS5vbmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXt1KFwic2VydmVyIGRpc2Nvbm5lY3QgKCVzKVwiLHRoaXMubnNwKSx0aGlzLmRlc3Ryb3koKSx0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKX0sbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2lmKHRoaXMuc3Vicyl7Zm9yKHZhciB0PTA7dDx0aGlzLnN1YnMubGVuZ3RoO3QrKyl0aGlzLnN1YnNbdF0uZGVzdHJveSgpO3RoaXMuc3Vicz1udWxsfXRoaXMuaW8uZGVzdHJveSh0aGlzKX0sbi5wcm90b3R5cGUuY2xvc2U9bi5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3RlZCYmKHUoXCJwZXJmb3JtaW5nIGRpc2Nvbm5lY3QgKCVzKVwiLHRoaXMubnNwKSx0aGlzLnBhY2tldCh7dHlwZTpvLkRJU0NPTk5FQ1R9KSksdGhpcy5kZXN0cm95KCksdGhpcy5jb25uZWN0ZWQmJnRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpLHRoaXN9LG4ucHJvdG90eXBlLmNvbXByZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZsYWdzPXRoaXMuZmxhZ3N8fHt9LHRoaXMuZmxhZ3MuY29tcHJlc3M9dCx0aGlzfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQsZSl7dmFyIHI9W107ZT1lfHwwO2Zvcih2YXIgbj1lfHwwO248dC5sZW5ndGg7bisrKXJbbi1lXT10W25dO3JldHVybiByfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLHIpe3JldHVybiB0Lm9uKGUscikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0LnJlbW92ZUxpc3RlbmVyKGUscil9fX10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXt2YXIgcj1bXS5zbGljZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dFtlXSksXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJiaW5kKCkgcmVxdWlyZXMgYSBmdW5jdGlvblwiKTt2YXIgbj1yLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsbi5jb25jYXQoci5jYWxsKGFyZ3VtZW50cykpKX19fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIodCl7dD10fHx7fSx0aGlzLm1zPXQubWlufHwxMDAsdGhpcy5tYXg9dC5tYXh8fDFlNCx0aGlzLmZhY3Rvcj10LmZhY3Rvcnx8Mix0aGlzLmppdHRlcj10LmppdHRlcj4wJiZ0LmppdHRlcjw9MT90LmppdHRlcjowLHRoaXMuYXR0ZW1wdHM9MH10LmV4cG9ydHM9cixyLnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubXMqTWF0aC5wb3codGhpcy5mYWN0b3IsdGhpcy5hdHRlbXB0cysrKTtpZih0aGlzLmppdHRlcil7dmFyIGU9TWF0aC5yYW5kb20oKSxyPU1hdGguZmxvb3IoZSp0aGlzLmppdHRlcip0KTt0PTA9PSgxJk1hdGguZmxvb3IoMTAqZSkpP3Qtcjp0K3J9cmV0dXJuIDB8TWF0aC5taW4odCx0aGlzLm1heCl9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdHRlbXB0cz0wfSxyLnByb3RvdHlwZS5zZXRNaW49ZnVuY3Rpb24odCl7dGhpcy5tcz10fSxyLnByb3RvdHlwZS5zZXRNYXg9ZnVuY3Rpb24odCl7dGhpcy5tYXg9dH0sci5wcm90b3R5cGUuc2V0Sml0dGVyPWZ1bmN0aW9uKHQpe3RoaXMuaml0dGVyPXR9fV0pfSk7IiwiLypcbiogQ29weXJpZ2h0IDIwMTcgdGhlIElzYXJkLXZkaSBwcm9qZWN0IGF1dGhvcnM6XG4qICAgICAgSm9zZXAgTWFyaWEgVmnDsW9sYXMgQXVxdWVyXG4qICAgICAgQWxiZXJ0byBMYXJyYXogRGFsbWFzZXNcbiogTGljZW5zZTogQUdQTHYzXG4qL1xuXG5mdW5jdGlvbiBzdGFydENsaWVudFZpZXdlclNvY2tldChzb2NrZXQpe1xuICAgIHNvY2tldC5vbignZG9tYWluX3ZpZXdlcicsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgaWYoZGF0YVsna2luZCddPT0neHBpJyl7XG4gICAgICAgICAgICB2aWV3ZXI9ZGF0YVsndmlld2VyJ11cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpZXdlcj09ZmFsc2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEaXNwbGF5IGVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiQ2FuJ3Qgb3BlbiBkaXNwbGF5LCBzb21ldGhpbmcgd2VudCB3cm9uZy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDMwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1hbGVydC1zaWduJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmlld2VyLnRsc3BvcnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuVExTKHZpZXdlci5ob3N0LCB2aWV3ZXIucG9ydCwgdmlld2VyLnRsc3BvcnQsIHZpZXdlci5wYXNzd2QsIHZpZXdlci5jYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5UQ1Aodmlld2VyLmhvc3QsIHZpZXdlci5wb3J0LCB2aWV3ZXIucGFzc3dkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZGF0YVsna2luZCddPT0naHRtbDUnKXtcbiAgICAgICAgICAgIHZpZXdlcj1kYXRhWyd2aWV3ZXInXVxuICAgICAgICAgICAgLy9+IHdpbmRvdy5vcGVuKCdodHRwOi8vdHJ5LmlzYXJkdmRpLmNvbTo4MDAwLz9ob3N0PXRyeS5pc2FyZHZkaS5jb20mcG9ydD0nK3ZpZXdlci5wb3J0KycmcGFzc3dkPScrdmlld2VyLnBhc3N3ZCk7IFxuICAgICAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHA6Ly8nK3ZpZXdlci5ob3N0KycvP2hvc3Q9Jyt2aWV3ZXIuaG9zdCsnJnBvcnQ9Jyt2aWV3ZXIucG9ydCsnJnBhc3N3ZD0nK3ZpZXdlci5wYXNzd2QpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgIGlmKGRhdGFbJ2tpbmQnXT09J2ZpbGUnKXtcbiAgICAgICAgICAgIHZhciB2aWV3ZXJGaWxlID0gbmV3IEJsb2IoW2RhdGFbJ2NvbnRlbnQnXV0sIHt0eXBlOiBkYXRhWydtaW1lJ119KTtcbiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAnY29uc29sZS4nK2RhdGFbJ2V4dCddO1xuICAgICAgICAgICAgICAgIGEuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHZpZXdlckZpbGUpO1xuICAgICAgICAgICAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICAgICAgICAgICAgICBldi5pbml0TW91c2VFdmVudChcImNsaWNrXCIsIHRydWUsIGZhbHNlLCBzZWxmLCAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgYS5kaXNwYXRjaEV2ZW50KGV2KTsgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgfSk7XG5cblxufSAgICBcbiAgICBcblxuZnVuY3Rpb24gZ2V0Q2xpZW50Vmlld2VyKGRhdGEsc29ja2V0KXtcblx0XHRcdFx0aWYoZGV0ZWN0WHBpUGx1Z2luKCkpe1xuXHRcdFx0XHRcdC8vU1BJQ0UtWFBJIFBsdWdpblxuICAgICAgICAgICAgICAgICAgICBpZihpc1hwaUJsb2NrZWQoKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBOb3RpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlBsdWdpbiBibG9ja2VkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiWW91IHNob3VsZCBhbGxvdyBTcGljZVhQSSBwbHVnaW4gYW5kIHRoZW4gcmVsb2FkIHdlYnBhZ2UuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWw6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfiBkZWxheTogMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWFsZXJ0LXNpZ24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdkb21haW5fdmlld2VyJyx7J3BrJzpkYXRhWydpZCddLCdraW5kJzoneHBpJ30pICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHR9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Nob29zZSBkaXNwbGF5IGNvbm5lY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdPcGVuIGluIGJyb3dzZXIgKGh0bWw1KSBvciBkb3dubG9hZCByZW1vdGUtdmlld2VyIGZpbGUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1xdWVzdGlvbi1zaWduJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnSFRNTDUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzOiAnYnRuLXByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihub3RpY2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpY2UudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnWW91IGNob29zZWQgaHRtbDUgdmlld2VyJywgdGV4dDogJ1ZpZXdlciB3aWxsIGJlIG9wZW5lZCBpbiBuZXcgd2luZG93LlxcbiBQbGVhc2UgYWxsb3cgcG9wdXBzIScsIGljb246IHRydWUsIHR5cGU6ICdpbmZvJywgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2tlcjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2RvbWFpbl92aWV3ZXInLHsncGsnOmRhdGFbJ2lkJ10sJ2tpbmQnOidodG1sNSd9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdEb3dubG9hZCBkaXNwbGF5IGZpbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihub3RpY2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpY2UudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnWW91IGNob29zZWQgdG8gZG93bmxvYWQnLCB0ZXh0OiAnRmlsZSB3aWxsIGJlIGRvd25sb2FkZWQgc2hvcnRseScsIGljb246IHRydWUsIHR5cGU6ICdpbmZvJywgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2tlcjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdkb21haW5fdmlld2VyJyx7J3BrJzpkYXRhWydpZCddLCdraW5kJzonZmlsZSd9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0aWNrZXI6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgXG5cblxuXHRcdFx0XHRcdH1cblxufVxuXG5cblxuXG5cblxuXHRmdW5jdGlvbiBkZXRlY3RYcGlQbHVnaW4oKXtcblx0XHR2YXIgcGx1Z2luc0ZvdW5kID0gZmFsc2U7XG5cdFx0aWYgKG5hdmlnYXRvci5wbHVnaW5zICYmIG5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA+IDApIHtcblx0XHRcdHZhciBkYVBsdWdpbnMgPSBbIFwiU3BpY2VcIiBdO1xuXHRcdFx0dmFyIHBsdWdpbnNBbW91bnQgPSBuYXZpZ2F0b3IucGx1Z2lucy5sZW5ndGg7XG5cdFx0XHRmb3IgKGNvdW50ZXIgPSAwOyBjb3VudGVyIDwgcGx1Z2luc0Ftb3VudDsgY291bnRlcisrKSB7XG5cdFx0XHRcdHZhciBudW1Gb3VuZCA9IDA7XG5cdFx0XHRcdGZvciAobmFtZXNDb3VudGVyID0gMDsgbmFtZXNDb3VudGVyIDwgZGFQbHVnaW5zLmxlbmd0aDsgbmFtZXNDb3VudGVyKyspIHtcblx0XHRcdFx0XHRpZiAoKG5hdmlnYXRvci5wbHVnaW5zW2NvdW50ZXJdLm5hbWUuaW5kZXhPZihkYVBsdWdpbnNbbmFtZXNDb3VudGVyXSkgPiAwKVxuXHRcdFx0XHRcdFx0fHwgKG5hdmlnYXRvci5wbHVnaW5zW2NvdW50ZXJdLmRlc2NyaXB0aW9uLmluZGV4T2YoZGFQbHVnaW5zW25hbWVzQ291bnRlcl0pID49IDApKSB7XG5cdFx0XHRcdFx0XHRudW1Gb3VuZCsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobnVtRm91bmQgPT0gZGFQbHVnaW5zLmxlbmd0aCkge1xuXHRcdFx0XHRwbHVnaW5zRm91bmQgPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fVxuXHRcdHJldHVybiBwbHVnaW5zRm91bmQ7XG5cdH1cblxuICAgIGZ1bmN0aW9uIGlzWHBpQmxvY2tlZCgpe1xuICAgICAgICB2YXIgZW1iZWQgPSBkb2N1bWVudC5lbWJlZHNbMF07XG4gICAgICAgIGlmICh0eXBlb2YgZW1iZWQuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7IFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcblx0ZnVuY3Rpb24gb3BlblRDUChzcGljZV9ob3N0LHNwaWNlX3BvcnQsc3BpY2VfcGFzc3dkKVxuXHR7XG5cdFx0dmFyIGVtYmVkID0gZG9jdW1lbnQuZW1iZWRzWzBdO1xuXHRcdGVtYmVkLmhvc3RJUCA9IHNwaWNlX2hvc3Q7XG5cdFx0ZW1iZWQucG9ydCA9IHNwaWNlX3BvcnQ7XG5cdFx0ZW1iZWQuUGFzc3dvcmQgPSBzcGljZV9wYXNzd2Q7XG5cdFx0ZW1iZWQuZnVsbFNjcmVlbiA9IHRydWU7XG5cdFx0ZW1iZWQuZkF1ZGlvID0gdHJ1ZTtcblx0XHRlbWJlZC5Vc2JMaXN0ZW5Qb3J0ID0gMTtcblx0XHRlbWJlZC5Vc2JBdXRvU2hhcmUgPSAxO1xuXHRcdGVtYmVkLmNvbm5lY3QoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9wZW5UTFMoc3BpY2VfaG9zdCxzcGljZV9wb3J0LHNwaWNlX3RscyxzcGljZV9wYXNzd2QsY2EpXG5cdHtcdFx0XG5cdFx0dmFyIGVtYmVkID0gZG9jdW1lbnQuZW1iZWRzWzBdO1xuXHRcdGVtYmVkLmhvc3RJUCA9IHNwaWNlX2hvc3Q7XG5cdFx0Ly9+IGVtYmVkLnBvcnQgPSBzcGljZV9wb3J0O1xuXHRcdGVtYmVkLlNlY3VyZVBvcnQgPSBzcGljZV90bHM7XG5cdFx0ZW1iZWQuUGFzc3dvcmQgPSBzcGljZV9wYXNzd2Q7XG5cdFx0ZW1iZWQuQ2lwaGVyU3VpdGUgPSBcIlwiO1xuXHRcdGVtYmVkLlNTTENoYW5uZWxzID0gXCJcIjtcblx0XHRlbWJlZC5Ib3N0U3ViamVjdCA9IFwiXCI7XG5cdFx0ZW1iZWQuZnVsbFNjcmVlbiA9IHRydWU7XG5cdFx0ZW1iZWQuQWRtaW5Db25zb2xlID0gXCJcIjtcblx0XHRlbWJlZC5UaXRsZSA9IFwiXCI7XG5cdFx0ZW1iZWQuZHluYW1pY01lbnUgPSBcIlwiO1xuXHRcdGVtYmVkLk51bWJlck9mTW9uaXRvcnMgPSBcIlwiO1xuXHRcdGVtYmVkLkd1ZXN0SG9zdE5hbWUgPSBcIlwiO1xuXHRcdGVtYmVkLkhvdEtleSA9IFwiXCI7XG5cdFx0ZW1iZWQuTm9UYXNrTWdyRXhlY3V0aW9uID0gXCJcIjtcblx0XHRlbWJlZC5TZW5kQ3RybEFsdERlbGV0ZSA9IFwiXCI7XG5cdFx0ZW1iZWQuVXNiTGlzdGVuUG9ydCA9IFwiXCI7XG5cdFx0ZW1iZWQuVXNiQXV0b1NoYXJlID0gdHJ1ZTtcblx0XHRlbWJlZC5TbWFydGNhcmQgPSBcIlwiO1xuXHRcdGVtYmVkLkNvbG9yRGVwdGggPSBcIlwiO1xuXHRcdGVtYmVkLkRpc2FibGVFZmZlY3RzID0gXCJcIjtcblx0XHRlbWJlZC5UcnVzdFN0b3JlID0gY2E7XG5cdFx0ZW1iZWQuUHJveHkgPSBcIlwiO1xuXHRcdGVtYmVkLmNvbm5lY3QoKTtcblx0fVxuICBcbiAgICBmdW5jdGlvbiBnZXRPUygpIHtcbiAgICAgIHZhciB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICBwbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgbWFjb3NQbGF0Zm9ybXMgPSBbJ01hY2ludG9zaCcsICdNYWNJbnRlbCcsICdNYWNQUEMnLCAnTWFjNjhLJ10sXG4gICAgICAgICAgd2luZG93c1BsYXRmb3JtcyA9IFsnV2luMzInLCAnV2luNjQnLCAnV2luZG93cycsICdXaW5DRSddLFxuICAgICAgICAgIGlvc1BsYXRmb3JtcyA9IFsnaVBob25lJywgJ2lQYWQnLCAnaVBvZCddLFxuICAgICAgICAgIG9zID0gbnVsbDtcblxuICAgICAgaWYgKG1hY29zUGxhdGZvcm1zLmluZGV4T2YocGxhdGZvcm0pICE9PSAtMSkge1xuICAgICAgICBvcyA9ICdNYWNPUyc7XG4gICAgICB9IGVsc2UgaWYgKGlvc1BsYXRmb3Jtcy5pbmRleE9mKHBsYXRmb3JtKSAhPT0gLTEpIHtcbiAgICAgICAgb3MgPSAnaU9TJztcbiAgICAgIH0gZWxzZSBpZiAod2luZG93c1BsYXRmb3Jtcy5pbmRleE9mKHBsYXRmb3JtKSAhPT0gLTEpIHtcbiAgICAgICAgb3MgPSAnV2luZG93cyc7XG4gICAgICB9IGVsc2UgaWYgKC9BbmRyb2lkLy50ZXN0KHVzZXJBZ2VudCkpIHtcbiAgICAgICAgb3MgPSAnQW5kcm9pZCc7XG4gICAgICB9IGVsc2UgaWYgKCFvcyAmJiAvTGludXgvLnRlc3QocGxhdGZvcm0pKSB7XG4gICAgICAgIG9zID0gJ0xpbnV4JztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9zO1xuICAgIH1cbiIsIi8qXG4qIENvcHlyaWdodCAyMDE3IHRoZSBJc2FyZC12ZGkgcHJvamVjdCBhdXRob3JzOlxuKiAgICAgIEpvc2VwIE1hcmlhIFZpw7FvbGFzIEF1cXVlclxuKiAgICAgIEFsYmVydG8gTGFycmF6IERhbG1hc2VzXG4qIExpY2Vuc2U6IEFHUEx2M1xuKi9cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcjZGlzcG9zYWJsZScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnZhbHVlIT1cImRlZmF1bHRcIil7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdkaXNwb3NhYmxlc19hZGQnLHsncGsnOnRoaXMudmFsdWV9KSBcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3Bvc2FibGUnKS5wcm9wKFwiZGlzYWJsZWRcIix0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rpc3Bvc2FibGUgb3B0aW9uW3ZhbHVlPVwiZGVmYXVsdFwiXScpLnRleHQoJyBXYWl0IHRpbGwgJyskKFwiI2Rpc3Bvc2FibGUgb3B0aW9uW3ZhbHVlPSdcIit0aGlzLnZhbHVlK1wiJ11cIikudGV4dCgpKycgdmlld2VyIG9wZW5zLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXNwb3NhYmxlIG9wdGlvblt2YWx1ZT1cImRlZmF1bHRcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIix0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSAgXG5cblxuICAgIHNvY2tldCA9IGlvLmNvbm5lY3QobG9jYXRpb24ucHJvdG9jb2wrJy8vJyArIGRvY3VtZW50LmRvbWFpbiArICc6JyArIGxvY2F0aW9uLnBvcnQrJy9zaW9fZGlzcG9zYWJsZXMnKTtcbiAgICAgXG4gICAgc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgZGlzcG9zYWJsZXMgbmFtZXNwYWNlJyk7XG4gICAgfSk7XG5cbiAgICBzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAvL34gY29ubmVjdGlvbl9sb3N0KCk7XG4gICAgfSk7XG5cblxuICAgIHNvY2tldC5vbignZGlzcG9zYWJsZV9kYXRhJywgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgaWYoZGF0YVsnc3RhdHVzJ109PSdTdGFydGVkJyl7XG5cdFx0XHQkKCcjZGlzcG9zYWJsZSBvcHRpb25bdmFsdWU9XCJkZWZhdWx0XCJdJykudGV4dCgnQ2hvb3NlIGEgZGVza3RvcC4uLicpO1xuXHRcdFx0JCgnI2Rpc3Bvc2FibGUgb3B0aW9uW3ZhbHVlPVwiZGVmYXVsdFwiXScpLnByb3AoXCJzZWxlY3RlZFwiLHRydWUpO1xuXHRcdFx0JCgnI2Rpc3Bvc2FibGUnKS5wcm9wKFwiZGlzYWJsZWRcIixmYWxzZSk7XG5cdFx0XHRnZXRDbGllbnRWaWV3ZXIoZGF0YSxzb2NrZXQpXG5cdCAgfVx0XHRcdFx0XHRcdFx0XHRcdFx0XG4gICAgICAgIFxuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCdkaXNwb3NhYmxlX3ZpZXdlcicsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgaWYoZGF0YVsna2luZCddPT0neHBpJyl7XG4gICAgICAgICAgICB2aWV3ZXI9ZGF0YVsndmlld2VyJ11cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpZXdlcj09ZmFsc2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEaXNwbGF5IGVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiQ2FuJ3Qgb3BlbiBkaXNwbGF5LCBzb21ldGhpbmcgd2VudCB3cm9uZy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDMwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1hbGVydC1zaWduJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmlld2VyLnRsc3BvcnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuVExTKHZpZXdlci5ob3N0LCB2aWV3ZXIucG9ydCwgdmlld2VyLnRsc3BvcnQsIHZpZXdlci5wYXNzd2QsIHZpZXdlci5jYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5UQ1Aodmlld2VyLmhvc3QsIHZpZXdlci5wb3J0LCB2aWV3ZXIucGFzc3dkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZGF0YVsna2luZCddPT0naHRtbDUnKXtcbiAgICAgICAgICAgIHZpZXdlcj1kYXRhWyd2aWV3ZXInXVxuICAgICAgICAgICAgLy9+IHdpbmRvdy5vcGVuKCdodHRwOi8vdHJ5LmlzYXJkdmRpLmNvbTo4MDAwLz9ob3N0PXRyeS5pc2FyZHZkaS5jb20mcG9ydD0nK3ZpZXdlci5wb3J0KycmcGFzc3dkPScrdmlld2VyLnBhc3N3ZCk7IFxuICAgICAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHA6Ly8nK3ZpZXdlci5ob3N0KycvP2hvc3Q9Jyt2aWV3ZXIuaG9zdCsnJnBvcnQ9Jyt2aWV3ZXIucG9ydCsnJnBhc3N3ZD0nK3ZpZXdlci5wYXNzd2QpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgIGlmKGRhdGFbJ2tpbmQnXT09J2ZpbGUnKXtcbiAgICAgICAgICAgIHZhciB2aWV3ZXJGaWxlID0gbmV3IEJsb2IoW2RhdGFbJ2NvbnRlbnQnXV0sIHt0eXBlOiBkYXRhWydtaW1lJ119KTtcbiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAnY29uc29sZS4nK2RhdGFbJ2V4dCddO1xuICAgICAgICAgICAgICAgIGEuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHZpZXdlckZpbGUpO1xuICAgICAgICAgICAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICAgICAgICAgICAgICBldi5pbml0TW91c2VFdmVudChcImNsaWNrXCIsIHRydWUsIGZhbHNlLCBzZWxmLCAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgYS5kaXNwYXRjaEV2ZW50KGV2KTsgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIHNvY2tldC5vbigncmVzdWx0JywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBuZXcgUE5vdGlmeSh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICAgICAgICAgICAgdGV4dDogZGF0YS50ZXh0LFxuICAgICAgICAgICAgICAgIGhpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZGVsYXk6IDQwMDAsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLScrZGF0YS5pY29uLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxufSk7XG5cblxuXG5mdW5jdGlvbiBnZXRDbGllbnRWaWV3ZXIoZGF0YSxzb2NrZXQpe1xuXHRcdFx0XHRpZihkZXRlY3RYcGlQbHVnaW4oKSl7XG5cdFx0XHRcdFx0Ly9TUElDRS1YUEkgUGx1Z2luXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzWHBpQmxvY2tlZCgpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUE5vdGlmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUGx1Z2luIGJsb2NrZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJZb3Ugc2hvdWxkIGFsbG93IFNwaWNlWFBJIHBsdWdpbiBhbmQgdGhlbiByZWxvYWQgd2VicGFnZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+IGRlbGF5OiAzMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtYWxlcnQtc2lnbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2Rpc3Bvc2FibGVfdmlld2VyJyx7J3BrJzpkYXRhWydpZCddLCdraW5kJzoneHBpJ30pICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHR9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Nob29zZSBkaXNwbGF5IGNvbm5lY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdPcGVuIGluIGJyb3dzZXIgKGh0bWw1KSBvciBkb3dubG9hZCByZW1vdGUtdmlld2VyIGZpbGUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1xdWVzdGlvbi1zaWduJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnSFRNTDUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzOiAnYnRuLXByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihub3RpY2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpY2UudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnWW91IGNob29zZWQgaHRtbDUgdmlld2VyJywgdGV4dDogJ1ZpZXdlciB3aWxsIGJlIG9wZW5lZCBpbiBuZXcgd2luZG93LlxcbiBQbGVhc2UgYWxsb3cgcG9wdXBzIScsIGljb246IHRydWUsIHR5cGU6ICdpbmZvJywgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2tlcjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2Rpc3Bvc2FibGVfdmlld2VyJyx7J3BrJzpkYXRhWydpZCddLCdraW5kJzonaHRtbDUnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnRG93bmxvYWQgZGlzcGxheSBmaWxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24obm90aWNlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWNlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1lvdSBjaG9vc2VkIHRvIGRvd25sb2FkJywgdGV4dDogJ0ZpbGUgd2lsbCBiZSBkb3dubG9hZGVkIHNob3J0bHknLCBpY29uOiB0cnVlLCB0eXBlOiAnaW5mbycsIGhpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0aWNrZXI6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnZGlzcG9zYWJsZV92aWV3ZXInLHsncGsnOmRhdGFbJ2lkJ10sJ2tpbmQnOidmaWxlJ30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2tlcjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICBcblxuXG5cdFx0XHRcdFx0fVxuXG59XG5cbiIsIi8qISBqUXVlcnkgdjIuMi4zIHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT1cIjIuMi4zXCIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTplLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiBuLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Zyxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSxcIm9iamVjdFwiPT10eXBlb2YgZ3x8bi5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShhPWFyZ3VtZW50c1toXSkpZm9yKGIgaW4gYSljPWdbYl0sZD1hW2JdLGchPT1kJiYoaiYmZCYmKG4uaXNQbGFpbk9iamVjdChkKXx8KGU9bi5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZuLmlzQXJyYXkoYyk/YzpbXSk6Zj1jJiZuLmlzUGxhaW5PYmplY3QoYyk/Yzp7fSxnW2JdPW4uZXh0ZW5kKGosZixkKSk6dm9pZCAwIT09ZCYmKGdbYl09ZCkpO3JldHVybiBnfSxuLmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoXCJvYmplY3RcIiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKSlyZXR1cm4hMTtpZihhLmNvbnN0cnVjdG9yJiYhay5jYWxsKGEsXCJjb25zdHJ1Y3RvclwiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZXx8e30sXCJpc1Byb3RvdHlwZU9mXCIpKXJldHVybiExO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9pW2ouY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYz1ldmFsO2E9bi50cmltKGEpLGEmJigxPT09YS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8oYj1kLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksYi50ZXh0PWEsZC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLFwibXMtXCIpLnJlcGxhY2UocSxyKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wO2lmKHMoYSkpe2ZvcihjPWEubGVuZ3RoO2M+ZDtkKyspaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrfWVsc2UgZm9yKGQgaW4gYSlpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG8sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP24ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmguY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGQ9ZS5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChlLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpsfSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtpW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPSEhYSYmXCJsZW5ndGhcImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixMPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixNPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTj1cIlxcXFxbXCIrTCtcIiooXCIrTStcIikoPzpcIitMK1wiKihbKl4kfCF+XT89KVwiK0wrXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIitNK1wiKSl8KVwiK0wrXCIqXFxcXF1cIixPPVwiOihcIitNK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitOK1wiKSopfC4qKVxcXFwpfClcIixQPW5ldyBSZWdFeHAoTCtcIitcIixcImdcIiksUT1uZXcgUmVnRXhwKFwiXlwiK0wrXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK0wrXCIrJFwiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiosXCIrTCtcIipcIiksUz1uZXcgUmVnRXhwKFwiXlwiK0wrXCIqKFs+K35dfFwiK0wrXCIpXCIrTCtcIipcIiksVD1uZXcgUmVnRXhwKFwiPVwiK0wrXCIqKFteXFxcXF0nXFxcIl0qPylcIitMK1wiKlxcXFxdXCIsXCJnXCIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoXCJeXCIrTStcIiRcIiksVz17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK00rXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrTStcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK00rXCJ8WypdKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIrTiksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrTyksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrTCtcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK0wrXCIqKD86KFsrLV18KVwiK0wrXCIqKFxcXFxkKyl8KSlcIitMK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK0srXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitMK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitMK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIitMK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcXGQkL2ksWj0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLCQ9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFxcXC9nLGJhPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitMK1wiP3woXCIrTCtcIil8LilcIixcImlnXCIpLGNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sXCJzdHJpbmdcIiE9dHlwZW9mIGF8fCFhfHwxIT09eCYmOSE9PXgmJjExIT09eClyZXR1cm4gZDtpZighZSYmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLHApKXtpZigxMSE9PXgmJihvPSQuZXhlYyhhKSkpaWYoZj1vWzFdKXtpZig5PT09eCl7aWYoIShqPWIuZ2V0RWxlbWVudEJ5SWQoZikpKXJldHVybiBkO2lmKGouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNlIGlmKHcmJihqPXcuZ2V0RWxlbWVudEJ5SWQoZikpJiZ0KGIsaikmJmouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNle2lmKG9bMl0pcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChmPW9bM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksZH1pZihjLnFzYSYmIUFbYStcIiBcIl0mJighcXx8IXEudGVzdChhKSkpe2lmKDEhPT14KXc9YixzPWE7ZWxzZSBpZihcIm9iamVjdFwiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9rPWsucmVwbGFjZShhYSxcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIsaz11KSxyPWcoYSksaD1yLmxlbmd0aCxsPVYudGVzdChrKT9cIiNcIitrOlwiW2lkPSdcIitrK1wiJ11cIjt3aGlsZShoLS0pcltoXT1sK1wiIFwiK3FhKHJbaF0pO3M9ci5qb2luKFwiLFwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShRLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGdhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaGEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBpYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYz1hLnNwbGl0KFwifFwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1jfHxcImJ1dHRvblwiPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWZhLnN1cHBvcnQ9e30sZj1mYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxtPWZhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLChlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGRhKSksYy5hdHRyaWJ1dGVzPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1aLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGJhLGNhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD1cIjxhIGlkPSdcIit1K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrdStcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrTCtcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrTCtcIiooPzp2YWx1ZXxcIitLK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3UrXCItXVwiKS5sZW5ndGh8fHEucHVzaChcIn49XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit1K1wiKypcIikubGVuZ3RofHxxLnB1c2goXCIuIy4rWyt+XVwiKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiaGlkZGVuXCIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiRFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGgmJnEucHVzaChcIm5hbWVcIitMK1wiKlsqXiR8IX5dPz1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIikscS5wdXNoKFwiLC4qOlwiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9Wi50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZpYShmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLFwiZGl2XCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsTyl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsXCI9JyQxJ11cIiksYy5tYXRjaGVzU2VsZWN0b3ImJnAmJiFBW2IrXCIgXCJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGEsbWF0Y2g6VyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShiYSxjYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShiYSxjYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZVLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK0wrXCIpXCIrYStcIihcIitMK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UucmVwbGFjZShQLFwiIFwiKStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPVwib25seVwiPT09YSYmIW8mJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7bT1xLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4mJmpbMl0sbT1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoMT09PW0ubm9kZVR5cGUmJisrdCYmbT09PWIpe2tbYV09W3csbix0XTticmVha319ZWxzZSBpZihzJiYobT1iLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4pLHQ9PT0hMSl3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKSYmKyt0JiYocyYmKGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGtbYV09W3csdF0pLG09PT1iKSlicmVhaztyZXR1cm4gdC09ZSx0PT09ZHx8dCVkPT09MCYmdC9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmEuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLFwiXCIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aGEoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUooYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGEoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFEsXCIkMVwiKSk7cmV0dXJuIGRbdV0/aGEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczpoYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGJhLGNhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYShmdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGF8fFwiXCIpfHxmYS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKGJhLGNhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhK1wiLVwiKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJiEhYS5jaGVja2VkfHxcIm9wdGlvblwiPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiZcImJ1dHRvblwiPT09YS50eXBlfHxcImJ1dHRvblwiPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm5cImlucHV0XCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmEoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5hKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYShiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYShiKTtmdW5jdGlvbiBwYSgpe31wYS5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHBhLGc9ZmEudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYStcIiBcIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXtjJiYhKGU9Ui5leGVjKGgpKXx8KGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9Uy5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShRLFwiIFwiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9XCJcIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gcmEoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmXCJwYXJlbnROb2RlXCI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqLGs9W3csZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihqPWJbdV18fChiW3VdPXt9KSxpPWpbYi51bmlxdWVJRF18fChqW2IudW5pcXVlSURdPXt9KSwoaD1pW2RdKSYmaFswXT09PXcmJmhbMV09PT1mKXJldHVybiBrWzJdPWhbMl07aWYoaVtkXT1rLGtbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiBzYShhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB0YShhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWZhKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB1YShhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoYyYmIWMoZixkLGUpfHwoZy5wdXNoKGYpLGomJmIucHVzaChoKSkpO3JldHVybiBnfWZ1bmN0aW9uIHZhKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXZhKGQpKSxlJiYhZVt1XSYmKGU9dmEoZSxmKSksaGEoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dGEoYnx8XCIqXCIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlW1wiIFwiXSxpPWc/MTowLGs9cmEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSxoLCEwKSxsPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBKKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXt2YXIgZT0hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKTtyZXR1cm4gYj1udWxsLGV9XTtmPmk7aSsrKWlmKGM9ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3JhKHNhKG0pLGMpXTtlbHNle2lmKGM9ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJyZWFrO3JldHVybiB2YShpPjEmJnNhKG0pLGk+MSYmcWEoYS5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWFbaS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShRLFwiJDFcIiksYyxlPmkmJndhKGEuc2xpY2UoaSxlKSksZj5lJiZ3YShhPWEuc2xpY2UoZSkpLGY+ZSYmcWEoYSkpfW0ucHVzaChjKX1yZXR1cm4gc2EobSl9ZnVuY3Rpb24geGEoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbyxxLHI9MCxzPVwiMFwiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKFwiKlwiLGspLHk9dys9bnVsbD09dj8xOk1hdGgucmFuZG9tKCl8fC4xLHo9eC5sZW5ndGg7Zm9yKGsmJihqPWc9PT1ufHxnfHxrKTtzIT09eiYmbnVsbCE9KGw9eFtzXSk7cysrKXtpZihlJiZsKXtvPTAsZ3x8bC5vd25lckRvY3VtZW50PT09bnx8KG0obCksaD0hcCk7d2hpbGUocT1hW28rK10paWYocShsLGd8fG4saCkpe2kucHVzaChsKTticmVha31rJiYodz15KX1jJiYoKGw9IXEmJmwpJiZyLS0sZiYmdC5wdXNoKGwpKX1pZihyKz1zLGMmJnMhPT1yKXtvPTA7d2hpbGUocT1iW28rK10pcSh0LHUsZyxoKTtpZihmKXtpZihyPjApd2hpbGUocy0tKXRbc118fHVbc118fCh1W3NdPUYuY2FsbChpKSk7dT11YSh1KX1ILmFwcGx5KGksdSksayYmIWYmJnUubGVuZ3RoPjAmJnIrYi5sZW5ndGg+MSYmZmEudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9eSxqPXYpLHR9O3JldHVybiBjP2hhKGYpOmZ9cmV0dXJuIGg9ZmEuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPUFbYStcIiBcIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9d2EoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHhhKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1mYS5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGksaixrLGwsbSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiZcIklEXCI9PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1iLnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPVcubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lmKGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGJhLGNhKSxfLnRlc3QoalswXS50eXBlKSYmb2EoYi5wYXJlbnROb2RlKXx8YikpKXtpZihqLnNwbGljZShpLDEpLGE9Zi5sZW5ndGgmJnFhKGopLCFhKXJldHVybiBILmFwcGx5KGUsZiksZTticmVha319fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLCFifHxfLnRlc3QoYSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KFwiXCIpLnNvcnQoQikuam9pbihcIlwiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpfSksaWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGEgaHJlZj0nIyc+PC9hPlwiLFwiI1wiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIil9KXx8amEoXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphLmdldEF0dHJpYnV0ZShiLFwidHlwZVwiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxqYShcInZhbHVlXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHxcImlucHV0XCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksaWEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8amEoSyxmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOmFbYl09PT0hMD9iLnRvTG93ZXJDYXNlKCk6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZC5zcGVjaWZpZWQ/ZC52YWx1ZTpudWxsfSksZmF9KGEpO24uZmluZD10LG4uZXhwcj10LnNlbGVjdG9ycyxuLmV4cHJbXCI6XCJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcXHctXSspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLHk9L14uW146I1xcW1xcLixdKiQvO2Z1bmN0aW9uIHooYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBoLmNhbGwoYixhKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9XCI6bm90KFwiK2ErXCIpXCIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcitcIiBcIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh6KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh6KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF6KHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGEmJncudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIEEsQj0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxDPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIsYyl7dmFyIGUsZjtpZighYSlyZXR1cm4gdGhpcztpZihjPWN8fEEsXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGU9XCI8XCI9PT1hWzBdJiZcIj5cIj09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfXJldHVybiBmPWQuZ2V0RWxlbWVudEJ5SWQoZVsyXSksZiYmZi5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWYpLHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpP3ZvaWQgMCE9PWMucmVhZHk/Yy5yZWFkeShhKTphKG4pOih2b2lkIDAhPT1hLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLG4ubWFrZUFycmF5KGEsdGhpcykpfTtDLnByb3RvdHlwZT1uLmZuLEE9bihkKTt2YXIgRD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxFPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O24uZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9bihhLHRoaXMpLGM9Yi5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7Yz5hO2ErKylpZihuLmNvbnRhaW5zKHRoaXMsYlthXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHxcInN0cmluZ1wiIT10eXBlb2YgYT9uKGEsYnx8dGhpcy5jb250ZXh0KTowO2U+ZDtkKyspZm9yKGM9dGhpc1tkXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZihjLm5vZGVUeXBlPDExJiYoZz9nLmluZGV4KGMpPi0xOjE9PT1jLm5vZGVUeXBlJiZuLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXtmLnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubGVuZ3RoPjE/bi51bmlxdWVTb3J0KGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT10eXBlb2YgYT9oLmNhbGwobihhKSx0aGlzWzBdKTpoLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlU29ydChuLm1lcmdlKHRoaXMuZ2V0KCksbihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBGKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1uLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSxcInBhcmVudE5vZGVcIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gRihhLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwibmV4dFNpYmxpbmdcIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwicHJldmlvdXNTaWJsaW5nXCIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiB2KChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gdihhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fG4ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW4ubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHxuLnVuaXF1ZVNvcnQoZSksRC50ZXN0KGEpJiZlLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIEc9L1xcUysvZztmdW5jdGlvbiBIKGEpe3ZhciBiPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChHKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0goYSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZj1bXSxnPVtdLGg9LTEsaT1mdW5jdGlvbigpe2ZvcihlPWEub25jZSxkPWI9ITA7Zy5sZW5ndGg7aD0tMSl7Yz1nLnNoaWZ0KCk7d2hpbGUoKytoPGYubGVuZ3RoKWZbaF0uYXBwbHkoY1swXSxjWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlJiYoaD1mLmxlbmd0aCxjPSExKX1hLm1lbW9yeXx8KGM9ITEpLGI9ITEsZSYmKGY9Yz9bXTpcIlwiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJlwic3RyaW5nXCIhPT1uLnR5cGUoYykmJmQoYyl9KX0oYXJndW1lbnRzKSxjJiYhYiYmaSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW4uaW5BcnJheShiLGYsYykpPi0xKWYuc3BsaWNlKGMsMSksaD49YyYmaC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGYpPi0xOmYubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihmPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxmPWM9XCJcIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFmfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxjfHwoZj1jPVwiXCIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhZX0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gZXx8KGM9Y3x8W10sYz1bYSxjLnNsaWNlP2Muc2xpY2UoKTpjXSxnLnB1c2goYyksYnx8aSgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGouZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFkfX07cmV0dXJuIGp9LG4uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVqZWN0ZWRcIl0sW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLG4uQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sYz1cInBlbmRpbmdcIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bi5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1uLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLnByb2dyZXNzKGMubm90aWZ5KS5kb25lKGMucmVzb2x2ZSkuZmFpbChjLnJlamVjdCk6Y1tmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXStcIldpdGhcIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWUuY2FsbChhcmd1bWVudHMpLGQ9Yy5sZW5ndGgsZj0xIT09ZHx8YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZDowLGc9MT09PWY/YTpuLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9lLmNhbGwoYXJndW1lbnRzKTpkLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZD4xKWZvcihpPW5ldyBBcnJheShkKSxqPW5ldyBBcnJheShkKSxrPW5ldyBBcnJheShkKTtkPmI7YisrKWNbYl0mJm4uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLnByb2dyZXNzKGgoYixqLGkpKS5kb25lKGgoYixrLGMpKS5mYWlsKGcucmVqZWN0KTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSTtuLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBuLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG4uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP24ucmVhZHlXYWl0Kys6bi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1uLnJlYWR5V2FpdDpuLmlzUmVhZHkpfHwobi5pc1JlYWR5PSEwLGEhPT0hMCYmLS1uLnJlYWR5V2FpdD4wfHwoSS5yZXNvbHZlV2l0aChkLFtuXSksbi5mbi50cmlnZ2VySGFuZGxlciYmKG4oZCkudHJpZ2dlckhhbmRsZXIoXCJyZWFkeVwiKSxuKGQpLm9mZihcInJlYWR5XCIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSiksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLEopLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEl8fChJPW4uRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT1kLnJlYWR5U3RhdGV8fFwibG9hZGluZ1wiIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/YS5zZXRUaW1lb3V0KG4ucmVhZHkpOihkLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSiksYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLEopKSksSS5wcm9taXNlKGIpfSxuLnJlYWR5LnByb21pc2UoKTt2YXIgSz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKFwib2JqZWN0XCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylLKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LEw9ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfHw5PT09YS5ub2RlVHlwZXx8ISthLm5vZGVUeXBlfTtmdW5jdGlvbiBNKCl7dGhpcy5leHBhbmRvPW4uZXhwYW5kbytNLnVpZCsrfU0udWlkPTEsTS5wcm90b3R5cGU9e3JlZ2lzdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8e307cmV0dXJuIGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPWM6T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsdGhpcy5leHBhbmRvLHt2YWx1ZTpjLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGFbdGhpcy5leHBhbmRvXX0sY2FjaGU6ZnVuY3Rpb24oYSl7aWYoIUwoYSkpcmV0dXJue307dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiBifHwoYj17fSxMKGEpJiYoYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YjpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSkpKSxifSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5jYWNoZShhKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYillW2JdPWM7ZWxzZSBmb3IoZCBpbiBiKWVbZF09YltkXTtyZXR1cm4gZX0sZ2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMD09PWI/dGhpcy5jYWNoZShhKTphW3RoaXMuZXhwYW5kb10mJmFbdGhpcy5leHBhbmRvXVtiXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmXCJzdHJpbmdcIj09dHlwZW9mIGImJnZvaWQgMD09PWM/KGQ9dGhpcy5nZXQoYSxiKSx2b2lkIDAhPT1kP2Q6dGhpcy5nZXQoYSxuLmNhbWVsQ2FzZShiKSkpOih0aGlzLnNldChhLGIsYyksdm9pZCAwIT09Yz9jOmIpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1hW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09Zil7aWYodm9pZCAwPT09Yil0aGlzLnJlZ2lzdGVyKGEpO2Vsc2V7bi5pc0FycmF5KGIpP2Q9Yi5jb25jYXQoYi5tYXAobi5jYW1lbENhc2UpKTooZT1uLmNhbWVsQ2FzZShiKSxiIGluIGY/ZD1bYixlXTooZD1lLGQ9ZCBpbiBmP1tkXTpkLm1hdGNoKEcpfHxbXSkpLGM9ZC5sZW5ndGg7d2hpbGUoYy0tKWRlbGV0ZSBmW2RbY11dfSh2b2lkIDA9PT1ifHxuLmlzRW1wdHlPYmplY3QoZikpJiYoYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBhW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PWImJiFuLmlzRW1wdHlPYmplY3QoYil9fTt2YXIgTj1uZXcgTSxPPW5ldyBNLFA9L14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFE9L1tBLVpdL2c7ZnVuY3Rpb24gUihhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKFEsXCItJCZcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpQLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Yztcbn1jYXRjaChlKXt9Ty5zZXQoYSxiLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9bi5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIE8uaGFzRGF0YShhKXx8Ti5oYXNEYXRhKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTy5hY2Nlc3MoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7Ty5yZW1vdmUoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBOLmFjY2VzcyhhLGIsYyl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7Ti5yZW1vdmUoYSxiKX19KSxuLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXNbMF0sZz1mJiZmLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09YSl7aWYodGhpcy5sZW5ndGgmJihlPU8uZ2V0KGYpLDE9PT1mLm5vZGVUeXBlJiYhTi5nZXQoZixcImhhc0RhdGFBdHRyc1wiKSkpe2M9Zy5sZW5ndGg7d2hpbGUoYy0tKWdbY10mJihkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKFwiZGF0YS1cIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFIoZixkLGVbZF0pKSk7Ti5zZXQoZixcImhhc0RhdGFBdHRyc1wiLCEwKX1yZXR1cm4gZX1yZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtPLnNldCh0aGlzLGEpfSk6Syh0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjLGQ7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1PLmdldChmLGEpfHxPLmdldChmLGEucmVwbGFjZShRLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoZD1uLmNhbWVsQ2FzZShhKSxjPU8uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVIoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIGQ9bi5jYW1lbENhc2UoYSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9Ty5nZXQodGhpcyxkKTtPLnNldCh0aGlzLGQsYiksYS5pbmRleE9mKFwiLVwiKT4tMSYmdm9pZCAwIT09YyYmTy5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe08ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPU4uZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1OLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBOLmdldChhLGMpfHxOLmFjY2VzcyhhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7Ti5yZW1vdmUoYSxbYitcInF1ZXVlXCIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9Ti5nZXQoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUz0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsVD1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIitTK1wiKShbYS16JV0qKSRcIixcImlcIiksVT1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sVj1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1uLmNzcyhhLFwiZGlzcGxheVwiKXx8IW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfTtmdW5jdGlvbiBXKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBuLmNzcyhhLGIsXCJcIil9LGk9aCgpLGo9YyYmY1szXXx8KG4uY3NzTnVtYmVyW2JdP1wiXCI6XCJweFwiKSxrPShuLmNzc051bWJlcltiXXx8XCJweFwiIT09aiYmK2kpJiZULmV4ZWMobi5jc3MoYSxiKSk7aWYoayYma1szXSE9PWope2o9anx8a1szXSxjPWN8fFtdLGs9K2l8fDE7ZG8gZj1mfHxcIi41XCIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBYPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLFk9LzwoW1xcdzotXSspLyxaPS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksJD17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19OyQub3B0Z3JvdXA9JC5vcHRpb24sJC50Ym9keT0kLnRmb290PSQuY29sZ3JvdXA9JC5jYXB0aW9uPSQudGhlYWQsJC50aD0kLnRkO2Z1bmN0aW9uIF8oYSxiKXt2YXIgYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fFwiKlwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHxcIipcIik6W107cmV0dXJuIHZvaWQgMD09PWJ8fGImJm4ubm9kZU5hbWUoYSxiKT9uLm1lcmdlKFthXSxjKTpjfWZ1bmN0aW9uIGFhKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKU4uc2V0KGFbY10sXCJnbG9iYWxFdmFsXCIsIWJ8fE4uZ2V0KGJbY10sXCJnbG9iYWxFdmFsXCIpKX12YXIgYmE9Lzx8JiM/XFx3KzsvO2Z1bmN0aW9uIGNhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxsPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG09W10sbz0wLHA9YS5sZW5ndGg7cD5vO28rKylpZihmPWFbb10sZnx8MD09PWYpaWYoXCJvYmplY3RcIj09PW4udHlwZShmKSluLm1lcmdlKG0sZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihiYS50ZXN0KGYpKXtnPWd8fGwuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxoPShZLmV4ZWMoZil8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9JFtoXXx8JC5fZGVmYXVsdCxnLmlubmVySFRNTD1pWzFdK24uaHRtbFByZWZpbHRlcihmKStpWzJdLGs9aVswXTt3aGlsZShrLS0pZz1nLmxhc3RDaGlsZDtuLm1lcmdlKG0sZy5jaGlsZE5vZGVzKSxnPWwuZmlyc3RDaGlsZCxnLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBtLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7bC50ZXh0Q29udGVudD1cIlwiLG89MDt3aGlsZShmPW1bbysrXSlpZihkJiZuLmluQXJyYXkoZixkKT4tMSllJiZlLnB1c2goZik7ZWxzZSBpZihqPW4uY29udGFpbnMoZi5vd25lckRvY3VtZW50LGYpLGc9XyhsLmFwcGVuZENoaWxkKGYpLFwic2NyaXB0XCIpLGomJmFhKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlaLnRlc3QoZi50eXBlfHxcIlwiKSYmYy5wdXNoKGYpfXJldHVybiBsfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9YS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGM9ZC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxjLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksYy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLGIuYXBwZW5kQ2hpbGQoYyksbC5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLGwubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgZGE9L15rZXkvLGVhPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxmYT0vXihbXi5dKikoPzpcXC4oLispfCkvO2Z1bmN0aW9uIGdhKCl7cmV0dXJuITB9ZnVuY3Rpb24gaGEoKXtyZXR1cm4hMX1mdW5jdGlvbiBpYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gamEoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoXCJvYmplY3RcIj09dHlwZW9mIGIpe1wic3RyaW5nXCIhPXR5cGVvZiBjJiYoZD1kfHxjLGM9dm9pZCAwKTtmb3IoaCBpbiBiKWphKGEsaCxjLGQsYltoXSxmKTtyZXR1cm4gYX1pZihudWxsPT1kJiZudWxsPT1lPyhlPWMsZD1jPXZvaWQgMCk6bnVsbD09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9aGE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPU4uZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1uLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbiYmbi5ldmVudC50cmlnZ2VyZWQhPT1iLnR5cGU/bi5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSksYj0oYnx8XCJcIikubWF0Y2goRyl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKFwiLlwiKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9Ti5oYXNEYXRhKGEpJiZOLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fFwiXCIpLm1hdGNoKEcpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1mYS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09aVtvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrcC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIiksZz1mPW0ubGVuZ3RoO3doaWxlKGYtLSlrPW1bZl0sIWUmJnEhPT1rLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1rLmd1aWR8fGgmJiFoLnRlc3Qoay5uYW1lc3BhY2UpfHxkJiZkIT09ay5zZWxlY3RvciYmKFwiKipcIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJk4ucmVtb3ZlKGEsXCJoYW5kbGUgZXZlbnRzXCIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShOLmdldCh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoXCJjbGlja1wiIT09YS50eXBlfHxpc05hTihhLmJ1dHRvbil8fGEuYnV0dG9uPDEpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWEudHlwZSkpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrXCIgXCIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/bihlLHRoaXMpLmluZGV4KGkpPi0xOm4uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczpcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRldGFpbCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZT1jLmRvY3VtZW50RWxlbWVudCxmPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxmJiZmLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGYmJmYuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxmJiZmLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxmJiZmLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZSxmPWEudHlwZSxnPWEsaD10aGlzLmZpeEhvb2tzW2ZdO2h8fCh0aGlzLmZpeEhvb2tzW2ZdPWg9ZWEudGVzdChmKT90aGlzLm1vdXNlSG9va3M6ZGEudGVzdChmKT90aGlzLmtleUhvb2tzOnt9KSxlPWgucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoaC5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGcpLGI9ZS5sZW5ndGg7d2hpbGUoYi0tKWM9ZVtiXSxhW2NdPWdbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9ZCksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksaC5maWx0ZXI/aC5maWx0ZXIoYSxnKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PWlhKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWlhKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm4ubm9kZU5hbWUodGhpcyxcImlucHV0XCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP2dhOmhhKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4uRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmhhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmhhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWdhLGEmJmEucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbi5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7bi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4gZSYmKGU9PT1kfHxuLmNvbnRhaW5zKGQsZSkpfHwoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGphKHRoaXMsYSxiLGMsZCl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gamEodGhpcyxhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmosbihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZStcIi5cIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoZSBpbiBhKXRoaXMub2ZmKGUsYixhW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gYiE9PSExJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWhhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciBrYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLGxhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLG1hPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksbmE9L150cnVlXFwvKC4qKS8sb2E9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO2Z1bmN0aW9uIHBhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSxcInRhYmxlXCIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCxcInRyXCIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpKTphfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2EudHlwZSxhfWZ1bmN0aW9uIHJhKGEpe3ZhciBiPW5hLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksYX1mdW5jdGlvbiBzYShhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKE4uaGFzRGF0YShhKSYmKGY9Ti5hY2Nlc3MoYSksZz1OLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKyluLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9Ty5oYXNEYXRhKGEpJiYoaD1PLmFjY2VzcyhhKSxpPW4uZXh0ZW5kKHt9LGgpLE8uc2V0KGIsaSkpfX1mdW5jdGlvbiB0YShhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1jJiZYLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOlwiaW5wdXRcIiE9PWMmJlwidGV4dGFyZWFcIiE9PWN8fChiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gdWEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiZcInN0cmluZ1wiPT10eXBlb2YgcSYmIWwuY2hlY2tDbG9uZSYmbWEudGVzdChxKSlyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPWEuZXEoZSk7ciYmKGJbMF09cS5jYWxsKHRoaXMsZSxmLmh0bWwoKSkpLHVhKGYsYixjLGQpfSk7aWYobyYmKGU9Y2EoYixhWzBdLm93bmVyRG9jdW1lbnQsITEsYSxkKSxnPWUuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9ZyksZ3x8ZCkpe2ZvcihoPW4ubWFwKF8oZSxcInNjcmlwdFwiKSxxYSksaT1oLmxlbmd0aDtvPm07bSsrKWo9ZSxtIT09cCYmKGo9bi5jbG9uZShqLCEwLCEwKSxpJiZuLm1lcmdlKGgsXyhqLFwic2NyaXB0XCIpKSksYy5jYWxsKGFbbV0saixtKTtpZihpKWZvcihrPWhbaC5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChoLHJhKSxtPTA7aT5tO20rKylqPWhbbV0sWi50ZXN0KGoudHlwZXx8XCJcIikmJiFOLmFjY2VzcyhqLFwiZ2xvYmFsRXZhbFwiKSYmbi5jb250YWlucyhrLGopJiYoai5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChqLnNyYyk6bi5nbG9iYWxFdmFsKGoudGV4dENvbnRlbnQucmVwbGFjZShvYSxcIlwiKSkpfXJldHVybiBhfWZ1bmN0aW9uIHZhKGEsYixjKXtmb3IodmFyIGQsZT1iP24uZmlsdGVyKGIsYSk6YSxmPTA7bnVsbCE9KGQ9ZVtmXSk7ZisrKWN8fDEhPT1kLm5vZGVUeXBlfHxuLmNsZWFuRGF0YShfKGQpKSxkLnBhcmVudE5vZGUmJihjJiZuLmNvbnRhaW5zKGQub3duZXJEb2N1bWVudCxkKSYmYWEoXyhkLFwic2NyaXB0XCIpKSxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCkpO3JldHVybiBhfW4uZXh0ZW5kKHtodG1sUHJlZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2Uoa2EsXCI8JDE+PC8kMj5cIil9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEobC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9XyhoKSxmPV8oYSksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyl0YShmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxfKGEpLGc9Z3x8XyhoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXNhKGZbZF0sZ1tkXSk7ZWxzZSBzYShhLGgpO3JldHVybiBnPV8oaCxcInNjcmlwdFwiKSxnLmxlbmd0aD4wJiZhYShnLCFpJiZfKGEsXCJzY3JpcHRcIikpLGh9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGU9bi5ldmVudC5zcGVjaWFsLGY9MDt2b2lkIDAhPT0oYz1hW2ZdKTtmKyspaWYoTChjKSl7aWYoYj1jW04uZXhwYW5kb10pe2lmKGIuZXZlbnRzKWZvcihkIGluIGIuZXZlbnRzKWVbZF0/bi5ldmVudC5yZW1vdmUoYyxkKTpuLnJlbW92ZUV2ZW50KGMsZCxiLmhhbmRsZSk7Y1tOLmV4cGFuZG9dPXZvaWQgMH1jW08uZXhwYW5kb10mJihjW08uZXhwYW5kb109dm9pZCAwKX19fSksbi5mbi5leHRlbmQoe2RvbU1hbmlwOnVhLGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdmEodGhpcyxhLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB2YSh0aGlzLGEpfSx0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWEpfSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXBhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKF8oYSwhMSkpLGEudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmIWxhLnRlc3QoYSkmJiEkWyhZLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoXyhiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihiKXt2YXIgYz10aGlzLnBhcmVudE5vZGU7bi5pbkFycmF5KHRoaXMsYSk8MCYmKG4uY2xlYW5EYXRhKF8odGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxmPWUubGVuZ3RoLTEsaD0wO2Y+PWg7aCsrKWM9aD09PWY/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGcuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHdhLHhhPXtIVE1MOlwiYmxvY2tcIixCT0RZOlwiYmxvY2tcIn07ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sXCJkaXNwbGF5XCIpO3JldHVybiBjLmRldGFjaCgpLGR9ZnVuY3Rpb24gemEoYSl7dmFyIGI9ZCxjPXhhW2FdO3JldHVybiBjfHwoYz15YShhLGIpLFwibm9uZVwiIT09YyYmY3x8KHdhPSh3YXx8bihcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXdhWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9eWEoYSxiKSx3YS5kZXRhY2goKSkseGFbYV09YyksY312YXIgQWE9L15tYXJnaW4vLEJhPW5ldyBSZWdFeHAoXCJeKFwiK1MrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksQ2E9ZnVuY3Rpb24oYil7dmFyIGM9Yi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBjJiZjLm9wZW5lcnx8KGM9YSksYy5nZXRDb21wdXRlZFN0eWxlKGIpfSxEYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sRWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZz1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaD1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoaC5zdHlsZSl7aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsaC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsbC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxnLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O3BhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGcuYXBwZW5kQ2hpbGQoaCk7ZnVuY3Rpb24gaSgpe2guc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJVwiLGguaW5uZXJIVE1MPVwiXCIsRWEuYXBwZW5kQ2hpbGQoZyk7dmFyIGQ9YS5nZXRDb21wdXRlZFN0eWxlKGgpO2I9XCIxJVwiIT09ZC50b3AsZj1cIjJweFwiPT09ZC5tYXJnaW5MZWZ0LGM9XCI0cHhcIj09PWQud2lkdGgsaC5zdHlsZS5tYXJnaW5SaWdodD1cIjUwJVwiLGU9XCI0cHhcIj09PWQubWFyZ2luUmlnaHQsRWEucmVtb3ZlQ2hpbGQoZyl9bi5leHRlbmQobCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBpKCksYn0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGN9LHBpeGVsTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGV9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZpKCksZn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9aC5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9aC5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsaC5zdHlsZS53aWR0aD1cIjFweFwiLEVhLmFwcGVuZENoaWxkKGcpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMpLm1hcmdpblJpZ2h0KSxFYS5yZW1vdmVDaGlsZChnKSxoLnJlbW92ZUNoaWxkKGMpLGJ9fSl9fSgpO2Z1bmN0aW9uIEZhKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8Q2EoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsXCJcIiE9PWcmJnZvaWQgMCE9PWd8fG4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1uLnN0eWxlKGEsYikpLGMmJiFsLnBpeGVsTWFyZ2luUmlnaHQoKSYmQmEudGVzdChnKSYmQWEudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSx2b2lkIDAhPT1nP2crXCJcIjpnfWZ1bmN0aW9uIEdhKGEsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBhKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fXZhciBIYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sSWE9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix2aXNpYmlsaXR5OlwiaGlkZGVuXCIsZGlzcGxheTpcImJsb2NrXCJ9LEphPXtsZXR0ZXJTcGFjaW5nOlwiMFwiLGZvbnRXZWlnaHQ6XCI0MDBcIn0sS2E9W1wiV2Via2l0XCIsXCJPXCIsXCJNb3pcIixcIm1zXCJdLExhPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZTtmdW5jdGlvbiBNYShhKXtpZihhIGluIExhKXJldHVybiBhO3ZhciBiPWFbMF0udG9VcHBlckNhc2UoKSthLnNsaWNlKDEpLGM9S2EubGVuZ3RoO3doaWxlKGMtLSlpZihhPUthW2NdK2IsYSBpbiBMYSlyZXR1cm4gYX1mdW5jdGlvbiBOYShhLGIsYyl7dmFyIGQ9VC5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsyXS0oY3x8MCkpKyhkWzNdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gT2EoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9bi5jc3MoYSxjK1VbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW4uY3NzKGEsXCJwYWRkaW5nXCIrVVtmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1uLmNzcyhhLFwiYm9yZGVyXCIrVVtmXStcIldpZHRoXCIsITAsZSkpKTooZys9bi5jc3MoYSxcInBhZGRpbmdcIitVW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW4uY3NzKGEsXCJib3JkZXJcIitVW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIFBhKGIsYyxlKXt2YXIgZj0hMCxnPVwid2lkdGhcIj09PWM/Yi5vZmZzZXRXaWR0aDpiLm9mZnNldEhlaWdodCxoPUNhKGIpLGk9XCJib3JkZXItYm94XCI9PT1uLmNzcyhiLFwiYm94U2l6aW5nXCIsITEsaCk7aWYoZC5tc0Z1bGxzY3JlZW5FbGVtZW50JiZhLnRvcCE9PWEmJmIuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihnPU1hdGgucm91bmQoMTAwKmIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbY10pKSwwPj1nfHxudWxsPT1nKXtpZihnPUZhKGIsYyxoKSwoMD5nfHxudWxsPT1nKSYmKGc9Yi5zdHlsZVtjXSksQmEudGVzdChnKSlyZXR1cm4gZztmPWkmJihsLmJveFNpemluZ1JlbGlhYmxlKCl8fGc9PT1iLnN0eWxlW2NdKSxnPXBhcnNlRmxvYXQoZyl8fDB9cmV0dXJuIGcrT2EoYixjLGV8fChpP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLGYsaCkrXCJweFwifWZ1bmN0aW9uIFFhKGEsYil7Zm9yKHZhciBjLGQsZSxmPVtdLGc9MCxoPWEubGVuZ3RoO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihmW2ddPU4uZ2V0KGQsXCJvbGRkaXNwbGF5XCIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fFwibm9uZVwiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSxcIlwiPT09ZC5zdHlsZS5kaXNwbGF5JiZWKGQpJiYoZltnXT1OLmFjY2VzcyhkLFwib2xkZGlzcGxheVwiLHphKGQubm9kZU5hbWUpKSkpOihlPVYoZCksXCJub25lXCI9PT1jJiZlfHxOLnNldChkLFwib2xkZGlzcGxheVwiLGU/YzpuLmNzcyhkLFwiZGlzcGxheVwiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiZcIm5vbmVcIiE9PWQuc3R5bGUuZGlzcGxheSYmXCJcIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fFwiXCI6XCJub25lXCIpKTtyZXR1cm4gYX1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPUZhKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1ULmV4ZWMoYykpJiZlWzFdJiYoYz1XKGEsYixlKSxmPVwibnVtYmVyXCIpLG51bGwhPWMmJmM9PT1jJiYoXCJudW1iZXJcIj09PWYmJihjKz1lJiZlWzNdfHwobi5jc3NOdW1iZXJbaF0/XCJcIjpcInB4XCIpKSxsLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PWN8fDAhPT1iLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoaVtiXT1cImluaGVyaXRcIiksZyYmXCJzZXRcImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSl8fChpW2JdPWMpKSx2b2lkIDApfX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihlPUZhKGEsYixkKSksXCJub3JtYWxcIj09PWUmJmIgaW4gSmEmJihlPUphW2JdKSxcIlwiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8aXNGaW5pdGUoZik/Znx8MDplKTplfX0pLG4uZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9IYS50ZXN0KG4uY3NzKGEsXCJkaXNwbGF5XCIpKSYmMD09PWEub2Zmc2V0V2lkdGg/RGEoYSxJYSxmdW5jdGlvbigpe3JldHVybiBQYShhLGIsZCl9KTpQYShhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGY9ZCYmQ2EoYSksZz1kJiZPYShhLGIsZCxcImJvcmRlci1ib3hcIj09PW4uY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9VC5leGVjKGMpKSYmXCJweFwiIT09KGVbM118fFwicHhcIikmJihhLnN0eWxlW2JdPWMsYz1uLmNzcyhhLGIpKSxOYShhLGMsZyl9fX0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1HYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KEZhKGEsXCJtYXJnaW5MZWZ0XCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LURhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIjp2b2lkIDB9KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0PUdhKGwucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP0RhKGEse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0sRmEsW2EsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK1VbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sQWEudGVzdChhKXx8KG4uY3NzSG9va3NbYStiXS5zZXQ9TmEpfSksbi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobi5pc0FycmF5KGIpKXtmb3IoZD1DYShhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1uLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bi5zdHlsZShhLGIsYyk6bi5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gUWEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gUWEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtWKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFJhLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1SYSxSYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlJhLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/XCJcIjpcInB4XCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6UmEucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9UmEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPW4uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxSYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9UmEucHJvdG90eXBlLFJhLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gMSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbCE9YS5lbGVtW2EucHJvcF0mJm51bGw9PWEuZWxlbS5zdHlsZVthLnByb3BdP2EuZWxlbVthLnByb3BdOihiPW4uY3NzKGEuZWxlbSxhLnByb3AsXCJcIiksYiYmXCJhdXRvXCIhPT1iP2I6MCl9LHNldDpmdW5jdGlvbihhKXtuLmZ4LnN0ZXBbYS5wcm9wXT9uLmZ4LnN0ZXBbYS5wcm9wXShhKToxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsPT1hLmVsZW0uc3R5bGVbbi5jc3NQcm9wc1thLnByb3BdXSYmIW4uY3NzSG9va3NbYS5wcm9wXT9hLmVsZW1bYS5wcm9wXT1hLm5vdzpuLnN0eWxlKGEuZWxlbSxhLnByb3AsYS5ub3crYS51bml0KX19fSxSYS5wcm9wSG9va3Muc2Nyb2xsVG9wPVJhLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEuZWxlbVthLnByb3BdPWEubm93KX19LG4uZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29zKGEqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6XCJzd2luZ1wifSxuLmZ4PVJhLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgU2EsVGEsVWE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFZhPS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gV2EoKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7U2E9dm9pZCAwfSksU2E9bi5ub3coKX1mdW5jdGlvbiBYYShhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPVVbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gWWEoYSxiLGMpe2Zvcih2YXIgZCxlPShfYS50d2VlbmVyc1tiXXx8W10pLmNvbmNhdChfYS50d2VlbmVyc1tcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIFphKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcyxtPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJlYoYSkscT1OLmdldChhLFwiZnhzaG93XCIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIGJ8fFwid2lkdGhcImluIGIpJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLFwiZGlzcGxheVwiKSxrPVwibm9uZVwiPT09aj9OLmdldChhLFwib2xkZGlzcGxheVwiKXx8emEoYS5ub2RlTmFtZSk6aixcImlubGluZVwiPT09ayYmXCJub25lXCI9PT1uLmNzcyhhLFwiZmxvYXRcIikmJihvLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihvLm92ZXJmbG93PVwiaGlkZGVuXCIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLFVhLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShwP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKVwiaW5saW5lXCI9PT0oXCJub25lXCI9PT1qP3phKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT9cImhpZGRlblwiaW4gcSYmKHA9cS5oaWRkZW4pOnE9Ti5hY2Nlc3MoYSxcImZ4c2hvd1wiLHt9KSxmJiYocS5oaWRkZW49IXApLHA/bihhKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7bihhKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtOLnJlbW92ZShhLFwiZnhzaG93XCIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9WWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD1cIndpZHRoXCI9PT1kfHxcImhlaWdodFwiPT09ZD8xOjApKX19ZnVuY3Rpb24gJGEoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiZcImV4cGFuZFwiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIF9hKGEsYixjKXt2YXIgZCxlLGY9MCxnPV9hLnByZWZpbHRlcnMubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9U2F8fFdhKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOm4uZWFzaW5nLl9kZWZhdWx0fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6U2F8fFdhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiPyhoLm5vdGlmeVdpdGgoYSxbaiwxLDBdKSxoLnJlc29sdmVXaXRoKGEsW2osYl0pKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKCRhKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1fYS5wcmVmaWx0ZXJzW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gbi5pc0Z1bmN0aW9uKGQuc3RvcCkmJihuLl9xdWV1ZUhvb2tzKGouZWxlbSxqLm9wdHMucXVldWUpLnN0b3A9bi5wcm94eShkLnN0b3AsZCkpLGQ7cmV0dXJuIG4ubWFwKGssWWEsaiksbi5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihuLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChfYSx7dHdlZW5lcnM6e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKTtyZXR1cm4gVyhjLmVsZW0sYSxULmV4ZWMoYiksYyksY31dfSx0d2VlbmVyOmZ1bmN0aW9uKGEsYil7bi5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bXCIqXCJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLF9hLnR3ZWVuZXJzW2NdPV9hLnR3ZWVuZXJzW2NdfHxbXSxfYS50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltaYV0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9fYS5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6X2EucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIGQuZHVyYXRpb24/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW2QuZHVyYXRpb25dOm4uZnguc3BlZWRzLl9kZWZhdWx0LG51bGwhPWQucXVldWUmJmQucXVldWUhPT0hMHx8KGQucXVldWU9XCJmeFwiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihWKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1fYSh0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxOLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9bi50aW1lcnMsZz1OLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZWYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPU4uZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoWGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlhhKFwic2hvd1wiKSxzbGlkZVVwOlhhKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpYYShcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoU2E9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxTYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtUYXx8KFRhPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKFRhKSxUYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8XCJmeFwiLHRoaXMucXVldWUoYyxmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2V0VGltZW91dChjLGIpO2Quc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJUaW1lb3V0KGUpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9ZC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsbC5jaGVja09uPVwiXCIhPT1hLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGwub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsbC5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgYWIsYmI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT9hYjp2b2lkIDApKSx2b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgbi5yZW1vdmVBdHRyKGEsYik6ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjK1wiXCIpLGMpOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1uLmZpbmQuYXR0cihhLGIpLG51bGw9PWQ/dm9pZCAwOmQpKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighbC5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT1iJiZuLm5vZGVOYW1lKGEsXCJpbnB1dFwiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYiksYyYmKGEudmFsdWU9YyksYn19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChHKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW4ucHJvcEZpeFtjXXx8YyxuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9fSksYWI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxuLmVhY2gobi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9YmJbYl18fG4uZmluZC5hdHRyO2JiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj1iYltiXSxiYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsYmJbYl09ZiksZX19KTt2YXIgY2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxkYj0vXig/OmF8YXJlYSkkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiAxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9bi5wcm9wRml4W2JdfHxiLFxuZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiZcInNldFwiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsXCJ0YWJpbmRleFwiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTpjYi50ZXN0KGEubm9kZU5hbWUpfHxkYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifX0pLGwub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksbi5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgZWI9L1tcXHRcXHJcXG5cXGZdL2c7ZnVuY3Rpb24gZmIoYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifW4uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLGZiKHRoaXMpKSl9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPWZiKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGViLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZihcIiBcIitmK1wiIFwiKTwwJiYoZCs9ZitcIiBcIik7aD1uLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixoKX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsZmIodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLFwiXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKFwiIFwiK2UrXCIgXCIpLnJlcGxhY2UoZWIsXCIgXCIpKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKFwiIFwiK2YrXCIgXCIpPi0xKWQ9ZC5yZXBsYWNlKFwiIFwiK2YrXCIgXCIsXCIgXCIpO2g9bi50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsZmIodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZihcInN0cmluZ1wiPT09Yyl7ZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Ugdm9pZCAwIT09YSYmXCJib29sZWFuXCIhPT1jfHwoYj1mYih0aGlzKSxiJiZOLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYnx8YT09PSExP1wiXCI6Ti5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQ9MDtiPVwiIFwiK2ErXCIgXCI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJihcIiBcIitmYihjKStcIiBcIikucmVwbGFjZShlYixcIiBcIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgZ2I9L1xcci9nLGhiPS9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO24uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1uLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgZT9lKz1cIlwiOm4uaXNBcnJheShlKSYmKGU9bi5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmErXCJcIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwic2V0XCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcImdldFwiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSxcInZhbHVlXCIpKT9jOihjPWUudmFsdWUsXCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGdiLFwiXCIpOm51bGw9PWM/XCJcIjpjKX19fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLFwidmFsdWVcIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKGhiLFwiIFwiKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sKGMuc2VsZWN0ZWR8fGk9PT1lKSYmKGwub3B0RGlzYWJsZWQ/IWMuZGlzYWJsZWQ6bnVsbD09PWMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPW4oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1uLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KG4udmFsSG9va3Mub3B0aW9uLmdldChkKSxmKT4tMSkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG4uZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmEudmFsdWV9KX0pO3ZhciBpYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87bi5leHRlbmQobi5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZyxoLGksaixsLG0sbyxwPVtlfHxkXSxxPWsuY2FsbChiLFwidHlwZVwiKT9iLnR5cGU6YixyPWsuY2FsbChiLFwibmFtZXNwYWNlXCIpP2IubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihoPWk9ZT1lfHxkLDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmIWliLnRlc3QocStuLmV2ZW50LnRyaWdnZXJlZCkmJihxLmluZGV4T2YoXCIuXCIpPi0xJiYocj1xLnNwbGl0KFwiLlwiKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksbD1xLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKFwiLlwiKSxiLnJuYW1lc3BhY2U9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Iuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZSksYz1udWxsPT1jP1tiXTpuLm1ha2VBcnJheShjLFtiXSksbz1uLmV2ZW50LnNwZWNpYWxbcV18fHt9LGZ8fCFvLnRyaWdnZXJ8fG8udHJpZ2dlci5hcHBseShlLGMpIT09ITEpKXtpZighZiYmIW8ubm9CdWJibGUmJiFuLmlzV2luZG93KGUpKXtmb3Ioaj1vLmRlbGVnYXRlVHlwZXx8cSxpYi50ZXN0KGorcSl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlwLnB1c2goaCksaT1oO2k9PT0oZS5vd25lckRvY3VtZW50fHxkKSYmcC5wdXNoKGkuZGVmYXVsdFZpZXd8fGkucGFyZW50V2luZG93fHxhKX1nPTA7d2hpbGUoKGg9cFtnKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zz4xP2o6by5iaW5kVHlwZXx8cSxtPShOLmdldChoLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXSYmTi5nZXQoaCxcImhhbmRsZVwiKSxtJiZtLmFwcGx5KGgsYyksbT1sJiZoW2xdLG0mJm0uYXBwbHkmJkwoaCkmJihiLnJlc3VsdD1tLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZnx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFMKGUpfHxsJiZuLmlzRnVuY3Rpb24oZVtxXSkmJiFuLmlzV2luZG93KGUpJiYoaT1lW2xdLGkmJihlW2xdPW51bGwpLG4uZXZlbnQudHJpZ2dlcmVkPXEsZVtxXSgpLG4uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxpJiYoZVtsXT1pKSksYi5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bi5leHRlbmQobmV3IG4uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwfSk7bi5ldmVudC50cmlnZ2VyKGQsbnVsbCxiKSxkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fSksbi5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSksbi5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG4uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxsLmZvY3VzaW49XCJvbmZvY3VzaW5cImluIGEsbC5mb2N1c2lufHxuLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1OLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLE4uYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Ti5hY2Nlc3MoZCxiKS0xO2U/Ti5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxOLnJlbW92ZShkLGIpKX19fSk7dmFyIGpiPWEubG9jYXRpb24sa2I9bi5ub3coKSxsYj0vXFw/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhK1wiXCIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGIpe3ZhciBjO2lmKCFifHxcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7Yz0obmV3IGEuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYixcInRleHQveG1sXCIpfWNhdGNoKGQpe2M9dm9pZCAwfXJldHVybiBjJiYhYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aHx8bi5lcnJvcihcIkludmFsaWQgWE1MOiBcIitiKSxjfTt2YXIgbWI9LyMuKiQvLG5iPS8oWz8mXSlfPVteJl0qLyxvYj0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLHBiPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHFiPS9eKD86R0VUfEhFQUQpJC8scmI9L15cXC9cXC8vLHNiPXt9LHRiPXt9LHViPVwiKi9cIi5jb25jYXQoXCIqXCIpLHZiPWQuY3JlYXRlRWxlbWVudChcImFcIik7dmIuaHJlZj1qYi5ocmVmO2Z1bmN0aW9uIHdiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1iLGI9XCIqXCIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKVwiK1wiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PXRiO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24geWIoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHpiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrXCIgXCIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIEFiKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmpiLmhyZWYsdHlwZTpcIkdFVFwiLGlzTG9jYWw6cGIudGVzdChqYi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6dWIsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDovXFxieG1sXFxiLyxodG1sOi9cXGJodG1sLyxqc29uOi9cXGJqc29uXFxiL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOm4ucGFyc2VKU09OLFwidGV4dCB4bWxcIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj95Yih5YihhLG4uYWpheFNldHRpbmdzKSxiKTp5YihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjp3YihzYiksYWpheFRyYW5zcG9ydDp3Yih0YiksYWpheDpmdW5jdGlvbihiLGMpe1wib2JqZWN0XCI9PXR5cGVvZiBiJiYoYz1iLGI9dm9pZCAwKSxjPWN8fHt9O3ZhciBlLGYsZyxoLGksaixrLGwsbT1uLmFqYXhTZXR1cCh7fSxjKSxvPW0uY29udGV4dHx8bSxwPW0uY29udGV4dCYmKG8ubm9kZVR5cGV8fG8uanF1ZXJ5KT9uKG8pOm4uZXZlbnQscT1uLkRlZmVycmVkKCkscj1uLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHM9bS5zdGF0dXNDb2RlfHx7fSx0PXt9LHU9e30sdj0wLHc9XCJjYW5jZWxlZFwiLHg9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dil7aWYoIWgpe2g9e307d2hpbGUoYj1vYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT12P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdnx8KGE9dVtjXT11W2NdfHxhLHRbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdnx8KG0ubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dilmb3IoYiBpbiBhKXNbYl09W3NbYl0sYVtiXV07ZWxzZSB4LmFsd2F5cyhhW3guc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHc7cmV0dXJuIGUmJmUuYWJvcnQoYikseigwLGIpLHRoaXN9fTtpZihxLnByb21pc2UoeCkuY29tcGxldGU9ci5hZGQseC5zdWNjZXNzPXguZG9uZSx4LmVycm9yPXguZmFpbCxtLnVybD0oKGJ8fG0udXJsfHxqYi5ocmVmKStcIlwiKS5yZXBsYWNlKG1iLFwiXCIpLnJlcGxhY2UocmIsamIucHJvdG9jb2wrXCIvL1wiKSxtLnR5cGU9Yy5tZXRob2R8fGMudHlwZXx8bS5tZXRob2R8fG0udHlwZSxtLmRhdGFUeXBlcz1uLnRyaW0obS5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRyl8fFtcIlwiXSxudWxsPT1tLmNyb3NzRG9tYWluKXtqPWQuY3JlYXRlRWxlbWVudChcImFcIik7dHJ5e2ouaHJlZj1tLnVybCxqLmhyZWY9ai5ocmVmLG0uY3Jvc3NEb21haW49dmIucHJvdG9jb2wrXCIvL1wiK3ZiLmhvc3QhPWoucHJvdG9jb2wrXCIvL1wiK2ouaG9zdH1jYXRjaCh5KXttLmNyb3NzRG9tYWluPSEwfX1pZihtLmRhdGEmJm0ucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBtLmRhdGEmJihtLmRhdGE9bi5wYXJhbShtLmRhdGEsbS50cmFkaXRpb25hbCkpLHhiKHNiLG0sYyx4KSwyPT09dilyZXR1cm4geDtrPW4uZXZlbnQmJm0uZ2xvYmFsLGsmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIiksbS50eXBlPW0udHlwZS50b1VwcGVyQ2FzZSgpLG0uaGFzQ29udGVudD0hcWIudGVzdChtLnR5cGUpLGY9bS51cmwsbS5oYXNDb250ZW50fHwobS5kYXRhJiYoZj1tLnVybCs9KGxiLnRlc3QoZik/XCImXCI6XCI/XCIpK20uZGF0YSxkZWxldGUgbS5kYXRhKSxtLmNhY2hlPT09ITEmJihtLnVybD1uYi50ZXN0KGYpP2YucmVwbGFjZShuYixcIiQxXz1cIitrYisrKTpmKyhsYi50ZXN0KGYpP1wiJlwiOlwiP1wiKStcIl89XCIra2IrKykpLG0uaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLG4ubGFzdE1vZGlmaWVkW2ZdKSxuLmV0YWdbZl0mJnguc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixuLmV0YWdbZl0pKSwobS5kYXRhJiZtLmhhc0NvbnRlbnQmJm0uY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnguc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLG0uY29udGVudFR5cGUpLHguc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLG0uZGF0YVR5cGVzWzBdJiZtLmFjY2VwdHNbbS5kYXRhVHlwZXNbMF1dP20uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09bS5kYXRhVHlwZXNbMF0/XCIsIFwiK3ViK1wiOyBxPTAuMDFcIjpcIlwiKTptLmFjY2VwdHNbXCIqXCJdKTtmb3IobCBpbiBtLmhlYWRlcnMpeC5zZXRSZXF1ZXN0SGVhZGVyKGwsbS5oZWFkZXJzW2xdKTtpZihtLmJlZm9yZVNlbmQmJihtLmJlZm9yZVNlbmQuY2FsbChvLHgsbSk9PT0hMXx8Mj09PXYpKXJldHVybiB4LmFib3J0KCk7dz1cImFib3J0XCI7Zm9yKGwgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0peFtsXShtW2xdKTtpZihlPXhiKHRiLG0sYyx4KSl7aWYoeC5yZWFkeVN0YXRlPTEsayYmcC50cmlnZ2VyKFwiYWpheFNlbmRcIixbeCxtXSksMj09PXYpcmV0dXJuIHg7bS5hc3luYyYmbS50aW1lb3V0PjAmJihpPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3guYWJvcnQoXCJ0aW1lb3V0XCIpfSxtLnRpbWVvdXQpKTt0cnl7dj0xLGUuc2VuZCh0LHopfWNhdGNoKHkpe2lmKCEoMj52KSl0aHJvdyB5O3ooLTEseSl9fWVsc2UgeigtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiB6KGIsYyxkLGgpe3ZhciBqLGwsdCx1LHcseT1jOzIhPT12JiYodj0yLGkmJmEuY2xlYXJUaW1lb3V0KGkpLGU9dm9pZCAwLGc9aHx8XCJcIix4LnJlYWR5U3RhdGU9Yj4wPzQ6MCxqPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHU9emIobSx4LGQpKSx1PUFiKG0sdSx4LGopLGo/KG0uaWZNb2RpZmllZCYmKHc9eC5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG4ubGFzdE1vZGlmaWVkW2ZdPXcpLHc9eC5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKG4uZXRhZ1tmXT13KSksMjA0PT09Ynx8XCJIRUFEXCI9PT1tLnR5cGU/eT1cIm5vY29udGVudFwiOjMwND09PWI/eT1cIm5vdG1vZGlmaWVkXCI6KHk9dS5zdGF0ZSxsPXUuZGF0YSx0PXUuZXJyb3Isaj0hdCkpOih0PXksIWImJnl8fCh5PVwiZXJyb3JcIiwwPmImJihiPTApKSkseC5zdGF0dXM9Yix4LnN0YXR1c1RleHQ9KGN8fHkpK1wiXCIsaj9xLnJlc29sdmVXaXRoKG8sW2wseSx4XSk6cS5yZWplY3RXaXRoKG8sW3gseSx0XSkseC5zdGF0dXNDb2RlKHMpLHM9dm9pZCAwLGsmJnAudHJpZ2dlcihqP1wiYWpheFN1Y2Nlc3NcIjpcImFqYXhFcnJvclwiLFt4LG0saj9sOnRdKSxyLmZpcmVXaXRoKG8sW3gseV0pLGsmJihwLnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbeCxtXSksLS1uLmFjdGl2ZXx8bi5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIikpKX1yZXR1cm4geH0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLFwianNvblwiKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsXCJzY3JpcHRcIil9fSksbi5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk6KHRoaXNbMF0mJihiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1uKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW4uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtuLm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxuLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIW4uZXhwci5maWx0ZXJzLnZpc2libGUoYSl9LG4uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg+MHx8YS5vZmZzZXRIZWlnaHQ+MHx8YS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD4wfTt2YXIgQmI9LyUyMC9nLENiPS9cXFtcXF0kLyxEYj0vXFxyP1xcbi9nLEViPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxGYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gR2IoYSxiLGMsZCl7dmFyIGU7aWYobi5pc0FycmF5KGIpKW4uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8Q2IudGVzdChhKT9kKGEsZSk6R2IoYStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPWU/YjpcIlwiKStcIl1cIixlLGMsZCl9KTtlbHNlIGlmKGN8fFwib2JqZWN0XCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilHYihhK1wiW1wiK2UrXCJdXCIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj9cIlwiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bi5hamF4U2V0dGluZ3MmJm4uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxuLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbi5pc1BsYWluT2JqZWN0KGEpKW4uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpR2IoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIikucmVwbGFjZShCYixcIitcIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/bi5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmRmIudGVzdCh0aGlzLm5vZGVOYW1lKSYmIUViLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFYLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoRGIsXCJcXHJcXG5cIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShEYixcIlxcclxcblwiKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBIYj17MDoyMDAsMTIyMzoyMDR9LEliPW4uYWpheFNldHRpbmdzLnhocigpO2wuY29ycz0hIUliJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gSWIsbC5hamF4PUliPSEhSWIsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIGwuY29yc3x8SWImJiFiLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaD1iLnhocigpO2lmKGgub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpLGIueGhyRmllbGRzKWZvcihnIGluIGIueGhyRmllbGRzKWhbZ109Yi54aHJGaWVsZHNbZ107Yi5taW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSksYi5jcm9zc0RvbWFpbnx8ZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChlW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihnIGluIGUpaC5zZXRSZXF1ZXN0SGVhZGVyKGcsZVtnXSk7Yz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYz1kPWgub25sb2FkPWgub25lcnJvcj1oLm9uYWJvcnQ9aC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxcImFib3J0XCI9PT1hP2guYWJvcnQoKTpcImVycm9yXCI9PT1hP1wibnVtYmVyXCIhPXR5cGVvZiBoLnN0YXR1cz9mKDAsXCJlcnJvclwiKTpmKGguc3RhdHVzLGguc3RhdHVzVGV4dCk6ZihIYltoLnN0YXR1c118fGguc3RhdHVzLGguc3RhdHVzVGV4dCxcInRleHRcIiE9PShoLnJlc3BvbnNlVHlwZXx8XCJ0ZXh0XCIpfHxcInN0cmluZ1wiIT10eXBlb2YgaC5yZXNwb25zZVRleHQ/e2JpbmFyeTpoLnJlc3BvbnNlfTp7dGV4dDpoLnJlc3BvbnNlVGV4dH0saC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0saC5vbmxvYWQ9YygpLGQ9aC5vbmVycm9yPWMoXCJlcnJvclwiKSx2b2lkIDAhPT1oLm9uYWJvcnQ/aC5vbmFib3J0PWQ6aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiZhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiZkKCl9KX0sYz1jKFwiYWJvcnRcIik7dHJ5e2guc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCl9Y2F0Y2goaSl7aWYoYyl0aHJvdyBpfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fTp2b2lkIDB9KSxuLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gbi5nbG9iYWxFdmFsKGEpLGF9fX0pLG4uYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPVwiR0VUXCIpfSksbi5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9bihcIjxzY3JpcHQ+XCIpLnByb3Aoe2NoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKFwibG9hZCBlcnJvclwiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZihcImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksZC5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBKYj1bXSxLYj0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO24uYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUpiLnBvcCgpfHxuLmV4cGFuZG8rXCJfXCIra2IrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoS2IudGVzdChiLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJktiLnRlc3QoYi5kYXRhKSYmXCJkYXRhXCIpO3JldHVybiBofHxcImpzb25wXCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9bi5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoS2IsXCIkMVwiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0obGIudGVzdChiLnVybCk/XCImXCI6XCI/XCIpK2IuanNvbnArXCI9XCIrZSksYi5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlK1wiIHdhcyBub3QgY2FsbGVkXCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPVwianNvblwiLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09Zj9uKGEpLnJlbW92ZVByb3AoZSk6YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEpiLnB1c2goZSkpLGcmJm4uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksXCJzY3JpcHRcIik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHxkO3ZhciBlPXguZXhlYyhhKSxmPSFjJiZbXTtyZXR1cm4gZT9bYi5jcmVhdGVFbGVtZW50KGVbMV0pXTooZT1jYShbYV0sYixmKSxmJiZmLmxlbmd0aCYmbihmKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfTt2YXIgTGI9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJkxiKXJldHVybiBMYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+LTEmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZT1cIlBPU1RcIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fFwiR0VUXCIsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKFwiPGRpdj5cIikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gTWIoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsXCJwb3NpdGlvblwiKSxsPW4oYSksbT17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLFwidG9wXCIpLGk9bi5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJihmK2kpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxuLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsbi5leHRlbmQoe30saCkpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLFwidXNpbmdcImluIGI/Yi51c2luZy5jYWxsKGEsbSk6bC5jc3MobSl9fSxuLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWE/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oYil7bi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO3ZhciBiLGMsZD10aGlzWzBdLGU9e3RvcDowLGxlZnQ6MH0sZj1kJiZkLm93bmVyRG9jdW1lbnQ7aWYoZilyZXR1cm4gYj1mLmRvY3VtZW50RWxlbWVudCxuLmNvbnRhaW5zKGIsZCk/KGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPU1iKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1uLmNzcyhjLFwicG9zaXRpb25cIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG4ubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksZC5sZWZ0Kz1uLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOmIudG9wLWQudG9wLW4uY3NzKGMsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGEmJlwic3RhdGljXCI9PT1uLmNzcyhhLFwicG9zaXRpb25cIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8RWF9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJwYWdlWU9mZnNldFwiPT09YjtuLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmPU1iKGEpO3JldHVybiB2b2lkIDA9PT1lP2Y/ZltiXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/Zi5wYWdlWE9mZnNldDplLGM/ZTpmLnBhZ2VZT2Zmc2V0KTphW2RdPWUpfSxhLGQsYXJndW1lbnRzLmxlbmd0aCl9fSksbi5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09R2EobC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9RmEoYSxiKSxCYS50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXStcInB4XCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2EsY29udGVudDpiLFwiXCI6XCJvdXRlclwiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbXCJzY3JvbGxcIithXSxlW1wic2Nyb2xsXCIrYV0sYi5ib2R5W1wib2Zmc2V0XCIrYV0sZVtcIm9mZnNldFwiK2FdLGVbXCJjbGllbnRcIithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsXCIqKlwiKTp0aGlzLm9mZihiLGF8fFwiKipcIixjKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH19KSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwianF1ZXJ5XCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBOYj1hLmpRdWVyeSxPYj1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1PYiksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9TmIpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOyIsIi8qIVxuICogQm9vdHN0cmFwIHYzLjMuNiAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pXG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG5cbmlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnknKVxufVxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgdmVyc2lvbiA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKVxuICBpZiAoKHZlcnNpb25bMF0gPCAyICYmIHZlcnNpb25bMV0gPCA5KSB8fCAodmVyc2lvblswXSA9PSAxICYmIHZlcnNpb25bMV0gPT0gOSAmJiB2ZXJzaW9uWzJdIDwgMSkgfHwgKHZlcnNpb25bMF0gPiAyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiAzJylcbiAgfVxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjZcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcblxuICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICB9XG5cbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICB2YXIgJGVsID0gdGhpc1xuICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhbGVydC5qcyB2My4zLjZcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSdcbiAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxuICB9XG5cbiAgQWxlcnQuVkVSU0lPTiA9ICczLjMuNidcblxuICBBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmFsZXJ0JylcbiAgICB9XG5cbiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlLmJzLmFsZXJ0JykpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxuICAgIH1cblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkcGFyZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIHJlbW92ZUVsZW1lbnQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjMuNlxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMy42J1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgKz0gJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpXG4gICAgICB9XG4gICAgfSwgdGhpcyksIDApXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWVcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JylcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgaWYgKCRpbnB1dC5wcm9wKCdjaGVja2VkJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH0gZWxzZSBpZiAoJGlucHV0LnByb3AoJ3R5cGUnKSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmICgoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgIT09IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgICRpbnB1dC5wcm9wKCdjaGVja2VkJywgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1wcmVzc2VkJywgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKVxuICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICB9XG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkYnRuID0gJChlLnRhcmdldClcbiAgICAgIGlmICghJGJ0bi5oYXNDbGFzcygnYnRuJykpICRidG4gPSAkYnRuLmNsb3Nlc3QoJy5idG4nKVxuICAgICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgICBpZiAoISgkKGUudGFyZ2V0KS5pcygnaW5wdXRbdHlwZT1cInJhZGlvXCJdJykgfHwgJChlLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfSlcbiAgICAub24oJ2ZvY3VzLmJzLmJ1dHRvbi5kYXRhLWFwaSBibHVyLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5idG4nKS50b2dnbGVDbGFzcygnZm9jdXMnLCAvXmZvY3VzKGluKT8kLy50ZXN0KGUudHlwZSkpXG4gICAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMy42XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLnBhdXNlZCAgICAgID0gbnVsbFxuICAgIHRoaXMuc2xpZGluZyAgICAgPSBudWxsXG4gICAgdGhpcy5pbnRlcnZhbCAgICA9IG51bGxcbiAgICB0aGlzLiRhY3RpdmUgICAgID0gbnVsbFxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgJiYgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcblxuICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmICEoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMy42J1xuXG4gIENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDBcblxuICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICB3cmFwOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuXG4gICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb24gPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCBhY3RpdmUpIHtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChhY3RpdmUpXG4gICAgdmFyIHdpbGxXcmFwID0gKGRpcmVjdGlvbiA9PSAncHJldicgJiYgYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICAgICAgfHwgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgYWN0aXZlSW5kZXggPT0gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpKVxuICAgIGlmICh3aWxsV3JhcCAmJiAhdGhpcy5vcHRpb25zLndyYXApIHJldHVybiBhY3RpdmVcbiAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT0gJ3ByZXYnID8gLTEgOiAxXG4gICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuJGl0ZW1zLmxlbmd0aFxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5lcShpdGVtSW5kZXgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG5cbiAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsIHRoaXMuJGl0ZW1zLmVxKHBvcykpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcblxuICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICB9XG5cbiAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcblxuICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSlcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG5cbiAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgfSwgMClcbiAgICAgICAgfSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfSBlbHNlIHtcbiAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgIH1cblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcblxuICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuXG5cbiAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlLXRvXScsIGNsaWNrSGFuZGxlcilcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjMuNlxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7XG4gICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJHRyaWdnZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy42J1xuXG4gIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzRGF0YVxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLnBhbmVsJykuY2hpbGRyZW4oJy5pbiwgLmNvbGxhcHNpbmcnKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgfSwgdGhpcykpXG4gICAgICAuZW5kKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiAoJGVsZW1lbnQsICR0cmlnZ2VyKSB7XG4gICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG5cbiAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgICR0cmlnZ2VyXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcblxuICAgIHJldHVybiAkKHRhcmdldClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KG9wdGlvbikpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcblxuICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMy42XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4zLjYnXG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgIHZhciAkcGFyZW50ICAgICAgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgIGlmIChlICYmIGUudHlwZSA9PSAnY2xpY2snICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkgJiYgJC5jb250YWlucygkcGFyZW50WzBdLCBlLnRhcmdldCkpIHJldHVyblxuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCQuRXZlbnQoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH0pXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAgIC5hZGRDbGFzcygnZHJvcGRvd24tYmFja2Ryb3AnKVxuICAgICAgICAgIC5pbnNlcnRBZnRlcigkKHRoaXMpKVxuICAgICAgICAgIC5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpc1xuICAgICAgICAudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcigkLkV2ZW50KCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyN3wzMikvLnRlc3QoZS53aGljaCkgfHwgL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSAmJiBlLndoaWNoICE9IDI3IHx8IGlzQWN0aXZlICYmIGUud2hpY2ggPT0gMjcpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpc2FibGVkKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoZS50YXJnZXQpXG5cbiAgICBpZiAoZS53aGljaCA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS53aGljaCA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24tbWVudScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBtb2RhbC5qcyB2My4zLjZcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIE1PREFMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBNb2RhbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zICAgICAgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kZGlhbG9nICAgICAgICAgICAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcubW9kYWwtZGlhbG9nJylcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5pc1Nob3duICAgICAgICAgICAgID0gbnVsbFxuICAgIHRoaXMub3JpZ2luYWxCb2R5UGFkICAgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoICAgICAgPSAwXG4gICAgdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2VcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3RlKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5maW5kKCcubW9kYWwtY29udGVudCcpXG4gICAgICAgIC5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignbG9hZGVkLmJzLm1vZGFsJylcbiAgICAgICAgfSwgdGhpcykpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwuVkVSU0lPTiAgPSAnMy4zLjYnXG5cbiAgTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDMwMFxuICBNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgTW9kYWwuREVGQVVMVFMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmlzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAodGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxuXG4gICAgdGhpcy5jaGVja1Njcm9sbGJhcigpXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5lc2NhcGUoKVxuICAgIHRoaXMucmVzaXplKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy4kZGlhbG9nLm9uKCdtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQub25lKCdtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhhdC4kZWxlbWVudCkpIHRoYXQuaWdub3JlQmFja2Ryb3BDbGljayA9IHRydWVcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJylcblxuICAgICAgaWYgKCF0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpIC8vIGRvbid0IG1vdmUgbW9kYWxzIGRvbSBwb3NpdGlvblxuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5zaG93KClcbiAgICAgICAgLnNjcm9sbFRvcCgwKVxuXG4gICAgICB0aGF0LmFkanVzdERpYWxvZygpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgdGhhdC5lbmZvcmNlRm9jdXMoKVxuXG4gICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICB0cmFuc2l0aW9uID9cbiAgICAgICAgdGhhdC4kZGlhbG9nIC8vIHdhaXQgZm9yIG1vZGFsIHRvIHNsaWRlIGluXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuZXNjYXBlKClcbiAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICAkKGRvY3VtZW50KS5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG4gICAgICAub2ZmKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICAgIC5vZmYoJ21vdXNldXAuZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRkaWFsb2cub2ZmKCdtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KHRoaXMuaGlkZU1vZGFsLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdrZXlkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93bikge1xuICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuYnMubW9kYWwnLCAkLnByb3h5KHRoaXMuaGFuZGxlVXBkYXRlLCB0aGlzKSlcbiAgICB9IGVsc2Uge1xuICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJylcbiAgICAgIHRoYXQucmVzZXRBZGp1c3RtZW50cygpXG4gICAgICB0aGF0LnJlc2V0U2Nyb2xsYmFyKClcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm1vZGFsJylcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJhY2tkcm9wICYmIHRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpXG4gICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/ICdmYWRlJyA6ICcnXG5cbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgdmFyIGRvQW5pbWF0ZSA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIGFuaW1hdGVcblxuICAgICAgdGhpcy4kYmFja2Ryb3AgPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAuYWRkQ2xhc3MoJ21vZGFsLWJhY2tkcm9wICcgKyBhbmltYXRlKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy4kYm9keSlcblxuICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlQmFja2Ryb3BDbGljaykge1xuICAgICAgICAgIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVyblxuICAgICAgICB0aGlzLm9wdGlvbnMuYmFja2Ryb3AgPT0gJ3N0YXRpYydcbiAgICAgICAgICA/IHRoaXMuJGVsZW1lbnRbMF0uZm9jdXMoKVxuICAgICAgICAgIDogdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuXG4gICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuXG5cbiAgICAgIGRvQW5pbWF0ZSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2spXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY2FsbGJhY2soKVxuXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7XG4gICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQucmVtb3ZlQmFja2Ryb3AoKVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrUmVtb3ZlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICAvLyB0aGVzZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG5cbiAgTW9kYWwucHJvdG90eXBlLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFkanVzdERpYWxvZygpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYWRqdXN0RGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb2RhbElzT3ZlcmZsb3dpbmcgPSB0aGlzLiRlbGVtZW50WzBdLnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAgIXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmICFtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJydcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgcGFkZGluZ0xlZnQ6ICcnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiAnJ1xuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZ1bGxXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgaWYgKCFmdWxsV2luZG93V2lkdGgpIHsgLy8gd29ya2Fyb3VuZCBmb3IgbWlzc2luZyB3aW5kb3cuaW5uZXJXaWR0aCBpbiBJRThcbiAgICAgIHZhciBkb2N1bWVudEVsZW1lbnRSZWN0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBmdWxsV2luZG93V2lkdGggPSBkb2N1bWVudEVsZW1lbnRSZWN0LnJpZ2h0IC0gTWF0aC5hYnMoZG9jdW1lbnRFbGVtZW50UmVjdC5sZWZ0KVxuICAgIH1cbiAgICB0aGlzLmJvZHlJc092ZXJmbG93aW5nID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IGZ1bGxXaW5kb3dXaWR0aFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLm1lYXN1cmVTY3JvbGxiYXIoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYm9keVBhZCA9IHBhcnNlSW50KCh0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcpIHx8IDApLCAxMClcbiAgICB0aGlzLm9yaWdpbmFsQm9keVBhZCA9IGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0IHx8ICcnXG4gICAgaWYgKHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcpIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZCArIHRoaXMuc2Nyb2xsYmFyV2lkdGgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCB0aGlzLm9yaWdpbmFsQm9keVBhZClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkgeyAvLyB0aHggd2Fsc2hcbiAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJ1xuICAgIHRoaXMuJGJvZHkuYXBwZW5kKHNjcm9sbERpdilcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcbiAgICB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKHNjcm9sbERpdilcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGhcbiAgfVxuXG5cbiAgLy8gTU9EQUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIE1vZGFsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLm1vZGFsJywgKGRhdGEgPSBuZXcgTW9kYWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc2hvdykgZGF0YS5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5tb2RhbFxuXG4gICQuZm4ubW9kYWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXG5cblxuICAvLyBNT0RBTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLm1vZGFsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gTU9EQUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciBocmVmICAgID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyIG9wdGlvbiAgPSAkdGFyZ2V0LmRhdGEoJ2JzLm1vZGFsJykgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHsgcmVtb3RlOiAhLyMvLnRlc3QoaHJlZikgJiYgaHJlZiB9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuXG4gICAgaWYgKCR0aGlzLmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgJHRhcmdldC5vbmUoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgJHRhcmdldC5vbmUoJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHRoaXMuaXMoJzp2aXNpYmxlJykgJiYgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfSlcbiAgICB9KVxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbiwgdGhpcylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4zLjZcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID0gbnVsbFxuICAgIHRoaXMub3B0aW9ucyAgICA9IG51bGxcbiAgICB0aGlzLmVuYWJsZWQgICAgPSBudWxsXG4gICAgdGhpcy50aW1lb3V0ICAgID0gbnVsbFxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG4gICAgdGhpcy5pblN0YXRlICAgID0gbnVsbFxuXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4zLjYnXG5cbiAgVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVG9vbHRpcC5ERUZBVUxUUyA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICB2aWV3cG9ydDoge1xuICAgICAgc2VsZWN0b3I6ICdib2R5JyxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICB0aGlzLnR5cGUgICAgICA9IHR5cGVcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuJHZpZXdwb3J0ID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmICQoJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCkgPyB0aGlzLm9wdGlvbnMudmlld3BvcnQuY2FsbCh0aGlzLCB0aGlzLiRlbGVtZW50KSA6ICh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KSlcbiAgICB0aGlzLmluU3RhdGUgICA9IHsgY2xpY2s6IGZhbHNlLCBob3ZlcjogZmFsc2UsIGZvY3VzOiBmYWxzZSB9XG5cbiAgICBpZiAodGhpcy4kZWxlbWVudFswXSBpbnN0YW5jZW9mIGRvY3VtZW50LmNvbnN0cnVjdG9yICYmICF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHNlbGVjdG9yYCBvcHRpb24gbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiBpbml0aWFsaXppbmcgJyArIHRoaXMudHlwZSArICcgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhJylcbiAgICB9XG5cbiAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICBmb3IgKHZhciBpID0gdHJpZ2dlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHRyaWdnZXJzW2ldXG5cbiAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSlcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xuICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2ZvY3Vzb3V0J1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiAgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmVudGVyLCB0aGlzKSlcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAodGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHsgdHJpZ2dlcjogJ21hbnVhbCcsIHNlbGVjdG9yOiAnJyB9KSkgOlxuICAgICAgdGhpcy5maXhUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmdldERlZmF1bHRzKCksIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMuZGVsYXkgPSB7XG4gICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXG5cbiAgICB0aGlzLl9vcHRpb25zICYmICQuZWFjaCh0aGlzLl9vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgJC5FdmVudCkge1xuICAgICAgc2VsZi5pblN0YXRlW29iai50eXBlID09ICdmb2N1c2luJyA/ICdmb2N1cycgOiAnaG92ZXInXSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSB8fCBzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykge1xuICAgICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmlzSW5TdGF0ZVRydWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5TdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuaW5TdGF0ZVtrZXldKSByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mICQuRXZlbnQpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZVtvYmoudHlwZSA9PSAnZm9jdXNvdXQnID8gJ2ZvY3VzJyA6ICdob3ZlciddID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHJldHVyblxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3cuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICB2YXIgaW5Eb20gPSAkLmNvbnRhaW5zKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignaW5zZXJ0ZWQuYnMuJyArIHRoaXMudHlwZSlcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyIHZpZXdwb3J0RGltID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLmJvdHRvbSArIGFjdHVhbEhlaWdodCA+IHZpZXdwb3J0RGltLmJvdHRvbSA/ICd0b3AnICAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAgLSBhY3R1YWxIZWlnaHQgPCB2aWV3cG9ydERpbS50b3AgICAgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgICsgYWN0dWFsV2lkdGggID4gdmlld3BvcnREaW0ud2lkdGggID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgICAtIGFjdHVhbFdpZHRoICA8IHZpZXdwb3J0RGltLmxlZnQgICA/ICdyaWdodCcgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGN1bGF0ZWRPZmZzZXQgPSB0aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2SG92ZXJTdGF0ZSA9IHRoYXQuaG92ZXJTdGF0ZVxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgICAgICBpZiAocHJldkhvdmVyU3RhdGUgPT0gJ291dCcpIHRoYXQubGVhdmUodGhhdClcbiAgICAgIH1cblxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICAkdGlwXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjb21wbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQgPSBmdW5jdGlvbiAob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgIHZhciB3aWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLXRvcCcpLCAxMClcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcblxuICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxuICAgIGlmIChpc05hTihtYXJnaW5MZWZ0KSkgbWFyZ2luTGVmdCA9IDBcblxuICAgIG9mZnNldC50b3AgICs9IG1hcmdpblRvcFxuICAgIG9mZnNldC5sZWZ0ICs9IG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBpc1ZlcnRpY2FsICAgICAgICAgID0gL3RvcHxib3R0b20vLnRlc3QocGxhY2VtZW50KVxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gaXNWZXJ0aWNhbCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGlzVmVydGljYWwgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBpc1ZlcnRpY2FsKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIGlzVmVydGljYWwpIHtcbiAgICB0aGlzLmFycm93KClcbiAgICAgIC5jc3MoaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnLCA1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9ICQodGhpcy4kdGlwKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpICE9ICdzdHJpbmcnKSB7XG4gICAgICAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJGUuYXR0cigndGl0bGUnKSB8fCAnJykuYXR0cigndGl0bGUnLCAnJylcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCRlbGVtZW50KSB7XG4gICAgJGVsZW1lbnQgICA9ICRlbGVtZW50IHx8IHRoaXMuJGVsZW1lbnRcblxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuXG4gICAgdmFyIGVsUmVjdCAgICA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgaWYgKGVsUmVjdC53aWR0aCA9PSBudWxsKSB7XG4gICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBtaXNzaW5nIGluIElFOCwgc28gY29tcHV0ZSB0aGVtIG1hbnVhbGx5OyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2lzc3Vlcy8xNDA5M1xuICAgICAgZWxSZWN0ID0gJC5leHRlbmQoe30sIGVsUmVjdCwgeyB3aWR0aDogZWxSZWN0LnJpZ2h0IC0gZWxSZWN0LmxlZnQsIGhlaWdodDogZWxSZWN0LmJvdHRvbSAtIGVsUmVjdC50b3AgfSlcbiAgICB9XG4gICAgdmFyIGVsT2Zmc2V0ICA9IGlzQm9keSA/IHsgdG9wOiAwLCBsZWZ0OiAwIH0gOiAkZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciBzY3JvbGwgICAgPSB7IHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpIH1cbiAgICB2YXIgb3V0ZXJEaW1zID0gaXNCb2R5ID8geyB3aWR0aDogJCh3aW5kb3cpLndpZHRoKCksIGhlaWdodDogJCh3aW5kb3cpLmhlaWdodCgpIH0gOiBudWxsXG5cbiAgICByZXR1cm4gJC5leHRlbmQoe30sIGVsUmVjdCwgc2Nyb2xsLCBvdXRlckRpbXMsIGVsT2Zmc2V0KVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldCA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHJldHVybiBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsICAgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgLSBhY3R1YWxXaWR0aCB9IDpcbiAgICAgICAgLyogcGxhY2VtZW50ID09ICdyaWdodCcgKi8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy5yaWdodCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiR0aXApIHtcbiAgICAgIHRoaXMuJHRpcCA9ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKVxuICAgICAgaWYgKHRoaXMuJHRpcC5sZW5ndGggIT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy50eXBlICsgJyBgdGVtcGxhdGVgIG9wdGlvbiBtdXN0IGNvbnNpc3Qgb2YgZXhhY3RseSAxIHRvcC1sZXZlbCBlbGVtZW50IScpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiR0aXBcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy50b29sdGlwLWFycm93JykpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIGlmIChlKSB7XG4gICAgICBzZWxmID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZS5jbGljayA9ICFzZWxmLmluU3RhdGUuY2xpY2tcbiAgICAgIGlmIChzZWxmLmlzSW5TdGF0ZVRydWUoKSkgc2VsZi5lbnRlcihzZWxmKVxuICAgICAgZWxzZSBzZWxmLmxlYXZlKHNlbGYpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dClcbiAgICB0aGlzLmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC5vZmYoJy4nICsgdGhhdC50eXBlKS5yZW1vdmVEYXRhKCdicy4nICsgdGhhdC50eXBlKVxuICAgICAgaWYgKHRoYXQuJHRpcCkge1xuICAgICAgICB0aGF0LiR0aXAuZGV0YWNoKClcbiAgICAgIH1cbiAgICAgIHRoYXQuJHRpcCA9IG51bGxcbiAgICAgIHRoYXQuJGFycm93ID0gbnVsbFxuICAgICAgdGhhdC4kdmlld3BvcnQgPSBudWxsXG4gICAgfSlcbiAgfVxuXG5cbiAgLy8gVE9PTFRJUCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgL2Rlc3Ryb3l8aGlkZS8udGVzdChvcHRpb24pKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcsIChkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRvb2x0aXBcblxuICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcFxuXG5cbiAgLy8gVE9PTFRJUCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi50b29sdGlwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50b29sdGlwID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjMuNlxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jcG9wb3ZlcnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXG5cbiAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjMuNidcblxuICBQb3BvdmVyLkRFRkFVTFRTID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUywge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nXG4gIH0pXG5cblxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb3BvdmVyXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlICAgPSB0aGlzLmdldFRpdGxlKClcbiAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpXG5cbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItY29udGVudCcpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbIC8vIHdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXG4gICAgXShjb250ZW50KVxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxuXG4gICAgLy8gSUU4IGRvZXNuJ3QgYWNjZXB0IGhpZGluZyB2aWEgdGhlIGA6ZW1wdHlgIHBzZXVkbyBzZWxlY3Rvciwgd2UgaGF2ZSB0byBkb1xuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgIGlmICghJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmh0bWwoKSkgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmhpZGUoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOlxuICAgICAgICAgICAgby5jb250ZW50KVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gIH1cblxuXG4gIC8vIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIC9kZXN0cm95fGhpZGUvLnRlc3Qob3B0aW9uKSkgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInLCAoZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuXG4gIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjMuNlxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICQoZWxlbWVudCkuaXMoZG9jdW1lbnQuYm9keSkgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKSlcbiAgICB0aGlzLnJlZnJlc2goKVxuICAgIHRoaXMucHJvY2VzcygpXG4gIH1cblxuICBTY3JvbGxTcHkuVkVSU0lPTiAgPSAnMy4zLjYnXG5cbiAgU2Nyb2xsU3B5LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMTBcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodClcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgICA9IHRoaXNcbiAgICB2YXIgb2Zmc2V0TWV0aG9kICA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICAgPSAwXG5cbiAgICB0aGlzLm9mZnNldHMgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgPSBbXVxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuXG4gICAgaWYgKCEkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pKSB7XG4gICAgICBvZmZzZXRNZXRob2QgPSAncG9zaXRpb24nXG4gICAgICBvZmZzZXRCYXNlICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpXG4gICAgfVxuXG4gICAgdGhpcy4kYm9keVxuICAgICAgLmZpbmQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBocmVmICA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpXG4gICAgICAgIHZhciAkaHJlZiA9IC9eIy4vLnRlc3QoaHJlZikgJiYgJChocmVmKVxuXG4gICAgICAgIHJldHVybiAoJGhyZWZcbiAgICAgICAgICAmJiAkaHJlZi5sZW5ndGhcbiAgICAgICAgICAmJiAkaHJlZi5pcygnOnZpc2libGUnKVxuICAgICAgICAgICYmIFtbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIGhyZWZdXSkgfHwgbnVsbFxuICAgICAgfSlcbiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXSB9KVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0Lm9mZnNldHMucHVzaCh0aGlzWzBdKVxuICAgICAgICB0aGF0LnRhcmdldHMucHVzaCh0aGlzWzFdKVxuICAgICAgfSlcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxuICAgIHZhciBvZmZzZXRzICAgICAgPSB0aGlzLm9mZnNldHNcbiAgICB2YXIgdGFyZ2V0cyAgICAgID0gdGhpcy50YXJnZXRzXG4gICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XG4gICAgdmFyIGlcblxuICAgIGlmICh0aGlzLnNjcm9sbEhlaWdodCAhPSBzY3JvbGxIZWlnaHQpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzW3RhcmdldHMubGVuZ3RoIC0gMV0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlVGFyZ2V0ICYmIHNjcm9sbFRvcCA8IG9mZnNldHNbMF0pIHtcbiAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gbnVsbFxuICAgICAgcmV0dXJuIHRoaXMuY2xlYXIoKVxuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICBhY3RpdmVUYXJnZXQgIT0gdGFyZ2V0c1tpXVxuICAgICAgICAmJiBzY3JvbGxUb3AgPj0gb2Zmc2V0c1tpXVxuICAgICAgICAmJiAob2Zmc2V0c1tpICsgMV0gPT09IHVuZGVmaW5lZCB8fCBzY3JvbGxUb3AgPCBvZmZzZXRzW2kgKyAxXSlcbiAgICAgICAgJiYgdGhpcy5hY3RpdmF0ZSh0YXJnZXRzW2ldKVxuICAgIH1cbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgPSB0YXJnZXRcblxuICAgIHRoaXMuY2xlYXIoKVxuXG4gICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciArXG4gICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPVwiJyArIHRhcmdldCArICdcIl0nXG5cbiAgICB2YXIgYWN0aXZlID0gJChzZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzKCdsaScpXG4gICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZSA9IGFjdGl2ZVxuICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgYWN0aXZlLnRyaWdnZXIoJ2FjdGl2YXRlLmJzLnNjcm9sbHNweScpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwgJy5hY3RpdmUnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JywgKGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5zY3JvbGxzcHlcblxuICAkLmZuLnNjcm9sbHNweSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3RvciA9IFNjcm9sbFNweVxuXG5cbiAgLy8gU0NST0xMU1BZIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5zY3JvbGxzcHkgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaScsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdGFiLmpzIHYzLjMuNlxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRBQiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgLy8ganNjczpkaXNhYmxlIHJlcXVpcmVEb2xsYXJCZWZvcmVqUXVlcnlBc3NpZ25tZW50XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KVxuICAgIC8vIGpzY3M6ZW5hYmxlIHJlcXVpcmVEb2xsYXJCZWZvcmVqUXVlcnlBc3NpZ25tZW50XG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjMuNidcblxuICBUYWIuVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIFRhYi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcbiAgICB2YXIgJHVsICAgICAgPSAkdGhpcy5jbG9zZXN0KCd1bDpub3QoLmRyb3Bkb3duLW1lbnUpJylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5kYXRhKCd0YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICBpZiAoJHRoaXMucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylcbiAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkdGhpc1swXVxuICAgIH0pXG4gICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogJHByZXZpb3VzWzBdXG4gICAgfSlcblxuICAgICRwcmV2aW91cy50cmlnZ2VyKGhpZGVFdmVudClcbiAgICAkdGhpcy50cmlnZ2VyKHNob3dFdmVudClcblxuICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHByZXZpb3VzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnaGlkZGVuLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgICB9KVxuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFRhYi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIHZhciAkYWN0aXZlICAgID0gY29udGFpbmVyLmZpbmQoJz4gLmFjdGl2ZScpXG4gICAgdmFyIHRyYW5zaXRpb24gPSBjYWxsYmFja1xuICAgICAgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb25cbiAgICAgICYmICgkYWN0aXZlLmxlbmd0aCAmJiAkYWN0aXZlLmhhc0NsYXNzKCdmYWRlJykgfHwgISFjb250YWluZXIuZmluZCgnPiAuZmFkZScpLmxlbmd0aClcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJz4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlJylcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpXG4gICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvblxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdmYWRlJylcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50XG4gICAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgICRhY3RpdmUubGVuZ3RoICYmIHRyYW5zaXRpb24gP1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBuZXh0KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVGFiLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIG5leHQoKVxuXG4gICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKVxuICB9XG5cblxuICAvLyBUQUIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxuXG4gICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXG5cblxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRhYiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFRBQiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgY2xpY2tIYW5kbGVyKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhZmZpeC5qcyB2My4zLjZcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FmZml4XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUZGSVggQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEFmZml4ID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWZmaXguREVGQVVMVFMsIG9wdGlvbnMpXG5cbiAgICB0aGlzLiR0YXJnZXQgPSAkKHRoaXMub3B0aW9ucy50YXJnZXQpXG4gICAgICAub24oJ3Njcm9sbC5icy5hZmZpeC5kYXRhLWFwaScsICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSlcbiAgICAgIC5vbignY2xpY2suYnMuYWZmaXguZGF0YS1hcGknLCAgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLCB0aGlzKSlcblxuICAgIHRoaXMuJGVsZW1lbnQgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuYWZmaXhlZCAgICAgID0gbnVsbFxuICAgIHRoaXMudW5waW4gICAgICAgID0gbnVsbFxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMy42J1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoc2Nyb2xsSGVpZ2h0LCBoZWlnaHQsIG9mZnNldFRvcCwgb2Zmc2V0Qm90dG9tKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgICAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgdmFyIHRhcmdldEhlaWdodCA9IHRoaXMuJHRhcmdldC5oZWlnaHQoKVxuXG4gICAgaWYgKG9mZnNldFRvcCAhPSBudWxsICYmIHRoaXMuYWZmaXhlZCA9PSAndG9wJykgcmV0dXJuIHNjcm9sbFRvcCA8IG9mZnNldFRvcCA/ICd0b3AnIDogZmFsc2VcblxuICAgIGlmICh0aGlzLmFmZml4ZWQgPT0gJ2JvdHRvbScpIHtcbiAgICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCkgcmV0dXJuIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6ICdib3R0b20nXG4gICAgICByZXR1cm4gKHNjcm9sbFRvcCArIHRhcmdldEhlaWdodCA8PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pID8gZmFsc2UgOiAnYm90dG9tJ1xuICAgIH1cblxuICAgIHZhciBpbml0aWFsaXppbmcgICA9IHRoaXMuYWZmaXhlZCA9PSBudWxsXG4gICAgdmFyIGNvbGxpZGVyVG9wICAgID0gaW5pdGlhbGl6aW5nID8gc2Nyb2xsVG9wIDogcG9zaXRpb24udG9wXG4gICAgdmFyIGNvbGxpZGVySGVpZ2h0ID0gaW5pdGlhbGl6aW5nID8gdGFyZ2V0SGVpZ2h0IDogaGVpZ2h0XG5cbiAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwgJiYgc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgcmV0dXJuICd0b3AnXG4gICAgaWYgKG9mZnNldEJvdHRvbSAhPSBudWxsICYmIChjb2xsaWRlclRvcCArIGNvbGxpZGVySGVpZ2h0ID49IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkpIHJldHVybiAnYm90dG9tJ1xuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBoZWlnaHQgICAgICAgPSB0aGlzLiRlbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldCAgICAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcFxuICAgIHZhciBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tXG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IE1hdGgubWF4KCQoZG9jdW1lbnQpLmhlaWdodCgpLCAkKGRvY3VtZW50LmJvZHkpLmhlaWdodCgpKVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMuZ2V0U3RhdGUoc2Nyb2xsSGVpZ2h0LCBoZWlnaHQsIG9mZnNldFRvcCwgb2Zmc2V0Qm90dG9tKVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCAhPSBhZmZpeCkge1xuICAgICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgICB2YXIgYWZmaXhUeXBlID0gJ2FmZml4JyArIChhZmZpeCA/ICctJyArIGFmZml4IDogJycpXG4gICAgICB2YXIgZSAgICAgICAgID0gJC5FdmVudChhZmZpeFR5cGUgKyAnLmJzLmFmZml4JylcblxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgdGhpcy5hZmZpeGVkID0gYWZmaXhcbiAgICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKVxuICAgICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgICAudHJpZ2dlcihhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpICsgJy5icy5hZmZpeCcpXG4gICAgfVxuXG4gICAgaWYgKGFmZml4ID09ICdib3R0b20nKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZnNldCh7XG4gICAgICAgIHRvcDogc2Nyb2xsSGVpZ2h0IC0gaGVpZ2h0IC0gb2Zmc2V0Qm90dG9tXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQUZGSVggUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYWZmaXgnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFmZml4JywgKGRhdGEgPSBuZXcgQWZmaXgodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFmZml4XG5cbiAgJC5mbi5hZmZpeCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFmZml4LkNvbnN0cnVjdG9yID0gQWZmaXhcblxuXG4gIC8vIEFGRklYIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hZmZpeC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWZmaXggPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBRkZJWCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSA9ICRzcHkuZGF0YSgpXG5cbiAgICAgIGRhdGEub2Zmc2V0ID0gZGF0YS5vZmZzZXQgfHwge31cblxuICAgICAgaWYgKGRhdGEub2Zmc2V0Qm90dG9tICE9IG51bGwpIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3AgICAgIT0gbnVsbCkgZGF0YS5vZmZzZXQudG9wICAgID0gZGF0YS5vZmZzZXRUb3BcblxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgZGF0YSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiBOUHJvZ3Jlc3MsIChjKSAyMDEzLCAyMDE0IFJpY28gU3RhLiBDcnV6IC0gaHR0cDovL3JpY29zdGFjcnV6LmNvbS9ucHJvZ3Jlc3NcbiAqIEBsaWNlbnNlIE1JVCAqL1xuXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuTlByb2dyZXNzID0gZmFjdG9yeSgpO1xuICB9XG5cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xuICB2YXIgTlByb2dyZXNzID0ge307XG5cbiAgTlByb2dyZXNzLnZlcnNpb24gPSAnMC4yLjAnO1xuXG4gIHZhciBTZXR0aW5ncyA9IE5Qcm9ncmVzcy5zZXR0aW5ncyA9IHtcbiAgICBtaW5pbXVtOiAwLjA4LFxuICAgIGVhc2luZzogJ2Vhc2UnLFxuICAgIHBvc2l0aW9uVXNpbmc6ICcnLFxuICAgIHNwZWVkOiAyMDAsXG4gICAgdHJpY2tsZTogdHJ1ZSxcbiAgICB0cmlja2xlUmF0ZTogMC4wMixcbiAgICB0cmlja2xlU3BlZWQ6IDgwMCxcbiAgICBzaG93U3Bpbm5lcjogdHJ1ZSxcbiAgICBiYXJTZWxlY3RvcjogJ1tyb2xlPVwiYmFyXCJdJyxcbiAgICBzcGlubmVyU2VsZWN0b3I6ICdbcm9sZT1cInNwaW5uZXJcIl0nLFxuICAgIHBhcmVudDogJ2JvZHknLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImJhclwiIHJvbGU9XCJiYXJcIj48ZGl2IGNsYXNzPVwicGVnXCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInNwaW5uZXJcIiByb2xlPVwic3Bpbm5lclwiPjxkaXYgY2xhc3M9XCJzcGlubmVyLWljb25cIj48L2Rpdj48L2Rpdj4nXG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogICAgIE5Qcm9ncmVzcy5jb25maWd1cmUoe1xuICAgKiAgICAgICBtaW5pbXVtOiAwLjFcbiAgICogICAgIH0pO1xuICAgKi9cbiAgTlByb2dyZXNzLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIga2V5LCB2YWx1ZTtcbiAgICBmb3IgKGtleSBpbiBvcHRpb25zKSB7XG4gICAgICB2YWx1ZSA9IG9wdGlvbnNba2V5XTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkgU2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMYXN0IG51bWJlci5cbiAgICovXG5cbiAgTlByb2dyZXNzLnN0YXR1cyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHByb2dyZXNzIGJhciBzdGF0dXMsIHdoZXJlIGBuYCBpcyBhIG51bWJlciBmcm9tIGAwLjBgIHRvIGAxLjBgLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLnNldCgwLjQpO1xuICAgKiAgICAgTlByb2dyZXNzLnNldCgxLjApO1xuICAgKi9cblxuICBOUHJvZ3Jlc3Muc2V0ID0gZnVuY3Rpb24obikge1xuICAgIHZhciBzdGFydGVkID0gTlByb2dyZXNzLmlzU3RhcnRlZCgpO1xuXG4gICAgbiA9IGNsYW1wKG4sIFNldHRpbmdzLm1pbmltdW0sIDEpO1xuICAgIE5Qcm9ncmVzcy5zdGF0dXMgPSAobiA9PT0gMSA/IG51bGwgOiBuKTtcblxuICAgIHZhciBwcm9ncmVzcyA9IE5Qcm9ncmVzcy5yZW5kZXIoIXN0YXJ0ZWQpLFxuICAgICAgICBiYXIgICAgICA9IHByb2dyZXNzLnF1ZXJ5U2VsZWN0b3IoU2V0dGluZ3MuYmFyU2VsZWN0b3IpLFxuICAgICAgICBzcGVlZCAgICA9IFNldHRpbmdzLnNwZWVkLFxuICAgICAgICBlYXNlICAgICA9IFNldHRpbmdzLmVhc2luZztcblxuICAgIHByb2dyZXNzLm9mZnNldFdpZHRoOyAvKiBSZXBhaW50ICovXG5cbiAgICBxdWV1ZShmdW5jdGlvbihuZXh0KSB7XG4gICAgICAvLyBTZXQgcG9zaXRpb25Vc2luZyBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIHNldFxuICAgICAgaWYgKFNldHRpbmdzLnBvc2l0aW9uVXNpbmcgPT09ICcnKSBTZXR0aW5ncy5wb3NpdGlvblVzaW5nID0gTlByb2dyZXNzLmdldFBvc2l0aW9uaW5nQ1NTKCk7XG5cbiAgICAgIC8vIEFkZCB0cmFuc2l0aW9uXG4gICAgICBjc3MoYmFyLCBiYXJQb3NpdGlvbkNTUyhuLCBzcGVlZCwgZWFzZSkpO1xuXG4gICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAvLyBGYWRlIG91dFxuICAgICAgICBjc3MocHJvZ3Jlc3MsIHsgXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLCBcbiAgICAgICAgICBvcGFjaXR5OiAxIFxuICAgICAgICB9KTtcbiAgICAgICAgcHJvZ3Jlc3Mub2Zmc2V0V2lkdGg7IC8qIFJlcGFpbnQgKi9cblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNzcyhwcm9ncmVzcywgeyBcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgJyArIHNwZWVkICsgJ21zIGxpbmVhcicsIFxuICAgICAgICAgICAgb3BhY2l0eTogMCBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgTlByb2dyZXNzLnJlbW92ZSgpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgIH0sIHNwZWVkKTtcbiAgICAgICAgfSwgc3BlZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChuZXh0LCBzcGVlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBOUHJvZ3Jlc3MuaXNTdGFydGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBOUHJvZ3Jlc3Muc3RhdHVzID09PSAnbnVtYmVyJztcbiAgfTtcblxuICAvKipcbiAgICogU2hvd3MgdGhlIHByb2dyZXNzIGJhci5cbiAgICogVGhpcyBpcyB0aGUgc2FtZSBhcyBzZXR0aW5nIHRoZSBzdGF0dXMgdG8gMCUsIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgZ28gYmFja3dhcmRzLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLnN0YXJ0KCk7XG4gICAqXG4gICAqL1xuICBOUHJvZ3Jlc3Muc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIU5Qcm9ncmVzcy5zdGF0dXMpIE5Qcm9ncmVzcy5zZXQoMCk7XG5cbiAgICB2YXIgd29yayA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFOUHJvZ3Jlc3Muc3RhdHVzKSByZXR1cm47XG4gICAgICAgIE5Qcm9ncmVzcy50cmlja2xlKCk7XG4gICAgICAgIHdvcmsoKTtcbiAgICAgIH0sIFNldHRpbmdzLnRyaWNrbGVTcGVlZCk7XG4gICAgfTtcblxuICAgIGlmIChTZXR0aW5ncy50cmlja2xlKSB3b3JrKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogSGlkZXMgdGhlIHByb2dyZXNzIGJhci5cbiAgICogVGhpcyBpcyB0aGUgKnNvcnQgb2YqIHRoZSBzYW1lIGFzIHNldHRpbmcgdGhlIHN0YXR1cyB0byAxMDAlLCB3aXRoIHRoZVxuICAgKiBkaWZmZXJlbmNlIGJlaW5nIGBkb25lKClgIG1ha2VzIHNvbWUgcGxhY2VibyBlZmZlY3Qgb2Ygc29tZSByZWFsaXN0aWMgbW90aW9uLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLmRvbmUoKTtcbiAgICpcbiAgICogSWYgYHRydWVgIGlzIHBhc3NlZCwgaXQgd2lsbCBzaG93IHRoZSBwcm9ncmVzcyBiYXIgZXZlbiBpZiBpdHMgaGlkZGVuLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLmRvbmUodHJ1ZSk7XG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5kb25lID0gZnVuY3Rpb24oZm9yY2UpIHtcbiAgICBpZiAoIWZvcmNlICYmICFOUHJvZ3Jlc3Muc3RhdHVzKSByZXR1cm4gdGhpcztcblxuICAgIHJldHVybiBOUHJvZ3Jlc3MuaW5jKDAuMyArIDAuNSAqIE1hdGgucmFuZG9tKCkpLnNldCgxKTtcbiAgfTtcblxuICAvKipcbiAgICogSW5jcmVtZW50cyBieSBhIHJhbmRvbSBhbW91bnQuXG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5pbmMgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICB2YXIgbiA9IE5Qcm9ncmVzcy5zdGF0dXM7XG5cbiAgICBpZiAoIW4pIHtcbiAgICAgIHJldHVybiBOUHJvZ3Jlc3Muc3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBhbW91bnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIGFtb3VudCA9ICgxIC0gbikgKiBjbGFtcChNYXRoLnJhbmRvbSgpICogbiwgMC4xLCAwLjk1KTtcbiAgICAgIH1cblxuICAgICAgbiA9IGNsYW1wKG4gKyBhbW91bnQsIDAsIDAuOTk0KTtcbiAgICAgIHJldHVybiBOUHJvZ3Jlc3Muc2V0KG4pO1xuICAgIH1cbiAgfTtcblxuICBOUHJvZ3Jlc3MudHJpY2tsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBOUHJvZ3Jlc3MuaW5jKE1hdGgucmFuZG9tKCkgKiBTZXR0aW5ncy50cmlja2xlUmF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciBhbGwgc3VwcGxpZWQgalF1ZXJ5IHByb21pc2VzIGFuZFxuICAgKiBpbmNyZWFzZXMgdGhlIHByb2dyZXNzIGFzIHRoZSBwcm9taXNlcyByZXNvbHZlLlxuICAgKlxuICAgKiBAcGFyYW0gJHByb21pc2UgalFVZXJ5IFByb21pc2VcbiAgICovXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5pdGlhbCA9IDAsIGN1cnJlbnQgPSAwO1xuXG4gICAgTlByb2dyZXNzLnByb21pc2UgPSBmdW5jdGlvbigkcHJvbWlzZSkge1xuICAgICAgaWYgKCEkcHJvbWlzZSB8fCAkcHJvbWlzZS5zdGF0ZSgpID09PSBcInJlc29sdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50ID09PSAwKSB7XG4gICAgICAgIE5Qcm9ncmVzcy5zdGFydCgpO1xuICAgICAgfVxuXG4gICAgICBpbml0aWFsKys7XG4gICAgICBjdXJyZW50Kys7XG5cbiAgICAgICRwcm9taXNlLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgY3VycmVudC0tO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gMCkge1xuICAgICAgICAgICAgaW5pdGlhbCA9IDA7XG4gICAgICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTlByb2dyZXNzLnNldCgoaW5pdGlhbCAtIGN1cnJlbnQpIC8gaW5pdGlhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgcmVuZGVycyB0aGUgcHJvZ3Jlc3MgYmFyIG1hcmt1cCBiYXNlZCBvbiB0aGUgYHRlbXBsYXRlYFxuICAgKiBzZXR0aW5nLlxuICAgKi9cblxuICBOUHJvZ3Jlc3MucmVuZGVyID0gZnVuY3Rpb24oZnJvbVN0YXJ0KSB7XG4gICAgaWYgKE5Qcm9ncmVzcy5pc1JlbmRlcmVkKCkpIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnByb2dyZXNzJyk7XG5cbiAgICBhZGRDbGFzcyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICducHJvZ3Jlc3MtYnVzeScpO1xuICAgIFxuICAgIHZhciBwcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2dyZXNzLmlkID0gJ25wcm9ncmVzcyc7XG4gICAgcHJvZ3Jlc3MuaW5uZXJIVE1MID0gU2V0dGluZ3MudGVtcGxhdGU7XG5cbiAgICB2YXIgYmFyICAgICAgPSBwcm9ncmVzcy5xdWVyeVNlbGVjdG9yKFNldHRpbmdzLmJhclNlbGVjdG9yKSxcbiAgICAgICAgcGVyYyAgICAgPSBmcm9tU3RhcnQgPyAnLTEwMCcgOiB0b0JhclBlcmMoTlByb2dyZXNzLnN0YXR1cyB8fCAwKSxcbiAgICAgICAgcGFyZW50ICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNldHRpbmdzLnBhcmVudCksXG4gICAgICAgIHNwaW5uZXI7XG4gICAgXG4gICAgY3NzKGJhciwge1xuICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwIGxpbmVhcicsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgcGVyYyArICclLDAsMCknXG4gICAgfSk7XG5cbiAgICBpZiAoIVNldHRpbmdzLnNob3dTcGlubmVyKSB7XG4gICAgICBzcGlubmVyID0gcHJvZ3Jlc3MucXVlcnlTZWxlY3RvcihTZXR0aW5ncy5zcGlubmVyU2VsZWN0b3IpO1xuICAgICAgc3Bpbm5lciAmJiByZW1vdmVFbGVtZW50KHNwaW5uZXIpO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQgIT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgYWRkQ2xhc3MocGFyZW50LCAnbnByb2dyZXNzLWN1c3RvbS1wYXJlbnQnKTtcbiAgICB9XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3MpO1xuICAgIHJldHVybiBwcm9ncmVzcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZWxlbWVudC4gT3Bwb3NpdGUgb2YgcmVuZGVyKCkuXG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICducHJvZ3Jlc3MtYnVzeScpO1xuICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU2V0dGluZ3MucGFyZW50KSwgJ25wcm9ncmVzcy1jdXN0b20tcGFyZW50Jyk7XG4gICAgdmFyIHByb2dyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25wcm9ncmVzcycpO1xuICAgIHByb2dyZXNzICYmIHJlbW92ZUVsZW1lbnQocHJvZ3Jlc3MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHByb2dyZXNzIGJhciBpcyByZW5kZXJlZC5cbiAgICovXG5cbiAgTlByb2dyZXNzLmlzUmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gISFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnByb2dyZXNzJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGljaCBwb3NpdGlvbmluZyBDU1MgcnVsZSB0byB1c2UuXG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5nZXRQb3NpdGlvbmluZ0NTUyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNuaWZmIG9uIGRvY3VtZW50LmJvZHkuc3R5bGVcbiAgICB2YXIgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keS5zdHlsZTtcblxuICAgIC8vIFNuaWZmIHByZWZpeGVzXG4gICAgdmFyIHZlbmRvclByZWZpeCA9ICgnV2Via2l0VHJhbnNmb3JtJyBpbiBib2R5U3R5bGUpID8gJ1dlYmtpdCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAoJ01velRyYW5zZm9ybScgaW4gYm9keVN0eWxlKSA/ICdNb3onIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKCdtc1RyYW5zZm9ybScgaW4gYm9keVN0eWxlKSA/ICdtcycgOlxuICAgICAgICAgICAgICAgICAgICAgICAoJ09UcmFuc2Zvcm0nIGluIGJvZHlTdHlsZSkgPyAnTycgOiAnJztcblxuICAgIGlmICh2ZW5kb3JQcmVmaXggKyAnUGVyc3BlY3RpdmUnIGluIGJvZHlTdHlsZSkge1xuICAgICAgLy8gTW9kZXJuIGJyb3dzZXJzIHdpdGggM0Qgc3VwcG9ydCwgZS5nLiBXZWJraXQsIElFMTBcbiAgICAgIHJldHVybiAndHJhbnNsYXRlM2QnO1xuICAgIH0gZWxzZSBpZiAodmVuZG9yUHJlZml4ICsgJ1RyYW5zZm9ybScgaW4gYm9keVN0eWxlKSB7XG4gICAgICAvLyBCcm93c2VycyB3aXRob3V0IDNEIHN1cHBvcnQsIGUuZy4gSUU5XG4gICAgICByZXR1cm4gJ3RyYW5zbGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEJyb3dzZXJzIHdpdGhvdXQgdHJhbnNsYXRlKCkgc3VwcG9ydCwgZS5nLiBJRTctOFxuICAgICAgcmV0dXJuICdtYXJnaW4nO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGVscGVyc1xuICAgKi9cblxuICBmdW5jdGlvbiBjbGFtcChuLCBtaW4sIG1heCkge1xuICAgIGlmIChuIDwgbWluKSByZXR1cm4gbWluO1xuICAgIGlmIChuID4gbWF4KSByZXR1cm4gbWF4O1xuICAgIHJldHVybiBuO1xuICB9XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgY29udmVydHMgYSBwZXJjZW50YWdlIChgMC4uMWApIHRvIGEgYmFyIHRyYW5zbGF0ZVhcbiAgICogcGVyY2VudGFnZSAoYC0xMDAlLi4wJWApLlxuICAgKi9cblxuICBmdW5jdGlvbiB0b0JhclBlcmMobikge1xuICAgIHJldHVybiAoLTEgKyBuKSAqIDEwMDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgcmV0dXJucyB0aGUgY29ycmVjdCBDU1MgZm9yIGNoYW5naW5nIHRoZSBiYXInc1xuICAgKiBwb3NpdGlvbiBnaXZlbiBhbiBuIHBlcmNlbnRhZ2UsIGFuZCBzcGVlZCBhbmQgZWFzZSBmcm9tIFNldHRpbmdzXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGJhclBvc2l0aW9uQ1NTKG4sIHNwZWVkLCBlYXNlKSB7XG4gICAgdmFyIGJhckNTUztcblxuICAgIGlmIChTZXR0aW5ncy5wb3NpdGlvblVzaW5nID09PSAndHJhbnNsYXRlM2QnKSB7XG4gICAgICBiYXJDU1MgPSB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcrdG9CYXJQZXJjKG4pKyclLDAsMCknIH07XG4gICAgfSBlbHNlIGlmIChTZXR0aW5ncy5wb3NpdGlvblVzaW5nID09PSAndHJhbnNsYXRlJykge1xuICAgICAgYmFyQ1NTID0geyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoJyt0b0JhclBlcmMobikrJyUsMCknIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhckNTUyA9IHsgJ21hcmdpbi1sZWZ0JzogdG9CYXJQZXJjKG4pKyclJyB9O1xuICAgIH1cblxuICAgIGJhckNTUy50cmFuc2l0aW9uID0gJ2FsbCAnK3NwZWVkKydtcyAnK2Vhc2U7XG5cbiAgICByZXR1cm4gYmFyQ1NTO1xuICB9XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgUXVldWVzIGEgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAqL1xuXG4gIHZhciBxdWV1ZSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgZm4gPSBwZW5kaW5nLnNoaWZ0KCk7XG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgZm4obmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZuKSB7XG4gICAgICBwZW5kaW5nLnB1c2goZm4pO1xuICAgICAgaWYgKHBlbmRpbmcubGVuZ3RoID09IDEpIG5leHQoKTtcbiAgICB9O1xuICB9KSgpO1xuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIEFwcGxpZXMgY3NzIHByb3BlcnRpZXMgdG8gYW4gZWxlbWVudCwgc2ltaWxhciB0byB0aGUgalF1ZXJ5IFxuICAgKiBjc3MgbWV0aG9kLlxuICAgKlxuICAgKiBXaGlsZSB0aGlzIGhlbHBlciBkb2VzIGFzc2lzdCB3aXRoIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eSBuYW1lcywgaXQgXG4gICAqIGRvZXMgbm90IHBlcmZvcm0gYW55IG1hbmlwdWxhdGlvbiBvZiB2YWx1ZXMgcHJpb3IgdG8gc2V0dGluZyBzdHlsZXMuXG4gICAqL1xuXG4gIHZhciBjc3MgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNzc1ByZWZpeGVzID0gWyAnV2Via2l0JywgJ08nLCAnTW96JywgJ21zJyBdLFxuICAgICAgICBjc3NQcm9wcyAgICA9IHt9O1xuXG4gICAgZnVuY3Rpb24gY2FtZWxDYXNlKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9eLW1zLS8sICdtcy0nKS5yZXBsYWNlKC8tKFtcXGRhLXpdKS9naSwgZnVuY3Rpb24obWF0Y2gsIGxldHRlcikge1xuICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRWZW5kb3JQcm9wKG5hbWUpIHtcbiAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gICAgICBpZiAobmFtZSBpbiBzdHlsZSkgcmV0dXJuIG5hbWU7XG5cbiAgICAgIHZhciBpID0gY3NzUHJlZml4ZXMubGVuZ3RoLFxuICAgICAgICAgIGNhcE5hbWUgPSBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSxcbiAgICAgICAgICB2ZW5kb3JOYW1lO1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2ZW5kb3JOYW1lID0gY3NzUHJlZml4ZXNbaV0gKyBjYXBOYW1lO1xuICAgICAgICBpZiAodmVuZG9yTmFtZSBpbiBzdHlsZSkgcmV0dXJuIHZlbmRvck5hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN0eWxlUHJvcChuYW1lKSB7XG4gICAgICBuYW1lID0gY2FtZWxDYXNlKG5hbWUpO1xuICAgICAgcmV0dXJuIGNzc1Byb3BzW25hbWVdIHx8IChjc3NQcm9wc1tuYW1lXSA9IGdldFZlbmRvclByb3AobmFtZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5Q3NzKGVsZW1lbnQsIHByb3AsIHZhbHVlKSB7XG4gICAgICBwcm9wID0gZ2V0U3R5bGVQcm9wKHByb3ApO1xuICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBwcm9wLCBcbiAgICAgICAgICB2YWx1ZTtcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09IDIpIHtcbiAgICAgICAgZm9yIChwcm9wIGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BlcnRpZXNbcHJvcF07XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgYXBwbHlDc3MoZWxlbWVudCwgcHJvcCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBseUNzcyhlbGVtZW50LCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgRGV0ZXJtaW5lcyBpZiBhbiBlbGVtZW50IG9yIHNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIGNsYXNzIG5hbWVzIGNvbnRhaW5zIGEgY2xhc3MgbmFtZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgbmFtZSkge1xuICAgIHZhciBsaXN0ID0gdHlwZW9mIGVsZW1lbnQgPT0gJ3N0cmluZycgPyBlbGVtZW50IDogY2xhc3NMaXN0KGVsZW1lbnQpO1xuICAgIHJldHVybiBsaXN0LmluZGV4T2YoJyAnICsgbmFtZSArICcgJykgPj0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIEFkZHMgYSBjbGFzcyB0byBhbiBlbGVtZW50LlxuICAgKi9cblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBuYW1lKSB7XG4gICAgdmFyIG9sZExpc3QgPSBjbGFzc0xpc3QoZWxlbWVudCksXG4gICAgICAgIG5ld0xpc3QgPSBvbGRMaXN0ICsgbmFtZTtcblxuICAgIGlmIChoYXNDbGFzcyhvbGRMaXN0LCBuYW1lKSkgcmV0dXJuOyBcblxuICAgIC8vIFRyaW0gdGhlIG9wZW5pbmcgc3BhY2UuXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBuZXdMaXN0LnN1YnN0cmluZygxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIFJlbW92ZXMgYSBjbGFzcyBmcm9tIGFuIGVsZW1lbnQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIG5hbWUpIHtcbiAgICB2YXIgb2xkTGlzdCA9IGNsYXNzTGlzdChlbGVtZW50KSxcbiAgICAgICAgbmV3TGlzdDtcblxuICAgIGlmICghaGFzQ2xhc3MoZWxlbWVudCwgbmFtZSkpIHJldHVybjtcblxuICAgIC8vIFJlcGxhY2UgdGhlIGNsYXNzIG5hbWUuXG4gICAgbmV3TGlzdCA9IG9sZExpc3QucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpO1xuXG4gICAgLy8gVHJpbSB0aGUgb3BlbmluZyBhbmQgY2xvc2luZyBzcGFjZXMuXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBuZXdMaXN0LnN1YnN0cmluZygxLCBuZXdMaXN0Lmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgR2V0cyBhIHNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIHRoZSBjbGFzcyBuYW1lcyBvbiB0aGUgZWxlbWVudC4gXG4gICAqIFRoZSBsaXN0IGlzIHdyYXBwZWQgd2l0aCBhIHNpbmdsZSBzcGFjZSBvbiBlYWNoIGVuZCB0byBmYWNpbGl0YXRlIGZpbmRpbmcgXG4gICAqIG1hdGNoZXMgd2l0aGluIHRoZSBsaXN0LlxuICAgKi9cblxuICBmdW5jdGlvbiBjbGFzc0xpc3QoZWxlbWVudCkge1xuICAgIHJldHVybiAoJyAnICsgKGVsZW1lbnQuY2xhc3NOYW1lIHx8ICcnKSArICcgJykucmVwbGFjZSgvXFxzKy9naSwgJyAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIFJlbW92ZXMgYW4gZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICAgIGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlICYmIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBOUHJvZ3Jlc3M7XG59KTtcblxuIiwiLyohIERhdGFUYWJsZXMgMS4xMC4xMlxuICogwqkyMDA4LTIwMTUgU3ByeU1lZGlhIEx0ZCAtIGRhdGF0YWJsZXMubmV0L2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBzdW1tYXJ5ICAgICBEYXRhVGFibGVzXG4gKiBAZGVzY3JpcHRpb24gUGFnaW5hdGUsIHNlYXJjaCBhbmQgb3JkZXIgSFRNTCB0YWJsZXNcbiAqIEB2ZXJzaW9uICAgICAxLjEwLjEyXG4gKiBAZmlsZSAgICAgICAganF1ZXJ5LmRhdGFUYWJsZXMuanNcbiAqIEBhdXRob3IgICAgICBTcHJ5TWVkaWEgTHRkICh3d3cuc3ByeW1lZGlhLmNvLnVrKVxuICogQGNvbnRhY3QgICAgIHd3dy5zcHJ5bWVkaWEuY28udWsvY29udGFjdFxuICogQGNvcHlyaWdodCAgIENvcHlyaWdodCAyMDA4LTIwMTUgU3ByeU1lZGlhIEx0ZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIGZyZWUgc29mdHdhcmUsIGF2YWlsYWJsZSB1bmRlciB0aGUgZm9sbG93aW5nIGxpY2Vuc2U6XG4gKiAgIE1JVCBsaWNlbnNlIC0gaHR0cDovL2RhdGF0YWJsZXMubmV0L2xpY2Vuc2VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dFxuICogV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFlcbiAqIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlIGxpY2Vuc2UgZmlsZXMgZm9yIGRldGFpbHMuXG4gKlxuICogRm9yIGRldGFpbHMgcGxlYXNlIHJlZmVyIHRvOiBodHRwOi8vd3d3LmRhdGF0YWJsZXMubmV0XG4gKi9cblxuLypqc2xpbnQgZXZpbDogdHJ1ZSwgdW5kZWY6IHRydWUsIGJyb3dzZXI6IHRydWUgKi9cbi8qZ2xvYmFscyAkLHJlcXVpcmUsalF1ZXJ5LGRlZmluZSxfc2VsZWN0b3JfcnVuLF9zZWxlY3Rvcl9vcHRzLF9zZWxlY3Rvcl9maXJzdCxfc2VsZWN0b3Jfcm93X2luZGV4ZXMsX2V4dCxfQXBpLF9hcGlfcmVnaXN0ZXIsX2FwaV9yZWdpc3RlclBsdXJhbCxfcmVfbmV3X2xpbmVzLF9yZV9odG1sLF9yZV9mb3JtYXR0ZWRfbnVtZXJpYyxfcmVfZXNjYXBlX3JlZ2V4LF9lbXB0eSxfaW50VmFsLF9udW1Ub0RlY2ltYWwsX2lzTnVtYmVyLF9pc0h0bWwsX2h0bWxOdW1lcmljLF9wbHVjayxfcGx1Y2tfb3JkZXIsX3JhbmdlLF9zdHJpcEh0bWwsX3VuaXF1ZSxfZm5CdWlsZEFqYXgsX2ZuQWpheFVwZGF0ZSxfZm5BamF4UGFyYW1ldGVycyxfZm5BamF4VXBkYXRlRHJhdyxfZm5BamF4RGF0YVNyYyxfZm5BZGRDb2x1bW4sX2ZuQ29sdW1uT3B0aW9ucyxfZm5BZGp1c3RDb2x1bW5TaXppbmcsX2ZuVmlzaWJsZVRvQ29sdW1uSW5kZXgsX2ZuQ29sdW1uSW5kZXhUb1Zpc2libGUsX2ZuVmlzYmxlQ29sdW1ucyxfZm5HZXRDb2x1bW5zLF9mbkNvbHVtblR5cGVzLF9mbkFwcGx5Q29sdW1uRGVmcyxfZm5IdW5nYXJpYW5NYXAsX2ZuQ2FtZWxUb0h1bmdhcmlhbixfZm5MYW5ndWFnZUNvbXBhdCxfZm5Ccm93c2VyRGV0ZWN0LF9mbkFkZERhdGEsX2ZuQWRkVHIsX2ZuTm9kZVRvRGF0YUluZGV4LF9mbk5vZGVUb0NvbHVtbkluZGV4LF9mbkdldENlbGxEYXRhLF9mblNldENlbGxEYXRhLF9mblNwbGl0T2JqTm90YXRpb24sX2ZuR2V0T2JqZWN0RGF0YUZuLF9mblNldE9iamVjdERhdGFGbixfZm5HZXREYXRhTWFzdGVyLF9mbkNsZWFyVGFibGUsX2ZuRGVsZXRlSW5kZXgsX2ZuSW52YWxpZGF0ZSxfZm5HZXRSb3dFbGVtZW50cyxfZm5DcmVhdGVUcixfZm5CdWlsZEhlYWQsX2ZuRHJhd0hlYWQsX2ZuRHJhdyxfZm5SZURyYXcsX2ZuQWRkT3B0aW9uc0h0bWwsX2ZuRGV0ZWN0SGVhZGVyLF9mbkdldFVuaXF1ZVRocyxfZm5GZWF0dXJlSHRtbEZpbHRlcixfZm5GaWx0ZXJDb21wbGV0ZSxfZm5GaWx0ZXJDdXN0b20sX2ZuRmlsdGVyQ29sdW1uLF9mbkZpbHRlcixfZm5GaWx0ZXJDcmVhdGVTZWFyY2gsX2ZuRXNjYXBlUmVnZXgsX2ZuRmlsdGVyRGF0YSxfZm5GZWF0dXJlSHRtbEluZm8sX2ZuVXBkYXRlSW5mbyxfZm5JbmZvTWFjcm9zLF9mbkluaXRpYWxpc2UsX2ZuSW5pdENvbXBsZXRlLF9mbkxlbmd0aENoYW5nZSxfZm5GZWF0dXJlSHRtbExlbmd0aCxfZm5GZWF0dXJlSHRtbFBhZ2luYXRlLF9mblBhZ2VDaGFuZ2UsX2ZuRmVhdHVyZUh0bWxQcm9jZXNzaW5nLF9mblByb2Nlc3NpbmdEaXNwbGF5LF9mbkZlYXR1cmVIdG1sVGFibGUsX2ZuU2Nyb2xsRHJhdyxfZm5BcHBseVRvQ2hpbGRyZW4sX2ZuQ2FsY3VsYXRlQ29sdW1uV2lkdGhzLF9mblRocm90dGxlLF9mbkNvbnZlcnRUb1dpZHRoLF9mbkdldFdpZGVzdE5vZGUsX2ZuR2V0TWF4TGVuU3RyaW5nLF9mblN0cmluZ1RvQ3NzLF9mblNvcnRGbGF0dGVuLF9mblNvcnQsX2ZuU29ydEFyaWEsX2ZuU29ydExpc3RlbmVyLF9mblNvcnRBdHRhY2hMaXN0ZW5lcixfZm5Tb3J0aW5nQ2xhc3NlcyxfZm5Tb3J0RGF0YSxfZm5TYXZlU3RhdGUsX2ZuTG9hZFN0YXRlLF9mblNldHRpbmdzRnJvbU5vZGUsX2ZuTG9nLF9mbk1hcCxfZm5CaW5kQWN0aW9uLF9mbkNhbGxiYWNrUmVnLF9mbkNhbGxiYWNrRmlyZSxfZm5MZW5ndGhPdmVyZmxvdyxfZm5SZW5kZXJlcixfZm5EYXRhU291cmNlLF9mblJvd0F0dHJpYnV0ZXMqL1xuXG4oZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZSggWydqcXVlcnknXSwgZnVuY3Rpb24gKCAkICkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkoICQsIHdpbmRvdywgZG9jdW1lbnQgKTtcblx0XHR9ICk7XG5cdH1cblx0ZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3QsICQpIHtcblx0XHRcdGlmICggISByb290ICkge1xuXHRcdFx0XHQvLyBDb21tb25KUyBlbnZpcm9ubWVudHMgd2l0aG91dCBhIHdpbmRvdyBnbG9iYWwgbXVzdCBwYXNzIGFcblx0XHRcdFx0Ly8gcm9vdC4gVGhpcyB3aWxsIGdpdmUgYW4gZXJyb3Igb3RoZXJ3aXNlXG5cdFx0XHRcdHJvb3QgPSB3aW5kb3c7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISAkICkge1xuXHRcdFx0XHQkID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAvLyBqUXVlcnkncyBmYWN0b3J5IGNoZWNrcyBmb3IgYSBnbG9iYWwgd2luZG93XG5cdFx0XHRcdFx0cmVxdWlyZSgnanF1ZXJ5JykgOlxuXHRcdFx0XHRcdHJlcXVpcmUoJ2pxdWVyeScpKCByb290ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWN0b3J5KCAkLCByb290LCByb290LmRvY3VtZW50ICk7XG5cdFx0fTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBCcm93c2VyXG5cdFx0ZmFjdG9yeSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7XG5cdH1cbn1cbihmdW5jdGlvbiggJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogRGF0YVRhYmxlcyBpcyBhIHBsdWctaW4gZm9yIHRoZSBqUXVlcnkgSmF2YXNjcmlwdCBsaWJyYXJ5LiBJdCBpcyBhIGhpZ2hseVxuXHQgKiBmbGV4aWJsZSB0b29sLCBiYXNlZCB1cG9uIHRoZSBmb3VuZGF0aW9ucyBvZiBwcm9ncmVzc2l2ZSBlbmhhbmNlbWVudCxcblx0ICogd2hpY2ggd2lsbCBhZGQgYWR2YW5jZWQgaW50ZXJhY3Rpb24gY29udHJvbHMgdG8gYW55IEhUTUwgdGFibGUuIEZvciBhXG5cdCAqIGZ1bGwgbGlzdCBvZiBmZWF0dXJlcyBwbGVhc2UgcmVmZXIgdG9cblx0ICogW0RhdGFUYWJsZXMubmV0XShocmVmPVwiaHR0cDovL2RhdGF0YWJsZXMubmV0KS5cblx0ICpcblx0ICogTm90ZSB0aGF0IHRoZSBgRGF0YVRhYmxlYCBvYmplY3QgaXMgbm90IGEgZ2xvYmFsIHZhcmlhYmxlIGJ1dCBpcyBhbGlhc2VkXG5cdCAqIHRvIGBqUXVlcnkuZm4uRGF0YVRhYmxlYCBhbmQgYGpRdWVyeS5mbi5kYXRhVGFibGVgIHRocm91Z2ggd2hpY2ggaXQgbWF5XG5cdCAqIGJlICBhY2Nlc3NlZC5cblx0ICpcblx0ICogIEBjbGFzc1xuXHQgKiAgQHBhcmFtIHtvYmplY3R9IFtpbml0PXt9XSBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgRGF0YVRhYmxlcy4gT3B0aW9uc1xuXHQgKiAgICBhcmUgZGVmaW5lZCBieSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfVxuXHQgKiAgQHJlcXVpcmVzIGpRdWVyeSAxLjcrXG5cdCAqXG5cdCAqICBAZXhhbXBsZVxuXHQgKiAgICAvLyBCYXNpYyBpbml0aWFsaXNhdGlvblxuXHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24ge1xuXHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdCAqICAgIH0gKTtcblx0ICpcblx0ICogIEBleGFtcGxlXG5cdCAqICAgIC8vIEluaXRpYWxpc2F0aW9uIHdpdGggY29uZmlndXJhdGlvbiBvcHRpb25zIC0gaW4gdGhpcyBjYXNlLCBkaXNhYmxlXG5cdCAqICAgIC8vIHBhZ2luYXRpb24gYW5kIHNvcnRpbmcuXG5cdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbiB7XG5cdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0ICogICAgICAgIFwicGFnaW5hdGVcIjogZmFsc2UsXG5cdCAqICAgICAgICBcInNvcnRcIjogZmFsc2Vcblx0ICogICAgICB9ICk7XG5cdCAqICAgIH0gKTtcblx0ICovXG5cdHZhciBEYXRhVGFibGUgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKVxuXHR7XG5cdFx0LyoqXG5cdFx0ICogUGVyZm9ybSBhIGpRdWVyeSBzZWxlY3RvciBhY3Rpb24gb24gdGhlIHRhYmxlJ3MgVFIgZWxlbWVudHMgKGZyb20gdGhlIHRib2R5KSBhbmRcblx0XHQgKiByZXR1cm4gdGhlIHJlc3VsdGluZyBqUXVlcnkgb2JqZWN0LlxuXHRcdCAqICBAcGFyYW0ge3N0cmluZ3xub2RlfGpRdWVyeX0gc1NlbGVjdG9yIGpRdWVyeSBzZWxlY3RvciBvciBub2RlIGNvbGxlY3Rpb24gdG8gYWN0IG9uXG5cdFx0ICogIEBwYXJhbSB7b2JqZWN0fSBbb09wdHNdIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIG1vZGlmeWluZyB0aGUgcm93cyB0byBiZSBpbmNsdWRlZFxuXHRcdCAqICBAcGFyYW0ge3N0cmluZ30gW29PcHRzLmZpbHRlcj1ub25lXSBTZWxlY3QgVFIgZWxlbWVudHMgdGhhdCBtZWV0IHRoZSBjdXJyZW50IGZpbHRlclxuXHRcdCAqICAgIGNyaXRlcmlvbiAoXCJhcHBsaWVkXCIpIG9yIGFsbCBUUiBlbGVtZW50cyAoaS5lLiBubyBmaWx0ZXIpLlxuXHRcdCAqICBAcGFyYW0ge3N0cmluZ30gW29PcHRzLm9yZGVyPWN1cnJlbnRdIE9yZGVyIG9mIHRoZSBUUiBlbGVtZW50cyBpbiB0aGUgcHJvY2Vzc2VkIGFycmF5LlxuXHRcdCAqICAgIENhbiBiZSBlaXRoZXIgJ2N1cnJlbnQnLCB3aGVyZWJ5IHRoZSBjdXJyZW50IHNvcnRpbmcgb2YgdGhlIHRhYmxlIGlzIHVzZWQsIG9yXG5cdFx0ICogICAgJ29yaWdpbmFsJyB3aGVyZWJ5IHRoZSBvcmlnaW5hbCBvcmRlciB0aGUgZGF0YSB3YXMgcmVhZCBpbnRvIHRoZSB0YWJsZSBpcyB1c2VkLlxuXHRcdCAqICBAcGFyYW0ge3N0cmluZ30gW29PcHRzLnBhZ2U9YWxsXSBMaW1pdCB0aGUgc2VsZWN0aW9uIHRvIHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2Vcblx0XHQgKiAgICAoXCJjdXJyZW50XCIpIG9yIG5vdCAoXCJhbGxcIikuIElmICdjdXJyZW50JyBpcyBnaXZlbiwgdGhlbiBvcmRlciBpcyBhc3N1bWVkIHRvIGJlXG5cdFx0ICogICAgJ2N1cnJlbnQnIGFuZCBmaWx0ZXIgaXMgJ2FwcGxpZWQnLCByZWdhcmRsZXNzIG9mIHdoYXQgdGhleSBtaWdodCBiZSBnaXZlbiBhcy5cblx0XHQgKiAgQHJldHVybnMge29iamVjdH0galF1ZXJ5IG9iamVjdCwgZmlsdGVyZWQgYnkgdGhlIGdpdmVuIHNlbGVjdG9yLlxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBIaWdobGlnaHQgZXZlcnkgc2Vjb25kIHJvd1xuXHRcdCAqICAgICAgb1RhYmxlLiQoJ3RyOm9kZCcpLmNzcygnYmFja2dyb3VuZENvbG9yJywgJ2JsdWUnKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBGaWx0ZXIgdG8gcm93cyB3aXRoICdXZWJraXQnIGluIHRoZW0sIGFkZCBhIGJhY2tncm91bmQgY29sb3VyIGFuZCB0aGVuXG5cdFx0ICogICAgICAvLyByZW1vdmUgdGhlIGZpbHRlciwgdGh1cyBoaWdobGlnaHRpbmcgdGhlICdXZWJraXQnIHJvd3Mgb25seS5cblx0XHQgKiAgICAgIG9UYWJsZS5mbkZpbHRlcignV2Via2l0Jyk7XG5cdFx0ICogICAgICBvVGFibGUuJCgndHInLCB7XCJzZWFyY2hcIjogXCJhcHBsaWVkXCJ9KS5jc3MoJ2JhY2tncm91bmRDb2xvcicsICdibHVlJyk7XG5cdFx0ICogICAgICBvVGFibGUuZm5GaWx0ZXIoJycpO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLiQgPSBmdW5jdGlvbiAoIHNTZWxlY3Rvciwgb09wdHMgKVxuXHRcdHtcblx0XHRcdHJldHVybiB0aGlzLmFwaSh0cnVlKS4kKCBzU2VsZWN0b3IsIG9PcHRzICk7XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBBbG1vc3QgaWRlbnRpY2FsIHRvICQgaW4gb3BlcmF0aW9uLCBidXQgaW4gdGhpcyBjYXNlIHJldHVybnMgdGhlIGRhdGEgZm9yIHRoZSBtYXRjaGVkXG5cdFx0ICogcm93cyAtIGFzIHN1Y2gsIHRoZSBqUXVlcnkgc2VsZWN0b3IgdXNlZCBzaG91bGQgbWF0Y2ggVFIgcm93IG5vZGVzIG9yIFREL1RIIGNlbGwgbm9kZXNcblx0XHQgKiByYXRoZXIgdGhhbiBhbnkgZGVzY2VuZGFudHMsIHNvIHRoZSBkYXRhIGNhbiBiZSBvYnRhaW5lZCBmb3IgdGhlIHJvdy9jZWxsLiBJZiBtYXRjaGluZ1xuXHRcdCAqIHJvd3MgYXJlIGZvdW5kLCB0aGUgZGF0YSByZXR1cm5lZCBpcyB0aGUgb3JpZ2luYWwgZGF0YSBhcnJheS9vYmplY3QgdGhhdCB3YXMgdXNlZCB0b1xuXHRcdCAqIGNyZWF0ZSB0aGUgcm93IChvciBhIGdlbmVyYXRlZCBhcnJheSBpZiBmcm9tIGEgRE9NIHNvdXJjZSkuXG5cdFx0ICpcblx0XHQgKiBUaGlzIG1ldGhvZCBpcyBvZnRlbiB1c2VmdWwgaW4tY29tYmluYXRpb24gd2l0aCAkIHdoZXJlIGJvdGggZnVuY3Rpb25zIGFyZSBnaXZlbiB0aGVcblx0XHQgKiBzYW1lIHBhcmFtZXRlcnMgYW5kIHRoZSBhcnJheSBpbmRleGVzIHdpbGwgbWF0Y2ggaWRlbnRpY2FsbHkuXG5cdFx0ICogIEBwYXJhbSB7c3RyaW5nfG5vZGV8alF1ZXJ5fSBzU2VsZWN0b3IgalF1ZXJ5IHNlbGVjdG9yIG9yIG5vZGUgY29sbGVjdGlvbiB0byBhY3Qgb25cblx0XHQgKiAgQHBhcmFtIHtvYmplY3R9IFtvT3B0c10gT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgbW9kaWZ5aW5nIHRoZSByb3dzIHRvIGJlIGluY2x1ZGVkXG5cdFx0ICogIEBwYXJhbSB7c3RyaW5nfSBbb09wdHMuZmlsdGVyPW5vbmVdIFNlbGVjdCBlbGVtZW50cyB0aGF0IG1lZXQgdGhlIGN1cnJlbnQgZmlsdGVyXG5cdFx0ICogICAgY3JpdGVyaW9uIChcImFwcGxpZWRcIikgb3IgYWxsIGVsZW1lbnRzIChpLmUuIG5vIGZpbHRlcikuXG5cdFx0ICogIEBwYXJhbSB7c3RyaW5nfSBbb09wdHMub3JkZXI9Y3VycmVudF0gT3JkZXIgb2YgdGhlIGRhdGEgaW4gdGhlIHByb2Nlc3NlZCBhcnJheS5cblx0XHQgKiAgICBDYW4gYmUgZWl0aGVyICdjdXJyZW50Jywgd2hlcmVieSB0aGUgY3VycmVudCBzb3J0aW5nIG9mIHRoZSB0YWJsZSBpcyB1c2VkLCBvclxuXHRcdCAqICAgICdvcmlnaW5hbCcgd2hlcmVieSB0aGUgb3JpZ2luYWwgb3JkZXIgdGhlIGRhdGEgd2FzIHJlYWQgaW50byB0aGUgdGFibGUgaXMgdXNlZC5cblx0XHQgKiAgQHBhcmFtIHtzdHJpbmd9IFtvT3B0cy5wYWdlPWFsbF0gTGltaXQgdGhlIHNlbGVjdGlvbiB0byB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlXG5cdFx0ICogICAgKFwiY3VycmVudFwiKSBvciBub3QgKFwiYWxsXCIpLiBJZiAnY3VycmVudCcgaXMgZ2l2ZW4sIHRoZW4gb3JkZXIgaXMgYXNzdW1lZCB0byBiZVxuXHRcdCAqICAgICdjdXJyZW50JyBhbmQgZmlsdGVyIGlzICdhcHBsaWVkJywgcmVnYXJkbGVzcyBvZiB3aGF0IHRoZXkgbWlnaHQgYmUgZ2l2ZW4gYXMuXG5cdFx0ICogIEByZXR1cm5zIHthcnJheX0gRGF0YSBmb3IgdGhlIG1hdGNoZWQgZWxlbWVudHMuIElmIGFueSBlbGVtZW50cywgYXMgYSByZXN1bHQgb2YgdGhlXG5cdFx0ICogICAgc2VsZWN0b3IsIHdlcmUgbm90IFRSLCBURCBvciBUSCBlbGVtZW50cyBpbiB0aGUgRGF0YVRhYmxlLCB0aGV5IHdpbGwgaGF2ZSBhIG51bGxcblx0XHQgKiAgICBlbnRyeSBpbiB0aGUgYXJyYXkuXG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgdmFyIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICpcblx0XHQgKiAgICAgIC8vIEdldCB0aGUgZGF0YSBmcm9tIHRoZSBmaXJzdCByb3cgaW4gdGhlIHRhYmxlXG5cdFx0ICogICAgICB2YXIgZGF0YSA9IG9UYWJsZS5fKCd0cjpmaXJzdCcpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBEbyBzb21ldGhpbmcgdXNlZnVsIHdpdGggdGhlIGRhdGFcblx0XHQgKiAgICAgIGFsZXJ0KCBcIkZpcnN0IGNlbGwgaXM6IFwiK2RhdGFbMF0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBGaWx0ZXIgdG8gJ1dlYmtpdCcgYW5kIGdldCBhbGwgZGF0YSBmb3Jcblx0XHQgKiAgICAgIG9UYWJsZS5mbkZpbHRlcignV2Via2l0Jyk7XG5cdFx0ICogICAgICB2YXIgZGF0YSA9IG9UYWJsZS5fKCd0cicsIHtcInNlYXJjaFwiOiBcImFwcGxpZWRcIn0pO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YVxuXHRcdCAqICAgICAgYWxlcnQoIGRhdGEubGVuZ3RoK1wiIHJvd3MgbWF0Y2hlZCB0aGUgc2VhcmNoXCIgKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5fID0gZnVuY3Rpb24gKCBzU2VsZWN0b3IsIG9PcHRzIClcblx0XHR7XG5cdFx0XHRyZXR1cm4gdGhpcy5hcGkodHJ1ZSkucm93cyggc1NlbGVjdG9yLCBvT3B0cyApLmRhdGEoKTtcblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZSBhIERhdGFUYWJsZXMgQXBpIGluc3RhbmNlLCB3aXRoIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGFibGVzIGZvclxuXHRcdCAqIHRoZSBBcGkncyBjb250ZXh0LlxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyYWRpdGlvbmFsPWZhbHNlXSBTZXQgdGhlIEFQSSBpbnN0YW5jZSdzIGNvbnRleHQgdG8gYmVcblx0XHQgKiAgIG9ubHkgdGhlIHRhYmxlIHJlZmVycmVkIHRvIGJ5IHRoZSBgRGF0YVRhYmxlLmV4dC5pQXBpSW5kZXhgIG9wdGlvbiwgYXMgd2FzXG5cdFx0ICogICB1c2VkIGluIHRoZSBBUEkgcHJlc2VudGVkIGJ5IERhdGFUYWJsZXMgMS45LSAoaS5lLiB0aGUgdHJhZGl0aW9uYWwgbW9kZSksXG5cdFx0ICogICBvciBpZiBhbGwgdGFibGVzIGNhcHR1cmVkIGluIHRoZSBqUXVlcnkgb2JqZWN0IHNob3VsZCBiZSB1c2VkLlxuXHRcdCAqIEByZXR1cm4ge0RhdGFUYWJsZXMuQXBpfVxuXHRcdCAqL1xuXHRcdHRoaXMuYXBpID0gZnVuY3Rpb24gKCB0cmFkaXRpb25hbCApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIHRyYWRpdGlvbmFsID9cblx0XHRcdFx0bmV3IF9BcGkoXG5cdFx0XHRcdFx0X2ZuU2V0dGluZ3NGcm9tTm9kZSggdGhpc1sgX2V4dC5pQXBpSW5kZXggXSApXG5cdFx0XHRcdCkgOlxuXHRcdFx0XHRuZXcgX0FwaSggdGhpcyApO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQWRkIGEgc2luZ2xlIG5ldyByb3cgb3IgbXVsdGlwbGUgcm93cyBvZiBkYXRhIHRvIHRoZSB0YWJsZS4gUGxlYXNlIG5vdGVcblx0XHQgKiB0aGF0IHRoaXMgaXMgc3VpdGFibGUgZm9yIGNsaWVudC1zaWRlIHByb2Nlc3Npbmcgb25seSAtIGlmIHlvdSBhcmUgdXNpbmdcblx0XHQgKiBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIChpLmUuIFwiYlNlcnZlclNpZGVcIjogdHJ1ZSksIHRoZW4gdG8gYWRkIGRhdGEsIHlvdVxuXHRcdCAqIG11c3QgYWRkIGl0IHRvIHRoZSBkYXRhIHNvdXJjZSwgaS5lLiB0aGUgc2VydmVyLXNpZGUsIHRocm91Z2ggYW4gQWpheCBjYWxsLlxuXHRcdCAqICBAcGFyYW0ge2FycmF5fG9iamVjdH0gZGF0YSBUaGUgZGF0YSB0byBiZSBhZGRlZCB0byB0aGUgdGFibGUuIFRoaXMgY2FuIGJlOlxuXHRcdCAqICAgIDx1bD5cblx0XHQgKiAgICAgIDxsaT4xRCBhcnJheSBvZiBkYXRhIC0gYWRkIGEgc2luZ2xlIHJvdyB3aXRoIHRoZSBkYXRhIHByb3ZpZGVkPC9saT5cblx0XHQgKiAgICAgIDxsaT4yRCBhcnJheSBvZiBhcnJheXMgLSBhZGQgbXVsdGlwbGUgcm93cyBpbiBhIHNpbmdsZSBjYWxsPC9saT5cblx0XHQgKiAgICAgIDxsaT5vYmplY3QgLSBkYXRhIG9iamVjdCB3aGVuIHVzaW5nIDxpPm1EYXRhPC9pPjwvbGk+XG5cdFx0ICogICAgICA8bGk+YXJyYXkgb2Ygb2JqZWN0cyAtIG11bHRpcGxlIGRhdGEgb2JqZWN0cyB3aGVuIHVzaW5nIDxpPm1EYXRhPC9pPjwvbGk+XG5cdFx0ICogICAgPC91bD5cblx0XHQgKiAgQHBhcmFtIHtib29sfSBbcmVkcmF3PXRydWVdIHJlZHJhdyB0aGUgdGFibGUgb3Igbm90XG5cdFx0ICogIEByZXR1cm5zIHthcnJheX0gQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlcHJlc2VudGluZyB0aGUgbGlzdCBvZiBpbmRleGVzIGluXG5cdFx0ICogICAgPGk+YW9EYXRhPC9pPiAoe0BsaW5rIERhdGFUYWJsZS5tb2RlbHMub1NldHRpbmdzfSkgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG9cblx0XHQgKiAgICB0aGUgdGFibGUuXG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIEdsb2JhbCB2YXIgZm9yIGNvdW50ZXJcblx0XHQgKiAgICB2YXIgZ2lDb3VudCA9IDI7XG5cdFx0ICpcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogICAgZnVuY3Rpb24gZm5DbGlja0FkZFJvdygpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCkuZm5BZGREYXRhKCBbXG5cdFx0ICogICAgICAgIGdpQ291bnQrXCIuMVwiLFxuXHRcdCAqICAgICAgICBnaUNvdW50K1wiLjJcIixcblx0XHQgKiAgICAgICAgZ2lDb3VudCtcIi4zXCIsXG5cdFx0ICogICAgICAgIGdpQ291bnQrXCIuNFwiIF1cblx0XHQgKiAgICAgICk7XG5cdFx0ICpcblx0XHQgKiAgICAgIGdpQ291bnQrKztcblx0XHQgKiAgICB9XG5cdFx0ICovXG5cdFx0dGhpcy5mbkFkZERhdGEgPSBmdW5jdGlvbiggZGF0YSwgcmVkcmF3IClcblx0XHR7XG5cdFx0XHR2YXIgYXBpID0gdGhpcy5hcGkoIHRydWUgKTtcblx0XHRcblx0XHRcdC8qIENoZWNrIGlmIHdlIHdhbnQgdG8gYWRkIG11bHRpcGxlIHJvd3Mgb3Igbm90ICovXG5cdFx0XHR2YXIgcm93cyA9ICQuaXNBcnJheShkYXRhKSAmJiAoICQuaXNBcnJheShkYXRhWzBdKSB8fCAkLmlzUGxhaW5PYmplY3QoZGF0YVswXSkgKSA/XG5cdFx0XHRcdGFwaS5yb3dzLmFkZCggZGF0YSApIDpcblx0XHRcdFx0YXBpLnJvdy5hZGQoIGRhdGEgKTtcblx0XHRcblx0XHRcdGlmICggcmVkcmF3ID09PSB1bmRlZmluZWQgfHwgcmVkcmF3ICkge1xuXHRcdFx0XHRhcGkuZHJhdygpO1xuXHRcdFx0fVxuXHRcdFxuXHRcdFx0cmV0dXJuIHJvd3MuZmxhdHRlbigpLnRvQXJyYXkoKTtcblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgZnVuY3Rpb24gd2lsbCBtYWtlIERhdGFUYWJsZXMgcmVjYWxjdWxhdGUgdGhlIGNvbHVtbiBzaXplcywgYmFzZWQgb24gdGhlIGRhdGFcblx0XHQgKiBjb250YWluZWQgaW4gdGhlIHRhYmxlIGFuZCB0aGUgc2l6ZXMgYXBwbGllZCB0byB0aGUgY29sdW1ucyAoaW4gdGhlIERPTSwgQ1NTIG9yXG5cdFx0ICogdGhyb3VnaCB0aGUgc1dpZHRoIHBhcmFtZXRlcikuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHRoZSB3aWR0aCBvZiB0aGUgdGFibGUnc1xuXHRcdCAqIHBhcmVudCBlbGVtZW50IGNoYW5nZXMgKGZvciBleGFtcGxlIGEgd2luZG93IHJlc2l6ZSkuXG5cdFx0ICogIEBwYXJhbSB7Ym9vbGVhbn0gW2JSZWRyYXc9dHJ1ZV0gUmVkcmF3IHRoZSB0YWJsZSBvciBub3QsIHlvdSB3aWxsIHR5cGljYWxseSB3YW50IHRvXG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgdmFyIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic1Njcm9sbFlcIjogXCIyMDBweFwiLFxuXHRcdCAqICAgICAgICBcImJQYWdpbmF0ZVwiOiBmYWxzZVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqXG5cdFx0ICogICAgICAkKHdpbmRvdykuYmluZCgncmVzaXplJywgZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgICBvVGFibGUuZm5BZGp1c3RDb2x1bW5TaXppbmcoKTtcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mbkFkanVzdENvbHVtblNpemluZyA9IGZ1bmN0aW9uICggYlJlZHJhdyApXG5cdFx0e1xuXHRcdFx0dmFyIGFwaSA9IHRoaXMuYXBpKCB0cnVlICkuY29sdW1ucy5hZGp1c3QoKTtcblx0XHRcdHZhciBzZXR0aW5ncyA9IGFwaS5zZXR0aW5ncygpWzBdO1xuXHRcdFx0dmFyIHNjcm9sbCA9IHNldHRpbmdzLm9TY3JvbGw7XG5cdFx0XG5cdFx0XHRpZiAoIGJSZWRyYXcgPT09IHVuZGVmaW5lZCB8fCBiUmVkcmF3ICkge1xuXHRcdFx0XHRhcGkuZHJhdyggZmFsc2UgKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBzY3JvbGwuc1ggIT09IFwiXCIgfHwgc2Nyb2xsLnNZICE9PSBcIlwiICkge1xuXHRcdFx0XHQvKiBJZiBub3QgcmVkcmF3aW5nLCBidXQgc2Nyb2xsaW5nLCB3ZSB3YW50IHRvIGFwcGx5IHRoZSBuZXcgY29sdW1uIHNpemVzIGFueXdheSAqL1xuXHRcdFx0XHRfZm5TY3JvbGxEcmF3KCBzZXR0aW5ncyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogUXVpY2tseSBhbmQgc2ltcGx5IGNsZWFyIGEgdGFibGVcblx0XHQgKiAgQHBhcmFtIHtib29sfSBbYlJlZHJhdz10cnVlXSByZWRyYXcgdGhlIHRhYmxlIG9yIG5vdFxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBJbW1lZGlhdGVseSAnbnVrZScgdGhlIGN1cnJlbnQgcm93cyAocGVyaGFwcyB3YWl0aW5nIGZvciBhbiBBamF4IGNhbGxiYWNrLi4uKVxuXHRcdCAqICAgICAgb1RhYmxlLmZuQ2xlYXJUYWJsZSgpO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuQ2xlYXJUYWJsZSA9IGZ1bmN0aW9uKCBiUmVkcmF3IClcblx0XHR7XG5cdFx0XHR2YXIgYXBpID0gdGhpcy5hcGkoIHRydWUgKS5jbGVhcigpO1xuXHRcdFxuXHRcdFx0aWYgKCBiUmVkcmF3ID09PSB1bmRlZmluZWQgfHwgYlJlZHJhdyApIHtcblx0XHRcdFx0YXBpLmRyYXcoKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBleGFjdCBvcHBvc2l0ZSBvZiAnb3BlbmluZycgYSByb3csIHRoaXMgZnVuY3Rpb24gd2lsbCBjbG9zZSBhbnkgcm93cyB3aGljaFxuXHRcdCAqIGFyZSBjdXJyZW50bHkgJ29wZW4nLlxuXHRcdCAqICBAcGFyYW0ge25vZGV9IG5UciB0aGUgdGFibGUgcm93IHRvICdjbG9zZSdcblx0XHQgKiAgQHJldHVybnMge2ludH0gMCBvbiBzdWNjZXNzLCBvciAxIGlmIGZhaWxlZCAoY2FuJ3QgZmluZCB0aGUgcm93KVxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGU7XG5cdFx0ICpcblx0XHQgKiAgICAgIC8vICdvcGVuJyBhbiBpbmZvcm1hdGlvbiByb3cgd2hlbiBhIHJvdyBpcyBjbGlja2VkIG9uXG5cdFx0ICogICAgICAkKCcjZXhhbXBsZSB0Ym9keSB0cicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XG5cdFx0ICogICAgICAgIGlmICggb1RhYmxlLmZuSXNPcGVuKHRoaXMpICkge1xuXHRcdCAqICAgICAgICAgIG9UYWJsZS5mbkNsb3NlKCB0aGlzICk7XG5cdFx0ICogICAgICAgIH0gZWxzZSB7XG5cdFx0ICogICAgICAgICAgb1RhYmxlLmZuT3BlbiggdGhpcywgXCJUZW1wb3Jhcnkgcm93IG9wZW5lZFwiLCBcImluZm9fcm93XCIgKTtcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqXG5cdFx0ICogICAgICBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuQ2xvc2UgPSBmdW5jdGlvbiggblRyIClcblx0XHR7XG5cdFx0XHR0aGlzLmFwaSggdHJ1ZSApLnJvdyggblRyICkuY2hpbGQuaGlkZSgpO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlIGEgcm93IGZvciB0aGUgdGFibGVcblx0XHQgKiAgQHBhcmFtIHttaXhlZH0gdGFyZ2V0IFRoZSBpbmRleCBvZiB0aGUgcm93IGZyb20gYW9EYXRhIHRvIGJlIGRlbGV0ZWQsIG9yXG5cdFx0ICogICAgdGhlIFRSIGVsZW1lbnQgeW91IHdhbnQgdG8gZGVsZXRlXG5cdFx0ICogIEBwYXJhbSB7ZnVuY3Rpb258bnVsbH0gW2NhbGxCYWNrXSBDYWxsYmFjayBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtyZWRyYXc9dHJ1ZV0gUmVkcmF3IHRoZSB0YWJsZSBvciBub3Rcblx0XHQgKiAgQHJldHVybnMge2FycmF5fSBUaGUgcm93IHRoYXQgd2FzIGRlbGV0ZWRcblx0XHQgKiAgQGR0b3B0IEFQSVxuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICB2YXIgb1RhYmxlID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKTtcblx0XHQgKlxuXHRcdCAqICAgICAgLy8gSW1tZWRpYXRlbHkgcmVtb3ZlIHRoZSBmaXJzdCByb3dcblx0XHQgKiAgICAgIG9UYWJsZS5mbkRlbGV0ZVJvdyggMCApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuRGVsZXRlUm93ID0gZnVuY3Rpb24oIHRhcmdldCwgY2FsbGJhY2ssIHJlZHJhdyApXG5cdFx0e1xuXHRcdFx0dmFyIGFwaSA9IHRoaXMuYXBpKCB0cnVlICk7XG5cdFx0XHR2YXIgcm93cyA9IGFwaS5yb3dzKCB0YXJnZXQgKTtcblx0XHRcdHZhciBzZXR0aW5ncyA9IHJvd3Muc2V0dGluZ3MoKVswXTtcblx0XHRcdHZhciBkYXRhID0gc2V0dGluZ3MuYW9EYXRhWyByb3dzWzBdWzBdIF07XG5cdFx0XG5cdFx0XHRyb3dzLnJlbW92ZSgpO1xuXHRcdFxuXHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggdGhpcywgc2V0dGluZ3MsIGRhdGEgKTtcblx0XHRcdH1cblx0XHRcblx0XHRcdGlmICggcmVkcmF3ID09PSB1bmRlZmluZWQgfHwgcmVkcmF3ICkge1xuXHRcdFx0XHRhcGkuZHJhdygpO1xuXHRcdFx0fVxuXHRcdFxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBSZXN0b3JlIHRoZSB0YWJsZSB0byBpdCdzIG9yaWdpbmFsIHN0YXRlIGluIHRoZSBET00gYnkgcmVtb3ZpbmcgYWxsIG9mIERhdGFUYWJsZXNcblx0XHQgKiBlbmhhbmNlbWVudHMsIGFsdGVyYXRpb25zIHRvIHRoZSBET00gc3RydWN0dXJlIG9mIHRoZSB0YWJsZSBhbmQgZXZlbnQgbGlzdGVuZXJzLlxuXHRcdCAqICBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmU9ZmFsc2VdIENvbXBsZXRlbHkgcmVtb3ZlIHRoZSB0YWJsZSBmcm9tIHRoZSBET01cblx0XHQgKiAgQGR0b3B0IEFQSVxuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAvLyBUaGlzIGV4YW1wbGUgaXMgZmFpcmx5IHBvaW50bGVzcyBpbiByZWFsaXR5LCBidXQgc2hvd3MgaG93IGZuRGVzdHJveSBjYW4gYmUgdXNlZFxuXHRcdCAqICAgICAgdmFyIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICogICAgICBvVGFibGUuZm5EZXN0cm95KCk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdHRoaXMuZm5EZXN0cm95ID0gZnVuY3Rpb24gKCByZW1vdmUgKVxuXHRcdHtcblx0XHRcdHRoaXMuYXBpKCB0cnVlICkuZGVzdHJveSggcmVtb3ZlICk7XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBSZWRyYXcgdGhlIHRhYmxlXG5cdFx0ICogIEBwYXJhbSB7Ym9vbH0gW2NvbXBsZXRlPXRydWVdIFJlLWZpbHRlciBhbmQgcmVzb3J0IChpZiBlbmFibGVkKSB0aGUgdGFibGUgYmVmb3JlIHRoZSBkcmF3LlxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBSZS1kcmF3IHRoZSB0YWJsZSAtIHlvdSB3b3VsZG4ndCB3YW50IHRvIGRvIGl0IGhlcmUsIGJ1dCBpdCdzIGFuIGV4YW1wbGUgOi0pXG5cdFx0ICogICAgICBvVGFibGUuZm5EcmF3KCk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdHRoaXMuZm5EcmF3ID0gZnVuY3Rpb24oIGNvbXBsZXRlIClcblx0XHR7XG5cdFx0XHQvLyBOb3RlIHRoYXQgdGhpcyBpc24ndCBhbiBleGFjdCBtYXRjaCB0byB0aGUgb2xkIGNhbGwgdG8gX2ZuRHJhdyAtIGl0IHRha2VzXG5cdFx0XHQvLyBpbnRvIGFjY291bnQgdGhlIG5ldyBkYXRhLCBidXQgY2FuIGhvbGQgcG9zaXRpb24uXG5cdFx0XHR0aGlzLmFwaSggdHJ1ZSApLmRyYXcoIGNvbXBsZXRlICk7XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBGaWx0ZXIgdGhlIGlucHV0IGJhc2VkIG9uIGRhdGFcblx0XHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNJbnB1dCBTdHJpbmcgdG8gZmlsdGVyIHRoZSB0YWJsZSBvblxuXHRcdCAqICBAcGFyYW0ge2ludHxudWxsfSBbaUNvbHVtbl0gQ29sdW1uIHRvIGxpbWl0IGZpbHRlcmluZyB0b1xuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtiUmVnZXg9ZmFsc2VdIFRyZWF0IGFzIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBub3Rcblx0XHQgKiAgQHBhcmFtIHtib29sfSBbYlNtYXJ0PXRydWVdIFBlcmZvcm0gc21hcnQgZmlsdGVyaW5nIG9yIG5vdFxuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtiU2hvd0dsb2JhbD10cnVlXSBTaG93IHRoZSBpbnB1dCBnbG9iYWwgZmlsdGVyIGluIGl0J3MgaW5wdXQgYm94KGVzKVxuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtiQ2FzZUluc2Vuc2l0aXZlPXRydWVdIERvIGNhc2UtaW5zZW5zaXRpdmUgbWF0Y2hpbmcgKHRydWUpIG9yIG5vdCAoZmFsc2UpXG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgdmFyIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICpcblx0XHQgKiAgICAgIC8vIFNvbWV0aW1lIGxhdGVyIC0gZmlsdGVyLi4uXG5cdFx0ICogICAgICBvVGFibGUuZm5GaWx0ZXIoICd0ZXN0IHN0cmluZycgKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mbkZpbHRlciA9IGZ1bmN0aW9uKCBzSW5wdXQsIGlDb2x1bW4sIGJSZWdleCwgYlNtYXJ0LCBiU2hvd0dsb2JhbCwgYkNhc2VJbnNlbnNpdGl2ZSApXG5cdFx0e1xuXHRcdFx0dmFyIGFwaSA9IHRoaXMuYXBpKCB0cnVlICk7XG5cdFx0XG5cdFx0XHRpZiAoIGlDb2x1bW4gPT09IG51bGwgfHwgaUNvbHVtbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRhcGkuc2VhcmNoKCBzSW5wdXQsIGJSZWdleCwgYlNtYXJ0LCBiQ2FzZUluc2Vuc2l0aXZlICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0YXBpLmNvbHVtbiggaUNvbHVtbiApLnNlYXJjaCggc0lucHV0LCBiUmVnZXgsIGJTbWFydCwgYkNhc2VJbnNlbnNpdGl2ZSApO1xuXHRcdFx0fVxuXHRcdFxuXHRcdFx0YXBpLmRyYXcoKTtcblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgZGF0YSBmb3IgdGhlIHdob2xlIHRhYmxlLCBhbiBpbmRpdmlkdWFsIHJvdyBvciBhbiBpbmRpdmlkdWFsIGNlbGwgYmFzZWQgb24gdGhlXG5cdFx0ICogcHJvdmlkZWQgcGFyYW1ldGVycy5cblx0XHQgKiAgQHBhcmFtIHtpbnR8bm9kZX0gW3NyY10gQSBUUiByb3cgbm9kZSwgVEQvVEggY2VsbCBub2RlIG9yIGFuIGludGVnZXIuIElmIGdpdmVuIGFzXG5cdFx0ICogICAgYSBUUiBub2RlIHRoZW4gdGhlIGRhdGEgc291cmNlIGZvciB0aGUgd2hvbGUgcm93IHdpbGwgYmUgcmV0dXJuZWQuIElmIGdpdmVuIGFzIGFcblx0XHQgKiAgICBURC9USCBjZWxsIG5vZGUgdGhlbiBpQ29sIHdpbGwgYmUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGFuZCB0aGUgZGF0YSBmb3IgdGhlXG5cdFx0ICogICAgY2VsbCByZXR1cm5lZC4gSWYgZ2l2ZW4gYXMgYW4gaW50ZWdlciwgdGhlbiB0aGlzIGlzIHRyZWF0ZWQgYXMgdGhlIGFvRGF0YSBpbnRlcm5hbFxuXHRcdCAqICAgIGRhdGEgaW5kZXggZm9yIHRoZSByb3cgKHNlZSBmbkdldFBvc2l0aW9uKSBhbmQgdGhlIGRhdGEgZm9yIHRoYXQgcm93IHVzZWQuXG5cdFx0ICogIEBwYXJhbSB7aW50fSBbY29sXSBPcHRpb25hbCBjb2x1bW4gaW5kZXggdGhhdCB5b3Ugd2FudCB0aGUgZGF0YSBvZi5cblx0XHQgKiAgQHJldHVybnMge2FycmF5fG9iamVjdHxzdHJpbmd9IElmIG1Sb3cgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSBkYXRhIGZvciBhbGwgcm93cyBpc1xuXHRcdCAqICAgIHJldHVybmVkLiBJZiBtUm93IGlzIGRlZmluZWQsIGp1c3QgZGF0YSBmb3IgdGhhdCByb3csIGFuZCBpcyBpQ29sIGlzXG5cdFx0ICogICAgZGVmaW5lZCwgb25seSBkYXRhIGZvciB0aGUgZGVzaWduYXRlZCBjZWxsIGlzIHJldHVybmVkLlxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBSb3cgZGF0YVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgb1RhYmxlID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKTtcblx0XHQgKlxuXHRcdCAqICAgICAgb1RhYmxlLiQoJ3RyJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICAgdmFyIGRhdGEgPSBvVGFibGUuZm5HZXREYXRhKCB0aGlzICk7XG5cdFx0ICogICAgICAgIC8vIC4uLiBkbyBzb21ldGhpbmcgd2l0aCB0aGUgYXJyYXkgLyBvYmplY3Qgb2YgZGF0YSBmb3IgdGhlIHJvd1xuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIEluZGl2aWR1YWwgY2VsbCBkYXRhXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICBvVGFibGUuJCgndGQnKS5jbGljayggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgICB2YXIgc0RhdGEgPSBvVGFibGUuZm5HZXREYXRhKCB0aGlzICk7XG5cdFx0ICogICAgICAgIGFsZXJ0KCAnVGhlIGNlbGwgY2xpY2tlZCBvbiBoYWQgdGhlIHZhbHVlIG9mICcrc0RhdGEgKTtcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mbkdldERhdGEgPSBmdW5jdGlvbiggc3JjLCBjb2wgKVxuXHRcdHtcblx0XHRcdHZhciBhcGkgPSB0aGlzLmFwaSggdHJ1ZSApO1xuXHRcdFxuXHRcdFx0aWYgKCBzcmMgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dmFyIHR5cGUgPSBzcmMubm9kZU5hbWUgPyBzcmMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA6ICcnO1xuXHRcdFxuXHRcdFx0XHRyZXR1cm4gY29sICE9PSB1bmRlZmluZWQgfHwgdHlwZSA9PSAndGQnIHx8IHR5cGUgPT0gJ3RoJyA/XG5cdFx0XHRcdFx0YXBpLmNlbGwoIHNyYywgY29sICkuZGF0YSgpIDpcblx0XHRcdFx0XHRhcGkucm93KCBzcmMgKS5kYXRhKCkgfHwgbnVsbDtcblx0XHRcdH1cblx0XHRcblx0XHRcdHJldHVybiBhcGkuZGF0YSgpLnRvQXJyYXkoKTtcblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEdldCBhbiBhcnJheSBvZiB0aGUgVFIgbm9kZXMgdGhhdCBhcmUgdXNlZCBpbiB0aGUgdGFibGUncyBib2R5LiBOb3RlIHRoYXQgeW91IHdpbGxcblx0XHQgKiB0eXBpY2FsbHkgd2FudCB0byB1c2UgdGhlICckJyBBUEkgbWV0aG9kIGluIHByZWZlcmVuY2UgdG8gdGhpcyBhcyBpdCBpcyBtb3JlXG5cdFx0ICogZmxleGlibGUuXG5cdFx0ICogIEBwYXJhbSB7aW50fSBbaVJvd10gT3B0aW9uYWwgcm93IGluZGV4IGZvciB0aGUgVFIgZWxlbWVudCB5b3Ugd2FudFxuXHRcdCAqICBAcmV0dXJucyB7YXJyYXl8bm9kZX0gSWYgaVJvdyBpcyB1bmRlZmluZWQsIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIFRSIGVsZW1lbnRzXG5cdFx0ICogICAgaW4gdGhlIHRhYmxlJ3MgYm9keSwgb3IgaVJvdyBpcyBkZWZpbmVkLCBqdXN0IHRoZSBUUiBlbGVtZW50IHJlcXVlc3RlZC5cblx0XHQgKiAgQGR0b3B0IEFQSVxuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICB2YXIgb1RhYmxlID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKTtcblx0XHQgKlxuXHRcdCAqICAgICAgLy8gR2V0IHRoZSBub2RlcyBmcm9tIHRoZSB0YWJsZVxuXHRcdCAqICAgICAgdmFyIG5Ob2RlcyA9IG9UYWJsZS5mbkdldE5vZGVzKCApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuR2V0Tm9kZXMgPSBmdW5jdGlvbiggaVJvdyApXG5cdFx0e1xuXHRcdFx0dmFyIGFwaSA9IHRoaXMuYXBpKCB0cnVlICk7XG5cdFx0XG5cdFx0XHRyZXR1cm4gaVJvdyAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0YXBpLnJvdyggaVJvdyApLm5vZGUoKSA6XG5cdFx0XHRcdGFwaS5yb3dzKCkubm9kZXMoKS5mbGF0dGVuKCkudG9BcnJheSgpO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBhcnJheSBpbmRleGVzIG9mIGEgcGFydGljdWxhciBjZWxsIGZyb20gaXQncyBET00gZWxlbWVudFxuXHRcdCAqIGFuZCBjb2x1bW4gaW5kZXggaW5jbHVkaW5nIGhpZGRlbiBjb2x1bW5zXG5cdFx0ICogIEBwYXJhbSB7bm9kZX0gbm9kZSB0aGlzIGNhbiBlaXRoZXIgYmUgYSBUUiwgVEQgb3IgVEggaW4gdGhlIHRhYmxlJ3MgYm9keVxuXHRcdCAqICBAcmV0dXJucyB7aW50fSBJZiBuTm9kZSBpcyBnaXZlbiBhcyBhIFRSLCB0aGVuIGEgc2luZ2xlIGluZGV4IGlzIHJldHVybmVkLCBvclxuXHRcdCAqICAgIGlmIGdpdmVuIGFzIGEgY2VsbCwgYW4gYXJyYXkgb2YgW3JvdyBpbmRleCwgY29sdW1uIGluZGV4ICh2aXNpYmxlKSxcblx0XHQgKiAgICBjb2x1bW4gaW5kZXggKGFsbCldIGlzIGdpdmVuLlxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlIHRib2R5IHRkJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICAgLy8gR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBkYXRhIGZyb20gdGhlIG5vZGVcblx0XHQgKiAgICAgICAgdmFyIGFQb3MgPSBvVGFibGUuZm5HZXRQb3NpdGlvbiggdGhpcyApO1xuXHRcdCAqXG5cdFx0ICogICAgICAgIC8vIEdldCB0aGUgZGF0YSBhcnJheSBmb3IgdGhpcyByb3dcblx0XHQgKiAgICAgICAgdmFyIGFEYXRhID0gb1RhYmxlLmZuR2V0RGF0YSggYVBvc1swXSApO1xuXHRcdCAqXG5cdFx0ICogICAgICAgIC8vIFVwZGF0ZSB0aGUgZGF0YSBhcnJheSBhbmQgcmV0dXJuIHRoZSB2YWx1ZVxuXHRcdCAqICAgICAgICBhRGF0YVsgYVBvc1sxXSBdID0gJ2NsaWNrZWQnO1xuXHRcdCAqICAgICAgICB0aGlzLmlubmVySFRNTCA9ICdjbGlja2VkJztcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICAgICAgLy8gSW5pdCBEYXRhVGFibGVzXG5cdFx0ICogICAgICBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuR2V0UG9zaXRpb24gPSBmdW5jdGlvbiggbm9kZSApXG5cdFx0e1xuXHRcdFx0dmFyIGFwaSA9IHRoaXMuYXBpKCB0cnVlICk7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG5cdFx0XG5cdFx0XHRpZiAoIG5vZGVOYW1lID09ICdUUicgKSB7XG5cdFx0XHRcdHJldHVybiBhcGkucm93KCBub2RlICkuaW5kZXgoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBub2RlTmFtZSA9PSAnVEQnIHx8IG5vZGVOYW1lID09ICdUSCcgKSB7XG5cdFx0XHRcdHZhciBjZWxsID0gYXBpLmNlbGwoIG5vZGUgKS5pbmRleCgpO1xuXHRcdFxuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGNlbGwucm93LFxuXHRcdFx0XHRcdGNlbGwuY29sdW1uVmlzaWJsZSxcblx0XHRcdFx0XHRjZWxsLmNvbHVtblxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBDaGVjayB0byBzZWUgaWYgYSByb3cgaXMgJ29wZW4nIG9yIG5vdC5cblx0XHQgKiAgQHBhcmFtIHtub2RlfSBuVHIgdGhlIHRhYmxlIHJvdyB0byBjaGVja1xuXHRcdCAqICBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgcm93IGlzIGN1cnJlbnRseSBvcGVuLCBmYWxzZSBvdGhlcndpc2Vcblx0XHQgKiAgQGR0b3B0IEFQSVxuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICB2YXIgb1RhYmxlO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyAnb3BlbicgYW4gaW5mb3JtYXRpb24gcm93IHdoZW4gYSByb3cgaXMgY2xpY2tlZCBvblxuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUgdGJvZHkgdHInKS5jbGljayggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgICBpZiAoIG9UYWJsZS5mbklzT3Blbih0aGlzKSApIHtcblx0XHQgKiAgICAgICAgICBvVGFibGUuZm5DbG9zZSggdGhpcyApO1xuXHRcdCAqICAgICAgICB9IGVsc2Uge1xuXHRcdCAqICAgICAgICAgIG9UYWJsZS5mbk9wZW4oIHRoaXMsIFwiVGVtcG9yYXJ5IHJvdyBvcGVuZWRcIiwgXCJpbmZvX3Jvd1wiICk7XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICAgICAgb1RhYmxlID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mbklzT3BlbiA9IGZ1bmN0aW9uKCBuVHIgKVxuXHRcdHtcblx0XHRcdHJldHVybiB0aGlzLmFwaSggdHJ1ZSApLnJvdyggblRyICkuY2hpbGQuaXNTaG93bigpO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBmdW5jdGlvbiB3aWxsIHBsYWNlIGEgbmV3IHJvdyBkaXJlY3RseSBhZnRlciBhIHJvdyB3aGljaCBpcyBjdXJyZW50bHlcblx0XHQgKiBvbiBkaXNwbGF5IG9uIHRoZSBwYWdlLCB3aXRoIHRoZSBIVE1MIGNvbnRlbnRzIHRoYXQgaXMgcGFzc2VkIGludG8gdGhlXG5cdFx0ICogZnVuY3Rpb24uIFRoaXMgY2FuIGJlIHVzZWQsIGZvciBleGFtcGxlLCB0byBhc2sgZm9yIGNvbmZpcm1hdGlvbiB0aGF0IGFcblx0XHQgKiBwYXJ0aWN1bGFyIHJlY29yZCBzaG91bGQgYmUgZGVsZXRlZC5cblx0XHQgKiAgQHBhcmFtIHtub2RlfSBuVHIgVGhlIHRhYmxlIHJvdyB0byAnb3Blbidcblx0XHQgKiAgQHBhcmFtIHtzdHJpbmd8bm9kZXxqUXVlcnl9IG1IdG1sIFRoZSBIVE1MIHRvIHB1dCBpbnRvIHRoZSByb3dcblx0XHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNDbGFzcyBDbGFzcyB0byBnaXZlIHRoZSBuZXcgVEQgY2VsbFxuXHRcdCAqICBAcmV0dXJucyB7bm9kZX0gVGhlIHJvdyBvcGVuZWQuIE5vdGUgdGhhdCBpZiB0aGUgdGFibGUgcm93IHBhc3NlZCBpbiBhcyB0aGVcblx0XHQgKiAgICBmaXJzdCBwYXJhbWV0ZXIsIGlzIG5vdCBmb3VuZCBpbiB0aGUgdGFibGUsIHRoaXMgbWV0aG9kIHdpbGwgc2lsZW50bHlcblx0XHQgKiAgICByZXR1cm4uXG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgdmFyIG9UYWJsZTtcblx0XHQgKlxuXHRcdCAqICAgICAgLy8gJ29wZW4nIGFuIGluZm9ybWF0aW9uIHJvdyB3aGVuIGEgcm93IGlzIGNsaWNrZWQgb25cblx0XHQgKiAgICAgICQoJyNleGFtcGxlIHRib2R5IHRyJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICAgaWYgKCBvVGFibGUuZm5Jc09wZW4odGhpcykgKSB7XG5cdFx0ICogICAgICAgICAgb1RhYmxlLmZuQ2xvc2UoIHRoaXMgKTtcblx0XHQgKiAgICAgICAgfSBlbHNlIHtcblx0XHQgKiAgICAgICAgICBvVGFibGUuZm5PcGVuKCB0aGlzLCBcIlRlbXBvcmFyeSByb3cgb3BlbmVkXCIsIFwiaW5mb19yb3dcIiApO1xuXHRcdCAqICAgICAgICB9XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgICAgIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdHRoaXMuZm5PcGVuID0gZnVuY3Rpb24oIG5UciwgbUh0bWwsIHNDbGFzcyApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIHRoaXMuYXBpKCB0cnVlIClcblx0XHRcdFx0LnJvdyggblRyIClcblx0XHRcdFx0LmNoaWxkKCBtSHRtbCwgc0NsYXNzIClcblx0XHRcdFx0LnNob3coKVxuXHRcdFx0XHQuY2hpbGQoKVswXTtcblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENoYW5nZSB0aGUgcGFnaW5hdGlvbiAtIHByb3ZpZGVzIHRoZSBpbnRlcm5hbCBsb2dpYyBmb3IgcGFnaW5hdGlvbiBpbiBhIHNpbXBsZSBBUElcblx0XHQgKiBmdW5jdGlvbi4gV2l0aCB0aGlzIGZ1bmN0aW9uIHlvdSBjYW4gaGF2ZSBhIERhdGFUYWJsZXMgdGFibGUgZ28gdG8gdGhlIG5leHQsXG5cdFx0ICogcHJldmlvdXMsIGZpcnN0IG9yIGxhc3QgcGFnZXMuXG5cdFx0ICogIEBwYXJhbSB7c3RyaW5nfGludH0gbUFjdGlvbiBQYWdpbmcgYWN0aW9uIHRvIHRha2U6IFwiZmlyc3RcIiwgXCJwcmV2aW91c1wiLCBcIm5leHRcIiBvciBcImxhc3RcIlxuXHRcdCAqICAgIG9yIHBhZ2UgbnVtYmVyIHRvIGp1bXAgdG8gKGludGVnZXIpLCBub3RlIHRoYXQgcGFnZSAwIGlzIHRoZSBmaXJzdCBwYWdlLlxuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtiUmVkcmF3PXRydWVdIFJlZHJhdyB0aGUgdGFibGUgb3Igbm90XG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgdmFyIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICogICAgICBvVGFibGUuZm5QYWdlQ2hhbmdlKCAnbmV4dCcgKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mblBhZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoIG1BY3Rpb24sIGJSZWRyYXcgKVxuXHRcdHtcblx0XHRcdHZhciBhcGkgPSB0aGlzLmFwaSggdHJ1ZSApLnBhZ2UoIG1BY3Rpb24gKTtcblx0XHRcblx0XHRcdGlmICggYlJlZHJhdyA9PT0gdW5kZWZpbmVkIHx8IGJSZWRyYXcgKSB7XG5cdFx0XHRcdGFwaS5kcmF3KGZhbHNlKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFNob3cgYSBwYXJ0aWN1bGFyIGNvbHVtblxuXHRcdCAqICBAcGFyYW0ge2ludH0gaUNvbCBUaGUgY29sdW1uIHdob3NlIGRpc3BsYXkgc2hvdWxkIGJlIGNoYW5nZWRcblx0XHQgKiAgQHBhcmFtIHtib29sfSBiU2hvdyBTaG93ICh0cnVlKSBvciBoaWRlIChmYWxzZSkgdGhlIGNvbHVtblxuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtiUmVkcmF3PXRydWVdIFJlZHJhdyB0aGUgdGFibGUgb3Igbm90XG5cdFx0ICogIEBkdG9wdCBBUElcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgdmFyIG9UYWJsZSA9ICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdFx0ICpcblx0XHQgKiAgICAgIC8vIEhpZGUgdGhlIHNlY29uZCBjb2x1bW4gYWZ0ZXIgaW5pdGlhbGlzYXRpb25cblx0XHQgKiAgICAgIG9UYWJsZS5mblNldENvbHVtblZpcyggMSwgZmFsc2UgKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mblNldENvbHVtblZpcyA9IGZ1bmN0aW9uICggaUNvbCwgYlNob3csIGJSZWRyYXcgKVxuXHRcdHtcblx0XHRcdHZhciBhcGkgPSB0aGlzLmFwaSggdHJ1ZSApLmNvbHVtbiggaUNvbCApLnZpc2libGUoIGJTaG93ICk7XG5cdFx0XG5cdFx0XHRpZiAoIGJSZWRyYXcgPT09IHVuZGVmaW5lZCB8fCBiUmVkcmF3ICkge1xuXHRcdFx0XHRhcGkuY29sdW1ucy5hZGp1c3QoKS5kcmF3KCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIHNldHRpbmdzIGZvciBhIHBhcnRpY3VsYXIgdGFibGUgZm9yIGV4dGVybmFsIG1hbmlwdWxhdGlvblxuXHRcdCAqICBAcmV0dXJucyB7b2JqZWN0fSBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdC4gU2VlXG5cdFx0ICogICAge0BsaW5rIERhdGFUYWJsZS5tb2RlbHMub1NldHRpbmdzfVxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqICAgICAgdmFyIG9TZXR0aW5ncyA9IG9UYWJsZS5mblNldHRpbmdzKCk7XG5cdFx0ICpcblx0XHQgKiAgICAgIC8vIFNob3cgYW4gZXhhbXBsZSBwYXJhbWV0ZXIgZnJvbSB0aGUgc2V0dGluZ3Ncblx0XHQgKiAgICAgIGFsZXJ0KCBvU2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQgKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mblNldHRpbmdzID0gZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdHJldHVybiBfZm5TZXR0aW5nc0Zyb21Ob2RlKCB0aGlzW19leHQuaUFwaUluZGV4XSApO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogU29ydCB0aGUgdGFibGUgYnkgYSBwYXJ0aWN1bGFyIGNvbHVtblxuXHRcdCAqICBAcGFyYW0ge2ludH0gaUNvbCB0aGUgZGF0YSBpbmRleCB0byBzb3J0IG9uLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCBtYXRjaCB0aGVcblx0XHQgKiAgICAnZGlzcGxheSBpbmRleCcgaWYgeW91IGhhdmUgaGlkZGVuIGRhdGEgZW50cmllc1xuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqXG5cdFx0ICogICAgICAvLyBTb3J0IGltbWVkaWF0ZWx5IHdpdGggY29sdW1ucyAwIGFuZCAxXG5cdFx0ICogICAgICBvVGFibGUuZm5Tb3J0KCBbIFswLCdhc2MnXSwgWzEsJ2FzYyddIF0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0dGhpcy5mblNvcnQgPSBmdW5jdGlvbiggYWFTb3J0IClcblx0XHR7XG5cdFx0XHR0aGlzLmFwaSggdHJ1ZSApLm9yZGVyKCBhYVNvcnQgKS5kcmF3KCk7XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHQvKipcblx0XHQgKiBBdHRhY2ggYSBzb3J0IGxpc3RlbmVyIHRvIGFuIGVsZW1lbnQgZm9yIGEgZ2l2ZW4gY29sdW1uXG5cdFx0ICogIEBwYXJhbSB7bm9kZX0gbk5vZGUgdGhlIGVsZW1lbnQgdG8gYXR0YWNoIHRoZSBzb3J0IGxpc3RlbmVyIHRvXG5cdFx0ICogIEBwYXJhbSB7aW50fSBpQ29sdW1uIHRoZSBjb2x1bW4gdGhhdCBhIGNsaWNrIG9uIHRoaXMgbm9kZSB3aWxsIHNvcnQgb25cblx0XHQgKiAgQHBhcmFtIHtmdW5jdGlvbn0gW2ZuQ2FsbGJhY2tdIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gc29ydCBpcyBydW5cblx0XHQgKiAgQGR0b3B0IEFQSVxuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICB2YXIgb1RhYmxlID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKTtcblx0XHQgKlxuXHRcdCAqICAgICAgLy8gU29ydCBvbiBjb2x1bW4gMSwgd2hlbiAnc29ydGVyJyBpcyBjbGlja2VkIG9uXG5cdFx0ICogICAgICBvVGFibGUuZm5Tb3J0TGlzdGVuZXIoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3J0ZXInKSwgMSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuU29ydExpc3RlbmVyID0gZnVuY3Rpb24oIG5Ob2RlLCBpQ29sdW1uLCBmbkNhbGxiYWNrIClcblx0XHR7XG5cdFx0XHR0aGlzLmFwaSggdHJ1ZSApLm9yZGVyLmxpc3RlbmVyKCBuTm9kZSwgaUNvbHVtbiwgZm5DYWxsYmFjayApO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlIGEgdGFibGUgY2VsbCBvciByb3cgLSB0aGlzIG1ldGhvZCB3aWxsIGFjY2VwdCBlaXRoZXIgYSBzaW5nbGUgdmFsdWUgdG9cblx0XHQgKiB1cGRhdGUgdGhlIGNlbGwgd2l0aCwgYW4gYXJyYXkgb2YgdmFsdWVzIHdpdGggb25lIGVsZW1lbnQgZm9yIGVhY2ggY29sdW1uIG9yXG5cdFx0ICogYW4gb2JqZWN0IGluIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgb3JpZ2luYWwgZGF0YSBzb3VyY2UuIFRoZSBmdW5jdGlvbiBpc1xuXHRcdCAqIHNlbGYtcmVmZXJlbmNpbmcgaW4gb3JkZXIgdG8gbWFrZSB0aGUgbXVsdGkgY29sdW1uIHVwZGF0ZXMgZWFzaWVyLlxuXHRcdCAqICBAcGFyYW0ge29iamVjdHxhcnJheXxzdHJpbmd9IG1EYXRhIERhdGEgdG8gdXBkYXRlIHRoZSBjZWxsL3JvdyB3aXRoXG5cdFx0ICogIEBwYXJhbSB7bm9kZXxpbnR9IG1Sb3cgVFIgZWxlbWVudCB5b3Ugd2FudCB0byB1cGRhdGUgb3IgdGhlIGFvRGF0YSBpbmRleFxuXHRcdCAqICBAcGFyYW0ge2ludH0gW2lDb2x1bW5dIFRoZSBjb2x1bW4gdG8gdXBkYXRlLCBnaXZlIGFzIG51bGwgb3IgdW5kZWZpbmVkIHRvXG5cdFx0ICogICAgdXBkYXRlIGEgd2hvbGUgcm93LlxuXHRcdCAqICBAcGFyYW0ge2Jvb2x9IFtiUmVkcmF3PXRydWVdIFJlZHJhdyB0aGUgdGFibGUgb3Igbm90XG5cdFx0ICogIEBwYXJhbSB7Ym9vbH0gW2JBY3Rpb249dHJ1ZV0gUGVyZm9ybSBwcmUtZHJhdyBhY3Rpb25zIG9yIG5vdFxuXHRcdCAqICBAcmV0dXJucyB7aW50fSAwIG9uIHN1Y2Nlc3MsIDEgb24gZXJyb3Jcblx0XHQgKiAgQGR0b3B0IEFQSVxuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICB2YXIgb1RhYmxlID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKTtcblx0XHQgKiAgICAgIG9UYWJsZS5mblVwZGF0ZSggJ0V4YW1wbGUgdXBkYXRlJywgMCwgMCApOyAvLyBTaW5nbGUgY2VsbFxuXHRcdCAqICAgICAgb1RhYmxlLmZuVXBkYXRlKCBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddLCAkKCd0Ym9keSB0cicpWzBdICk7IC8vIFJvd1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHR0aGlzLmZuVXBkYXRlID0gZnVuY3Rpb24oIG1EYXRhLCBtUm93LCBpQ29sdW1uLCBiUmVkcmF3LCBiQWN0aW9uIClcblx0XHR7XG5cdFx0XHR2YXIgYXBpID0gdGhpcy5hcGkoIHRydWUgKTtcblx0XHRcblx0XHRcdGlmICggaUNvbHVtbiA9PT0gdW5kZWZpbmVkIHx8IGlDb2x1bW4gPT09IG51bGwgKSB7XG5cdFx0XHRcdGFwaS5yb3coIG1Sb3cgKS5kYXRhKCBtRGF0YSApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGFwaS5jZWxsKCBtUm93LCBpQ29sdW1uICkuZGF0YSggbURhdGEgKTtcblx0XHRcdH1cblx0XHRcblx0XHRcdGlmICggYkFjdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGJBY3Rpb24gKSB7XG5cdFx0XHRcdGFwaS5jb2x1bW5zLmFkanVzdCgpO1xuXHRcdFx0fVxuXHRcdFxuXHRcdFx0aWYgKCBiUmVkcmF3ID09PSB1bmRlZmluZWQgfHwgYlJlZHJhdyApIHtcblx0XHRcdFx0YXBpLmRyYXcoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAwO1xuXHRcdH07XG5cdFx0XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogUHJvdmlkZSBhIGNvbW1vbiBtZXRob2QgZm9yIHBsdWctaW5zIHRvIGNoZWNrIHRoZSB2ZXJzaW9uIG9mIERhdGFUYWJsZXMgYmVpbmcgdXNlZCwgaW4gb3JkZXJcblx0XHQgKiB0byBlbnN1cmUgY29tcGF0aWJpbGl0eS5cblx0XHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNWZXJzaW9uIFZlcnNpb24gc3RyaW5nIHRvIGNoZWNrIGZvciwgaW4gdGhlIGZvcm1hdCBcIlguWS5aXCIuIE5vdGUgdGhhdCB0aGVcblx0XHQgKiAgICBmb3JtYXRzIFwiWFwiIGFuZCBcIlguWVwiIGFyZSBhbHNvIGFjY2VwdGFibGUuXG5cdFx0ICogIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoaXMgdmVyc2lvbiBvZiBEYXRhVGFibGVzIGlzIGdyZWF0ZXIgb3IgZXF1YWwgdG8gdGhlIHJlcXVpcmVkXG5cdFx0ICogICAgdmVyc2lvbiwgb3IgZmFsc2UgaWYgdGhpcyB2ZXJzaW9uIG9mIERhdGFUYWxlcyBpcyBub3Qgc3VpdGFibGVcblx0XHQgKiAgQG1ldGhvZFxuXHRcdCAqICBAZHRvcHQgQVBJXG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgIHZhciBvVGFibGUgPSAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgpO1xuXHRcdCAqICAgICAgYWxlcnQoIG9UYWJsZS5mblZlcnNpb25DaGVjayggJzEuOS4wJyApICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdHRoaXMuZm5WZXJzaW9uQ2hlY2sgPSBfZXh0LmZuVmVyc2lvbkNoZWNrO1xuXHRcdFxuXG5cdFx0dmFyIF90aGF0ID0gdGhpcztcblx0XHR2YXIgZW1wdHlJbml0ID0gb3B0aW9ucyA9PT0gdW5kZWZpbmVkO1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aDtcblxuXHRcdGlmICggZW1wdHlJbml0ICkge1xuXHRcdFx0b3B0aW9ucyA9IHt9O1xuXHRcdH1cblxuXHRcdHRoaXMub0FwaSA9IHRoaXMuaW50ZXJuYWwgPSBfZXh0LmludGVybmFsO1xuXG5cdFx0Ly8gRXh0ZW5kIHdpdGggb2xkIHN0eWxlIHBsdWctaW4gQVBJIG1ldGhvZHNcblx0XHRmb3IgKCB2YXIgZm4gaW4gRGF0YVRhYmxlLmV4dC5pbnRlcm5hbCApIHtcblx0XHRcdGlmICggZm4gKSB7XG5cdFx0XHRcdHRoaXNbZm5dID0gX2ZuRXh0ZXJuQXBpRnVuYyhmbik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gRm9yIGVhY2ggaW5pdGlhbGlzYXRpb24gd2Ugd2FudCB0byBnaXZlIGl0IGEgY2xlYW4gaW5pdGlhbGlzYXRpb25cblx0XHRcdC8vIG9iamVjdCB0aGF0IGNhbiBiZSBiYXNoZWQgYXJvdW5kXG5cdFx0XHR2YXIgbyA9IHt9O1xuXHRcdFx0dmFyIG9Jbml0ID0gbGVuID4gMSA/IC8vIG9wdGltaXNhdGlvbiBmb3Igc2luZ2xlIHRhYmxlIGNhc2Vcblx0XHRcdFx0X2ZuRXh0ZW5kKCBvLCBvcHRpb25zLCB0cnVlICkgOlxuXHRcdFx0XHRvcHRpb25zO1xuXG5cdFx0XHQvKmdsb2JhbCBvSW5pdCxfdGhhdCxlbXB0eUluaXQqL1xuXHRcdFx0dmFyIGk9MCwgaUxlbiwgaiwgakxlbiwgaywga0xlbjtcblx0XHRcdHZhciBzSWQgPSB0aGlzLmdldEF0dHJpYnV0ZSggJ2lkJyApO1xuXHRcdFx0dmFyIGJJbml0SGFuZGVkT2ZmID0gZmFsc2U7XG5cdFx0XHR2YXIgZGVmYXVsdHMgPSBEYXRhVGFibGUuZGVmYXVsdHM7XG5cdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXHRcdFx0XG5cdFx0XHRcblx0XHRcdC8qIFNhbml0eSBjaGVjayAqL1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ3RhYmxlJyApXG5cdFx0XHR7XG5cdFx0XHRcdF9mbkxvZyggbnVsbCwgMCwgJ05vbi10YWJsZSBub2RlIGluaXRpYWxpc2F0aW9uICgnK3RoaXMubm9kZU5hbWUrJyknLCAyICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0LyogQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIHRoZSBkZWZhdWx0cyAqL1xuXHRcdFx0X2ZuQ29tcGF0T3B0cyggZGVmYXVsdHMgKTtcblx0XHRcdF9mbkNvbXBhdENvbHMoIGRlZmF1bHRzLmNvbHVtbiApO1xuXHRcdFx0XG5cdFx0XHQvKiBDb252ZXJ0IHRoZSBjYW1lbC1jYXNlIGRlZmF1bHRzIHRvIEh1bmdhcmlhbiAqL1xuXHRcdFx0X2ZuQ2FtZWxUb0h1bmdhcmlhbiggZGVmYXVsdHMsIGRlZmF1bHRzLCB0cnVlICk7XG5cdFx0XHRfZm5DYW1lbFRvSHVuZ2FyaWFuKCBkZWZhdWx0cy5jb2x1bW4sIGRlZmF1bHRzLmNvbHVtbiwgdHJ1ZSApO1xuXHRcdFx0XG5cdFx0XHQvKiBTZXR0aW5nIHVwIHRoZSBpbml0aWFsaXNhdGlvbiBvYmplY3QgKi9cblx0XHRcdF9mbkNhbWVsVG9IdW5nYXJpYW4oIGRlZmF1bHRzLCAkLmV4dGVuZCggb0luaXQsICR0aGlzLmRhdGEoKSApICk7XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHQvKiBDaGVjayB0byBzZWUgaWYgd2UgYXJlIHJlLWluaXRpYWxpc2luZyBhIHRhYmxlICovXG5cdFx0XHR2YXIgYWxsU2V0dGluZ3MgPSBEYXRhVGFibGUuc2V0dGluZ3M7XG5cdFx0XHRmb3IgKCBpPTAsIGlMZW49YWxsU2V0dGluZ3MubGVuZ3RoIDsgaTxpTGVuIDsgaSsrIClcblx0XHRcdHtcblx0XHRcdFx0dmFyIHMgPSBhbGxTZXR0aW5nc1tpXTtcblx0XHRcdFxuXHRcdFx0XHQvKiBCYXNlIGNoZWNrIG9uIHRhYmxlIG5vZGUgKi9cblx0XHRcdFx0aWYgKCBzLm5UYWJsZSA9PSB0aGlzIHx8IHMublRIZWFkLnBhcmVudE5vZGUgPT0gdGhpcyB8fCAocy5uVEZvb3QgJiYgcy5uVEZvb3QucGFyZW50Tm9kZSA9PSB0aGlzKSApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgYlJldHJpZXZlID0gb0luaXQuYlJldHJpZXZlICE9PSB1bmRlZmluZWQgPyBvSW5pdC5iUmV0cmlldmUgOiBkZWZhdWx0cy5iUmV0cmlldmU7XG5cdFx0XHRcdFx0dmFyIGJEZXN0cm95ID0gb0luaXQuYkRlc3Ryb3kgIT09IHVuZGVmaW5lZCA/IG9Jbml0LmJEZXN0cm95IDogZGVmYXVsdHMuYkRlc3Ryb3k7XG5cdFx0XHRcblx0XHRcdFx0XHRpZiAoIGVtcHR5SW5pdCB8fCBiUmV0cmlldmUgKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHJldHVybiBzLm9JbnN0YW5jZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIGJEZXN0cm95IClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRzLm9JbnN0YW5jZS5mbkRlc3Ryb3koKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0X2ZuTG9nKCBzLCAwLCAnQ2Fubm90IHJlaW5pdGlhbGlzZSBEYXRhVGFibGUnLCAzICk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcblx0XHRcdFx0LyogSWYgdGhlIGVsZW1lbnQgd2UgYXJlIGluaXRpYWxpc2luZyBoYXMgdGhlIHNhbWUgSUQgYXMgYSB0YWJsZSB3aGljaCB3YXMgcHJldmlvdXNseVxuXHRcdFx0XHQgKiBpbml0aWFsaXNlZCwgYnV0IHRoZSB0YWJsZSBub2RlcyBkb24ndCBtYXRjaCAoZnJvbSBiZWZvcmUpIHRoZW4gd2UgZGVzdHJveSB0aGUgb2xkXG5cdFx0XHRcdCAqIGluc3RhbmNlIGJ5IHNpbXBseSBkZWxldGluZyBpdC4gVGhpcyBpcyB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoZSB0YWJsZSBoYXMgYmVlblxuXHRcdFx0XHQgKiBkZXN0cm95ZWQgYnkgb3RoZXIgbWV0aG9kcy4gQW55b25lIHVzaW5nIG5vbi1pZCBzZWxlY3RvcnMgd2lsbCBuZWVkIHRvIGRvIHRoaXMgbWFudWFsbHlcblx0XHRcdFx0ICovXG5cdFx0XHRcdGlmICggcy5zVGFibGVJZCA9PSB0aGlzLmlkIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFsbFNldHRpbmdzLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qIEVuc3VyZSB0aGUgdGFibGUgaGFzIGFuIElEIC0gcmVxdWlyZWQgZm9yIGFjY2Vzc2liaWxpdHkgKi9cblx0XHRcdGlmICggc0lkID09PSBudWxsIHx8IHNJZCA9PT0gXCJcIiApXG5cdFx0XHR7XG5cdFx0XHRcdHNJZCA9IFwiRGF0YVRhYmxlc19UYWJsZV9cIisoRGF0YVRhYmxlLmV4dC5fdW5pcXVlKyspO1xuXHRcdFx0XHR0aGlzLmlkID0gc0lkO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBDcmVhdGUgdGhlIHNldHRpbmdzIG9iamVjdCBmb3IgdGhpcyB0YWJsZSBhbmQgc2V0IHNvbWUgb2YgdGhlIGRlZmF1bHQgcGFyYW1ldGVycyAqL1xuXHRcdFx0dmFyIG9TZXR0aW5ncyA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgRGF0YVRhYmxlLm1vZGVscy5vU2V0dGluZ3MsIHtcblx0XHRcdFx0XCJzRGVzdHJveVdpZHRoXCI6ICR0aGlzWzBdLnN0eWxlLndpZHRoLFxuXHRcdFx0XHRcInNJbnN0YW5jZVwiOiAgICAgc0lkLFxuXHRcdFx0XHRcInNUYWJsZUlkXCI6ICAgICAgc0lkXG5cdFx0XHR9ICk7XG5cdFx0XHRvU2V0dGluZ3MublRhYmxlID0gdGhpcztcblx0XHRcdG9TZXR0aW5ncy5vQXBpICAgPSBfdGhhdC5pbnRlcm5hbDtcblx0XHRcdG9TZXR0aW5ncy5vSW5pdCAgPSBvSW5pdDtcblx0XHRcdFxuXHRcdFx0YWxsU2V0dGluZ3MucHVzaCggb1NldHRpbmdzICk7XG5cdFx0XHRcblx0XHRcdC8vIE5lZWQgdG8gYWRkIHRoZSBpbnN0YW5jZSBhZnRlciB0aGUgaW5zdGFuY2UgYWZ0ZXIgdGhlIHNldHRpbmdzIG9iamVjdCBoYXMgYmVlbiBhZGRlZFxuXHRcdFx0Ly8gdG8gdGhlIHNldHRpbmdzIGFycmF5LCBzbyB3ZSBjYW4gc2VsZiByZWZlcmVuY2UgdGhlIHRhYmxlIGluc3RhbmNlIGlmIG1vcmUgdGhhbiBvbmVcblx0XHRcdG9TZXR0aW5ncy5vSW5zdGFuY2UgPSAoX3RoYXQubGVuZ3RoPT09MSkgPyBfdGhhdCA6ICR0aGlzLmRhdGFUYWJsZSgpO1xuXHRcdFx0XG5cdFx0XHQvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgYmVmb3JlIHdlIGFwcGx5IGFsbCB0aGUgZGVmYXVsdHNcblx0XHRcdF9mbkNvbXBhdE9wdHMoIG9Jbml0ICk7XG5cdFx0XHRcblx0XHRcdGlmICggb0luaXQub0xhbmd1YWdlIClcblx0XHRcdHtcblx0XHRcdFx0X2ZuTGFuZ3VhZ2VDb21wYXQoIG9Jbml0Lm9MYW5ndWFnZSApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBJZiB0aGUgbGVuZ3RoIG1lbnUgaXMgZ2l2ZW4sIGJ1dCB0aGUgaW5pdCBkaXNwbGF5IGxlbmd0aCBpcyBub3QsIHVzZSB0aGUgbGVuZ3RoIG1lbnVcblx0XHRcdGlmICggb0luaXQuYUxlbmd0aE1lbnUgJiYgISBvSW5pdC5pRGlzcGxheUxlbmd0aCApXG5cdFx0XHR7XG5cdFx0XHRcdG9Jbml0LmlEaXNwbGF5TGVuZ3RoID0gJC5pc0FycmF5KCBvSW5pdC5hTGVuZ3RoTWVudVswXSApID9cblx0XHRcdFx0XHRvSW5pdC5hTGVuZ3RoTWVudVswXVswXSA6IG9Jbml0LmFMZW5ndGhNZW51WzBdO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBBcHBseSB0aGUgZGVmYXVsdHMgYW5kIGluaXQgb3B0aW9ucyB0byBtYWtlIGEgc2luZ2xlIGluaXQgb2JqZWN0IHdpbGwgYWxsXG5cdFx0XHQvLyBvcHRpb25zIGRlZmluZWQgZnJvbSBkZWZhdWx0cyBhbmQgaW5zdGFuY2Ugb3B0aW9ucy5cblx0XHRcdG9Jbml0ID0gX2ZuRXh0ZW5kKCAkLmV4dGVuZCggdHJ1ZSwge30sIGRlZmF1bHRzICksIG9Jbml0ICk7XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0Ly8gTWFwIHRoZSBpbml0aWFsaXNhdGlvbiBvcHRpb25zIG9udG8gdGhlIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0X2ZuTWFwKCBvU2V0dGluZ3Mub0ZlYXR1cmVzLCBvSW5pdCwgW1xuXHRcdFx0XHRcImJQYWdpbmF0ZVwiLFxuXHRcdFx0XHRcImJMZW5ndGhDaGFuZ2VcIixcblx0XHRcdFx0XCJiRmlsdGVyXCIsXG5cdFx0XHRcdFwiYlNvcnRcIixcblx0XHRcdFx0XCJiU29ydE11bHRpXCIsXG5cdFx0XHRcdFwiYkluZm9cIixcblx0XHRcdFx0XCJiUHJvY2Vzc2luZ1wiLFxuXHRcdFx0XHRcImJBdXRvV2lkdGhcIixcblx0XHRcdFx0XCJiU29ydENsYXNzZXNcIixcblx0XHRcdFx0XCJiU2VydmVyU2lkZVwiLFxuXHRcdFx0XHRcImJEZWZlclJlbmRlclwiXG5cdFx0XHRdICk7XG5cdFx0XHRfZm5NYXAoIG9TZXR0aW5ncywgb0luaXQsIFtcblx0XHRcdFx0XCJhc1N0cmlwZUNsYXNzZXNcIixcblx0XHRcdFx0XCJhamF4XCIsXG5cdFx0XHRcdFwiZm5TZXJ2ZXJEYXRhXCIsXG5cdFx0XHRcdFwiZm5Gb3JtYXROdW1iZXJcIixcblx0XHRcdFx0XCJzU2VydmVyTWV0aG9kXCIsXG5cdFx0XHRcdFwiYWFTb3J0aW5nXCIsXG5cdFx0XHRcdFwiYWFTb3J0aW5nRml4ZWRcIixcblx0XHRcdFx0XCJhTGVuZ3RoTWVudVwiLFxuXHRcdFx0XHRcInNQYWdpbmF0aW9uVHlwZVwiLFxuXHRcdFx0XHRcInNBamF4U291cmNlXCIsXG5cdFx0XHRcdFwic0FqYXhEYXRhUHJvcFwiLFxuXHRcdFx0XHRcImlTdGF0ZUR1cmF0aW9uXCIsXG5cdFx0XHRcdFwic0RvbVwiLFxuXHRcdFx0XHRcImJTb3J0Q2VsbHNUb3BcIixcblx0XHRcdFx0XCJpVGFiSW5kZXhcIixcblx0XHRcdFx0XCJmblN0YXRlTG9hZENhbGxiYWNrXCIsXG5cdFx0XHRcdFwiZm5TdGF0ZVNhdmVDYWxsYmFja1wiLFxuXHRcdFx0XHRcInJlbmRlcmVyXCIsXG5cdFx0XHRcdFwic2VhcmNoRGVsYXlcIixcblx0XHRcdFx0XCJyb3dJZFwiLFxuXHRcdFx0XHRbIFwiaUNvb2tpZUR1cmF0aW9uXCIsIFwiaVN0YXRlRHVyYXRpb25cIiBdLCAvLyBiYWNrd2FyZHMgY29tcGF0XG5cdFx0XHRcdFsgXCJvU2VhcmNoXCIsIFwib1ByZXZpb3VzU2VhcmNoXCIgXSxcblx0XHRcdFx0WyBcImFvU2VhcmNoQ29sc1wiLCBcImFvUHJlU2VhcmNoQ29sc1wiIF0sXG5cdFx0XHRcdFsgXCJpRGlzcGxheUxlbmd0aFwiLCBcIl9pRGlzcGxheUxlbmd0aFwiIF0sXG5cdFx0XHRcdFsgXCJiSlF1ZXJ5VUlcIiwgXCJiSlVJXCIgXVxuXHRcdFx0XSApO1xuXHRcdFx0X2ZuTWFwKCBvU2V0dGluZ3Mub1Njcm9sbCwgb0luaXQsIFtcblx0XHRcdFx0WyBcInNTY3JvbGxYXCIsIFwic1hcIiBdLFxuXHRcdFx0XHRbIFwic1Njcm9sbFhJbm5lclwiLCBcInNYSW5uZXJcIiBdLFxuXHRcdFx0XHRbIFwic1Njcm9sbFlcIiwgXCJzWVwiIF0sXG5cdFx0XHRcdFsgXCJiU2Nyb2xsQ29sbGFwc2VcIiwgXCJiQ29sbGFwc2VcIiBdXG5cdFx0XHRdICk7XG5cdFx0XHRfZm5NYXAoIG9TZXR0aW5ncy5vTGFuZ3VhZ2UsIG9Jbml0LCBcImZuSW5mb0NhbGxiYWNrXCIgKTtcblx0XHRcdFxuXHRcdFx0LyogQ2FsbGJhY2sgZnVuY3Rpb25zIHdoaWNoIGFyZSBhcnJheSBkcml2ZW4gKi9cblx0XHRcdF9mbkNhbGxiYWNrUmVnKCBvU2V0dGluZ3MsICdhb0RyYXdDYWxsYmFjaycsICAgICAgIG9Jbml0LmZuRHJhd0NhbGxiYWNrLCAgICAgICd1c2VyJyApO1xuXHRcdFx0X2ZuQ2FsbGJhY2tSZWcoIG9TZXR0aW5ncywgJ2FvU2VydmVyUGFyYW1zJywgICAgICAgb0luaXQuZm5TZXJ2ZXJQYXJhbXMsICAgICAgJ3VzZXInICk7XG5cdFx0XHRfZm5DYWxsYmFja1JlZyggb1NldHRpbmdzLCAnYW9TdGF0ZVNhdmVQYXJhbXMnLCAgICBvSW5pdC5mblN0YXRlU2F2ZVBhcmFtcywgICAndXNlcicgKTtcblx0XHRcdF9mbkNhbGxiYWNrUmVnKCBvU2V0dGluZ3MsICdhb1N0YXRlTG9hZFBhcmFtcycsICAgIG9Jbml0LmZuU3RhdGVMb2FkUGFyYW1zLCAgICd1c2VyJyApO1xuXHRcdFx0X2ZuQ2FsbGJhY2tSZWcoIG9TZXR0aW5ncywgJ2FvU3RhdGVMb2FkZWQnLCAgICAgICAgb0luaXQuZm5TdGF0ZUxvYWRlZCwgICAgICAgJ3VzZXInICk7XG5cdFx0XHRfZm5DYWxsYmFja1JlZyggb1NldHRpbmdzLCAnYW9Sb3dDYWxsYmFjaycsICAgICAgICBvSW5pdC5mblJvd0NhbGxiYWNrLCAgICAgICAndXNlcicgKTtcblx0XHRcdF9mbkNhbGxiYWNrUmVnKCBvU2V0dGluZ3MsICdhb1Jvd0NyZWF0ZWRDYWxsYmFjaycsIG9Jbml0LmZuQ3JlYXRlZFJvdywgICAgICAgICd1c2VyJyApO1xuXHRcdFx0X2ZuQ2FsbGJhY2tSZWcoIG9TZXR0aW5ncywgJ2FvSGVhZGVyQ2FsbGJhY2snLCAgICAgb0luaXQuZm5IZWFkZXJDYWxsYmFjaywgICAgJ3VzZXInICk7XG5cdFx0XHRfZm5DYWxsYmFja1JlZyggb1NldHRpbmdzLCAnYW9Gb290ZXJDYWxsYmFjaycsICAgICBvSW5pdC5mbkZvb3RlckNhbGxiYWNrLCAgICAndXNlcicgKTtcblx0XHRcdF9mbkNhbGxiYWNrUmVnKCBvU2V0dGluZ3MsICdhb0luaXRDb21wbGV0ZScsICAgICAgIG9Jbml0LmZuSW5pdENvbXBsZXRlLCAgICAgICd1c2VyJyApO1xuXHRcdFx0X2ZuQ2FsbGJhY2tSZWcoIG9TZXR0aW5ncywgJ2FvUHJlRHJhd0NhbGxiYWNrJywgICAgb0luaXQuZm5QcmVEcmF3Q2FsbGJhY2ssICAgJ3VzZXInICk7XG5cdFx0XHRcblx0XHRcdG9TZXR0aW5ncy5yb3dJZEZuID0gX2ZuR2V0T2JqZWN0RGF0YUZuKCBvSW5pdC5yb3dJZCApO1xuXHRcdFx0XG5cdFx0XHQvKiBCcm93c2VyIHN1cHBvcnQgZGV0ZWN0aW9uICovXG5cdFx0XHRfZm5Ccm93c2VyRGV0ZWN0KCBvU2V0dGluZ3MgKTtcblx0XHRcdFxuXHRcdFx0dmFyIG9DbGFzc2VzID0gb1NldHRpbmdzLm9DbGFzc2VzO1xuXHRcdFx0XG5cdFx0XHQvLyBAdG9kbyBSZW1vdmUgaW4gMS4xMVxuXHRcdFx0aWYgKCBvSW5pdC5iSlF1ZXJ5VUkgKVxuXHRcdFx0e1xuXHRcdFx0XHQvKiBVc2UgdGhlIEpVSSBjbGFzc2VzIG9iamVjdCBmb3IgZGlzcGxheS4gWW91IGNvdWxkIGNsb25lIHRoZSBvU3RkQ2xhc3NlcyBvYmplY3QgaWZcblx0XHRcdFx0ICogeW91IHdhbnQgdG8gaGF2ZSBtdWx0aXBsZSB0YWJsZXMgd2l0aCBtdWx0aXBsZSBpbmRlcGVuZGVudCBjbGFzc2VzXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHQkLmV4dGVuZCggb0NsYXNzZXMsIERhdGFUYWJsZS5leHQub0pVSUNsYXNzZXMsIG9Jbml0Lm9DbGFzc2VzICk7XG5cdFx0XHRcblx0XHRcdFx0aWYgKCBvSW5pdC5zRG9tID09PSBkZWZhdWx0cy5zRG9tICYmIGRlZmF1bHRzLnNEb20gPT09IFwibGZydGlwXCIgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0LyogU2V0IHRoZSBET00gdG8gdXNlIGEgbGF5b3V0IHN1aXRhYmxlIGZvciBqUXVlcnkgVUkncyB0aGVtaW5nICovXG5cdFx0XHRcdFx0b1NldHRpbmdzLnNEb20gPSAnPFwiSFwibGZyPnQ8XCJGXCJpcD4nO1xuXHRcdFx0XHR9XG5cdFx0XHRcblx0XHRcdFx0aWYgKCAhIG9TZXR0aW5ncy5yZW5kZXJlciApIHtcblx0XHRcdFx0XHRvU2V0dGluZ3MucmVuZGVyZXIgPSAnanF1ZXJ5dWknO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKCAkLmlzUGxhaW5PYmplY3QoIG9TZXR0aW5ncy5yZW5kZXJlciApICYmICEgb1NldHRpbmdzLnJlbmRlcmVyLmhlYWRlciApIHtcblx0XHRcdFx0XHRvU2V0dGluZ3MucmVuZGVyZXIuaGVhZGVyID0gJ2pxdWVyeXVpJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHQkLmV4dGVuZCggb0NsYXNzZXMsIERhdGFUYWJsZS5leHQuY2xhc3Nlcywgb0luaXQub0NsYXNzZXMgKTtcblx0XHRcdH1cblx0XHRcdCR0aGlzLmFkZENsYXNzKCBvQ2xhc3Nlcy5zVGFibGUgKTtcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRpZiAoIG9TZXR0aW5ncy5pSW5pdERpc3BsYXlTdGFydCA9PT0gdW5kZWZpbmVkIClcblx0XHRcdHtcblx0XHRcdFx0LyogRGlzcGxheSBzdGFydCBwb2ludCwgdGFraW5nIGludG8gYWNjb3VudCB0aGUgc2F2ZSBzYXZpbmcgKi9cblx0XHRcdFx0b1NldHRpbmdzLmlJbml0RGlzcGxheVN0YXJ0ID0gb0luaXQuaURpc3BsYXlTdGFydDtcblx0XHRcdFx0b1NldHRpbmdzLl9pRGlzcGxheVN0YXJ0ID0gb0luaXQuaURpc3BsYXlTdGFydDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKCBvSW5pdC5pRGVmZXJMb2FkaW5nICE9PSBudWxsIClcblx0XHRcdHtcblx0XHRcdFx0b1NldHRpbmdzLmJEZWZlckxvYWRpbmcgPSB0cnVlO1xuXHRcdFx0XHR2YXIgdG1wID0gJC5pc0FycmF5KCBvSW5pdC5pRGVmZXJMb2FkaW5nICk7XG5cdFx0XHRcdG9TZXR0aW5ncy5faVJlY29yZHNEaXNwbGF5ID0gdG1wID8gb0luaXQuaURlZmVyTG9hZGluZ1swXSA6IG9Jbml0LmlEZWZlckxvYWRpbmc7XG5cdFx0XHRcdG9TZXR0aW5ncy5faVJlY29yZHNUb3RhbCA9IHRtcCA/IG9Jbml0LmlEZWZlckxvYWRpbmdbMV0gOiBvSW5pdC5pRGVmZXJMb2FkaW5nO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBMYW5ndWFnZSBkZWZpbml0aW9ucyAqL1xuXHRcdFx0dmFyIG9MYW5ndWFnZSA9IG9TZXR0aW5ncy5vTGFuZ3VhZ2U7XG5cdFx0XHQkLmV4dGVuZCggdHJ1ZSwgb0xhbmd1YWdlLCBvSW5pdC5vTGFuZ3VhZ2UgKTtcblx0XHRcdFxuXHRcdFx0aWYgKCBvTGFuZ3VhZ2Uuc1VybCAhPT0gXCJcIiApXG5cdFx0XHR7XG5cdFx0XHRcdC8qIEdldCB0aGUgbGFuZ3VhZ2UgZGVmaW5pdGlvbnMgZnJvbSBhIGZpbGUgLSBiZWNhdXNlIHRoaXMgQWpheCBjYWxsIG1ha2VzIHRoZSBsYW5ndWFnZVxuXHRcdFx0XHQgKiBnZXQgYXN5bmMgdG8gdGhlIHJlbWFpbmRlciBvZiB0aGlzIGZ1bmN0aW9uIHdlIHVzZSBiSW5pdEhhbmRlZE9mZiB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHRcdCAqIF9mbkluaXRpYWxpc2Ugd2lsbCBiZSBmaXJlZCBieSB0aGUgcmV0dXJuZWQgQWpheCBoYW5kbGVyLCByYXRoZXIgdGhhbiB0aGUgY29uc3RydWN0b3Jcblx0XHRcdFx0ICovXG5cdFx0XHRcdCQuYWpheCgge1xuXHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHRcdFx0dXJsOiBvTGFuZ3VhZ2Uuc1VybCxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoIGpzb24gKSB7XG5cdFx0XHRcdFx0XHRfZm5MYW5ndWFnZUNvbXBhdCgganNvbiApO1xuXHRcdFx0XHRcdFx0X2ZuQ2FtZWxUb0h1bmdhcmlhbiggZGVmYXVsdHMub0xhbmd1YWdlLCBqc29uICk7XG5cdFx0XHRcdFx0XHQkLmV4dGVuZCggdHJ1ZSwgb0xhbmd1YWdlLCBqc29uICk7XG5cdFx0XHRcdFx0XHRfZm5Jbml0aWFsaXNlKCBvU2V0dGluZ3MgKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQvLyBFcnJvciBvY2N1cnJlZCBsb2FkaW5nIGxhbmd1YWdlIGZpbGUsIGNvbnRpbnVlIG9uIGFzIGJlc3Qgd2UgY2FuXG5cdFx0XHRcdFx0XHRfZm5Jbml0aWFsaXNlKCBvU2V0dGluZ3MgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0YkluaXRIYW5kZWRPZmYgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKlxuXHRcdFx0ICogU3RyaXBlc1xuXHRcdFx0ICovXG5cdFx0XHRpZiAoIG9Jbml0LmFzU3RyaXBlQ2xhc3NlcyA9PT0gbnVsbCApXG5cdFx0XHR7XG5cdFx0XHRcdG9TZXR0aW5ncy5hc1N0cmlwZUNsYXNzZXMgPVtcblx0XHRcdFx0XHRvQ2xhc3Nlcy5zU3RyaXBlT2RkLFxuXHRcdFx0XHRcdG9DbGFzc2VzLnNTdHJpcGVFdmVuXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qIFJlbW92ZSByb3cgc3RyaXBlIGNsYXNzZXMgaWYgdGhleSBhcmUgYWxyZWFkeSBvbiB0aGUgdGFibGUgcm93ICovXG5cdFx0XHR2YXIgc3RyaXBlQ2xhc3NlcyA9IG9TZXR0aW5ncy5hc1N0cmlwZUNsYXNzZXM7XG5cdFx0XHR2YXIgcm93T25lID0gJHRoaXMuY2hpbGRyZW4oJ3Rib2R5JykuZmluZCgndHInKS5lcSgwKTtcblx0XHRcdGlmICggJC5pbkFycmF5KCB0cnVlLCAkLm1hcCggc3RyaXBlQ2xhc3NlcywgZnVuY3Rpb24oZWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIHJvd09uZS5oYXNDbGFzcyhlbCk7XG5cdFx0XHR9ICkgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdCQoJ3Rib2R5IHRyJywgdGhpcykucmVtb3ZlQ2xhc3MoIHN0cmlwZUNsYXNzZXMuam9pbignICcpICk7XG5cdFx0XHRcdG9TZXR0aW5ncy5hc0Rlc3Ryb3lTdHJpcGVzID0gc3RyaXBlQ2xhc3Nlcy5zbGljZSgpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKlxuXHRcdFx0ICogQ29sdW1uc1xuXHRcdFx0ICogU2VlIGlmIHdlIHNob3VsZCBsb2FkIGNvbHVtbnMgYXV0b21hdGljYWxseSBvciB1c2UgZGVmaW5lZCBvbmVzXG5cdFx0XHQgKi9cblx0XHRcdHZhciBhblRocyA9IFtdO1xuXHRcdFx0dmFyIGFvQ29sdW1uc0luaXQ7XG5cdFx0XHR2YXIgblRoZWFkID0gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGhlYWQnKTtcblx0XHRcdGlmICggblRoZWFkLmxlbmd0aCAhPT0gMCApXG5cdFx0XHR7XG5cdFx0XHRcdF9mbkRldGVjdEhlYWRlciggb1NldHRpbmdzLmFvSGVhZGVyLCBuVGhlYWRbMF0gKTtcblx0XHRcdFx0YW5UaHMgPSBfZm5HZXRVbmlxdWVUaHMoIG9TZXR0aW5ncyApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBJZiBub3QgZ2l2ZW4gYSBjb2x1bW4gYXJyYXksIGdlbmVyYXRlIG9uZSB3aXRoIG51bGxzICovXG5cdFx0XHRpZiAoIG9Jbml0LmFvQ29sdW1ucyA9PT0gbnVsbCApXG5cdFx0XHR7XG5cdFx0XHRcdGFvQ29sdW1uc0luaXQgPSBbXTtcblx0XHRcdFx0Zm9yICggaT0wLCBpTGVuPWFuVGhzLmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRhb0NvbHVtbnNJbml0LnB1c2goIG51bGwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRhb0NvbHVtbnNJbml0ID0gb0luaXQuYW9Db2x1bW5zO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBBZGQgdGhlIGNvbHVtbnMgKi9cblx0XHRcdGZvciAoIGk9MCwgaUxlbj1hb0NvbHVtbnNJbml0Lmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0XHR7XG5cdFx0XHRcdF9mbkFkZENvbHVtbiggb1NldHRpbmdzLCBhblRocyA/IGFuVGhzW2ldIDogbnVsbCApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBBcHBseSB0aGUgY29sdW1uIGRlZmluaXRpb25zICovXG5cdFx0XHRfZm5BcHBseUNvbHVtbkRlZnMoIG9TZXR0aW5ncywgb0luaXQuYW9Db2x1bW5EZWZzLCBhb0NvbHVtbnNJbml0LCBmdW5jdGlvbiAoaUNvbCwgb0RlZikge1xuXHRcdFx0XHRfZm5Db2x1bW5PcHRpb25zKCBvU2V0dGluZ3MsIGlDb2wsIG9EZWYgKTtcblx0XHRcdH0gKTtcblx0XHRcdFxuXHRcdFx0LyogSFRNTDUgYXR0cmlidXRlIGRldGVjdGlvbiAtIGJ1aWxkIGFuIG1EYXRhIG9iamVjdCBhdXRvbWF0aWNhbGx5IGlmIHRoZVxuXHRcdFx0ICogYXR0cmlidXRlcyBhcmUgZm91bmRcblx0XHRcdCAqL1xuXHRcdFx0aWYgKCByb3dPbmUubGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgYSA9IGZ1bmN0aW9uICggY2VsbCwgbmFtZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY2VsbC5nZXRBdHRyaWJ1dGUoICdkYXRhLScrbmFtZSApICE9PSBudWxsID8gbmFtZSA6IG51bGw7XG5cdFx0XHRcdH07XG5cdFx0XHRcblx0XHRcdFx0JCggcm93T25lWzBdICkuY2hpbGRyZW4oJ3RoLCB0ZCcpLmVhY2goIGZ1bmN0aW9uIChpLCBjZWxsKSB7XG5cdFx0XHRcdFx0dmFyIGNvbCA9IG9TZXR0aW5ncy5hb0NvbHVtbnNbaV07XG5cdFx0XHRcblx0XHRcdFx0XHRpZiAoIGNvbC5tRGF0YSA9PT0gaSApIHtcblx0XHRcdFx0XHRcdHZhciBzb3J0ID0gYSggY2VsbCwgJ3NvcnQnICkgfHwgYSggY2VsbCwgJ29yZGVyJyApO1xuXHRcdFx0XHRcdFx0dmFyIGZpbHRlciA9IGEoIGNlbGwsICdmaWx0ZXInICkgfHwgYSggY2VsbCwgJ3NlYXJjaCcgKTtcblx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKCBzb3J0ICE9PSBudWxsIHx8IGZpbHRlciAhPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdFx0Y29sLm1EYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRcdF86ICAgICAgaSsnLmRpc3BsYXknLFxuXHRcdFx0XHRcdFx0XHRcdHNvcnQ6ICAgc29ydCAhPT0gbnVsbCAgID8gaSsnLkBkYXRhLScrc29ydCAgIDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICAgc29ydCAhPT0gbnVsbCAgID8gaSsnLkBkYXRhLScrc29ydCAgIDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0XHRcdGZpbHRlcjogZmlsdGVyICE9PSBudWxsID8gaSsnLkBkYXRhLScrZmlsdGVyIDogdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcblx0XHRcdFx0XHRcdFx0X2ZuQ29sdW1uT3B0aW9ucyggb1NldHRpbmdzLCBpICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBmZWF0dXJlcyA9IG9TZXR0aW5ncy5vRmVhdHVyZXM7XG5cdFx0XHRcblx0XHRcdC8qIE11c3QgYmUgZG9uZSBhZnRlciBldmVyeXRoaW5nIHdoaWNoIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdGF0ZSBzYXZpbmchICovXG5cdFx0XHRpZiAoIG9Jbml0LmJTdGF0ZVNhdmUgKVxuXHRcdFx0e1xuXHRcdFx0XHRmZWF0dXJlcy5iU3RhdGVTYXZlID0gdHJ1ZTtcblx0XHRcdFx0X2ZuTG9hZFN0YXRlKCBvU2V0dGluZ3MsIG9Jbml0ICk7XG5cdFx0XHRcdF9mbkNhbGxiYWNrUmVnKCBvU2V0dGluZ3MsICdhb0RyYXdDYWxsYmFjaycsIF9mblNhdmVTdGF0ZSwgJ3N0YXRlX3NhdmUnICk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0Lypcblx0XHRcdCAqIFNvcnRpbmdcblx0XHRcdCAqIEB0b2RvIEZvciBtb2R1bGFyaXNhdGlvbiAoMS4xMSkgdGhpcyBuZWVkcyB0byBkbyBpbnRvIGEgc29ydCBzdGFydCB1cCBoYW5kbGVyXG5cdFx0XHQgKi9cblx0XHRcdFxuXHRcdFx0Ly8gSWYgYWFTb3J0aW5nIGlzIG5vdCBkZWZpbmVkLCB0aGVuIHdlIHVzZSB0aGUgZmlyc3QgaW5kaWNhdG9yIGluIGFzU29ydGluZ1xuXHRcdFx0Ly8gaW4gY2FzZSB0aGF0IGhhcyBiZWVuIGFsdGVyZWQsIHNvIHRoZSBkZWZhdWx0IHNvcnQgcmVmbGVjdHMgdGhhdCBvcHRpb25cblx0XHRcdGlmICggb0luaXQuYWFTb3J0aW5nID09PSB1bmRlZmluZWQgKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgc29ydGluZyA9IG9TZXR0aW5ncy5hYVNvcnRpbmc7XG5cdFx0XHRcdGZvciAoIGk9MCwgaUxlbj1zb3J0aW5nLmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzb3J0aW5nW2ldWzFdID0gb1NldHRpbmdzLmFvQ29sdW1uc1sgaSBdLmFzU29ydGluZ1swXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBEbyBhIGZpcnN0IHBhc3Mgb24gdGhlIHNvcnRpbmcgY2xhc3NlcyAoYWxsb3dzIGFueSBzaXplIGNoYW5nZXMgdG8gYmUgdGFrZW4gaW50b1xuXHRcdFx0ICogYWNjb3VudCwgYW5kIGFsc28gd2lsbCBhcHBseSBzb3J0aW5nIGRpc2FibGVkIGNsYXNzZXMgaWYgZGlzYWJsZWRcblx0XHRcdCAqL1xuXHRcdFx0X2ZuU29ydGluZ0NsYXNzZXMoIG9TZXR0aW5ncyApO1xuXHRcdFx0XG5cdFx0XHRpZiAoIGZlYXR1cmVzLmJTb3J0IClcblx0XHRcdHtcblx0XHRcdFx0X2ZuQ2FsbGJhY2tSZWcoIG9TZXR0aW5ncywgJ2FvRHJhd0NhbGxiYWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGlmICggb1NldHRpbmdzLmJTb3J0ZWQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgYVNvcnQgPSBfZm5Tb3J0RmxhdHRlbiggb1NldHRpbmdzICk7XG5cdFx0XHRcdFx0XHR2YXIgc29ydGVkQ29sdW1ucyA9IHt9O1xuXHRcdFx0XG5cdFx0XHRcdFx0XHQkLmVhY2goIGFTb3J0LCBmdW5jdGlvbiAoaSwgdmFsKSB7XG5cdFx0XHRcdFx0XHRcdHNvcnRlZENvbHVtbnNbIHZhbC5zcmMgXSA9IHZhbC5kaXI7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcblx0XHRcdFx0XHRcdF9mbkNhbGxiYWNrRmlyZSggb1NldHRpbmdzLCBudWxsLCAnb3JkZXInLCBbb1NldHRpbmdzLCBhU29ydCwgc29ydGVkQ29sdW1uc10gKTtcblx0XHRcdFx0XHRcdF9mblNvcnRBcmlhKCBvU2V0dGluZ3MgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0X2ZuQ2FsbGJhY2tSZWcoIG9TZXR0aW5ncywgJ2FvRHJhd0NhbGxiYWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoIG9TZXR0aW5ncy5iU29ydGVkIHx8IF9mbkRhdGFTb3VyY2UoIG9TZXR0aW5ncyApID09PSAnc3NwJyB8fCBmZWF0dXJlcy5iRGVmZXJSZW5kZXIgKSB7XG5cdFx0XHRcdFx0X2ZuU29ydGluZ0NsYXNzZXMoIG9TZXR0aW5ncyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAnc2MnICk7XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0Lypcblx0XHRcdCAqIEZpbmFsIGluaXRcblx0XHRcdCAqIENhY2hlIHRoZSBoZWFkZXIsIGJvZHkgYW5kIGZvb3RlciBhcyByZXF1aXJlZCwgY3JlYXRpbmcgdGhlbSBpZiBuZWVkZWRcblx0XHRcdCAqL1xuXHRcdFx0XG5cdFx0XHQvLyBXb3JrIGFyb3VuZCBmb3IgV2Via2l0IGJ1ZyA4Mzg2NyAtIHN0b3JlIHRoZSBjYXB0aW9uLXNpZGUgYmVmb3JlIHJlbW92aW5nIGZyb20gZG9jXG5cdFx0XHR2YXIgY2FwdGlvbnMgPSAkdGhpcy5jaGlsZHJlbignY2FwdGlvbicpLmVhY2goIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhpcy5fY2FwdGlvblNpZGUgPSAkdGhpcy5jc3MoJ2NhcHRpb24tc2lkZScpO1xuXHRcdFx0fSApO1xuXHRcdFx0XG5cdFx0XHR2YXIgdGhlYWQgPSAkdGhpcy5jaGlsZHJlbigndGhlYWQnKTtcblx0XHRcdGlmICggdGhlYWQubGVuZ3RoID09PSAwIClcblx0XHRcdHtcblx0XHRcdFx0dGhlYWQgPSAkKCc8dGhlYWQvPicpLmFwcGVuZFRvKHRoaXMpO1xuXHRcdFx0fVxuXHRcdFx0b1NldHRpbmdzLm5USGVhZCA9IHRoZWFkWzBdO1xuXHRcdFx0XG5cdFx0XHR2YXIgdGJvZHkgPSAkdGhpcy5jaGlsZHJlbigndGJvZHknKTtcblx0XHRcdGlmICggdGJvZHkubGVuZ3RoID09PSAwIClcblx0XHRcdHtcblx0XHRcdFx0dGJvZHkgPSAkKCc8dGJvZHkvPicpLmFwcGVuZFRvKHRoaXMpO1xuXHRcdFx0fVxuXHRcdFx0b1NldHRpbmdzLm5UQm9keSA9IHRib2R5WzBdO1xuXHRcdFx0XG5cdFx0XHR2YXIgdGZvb3QgPSAkdGhpcy5jaGlsZHJlbigndGZvb3QnKTtcblx0XHRcdGlmICggdGZvb3QubGVuZ3RoID09PSAwICYmIGNhcHRpb25zLmxlbmd0aCA+IDAgJiYgKG9TZXR0aW5ncy5vU2Nyb2xsLnNYICE9PSBcIlwiIHx8IG9TZXR0aW5ncy5vU2Nyb2xsLnNZICE9PSBcIlwiKSApXG5cdFx0XHR7XG5cdFx0XHRcdC8vIElmIHdlIGFyZSBhIHNjcm9sbGluZyB0YWJsZSwgYW5kIG5vIGZvb3RlciBoYXMgYmVlbiBnaXZlbiwgdGhlbiB3ZSBuZWVkIHRvIGNyZWF0ZVxuXHRcdFx0XHQvLyBhIHRmb290IGVsZW1lbnQgZm9yIHRoZSBjYXB0aW9uIGVsZW1lbnQgdG8gYmUgYXBwZW5kZWQgdG9cblx0XHRcdFx0dGZvb3QgPSAkKCc8dGZvb3QvPicpLmFwcGVuZFRvKHRoaXMpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoIHRmb290Lmxlbmd0aCA9PT0gMCB8fCB0Zm9vdC5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoIG9DbGFzc2VzLnNOb0Zvb3RlciApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIHRmb290Lmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdG9TZXR0aW5ncy5uVEZvb3QgPSB0Zm9vdFswXTtcblx0XHRcdFx0X2ZuRGV0ZWN0SGVhZGVyKCBvU2V0dGluZ3MuYW9Gb290ZXIsIG9TZXR0aW5ncy5uVEZvb3QgKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0LyogQ2hlY2sgaWYgdGhlcmUgaXMgZGF0YSBwYXNzaW5nIGludG8gdGhlIGNvbnN0cnVjdG9yICovXG5cdFx0XHRpZiAoIG9Jbml0LmFhRGF0YSApXG5cdFx0XHR7XG5cdFx0XHRcdGZvciAoIGk9MCA7IGk8b0luaXQuYWFEYXRhLmxlbmd0aCA7IGkrKyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRfZm5BZGREYXRhKCBvU2V0dGluZ3MsIG9Jbml0LmFhRGF0YVsgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBvU2V0dGluZ3MuYkRlZmVyTG9hZGluZyB8fCBfZm5EYXRhU291cmNlKCBvU2V0dGluZ3MgKSA9PSAnZG9tJyApXG5cdFx0XHR7XG5cdFx0XHRcdC8qIEdyYWIgdGhlIGRhdGEgZnJvbSB0aGUgcGFnZSAtIG9ubHkgZG8gdGhpcyB3aGVuIGRlZmVycmVkIGxvYWRpbmcgb3Igbm8gQWpheFxuXHRcdFx0XHQgKiBzb3VyY2Ugc2luY2UgdGhlcmUgaXMgbm8gcG9pbnQgaW4gcmVhZGluZyB0aGUgRE9NIGRhdGEgaWYgd2UgYXJlIHRoZW4gZ29pbmdcblx0XHRcdFx0ICogdG8gcmVwbGFjZSBpdCB3aXRoIEFqYXggZGF0YVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0X2ZuQWRkVHIoIG9TZXR0aW5ncywgJChvU2V0dGluZ3MublRCb2R5KS5jaGlsZHJlbigndHInKSApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBDb3B5IHRoZSBkYXRhIGluZGV4IGFycmF5ICovXG5cdFx0XHRvU2V0dGluZ3MuYWlEaXNwbGF5ID0gb1NldHRpbmdzLmFpRGlzcGxheU1hc3Rlci5zbGljZSgpO1xuXHRcdFx0XG5cdFx0XHQvKiBJbml0aWFsaXNhdGlvbiBjb21wbGV0ZSAtIHRhYmxlIGNhbiBiZSBkcmF3biAqL1xuXHRcdFx0b1NldHRpbmdzLmJJbml0aWFsaXNlZCA9IHRydWU7XG5cdFx0XHRcblx0XHRcdC8qIENoZWNrIGlmIHdlIG5lZWQgdG8gaW5pdGlhbGlzZSB0aGUgdGFibGUgKGl0IG1pZ2h0IG5vdCBoYXZlIGJlZW4gaGFuZGVkIG9mZiB0byB0aGVcblx0XHRcdCAqIGxhbmd1YWdlIHByb2Nlc3Nvcilcblx0XHRcdCAqL1xuXHRcdFx0aWYgKCBiSW5pdEhhbmRlZE9mZiA9PT0gZmFsc2UgKVxuXHRcdFx0e1xuXHRcdFx0XHRfZm5Jbml0aWFsaXNlKCBvU2V0dGluZ3MgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0X3RoYXQgPSBudWxsO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdFxuXHQvKlxuXHQgKiBJdCBpcyB1c2VmdWwgdG8gaGF2ZSB2YXJpYWJsZXMgd2hpY2ggYXJlIHNjb3BlZCBsb2NhbGx5IHNvIG9ubHkgdGhlXG5cdCAqIERhdGFUYWJsZXMgZnVuY3Rpb25zIGNhbiBhY2Nlc3MgdGhlbSBhbmQgdGhleSBkb24ndCBsZWFrIGludG8gZ2xvYmFsIHNwYWNlLlxuXHQgKiBBdCB0aGUgc2FtZSB0aW1lIHRoZXNlIGZ1bmN0aW9ucyBhcmUgb2Z0ZW4gdXNlZnVsIG92ZXIgbXVsdGlwbGUgZmlsZXMgaW4gdGhlXG5cdCAqIGNvcmUgYW5kIEFQSSwgc28gd2UgbGlzdCwgb3IgYXQgbGVhc3QgZG9jdW1lbnQsIGFsbCB2YXJpYWJsZXMgd2hpY2ggYXJlIHVzZWRcblx0ICogYnkgRGF0YVRhYmxlcyBhcyBwcml2YXRlIHZhcmlhYmxlcyBoZXJlLiBUaGlzIGFsc28gZW5zdXJlcyB0aGF0IHRoZXJlIGlzIG5vXG5cdCAqIGNsYXNoaW5nIG9mIHZhcmlhYmxlIG5hbWVzIGFuZCB0aGF0IHRoZXkgY2FuIGVhc2lseSByZWZlcmVuY2VkIGZvciByZXVzZS5cblx0ICovXG5cdFxuXHRcblx0Ly8gRGVmaW5lZCBlbHNlIHdoZXJlXG5cdC8vICBfc2VsZWN0b3JfcnVuXG5cdC8vICBfc2VsZWN0b3Jfb3B0c1xuXHQvLyAgX3NlbGVjdG9yX2ZpcnN0XG5cdC8vICBfc2VsZWN0b3Jfcm93X2luZGV4ZXNcblx0XG5cdHZhciBfZXh0OyAvLyBEYXRhVGFibGUuZXh0XG5cdHZhciBfQXBpOyAvLyBEYXRhVGFibGUuQXBpXG5cdHZhciBfYXBpX3JlZ2lzdGVyOyAvLyBEYXRhVGFibGUuQXBpLnJlZ2lzdGVyXG5cdHZhciBfYXBpX3JlZ2lzdGVyUGx1cmFsOyAvLyBEYXRhVGFibGUuQXBpLnJlZ2lzdGVyUGx1cmFsXG5cdFxuXHR2YXIgX3JlX2RpYyA9IHt9O1xuXHR2YXIgX3JlX25ld19saW5lcyA9IC9bXFxyXFxuXS9nO1xuXHR2YXIgX3JlX2h0bWwgPSAvPC4qPz4vZztcblx0dmFyIF9yZV9kYXRlX3N0YXJ0ID0gL15bXFx3XFwrXFwtXS87XG5cdHZhciBfcmVfZGF0ZV9lbmQgPSAvW1xcd1xcK1xcLV0kLztcblx0XG5cdC8vIEVzY2FwZSByZWd1bGFyIGV4cHJlc3Npb24gc3BlY2lhbCBjaGFyYWN0ZXJzXG5cdHZhciBfcmVfZXNjYXBlX3JlZ2V4ID0gbmV3IFJlZ0V4cCggJyhcXFxcJyArIFsgJy8nLCAnLicsICcqJywgJysnLCAnPycsICd8JywgJygnLCAnKScsICdbJywgJ10nLCAneycsICd9JywgJ1xcXFwnLCAnJCcsICdeJywgJy0nIF0uam9pbignfFxcXFwnKSArICcpJywgJ2cnICk7XG5cdFxuXHQvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ZvcmVpZ25fZXhjaGFuZ2VfbWFya2V0XG5cdC8vIC0gXFx1MjBCRCAtIFJ1c3NpYW4gcnVibGUuXG5cdC8vIC0gXFx1MjBhOSAtIFNvdXRoIEtvcmVhbiBXb25cblx0Ly8gLSBcXHUyMEJBIC0gVHVya2lzaCBMaXJhXG5cdC8vIC0gXFx1MjBCOSAtIEluZGlhbiBSdXBlZVxuXHQvLyAtIFIgLSBCcmF6aWwgKFIkKSBhbmQgU291dGggQWZyaWNhXG5cdC8vIC0gZnIgLSBTd2lzcyBGcmFuY1xuXHQvLyAtIGtyIC0gU3dlZGlzaCBrcm9uYSwgTm9yd2VnaWFuIGtyb25lIGFuZCBEYW5pc2gga3JvbmVcblx0Ly8gLSBcXHUyMDA5IGlzIHRoaW4gc3BhY2UgYW5kIFxcdTIwMkYgaXMgbmFycm93IG5vLWJyZWFrIHNwYWNlLCBib3RoIHVzZWQgaW4gbWFueVxuXHQvLyAgIHN0YW5kYXJkcyBhcyB0aG91c2FuZHMgc2VwYXJhdG9ycy5cblx0dmFyIF9yZV9mb3JtYXR0ZWRfbnVtZXJpYyA9IC9bJywkwqPigqzCpSVcXHUyMDA5XFx1MjAyRlxcdTIwQkRcXHUyMGE5XFx1MjBCQXJma10vZ2k7XG5cdFxuXHRcblx0dmFyIF9lbXB0eSA9IGZ1bmN0aW9uICggZCApIHtcblx0XHRyZXR1cm4gIWQgfHwgZCA9PT0gdHJ1ZSB8fCBkID09PSAnLScgPyB0cnVlIDogZmFsc2U7XG5cdH07XG5cdFxuXHRcblx0dmFyIF9pbnRWYWwgPSBmdW5jdGlvbiAoIHMgKSB7XG5cdFx0dmFyIGludGVnZXIgPSBwYXJzZUludCggcywgMTAgKTtcblx0XHRyZXR1cm4gIWlzTmFOKGludGVnZXIpICYmIGlzRmluaXRlKHMpID8gaW50ZWdlciA6IG51bGw7XG5cdH07XG5cdFxuXHQvLyBDb252ZXJ0IGZyb20gYSBmb3JtYXR0ZWQgbnVtYmVyIHdpdGggY2hhcmFjdGVycyBvdGhlciB0aGFuIGAuYCBhcyB0aGVcblx0Ly8gZGVjaW1hbCBwbGFjZSwgdG8gYSBKYXZhc2NyaXB0IG51bWJlclxuXHR2YXIgX251bVRvRGVjaW1hbCA9IGZ1bmN0aW9uICggbnVtLCBkZWNpbWFsUG9pbnQgKSB7XG5cdFx0Ly8gQ2FjaGUgY3JlYXRlZCByZWd1bGFyIGV4cHJlc3Npb25zIGZvciBzcGVlZCBhcyB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvZnRlblxuXHRcdGlmICggISBfcmVfZGljWyBkZWNpbWFsUG9pbnQgXSApIHtcblx0XHRcdF9yZV9kaWNbIGRlY2ltYWxQb2ludCBdID0gbmV3IFJlZ0V4cCggX2ZuRXNjYXBlUmVnZXgoIGRlY2ltYWxQb2ludCApLCAnZycgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHR5cGVvZiBudW0gPT09ICdzdHJpbmcnICYmIGRlY2ltYWxQb2ludCAhPT0gJy4nID9cblx0XHRcdG51bS5yZXBsYWNlKCAvXFwuL2csICcnICkucmVwbGFjZSggX3JlX2RpY1sgZGVjaW1hbFBvaW50IF0sICcuJyApIDpcblx0XHRcdG51bTtcblx0fTtcblx0XG5cdFxuXHR2YXIgX2lzTnVtYmVyID0gZnVuY3Rpb24gKCBkLCBkZWNpbWFsUG9pbnQsIGZvcm1hdHRlZCApIHtcblx0XHR2YXIgc3RyVHlwZSA9IHR5cGVvZiBkID09PSAnc3RyaW5nJztcblx0XG5cdFx0Ly8gSWYgZW1wdHkgcmV0dXJuIGltbWVkaWF0ZWx5IHNvIHRoZXJlIG11c3QgYmUgYSBudW1iZXIgaWYgaXQgaXMgYVxuXHRcdC8vIGZvcm1hdHRlZCBzdHJpbmcgKHRoaXMgc3RvcHMgdGhlIHN0cmluZyBcImtcIiwgb3IgXCJrclwiLCBldGMgYmVpbmcgZGV0ZWN0ZWRcblx0XHQvLyBhcyBhIGZvcm1hdHRlZCBudW1iZXIgZm9yIGN1cnJlbmN5XG5cdFx0aWYgKCBfZW1wdHkoIGQgKSApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBkZWNpbWFsUG9pbnQgJiYgc3RyVHlwZSApIHtcblx0XHRcdGQgPSBfbnVtVG9EZWNpbWFsKCBkLCBkZWNpbWFsUG9pbnQgKTtcblx0XHR9XG5cdFxuXHRcdGlmICggZm9ybWF0dGVkICYmIHN0clR5cGUgKSB7XG5cdFx0XHRkID0gZC5yZXBsYWNlKCBfcmVfZm9ybWF0dGVkX251bWVyaWMsICcnICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gIWlzTmFOKCBwYXJzZUZsb2F0KGQpICkgJiYgaXNGaW5pdGUoIGQgKTtcblx0fTtcblx0XG5cdFxuXHQvLyBBIHN0cmluZyB3aXRob3V0IEhUTUwgaW4gaXQgY2FuIGJlIGNvbnNpZGVyZWQgdG8gYmUgSFRNTCBzdGlsbFxuXHR2YXIgX2lzSHRtbCA9IGZ1bmN0aW9uICggZCApIHtcblx0XHRyZXR1cm4gX2VtcHR5KCBkICkgfHwgdHlwZW9mIGQgPT09ICdzdHJpbmcnO1xuXHR9O1xuXHRcblx0XG5cdHZhciBfaHRtbE51bWVyaWMgPSBmdW5jdGlvbiAoIGQsIGRlY2ltYWxQb2ludCwgZm9ybWF0dGVkICkge1xuXHRcdGlmICggX2VtcHR5KCBkICkgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFxuXHRcdHZhciBodG1sID0gX2lzSHRtbCggZCApO1xuXHRcdHJldHVybiAhIGh0bWwgP1xuXHRcdFx0bnVsbCA6XG5cdFx0XHRfaXNOdW1iZXIoIF9zdHJpcEh0bWwoIGQgKSwgZGVjaW1hbFBvaW50LCBmb3JtYXR0ZWQgKSA/XG5cdFx0XHRcdHRydWUgOlxuXHRcdFx0XHRudWxsO1xuXHR9O1xuXHRcblx0XG5cdHZhciBfcGx1Y2sgPSBmdW5jdGlvbiAoIGEsIHByb3AsIHByb3AyICkge1xuXHRcdHZhciBvdXQgPSBbXTtcblx0XHR2YXIgaT0wLCBpZW49YS5sZW5ndGg7XG5cdFxuXHRcdC8vIENvdWxkIGhhdmUgdGhlIHRlc3QgaW4gdGhlIGxvb3AgZm9yIHNsaWdodGx5IHNtYWxsZXIgY29kZSwgYnV0IHNwZWVkXG5cdFx0Ly8gaXMgZXNzZW50aWFsIGhlcmVcblx0XHRpZiAoIHByb3AyICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRmb3IgKCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGFbaV0gJiYgYVtpXVsgcHJvcCBdICkge1xuXHRcdFx0XHRcdG91dC5wdXNoKCBhW2ldWyBwcm9wIF1bIHByb3AyIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGZvciAoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYVtpXSApIHtcblx0XHRcdFx0XHRvdXQucHVzaCggYVtpXVsgcHJvcCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHRcblx0Ly8gQmFzaWNhbGx5IHRoZSBzYW1lIGFzIF9wbHVjaywgYnV0IHJhdGhlciB0aGFuIGxvb3Bpbmcgb3ZlciBgYWAgd2UgdXNlIGBvcmRlcmBcblx0Ly8gYXMgdGhlIGluZGV4ZXMgdG8gcGljayBmcm9tIGBhYFxuXHR2YXIgX3BsdWNrX29yZGVyID0gZnVuY3Rpb24gKCBhLCBvcmRlciwgcHJvcCwgcHJvcDIgKVxuXHR7XG5cdFx0dmFyIG91dCA9IFtdO1xuXHRcdHZhciBpPTAsIGllbj1vcmRlci5sZW5ndGg7XG5cdFxuXHRcdC8vIENvdWxkIGhhdmUgdGhlIHRlc3QgaW4gdGhlIGxvb3AgZm9yIHNsaWdodGx5IHNtYWxsZXIgY29kZSwgYnV0IHNwZWVkXG5cdFx0Ly8gaXMgZXNzZW50aWFsIGhlcmVcblx0XHRpZiAoIHByb3AyICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRmb3IgKCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGFbIG9yZGVyW2ldIF1bIHByb3AgXSApIHtcblx0XHRcdFx0XHRvdXQucHVzaCggYVsgb3JkZXJbaV0gXVsgcHJvcCBdWyBwcm9wMiBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRmb3IgKCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRvdXQucHVzaCggYVsgb3JkZXJbaV0gXVsgcHJvcCBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0XG5cdHZhciBfcmFuZ2UgPSBmdW5jdGlvbiAoIGxlbiwgc3RhcnQgKVxuXHR7XG5cdFx0dmFyIG91dCA9IFtdO1xuXHRcdHZhciBlbmQ7XG5cdFxuXHRcdGlmICggc3RhcnQgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHN0YXJ0ID0gMDtcblx0XHRcdGVuZCA9IGxlbjtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRlbmQgPSBzdGFydDtcblx0XHRcdHN0YXJ0ID0gbGVuO1xuXHRcdH1cblx0XG5cdFx0Zm9yICggdmFyIGk9c3RhcnQgOyBpPGVuZCA7IGkrKyApIHtcblx0XHRcdG91dC5wdXNoKCBpICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0XG5cdHZhciBfcmVtb3ZlRW1wdHkgPSBmdW5jdGlvbiAoIGEgKVxuXHR7XG5cdFx0dmFyIG91dCA9IFtdO1xuXHRcblx0XHRmb3IgKCB2YXIgaT0wLCBpZW49YS5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdGlmICggYVtpXSApIHsgLy8gY2FyZWZ1bCAtIHdpbGwgcmVtb3ZlIGFsbCBmYWxzeSB2YWx1ZXMhXG5cdFx0XHRcdG91dC5wdXNoKCBhW2ldICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0XG5cdHZhciBfc3RyaXBIdG1sID0gZnVuY3Rpb24gKCBkICkge1xuXHRcdHJldHVybiBkLnJlcGxhY2UoIF9yZV9odG1sLCAnJyApO1xuXHR9O1xuXHRcblx0XG5cdC8qKlxuXHQgKiBGaW5kIHRoZSB1bmlxdWUgZWxlbWVudHMgaW4gYSBzb3VyY2UgYXJyYXkuXG5cdCAqXG5cdCAqIEBwYXJhbSAge2FycmF5fSBzcmMgU291cmNlIGFycmF5XG5cdCAqIEByZXR1cm4ge2FycmF5fSBBcnJheSBvZiB1bmlxdWUgaXRlbXNcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dmFyIF91bmlxdWUgPSBmdW5jdGlvbiAoIHNyYyApXG5cdHtcblx0XHQvLyBBIGZhc3RlciB1bmlxdWUgbWV0aG9kIGlzIHRvIHVzZSBvYmplY3Qga2V5cyB0byBpZGVudGlmeSB1c2VkIHZhbHVlcyxcblx0XHQvLyBidXQgdGhpcyBkb2Vzbid0IHdvcmsgd2l0aCBhcnJheXMgb3Igb2JqZWN0cywgd2hpY2ggd2UgbXVzdCBhbHNvXG5cdFx0Ly8gY29uc2lkZXIuIFNlZSBqc3BlcmYuY29tL2NvbXBhcmUtYXJyYXktdW5pcXVlLXZlcnNpb25zLzQgZm9yIG1vcmVcblx0XHQvLyBpbmZvcm1hdGlvbi5cblx0XHR2YXJcblx0XHRcdG91dCA9IFtdLFxuXHRcdFx0dmFsLFxuXHRcdFx0aSwgaWVuPXNyYy5sZW5ndGgsXG5cdFx0XHRqLCBrPTA7XG5cdFxuXHRcdGFnYWluOiBmb3IgKCBpPTAgOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdHZhbCA9IHNyY1tpXTtcblx0XG5cdFx0XHRmb3IgKCBqPTAgOyBqPGsgOyBqKysgKSB7XG5cdFx0XHRcdGlmICggb3V0W2pdID09PSB2YWwgKSB7XG5cdFx0XHRcdFx0Y29udGludWUgYWdhaW47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRvdXQucHVzaCggdmFsICk7XG5cdFx0XHRrKys7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0XG5cdC8qKlxuXHQgKiBEYXRhVGFibGVzIHV0aWxpdHkgbWV0aG9kc1xuXHQgKiBcblx0ICogVGhpcyBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIG1ldGhvZHMgdGhhdCBEYXRhVGFibGVzIHVzZXMgaW50ZXJuYWxseSB0b1xuXHQgKiBjcmVhdGUgYSBEYXRhVGFibGUsIGJ1dCB3aGljaCBhcmUgbm90IGV4Y2x1c2l2ZWx5IHVzZWQgb25seSBmb3IgRGF0YVRhYmxlcy5cblx0ICogVGhlc2UgbWV0aG9kcyBjYW4gYmUgdXNlZCBieSBleHRlbnNpb24gYXV0aG9ycyB0byBzYXZlIHRoZSBkdXBsaWNhdGlvbiBvZlxuXHQgKiBjb2RlLlxuXHQgKlxuXHQgKiAgQG5hbWVzcGFjZVxuXHQgKi9cblx0RGF0YVRhYmxlLnV0aWwgPSB7XG5cdFx0LyoqXG5cdFx0ICogVGhyb3R0bGUgdGhlIGNhbGxzIHRvIGEgZnVuY3Rpb24uIEFyZ3VtZW50cyBhbmQgY29udGV4dCBhcmUgbWFpbnRhaW5lZFxuXHRcdCAqIGZvciB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gYmUgY2FsbGVkXG5cdFx0ICogQHBhcmFtIHtpbnRlZ2VyfSBmcmVxIENhbGwgZnJlcXVlbmN5IGluIG1TXG5cdFx0ICogQHJldHVybiB7ZnVuY3Rpb259IFdyYXBwZWQgZnVuY3Rpb25cblx0XHQgKi9cblx0XHR0aHJvdHRsZTogZnVuY3Rpb24gKCBmbiwgZnJlcSApIHtcblx0XHRcdHZhclxuXHRcdFx0XHRmcmVxdWVuY3kgPSBmcmVxICE9PSB1bmRlZmluZWQgPyBmcmVxIDogMjAwLFxuXHRcdFx0XHRsYXN0LFxuXHRcdFx0XHR0aW1lcjtcblx0XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRub3cgID0gK25ldyBEYXRlKCksXG5cdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cztcblx0XG5cdFx0XHRcdGlmICggbGFzdCAmJiBub3cgPCBsYXN0ICsgZnJlcXVlbmN5ICkge1xuXHRcdFx0XHRcdGNsZWFyVGltZW91dCggdGltZXIgKTtcblx0XG5cdFx0XHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRsYXN0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0Zm4uYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHR9LCBmcmVxdWVuY3kgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRsYXN0ID0gbm93O1xuXHRcdFx0XHRcdGZuLmFwcGx5KCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEVzY2FwZSBhIHN0cmluZyBzdWNoIHRoYXQgaXQgY2FuIGJlIHVzZWQgaW4gYSByZWd1bGFyIGV4cHJlc3Npb25cblx0XHQgKlxuXHRcdCAqICBAcGFyYW0ge3N0cmluZ30gdmFsIHN0cmluZyB0byBlc2NhcGVcblx0XHQgKiAgQHJldHVybnMge3N0cmluZ30gZXNjYXBlZCBzdHJpbmdcblx0XHQgKi9cblx0XHRlc2NhcGVSZWdleDogZnVuY3Rpb24gKCB2YWwgKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnJlcGxhY2UoIF9yZV9lc2NhcGVfcmVnZXgsICdcXFxcJDEnICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGEgbWFwcGluZyBvYmplY3QgdGhhdCBhbGxvd3MgY2FtZWwgY2FzZSBwYXJhbWV0ZXJzIHRvIGJlIGxvb2tlZCB1cFxuXHQgKiBmb3IgdGhlaXIgSHVuZ2FyaWFuIGNvdW50ZXJwYXJ0cy4gVGhlIG1hcHBpbmcgaXMgc3RvcmVkIGluIGEgcHJpdmF0ZVxuXHQgKiBwYXJhbWV0ZXIgY2FsbGVkIGBfaHVuZ2FyaWFuTWFwYCB3aGljaCBjYW4gYmUgYWNjZXNzZWQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1xuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5IdW5nYXJpYW5NYXAgKCBvIClcblx0e1xuXHRcdHZhclxuXHRcdFx0aHVuZ2FyaWFuID0gJ2EgYWEgYWkgYW8gYXMgYiBmbiBpIG0gbyBzICcsXG5cdFx0XHRtYXRjaCxcblx0XHRcdG5ld0tleSxcblx0XHRcdG1hcCA9IHt9O1xuXHRcblx0XHQkLmVhY2goIG8sIGZ1bmN0aW9uIChrZXksIHZhbCkge1xuXHRcdFx0bWF0Y2ggPSBrZXkubWF0Y2goL14oW15BLVpdKz8pKFtBLVpdKS8pO1xuXHRcblx0XHRcdGlmICggbWF0Y2ggJiYgaHVuZ2FyaWFuLmluZGV4T2YobWF0Y2hbMV0rJyAnKSAhPT0gLTEgKVxuXHRcdFx0e1xuXHRcdFx0XHRuZXdLZXkgPSBrZXkucmVwbGFjZSggbWF0Y2hbMF0sIG1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgKTtcblx0XHRcdFx0bWFwWyBuZXdLZXkgXSA9IGtleTtcblx0XG5cdFx0XHRcdGlmICggbWF0Y2hbMV0gPT09ICdvJyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRfZm5IdW5nYXJpYW5NYXAoIG9ba2V5XSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcblx0XHRvLl9odW5nYXJpYW5NYXAgPSBtYXA7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogQ29udmVydCBmcm9tIGNhbWVsIGNhc2UgcGFyYW1ldGVycyB0byBIdW5nYXJpYW4sIGJhc2VkIG9uIGEgSHVuZ2FyaWFuIG1hcFxuXHQgKiBjcmVhdGVkIGJ5IF9mbkh1bmdhcmlhbk1hcC5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzcmMgVGhlIG1vZGVsIG9iamVjdCB3aGljaCBob2xkcyBhbGwgcGFyYW1ldGVycyB0aGF0IGNhbiBiZVxuXHQgKiAgICBtYXBwZWQuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gdXNlciBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgZnJvbSBjYW1lbCBjYXNlIHRvIEh1bmdhcmlhbi5cblx0ICogIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2UgV2hlbiBzZXQgdG8gYHRydWVgLCBwcm9wZXJ0aWVzIHdoaWNoIGFscmVhZHkgaGF2ZSBhXG5cdCAqICAgIEh1bmdhcmlhbiB2YWx1ZSBpbiB0aGUgYHVzZXJgIG9iamVjdCB3aWxsIGJlIG92ZXJ3cml0dGVuLiBPdGhlcndpc2UgdGhleVxuXHQgKiAgICB3b24ndCBiZS5cblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQ2FtZWxUb0h1bmdhcmlhbiAoIHNyYywgdXNlciwgZm9yY2UgKVxuXHR7XG5cdFx0aWYgKCAhIHNyYy5faHVuZ2FyaWFuTWFwICkge1xuXHRcdFx0X2ZuSHVuZ2FyaWFuTWFwKCBzcmMgKTtcblx0XHR9XG5cdFxuXHRcdHZhciBodW5nYXJpYW5LZXk7XG5cdFxuXHRcdCQuZWFjaCggdXNlciwgZnVuY3Rpb24gKGtleSwgdmFsKSB7XG5cdFx0XHRodW5nYXJpYW5LZXkgPSBzcmMuX2h1bmdhcmlhbk1hcFsga2V5IF07XG5cdFxuXHRcdFx0aWYgKCBodW5nYXJpYW5LZXkgIT09IHVuZGVmaW5lZCAmJiAoZm9yY2UgfHwgdXNlcltodW5nYXJpYW5LZXldID09PSB1bmRlZmluZWQpIClcblx0XHRcdHtcblx0XHRcdFx0Ly8gRm9yIG9iamVjdHMsIHdlIG5lZWQgdG8gYnV6eiBkb3duIGludG8gdGhlIG9iamVjdCB0byBjb3B5IHBhcmFtZXRlcnNcblx0XHRcdFx0aWYgKCBodW5nYXJpYW5LZXkuY2hhckF0KDApID09PSAnbycgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Ly8gQ29weSB0aGUgY2FtZWxDYXNlIG9wdGlvbnMgb3ZlciB0byB0aGUgaHVuZ2FyaWFuXG5cdFx0XHRcdFx0aWYgKCAhIHVzZXJbIGh1bmdhcmlhbktleSBdICkge1xuXHRcdFx0XHRcdFx0dXNlclsgaHVuZ2FyaWFuS2V5IF0gPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JC5leHRlbmQoIHRydWUsIHVzZXJbaHVuZ2FyaWFuS2V5XSwgdXNlcltrZXldICk7XG5cdFxuXHRcdFx0XHRcdF9mbkNhbWVsVG9IdW5nYXJpYW4oIHNyY1todW5nYXJpYW5LZXldLCB1c2VyW2h1bmdhcmlhbktleV0sIGZvcmNlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0dXNlcltodW5nYXJpYW5LZXldID0gdXNlclsga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogTGFuZ3VhZ2UgY29tcGF0aWJpbGl0eSAtIHdoZW4gY2VydGFpbiBvcHRpb25zIGFyZSBnaXZlbiwgYW5kIG90aGVycyBhcmVuJ3QsIHdlXG5cdCAqIG5lZWQgdG8gZHVwbGljYXRlIHRoZSB2YWx1ZXMgb3ZlciwgaW4gb3JkZXIgdG8gcHJvdmlkZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuXHQgKiB3aXRoIG9sZGVyIGxhbmd1YWdlIGZpbGVzLlxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5MYW5ndWFnZUNvbXBhdCggbGFuZyApXG5cdHtcblx0XHR2YXIgZGVmYXVsdHMgPSBEYXRhVGFibGUuZGVmYXVsdHMub0xhbmd1YWdlO1xuXHRcdHZhciB6ZXJvUmVjb3JkcyA9IGxhbmcuc1plcm9SZWNvcmRzO1xuXHRcblx0XHQvKiBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAtIGlmIHRoZXJlIGlzIG5vIHNFbXB0eVRhYmxlIGdpdmVuLCB0aGVuIHVzZSB0aGUgc2FtZSBhc1xuXHRcdCAqIHNaZXJvUmVjb3JkcyAtIGFzc3VtaW5nIHRoYXQgaXMgZ2l2ZW4uXG5cdFx0ICovXG5cdFx0aWYgKCAhIGxhbmcuc0VtcHR5VGFibGUgJiYgemVyb1JlY29yZHMgJiZcblx0XHRcdGRlZmF1bHRzLnNFbXB0eVRhYmxlID09PSBcIk5vIGRhdGEgYXZhaWxhYmxlIGluIHRhYmxlXCIgKVxuXHRcdHtcblx0XHRcdF9mbk1hcCggbGFuZywgbGFuZywgJ3NaZXJvUmVjb3JkcycsICdzRW1wdHlUYWJsZScgKTtcblx0XHR9XG5cdFxuXHRcdC8qIExpa2V3aXNlIHdpdGggbG9hZGluZyByZWNvcmRzICovXG5cdFx0aWYgKCAhIGxhbmcuc0xvYWRpbmdSZWNvcmRzICYmIHplcm9SZWNvcmRzICYmXG5cdFx0XHRkZWZhdWx0cy5zTG9hZGluZ1JlY29yZHMgPT09IFwiTG9hZGluZy4uLlwiIClcblx0XHR7XG5cdFx0XHRfZm5NYXAoIGxhbmcsIGxhbmcsICdzWmVyb1JlY29yZHMnLCAnc0xvYWRpbmdSZWNvcmRzJyApO1xuXHRcdH1cblx0XG5cdFx0Ly8gT2xkIHBhcmFtZXRlciBuYW1lIG9mIHRoZSB0aG91c2FuZHMgc2VwYXJhdG9yIG1hcHBlZCBvbnRvIHRoZSBuZXdcblx0XHRpZiAoIGxhbmcuc0luZm9UaG91c2FuZHMgKSB7XG5cdFx0XHRsYW5nLnNUaG91c2FuZHMgPSBsYW5nLnNJbmZvVGhvdXNhbmRzO1xuXHRcdH1cblx0XG5cdFx0dmFyIGRlY2ltYWwgPSBsYW5nLnNEZWNpbWFsO1xuXHRcdGlmICggZGVjaW1hbCApIHtcblx0XHRcdF9hZGROdW1lcmljU29ydCggZGVjaW1hbCApO1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBNYXAgb25lIHBhcmFtZXRlciBvbnRvIGFub3RoZXJcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvIE9iamVjdCB0byBtYXBcblx0ICogIEBwYXJhbSB7Kn0ga25ldyBUaGUgbmV3IHBhcmFtZXRlciBuYW1lXG5cdCAqICBAcGFyYW0geyp9IG9sZCBUaGUgb2xkIHBhcmFtZXRlciBuYW1lXG5cdCAqL1xuXHR2YXIgX2ZuQ29tcGF0TWFwID0gZnVuY3Rpb24gKCBvLCBrbmV3LCBvbGQgKSB7XG5cdFx0aWYgKCBvWyBrbmV3IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdG9bIG9sZCBdID0gb1sga25ldyBdO1xuXHRcdH1cblx0fTtcblx0XG5cdFxuXHQvKipcblx0ICogUHJvdmlkZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgdGhlIG1haW4gRFQgb3B0aW9ucy4gTm90ZSB0aGF0IHRoZSBuZXdcblx0ICogb3B0aW9ucyBhcmUgbWFwcGVkIG9udG8gdGhlIG9sZCBwYXJhbWV0ZXJzLCBzbyB0aGlzIGlzIGFuIGV4dGVybmFsIGludGVyZmFjZVxuXHQgKiBjaGFuZ2Ugb25seS5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBpbml0IE9iamVjdCB0byBtYXBcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkNvbXBhdE9wdHMgKCBpbml0IClcblx0e1xuXHRcdF9mbkNvbXBhdE1hcCggaW5pdCwgJ29yZGVyaW5nJywgICAgICAnYlNvcnQnICk7XG5cdFx0X2ZuQ29tcGF0TWFwKCBpbml0LCAnb3JkZXJNdWx0aScsICAgICdiU29ydE11bHRpJyApO1xuXHRcdF9mbkNvbXBhdE1hcCggaW5pdCwgJ29yZGVyQ2xhc3NlcycsICAnYlNvcnRDbGFzc2VzJyApO1xuXHRcdF9mbkNvbXBhdE1hcCggaW5pdCwgJ29yZGVyQ2VsbHNUb3AnLCAnYlNvcnRDZWxsc1RvcCcgKTtcblx0XHRfZm5Db21wYXRNYXAoIGluaXQsICdvcmRlcicsICAgICAgICAgJ2FhU29ydGluZycgKTtcblx0XHRfZm5Db21wYXRNYXAoIGluaXQsICdvcmRlckZpeGVkJywgICAgJ2FhU29ydGluZ0ZpeGVkJyApO1xuXHRcdF9mbkNvbXBhdE1hcCggaW5pdCwgJ3BhZ2luZycsICAgICAgICAnYlBhZ2luYXRlJyApO1xuXHRcdF9mbkNvbXBhdE1hcCggaW5pdCwgJ3BhZ2luZ1R5cGUnLCAgICAnc1BhZ2luYXRpb25UeXBlJyApO1xuXHRcdF9mbkNvbXBhdE1hcCggaW5pdCwgJ3BhZ2VMZW5ndGgnLCAgICAnaURpc3BsYXlMZW5ndGgnICk7XG5cdFx0X2ZuQ29tcGF0TWFwKCBpbml0LCAnc2VhcmNoaW5nJywgICAgICdiRmlsdGVyJyApO1xuXHRcblx0XHQvLyBCb29sZWFuIGluaXRpYWxpc2F0aW9uIG9mIHgtc2Nyb2xsaW5nXG5cdFx0aWYgKCB0eXBlb2YgaW5pdC5zU2Nyb2xsWCA9PT0gJ2Jvb2xlYW4nICkge1xuXHRcdFx0aW5pdC5zU2Nyb2xsWCA9IGluaXQuc1Njcm9sbFggPyAnMTAwJScgOiAnJztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgaW5pdC5zY3JvbGxYID09PSAnYm9vbGVhbicgKSB7XG5cdFx0XHRpbml0LnNjcm9sbFggPSBpbml0LnNjcm9sbFggPyAnMTAwJScgOiAnJztcblx0XHR9XG5cdFxuXHRcdC8vIENvbHVtbiBzZWFyY2ggb2JqZWN0cyBhcmUgaW4gYW4gYXJyYXksIHNvIGl0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZFxuXHRcdC8vIGVsZW1lbnQgYnkgZWxlbWVudFxuXHRcdHZhciBzZWFyY2hDb2xzID0gaW5pdC5hb1NlYXJjaENvbHM7XG5cdFxuXHRcdGlmICggc2VhcmNoQ29scyApIHtcblx0XHRcdGZvciAoIHZhciBpPTAsIGllbj1zZWFyY2hDb2xzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHNlYXJjaENvbHNbaV0gKSB7XG5cdFx0XHRcdFx0X2ZuQ2FtZWxUb0h1bmdhcmlhbiggRGF0YVRhYmxlLm1vZGVscy5vU2VhcmNoLCBzZWFyY2hDb2xzW2ldICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogUHJvdmlkZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgY29sdW1uIG9wdGlvbnMuIE5vdGUgdGhhdCB0aGUgbmV3IG9wdGlvbnNcblx0ICogYXJlIG1hcHBlZCBvbnRvIHRoZSBvbGQgcGFyYW1ldGVycywgc28gdGhpcyBpcyBhbiBleHRlcm5hbCBpbnRlcmZhY2UgY2hhbmdlXG5cdCAqIG9ubHkuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gaW5pdCBPYmplY3QgdG8gbWFwXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Db21wYXRDb2xzICggaW5pdCApXG5cdHtcblx0XHRfZm5Db21wYXRNYXAoIGluaXQsICdvcmRlcmFibGUnLCAgICAgJ2JTb3J0YWJsZScgKTtcblx0XHRfZm5Db21wYXRNYXAoIGluaXQsICdvcmRlckRhdGEnLCAgICAgJ2FEYXRhU29ydCcgKTtcblx0XHRfZm5Db21wYXRNYXAoIGluaXQsICdvcmRlclNlcXVlbmNlJywgJ2FzU29ydGluZycgKTtcblx0XHRfZm5Db21wYXRNYXAoIGluaXQsICdvcmRlckRhdGFUeXBlJywgJ3NvcnREYXRhVHlwZScgKTtcblx0XG5cdFx0Ly8gb3JkZXJEYXRhIGNhbiBiZSBnaXZlbiBhcyBhbiBpbnRlZ2VyXG5cdFx0dmFyIGRhdGFTb3J0ID0gaW5pdC5hRGF0YVNvcnQ7XG5cdFx0aWYgKCBkYXRhU29ydCAmJiAhICQuaXNBcnJheSggZGF0YVNvcnQgKSApIHtcblx0XHRcdGluaXQuYURhdGFTb3J0ID0gWyBkYXRhU29ydCBdO1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBCcm93c2VyIGZlYXR1cmUgZGV0ZWN0aW9uIGZvciBjYXBhYmlsaXRpZXMsIHF1aXJrc1xuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkJyb3dzZXJEZXRlY3QoIHNldHRpbmdzIClcblx0e1xuXHRcdC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gdGhpcyBldmVyeSB0aW1lIERhdGFUYWJsZXMgaXMgY29uc3RydWN0ZWQsIHRoZSB2YWx1ZXNcblx0XHQvLyBjYWxjdWxhdGVkIGFyZSBzcGVjaWZpYyB0byB0aGUgYnJvd3NlciBhbmQgT1MgY29uZmlndXJhdGlvbiB3aGljaCB3ZVxuXHRcdC8vIGRvbid0IGV4cGVjdCB0byBjaGFuZ2UgYmV0d2VlbiBpbml0aWFsaXNhdGlvbnNcblx0XHRpZiAoICEgRGF0YVRhYmxlLl9fYnJvd3NlciApIHtcblx0XHRcdHZhciBicm93c2VyID0ge307XG5cdFx0XHREYXRhVGFibGUuX19icm93c2VyID0gYnJvd3Nlcjtcblx0XG5cdFx0XHQvLyBTY3JvbGxpbmcgZmVhdHVyZSAvIHF1aXJrcyBkZXRlY3Rpb25cblx0XHRcdHZhciBuID0gJCgnPGRpdi8+Jylcblx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiAnZml4ZWQnLFxuXHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdGhlaWdodDogMSxcblx0XHRcdFx0XHR3aWR0aDogMSxcblx0XHRcdFx0XHRvdmVyZmxvdzogJ2hpZGRlbidcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5hcHBlbmQoXG5cdFx0XHRcdFx0JCgnPGRpdi8+Jylcblx0XHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdFx0XHRcdHRvcDogMSxcblx0XHRcdFx0XHRcdFx0bGVmdDogMSxcblx0XHRcdFx0XHRcdFx0d2lkdGg6IDEwMCxcblx0XHRcdFx0XHRcdFx0b3ZlcmZsb3c6ICdzY3JvbGwnXG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdC5hcHBlbmQoXG5cdFx0XHRcdFx0XHRcdCQoJzxkaXYvPicpXG5cdFx0XHRcdFx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0XHRcdFx0XHRcdGhlaWdodDogMTBcblx0XHRcdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0XHQuYXBwZW5kVG8oICdib2R5JyApO1xuXHRcblx0XHRcdHZhciBvdXRlciA9IG4uY2hpbGRyZW4oKTtcblx0XHRcdHZhciBpbm5lciA9IG91dGVyLmNoaWxkcmVuKCk7XG5cdFxuXHRcdFx0Ly8gTnVtYmVycyBiZWxvdywgaW4gb3JkZXIsIGFyZTpcblx0XHRcdC8vIGlubmVyLm9mZnNldFdpZHRoLCBpbm5lci5jbGllbnRXaWR0aCwgb3V0ZXIub2Zmc2V0V2lkdGgsIG91dGVyLmNsaWVudFdpZHRoXG5cdFx0XHQvL1xuXHRcdFx0Ly8gSUU2IFhQOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMCAxMDAgMTAwICA4M1xuXHRcdFx0Ly8gSUU3IFZpc3RhOiAgICAgICAgICAgICAgICAgICAgICAgIDEwMCAxMDAgMTAwICA4M1xuXHRcdFx0Ly8gSUUgOCsgV2luZG93czogICAgICAgICAgICAgICAgICAgICA4MyAgODMgMTAwICA4M1xuXHRcdFx0Ly8gRXZlcmdyZWVuIFdpbmRvd3M6ICAgICAgICAgICAgICAgICA4MyAgODMgMTAwICA4M1xuXHRcdFx0Ly8gRXZlcmdyZWVuIE1hYyB3aXRoIHNjcm9sbGJhcnM6ICAgICA4NSAgODUgMTAwICA4NVxuXHRcdFx0Ly8gRXZlcmdyZWVuIE1hYyB3aXRob3V0IHNjcm9sbGJhcnM6IDEwMCAxMDAgMTAwIDEwMFxuXHRcblx0XHRcdC8vIEdldCBzY3JvbGxiYXIgd2lkdGhcblx0XHRcdGJyb3dzZXIuYmFyV2lkdGggPSBvdXRlclswXS5vZmZzZXRXaWR0aCAtIG91dGVyWzBdLmNsaWVudFdpZHRoO1xuXHRcblx0XHRcdC8vIElFNi83IHdpbGwgb3ZlcnNpemUgYSB3aWR0aCAxMDAlIGVsZW1lbnQgaW5zaWRlIGEgc2Nyb2xsaW5nIGVsZW1lbnQsIHRvXG5cdFx0XHQvLyBpbmNsdWRlIHRoZSB3aWR0aCBvZiB0aGUgc2Nyb2xsYmFyLCB3aGlsZSBvdGhlciBicm93c2VycyBlbnN1cmUgdGhlIGlubmVyXG5cdFx0XHQvLyBlbGVtZW50IGlzIGNvbnRhaW5lZCB3aXRob3V0IGZvcmNpbmcgc2Nyb2xsaW5nXG5cdFx0XHRicm93c2VyLmJTY3JvbGxPdmVyc2l6ZSA9IGlubmVyWzBdLm9mZnNldFdpZHRoID09PSAxMDAgJiYgb3V0ZXJbMF0uY2xpZW50V2lkdGggIT09IDEwMDtcblx0XG5cdFx0XHQvLyBJbiBydGwgdGV4dCBsYXlvdXQsIHNvbWUgYnJvd3NlcnMgKG1vc3QsIGJ1dCBub3QgYWxsKSB3aWxsIHBsYWNlIHRoZVxuXHRcdFx0Ly8gc2Nyb2xsYmFyIG9uIHRoZSBsZWZ0LCByYXRoZXIgdGhhbiB0aGUgcmlnaHQuXG5cdFx0XHRicm93c2VyLmJTY3JvbGxiYXJMZWZ0ID0gTWF0aC5yb3VuZCggaW5uZXIub2Zmc2V0KCkubGVmdCApICE9PSAxO1xuXHRcblx0XHRcdC8vIElFOC0gZG9uJ3QgcHJvdmlkZSBoZWlnaHQgYW5kIHdpZHRoIGZvciBnZXRCb3VuZGluZ0NsaWVudFJlY3Rcblx0XHRcdGJyb3dzZXIuYkJvdW5kaW5nID0gblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA/IHRydWUgOiBmYWxzZTtcblx0XG5cdFx0XHRuLnJlbW92ZSgpO1xuXHRcdH1cblx0XG5cdFx0JC5leHRlbmQoIHNldHRpbmdzLm9Ccm93c2VyLCBEYXRhVGFibGUuX19icm93c2VyICk7XG5cdFx0c2V0dGluZ3Mub1Njcm9sbC5pQmFyV2lkdGggPSBEYXRhVGFibGUuX19icm93c2VyLmJhcldpZHRoO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFycmF5LnByb3RvdHlwZSByZWR1Y2VbUmlnaHRdIG1ldGhvZCwgdXNlZCBmb3IgYnJvd3NlcnMgd2hpY2ggZG9uJ3Qgc3VwcG9ydFxuXHQgKiBKUyAxLjYuIERvbmUgdGhpcyB3YXkgdG8gcmVkdWNlIGNvZGUgc2l6ZSwgc2luY2Ugd2UgaXRlcmF0ZSBlaXRoZXIgd2F5XG5cdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuUmVkdWNlICggdGhhdCwgZm4sIGluaXQsIHN0YXJ0LCBlbmQsIGluYyApXG5cdHtcblx0XHR2YXJcblx0XHRcdGkgPSBzdGFydCxcblx0XHRcdHZhbHVlLFxuXHRcdFx0aXNTZXQgPSBmYWxzZTtcblx0XG5cdFx0aWYgKCBpbml0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWx1ZSA9IGluaXQ7XG5cdFx0XHRpc1NldCA9IHRydWU7XG5cdFx0fVxuXHRcblx0XHR3aGlsZSAoIGkgIT09IGVuZCApIHtcblx0XHRcdGlmICggISB0aGF0Lmhhc093blByb3BlcnR5KGkpICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XG5cdFx0XHR2YWx1ZSA9IGlzU2V0ID9cblx0XHRcdFx0Zm4oIHZhbHVlLCB0aGF0W2ldLCBpLCB0aGF0ICkgOlxuXHRcdFx0XHR0aGF0W2ldO1xuXHRcblx0XHRcdGlzU2V0ID0gdHJ1ZTtcblx0XHRcdGkgKz0gaW5jO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQWRkIGEgY29sdW1uIHRvIHRoZSBsaXN0IHVzZWQgZm9yIHRoZSB0YWJsZSB3aXRoIGRlZmF1bHQgdmFsdWVzXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge25vZGV9IG5UaCBUaGUgdGggZWxlbWVudCBmb3IgdGhpcyBjb2x1bW5cblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQWRkQ29sdW1uKCBvU2V0dGluZ3MsIG5UaCApXG5cdHtcblx0XHQvLyBBZGQgY29sdW1uIHRvIGFvQ29sdW1ucyBhcnJheVxuXHRcdHZhciBvRGVmYXVsdHMgPSBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uO1xuXHRcdHZhciBpQ29sID0gb1NldHRpbmdzLmFvQ29sdW1ucy5sZW5ndGg7XG5cdFx0dmFyIG9Db2wgPSAkLmV4dGVuZCgge30sIERhdGFUYWJsZS5tb2RlbHMub0NvbHVtbiwgb0RlZmF1bHRzLCB7XG5cdFx0XHRcIm5UaFwiOiBuVGggPyBuVGggOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpLFxuXHRcdFx0XCJzVGl0bGVcIjogICAgb0RlZmF1bHRzLnNUaXRsZSAgICA/IG9EZWZhdWx0cy5zVGl0bGUgICAgOiBuVGggPyBuVGguaW5uZXJIVE1MIDogJycsXG5cdFx0XHRcImFEYXRhU29ydFwiOiBvRGVmYXVsdHMuYURhdGFTb3J0ID8gb0RlZmF1bHRzLmFEYXRhU29ydCA6IFtpQ29sXSxcblx0XHRcdFwibURhdGFcIjogb0RlZmF1bHRzLm1EYXRhID8gb0RlZmF1bHRzLm1EYXRhIDogaUNvbCxcblx0XHRcdGlkeDogaUNvbFxuXHRcdH0gKTtcblx0XHRvU2V0dGluZ3MuYW9Db2x1bW5zLnB1c2goIG9Db2wgKTtcblx0XG5cdFx0Ly8gQWRkIHNlYXJjaCBvYmplY3QgZm9yIGNvbHVtbiBzcGVjaWZpYyBzZWFyY2guIE5vdGUgdGhhdCB0aGUgYHNlYXJjaENvbHNbIGlDb2wgXWBcblx0XHQvLyBwYXNzZWQgaW50byBleHRlbmQgY2FuIGJlIHVuZGVmaW5lZC4gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gZ2l2ZSBhIGRlZmF1bHRcblx0XHQvLyB3aXRoIG9ubHkgc29tZSBvZiB0aGUgcGFyYW1ldGVycyBkZWZpbmVkLCBhbmQgYWxzbyBub3QgZ2l2ZSBhIGRlZmF1bHRcblx0XHR2YXIgc2VhcmNoQ29scyA9IG9TZXR0aW5ncy5hb1ByZVNlYXJjaENvbHM7XG5cdFx0c2VhcmNoQ29sc1sgaUNvbCBdID0gJC5leHRlbmQoIHt9LCBEYXRhVGFibGUubW9kZWxzLm9TZWFyY2gsIHNlYXJjaENvbHNbIGlDb2wgXSApO1xuXHRcblx0XHQvLyBVc2UgdGhlIGRlZmF1bHQgY29sdW1uIG9wdGlvbnMgZnVuY3Rpb24gdG8gaW5pdGlhbGlzZSBjbGFzc2VzIGV0Y1xuXHRcdF9mbkNvbHVtbk9wdGlvbnMoIG9TZXR0aW5ncywgaUNvbCwgJChuVGgpLmRhdGEoKSApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFwcGx5IG9wdGlvbnMgZm9yIGEgY29sdW1uXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge2ludH0gaUNvbCBjb2x1bW4gaW5kZXggdG8gY29uc2lkZXJcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvT3B0aW9ucyBvYmplY3Qgd2l0aCBzVHlwZSwgYlZpc2libGUgYW5kIGJTZWFyY2hhYmxlIGV0Y1xuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Db2x1bW5PcHRpb25zKCBvU2V0dGluZ3MsIGlDb2wsIG9PcHRpb25zIClcblx0e1xuXHRcdHZhciBvQ29sID0gb1NldHRpbmdzLmFvQ29sdW1uc1sgaUNvbCBdO1xuXHRcdHZhciBvQ2xhc3NlcyA9IG9TZXR0aW5ncy5vQ2xhc3Nlcztcblx0XHR2YXIgdGggPSAkKG9Db2wublRoKTtcblx0XG5cdFx0Ly8gVHJ5IHRvIGdldCB3aWR0aCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBET00uIFdlIGNhbid0IGdldCBpdCBmcm9tIENTU1xuXHRcdC8vIGFzIHdlJ2QgbmVlZCB0byBwYXJzZSB0aGUgQ1NTIHN0eWxlc2hlZXQuIGB3aWR0aGAgb3B0aW9uIGNhbiBvdmVycmlkZVxuXHRcdGlmICggISBvQ29sLnNXaWR0aE9yaWcgKSB7XG5cdFx0XHQvLyBXaWR0aCBhdHRyaWJ1dGVcblx0XHRcdG9Db2wuc1dpZHRoT3JpZyA9IHRoLmF0dHIoJ3dpZHRoJykgfHwgbnVsbDtcblx0XG5cdFx0XHQvLyBTdHlsZSBhdHRyaWJ1dGVcblx0XHRcdHZhciB0ID0gKHRoLmF0dHIoJ3N0eWxlJykgfHwgJycpLm1hdGNoKC93aWR0aDpcXHMqKFxcZCtbcHhlbSVdKykvKTtcblx0XHRcdGlmICggdCApIHtcblx0XHRcdFx0b0NvbC5zV2lkdGhPcmlnID0gdFsxXTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8qIFVzZXIgc3BlY2lmaWVkIGNvbHVtbiBvcHRpb25zICovXG5cdFx0aWYgKCBvT3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9PcHRpb25zICE9PSBudWxsIClcblx0XHR7XG5cdFx0XHQvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuXHRcdFx0X2ZuQ29tcGF0Q29scyggb09wdGlvbnMgKTtcblx0XG5cdFx0XHQvLyBNYXAgY2FtZWwgY2FzZSBwYXJhbWV0ZXJzIHRvIHRoZWlyIEh1bmdhcmlhbiBjb3VudGVycGFydHNcblx0XHRcdF9mbkNhbWVsVG9IdW5nYXJpYW4oIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4sIG9PcHRpb25zICk7XG5cdFxuXHRcdFx0LyogQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIG1EYXRhUHJvcCAqL1xuXHRcdFx0aWYgKCBvT3B0aW9ucy5tRGF0YVByb3AgIT09IHVuZGVmaW5lZCAmJiAhb09wdGlvbnMubURhdGEgKVxuXHRcdFx0e1xuXHRcdFx0XHRvT3B0aW9ucy5tRGF0YSA9IG9PcHRpb25zLm1EYXRhUHJvcDtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIG9PcHRpb25zLnNUeXBlIClcblx0XHRcdHtcblx0XHRcdFx0b0NvbC5fc01hbnVhbFR5cGUgPSBvT3B0aW9ucy5zVHlwZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBgY2xhc3NgIGlzIGEgcmVzZXJ2ZWQgd29yZCBpbiBKYXZhc2NyaXB0LCBzbyB3ZSBuZWVkIHRvIHByb3ZpZGVcblx0XHRcdC8vIHRoZSBhYmlsaXR5IHRvIHVzZSBhIHZhbGlkIG5hbWUgZm9yIHRoZSBjYW1lbCBjYXNlIGlucHV0XG5cdFx0XHRpZiAoIG9PcHRpb25zLmNsYXNzTmFtZSAmJiAhIG9PcHRpb25zLnNDbGFzcyApXG5cdFx0XHR7XG5cdFx0XHRcdG9PcHRpb25zLnNDbGFzcyA9IG9PcHRpb25zLmNsYXNzTmFtZTtcblx0XHRcdH1cblx0XG5cdFx0XHQkLmV4dGVuZCggb0NvbCwgb09wdGlvbnMgKTtcblx0XHRcdF9mbk1hcCggb0NvbCwgb09wdGlvbnMsIFwic1dpZHRoXCIsIFwic1dpZHRoT3JpZ1wiICk7XG5cdFxuXHRcdFx0LyogaURhdGFTb3J0IHRvIGJlIGFwcGxpZWQgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KSwgYnV0IGFEYXRhU29ydCB3aWxsIHRha2Vcblx0XHRcdCAqIHByaW9yaXR5IGlmIGRlZmluZWRcblx0XHRcdCAqL1xuXHRcdFx0aWYgKCBvT3B0aW9ucy5pRGF0YVNvcnQgIT09IHVuZGVmaW5lZCApXG5cdFx0XHR7XG5cdFx0XHRcdG9Db2wuYURhdGFTb3J0ID0gWyBvT3B0aW9ucy5pRGF0YVNvcnQgXTtcblx0XHRcdH1cblx0XHRcdF9mbk1hcCggb0NvbCwgb09wdGlvbnMsIFwiYURhdGFTb3J0XCIgKTtcblx0XHR9XG5cdFxuXHRcdC8qIENhY2hlIHRoZSBkYXRhIGdldCBhbmQgc2V0IGZ1bmN0aW9ucyBmb3Igc3BlZWQgKi9cblx0XHR2YXIgbURhdGFTcmMgPSBvQ29sLm1EYXRhO1xuXHRcdHZhciBtRGF0YSA9IF9mbkdldE9iamVjdERhdGFGbiggbURhdGFTcmMgKTtcblx0XHR2YXIgbVJlbmRlciA9IG9Db2wubVJlbmRlciA/IF9mbkdldE9iamVjdERhdGFGbiggb0NvbC5tUmVuZGVyICkgOiBudWxsO1xuXHRcblx0XHR2YXIgYXR0clRlc3QgPSBmdW5jdGlvbiggc3JjICkge1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBzcmMgPT09ICdzdHJpbmcnICYmIHNyYy5pbmRleE9mKCdAJykgIT09IC0xO1xuXHRcdH07XG5cdFx0b0NvbC5fYkF0dHJTcmMgPSAkLmlzUGxhaW5PYmplY3QoIG1EYXRhU3JjICkgJiYgKFxuXHRcdFx0YXR0clRlc3QobURhdGFTcmMuc29ydCkgfHwgYXR0clRlc3QobURhdGFTcmMudHlwZSkgfHwgYXR0clRlc3QobURhdGFTcmMuZmlsdGVyKVxuXHRcdCk7XG5cdFx0b0NvbC5fc2V0dGVyID0gbnVsbDtcblx0XG5cdFx0b0NvbC5mbkdldERhdGEgPSBmdW5jdGlvbiAocm93RGF0YSwgdHlwZSwgbWV0YSkge1xuXHRcdFx0dmFyIGlubmVyRGF0YSA9IG1EYXRhKCByb3dEYXRhLCB0eXBlLCB1bmRlZmluZWQsIG1ldGEgKTtcblx0XG5cdFx0XHRyZXR1cm4gbVJlbmRlciAmJiB0eXBlID9cblx0XHRcdFx0bVJlbmRlciggaW5uZXJEYXRhLCB0eXBlLCByb3dEYXRhLCBtZXRhICkgOlxuXHRcdFx0XHRpbm5lckRhdGE7XG5cdFx0fTtcblx0XHRvQ29sLmZuU2V0RGF0YSA9IGZ1bmN0aW9uICggcm93RGF0YSwgdmFsLCBtZXRhICkge1xuXHRcdFx0cmV0dXJuIF9mblNldE9iamVjdERhdGFGbiggbURhdGFTcmMgKSggcm93RGF0YSwgdmFsLCBtZXRhICk7XG5cdFx0fTtcblx0XG5cdFx0Ly8gSW5kaWNhdGUgaWYgRGF0YVRhYmxlcyBzaG91bGQgcmVhZCBET00gZGF0YSBhcyBhbiBvYmplY3Qgb3IgYXJyYXlcblx0XHQvLyBVc2VkIGluIF9mbkdldFJvd0VsZW1lbnRzXG5cdFx0aWYgKCB0eXBlb2YgbURhdGFTcmMgIT09ICdudW1iZXInICkge1xuXHRcdFx0b1NldHRpbmdzLl9yb3dSZWFkT2JqZWN0ID0gdHJ1ZTtcblx0XHR9XG5cdFxuXHRcdC8qIEZlYXR1cmUgc29ydGluZyBvdmVycmlkZXMgY29sdW1uIHNwZWNpZmljIHdoZW4gb2ZmICovXG5cdFx0aWYgKCAhb1NldHRpbmdzLm9GZWF0dXJlcy5iU29ydCApXG5cdFx0e1xuXHRcdFx0b0NvbC5iU29ydGFibGUgPSBmYWxzZTtcblx0XHRcdHRoLmFkZENsYXNzKCBvQ2xhc3Nlcy5zU29ydGFibGVOb25lICk7IC8vIEhhdmUgdG8gYWRkIGNsYXNzIGhlcmUgYXMgb3JkZXIgZXZlbnQgaXNuJ3QgY2FsbGVkXG5cdFx0fVxuXHRcblx0XHQvKiBDaGVjayB0aGF0IHRoZSBjbGFzcyBhc3NpZ25tZW50IGlzIGNvcnJlY3QgZm9yIHNvcnRpbmcgKi9cblx0XHR2YXIgYkFzYyA9ICQuaW5BcnJheSgnYXNjJywgb0NvbC5hc1NvcnRpbmcpICE9PSAtMTtcblx0XHR2YXIgYkRlc2MgPSAkLmluQXJyYXkoJ2Rlc2MnLCBvQ29sLmFzU29ydGluZykgIT09IC0xO1xuXHRcdGlmICggIW9Db2wuYlNvcnRhYmxlIHx8ICghYkFzYyAmJiAhYkRlc2MpIClcblx0XHR7XG5cdFx0XHRvQ29sLnNTb3J0aW5nQ2xhc3MgPSBvQ2xhc3Nlcy5zU29ydGFibGVOb25lO1xuXHRcdFx0b0NvbC5zU29ydGluZ0NsYXNzSlVJID0gXCJcIjtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIGJBc2MgJiYgIWJEZXNjIClcblx0XHR7XG5cdFx0XHRvQ29sLnNTb3J0aW5nQ2xhc3MgPSBvQ2xhc3Nlcy5zU29ydGFibGVBc2M7XG5cdFx0XHRvQ29sLnNTb3J0aW5nQ2xhc3NKVUkgPSBvQ2xhc3Nlcy5zU29ydEpVSUFzY0FsbG93ZWQ7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCAhYkFzYyAmJiBiRGVzYyApXG5cdFx0e1xuXHRcdFx0b0NvbC5zU29ydGluZ0NsYXNzID0gb0NsYXNzZXMuc1NvcnRhYmxlRGVzYztcblx0XHRcdG9Db2wuc1NvcnRpbmdDbGFzc0pVSSA9IG9DbGFzc2VzLnNTb3J0SlVJRGVzY0FsbG93ZWQ7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRvQ29sLnNTb3J0aW5nQ2xhc3MgPSBvQ2xhc3Nlcy5zU29ydGFibGU7XG5cdFx0XHRvQ29sLnNTb3J0aW5nQ2xhc3NKVUkgPSBvQ2xhc3Nlcy5zU29ydEpVSTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogQWRqdXN0IHRoZSB0YWJsZSBjb2x1bW4gd2lkdGhzIGZvciBuZXcgZGF0YS4gTm90ZTogeW91IHdvdWxkIHByb2JhYmx5IHdhbnQgdG9cblx0ICogZG8gYSByZWRyYXcgYWZ0ZXIgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkFkanVzdENvbHVtblNpemluZyAoIHNldHRpbmdzIClcblx0e1xuXHRcdC8qIE5vdCBpbnRlcmVzdGVkIGluIGRvaW5nIGNvbHVtbiB3aWR0aCBjYWxjdWxhdGlvbiBpZiBhdXRvLXdpZHRoIGlzIGRpc2FibGVkICovXG5cdFx0aWYgKCBzZXR0aW5ncy5vRmVhdHVyZXMuYkF1dG9XaWR0aCAhPT0gZmFsc2UgKVxuXHRcdHtcblx0XHRcdHZhciBjb2x1bW5zID0gc2V0dGluZ3MuYW9Db2x1bW5zO1xuXHRcblx0XHRcdF9mbkNhbGN1bGF0ZUNvbHVtbldpZHRocyggc2V0dGluZ3MgKTtcblx0XHRcdGZvciAoIHZhciBpPTAgLCBpTGVuPWNvbHVtbnMubGVuZ3RoIDsgaTxpTGVuIDsgaSsrIClcblx0XHRcdHtcblx0XHRcdFx0Y29sdW1uc1tpXS5uVGguc3R5bGUud2lkdGggPSBjb2x1bW5zW2ldLnNXaWR0aDtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHZhciBzY3JvbGwgPSBzZXR0aW5ncy5vU2Nyb2xsO1xuXHRcdGlmICggc2Nyb2xsLnNZICE9PSAnJyB8fCBzY3JvbGwuc1ggIT09ICcnKVxuXHRcdHtcblx0XHRcdF9mblNjcm9sbERyYXcoIHNldHRpbmdzICk7XG5cdFx0fVxuXHRcblx0XHRfZm5DYWxsYmFja0ZpcmUoIHNldHRpbmdzLCBudWxsLCAnY29sdW1uLXNpemluZycsIFtzZXR0aW5nc10gKTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBDb3ZlcnQgdGhlIGluZGV4IG9mIGEgdmlzaWJsZSBjb2x1bW4gdG8gdGhlIGluZGV4IGluIHRoZSBkYXRhIGFycmF5ICh0YWtlIGFjY291bnRcblx0ICogb2YgaGlkZGVuIGNvbHVtbnMpXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge2ludH0gaU1hdGNoIFZpc2libGUgY29sdW1uIGluZGV4IHRvIGxvb2t1cFxuXHQgKiAgQHJldHVybnMge2ludH0gaSB0aGUgZGF0YSBpbmRleFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5WaXNpYmxlVG9Db2x1bW5JbmRleCggb1NldHRpbmdzLCBpTWF0Y2ggKVxuXHR7XG5cdFx0dmFyIGFpVmlzID0gX2ZuR2V0Q29sdW1ucyggb1NldHRpbmdzLCAnYlZpc2libGUnICk7XG5cdFxuXHRcdHJldHVybiB0eXBlb2YgYWlWaXNbaU1hdGNoXSA9PT0gJ251bWJlcicgP1xuXHRcdFx0YWlWaXNbaU1hdGNoXSA6XG5cdFx0XHRudWxsO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIENvdmVydCB0aGUgaW5kZXggb2YgYW4gaW5kZXggaW4gdGhlIGRhdGEgYXJyYXkgYW5kIGNvbnZlcnQgaXQgdG8gdGhlIHZpc2libGVcblx0ICogICBjb2x1bW4gaW5kZXggKHRha2UgYWNjb3VudCBvZiBoaWRkZW4gY29sdW1ucylcblx0ICogIEBwYXJhbSB7aW50fSBpTWF0Y2ggQ29sdW1uIGluZGV4IHRvIGxvb2t1cFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHJldHVybnMge2ludH0gaSB0aGUgZGF0YSBpbmRleFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Db2x1bW5JbmRleFRvVmlzaWJsZSggb1NldHRpbmdzLCBpTWF0Y2ggKVxuXHR7XG5cdFx0dmFyIGFpVmlzID0gX2ZuR2V0Q29sdW1ucyggb1NldHRpbmdzLCAnYlZpc2libGUnICk7XG5cdFx0dmFyIGlQb3MgPSAkLmluQXJyYXkoIGlNYXRjaCwgYWlWaXMgKTtcblx0XG5cdFx0cmV0dXJuIGlQb3MgIT09IC0xID8gaVBvcyA6IG51bGw7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBudW1iZXIgb2YgdmlzaWJsZSBjb2x1bW5zXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcmV0dXJucyB7aW50fSBpIHRoZSBudW1iZXIgb2YgdmlzaWJsZSBjb2x1bW5zXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mblZpc2JsZUNvbHVtbnMoIG9TZXR0aW5ncyApXG5cdHtcblx0XHR2YXIgdmlzID0gMDtcblx0XG5cdFx0Ly8gTm8gcmVkdWNlIGluIElFOCwgdXNlIGEgbG9vcCBmb3Igbm93XG5cdFx0JC5lYWNoKCBvU2V0dGluZ3MuYW9Db2x1bW5zLCBmdW5jdGlvbiAoIGksIGNvbCApIHtcblx0XHRcdGlmICggY29sLmJWaXNpYmxlICYmICQoY29sLm5UaCkuY3NzKCdkaXNwbGF5JykgIT09ICdub25lJyApIHtcblx0XHRcdFx0dmlzKys7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gdmlzO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEdldCBhbiBhcnJheSBvZiBjb2x1bW4gaW5kZXhlcyB0aGF0IG1hdGNoIGEgZ2l2ZW4gcHJvcGVydHlcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7c3RyaW5nfSBzUGFyYW0gUGFyYW1ldGVyIGluIGFvQ29sdW1ucyB0byBsb29rIGZvciAtIHR5cGljYWxseVxuXHQgKiAgICBiVmlzaWJsZSBvciBiU2VhcmNoYWJsZVxuXHQgKiAgQHJldHVybnMge2FycmF5fSBBcnJheSBvZiBpbmRleGVzIHdpdGggbWF0Y2hlZCBwcm9wZXJ0aWVzXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkdldENvbHVtbnMoIG9TZXR0aW5ncywgc1BhcmFtIClcblx0e1xuXHRcdHZhciBhID0gW107XG5cdFxuXHRcdCQubWFwKCBvU2V0dGluZ3MuYW9Db2x1bW5zLCBmdW5jdGlvbih2YWwsIGkpIHtcblx0XHRcdGlmICggdmFsW3NQYXJhbV0gKSB7XG5cdFx0XHRcdGEucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIGE7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSAndHlwZScgb2YgYSBjb2x1bW5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Db2x1bW5UeXBlcyAoIHNldHRpbmdzIClcblx0e1xuXHRcdHZhciBjb2x1bW5zID0gc2V0dGluZ3MuYW9Db2x1bW5zO1xuXHRcdHZhciBkYXRhID0gc2V0dGluZ3MuYW9EYXRhO1xuXHRcdHZhciB0eXBlcyA9IERhdGFUYWJsZS5leHQudHlwZS5kZXRlY3Q7XG5cdFx0dmFyIGksIGllbiwgaiwgamVuLCBrLCBrZW47XG5cdFx0dmFyIGNvbCwgY2VsbCwgZGV0ZWN0ZWRUeXBlLCBjYWNoZTtcblx0XG5cdFx0Ly8gRm9yIGVhY2ggY29sdW1uLCBzcGluIG92ZXIgdGhlIFxuXHRcdGZvciAoIGk9MCwgaWVuPWNvbHVtbnMubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRjb2wgPSBjb2x1bW5zW2ldO1xuXHRcdFx0Y2FjaGUgPSBbXTtcblx0XG5cdFx0XHRpZiAoICEgY29sLnNUeXBlICYmIGNvbC5fc01hbnVhbFR5cGUgKSB7XG5cdFx0XHRcdGNvbC5zVHlwZSA9IGNvbC5fc01hbnVhbFR5cGU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICggISBjb2wuc1R5cGUgKSB7XG5cdFx0XHRcdGZvciAoIGo9MCwgamVuPXR5cGVzLmxlbmd0aCA7IGo8amVuIDsgaisrICkge1xuXHRcdFx0XHRcdGZvciAoIGs9MCwga2VuPWRhdGEubGVuZ3RoIDsgazxrZW4gOyBrKysgKSB7XG5cdFx0XHRcdFx0XHQvLyBVc2UgYSBjYWNoZSBhcnJheSBzbyB3ZSBvbmx5IG5lZWQgdG8gZ2V0IHRoZSB0eXBlIGRhdGFcblx0XHRcdFx0XHRcdC8vIGZyb20gdGhlIGZvcm1hdHRlciBvbmNlICh3aGVuIHVzaW5nIG11bHRpcGxlIGRldGVjdG9ycylcblx0XHRcdFx0XHRcdGlmICggY2FjaGVba10gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0Y2FjaGVba10gPSBfZm5HZXRDZWxsRGF0YSggc2V0dGluZ3MsIGssIGksICd0eXBlJyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGRldGVjdGVkVHlwZSA9IHR5cGVzW2pdKCBjYWNoZVtrXSwgc2V0dGluZ3MgKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBJZiBudWxsLCB0aGVuIHRoaXMgdHlwZSBjYW4ndCBhcHBseSB0byB0aGlzIGNvbHVtbiwgc29cblx0XHRcdFx0XHRcdC8vIHJhdGhlciB0aGFuIHRlc3RpbmcgYWxsIGNlbGxzLCBicmVhayBvdXQuIFRoZXJlIGlzIGFuXG5cdFx0XHRcdFx0XHQvLyBleGNlcHRpb24gZm9yIHRoZSBsYXN0IHR5cGUgd2hpY2ggaXMgYGh0bWxgLiBXZSBuZWVkIHRvXG5cdFx0XHRcdFx0XHQvLyBzY2FuIGFsbCByb3dzIHNpbmNlIGl0IGlzIHBvc3NpYmxlIHRvIG1peCBzdHJpbmcgYW5kIEhUTUxcblx0XHRcdFx0XHRcdC8vIHR5cGVzXG5cdFx0XHRcdFx0XHRpZiAoICEgZGV0ZWN0ZWRUeXBlICYmIGogIT09IHR5cGVzLmxlbmd0aC0xICkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBPbmx5IGEgc2luZ2xlIG1hdGNoIGlzIG5lZWRlZCBmb3IgaHRtbCB0eXBlIHNpbmNlIGl0IGlzXG5cdFx0XHRcdFx0XHQvLyBib3R0b20gb2YgdGhlIHBpbGUgYW5kIHZlcnkgc2ltaWxhciB0byBzdHJpbmdcblx0XHRcdFx0XHRcdGlmICggZGV0ZWN0ZWRUeXBlID09PSAnaHRtbCcgKSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gVHlwZSBpcyB2YWxpZCBmb3IgYWxsIGRhdGEgcG9pbnRzIGluIHRoZSBjb2x1bW4gLSB1c2UgdGhpc1xuXHRcdFx0XHRcdC8vIHR5cGVcblx0XHRcdFx0XHRpZiAoIGRldGVjdGVkVHlwZSApIHtcblx0XHRcdFx0XHRcdGNvbC5zVHlwZSA9IGRldGVjdGVkVHlwZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gRmFsbCBiYWNrIC0gaWYgbm8gdHlwZSB3YXMgZGV0ZWN0ZWQsIGFsd2F5cyB1c2Ugc3RyaW5nXG5cdFx0XHRcdGlmICggISBjb2wuc1R5cGUgKSB7XG5cdFx0XHRcdFx0Y29sLnNUeXBlID0gJ3N0cmluZyc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogVGFrZSB0aGUgY29sdW1uIGRlZmluaXRpb25zIGFuZCBzdGF0aWMgY29sdW1ucyBhcnJheXMgYW5kIGNhbGN1bGF0ZSBob3dcblx0ICogdGhleSByZWxhdGUgdG8gY29sdW1uIGluZGV4ZXMuIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIHRoZW4gYXBwbHkgdGhlXG5cdCAqIGRlZmluaXRpb24gZm91bmQgZm9yIGEgY29sdW1uIHRvIGEgc3VpdGFibGUgY29uZmlndXJhdGlvbiBvYmplY3QuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge2FycmF5fSBhb0NvbERlZnMgVGhlIGFvQ29sdW1uRGVmcyBhcnJheSB0aGF0IGlzIHRvIGJlIGFwcGxpZWRcblx0ICogIEBwYXJhbSB7YXJyYXl9IGFvQ29scyBUaGUgYW9Db2x1bW5zIGFycmF5IHRoYXQgZGVmaW5lcyBjb2x1bW5zIGluZGl2aWR1YWxseVxuXHQgKiAgQHBhcmFtIHtmdW5jdGlvbn0gZm4gQ2FsbGJhY2sgZnVuY3Rpb24gLSB0YWtlcyB0d28gcGFyYW1ldGVycywgdGhlIGNhbGN1bGF0ZWRcblx0ICogICAgY29sdW1uIGluZGV4IGFuZCB0aGUgZGVmaW5pdGlvbiBmb3IgdGhhdCBjb2x1bW4uXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkFwcGx5Q29sdW1uRGVmcyggb1NldHRpbmdzLCBhb0NvbERlZnMsIGFvQ29scywgZm4gKVxuXHR7XG5cdFx0dmFyIGksIGlMZW4sIGosIGpMZW4sIGssIGtMZW4sIGRlZjtcblx0XHR2YXIgY29sdW1ucyA9IG9TZXR0aW5ncy5hb0NvbHVtbnM7XG5cdFxuXHRcdC8vIENvbHVtbiBkZWZpbml0aW9ucyB3aXRoIGFUYXJnZXRzXG5cdFx0aWYgKCBhb0NvbERlZnMgKVxuXHRcdHtcblx0XHRcdC8qIExvb3Agb3ZlciB0aGUgZGVmaW5pdGlvbnMgYXJyYXkgLSBsb29wIGluIHJldmVyc2Ugc28gZmlyc3QgaW5zdGFuY2UgaGFzIHByaW9yaXR5ICovXG5cdFx0XHRmb3IgKCBpPWFvQ29sRGVmcy5sZW5ndGgtMSA7IGk+PTAgOyBpLS0gKVxuXHRcdFx0e1xuXHRcdFx0XHRkZWYgPSBhb0NvbERlZnNbaV07XG5cdFxuXHRcdFx0XHQvKiBFYWNoIGRlZmluaXRpb24gY2FuIHRhcmdldCBtdWx0aXBsZSBjb2x1bW5zLCBhcyBpdCBpcyBhbiBhcnJheSAqL1xuXHRcdFx0XHR2YXIgYVRhcmdldHMgPSBkZWYudGFyZ2V0cyAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHRkZWYudGFyZ2V0cyA6XG5cdFx0XHRcdFx0ZGVmLmFUYXJnZXRzO1xuXHRcblx0XHRcdFx0aWYgKCAhICQuaXNBcnJheSggYVRhcmdldHMgKSApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRhVGFyZ2V0cyA9IFsgYVRhcmdldHMgXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Zm9yICggaj0wLCBqTGVuPWFUYXJnZXRzLmxlbmd0aCA7IGo8akxlbiA7IGorKyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBhVGFyZ2V0c1tqXSA9PT0gJ251bWJlcicgJiYgYVRhcmdldHNbal0gPj0gMCApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0LyogQWRkIGNvbHVtbnMgdGhhdCB3ZSBkb24ndCB5ZXQga25vdyBhYm91dCAqL1xuXHRcdFx0XHRcdFx0d2hpbGUoIGNvbHVtbnMubGVuZ3RoIDw9IGFUYXJnZXRzW2pdIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0X2ZuQWRkQ29sdW1uKCBvU2V0dGluZ3MgKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvKiBJbnRlZ2VyLCBiYXNpYyBpbmRleCAqL1xuXHRcdFx0XHRcdFx0Zm4oIGFUYXJnZXRzW2pdLCBkZWYgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIHR5cGVvZiBhVGFyZ2V0c1tqXSA9PT0gJ251bWJlcicgJiYgYVRhcmdldHNbal0gPCAwIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQvKiBOZWdhdGl2ZSBpbnRlZ2VyLCByaWdodCB0byBsZWZ0IGNvbHVtbiBjb3VudGluZyAqL1xuXHRcdFx0XHRcdFx0Zm4oIGNvbHVtbnMubGVuZ3RoK2FUYXJnZXRzW2pdLCBkZWYgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIHR5cGVvZiBhVGFyZ2V0c1tqXSA9PT0gJ3N0cmluZycgKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdC8qIENsYXNzIG5hbWUgbWF0Y2hpbmcgb24gVEggZWxlbWVudCAqL1xuXHRcdFx0XHRcdFx0Zm9yICggaz0wLCBrTGVuPWNvbHVtbnMubGVuZ3RoIDsgazxrTGVuIDsgaysrIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0aWYgKCBhVGFyZ2V0c1tqXSA9PSBcIl9hbGxcIiB8fFxuXHRcdFx0XHRcdFx0XHQgICAgICQoY29sdW1uc1trXS5uVGgpLmhhc0NsYXNzKCBhVGFyZ2V0c1tqXSApIClcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdGZuKCBrLCBkZWYgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gU3RhdGljYWxseSBkZWZpbmVkIGNvbHVtbnMgYXJyYXlcblx0XHRpZiAoIGFvQ29scyApXG5cdFx0e1xuXHRcdFx0Zm9yICggaT0wLCBpTGVuPWFvQ29scy5sZW5ndGggOyBpPGlMZW4gOyBpKysgKVxuXHRcdFx0e1xuXHRcdFx0XHRmbiggaSwgYW9Db2xzW2ldICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogQWRkIGEgZGF0YSBhcnJheSB0byB0aGUgdGFibGUsIGNyZWF0aW5nIERPTSBub2RlIGV0Yy4gVGhpcyBpcyB0aGUgcGFyYWxsZWwgdG9cblx0ICogX2ZuR2F0aGVyRGF0YSwgYnV0IGZvciBhZGRpbmcgcm93cyBmcm9tIGEgSmF2YXNjcmlwdCBzb3VyY2UsIHJhdGhlciB0aGFuIGFcblx0ICogRE9NIHNvdXJjZS5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7YXJyYXl9IGFEYXRhIGRhdGEgYXJyYXkgdG8gYmUgYWRkZWRcblx0ICogIEBwYXJhbSB7bm9kZX0gW25Ucl0gVFIgZWxlbWVudCB0byBhZGQgdG8gdGhlIHRhYmxlIC0gb3B0aW9uYWwuIElmIG5vdCBnaXZlbixcblx0ICogICAgRGF0YVRhYmxlcyB3aWxsIGNyZWF0ZSBhIHJvdyBhdXRvbWF0aWNhbGx5XG5cdCAqICBAcGFyYW0ge2FycmF5fSBbYW5UZHNdIEFycmF5IG9mIFREfFRIIGVsZW1lbnRzIGZvciB0aGUgcm93IC0gbXVzdCBiZSBnaXZlblxuXHQgKiAgICBpZiBuVHIgaXMuXG5cdCAqICBAcmV0dXJucyB7aW50fSA+PTAgaWYgc3VjY2Vzc2Z1bCAoaW5kZXggb2YgbmV3IGFvRGF0YSBlbnRyeSksIC0xIGlmIGZhaWxlZFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5BZGREYXRhICggb1NldHRpbmdzLCBhRGF0YUluLCBuVHIsIGFuVGRzIClcblx0e1xuXHRcdC8qIENyZWF0ZSB0aGUgb2JqZWN0IGZvciBzdG9yaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgbmV3IHJvdyAqL1xuXHRcdHZhciBpUm93ID0gb1NldHRpbmdzLmFvRGF0YS5sZW5ndGg7XG5cdFx0dmFyIG9EYXRhID0gJC5leHRlbmQoIHRydWUsIHt9LCBEYXRhVGFibGUubW9kZWxzLm9Sb3csIHtcblx0XHRcdHNyYzogblRyID8gJ2RvbScgOiAnZGF0YScsXG5cdFx0XHRpZHg6IGlSb3dcblx0XHR9ICk7XG5cdFxuXHRcdG9EYXRhLl9hRGF0YSA9IGFEYXRhSW47XG5cdFx0b1NldHRpbmdzLmFvRGF0YS5wdXNoKCBvRGF0YSApO1xuXHRcblx0XHQvKiBDcmVhdGUgdGhlIGNlbGxzICovXG5cdFx0dmFyIG5UZCwgc1RoaXNUeXBlO1xuXHRcdHZhciBjb2x1bW5zID0gb1NldHRpbmdzLmFvQ29sdW1ucztcblx0XG5cdFx0Ly8gSW52YWxpZGF0ZSB0aGUgY29sdW1uIHR5cGVzIGFzIHRoZSBuZXcgZGF0YSBuZWVkcyB0byBiZSByZXZhbGlkYXRlZFxuXHRcdGZvciAoIHZhciBpPTAsIGlMZW49Y29sdW1ucy5sZW5ndGggOyBpPGlMZW4gOyBpKysgKVxuXHRcdHtcblx0XHRcdGNvbHVtbnNbaV0uc1R5cGUgPSBudWxsO1xuXHRcdH1cblx0XG5cdFx0LyogQWRkIHRvIHRoZSBkaXNwbGF5IGFycmF5ICovXG5cdFx0b1NldHRpbmdzLmFpRGlzcGxheU1hc3Rlci5wdXNoKCBpUm93ICk7XG5cdFxuXHRcdHZhciBpZCA9IG9TZXR0aW5ncy5yb3dJZEZuKCBhRGF0YUluICk7XG5cdFx0aWYgKCBpZCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0b1NldHRpbmdzLmFJZHNbIGlkIF0gPSBvRGF0YTtcblx0XHR9XG5cdFxuXHRcdC8qIENyZWF0ZSB0aGUgRE9NIGluZm9ybWF0aW9uLCBvciByZWdpc3RlciBpdCBpZiBhbHJlYWR5IHByZXNlbnQgKi9cblx0XHRpZiAoIG5UciB8fCAhIG9TZXR0aW5ncy5vRmVhdHVyZXMuYkRlZmVyUmVuZGVyIClcblx0XHR7XG5cdFx0XHRfZm5DcmVhdGVUciggb1NldHRpbmdzLCBpUm93LCBuVHIsIGFuVGRzICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gaVJvdztcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBBZGQgb25lIG9yIG1vcmUgVFIgZWxlbWVudHMgdG8gdGhlIHRhYmxlLiBHZW5lcmFsbHkgd2UnZCBleHBlY3QgdG9cblx0ICogdXNlIHRoaXMgZm9yIHJlYWRpbmcgZGF0YSBmcm9tIGEgRE9NIHNvdXJjZWQgdGFibGUsIGJ1dCBpdCBjb3VsZCBiZVxuXHQgKiB1c2VkIGZvciBhbiBUUiBlbGVtZW50LiBOb3RlIHRoYXQgaWYgYSBUUiBpcyBnaXZlbiwgaXQgaXMgdXNlZCAoaS5lLlxuXHQgKiBpdCBpcyBub3QgY2xvbmVkKS5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHthcnJheXxub2RlfGpRdWVyeX0gdHJzIFRoZSBUUiBlbGVtZW50KHMpIHRvIGFkZCB0byB0aGUgdGFibGVcblx0ICogIEByZXR1cm5zIHthcnJheX0gQXJyYXkgb2YgaW5kZXhlcyBmb3IgdGhlIGFkZGVkIHJvd3Ncblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQWRkVHIoIHNldHRpbmdzLCB0cnMgKVxuXHR7XG5cdFx0dmFyIHJvdztcblx0XG5cdFx0Ly8gQWxsb3cgYW4gaW5kaXZpZHVhbCBub2RlIHRvIGJlIHBhc3NlZCBpblxuXHRcdGlmICggISAodHJzIGluc3RhbmNlb2YgJCkgKSB7XG5cdFx0XHR0cnMgPSAkKHRycyk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdHJzLm1hcCggZnVuY3Rpb24gKGksIGVsKSB7XG5cdFx0XHRyb3cgPSBfZm5HZXRSb3dFbGVtZW50cyggc2V0dGluZ3MsIGVsICk7XG5cdFx0XHRyZXR1cm4gX2ZuQWRkRGF0YSggc2V0dGluZ3MsIHJvdy5kYXRhLCBlbCwgcm93LmNlbGxzICk7XG5cdFx0fSApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIFRha2UgYSBUUiBlbGVtZW50IGFuZCBjb252ZXJ0IGl0IHRvIGFuIGluZGV4IGluIGFvRGF0YVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtub2RlfSBuIHRoZSBUUiBlbGVtZW50IHRvIGZpbmRcblx0ICogIEByZXR1cm5zIHtpbnR9IGluZGV4IGlmIHRoZSBub2RlIGlzIGZvdW5kLCBudWxsIGlmIG5vdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Ob2RlVG9EYXRhSW5kZXgoIG9TZXR0aW5ncywgbiApXG5cdHtcblx0XHRyZXR1cm4gKG4uX0RUX1Jvd0luZGV4IT09dW5kZWZpbmVkKSA/IG4uX0RUX1Jvd0luZGV4IDogbnVsbDtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBUYWtlIGEgVEQgZWxlbWVudCBhbmQgY29udmVydCBpdCBpbnRvIGEgY29sdW1uIGRhdGEgaW5kZXggKG5vdCB0aGUgdmlzaWJsZSBpbmRleClcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7aW50fSBpUm93IFRoZSByb3cgbnVtYmVyIHRoZSBURC9USCBjYW4gYmUgZm91bmQgaW5cblx0ICogIEBwYXJhbSB7bm9kZX0gbiBUaGUgVEQvVEggZWxlbWVudCB0byBmaW5kXG5cdCAqICBAcmV0dXJucyB7aW50fSBpbmRleCBpZiB0aGUgbm9kZSBpcyBmb3VuZCwgLTEgaWYgbm90XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbk5vZGVUb0NvbHVtbkluZGV4KCBvU2V0dGluZ3MsIGlSb3csIG4gKVxuXHR7XG5cdFx0cmV0dXJuICQuaW5BcnJheSggbiwgb1NldHRpbmdzLmFvRGF0YVsgaVJvdyBdLmFuQ2VsbHMgKTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGRhdGEgZm9yIGEgZ2l2ZW4gY2VsbCBmcm9tIHRoZSBpbnRlcm5hbCBjYWNoZSwgdGFraW5nIGludG8gYWNjb3VudCBkYXRhIG1hcHBpbmdcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtpbnR9IHJvd0lkeCBhb0RhdGEgcm93IGlkXG5cdCAqICBAcGFyYW0ge2ludH0gY29sSWR4IENvbHVtbiBpbmRleFxuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IHR5cGUgZGF0YSBnZXQgdHlwZSAoJ2Rpc3BsYXknLCAndHlwZScgJ2ZpbHRlcicgJ3NvcnQnKVxuXHQgKiAgQHJldHVybnMgeyp9IENlbGwgZGF0YVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5HZXRDZWxsRGF0YSggc2V0dGluZ3MsIHJvd0lkeCwgY29sSWR4LCB0eXBlIClcblx0e1xuXHRcdHZhciBkcmF3ICAgICAgICAgICA9IHNldHRpbmdzLmlEcmF3O1xuXHRcdHZhciBjb2wgICAgICAgICAgICA9IHNldHRpbmdzLmFvQ29sdW1uc1tjb2xJZHhdO1xuXHRcdHZhciByb3dEYXRhICAgICAgICA9IHNldHRpbmdzLmFvRGF0YVtyb3dJZHhdLl9hRGF0YTtcblx0XHR2YXIgZGVmYXVsdENvbnRlbnQgPSBjb2wuc0RlZmF1bHRDb250ZW50O1xuXHRcdHZhciBjZWxsRGF0YSAgICAgICA9IGNvbC5mbkdldERhdGEoIHJvd0RhdGEsIHR5cGUsIHtcblx0XHRcdHNldHRpbmdzOiBzZXR0aW5ncyxcblx0XHRcdHJvdzogICAgICByb3dJZHgsXG5cdFx0XHRjb2w6ICAgICAgY29sSWR4XG5cdFx0fSApO1xuXHRcblx0XHRpZiAoIGNlbGxEYXRhID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHNldHRpbmdzLmlEcmF3RXJyb3IgIT0gZHJhdyAmJiBkZWZhdWx0Q29udGVudCA9PT0gbnVsbCApIHtcblx0XHRcdFx0X2ZuTG9nKCBzZXR0aW5ncywgMCwgXCJSZXF1ZXN0ZWQgdW5rbm93biBwYXJhbWV0ZXIgXCIrXG5cdFx0XHRcdFx0KHR5cGVvZiBjb2wubURhdGE9PSdmdW5jdGlvbicgPyAne2Z1bmN0aW9ufScgOiBcIidcIitjb2wubURhdGErXCInXCIpK1xuXHRcdFx0XHRcdFwiIGZvciByb3cgXCIrcm93SWR4K1wiLCBjb2x1bW4gXCIrY29sSWR4LCA0ICk7XG5cdFx0XHRcdHNldHRpbmdzLmlEcmF3RXJyb3IgPSBkcmF3O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRlZmF1bHRDb250ZW50O1xuXHRcdH1cblx0XG5cdFx0Ly8gV2hlbiB0aGUgZGF0YSBzb3VyY2UgaXMgbnVsbCBhbmQgYSBzcGVjaWZpYyBkYXRhIHR5cGUgaXMgcmVxdWVzdGVkIChpLmUuXG5cdFx0Ly8gbm90IHRoZSBvcmlnaW5hbCBkYXRhKSwgd2UgY2FuIHVzZSBkZWZhdWx0IGNvbHVtbiBkYXRhXG5cdFx0aWYgKCAoY2VsbERhdGEgPT09IHJvd0RhdGEgfHwgY2VsbERhdGEgPT09IG51bGwpICYmIGRlZmF1bHRDb250ZW50ICE9PSBudWxsICYmIHR5cGUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGNlbGxEYXRhID0gZGVmYXVsdENvbnRlbnQ7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCB0eXBlb2YgY2VsbERhdGEgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHQvLyBJZiB0aGUgZGF0YSBzb3VyY2UgaXMgYSBmdW5jdGlvbiwgdGhlbiB3ZSBydW4gaXQgYW5kIHVzZSB0aGUgcmV0dXJuLFxuXHRcdFx0Ly8gZXhlY3V0aW5nIGluIHRoZSBzY29wZSBvZiB0aGUgZGF0YSBvYmplY3QgKGZvciBpbnN0YW5jZXMpXG5cdFx0XHRyZXR1cm4gY2VsbERhdGEuY2FsbCggcm93RGF0YSApO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBjZWxsRGF0YSA9PT0gbnVsbCAmJiB0eXBlID09ICdkaXNwbGF5JyApIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cdFx0cmV0dXJuIGNlbGxEYXRhO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIFNldCB0aGUgdmFsdWUgZm9yIGEgc3BlY2lmaWMgY2VsbCwgaW50byB0aGUgaW50ZXJuYWwgZGF0YSBjYWNoZVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge2ludH0gcm93SWR4IGFvRGF0YSByb3cgaWRcblx0ICogIEBwYXJhbSB7aW50fSBjb2xJZHggQ29sdW1uIGluZGV4XG5cdCAqICBAcGFyYW0geyp9IHZhbCBWYWx1ZSB0byBzZXRcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuU2V0Q2VsbERhdGEoIHNldHRpbmdzLCByb3dJZHgsIGNvbElkeCwgdmFsIClcblx0e1xuXHRcdHZhciBjb2wgICAgID0gc2V0dGluZ3MuYW9Db2x1bW5zW2NvbElkeF07XG5cdFx0dmFyIHJvd0RhdGEgPSBzZXR0aW5ncy5hb0RhdGFbcm93SWR4XS5fYURhdGE7XG5cdFxuXHRcdGNvbC5mblNldERhdGEoIHJvd0RhdGEsIHZhbCwge1xuXHRcdFx0c2V0dGluZ3M6IHNldHRpbmdzLFxuXHRcdFx0cm93OiAgICAgIHJvd0lkeCxcblx0XHRcdGNvbDogICAgICBjb2xJZHhcblx0XHR9ICApO1xuXHR9XG5cdFxuXHRcblx0Ly8gUHJpdmF0ZSB2YXJpYWJsZSB0aGF0IGlzIHVzZWQgdG8gbWF0Y2ggYWN0aW9uIHN5bnRheCBpbiB0aGUgZGF0YSBwcm9wZXJ0eSBvYmplY3Rcblx0dmFyIF9fcmVBcnJheSA9IC9cXFsuKj9cXF0kLztcblx0dmFyIF9fcmVGbiA9IC9cXChcXCkkLztcblx0XG5cdC8qKlxuXHQgKiBTcGxpdCBzdHJpbmcgb24gcGVyaW9kcywgdGFraW5nIGludG8gYWNjb3VudCBlc2NhcGVkIHBlcmlvZHNcblx0ICogQHBhcmFtICB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIHNwbGl0XG5cdCAqIEByZXR1cm4ge2FycmF5fSBTcGxpdCBzdHJpbmdcblx0ICovXG5cdGZ1bmN0aW9uIF9mblNwbGl0T2JqTm90YXRpb24oIHN0ciApXG5cdHtcblx0XHRyZXR1cm4gJC5tYXAoIHN0ci5tYXRjaCgvKFxcXFwufFteXFwuXSkrL2cpIHx8IFsnJ10sIGZ1bmN0aW9uICggcyApIHtcblx0XHRcdHJldHVybiBzLnJlcGxhY2UoL1xcXFwuL2csICcuJyk7XG5cdFx0fSApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ2V0IGRhdGEgZnJvbSBhIHNvdXJjZSBvYmplY3QsIHRha2luZ1xuXHQgKiBpbnRvIGFjY291bnQgdGhlIGFiaWxpdHkgdG8gdXNlIG5lc3RlZCBvYmplY3RzIGFzIGEgc291cmNlXG5cdCAqICBAcGFyYW0ge3N0cmluZ3xpbnR8ZnVuY3Rpb259IG1Tb3VyY2UgVGhlIGRhdGEgc291cmNlIGZvciB0aGUgb2JqZWN0XG5cdCAqICBAcmV0dXJucyB7ZnVuY3Rpb259IERhdGEgZ2V0IGZ1bmN0aW9uXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkdldE9iamVjdERhdGFGbiggbVNvdXJjZSApXG5cdHtcblx0XHRpZiAoICQuaXNQbGFpbk9iamVjdCggbVNvdXJjZSApIClcblx0XHR7XG5cdFx0XHQvKiBCdWlsZCBhbiBvYmplY3Qgb2YgZ2V0IGZ1bmN0aW9ucywgYW5kIHdyYXAgdGhlbSBpbiBhIHNpbmdsZSBjYWxsICovXG5cdFx0XHR2YXIgbyA9IHt9O1xuXHRcdFx0JC5lYWNoKCBtU291cmNlLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcblx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0b1trZXldID0gX2ZuR2V0T2JqZWN0RGF0YUZuKCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoZGF0YSwgdHlwZSwgcm93LCBtZXRhKSB7XG5cdFx0XHRcdHZhciB0ID0gb1t0eXBlXSB8fCBvLl87XG5cdFx0XHRcdHJldHVybiB0ICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRcdHQoZGF0YSwgdHlwZSwgcm93LCBtZXRhKSA6XG5cdFx0XHRcdFx0ZGF0YTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBtU291cmNlID09PSBudWxsIClcblx0XHR7XG5cdFx0XHQvKiBHaXZlIGFuIGVtcHR5IHN0cmluZyBmb3IgcmVuZGVyaW5nIC8gc29ydGluZyBldGMgKi9cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoZGF0YSkgeyAvLyB0eXBlLCByb3cgYW5kIG1ldGEgYWxzbyBwYXNzZWQsIGJ1dCBub3QgdXNlZFxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCB0eXBlb2YgbVNvdXJjZSA9PT0gJ2Z1bmN0aW9uJyApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChkYXRhLCB0eXBlLCByb3csIG1ldGEpIHtcblx0XHRcdFx0cmV0dXJuIG1Tb3VyY2UoIGRhdGEsIHR5cGUsIHJvdywgbWV0YSApO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIHR5cGVvZiBtU291cmNlID09PSAnc3RyaW5nJyAmJiAobVNvdXJjZS5pbmRleE9mKCcuJykgIT09IC0xIHx8XG5cdFx0XHQgICAgICBtU291cmNlLmluZGV4T2YoJ1snKSAhPT0gLTEgfHwgbVNvdXJjZS5pbmRleE9mKCcoJykgIT09IC0xKSApXG5cdFx0e1xuXHRcdFx0LyogSWYgdGhlcmUgaXMgYSAuIGluIHRoZSBzb3VyY2Ugc3RyaW5nIHRoZW4gdGhlIGRhdGEgc291cmNlIGlzIGluIGFcblx0XHRcdCAqIG5lc3RlZCBvYmplY3Qgc28gd2UgbG9vcCBvdmVyIHRoZSBkYXRhIGZvciBlYWNoIGxldmVsIHRvIGdldCB0aGUgbmV4dFxuXHRcdFx0ICogbGV2ZWwgZG93bi4gT24gZWFjaCBsb29wIHdlIHRlc3QgZm9yIHVuZGVmaW5lZCwgYW5kIGlmIGZvdW5kIGltbWVkaWF0ZWx5XG5cdFx0XHQgKiByZXR1cm4uIFRoaXMgYWxsb3dzIGVudGlyZSBvYmplY3RzIHRvIGJlIG1pc3NpbmcgYW5kIHNEZWZhdWx0Q29udGVudCB0b1xuXHRcdFx0ICogYmUgdXNlZCBpZiBkZWZpbmVkLCByYXRoZXIgdGhhbiB0aHJvd2luZyBhbiBlcnJvclxuXHRcdFx0ICovXG5cdFx0XHR2YXIgZmV0Y2hEYXRhID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIHNyYykge1xuXHRcdFx0XHR2YXIgYXJyYXlOb3RhdGlvbiwgZnVuY05vdGF0aW9uLCBvdXQsIGlubmVyU3JjO1xuXHRcblx0XHRcdFx0aWYgKCBzcmMgIT09IFwiXCIgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dmFyIGEgPSBfZm5TcGxpdE9iak5vdGF0aW9uKCBzcmMgKTtcblx0XG5cdFx0XHRcdFx0Zm9yICggdmFyIGk9MCwgaUxlbj1hLmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgd2UgYXJlIGRlYWxpbmcgd2l0aCBzcGVjaWFsIG5vdGF0aW9uXG5cdFx0XHRcdFx0XHRhcnJheU5vdGF0aW9uID0gYVtpXS5tYXRjaChfX3JlQXJyYXkpO1xuXHRcdFx0XHRcdFx0ZnVuY05vdGF0aW9uID0gYVtpXS5tYXRjaChfX3JlRm4pO1xuXHRcblx0XHRcdFx0XHRcdGlmICggYXJyYXlOb3RhdGlvbiApXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdC8vIEFycmF5IG5vdGF0aW9uXG5cdFx0XHRcdFx0XHRcdGFbaV0gPSBhW2ldLnJlcGxhY2UoX19yZUFycmF5LCAnJyk7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBDb25kaXRpb24gYWxsb3dzIHNpbXBseSBbXSB0byBiZSBwYXNzZWQgaW5cblx0XHRcdFx0XHRcdFx0aWYgKCBhW2ldICE9PSBcIlwiICkge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGEgPSBkYXRhWyBhW2ldIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0b3V0ID0gW107XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHJlbWFpbmRlciBvZiB0aGUgbmVzdGVkIG9iamVjdCB0byBnZXRcblx0XHRcdFx0XHRcdFx0YS5zcGxpY2UoIDAsIGkrMSApO1xuXHRcdFx0XHRcdFx0XHRpbm5lclNyYyA9IGEuam9pbignLicpO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gVHJhdmVyc2UgZWFjaCBlbnRyeSBpbiB0aGUgYXJyYXkgZ2V0dGluZyB0aGUgcHJvcGVydGllcyByZXF1ZXN0ZWRcblx0XHRcdFx0XHRcdFx0aWYgKCAkLmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKCB2YXIgaj0wLCBqTGVuPWRhdGEubGVuZ3RoIDsgajxqTGVuIDsgaisrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3V0LnB1c2goIGZldGNoRGF0YSggZGF0YVtqXSwgdHlwZSwgaW5uZXJTcmMgKSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSWYgYSBzdHJpbmcgaXMgZ2l2ZW4gaW4gYmV0d2VlbiB0aGUgYXJyYXkgbm90YXRpb24gaW5kaWNhdG9ycywgdGhhdFxuXHRcdFx0XHRcdFx0XHQvLyBpcyB1c2VkIHRvIGpvaW4gdGhlIHN0cmluZ3MgdG9nZXRoZXIsIG90aGVyd2lzZSBhbiBhcnJheSBpcyByZXR1cm5lZFxuXHRcdFx0XHRcdFx0XHR2YXIgam9pbiA9IGFycmF5Tm90YXRpb25bMF0uc3Vic3RyaW5nKDEsIGFycmF5Tm90YXRpb25bMF0ubGVuZ3RoLTEpO1xuXHRcdFx0XHRcdFx0XHRkYXRhID0gKGpvaW49PT1cIlwiKSA/IG91dCA6IG91dC5qb2luKGpvaW4pO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gVGhlIGlubmVyIGNhbGwgdG8gZmV0Y2hEYXRhIGhhcyBhbHJlYWR5IHRyYXZlcnNlZCB0aHJvdWdoIHRoZSByZW1haW5kZXJcblx0XHRcdFx0XHRcdFx0Ly8gb2YgdGhlIHNvdXJjZSByZXF1ZXN0ZWQsIHNvIHdlIGV4aXQgZnJvbSB0aGUgbG9vcFxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKCBmdW5jTm90YXRpb24gKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHQvLyBGdW5jdGlvbiBjYWxsXG5cdFx0XHRcdFx0XHRcdGFbaV0gPSBhW2ldLnJlcGxhY2UoX19yZUZuLCAnJyk7XG5cdFx0XHRcdFx0XHRcdGRhdGEgPSBkYXRhWyBhW2ldIF0oKTtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBkYXRhID09PSBudWxsIHx8IGRhdGFbIGFbaV0gXSA9PT0gdW5kZWZpbmVkIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRhdGEgPSBkYXRhWyBhW2ldIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH07XG5cdFxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChkYXRhLCB0eXBlKSB7IC8vIHJvdyBhbmQgbWV0YSBhbHNvIHBhc3NlZCwgYnV0IG5vdCB1c2VkXG5cdFx0XHRcdHJldHVybiBmZXRjaERhdGEoIGRhdGEsIHR5cGUsIG1Tb3VyY2UgKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQvKiBBcnJheSBvciBmbGF0IG9iamVjdCBtYXBwaW5nICovXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGRhdGEsIHR5cGUpIHsgLy8gcm93IGFuZCBtZXRhIGFsc28gcGFzc2VkLCBidXQgbm90IHVzZWRcblx0XHRcdFx0cmV0dXJuIGRhdGFbbVNvdXJjZV07XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCBkYXRhIGZyb20gYSBzb3VyY2Ugb2JqZWN0LCB0YWtpbmdcblx0ICogaW50byBhY2NvdW50IHRoZSBhYmlsaXR5IHRvIHVzZSBuZXN0ZWQgb2JqZWN0cyBhcyBhIHNvdXJjZVxuXHQgKiAgQHBhcmFtIHtzdHJpbmd8aW50fGZ1bmN0aW9ufSBtU291cmNlIFRoZSBkYXRhIHNvdXJjZSBmb3IgdGhlIG9iamVjdFxuXHQgKiAgQHJldHVybnMge2Z1bmN0aW9ufSBEYXRhIHNldCBmdW5jdGlvblxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5TZXRPYmplY3REYXRhRm4oIG1Tb3VyY2UgKVxuXHR7XG5cdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIG1Tb3VyY2UgKSApXG5cdFx0e1xuXHRcdFx0LyogVW5saWtlIGdldCwgb25seSB0aGUgdW5kZXJzY29yZSAoZ2xvYmFsKSBvcHRpb24gaXMgdXNlZCBmb3IgZm9yXG5cdFx0XHQgKiBzZXR0aW5nIGRhdGEgc2luY2Ugd2UgZG9uJ3Qga25vdyB0aGUgdHlwZSBoZXJlLiBUaGlzIGlzIHdoeSBhbiBvYmplY3Rcblx0XHRcdCAqIG9wdGlvbiBpcyBub3QgZG9jdW1lbnRlZCBmb3IgYG1EYXRhYCAod2hpY2ggaXMgcmVhZC93cml0ZSksIGJ1dCBpdCBpc1xuXHRcdFx0ICogZm9yIGBtUmVuZGVyYCB3aGljaCBpcyByZWFkIG9ubHkuXG5cdFx0XHQgKi9cblx0XHRcdHJldHVybiBfZm5TZXRPYmplY3REYXRhRm4oIG1Tb3VyY2UuXyApO1xuXHRcdH1cblx0XHRlbHNlIGlmICggbVNvdXJjZSA9PT0gbnVsbCApXG5cdFx0e1xuXHRcdFx0LyogTm90aGluZyB0byBkbyB3aGVuIHRoZSBkYXRhIHNvdXJjZSBpcyBudWxsICovXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge307XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCB0eXBlb2YgbVNvdXJjZSA9PT0gJ2Z1bmN0aW9uJyApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChkYXRhLCB2YWwsIG1ldGEpIHtcblx0XHRcdFx0bVNvdXJjZSggZGF0YSwgJ3NldCcsIHZhbCwgbWV0YSApO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIHR5cGVvZiBtU291cmNlID09PSAnc3RyaW5nJyAmJiAobVNvdXJjZS5pbmRleE9mKCcuJykgIT09IC0xIHx8XG5cdFx0XHQgICAgICBtU291cmNlLmluZGV4T2YoJ1snKSAhPT0gLTEgfHwgbVNvdXJjZS5pbmRleE9mKCcoJykgIT09IC0xKSApXG5cdFx0e1xuXHRcdFx0LyogTGlrZSB0aGUgZ2V0LCB3ZSBuZWVkIHRvIGdldCBkYXRhIGZyb20gYSBuZXN0ZWQgb2JqZWN0ICovXG5cdFx0XHR2YXIgc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhLCB2YWwsIHNyYykge1xuXHRcdFx0XHR2YXIgYSA9IF9mblNwbGl0T2JqTm90YXRpb24oIHNyYyApLCBiO1xuXHRcdFx0XHR2YXIgYUxhc3QgPSBhW2EubGVuZ3RoLTFdO1xuXHRcdFx0XHR2YXIgYXJyYXlOb3RhdGlvbiwgZnVuY05vdGF0aW9uLCBvLCBpbm5lclNyYztcblx0XG5cdFx0XHRcdGZvciAoIHZhciBpPTAsIGlMZW49YS5sZW5ndGgtMSA7IGk8aUxlbiA7IGkrKyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBDaGVjayBpZiB3ZSBhcmUgZGVhbGluZyB3aXRoIGFuIGFycmF5IG5vdGF0aW9uIHJlcXVlc3Rcblx0XHRcdFx0XHRhcnJheU5vdGF0aW9uID0gYVtpXS5tYXRjaChfX3JlQXJyYXkpO1xuXHRcdFx0XHRcdGZ1bmNOb3RhdGlvbiA9IGFbaV0ubWF0Y2goX19yZUZuKTtcblx0XG5cdFx0XHRcdFx0aWYgKCBhcnJheU5vdGF0aW9uIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRhW2ldID0gYVtpXS5yZXBsYWNlKF9fcmVBcnJheSwgJycpO1xuXHRcdFx0XHRcdFx0ZGF0YVsgYVtpXSBdID0gW107XG5cdFxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSByZW1haW5kZXIgb2YgdGhlIG5lc3RlZCBvYmplY3QgdG8gc2V0IHNvIHdlIGNhbiByZWN1cnNlXG5cdFx0XHRcdFx0XHRiID0gYS5zbGljZSgpO1xuXHRcdFx0XHRcdFx0Yi5zcGxpY2UoIDAsIGkrMSApO1xuXHRcdFx0XHRcdFx0aW5uZXJTcmMgPSBiLmpvaW4oJy4nKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBUcmF2ZXJzZSBlYWNoIGVudHJ5IGluIHRoZSBhcnJheSBzZXR0aW5nIHRoZSBwcm9wZXJ0aWVzIHJlcXVlc3RlZFxuXHRcdFx0XHRcdFx0aWYgKCAkLmlzQXJyYXkoIHZhbCApIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Zm9yICggdmFyIGo9MCwgakxlbj12YWwubGVuZ3RoIDsgajxqTGVuIDsgaisrIClcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdG8gPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRzZXREYXRhKCBvLCB2YWxbal0sIGlubmVyU3JjICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YVsgYVtpXSBdLnB1c2goIG8gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHQvLyBXZSd2ZSBiZWVuIGFza2VkIHRvIHNhdmUgZGF0YSB0byBhbiBhcnJheSwgYnV0IGl0XG5cdFx0XHRcdFx0XHRcdC8vIGlzbid0IGFycmF5IGRhdGEgdG8gYmUgc2F2ZWQuIEJlc3QgdGhhdCBjYW4gYmUgZG9uZVxuXHRcdFx0XHRcdFx0XHQvLyBpcyB0byBqdXN0IHNhdmUgdGhlIHZhbHVlLlxuXHRcdFx0XHRcdFx0XHRkYXRhWyBhW2ldIF0gPSB2YWw7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gVGhlIGlubmVyIGNhbGwgdG8gc2V0RGF0YSBoYXMgYWxyZWFkeSB0cmF2ZXJzZWQgdGhyb3VnaCB0aGUgcmVtYWluZGVyXG5cdFx0XHRcdFx0XHQvLyBvZiB0aGUgc291cmNlIGFuZCBoYXMgc2V0IHRoZSBkYXRhLCB0aHVzIHdlIGNhbiBleGl0IGhlcmVcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIGZ1bmNOb3RhdGlvbiApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gRnVuY3Rpb24gY2FsbFxuXHRcdFx0XHRcdFx0YVtpXSA9IGFbaV0ucmVwbGFjZShfX3JlRm4sICcnKTtcblx0XHRcdFx0XHRcdGRhdGEgPSBkYXRhWyBhW2ldIF0oIHZhbCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIG5lc3RlZCBvYmplY3QgZG9lc24ndCBjdXJyZW50bHkgZXhpc3QgLSBzaW5jZSB3ZSBhcmVcblx0XHRcdFx0XHQvLyB0cnlpbmcgdG8gc2V0IHRoZSB2YWx1ZSAtIGNyZWF0ZSBpdFxuXHRcdFx0XHRcdGlmICggZGF0YVsgYVtpXSBdID09PSBudWxsIHx8IGRhdGFbIGFbaV0gXSA9PT0gdW5kZWZpbmVkIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkYXRhWyBhW2ldIF0gPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFbIGFbaV0gXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gTGFzdCBpdGVtIGluIHRoZSBpbnB1dCAtIGkuZSwgdGhlIGFjdHVhbCBzZXRcblx0XHRcdFx0aWYgKCBhTGFzdC5tYXRjaChfX3JlRm4gKSApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBGdW5jdGlvbiBjYWxsXG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFbIGFMYXN0LnJlcGxhY2UoX19yZUZuLCAnJykgXSggdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Ly8gSWYgYXJyYXkgbm90YXRpb24gaXMgdXNlZCwgd2UganVzdCB3YW50IHRvIHN0cmlwIGl0IGFuZCB1c2UgdGhlIHByb3BlcnR5IG5hbWVcblx0XHRcdFx0XHQvLyBhbmQgYXNzaWduIHRoZSB2YWx1ZS4gSWYgaXQgaXNuJ3QgdXNlZCwgdGhlbiB3ZSBnZXQgdGhlIHJlc3VsdCB3ZSB3YW50IGFueXdheVxuXHRcdFx0XHRcdGRhdGFbIGFMYXN0LnJlcGxhY2UoX19yZUFycmF5LCAnJykgXSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGRhdGEsIHZhbCkgeyAvLyBtZXRhIGlzIGFsc28gcGFzc2VkIGluLCBidXQgbm90IHVzZWRcblx0XHRcdFx0cmV0dXJuIHNldERhdGEoIGRhdGEsIHZhbCwgbVNvdXJjZSApO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdC8qIEFycmF5IG9yIGZsYXQgb2JqZWN0IG1hcHBpbmcgKi9cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoZGF0YSwgdmFsKSB7IC8vIG1ldGEgaXMgYWxzbyBwYXNzZWQgaW4sIGJ1dCBub3QgdXNlZFxuXHRcdFx0XHRkYXRhW21Tb3VyY2VdID0gdmFsO1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogUmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIGZ1bGwgdGFibGUgZGF0YVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHJldHVybnMgYXJyYXkge2FycmF5fSBhRGF0YSBNYXN0ZXIgZGF0YSBhcnJheVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5HZXREYXRhTWFzdGVyICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0cmV0dXJuIF9wbHVjayggc2V0dGluZ3MuYW9EYXRhLCAnX2FEYXRhJyApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIE51a2UgdGhlIHRhYmxlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkNsZWFyVGFibGUoIHNldHRpbmdzIClcblx0e1xuXHRcdHNldHRpbmdzLmFvRGF0YS5sZW5ndGggPSAwO1xuXHRcdHNldHRpbmdzLmFpRGlzcGxheU1hc3Rlci5sZW5ndGggPSAwO1xuXHRcdHNldHRpbmdzLmFpRGlzcGxheS5sZW5ndGggPSAwO1xuXHRcdHNldHRpbmdzLmFJZHMgPSB7fTtcblx0fVxuXHRcblx0XG5cdCAvKipcblx0ICogVGFrZSBhbiBhcnJheSBvZiBpbnRlZ2VycyAoaW5kZXggYXJyYXkpIGFuZCByZW1vdmUgYSB0YXJnZXQgaW50ZWdlciAodmFsdWUgLSBub3Rcblx0ICogdGhlIGtleSEpXG5cdCAqICBAcGFyYW0ge2FycmF5fSBhIEluZGV4IGFycmF5IHRvIHRhcmdldFxuXHQgKiAgQHBhcmFtIHtpbnR9IGlUYXJnZXQgdmFsdWUgdG8gZmluZFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5EZWxldGVJbmRleCggYSwgaVRhcmdldCwgc3BsaWNlIClcblx0e1xuXHRcdHZhciBpVGFyZ2V0SW5kZXggPSAtMTtcblx0XG5cdFx0Zm9yICggdmFyIGk9MCwgaUxlbj1hLmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0e1xuXHRcdFx0aWYgKCBhW2ldID09IGlUYXJnZXQgKVxuXHRcdFx0e1xuXHRcdFx0XHRpVGFyZ2V0SW5kZXggPSBpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIGFbaV0gPiBpVGFyZ2V0IClcblx0XHRcdHtcblx0XHRcdFx0YVtpXS0tO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0aWYgKCBpVGFyZ2V0SW5kZXggIT0gLTEgJiYgc3BsaWNlID09PSB1bmRlZmluZWQgKVxuXHRcdHtcblx0XHRcdGEuc3BsaWNlKCBpVGFyZ2V0SW5kZXgsIDEgKTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogTWFyayBjYWNoZWQgZGF0YSBhcyBpbnZhbGlkIHN1Y2ggdGhhdCBhIHJlLXJlYWQgb2YgdGhlIGRhdGEgd2lsbCBvY2N1ciB3aGVuXG5cdCAqIHRoZSBjYWNoZWQgZGF0YSBpcyBuZXh0IHJlcXVlc3RlZC4gQWxzbyB1cGRhdGUgZnJvbSB0aGUgZGF0YSBzb3VyY2Ugb2JqZWN0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgRGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogQHBhcmFtIHtpbnR9ICAgIHJvd0lkeCAgIFJvdyBpbmRleCB0byBpbnZhbGlkYXRlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbc3JjXSAgICBTb3VyY2UgdG8gaW52YWxpZGF0ZSBmcm9tOiB1bmRlZmluZWQsICdhdXRvJywgJ2RvbSdcblx0ICogICAgIG9yICdkYXRhJ1xuXHQgKiBAcGFyYW0ge2ludH0gICAgW2NvbElkeF0gQ29sdW1uIGluZGV4IHRvIGludmFsaWRhdGUuIElmIHVuZGVmaW5lZCB0aGUgd2hvbGVcblx0ICogICAgIHJvdyB3aWxsIGJlIGludmFsaWRhdGVkXG5cdCAqIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKlxuXHQgKiBAdG9kbyBGb3IgdGhlIG1vZHVsYXJpc2F0aW9uIG9mIHYxLjExIHRoaXMgd2lsbCBuZWVkIHRvIGJlY29tZSBhIGNhbGxiYWNrLCBzb1xuXHQgKiAgIHRoZSBzb3J0IGFuZCBmaWx0ZXIgbWV0aG9kcyBjYW4gc3Vic2NyaWJlIHRvIGl0LiBUaGF0IHdpbGwgcmVxdWlyZWRcblx0ICogICBpbml0aWFsaXNhdGlvbiBvcHRpb25zIGZvciBzb3J0aW5nLCB3aGljaCBpcyB3aHkgaXQgaXMgbm90IGFscmVhZHkgYmFrZWQgaW5cblx0ICovXG5cdGZ1bmN0aW9uIF9mbkludmFsaWRhdGUoIHNldHRpbmdzLCByb3dJZHgsIHNyYywgY29sSWR4IClcblx0e1xuXHRcdHZhciByb3cgPSBzZXR0aW5ncy5hb0RhdGFbIHJvd0lkeCBdO1xuXHRcdHZhciBpLCBpZW47XG5cdFx0dmFyIGNlbGxXcml0ZSA9IGZ1bmN0aW9uICggY2VsbCwgY29sICkge1xuXHRcdFx0Ly8gVGhpcyBpcyB2ZXJ5IGZydXN0cmF0aW5nLCBidXQgaW4gSUUgaWYgeW91IGp1c3Qgd3JpdGUgZGlyZWN0bHlcblx0XHRcdC8vIHRvIGlubmVySFRNTCwgYW5kIGVsZW1lbnRzIHRoYXQgYXJlIG92ZXJ3cml0dGVuIGFyZSBHQydlZCxcblx0XHRcdC8vIGV2ZW4gaWYgdGhlcmUgaXMgYSByZWZlcmVuY2UgdG8gdGhlbSBlbHNld2hlcmVcblx0XHRcdHdoaWxlICggY2VsbC5jaGlsZE5vZGVzLmxlbmd0aCApIHtcblx0XHRcdFx0Y2VsbC5yZW1vdmVDaGlsZCggY2VsbC5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Y2VsbC5pbm5lckhUTUwgPSBfZm5HZXRDZWxsRGF0YSggc2V0dGluZ3MsIHJvd0lkeCwgY29sLCAnZGlzcGxheScgKTtcblx0XHR9O1xuXHRcblx0XHQvLyBBcmUgd2UgcmVhZGluZyBsYXN0IGRhdGEgZnJvbSBET00gb3IgdGhlIGRhdGEgb2JqZWN0P1xuXHRcdGlmICggc3JjID09PSAnZG9tJyB8fCAoKCEgc3JjIHx8IHNyYyA9PT0gJ2F1dG8nKSAmJiByb3cuc3JjID09PSAnZG9tJykgKSB7XG5cdFx0XHQvLyBSZWFkIHRoZSBkYXRhIGZyb20gdGhlIERPTVxuXHRcdFx0cm93Ll9hRGF0YSA9IF9mbkdldFJvd0VsZW1lbnRzKFxuXHRcdFx0XHRcdHNldHRpbmdzLCByb3csIGNvbElkeCwgY29sSWR4ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByb3cuX2FEYXRhXG5cdFx0XHRcdClcblx0XHRcdFx0LmRhdGE7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Ly8gUmVhZGluZyBmcm9tIGRhdGEgb2JqZWN0LCB1cGRhdGUgdGhlIERPTVxuXHRcdFx0dmFyIGNlbGxzID0gcm93LmFuQ2VsbHM7XG5cdFxuXHRcdFx0aWYgKCBjZWxscyApIHtcblx0XHRcdFx0aWYgKCBjb2xJZHggIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRjZWxsV3JpdGUoIGNlbGxzW2NvbElkeF0sIGNvbElkeCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGZvciAoIGk9MCwgaWVuPWNlbGxzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRcdFx0Y2VsbFdyaXRlKCBjZWxsc1tpXSwgaSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gRm9yIGJvdGggcm93IGFuZCBjZWxsIGludmFsaWRhdGlvbiwgdGhlIGNhY2hlZCBkYXRhIGZvciBzb3J0aW5nIGFuZFxuXHRcdC8vIGZpbHRlcmluZyBpcyBudWxsZWQgb3V0XG5cdFx0cm93Ll9hU29ydERhdGEgPSBudWxsO1xuXHRcdHJvdy5fYUZpbHRlckRhdGEgPSBudWxsO1xuXHRcblx0XHQvLyBJbnZhbGlkYXRlIHRoZSB0eXBlIGZvciBhIHNwZWNpZmljIGNvbHVtbiAoaWYgZ2l2ZW4pIG9yIGFsbCBjb2x1bW5zIHNpbmNlXG5cdFx0Ly8gdGhlIGRhdGEgbWlnaHQgaGF2ZSBjaGFuZ2VkXG5cdFx0dmFyIGNvbHMgPSBzZXR0aW5ncy5hb0NvbHVtbnM7XG5cdFx0aWYgKCBjb2xJZHggIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGNvbHNbIGNvbElkeCBdLnNUeXBlID0gbnVsbDtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRmb3IgKCBpPTAsIGllbj1jb2xzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRjb2xzW2ldLnNUeXBlID0gbnVsbDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBVcGRhdGUgRGF0YVRhYmxlcyBzcGVjaWFsIGBEVF8qYCBhdHRyaWJ1dGVzIGZvciB0aGUgcm93XG5cdFx0XHRfZm5Sb3dBdHRyaWJ1dGVzKCBzZXR0aW5ncywgcm93ICk7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEJ1aWxkIGEgZGF0YSBzb3VyY2Ugb2JqZWN0IGZyb20gYW4gSFRNTCByb3csIHJlYWRpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZVxuXHQgKiBjZWxscyB0aGF0IGFyZSBpbiB0aGUgcm93LlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgRGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogQHBhcmFtIHtub2RlfG9iamVjdH0gVFIgZWxlbWVudCBmcm9tIHdoaWNoIHRvIHJlYWQgZGF0YSBvciBleGlzdGluZyByb3dcblx0ICogICBvYmplY3QgZnJvbSB3aGljaCB0byByZS1yZWFkIHRoZSBkYXRhIGZyb20gdGhlIGNlbGxzXG5cdCAqIEBwYXJhbSB7aW50fSBbY29sSWR4XSBPcHRpb25hbCBjb2x1bW4gaW5kZXhcblx0ICogQHBhcmFtIHthcnJheXxvYmplY3R9IFtkXSBEYXRhIHNvdXJjZSBvYmplY3QuIElmIGBjb2xJZHhgIGlzIGdpdmVuIHRoZW4gdGhpc1xuXHQgKiAgIHBhcmFtZXRlciBzaG91bGQgYWxzbyBiZSBnaXZlbiBhbmQgd2lsbCBiZSB1c2VkIHRvIHdyaXRlIHRoZSBkYXRhIGludG8uXG5cdCAqICAgT25seSB0aGUgY29sdW1uIGluIHF1ZXN0aW9uIHdpbGwgYmUgd3JpdHRlblxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fSBPYmplY3Qgd2l0aCB0d28gcGFyYW1ldGVyczogYGRhdGFgIHRoZSBkYXRhIHJlYWQsIGluXG5cdCAqICAgZG9jdW1lbnQgb3JkZXIsIGFuZCBgY2VsbHNgIGFuZCBhcnJheSBvZiBub2RlcyAodGhleSBjYW4gYmUgdXNlZnVsIHRvIHRoZVxuXHQgKiAgIGNhbGxlciwgc28gcmF0aGVyIHRoYW4gbmVlZGluZyBhIHNlY29uZCB0cmF2ZXJzYWwgdG8gZ2V0IHRoZW0sIGp1c3QgcmV0dXJuXG5cdCAqICAgdGhlbSBmcm9tIGhlcmUpLlxuXHQgKiBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkdldFJvd0VsZW1lbnRzKCBzZXR0aW5ncywgcm93LCBjb2xJZHgsIGQgKVxuXHR7XG5cdFx0dmFyXG5cdFx0XHR0ZHMgPSBbXSxcblx0XHRcdHRkID0gcm93LmZpcnN0Q2hpbGQsXG5cdFx0XHRuYW1lLCBjb2wsIG8sIGk9MCwgY29udGVudHMsXG5cdFx0XHRjb2x1bW5zID0gc2V0dGluZ3MuYW9Db2x1bW5zLFxuXHRcdFx0b2JqZWN0UmVhZCA9IHNldHRpbmdzLl9yb3dSZWFkT2JqZWN0O1xuXHRcblx0XHQvLyBBbGxvdyB0aGUgZGF0YSBvYmplY3QgdG8gYmUgcGFzc2VkIGluLCBvciBjb25zdHJ1Y3Rcblx0XHRkID0gZCAhPT0gdW5kZWZpbmVkID9cblx0XHRcdGQgOlxuXHRcdFx0b2JqZWN0UmVhZCA/XG5cdFx0XHRcdHt9IDpcblx0XHRcdFx0W107XG5cdFxuXHRcdHZhciBhdHRyID0gZnVuY3Rpb24gKCBzdHIsIHRkICApIHtcblx0XHRcdGlmICggdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdHZhciBpZHggPSBzdHIuaW5kZXhPZignQCcpO1xuXHRcblx0XHRcdFx0aWYgKCBpZHggIT09IC0xICkge1xuXHRcdFx0XHRcdHZhciBhdHRyID0gc3RyLnN1YnN0cmluZyggaWR4KzEgKTtcblx0XHRcdFx0XHR2YXIgc2V0dGVyID0gX2ZuU2V0T2JqZWN0RGF0YUZuKCBzdHIgKTtcblx0XHRcdFx0XHRzZXR0ZXIoIGQsIHRkLmdldEF0dHJpYnV0ZSggYXR0ciApICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHQvLyBSZWFkIGRhdGEgZnJvbSBhIGNlbGwgYW5kIHN0b3JlIGludG8gdGhlIGRhdGEgb2JqZWN0XG5cdFx0dmFyIGNlbGxQcm9jZXNzID0gZnVuY3Rpb24gKCBjZWxsICkge1xuXHRcdFx0aWYgKCBjb2xJZHggPT09IHVuZGVmaW5lZCB8fCBjb2xJZHggPT09IGkgKSB7XG5cdFx0XHRcdGNvbCA9IGNvbHVtbnNbaV07XG5cdFx0XHRcdGNvbnRlbnRzID0gJC50cmltKGNlbGwuaW5uZXJIVE1MKTtcblx0XG5cdFx0XHRcdGlmICggY29sICYmIGNvbC5fYkF0dHJTcmMgKSB7XG5cdFx0XHRcdFx0dmFyIHNldHRlciA9IF9mblNldE9iamVjdERhdGFGbiggY29sLm1EYXRhLl8gKTtcblx0XHRcdFx0XHRzZXR0ZXIoIGQsIGNvbnRlbnRzICk7XG5cdFxuXHRcdFx0XHRcdGF0dHIoIGNvbC5tRGF0YS5zb3J0LCBjZWxsICk7XG5cdFx0XHRcdFx0YXR0ciggY29sLm1EYXRhLnR5cGUsIGNlbGwgKTtcblx0XHRcdFx0XHRhdHRyKCBjb2wubURhdGEuZmlsdGVyLCBjZWxsICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRGVwZW5kaW5nIG9uIHRoZSBgZGF0YWAgb3B0aW9uIGZvciB0aGUgY29sdW1ucyB0aGUgZGF0YSBjYW5cblx0XHRcdFx0XHQvLyBiZSByZWFkIHRvIGVpdGhlciBhbiBvYmplY3Qgb3IgYW4gYXJyYXkuXG5cdFx0XHRcdFx0aWYgKCBvYmplY3RSZWFkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhIGNvbC5fc2V0dGVyICkge1xuXHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgc2V0dGVyIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHRcdGNvbC5fc2V0dGVyID0gX2ZuU2V0T2JqZWN0RGF0YUZuKCBjb2wubURhdGEgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbC5fc2V0dGVyKCBkLCBjb250ZW50cyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGRbaV0gPSBjb250ZW50cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRpKys7XG5cdFx0fTtcblx0XG5cdFx0aWYgKCB0ZCApIHtcblx0XHRcdC8vIGB0cmAgZWxlbWVudCB3YXMgcGFzc2VkIGluXG5cdFx0XHR3aGlsZSAoIHRkICkge1xuXHRcdFx0XHRuYW1lID0gdGQubm9kZU5hbWUudG9VcHBlckNhc2UoKTtcblx0XG5cdFx0XHRcdGlmICggbmFtZSA9PSBcIlREXCIgfHwgbmFtZSA9PSBcIlRIXCIgKSB7XG5cdFx0XHRcdFx0Y2VsbFByb2Nlc3MoIHRkICk7XG5cdFx0XHRcdFx0dGRzLnB1c2goIHRkICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHRkID0gdGQubmV4dFNpYmxpbmc7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Ly8gRXhpc3Rpbmcgcm93IG9iamVjdCBwYXNzZWQgaW5cblx0XHRcdHRkcyA9IHJvdy5hbkNlbGxzO1xuXHRcblx0XHRcdGZvciAoIHZhciBqPTAsIGplbj10ZHMubGVuZ3RoIDsgajxqZW4gOyBqKysgKSB7XG5cdFx0XHRcdGNlbGxQcm9jZXNzKCB0ZHNbal0gKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJlYWQgdGhlIElEIGZyb20gdGhlIERPTSBpZiBwcmVzZW50XG5cdFx0dmFyIHJvd05vZGUgPSByb3cuZmlyc3RDaGlsZCA/IHJvdyA6IHJvdy5uVHI7XG5cdFxuXHRcdGlmICggcm93Tm9kZSApIHtcblx0XHRcdHZhciBpZCA9IHJvd05vZGUuZ2V0QXR0cmlidXRlKCAnaWQnICk7XG5cdFxuXHRcdFx0aWYgKCBpZCApIHtcblx0XHRcdFx0X2ZuU2V0T2JqZWN0RGF0YUZuKCBzZXR0aW5ncy5yb3dJZCApKCBkLCBpZCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdGRhdGE6IGQsXG5cdFx0XHRjZWxsczogdGRzXG5cdFx0fTtcblx0fVxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IFRSIGVsZW1lbnQgKGFuZCBpdCdzIFREIGNoaWxkcmVuKSBmb3IgYSByb3dcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7aW50fSBpUm93IFJvdyB0byBjb25zaWRlclxuXHQgKiAgQHBhcmFtIHtub2RlfSBbblRySW5dIFRSIGVsZW1lbnQgdG8gYWRkIHRvIHRoZSB0YWJsZSAtIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sXG5cdCAqICAgIERhdGFUYWJsZXMgd2lsbCBjcmVhdGUgYSByb3cgYXV0b21hdGljYWxseVxuXHQgKiAgQHBhcmFtIHthcnJheX0gW2FuVGRzXSBBcnJheSBvZiBURHxUSCBlbGVtZW50cyBmb3IgdGhlIHJvdyAtIG11c3QgYmUgZ2l2ZW5cblx0ICogICAgaWYgblRyIGlzLlxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5DcmVhdGVUciAoIG9TZXR0aW5ncywgaVJvdywgblRySW4sIGFuVGRzIClcblx0e1xuXHRcdHZhclxuXHRcdFx0cm93ID0gb1NldHRpbmdzLmFvRGF0YVtpUm93XSxcblx0XHRcdHJvd0RhdGEgPSByb3cuX2FEYXRhLFxuXHRcdFx0Y2VsbHMgPSBbXSxcblx0XHRcdG5UciwgblRkLCBvQ29sLFxuXHRcdFx0aSwgaUxlbjtcblx0XG5cdFx0aWYgKCByb3cublRyID09PSBudWxsIClcblx0XHR7XG5cdFx0XHRuVHIgPSBuVHJJbiB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXHRcblx0XHRcdHJvdy5uVHIgPSBuVHI7XG5cdFx0XHRyb3cuYW5DZWxscyA9IGNlbGxzO1xuXHRcblx0XHRcdC8qIFVzZSBhIHByaXZhdGUgcHJvcGVydHkgb24gdGhlIG5vZGUgdG8gYWxsb3cgcmVzZXJ2ZSBtYXBwaW5nIGZyb20gdGhlIG5vZGVcblx0XHRcdCAqIHRvIHRoZSBhb0RhdGEgYXJyYXkgZm9yIGZhc3QgbG9vayB1cFxuXHRcdFx0ICovXG5cdFx0XHRuVHIuX0RUX1Jvd0luZGV4ID0gaVJvdztcblx0XG5cdFx0XHQvKiBTcGVjaWFsIHBhcmFtZXRlcnMgY2FuIGJlIGdpdmVuIGJ5IHRoZSBkYXRhIHNvdXJjZSB0byBiZSB1c2VkIG9uIHRoZSByb3cgKi9cblx0XHRcdF9mblJvd0F0dHJpYnV0ZXMoIG9TZXR0aW5ncywgcm93ICk7XG5cdFxuXHRcdFx0LyogUHJvY2VzcyBlYWNoIGNvbHVtbiAqL1xuXHRcdFx0Zm9yICggaT0wLCBpTGVuPW9TZXR0aW5ncy5hb0NvbHVtbnMubGVuZ3RoIDsgaTxpTGVuIDsgaSsrIClcblx0XHRcdHtcblx0XHRcdFx0b0NvbCA9IG9TZXR0aW5ncy5hb0NvbHVtbnNbaV07XG5cdFxuXHRcdFx0XHRuVGQgPSBuVHJJbiA/IGFuVGRzW2ldIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggb0NvbC5zQ2VsbFR5cGUgKTtcblx0XHRcdFx0blRkLl9EVF9DZWxsSW5kZXggPSB7XG5cdFx0XHRcdFx0cm93OiBpUm93LFxuXHRcdFx0XHRcdGNvbHVtbjogaVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRcblx0XHRcdFx0Y2VsbHMucHVzaCggblRkICk7XG5cdFxuXHRcdFx0XHQvLyBOZWVkIHRvIGNyZWF0ZSB0aGUgSFRNTCBpZiBuZXcsIG9yIGlmIGEgcmVuZGVyaW5nIGZ1bmN0aW9uIGlzIGRlZmluZWRcblx0XHRcdFx0aWYgKCAoIW5UckluIHx8IG9Db2wubVJlbmRlciB8fCBvQ29sLm1EYXRhICE9PSBpKSAmJlxuXHRcdFx0XHRcdCAoISQuaXNQbGFpbk9iamVjdChvQ29sLm1EYXRhKSB8fCBvQ29sLm1EYXRhLl8gIT09IGkrJy5kaXNwbGF5Jylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0blRkLmlubmVySFRNTCA9IF9mbkdldENlbGxEYXRhKCBvU2V0dGluZ3MsIGlSb3csIGksICdkaXNwbGF5JyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvKiBBZGQgdXNlciBkZWZpbmVkIGNsYXNzICovXG5cdFx0XHRcdGlmICggb0NvbC5zQ2xhc3MgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0blRkLmNsYXNzTmFtZSArPSAnICcrb0NvbC5zQ2xhc3M7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFZpc2liaWxpdHkgLSBhZGQgb3IgcmVtb3ZlIGFzIHJlcXVpcmVkXG5cdFx0XHRcdGlmICggb0NvbC5iVmlzaWJsZSAmJiAhIG5UckluIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5Uci5hcHBlbmRDaGlsZCggblRkICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoICEgb0NvbC5iVmlzaWJsZSAmJiBuVHJJbiApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuVGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggblRkICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggb0NvbC5mbkNyZWF0ZWRDZWxsIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG9Db2wuZm5DcmVhdGVkQ2VsbC5jYWxsKCBvU2V0dGluZ3Mub0luc3RhbmNlLFxuXHRcdFx0XHRcdFx0blRkLCBfZm5HZXRDZWxsRGF0YSggb1NldHRpbmdzLCBpUm93LCBpICksIHJvd0RhdGEsIGlSb3csIGlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0X2ZuQ2FsbGJhY2tGaXJlKCBvU2V0dGluZ3MsICdhb1Jvd0NyZWF0ZWRDYWxsYmFjaycsIG51bGwsIFtuVHIsIHJvd0RhdGEsIGlSb3ddICk7XG5cdFx0fVxuXHRcblx0XHQvLyBSZW1vdmUgb25jZSB3ZWJraXQgYnVnIDEzMTgxOSBhbmQgQ2hyb21pdW0gYnVnIDM2NTYxOSBoYXZlIGJlZW4gcmVzb2x2ZWRcblx0XHQvLyBhbmQgZGVwbG95ZWRcblx0XHRyb3cublRyLnNldEF0dHJpYnV0ZSggJ3JvbGUnLCAncm93JyApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFkZCBhdHRyaWJ1dGVzIHRvIGEgcm93IGJhc2VkIG9uIHRoZSBzcGVjaWFsIGBEVF8qYCBwYXJhbWV0ZXJzIGluIGEgZGF0YVxuXHQgKiBzb3VyY2Ugb2JqZWN0LlxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gRGF0YVRhYmxlcyByb3cgb2JqZWN0IGZvciB0aGUgcm93IHRvIGJlIG1vZGlmaWVkXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mblJvd0F0dHJpYnV0ZXMoIHNldHRpbmdzLCByb3cgKVxuXHR7XG5cdFx0dmFyIHRyID0gcm93Lm5Ucjtcblx0XHR2YXIgZGF0YSA9IHJvdy5fYURhdGE7XG5cdFxuXHRcdGlmICggdHIgKSB7XG5cdFx0XHR2YXIgaWQgPSBzZXR0aW5ncy5yb3dJZEZuKCBkYXRhICk7XG5cdFxuXHRcdFx0aWYgKCBpZCApIHtcblx0XHRcdFx0dHIuaWQgPSBpZDtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGRhdGEuRFRfUm93Q2xhc3MgKSB7XG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgY2xhc3NlcyBhZGRlZCBieSBEVF9Sb3dDbGFzcyBiZWZvcmVcblx0XHRcdFx0dmFyIGEgPSBkYXRhLkRUX1Jvd0NsYXNzLnNwbGl0KCcgJyk7XG5cdFx0XHRcdHJvdy5fX3Jvd2MgPSByb3cuX19yb3djID9cblx0XHRcdFx0XHRfdW5pcXVlKCByb3cuX19yb3djLmNvbmNhdCggYSApICkgOlxuXHRcdFx0XHRcdGE7XG5cdFxuXHRcdFx0XHQkKHRyKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggcm93Ll9fcm93Yy5qb2luKCcgJykgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggZGF0YS5EVF9Sb3dDbGFzcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggZGF0YS5EVF9Sb3dBdHRyICkge1xuXHRcdFx0XHQkKHRyKS5hdHRyKCBkYXRhLkRUX1Jvd0F0dHIgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGRhdGEuRFRfUm93RGF0YSApIHtcblx0XHRcdFx0JCh0cikuZGF0YSggZGF0YS5EVF9Sb3dEYXRhICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSB0aGUgSFRNTCBoZWFkZXIgZm9yIHRoZSB0YWJsZVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5CdWlsZEhlYWQoIG9TZXR0aW5ncyApXG5cdHtcblx0XHR2YXIgaSwgaWVuLCBjZWxsLCByb3csIGNvbHVtbjtcblx0XHR2YXIgdGhlYWQgPSBvU2V0dGluZ3MublRIZWFkO1xuXHRcdHZhciB0Zm9vdCA9IG9TZXR0aW5ncy5uVEZvb3Q7XG5cdFx0dmFyIGNyZWF0ZUhlYWRlciA9ICQoJ3RoLCB0ZCcsIHRoZWFkKS5sZW5ndGggPT09IDA7XG5cdFx0dmFyIGNsYXNzZXMgPSBvU2V0dGluZ3Mub0NsYXNzZXM7XG5cdFx0dmFyIGNvbHVtbnMgPSBvU2V0dGluZ3MuYW9Db2x1bW5zO1xuXHRcblx0XHRpZiAoIGNyZWF0ZUhlYWRlciApIHtcblx0XHRcdHJvdyA9ICQoJzx0ci8+JykuYXBwZW5kVG8oIHRoZWFkICk7XG5cdFx0fVxuXHRcblx0XHRmb3IgKCBpPTAsIGllbj1jb2x1bW5zLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0Y29sdW1uID0gY29sdW1uc1tpXTtcblx0XHRcdGNlbGwgPSAkKCBjb2x1bW4ublRoICkuYWRkQ2xhc3MoIGNvbHVtbi5zQ2xhc3MgKTtcblx0XG5cdFx0XHRpZiAoIGNyZWF0ZUhlYWRlciApIHtcblx0XHRcdFx0Y2VsbC5hcHBlbmRUbyggcm93ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gMS4xMSBtb3ZlIGludG8gc29ydGluZ1xuXHRcdFx0aWYgKCBvU2V0dGluZ3Mub0ZlYXR1cmVzLmJTb3J0ICkge1xuXHRcdFx0XHRjZWxsLmFkZENsYXNzKCBjb2x1bW4uc1NvcnRpbmdDbGFzcyApO1xuXHRcblx0XHRcdFx0aWYgKCBjb2x1bW4uYlNvcnRhYmxlICE9PSBmYWxzZSApIHtcblx0XHRcdFx0XHRjZWxsXG5cdFx0XHRcdFx0XHQuYXR0ciggJ3RhYmluZGV4Jywgb1NldHRpbmdzLmlUYWJJbmRleCApXG5cdFx0XHRcdFx0XHQuYXR0ciggJ2FyaWEtY29udHJvbHMnLCBvU2V0dGluZ3Muc1RhYmxlSWQgKTtcblx0XG5cdFx0XHRcdFx0X2ZuU29ydEF0dGFjaExpc3RlbmVyKCBvU2V0dGluZ3MsIGNvbHVtbi5uVGgsIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggY29sdW1uLnNUaXRsZSAhPSBjZWxsWzBdLmlubmVySFRNTCApIHtcblx0XHRcdFx0Y2VsbC5odG1sKCBjb2x1bW4uc1RpdGxlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0X2ZuUmVuZGVyZXIoIG9TZXR0aW5ncywgJ2hlYWRlcicgKShcblx0XHRcdFx0b1NldHRpbmdzLCBjZWxsLCBjb2x1bW4sIGNsYXNzZXNcblx0XHRcdCk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGNyZWF0ZUhlYWRlciApIHtcblx0XHRcdF9mbkRldGVjdEhlYWRlciggb1NldHRpbmdzLmFvSGVhZGVyLCB0aGVhZCApO1xuXHRcdH1cblx0XHRcblx0XHQvKiBBUklBIHJvbGUgZm9yIHRoZSByb3dzICovXG5cdCBcdCQodGhlYWQpLmZpbmQoJz50cicpLmF0dHIoJ3JvbGUnLCAncm93Jyk7XG5cdFxuXHRcdC8qIERlYWwgd2l0aCB0aGUgZm9vdGVyIC0gYWRkIGNsYXNzZXMgaWYgcmVxdWlyZWQgKi9cblx0XHQkKHRoZWFkKS5maW5kKCc+dHI+dGgsID50cj50ZCcpLmFkZENsYXNzKCBjbGFzc2VzLnNIZWFkZXJUSCApO1xuXHRcdCQodGZvb3QpLmZpbmQoJz50cj50aCwgPnRyPnRkJykuYWRkQ2xhc3MoIGNsYXNzZXMuc0Zvb3RlclRIICk7XG5cdFxuXHRcdC8vIENhY2hlIHRoZSBmb290ZXIgY2VsbHMuIE5vdGUgdGhhdCB3ZSBvbmx5IHRha2UgdGhlIGNlbGxzIGZyb20gdGhlIGZpcnN0XG5cdFx0Ly8gcm93IGluIHRoZSBmb290ZXIuIElmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcm93IHRoZSB1c2VyIHdhbnRzIHRvXG5cdFx0Ly8gaW50ZXJhY3Qgd2l0aCwgdGhleSBuZWVkIHRvIHVzZSB0aGUgdGFibGUoKS5mb290KCkgbWV0aG9kLiBOb3RlIGFsc28gdGhpc1xuXHRcdC8vIGFsbG93cyBjZWxscyB0byBiZSB1c2VkIGZvciBtdWx0aXBsZSBjb2x1bW5zIHVzaW5nIGNvbHNwYW5cblx0XHRpZiAoIHRmb290ICE9PSBudWxsICkge1xuXHRcdFx0dmFyIGNlbGxzID0gb1NldHRpbmdzLmFvRm9vdGVyWzBdO1xuXHRcblx0XHRcdGZvciAoIGk9MCwgaWVuPWNlbGxzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRjb2x1bW4gPSBjb2x1bW5zW2ldO1xuXHRcdFx0XHRjb2x1bW4ublRmID0gY2VsbHNbaV0uY2VsbDtcblx0XG5cdFx0XHRcdGlmICggY29sdW1uLnNDbGFzcyApIHtcblx0XHRcdFx0XHQkKGNvbHVtbi5uVGYpLmFkZENsYXNzKCBjb2x1bW4uc0NsYXNzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRHJhdyB0aGUgaGVhZGVyIChvciBmb290ZXIpIGVsZW1lbnQgYmFzZWQgb24gdGhlIGNvbHVtbiB2aXNpYmlsaXR5IHN0YXRlcy4gVGhlXG5cdCAqIG1ldGhvZG9sb2d5IGhlcmUgaXMgdG8gdXNlIHRoZSBsYXlvdXQgYXJyYXkgZnJvbSBfZm5EZXRlY3RIZWFkZXIsIG1vZGlmaWVkIGZvclxuXHQgKiB0aGUgaW5zdGFudGFuZW91cyBjb2x1bW4gdmlzaWJpbGl0eSwgdG8gY29uc3RydWN0IHRoZSBuZXcgbGF5b3V0LiBUaGUgZ3JpZCBpc1xuXHQgKiB0cmF2ZXJzZWQgb3ZlciBjZWxsIGF0IGEgdGltZSBpbiBhIHJvd3MgeCBjb2x1bW5zIGdyaWQgZmFzaGlvbiwgYWx0aG91Z2ggZWFjaFxuXHQgKiBjZWxsIGluc2VydCBjYW4gY292ZXIgbXVsdGlwbGUgZWxlbWVudHMgaW4gdGhlIGdyaWQgLSB3aGljaCBpcyB0cmFja3MgdXNpbmcgdGhlXG5cdCAqIGFBcHBsaWVkIGFycmF5LiBDZWxsIGluc2VydHMgaW4gdGhlIGdyaWQgd2lsbCBvbmx5IG9jY3VyIHdoZXJlIHRoZXJlIGlzbid0XG5cdCAqIGFscmVhZHkgYSBjZWxsIGluIHRoYXQgcG9zaXRpb24uXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0gYXJyYXkge29iamVjdHN9IGFvU291cmNlIExheW91dCBhcnJheSBmcm9tIF9mbkRldGVjdEhlYWRlclxuXHQgKiAgQHBhcmFtIHtib29sZWFufSBbYkluY2x1ZGVIaWRkZW49ZmFsc2VdIElmIHRydWUgdGhlbiBpbmNsdWRlIHRoZSBoaWRkZW4gY29sdW1ucyBpbiB0aGUgY2FsYyxcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRHJhd0hlYWQoIG9TZXR0aW5ncywgYW9Tb3VyY2UsIGJJbmNsdWRlSGlkZGVuIClcblx0e1xuXHRcdHZhciBpLCBpTGVuLCBqLCBqTGVuLCBrLCBrTGVuLCBuLCBuTG9jYWxUcjtcblx0XHR2YXIgYW9Mb2NhbCA9IFtdO1xuXHRcdHZhciBhQXBwbGllZCA9IFtdO1xuXHRcdHZhciBpQ29sdW1ucyA9IG9TZXR0aW5ncy5hb0NvbHVtbnMubGVuZ3RoO1xuXHRcdHZhciBpUm93c3BhbiwgaUNvbHNwYW47XG5cdFxuXHRcdGlmICggISBhb1NvdXJjZSApXG5cdFx0e1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0aWYgKCAgYkluY2x1ZGVIaWRkZW4gPT09IHVuZGVmaW5lZCApXG5cdFx0e1xuXHRcdFx0YkluY2x1ZGVIaWRkZW4gPSBmYWxzZTtcblx0XHR9XG5cdFxuXHRcdC8qIE1ha2UgYSBjb3B5IG9mIHRoZSBtYXN0ZXIgbGF5b3V0IGFycmF5LCBidXQgd2l0aG91dCB0aGUgdmlzaWJsZSBjb2x1bW5zIGluIGl0ICovXG5cdFx0Zm9yICggaT0wLCBpTGVuPWFvU291cmNlLmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0e1xuXHRcdFx0YW9Mb2NhbFtpXSA9IGFvU291cmNlW2ldLnNsaWNlKCk7XG5cdFx0XHRhb0xvY2FsW2ldLm5UciA9IGFvU291cmNlW2ldLm5Ucjtcblx0XG5cdFx0XHQvKiBSZW1vdmUgYW55IGNvbHVtbnMgd2hpY2ggYXJlIGN1cnJlbnRseSBoaWRkZW4gKi9cblx0XHRcdGZvciAoIGo9aUNvbHVtbnMtMSA7IGo+PTAgOyBqLS0gKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoICFvU2V0dGluZ3MuYW9Db2x1bW5zW2pdLmJWaXNpYmxlICYmICFiSW5jbHVkZUhpZGRlbiApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRhb0xvY2FsW2ldLnNwbGljZSggaiwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0LyogUHJlcCB0aGUgYXBwbGllZCBhcnJheSAtIGl0IG5lZWRzIGFuIGVsZW1lbnQgZm9yIGVhY2ggcm93ICovXG5cdFx0XHRhQXBwbGllZC5wdXNoKCBbXSApO1xuXHRcdH1cblx0XG5cdFx0Zm9yICggaT0wLCBpTGVuPWFvTG9jYWwubGVuZ3RoIDsgaTxpTGVuIDsgaSsrIClcblx0XHR7XG5cdFx0XHRuTG9jYWxUciA9IGFvTG9jYWxbaV0ublRyO1xuXHRcblx0XHRcdC8qIEFsbCBjZWxscyBhcmUgZ29pbmcgdG8gYmUgcmVwbGFjZWQsIHNvIGVtcHR5IG91dCB0aGUgcm93ICovXG5cdFx0XHRpZiAoIG5Mb2NhbFRyIClcblx0XHRcdHtcblx0XHRcdFx0d2hpbGUoIChuID0gbkxvY2FsVHIuZmlyc3RDaGlsZCkgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bkxvY2FsVHIucmVtb3ZlQ2hpbGQoIG4gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGZvciAoIGo9MCwgakxlbj1hb0xvY2FsW2ldLmxlbmd0aCA7IGo8akxlbiA7IGorKyApXG5cdFx0XHR7XG5cdFx0XHRcdGlSb3dzcGFuID0gMTtcblx0XHRcdFx0aUNvbHNwYW4gPSAxO1xuXHRcblx0XHRcdFx0LyogQ2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBjZWxsIChyb3cvY29sc3BhbikgY292ZXJpbmcgb3VyIHRhcmdldFxuXHRcdFx0XHQgKiBpbnNlcnQgcG9pbnQuIElmIHRoZXJlIGlzLCB0aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG8uXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRpZiAoIGFBcHBsaWVkW2ldW2pdID09PSB1bmRlZmluZWQgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bkxvY2FsVHIuYXBwZW5kQ2hpbGQoIGFvTG9jYWxbaV1bal0uY2VsbCApO1xuXHRcdFx0XHRcdGFBcHBsaWVkW2ldW2pdID0gMTtcblx0XG5cdFx0XHRcdFx0LyogRXhwYW5kIHRoZSBjZWxsIHRvIGNvdmVyIGFzIG1hbnkgcm93cyBhcyBuZWVkZWQgKi9cblx0XHRcdFx0XHR3aGlsZSAoIGFvTG9jYWxbaStpUm93c3Bhbl0gIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdCAgICAgICAgYW9Mb2NhbFtpXVtqXS5jZWxsID09IGFvTG9jYWxbaStpUm93c3Bhbl1bal0uY2VsbCApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0YUFwcGxpZWRbaStpUm93c3Bhbl1bal0gPSAxO1xuXHRcdFx0XHRcdFx0aVJvd3NwYW4rKztcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8qIEV4cGFuZCB0aGUgY2VsbCB0byBjb3ZlciBhcyBtYW55IGNvbHVtbnMgYXMgbmVlZGVkICovXG5cdFx0XHRcdFx0d2hpbGUgKCBhb0xvY2FsW2ldW2oraUNvbHNwYW5dICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0XHQgICAgICAgIGFvTG9jYWxbaV1bal0uY2VsbCA9PSBhb0xvY2FsW2ldW2oraUNvbHNwYW5dLmNlbGwgKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdC8qIE11c3QgdXBkYXRlIHRoZSBhcHBsaWVkIGFycmF5IG92ZXIgdGhlIHJvd3MgZm9yIHRoZSBjb2x1bW5zICovXG5cdFx0XHRcdFx0XHRmb3IgKCBrPTAgOyBrPGlSb3dzcGFuIDsgaysrIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0YUFwcGxpZWRbaStrXVtqK2lDb2xzcGFuXSA9IDE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpQ29sc3BhbisrO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0LyogRG8gdGhlIGFjdHVhbCBleHBhbnNpb24gaW4gdGhlIERPTSAqL1xuXHRcdFx0XHRcdCQoYW9Mb2NhbFtpXVtqXS5jZWxsKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ3Jvd3NwYW4nLCBpUm93c3Bhbilcblx0XHRcdFx0XHRcdC5hdHRyKCdjb2xzcGFuJywgaUNvbHNwYW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEluc2VydCB0aGUgcmVxdWlyZWQgVFIgbm9kZXMgaW50byB0aGUgdGFibGUgZm9yIGRpc3BsYXlcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRHJhdyggb1NldHRpbmdzIClcblx0e1xuXHRcdC8qIFByb3ZpZGUgYSBwcmUtY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBkcmF3IGlzIGZhbHNlIGlzIHJldHVybmVkICovXG5cdFx0dmFyIGFQcmVEcmF3ID0gX2ZuQ2FsbGJhY2tGaXJlKCBvU2V0dGluZ3MsICdhb1ByZURyYXdDYWxsYmFjaycsICdwcmVEcmF3JywgW29TZXR0aW5nc10gKTtcblx0XHRpZiAoICQuaW5BcnJheSggZmFsc2UsIGFQcmVEcmF3ICkgIT09IC0xIClcblx0XHR7XG5cdFx0XHRfZm5Qcm9jZXNzaW5nRGlzcGxheSggb1NldHRpbmdzLCBmYWxzZSApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0dmFyIGksIGlMZW4sIG47XG5cdFx0dmFyIGFuUm93cyA9IFtdO1xuXHRcdHZhciBpUm93Q291bnQgPSAwO1xuXHRcdHZhciBhc1N0cmlwZUNsYXNzZXMgPSBvU2V0dGluZ3MuYXNTdHJpcGVDbGFzc2VzO1xuXHRcdHZhciBpU3RyaXBlcyA9IGFzU3RyaXBlQ2xhc3Nlcy5sZW5ndGg7XG5cdFx0dmFyIGlPcGVuUm93cyA9IG9TZXR0aW5ncy5hb09wZW5Sb3dzLmxlbmd0aDtcblx0XHR2YXIgb0xhbmcgPSBvU2V0dGluZ3Mub0xhbmd1YWdlO1xuXHRcdHZhciBpSW5pdERpc3BsYXlTdGFydCA9IG9TZXR0aW5ncy5pSW5pdERpc3BsYXlTdGFydDtcblx0XHR2YXIgYlNlcnZlclNpZGUgPSBfZm5EYXRhU291cmNlKCBvU2V0dGluZ3MgKSA9PSAnc3NwJztcblx0XHR2YXIgYWlEaXNwbGF5ID0gb1NldHRpbmdzLmFpRGlzcGxheTtcblx0XG5cdFx0b1NldHRpbmdzLmJEcmF3aW5nID0gdHJ1ZTtcblx0XG5cdFx0LyogQ2hlY2sgYW5kIHNlZSBpZiB3ZSBoYXZlIGFuIGluaXRpYWwgZHJhdyBwb3NpdGlvbiBmcm9tIHN0YXRlIHNhdmluZyAqL1xuXHRcdGlmICggaUluaXREaXNwbGF5U3RhcnQgIT09IHVuZGVmaW5lZCAmJiBpSW5pdERpc3BsYXlTdGFydCAhPT0gLTEgKVxuXHRcdHtcblx0XHRcdG9TZXR0aW5ncy5faURpc3BsYXlTdGFydCA9IGJTZXJ2ZXJTaWRlID9cblx0XHRcdFx0aUluaXREaXNwbGF5U3RhcnQgOlxuXHRcdFx0XHRpSW5pdERpc3BsYXlTdGFydCA+PSBvU2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpID9cblx0XHRcdFx0XHQwIDpcblx0XHRcdFx0XHRpSW5pdERpc3BsYXlTdGFydDtcblx0XG5cdFx0XHRvU2V0dGluZ3MuaUluaXREaXNwbGF5U3RhcnQgPSAtMTtcblx0XHR9XG5cdFxuXHRcdHZhciBpRGlzcGxheVN0YXJ0ID0gb1NldHRpbmdzLl9pRGlzcGxheVN0YXJ0O1xuXHRcdHZhciBpRGlzcGxheUVuZCA9IG9TZXR0aW5ncy5mbkRpc3BsYXlFbmQoKTtcblx0XG5cdFx0LyogU2VydmVyLXNpZGUgcHJvY2Vzc2luZyBkcmF3IGludGVyY2VwdCAqL1xuXHRcdGlmICggb1NldHRpbmdzLmJEZWZlckxvYWRpbmcgKVxuXHRcdHtcblx0XHRcdG9TZXR0aW5ncy5iRGVmZXJMb2FkaW5nID0gZmFsc2U7XG5cdFx0XHRvU2V0dGluZ3MuaURyYXcrKztcblx0XHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBvU2V0dGluZ3MsIGZhbHNlICk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCAhYlNlcnZlclNpZGUgKVxuXHRcdHtcblx0XHRcdG9TZXR0aW5ncy5pRHJhdysrO1xuXHRcdH1cblx0XHRlbHNlIGlmICggIW9TZXR0aW5ncy5iRGVzdHJveWluZyAmJiAhX2ZuQWpheFVwZGF0ZSggb1NldHRpbmdzICkgKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdGlmICggYWlEaXNwbGF5Lmxlbmd0aCAhPT0gMCApXG5cdFx0e1xuXHRcdFx0dmFyIGlTdGFydCA9IGJTZXJ2ZXJTaWRlID8gMCA6IGlEaXNwbGF5U3RhcnQ7XG5cdFx0XHR2YXIgaUVuZCA9IGJTZXJ2ZXJTaWRlID8gb1NldHRpbmdzLmFvRGF0YS5sZW5ndGggOiBpRGlzcGxheUVuZDtcblx0XG5cdFx0XHRmb3IgKCB2YXIgaj1pU3RhcnQgOyBqPGlFbmQgOyBqKysgKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgaURhdGFJbmRleCA9IGFpRGlzcGxheVtqXTtcblx0XHRcdFx0dmFyIGFvRGF0YSA9IG9TZXR0aW5ncy5hb0RhdGFbIGlEYXRhSW5kZXggXTtcblx0XHRcdFx0aWYgKCBhb0RhdGEublRyID09PSBudWxsIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdF9mbkNyZWF0ZVRyKCBvU2V0dGluZ3MsIGlEYXRhSW5kZXggKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIG5Sb3cgPSBhb0RhdGEublRyO1xuXHRcblx0XHRcdFx0LyogUmVtb3ZlIHRoZSBvbGQgc3RyaXBpbmcgY2xhc3NlcyBhbmQgdGhlbiBhZGQgdGhlIG5ldyBvbmUgKi9cblx0XHRcdFx0aWYgKCBpU3RyaXBlcyAhPT0gMCApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgc1N0cmlwZSA9IGFzU3RyaXBlQ2xhc3Nlc1sgaVJvd0NvdW50ICUgaVN0cmlwZXMgXTtcblx0XHRcdFx0XHRpZiAoIGFvRGF0YS5fc1Jvd1N0cmlwZSAhPSBzU3RyaXBlIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQkKG5Sb3cpLnJlbW92ZUNsYXNzKCBhb0RhdGEuX3NSb3dTdHJpcGUgKS5hZGRDbGFzcyggc1N0cmlwZSApO1xuXHRcdFx0XHRcdFx0YW9EYXRhLl9zUm93U3RyaXBlID0gc1N0cmlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFJvdyBjYWxsYmFjayBmdW5jdGlvbnMgLSBtaWdodCB3YW50IHRvIG1hbmlwdWxhdGUgdGhlIHJvd1xuXHRcdFx0XHQvLyBpUm93Q291bnQgYW5kIGogYXJlIG5vdCBjdXJyZW50bHkgZG9jdW1lbnRlZC4gQXJlIHRoZXkgYXQgYWxsXG5cdFx0XHRcdC8vIHVzZWZ1bD9cblx0XHRcdFx0X2ZuQ2FsbGJhY2tGaXJlKCBvU2V0dGluZ3MsICdhb1Jvd0NhbGxiYWNrJywgbnVsbCxcblx0XHRcdFx0XHRbblJvdywgYW9EYXRhLl9hRGF0YSwgaVJvd0NvdW50LCBqXSApO1xuXHRcblx0XHRcdFx0YW5Sb3dzLnB1c2goIG5Sb3cgKTtcblx0XHRcdFx0aVJvd0NvdW50Kys7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQvKiBUYWJsZSBpcyBlbXB0eSAtIGNyZWF0ZSBhIHJvdyB3aXRoIGFuIGVtcHR5IG1lc3NhZ2UgaW4gaXQgKi9cblx0XHRcdHZhciBzWmVybyA9IG9MYW5nLnNaZXJvUmVjb3Jkcztcblx0XHRcdGlmICggb1NldHRpbmdzLmlEcmF3ID09IDEgJiYgIF9mbkRhdGFTb3VyY2UoIG9TZXR0aW5ncyApID09ICdhamF4JyApXG5cdFx0XHR7XG5cdFx0XHRcdHNaZXJvID0gb0xhbmcuc0xvYWRpbmdSZWNvcmRzO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIG9MYW5nLnNFbXB0eVRhYmxlICYmIG9TZXR0aW5ncy5mblJlY29yZHNUb3RhbCgpID09PSAwIClcblx0XHRcdHtcblx0XHRcdFx0c1plcm8gPSBvTGFuZy5zRW1wdHlUYWJsZTtcblx0XHRcdH1cblx0XG5cdFx0XHRhblJvd3NbIDAgXSA9ICQoICc8dHIvPicsIHsgJ2NsYXNzJzogaVN0cmlwZXMgPyBhc1N0cmlwZUNsYXNzZXNbMF0gOiAnJyB9IClcblx0XHRcdFx0LmFwcGVuZCggJCgnPHRkIC8+Jywge1xuXHRcdFx0XHRcdCd2YWxpZ24nOiAgJ3RvcCcsXG5cdFx0XHRcdFx0J2NvbFNwYW4nOiBfZm5WaXNibGVDb2x1bW5zKCBvU2V0dGluZ3MgKSxcblx0XHRcdFx0XHQnY2xhc3MnOiAgIG9TZXR0aW5ncy5vQ2xhc3Nlcy5zUm93RW1wdHlcblx0XHRcdFx0fSApLmh0bWwoIHNaZXJvICkgKVswXTtcblx0XHR9XG5cdFxuXHRcdC8qIEhlYWRlciBhbmQgZm9vdGVyIGNhbGxiYWNrcyAqL1xuXHRcdF9mbkNhbGxiYWNrRmlyZSggb1NldHRpbmdzLCAnYW9IZWFkZXJDYWxsYmFjaycsICdoZWFkZXInLCBbICQob1NldHRpbmdzLm5USGVhZCkuY2hpbGRyZW4oJ3RyJylbMF0sXG5cdFx0XHRfZm5HZXREYXRhTWFzdGVyKCBvU2V0dGluZ3MgKSwgaURpc3BsYXlTdGFydCwgaURpc3BsYXlFbmQsIGFpRGlzcGxheSBdICk7XG5cdFxuXHRcdF9mbkNhbGxiYWNrRmlyZSggb1NldHRpbmdzLCAnYW9Gb290ZXJDYWxsYmFjaycsICdmb290ZXInLCBbICQob1NldHRpbmdzLm5URm9vdCkuY2hpbGRyZW4oJ3RyJylbMF0sXG5cdFx0XHRfZm5HZXREYXRhTWFzdGVyKCBvU2V0dGluZ3MgKSwgaURpc3BsYXlTdGFydCwgaURpc3BsYXlFbmQsIGFpRGlzcGxheSBdICk7XG5cdFxuXHRcdHZhciBib2R5ID0gJChvU2V0dGluZ3MublRCb2R5KTtcblx0XG5cdFx0Ym9keS5jaGlsZHJlbigpLmRldGFjaCgpO1xuXHRcdGJvZHkuYXBwZW5kKCAkKGFuUm93cykgKTtcblx0XG5cdFx0LyogQ2FsbCBhbGwgcmVxdWlyZWQgY2FsbGJhY2sgZnVuY3Rpb25zIGZvciB0aGUgZW5kIG9mIGEgZHJhdyAqL1xuXHRcdF9mbkNhbGxiYWNrRmlyZSggb1NldHRpbmdzLCAnYW9EcmF3Q2FsbGJhY2snLCAnZHJhdycsIFtvU2V0dGluZ3NdICk7XG5cdFxuXHRcdC8qIERyYXcgaXMgY29tcGxldGUsIHNvcnRpbmcgYW5kIGZpbHRlcmluZyBtdXN0IGJlIGFzIHdlbGwgKi9cblx0XHRvU2V0dGluZ3MuYlNvcnRlZCA9IGZhbHNlO1xuXHRcdG9TZXR0aW5ncy5iRmlsdGVyZWQgPSBmYWxzZTtcblx0XHRvU2V0dGluZ3MuYkRyYXdpbmcgPSBmYWxzZTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBSZWRyYXcgdGhlIHRhYmxlIC0gdGFraW5nIGFjY291bnQgb2YgdGhlIHZhcmlvdXMgZmVhdHVyZXMgd2hpY2ggYXJlIGVuYWJsZWRcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7Ym9vbGVhbn0gW2hvbGRQb3NpdGlvbl0gS2VlcCB0aGUgY3VycmVudCBwYWdpbmcgcG9zaXRpb24uIEJ5IGRlZmF1bHRcblx0ICogICAgdGhlIHBhZ2luZyBpcyByZXNldCB0byB0aGUgZmlyc3QgcGFnZVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5SZURyYXcoIHNldHRpbmdzLCBob2xkUG9zaXRpb24gKVxuXHR7XG5cdFx0dmFyXG5cdFx0XHRmZWF0dXJlcyA9IHNldHRpbmdzLm9GZWF0dXJlcyxcblx0XHRcdHNvcnQgICAgID0gZmVhdHVyZXMuYlNvcnQsXG5cdFx0XHRmaWx0ZXIgICA9IGZlYXR1cmVzLmJGaWx0ZXI7XG5cdFxuXHRcdGlmICggc29ydCApIHtcblx0XHRcdF9mblNvcnQoIHNldHRpbmdzICk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGZpbHRlciApIHtcblx0XHRcdF9mbkZpbHRlckNvbXBsZXRlKCBzZXR0aW5ncywgc2V0dGluZ3Mub1ByZXZpb3VzU2VhcmNoICk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Ly8gTm8gZmlsdGVyaW5nLCBzbyB3ZSB3YW50IHRvIGp1c3QgdXNlIHRoZSBkaXNwbGF5IG1hc3RlclxuXHRcdFx0c2V0dGluZ3MuYWlEaXNwbGF5ID0gc2V0dGluZ3MuYWlEaXNwbGF5TWFzdGVyLnNsaWNlKCk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGhvbGRQb3NpdGlvbiAhPT0gdHJ1ZSApIHtcblx0XHRcdHNldHRpbmdzLl9pRGlzcGxheVN0YXJ0ID0gMDtcblx0XHR9XG5cdFxuXHRcdC8vIExldCBhbnkgbW9kdWxlcyBrbm93IGFib3V0IHRoZSBkcmF3IGhvbGQgcG9zaXRpb24gc3RhdGUgKHVzZWQgYnlcblx0XHQvLyBzY3JvbGxpbmcgaW50ZXJuYWxseSlcblx0XHRzZXR0aW5ncy5fZHJhd0hvbGQgPSBob2xkUG9zaXRpb247XG5cdFxuXHRcdF9mbkRyYXcoIHNldHRpbmdzICk7XG5cdFxuXHRcdHNldHRpbmdzLl9kcmF3SG9sZCA9IGZhbHNlO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFkZCB0aGUgb3B0aW9ucyB0byB0aGUgcGFnZSBIVE1MIGZvciB0aGUgdGFibGVcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQWRkT3B0aW9uc0h0bWwgKCBvU2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyIGNsYXNzZXMgPSBvU2V0dGluZ3Mub0NsYXNzZXM7XG5cdFx0dmFyIHRhYmxlID0gJChvU2V0dGluZ3MublRhYmxlKTtcblx0XHR2YXIgaG9sZGluZyA9ICQoJzxkaXYvPicpLmluc2VydEJlZm9yZSggdGFibGUgKTsgLy8gSG9sZGluZyBlbGVtZW50IGZvciBzcGVlZFxuXHRcdHZhciBmZWF0dXJlcyA9IG9TZXR0aW5ncy5vRmVhdHVyZXM7XG5cdFxuXHRcdC8vIEFsbCBEYXRhVGFibGVzIGFyZSB3cmFwcGVkIGluIGEgZGl2XG5cdFx0dmFyIGluc2VydCA9ICQoJzxkaXYvPicsIHtcblx0XHRcdGlkOiAgICAgIG9TZXR0aW5ncy5zVGFibGVJZCsnX3dyYXBwZXInLFxuXHRcdFx0J2NsYXNzJzogY2xhc3Nlcy5zV3JhcHBlciArIChvU2V0dGluZ3MublRGb290ID8gJycgOiAnICcrY2xhc3Nlcy5zTm9Gb290ZXIpXG5cdFx0fSApO1xuXHRcblx0XHRvU2V0dGluZ3MubkhvbGRpbmcgPSBob2xkaW5nWzBdO1xuXHRcdG9TZXR0aW5ncy5uVGFibGVXcmFwcGVyID0gaW5zZXJ0WzBdO1xuXHRcdG9TZXR0aW5ncy5uVGFibGVSZWluc2VydEJlZm9yZSA9IG9TZXR0aW5ncy5uVGFibGUubmV4dFNpYmxpbmc7XG5cdFxuXHRcdC8qIExvb3Agb3ZlciB0aGUgdXNlciBzZXQgcG9zaXRpb25pbmcgYW5kIHBsYWNlIHRoZSBlbGVtZW50cyBhcyBuZWVkZWQgKi9cblx0XHR2YXIgYURvbSA9IG9TZXR0aW5ncy5zRG9tLnNwbGl0KCcnKTtcblx0XHR2YXIgZmVhdHVyZU5vZGUsIGNPcHRpb24sIG5OZXdOb2RlLCBjTmV4dCwgc0F0dHIsIGo7XG5cdFx0Zm9yICggdmFyIGk9MCA7IGk8YURvbS5sZW5ndGggOyBpKysgKVxuXHRcdHtcblx0XHRcdGZlYXR1cmVOb2RlID0gbnVsbDtcblx0XHRcdGNPcHRpb24gPSBhRG9tW2ldO1xuXHRcblx0XHRcdGlmICggY09wdGlvbiA9PSAnPCcgKVxuXHRcdFx0e1xuXHRcdFx0XHQvKiBOZXcgY29udGFpbmVyIGRpdiAqL1xuXHRcdFx0XHRuTmV3Tm9kZSA9ICQoJzxkaXYvPicpWzBdO1xuXHRcblx0XHRcdFx0LyogQ2hlY2sgdG8gc2VlIGlmIHdlIHNob3VsZCBhcHBlbmQgYW4gaWQgYW5kL29yIGEgY2xhc3MgbmFtZSB0byB0aGUgY29udGFpbmVyICovXG5cdFx0XHRcdGNOZXh0ID0gYURvbVtpKzFdO1xuXHRcdFx0XHRpZiAoIGNOZXh0ID09IFwiJ1wiIHx8IGNOZXh0ID09ICdcIicgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c0F0dHIgPSBcIlwiO1xuXHRcdFx0XHRcdGogPSAyO1xuXHRcdFx0XHRcdHdoaWxlICggYURvbVtpK2pdICE9IGNOZXh0IClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRzQXR0ciArPSBhRG9tW2kral07XG5cdFx0XHRcdFx0XHRqKys7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvKiBSZXBsYWNlIGpRdWVyeSBVSSBjb25zdGFudHMgQHRvZG8gZGVwcmVjaWF0ZWQgKi9cblx0XHRcdFx0XHRpZiAoIHNBdHRyID09IFwiSFwiIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRzQXR0ciA9IGNsYXNzZXMuc0pVSUhlYWRlcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIHNBdHRyID09IFwiRlwiIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRzQXR0ciA9IGNsYXNzZXMuc0pVSUZvb3Rlcjtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8qIFRoZSBhdHRyaWJ1dGUgY2FuIGJlIGluIHRoZSBmb3JtYXQgb2YgXCIjaWQuY2xhc3NcIiwgXCIjaWRcIiBvciBcImNsYXNzXCIgVGhpcyBsb2dpY1xuXHRcdFx0XHRcdCAqIGJyZWFrcyB0aGUgc3RyaW5nIGludG8gcGFydHMgYW5kIGFwcGxpZXMgdGhlbSBhcyBuZWVkZWRcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRpZiAoIHNBdHRyLmluZGV4T2YoJy4nKSAhPSAtMSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dmFyIGFTcGxpdCA9IHNBdHRyLnNwbGl0KCcuJyk7XG5cdFx0XHRcdFx0XHRuTmV3Tm9kZS5pZCA9IGFTcGxpdFswXS5zdWJzdHIoMSwgYVNwbGl0WzBdLmxlbmd0aC0xKTtcblx0XHRcdFx0XHRcdG5OZXdOb2RlLmNsYXNzTmFtZSA9IGFTcGxpdFsxXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIHNBdHRyLmNoYXJBdCgwKSA9PSBcIiNcIiApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bk5ld05vZGUuaWQgPSBzQXR0ci5zdWJzdHIoMSwgc0F0dHIubGVuZ3RoLTEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bk5ld05vZGUuY2xhc3NOYW1lID0gc0F0dHI7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRpICs9IGo7IC8qIE1vdmUgYWxvbmcgdGhlIHBvc2l0aW9uIGFycmF5ICovXG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGluc2VydC5hcHBlbmQoIG5OZXdOb2RlICk7XG5cdFx0XHRcdGluc2VydCA9ICQobk5ld05vZGUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIGNPcHRpb24gPT0gJz4nIClcblx0XHRcdHtcblx0XHRcdFx0LyogRW5kIGNvbnRhaW5lciBkaXYgKi9cblx0XHRcdFx0aW5zZXJ0ID0gaW5zZXJ0LnBhcmVudCgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQHRvZG8gTW92ZSBvcHRpb25zIGludG8gdGhlaXIgb3duIHBsdWdpbnM/XG5cdFx0XHRlbHNlIGlmICggY09wdGlvbiA9PSAnbCcgJiYgZmVhdHVyZXMuYlBhZ2luYXRlICYmIGZlYXR1cmVzLmJMZW5ndGhDaGFuZ2UgKVxuXHRcdFx0e1xuXHRcdFx0XHQvKiBMZW5ndGggKi9cblx0XHRcdFx0ZmVhdHVyZU5vZGUgPSBfZm5GZWF0dXJlSHRtbExlbmd0aCggb1NldHRpbmdzICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICggY09wdGlvbiA9PSAnZicgJiYgZmVhdHVyZXMuYkZpbHRlciApXG5cdFx0XHR7XG5cdFx0XHRcdC8qIEZpbHRlciAqL1xuXHRcdFx0XHRmZWF0dXJlTm9kZSA9IF9mbkZlYXR1cmVIdG1sRmlsdGVyKCBvU2V0dGluZ3MgKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBjT3B0aW9uID09ICdyJyAmJiBmZWF0dXJlcy5iUHJvY2Vzc2luZyApXG5cdFx0XHR7XG5cdFx0XHRcdC8qIHBSb2Nlc3NpbmcgKi9cblx0XHRcdFx0ZmVhdHVyZU5vZGUgPSBfZm5GZWF0dXJlSHRtbFByb2Nlc3NpbmcoIG9TZXR0aW5ncyApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIGNPcHRpb24gPT0gJ3QnIClcblx0XHRcdHtcblx0XHRcdFx0LyogVGFibGUgKi9cblx0XHRcdFx0ZmVhdHVyZU5vZGUgPSBfZm5GZWF0dXJlSHRtbFRhYmxlKCBvU2V0dGluZ3MgKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBjT3B0aW9uID09ICAnaScgJiYgZmVhdHVyZXMuYkluZm8gKVxuXHRcdFx0e1xuXHRcdFx0XHQvKiBJbmZvICovXG5cdFx0XHRcdGZlYXR1cmVOb2RlID0gX2ZuRmVhdHVyZUh0bWxJbmZvKCBvU2V0dGluZ3MgKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBjT3B0aW9uID09ICdwJyAmJiBmZWF0dXJlcy5iUGFnaW5hdGUgKVxuXHRcdFx0e1xuXHRcdFx0XHQvKiBQYWdpbmF0aW9uICovXG5cdFx0XHRcdGZlYXR1cmVOb2RlID0gX2ZuRmVhdHVyZUh0bWxQYWdpbmF0ZSggb1NldHRpbmdzICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICggRGF0YVRhYmxlLmV4dC5mZWF0dXJlLmxlbmd0aCAhPT0gMCApXG5cdFx0XHR7XG5cdFx0XHRcdC8qIFBsdWctaW4gZmVhdHVyZXMgKi9cblx0XHRcdFx0dmFyIGFvRmVhdHVyZXMgPSBEYXRhVGFibGUuZXh0LmZlYXR1cmU7XG5cdFx0XHRcdGZvciAoIHZhciBrPTAsIGtMZW49YW9GZWF0dXJlcy5sZW5ndGggOyBrPGtMZW4gOyBrKysgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYgKCBjT3B0aW9uID09IGFvRmVhdHVyZXNba10uY0ZlYXR1cmUgKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGZlYXR1cmVOb2RlID0gYW9GZWF0dXJlc1trXS5mbkluaXQoIG9TZXR0aW5ncyApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0LyogQWRkIHRvIHRoZSAyRCBmZWF0dXJlcyBhcnJheSAqL1xuXHRcdFx0aWYgKCBmZWF0dXJlTm9kZSApXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBhYW5GZWF0dXJlcyA9IG9TZXR0aW5ncy5hYW5GZWF0dXJlcztcblx0XG5cdFx0XHRcdGlmICggISBhYW5GZWF0dXJlc1tjT3B0aW9uXSApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRhYW5GZWF0dXJlc1tjT3B0aW9uXSA9IFtdO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRhYW5GZWF0dXJlc1tjT3B0aW9uXS5wdXNoKCBmZWF0dXJlTm9kZSApO1xuXHRcdFx0XHRpbnNlcnQuYXBwZW5kKCBmZWF0dXJlTm9kZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0LyogQnVpbHQgb3VyIERPTSBzdHJ1Y3R1cmUgLSByZXBsYWNlIHRoZSBob2xkaW5nIGRpdiB3aXRoIHdoYXQgd2Ugd2FudCAqL1xuXHRcdGhvbGRpbmcucmVwbGFjZVdpdGgoIGluc2VydCApO1xuXHRcdG9TZXR0aW5ncy5uSG9sZGluZyA9IG51bGw7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogVXNlIHRoZSBET00gc291cmNlIHRvIGNyZWF0ZSB1cCBhbiBhcnJheSBvZiBoZWFkZXIgY2VsbHMuIFRoZSBpZGVhIGhlcmUgaXMgdG9cblx0ICogY3JlYXRlIGEgbGF5b3V0IGdyaWQgKGFycmF5KSBvZiByb3dzIHggY29sdW1ucywgd2hpY2ggY29udGFpbnMgYSByZWZlcmVuY2Vcblx0ICogdG8gdGhlIGNlbGwgdGhhdCB0aGF0IHBvaW50IGluIHRoZSBncmlkIChyZWdhcmRsZXNzIG9mIGNvbC9yb3dzcGFuKSwgc3VjaCB0aGF0XG5cdCAqIGFueSBjb2x1bW4gLyByb3cgY291bGQgYmUgcmVtb3ZlZCBhbmQgdGhlIG5ldyBncmlkIGNvbnN0cnVjdGVkXG5cdCAqICBAcGFyYW0gYXJyYXkge29iamVjdH0gYUxheW91dCBBcnJheSB0byBzdG9yZSB0aGUgY2FsY3VsYXRlZCBsYXlvdXQgaW5cblx0ICogIEBwYXJhbSB7bm9kZX0gblRoZWFkIFRoZSBoZWFkZXIvZm9vdGVyIGVsZW1lbnQgZm9yIHRoZSB0YWJsZVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5EZXRlY3RIZWFkZXIgKCBhTGF5b3V0LCBuVGhlYWQgKVxuXHR7XG5cdFx0dmFyIG5UcnMgPSAkKG5UaGVhZCkuY2hpbGRyZW4oJ3RyJyk7XG5cdFx0dmFyIG5UciwgbkNlbGw7XG5cdFx0dmFyIGksIGssIGwsIGlMZW4sIGpMZW4sIGlDb2xTaGlmdGVkLCBpQ29sdW1uLCBpQ29sc3BhbiwgaVJvd3NwYW47XG5cdFx0dmFyIGJVbmlxdWU7XG5cdFx0dmFyIGZuU2hpZnRDb2wgPSBmdW5jdGlvbiAoIGEsIGksIGogKSB7XG5cdFx0XHR2YXIgayA9IGFbaV07XG5cdCAgICAgICAgICAgICAgICB3aGlsZSAoIGtbal0gKSB7XG5cdFx0XHRcdGorKztcblx0XHRcdH1cblx0XHRcdHJldHVybiBqO1xuXHRcdH07XG5cdFxuXHRcdGFMYXlvdXQuc3BsaWNlKCAwLCBhTGF5b3V0Lmxlbmd0aCApO1xuXHRcblx0XHQvKiBXZSBrbm93IGhvdyBtYW55IHJvd3MgdGhlcmUgYXJlIGluIHRoZSBsYXlvdXQgLSBzbyBwcmVwIGl0ICovXG5cdFx0Zm9yICggaT0wLCBpTGVuPW5UcnMubGVuZ3RoIDsgaTxpTGVuIDsgaSsrIClcblx0XHR7XG5cdFx0XHRhTGF5b3V0LnB1c2goIFtdICk7XG5cdFx0fVxuXHRcblx0XHQvKiBDYWxjdWxhdGUgYSBsYXlvdXQgYXJyYXkgKi9cblx0XHRmb3IgKCBpPTAsIGlMZW49blRycy5sZW5ndGggOyBpPGlMZW4gOyBpKysgKVxuXHRcdHtcblx0XHRcdG5UciA9IG5UcnNbaV07XG5cdFx0XHRpQ29sdW1uID0gMDtcblx0XG5cdFx0XHQvKiBGb3IgZXZlcnkgY2VsbCBpbiB0aGUgcm93Li4uICovXG5cdFx0XHRuQ2VsbCA9IG5Uci5maXJzdENoaWxkO1xuXHRcdFx0d2hpbGUgKCBuQ2VsbCApIHtcblx0XHRcdFx0aWYgKCBuQ2VsbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09IFwiVERcIiB8fFxuXHRcdFx0XHQgICAgIG5DZWxsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT0gXCJUSFwiIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8qIEdldCB0aGUgY29sIGFuZCByb3dzcGFuIGF0dHJpYnV0ZXMgZnJvbSB0aGUgRE9NIGFuZCBzYW5pdGlzZSB0aGVtICovXG5cdFx0XHRcdFx0aUNvbHNwYW4gPSBuQ2VsbC5nZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nKSAqIDE7XG5cdFx0XHRcdFx0aVJvd3NwYW4gPSBuQ2VsbC5nZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nKSAqIDE7XG5cdFx0XHRcdFx0aUNvbHNwYW4gPSAoIWlDb2xzcGFuIHx8IGlDb2xzcGFuPT09MCB8fCBpQ29sc3Bhbj09PTEpID8gMSA6IGlDb2xzcGFuO1xuXHRcdFx0XHRcdGlSb3dzcGFuID0gKCFpUm93c3BhbiB8fCBpUm93c3Bhbj09PTAgfHwgaVJvd3NwYW49PT0xKSA/IDEgOiBpUm93c3Bhbjtcblx0XG5cdFx0XHRcdFx0LyogVGhlcmUgbWlnaHQgYmUgY29sc3BhbiBjZWxscyBhbHJlYWR5IGluIHRoaXMgcm93LCBzbyBzaGlmdCBvdXIgdGFyZ2V0XG5cdFx0XHRcdFx0ICogYWNjb3JkaW5nbHlcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRpQ29sU2hpZnRlZCA9IGZuU2hpZnRDb2woIGFMYXlvdXQsIGksIGlDb2x1bW4gKTtcblx0XG5cdFx0XHRcdFx0LyogQ2FjaGUgY2FsY3VsYXRpb24gZm9yIHVuaXF1ZSBjb2x1bW5zICovXG5cdFx0XHRcdFx0YlVuaXF1ZSA9IGlDb2xzcGFuID09PSAxID8gdHJ1ZSA6IGZhbHNlO1xuXHRcblx0XHRcdFx0XHQvKiBJZiB0aGVyZSBpcyBjb2wgLyByb3dzcGFuLCBjb3B5IHRoZSBpbmZvcm1hdGlvbiBpbnRvIHRoZSBsYXlvdXQgZ3JpZCAqL1xuXHRcdFx0XHRcdGZvciAoIGw9MCA7IGw8aUNvbHNwYW4gOyBsKysgKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGZvciAoIGs9MCA7IGs8aVJvd3NwYW4gOyBrKysgKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRhTGF5b3V0W2kra11baUNvbFNoaWZ0ZWQrbF0gPSB7XG5cdFx0XHRcdFx0XHRcdFx0XCJjZWxsXCI6IG5DZWxsLFxuXHRcdFx0XHRcdFx0XHRcdFwidW5pcXVlXCI6IGJVbmlxdWVcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0YUxheW91dFtpK2tdLm5UciA9IG5Ucjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bkNlbGwgPSBuQ2VsbC5uZXh0U2libGluZztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogR2V0IGFuIGFycmF5IG9mIHVuaXF1ZSB0aCBlbGVtZW50cywgb25lIGZvciBlYWNoIGNvbHVtblxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtub2RlfSBuSGVhZGVyIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHRoZSBsYXlvdXQgZnJvbSB0aGlzIG5vZGUgLSBvcHRpb25hbFxuXHQgKiAgQHBhcmFtIHthcnJheX0gYUxheW91dCB0aGVhZC90Zm9vdCBsYXlvdXQgZnJvbSBfZm5EZXRlY3RIZWFkZXIgLSBvcHRpb25hbFxuXHQgKiAgQHJldHVybnMgYXJyYXkge25vZGV9IGFSZXR1cm4gbGlzdCBvZiB1bmlxdWUgdGgnc1xuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5HZXRVbmlxdWVUaHMgKCBvU2V0dGluZ3MsIG5IZWFkZXIsIGFMYXlvdXQgKVxuXHR7XG5cdFx0dmFyIGFSZXR1cm4gPSBbXTtcblx0XHRpZiAoICFhTGF5b3V0IClcblx0XHR7XG5cdFx0XHRhTGF5b3V0ID0gb1NldHRpbmdzLmFvSGVhZGVyO1xuXHRcdFx0aWYgKCBuSGVhZGVyIClcblx0XHRcdHtcblx0XHRcdFx0YUxheW91dCA9IFtdO1xuXHRcdFx0XHRfZm5EZXRlY3RIZWFkZXIoIGFMYXlvdXQsIG5IZWFkZXIgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdGZvciAoIHZhciBpPTAsIGlMZW49YUxheW91dC5sZW5ndGggOyBpPGlMZW4gOyBpKysgKVxuXHRcdHtcblx0XHRcdGZvciAoIHZhciBqPTAsIGpMZW49YUxheW91dFtpXS5sZW5ndGggOyBqPGpMZW4gOyBqKysgKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoIGFMYXlvdXRbaV1bal0udW5pcXVlICYmXG5cdFx0XHRcdFx0ICghYVJldHVybltqXSB8fCAhb1NldHRpbmdzLmJTb3J0Q2VsbHNUb3ApIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFSZXR1cm5bal0gPSBhTGF5b3V0W2ldW2pdLmNlbGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBhUmV0dXJuO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGFuIEFqYXggY2FsbCBiYXNlZCBvbiB0aGUgdGFibGUncyBzZXR0aW5ncywgdGFraW5nIGludG8gYWNjb3VudCB0aGF0XG5cdCAqIHBhcmFtZXRlcnMgY2FuIGhhdmUgbXVsdGlwbGUgZm9ybXMsIGFuZCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiBAcGFyYW0ge2FycmF5fSBkYXRhIERhdGEgdG8gc2VuZCB0byB0aGUgc2VydmVyLCByZXF1aXJlZCBieVxuXHQgKiAgICAgRGF0YVRhYmxlcyAtIG1heSBiZSBhdWdtZW50ZWQgYnkgZGV2ZWxvcGVyIGNhbGxiYWNrc1xuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiBDYWxsYmFjayBmdW5jdGlvbiB0byBydW4gd2hlbiBkYXRhIGlzIG9idGFpbmVkXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5CdWlsZEFqYXgoIG9TZXR0aW5ncywgZGF0YSwgZm4gKVxuXHR7XG5cdFx0Ly8gQ29tcGF0aWJpbGl0eSB3aXRoIDEuOS0sIGFsbG93IGZuU2VydmVyRGF0YSBhbmQgZXZlbnQgdG8gbWFuaXB1bGF0ZVxuXHRcdF9mbkNhbGxiYWNrRmlyZSggb1NldHRpbmdzLCAnYW9TZXJ2ZXJQYXJhbXMnLCAnc2VydmVyUGFyYW1zJywgW2RhdGFdICk7XG5cdFxuXHRcdC8vIENvbnZlcnQgdG8gb2JqZWN0IGJhc2VkIGZvciAxLjEwKyBpZiB1c2luZyB0aGUgb2xkIGFycmF5IHNjaGVtZSB3aGljaCBjYW5cblx0XHQvLyBjb21lIGZyb20gc2VydmVyLXNpZGUgcHJvY2Vzc2luZyBvciBzZXJ2ZXJQYXJhbXNcblx0XHRpZiAoIGRhdGEgJiYgJC5pc0FycmF5KGRhdGEpICkge1xuXHRcdFx0dmFyIHRtcCA9IHt9O1xuXHRcdFx0dmFyIHJicmFja2V0ID0gLyguKj8pXFxbXFxdJC87XG5cdFxuXHRcdFx0JC5lYWNoKCBkYXRhLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcblx0XHRcdFx0dmFyIG1hdGNoID0gdmFsLm5hbWUubWF0Y2gocmJyYWNrZXQpO1xuXHRcblx0XHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0XHQvLyBTdXBwb3J0IGZvciBhcnJheXNcblx0XHRcdFx0XHR2YXIgbmFtZSA9IG1hdGNoWzBdO1xuXHRcblx0XHRcdFx0XHRpZiAoICEgdG1wWyBuYW1lIF0gKSB7XG5cdFx0XHRcdFx0XHR0bXBbIG5hbWUgXSA9IFtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0bXBbIG5hbWUgXS5wdXNoKCB2YWwudmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR0bXBbdmFsLm5hbWVdID0gdmFsLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRkYXRhID0gdG1wO1xuXHRcdH1cblx0XG5cdFx0dmFyIGFqYXhEYXRhO1xuXHRcdHZhciBhamF4ID0gb1NldHRpbmdzLmFqYXg7XG5cdFx0dmFyIGluc3RhbmNlID0gb1NldHRpbmdzLm9JbnN0YW5jZTtcblx0XHR2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoIGpzb24gKSB7XG5cdFx0XHRfZm5DYWxsYmFja0ZpcmUoIG9TZXR0aW5ncywgbnVsbCwgJ3hocicsIFtvU2V0dGluZ3MsIGpzb24sIG9TZXR0aW5ncy5qcVhIUl0gKTtcblx0XHRcdGZuKCBqc29uICk7XG5cdFx0fTtcblx0XG5cdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIGFqYXggKSAmJiBhamF4LmRhdGEgKVxuXHRcdHtcblx0XHRcdGFqYXhEYXRhID0gYWpheC5kYXRhO1xuXHRcblx0XHRcdHZhciBuZXdEYXRhID0gJC5pc0Z1bmN0aW9uKCBhamF4RGF0YSApID9cblx0XHRcdFx0YWpheERhdGEoIGRhdGEsIG9TZXR0aW5ncyApIDogIC8vIGZuIGNhbiBtYW5pcHVsYXRlIGRhdGEgb3IgcmV0dXJuXG5cdFx0XHRcdGFqYXhEYXRhOyAgICAgICAgICAgICAgICAgICAgICAvLyBhbiBvYmplY3Qgb2JqZWN0IG9yIGFycmF5IHRvIG1lcmdlXG5cdFxuXHRcdFx0Ly8gSWYgdGhlIGZ1bmN0aW9uIHJldHVybmVkIHNvbWV0aGluZywgdXNlIHRoYXQgYWxvbmVcblx0XHRcdGRhdGEgPSAkLmlzRnVuY3Rpb24oIGFqYXhEYXRhICkgJiYgbmV3RGF0YSA/XG5cdFx0XHRcdG5ld0RhdGEgOlxuXHRcdFx0XHQkLmV4dGVuZCggdHJ1ZSwgZGF0YSwgbmV3RGF0YSApO1xuXHRcblx0XHRcdC8vIFJlbW92ZSB0aGUgZGF0YSBwcm9wZXJ0eSBhcyB3ZSd2ZSByZXNvbHZlZCBpdCBhbHJlYWR5IGFuZCBkb24ndCB3YW50XG5cdFx0XHQvLyBqUXVlcnkgdG8gZG8gaXQgYWdhaW4gKGl0IGlzIHJlc3RvcmVkIGF0IHRoZSBlbmQgb2YgdGhlIGZ1bmN0aW9uKVxuXHRcdFx0ZGVsZXRlIGFqYXguZGF0YTtcblx0XHR9XG5cdFxuXHRcdHZhciBiYXNlQWpheCA9IHtcblx0XHRcdFwiZGF0YVwiOiBkYXRhLFxuXHRcdFx0XCJzdWNjZXNzXCI6IGZ1bmN0aW9uIChqc29uKSB7XG5cdFx0XHRcdHZhciBlcnJvciA9IGpzb24uZXJyb3IgfHwganNvbi5zRXJyb3I7XG5cdFx0XHRcdGlmICggZXJyb3IgKSB7XG5cdFx0XHRcdFx0X2ZuTG9nKCBvU2V0dGluZ3MsIDAsIGVycm9yICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdG9TZXR0aW5ncy5qc29uID0ganNvbjtcblx0XHRcdFx0Y2FsbGJhY2soIGpzb24gKTtcblx0XHRcdH0sXG5cdFx0XHRcImRhdGFUeXBlXCI6IFwianNvblwiLFxuXHRcdFx0XCJjYWNoZVwiOiBmYWxzZSxcblx0XHRcdFwidHlwZVwiOiBvU2V0dGluZ3Muc1NlcnZlck1ldGhvZCxcblx0XHRcdFwiZXJyb3JcIjogZnVuY3Rpb24gKHhociwgZXJyb3IsIHRocm93bikge1xuXHRcdFx0XHR2YXIgcmV0ID0gX2ZuQ2FsbGJhY2tGaXJlKCBvU2V0dGluZ3MsIG51bGwsICd4aHInLCBbb1NldHRpbmdzLCBudWxsLCBvU2V0dGluZ3MuanFYSFJdICk7XG5cdFxuXHRcdFx0XHRpZiAoICQuaW5BcnJheSggdHJ1ZSwgcmV0ICkgPT09IC0xICkge1xuXHRcdFx0XHRcdGlmICggZXJyb3IgPT0gXCJwYXJzZXJlcnJvclwiICkge1xuXHRcdFx0XHRcdFx0X2ZuTG9nKCBvU2V0dGluZ3MsIDAsICdJbnZhbGlkIEpTT04gcmVzcG9uc2UnLCAxICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblx0XHRcdFx0XHRcdF9mbkxvZyggb1NldHRpbmdzLCAwLCAnQWpheCBlcnJvcicsIDcgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBvU2V0dGluZ3MsIGZhbHNlICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0Ly8gU3RvcmUgdGhlIGRhdGEgc3VibWl0dGVkIGZvciB0aGUgQVBJXG5cdFx0b1NldHRpbmdzLm9BamF4RGF0YSA9IGRhdGE7XG5cdFxuXHRcdC8vIEFsbG93IHBsdWctaW5zIGFuZCBleHRlcm5hbCBwcm9jZXNzZXMgdG8gbW9kaWZ5IHRoZSBkYXRhXG5cdFx0X2ZuQ2FsbGJhY2tGaXJlKCBvU2V0dGluZ3MsIG51bGwsICdwcmVYaHInLCBbb1NldHRpbmdzLCBkYXRhXSApO1xuXHRcblx0XHRpZiAoIG9TZXR0aW5ncy5mblNlcnZlckRhdGEgKVxuXHRcdHtcblx0XHRcdC8vIERhdGFUYWJsZXMgMS45LSBjb21wYXRpYmlsaXR5XG5cdFx0XHRvU2V0dGluZ3MuZm5TZXJ2ZXJEYXRhLmNhbGwoIGluc3RhbmNlLFxuXHRcdFx0XHRvU2V0dGluZ3Muc0FqYXhTb3VyY2UsXG5cdFx0XHRcdCQubWFwKCBkYXRhLCBmdW5jdGlvbiAodmFsLCBrZXkpIHsgLy8gTmVlZCB0byBjb252ZXJ0IGJhY2sgdG8gMS45IHRyYWQgZm9ybWF0XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZToga2V5LCB2YWx1ZTogdmFsIH07XG5cdFx0XHRcdH0gKSxcblx0XHRcdFx0Y2FsbGJhY2ssXG5cdFx0XHRcdG9TZXR0aW5nc1xuXHRcdFx0KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIG9TZXR0aW5ncy5zQWpheFNvdXJjZSB8fCB0eXBlb2YgYWpheCA9PT0gJ3N0cmluZycgKVxuXHRcdHtcblx0XHRcdC8vIERhdGFUYWJsZXMgMS45LSBjb21wYXRpYmlsaXR5XG5cdFx0XHRvU2V0dGluZ3MuanFYSFIgPSAkLmFqYXgoICQuZXh0ZW5kKCBiYXNlQWpheCwge1xuXHRcdFx0XHR1cmw6IGFqYXggfHwgb1NldHRpbmdzLnNBamF4U291cmNlXG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoICQuaXNGdW5jdGlvbiggYWpheCApIClcblx0XHR7XG5cdFx0XHQvLyBJcyBhIGZ1bmN0aW9uIC0gbGV0IHRoZSBjYWxsZXIgZGVmaW5lIHdoYXQgbmVlZHMgdG8gYmUgZG9uZVxuXHRcdFx0b1NldHRpbmdzLmpxWEhSID0gYWpheC5jYWxsKCBpbnN0YW5jZSwgZGF0YSwgY2FsbGJhY2ssIG9TZXR0aW5ncyApO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Ly8gT2JqZWN0IHRvIGV4dGVuZCB0aGUgYmFzZSBzZXR0aW5nc1xuXHRcdFx0b1NldHRpbmdzLmpxWEhSID0gJC5hamF4KCAkLmV4dGVuZCggYmFzZUFqYXgsIGFqYXggKSApO1xuXHRcblx0XHRcdC8vIFJlc3RvcmUgZm9yIG5leHQgdGltZSBhcm91bmRcblx0XHRcdGFqYXguZGF0YSA9IGFqYXhEYXRhO1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIHRhYmxlIHVzaW5nIGFuIEFqYXggY2FsbFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcmV0dXJucyB7Ym9vbGVhbn0gQmxvY2sgdGhlIHRhYmxlIGRyYXdpbmcgb3Igbm90XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkFqYXhVcGRhdGUoIHNldHRpbmdzIClcblx0e1xuXHRcdGlmICggc2V0dGluZ3MuYkFqYXhEYXRhR2V0ICkge1xuXHRcdFx0c2V0dGluZ3MuaURyYXcrKztcblx0XHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBzZXR0aW5ncywgdHJ1ZSApO1xuXHRcblx0XHRcdF9mbkJ1aWxkQWpheChcblx0XHRcdFx0c2V0dGluZ3MsXG5cdFx0XHRcdF9mbkFqYXhQYXJhbWV0ZXJzKCBzZXR0aW5ncyApLFxuXHRcdFx0XHRmdW5jdGlvbihqc29uKSB7XG5cdFx0XHRcdFx0X2ZuQWpheFVwZGF0ZURyYXcoIHNldHRpbmdzLCBqc29uICk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBCdWlsZCB1cCB0aGUgcGFyYW1ldGVycyBpbiBhbiBvYmplY3QgbmVlZGVkIGZvciBhIHNlcnZlci1zaWRlIHByb2Nlc3Npbmdcblx0ICogcmVxdWVzdC4gTm90ZSB0aGF0IHRoaXMgaXMgYmFzaWNhbGx5IGRvbmUgdHdpY2UsIGlzIGRpZmZlcmVudCB3YXlzIC0gYSBtb2Rlcm5cblx0ICogbWV0aG9kIHdoaWNoIGlzIHVzZWQgYnkgZGVmYXVsdCBpbiBEYXRhVGFibGVzIDEuMTAgd2hpY2ggdXNlcyBvYmplY3RzIGFuZFxuXHQgKiBhcnJheXMsIG9yIHRoZSAxLjktIG1ldGhvZCB3aXRoIGlzIG5hbWUgLyB2YWx1ZSBwYWlycy4gMS45IG1ldGhvZCBpcyB1c2VkIGlmXG5cdCAqIHRoZSBzQWpheFNvdXJjZSBvcHRpb24gaXMgdXNlZCBpbiB0aGUgaW5pdGlhbGlzYXRpb24sIG9yIHRoZSBsZWdhY3lBamF4XG5cdCAqIG9wdGlvbiBpcyBzZXQuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcmV0dXJucyB7Ym9vbH0gYmxvY2sgdGhlIHRhYmxlIGRyYXdpbmcgb3Igbm90XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkFqYXhQYXJhbWV0ZXJzKCBzZXR0aW5ncyApXG5cdHtcblx0XHR2YXJcblx0XHRcdGNvbHVtbnMgPSBzZXR0aW5ncy5hb0NvbHVtbnMsXG5cdFx0XHRjb2x1bW5Db3VudCA9IGNvbHVtbnMubGVuZ3RoLFxuXHRcdFx0ZmVhdHVyZXMgPSBzZXR0aW5ncy5vRmVhdHVyZXMsXG5cdFx0XHRwcmVTZWFyY2ggPSBzZXR0aW5ncy5vUHJldmlvdXNTZWFyY2gsXG5cdFx0XHRwcmVDb2xTZWFyY2ggPSBzZXR0aW5ncy5hb1ByZVNlYXJjaENvbHMsXG5cdFx0XHRpLCBkYXRhID0gW10sIGRhdGFQcm9wLCBjb2x1bW4sIGNvbHVtblNlYXJjaCxcblx0XHRcdHNvcnQgPSBfZm5Tb3J0RmxhdHRlbiggc2V0dGluZ3MgKSxcblx0XHRcdGRpc3BsYXlTdGFydCA9IHNldHRpbmdzLl9pRGlzcGxheVN0YXJ0LFxuXHRcdFx0ZGlzcGxheUxlbmd0aCA9IGZlYXR1cmVzLmJQYWdpbmF0ZSAhPT0gZmFsc2UgP1xuXHRcdFx0XHRzZXR0aW5ncy5faURpc3BsYXlMZW5ndGggOlxuXHRcdFx0XHQtMTtcblx0XG5cdFx0dmFyIHBhcmFtID0gZnVuY3Rpb24gKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdGRhdGEucHVzaCggeyAnbmFtZSc6IG5hbWUsICd2YWx1ZSc6IHZhbHVlIH0gKTtcblx0XHR9O1xuXHRcblx0XHQvLyBEYXRhVGFibGVzIDEuOS0gY29tcGF0aWJsZSBtZXRob2Rcblx0XHRwYXJhbSggJ3NFY2hvJywgICAgICAgICAgc2V0dGluZ3MuaURyYXcgKTtcblx0XHRwYXJhbSggJ2lDb2x1bW5zJywgICAgICAgY29sdW1uQ291bnQgKTtcblx0XHRwYXJhbSggJ3NDb2x1bW5zJywgICAgICAgX3BsdWNrKCBjb2x1bW5zLCAnc05hbWUnICkuam9pbignLCcpICk7XG5cdFx0cGFyYW0oICdpRGlzcGxheVN0YXJ0JywgIGRpc3BsYXlTdGFydCApO1xuXHRcdHBhcmFtKCAnaURpc3BsYXlMZW5ndGgnLCBkaXNwbGF5TGVuZ3RoICk7XG5cdFxuXHRcdC8vIERhdGFUYWJsZXMgMS4xMCsgbWV0aG9kXG5cdFx0dmFyIGQgPSB7XG5cdFx0XHRkcmF3OiAgICBzZXR0aW5ncy5pRHJhdyxcblx0XHRcdGNvbHVtbnM6IFtdLFxuXHRcdFx0b3JkZXI6ICAgW10sXG5cdFx0XHRzdGFydDogICBkaXNwbGF5U3RhcnQsXG5cdFx0XHRsZW5ndGg6ICBkaXNwbGF5TGVuZ3RoLFxuXHRcdFx0c2VhcmNoOiAge1xuXHRcdFx0XHR2YWx1ZTogcHJlU2VhcmNoLnNTZWFyY2gsXG5cdFx0XHRcdHJlZ2V4OiBwcmVTZWFyY2guYlJlZ2V4XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0Zm9yICggaT0wIDsgaTxjb2x1bW5Db3VudCA7IGkrKyApIHtcblx0XHRcdGNvbHVtbiA9IGNvbHVtbnNbaV07XG5cdFx0XHRjb2x1bW5TZWFyY2ggPSBwcmVDb2xTZWFyY2hbaV07XG5cdFx0XHRkYXRhUHJvcCA9IHR5cGVvZiBjb2x1bW4ubURhdGE9PVwiZnVuY3Rpb25cIiA/ICdmdW5jdGlvbicgOiBjb2x1bW4ubURhdGEgO1xuXHRcblx0XHRcdGQuY29sdW1ucy5wdXNoKCB7XG5cdFx0XHRcdGRhdGE6ICAgICAgIGRhdGFQcm9wLFxuXHRcdFx0XHRuYW1lOiAgICAgICBjb2x1bW4uc05hbWUsXG5cdFx0XHRcdHNlYXJjaGFibGU6IGNvbHVtbi5iU2VhcmNoYWJsZSxcblx0XHRcdFx0b3JkZXJhYmxlOiAgY29sdW1uLmJTb3J0YWJsZSxcblx0XHRcdFx0c2VhcmNoOiAgICAge1xuXHRcdFx0XHRcdHZhbHVlOiBjb2x1bW5TZWFyY2guc1NlYXJjaCxcblx0XHRcdFx0XHRyZWdleDogY29sdW1uU2VhcmNoLmJSZWdleFxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0cGFyYW0oIFwibURhdGFQcm9wX1wiK2ksIGRhdGFQcm9wICk7XG5cdFxuXHRcdFx0aWYgKCBmZWF0dXJlcy5iRmlsdGVyICkge1xuXHRcdFx0XHRwYXJhbSggJ3NTZWFyY2hfJytpLCAgICAgY29sdW1uU2VhcmNoLnNTZWFyY2ggKTtcblx0XHRcdFx0cGFyYW0oICdiUmVnZXhfJytpLCAgICAgIGNvbHVtblNlYXJjaC5iUmVnZXggKTtcblx0XHRcdFx0cGFyYW0oICdiU2VhcmNoYWJsZV8nK2ksIGNvbHVtbi5iU2VhcmNoYWJsZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggZmVhdHVyZXMuYlNvcnQgKSB7XG5cdFx0XHRcdHBhcmFtKCAnYlNvcnRhYmxlXycraSwgY29sdW1uLmJTb3J0YWJsZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0aWYgKCBmZWF0dXJlcy5iRmlsdGVyICkge1xuXHRcdFx0cGFyYW0oICdzU2VhcmNoJywgcHJlU2VhcmNoLnNTZWFyY2ggKTtcblx0XHRcdHBhcmFtKCAnYlJlZ2V4JywgcHJlU2VhcmNoLmJSZWdleCApO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBmZWF0dXJlcy5iU29ydCApIHtcblx0XHRcdCQuZWFjaCggc29ydCwgZnVuY3Rpb24gKCBpLCB2YWwgKSB7XG5cdFx0XHRcdGQub3JkZXIucHVzaCggeyBjb2x1bW46IHZhbC5jb2wsIGRpcjogdmFsLmRpciB9ICk7XG5cdFxuXHRcdFx0XHRwYXJhbSggJ2lTb3J0Q29sXycraSwgdmFsLmNvbCApO1xuXHRcdFx0XHRwYXJhbSggJ3NTb3J0RGlyXycraSwgdmFsLmRpciApO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdHBhcmFtKCAnaVNvcnRpbmdDb2xzJywgc29ydC5sZW5ndGggKTtcblx0XHR9XG5cdFxuXHRcdC8vIElmIHRoZSBsZWdhY3kuYWpheCBwYXJhbWV0ZXIgaXMgbnVsbCwgdGhlbiB3ZSBhdXRvbWF0aWNhbGx5IGRlY2lkZSB3aGljaFxuXHRcdC8vIGZvcm0gdG8gdXNlLCBiYXNlZCBvbiBzQWpheFNvdXJjZVxuXHRcdHZhciBsZWdhY3kgPSBEYXRhVGFibGUuZXh0LmxlZ2FjeS5hamF4O1xuXHRcdGlmICggbGVnYWN5ID09PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzLnNBamF4U291cmNlID8gZGF0YSA6IGQ7XG5cdFx0fVxuXHRcblx0XHQvLyBPdGhlcndpc2UsIGlmIGxlZ2FjeSBoYXMgYmVlbiBzcGVjaWZpZWQgdGhlbiB3ZSB1c2UgdGhhdCB0byBkZWNpZGUgb24gdGhlXG5cdFx0Ly8gZm9ybVxuXHRcdHJldHVybiBsZWdhY3kgPyBkYXRhIDogZDtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBEYXRhIHRoZSBkYXRhIGZyb20gdGhlIHNlcnZlciAobnVraW5nIHRoZSBvbGQpIGFuZCByZWRyYXcgdGhlIHRhYmxlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0ganNvbiBqc29uIGRhdGEgcmV0dXJuIGZyb20gdGhlIHNlcnZlci5cblx0ICogIEBwYXJhbSB7c3RyaW5nfSBqc29uLnNFY2hvIFRyYWNraW5nIGZsYWcgZm9yIERhdGFUYWJsZXMgdG8gbWF0Y2ggcmVxdWVzdHNcblx0ICogIEBwYXJhbSB7aW50fSBqc29uLmlUb3RhbFJlY29yZHMgTnVtYmVyIG9mIHJlY29yZHMgaW4gdGhlIGRhdGEgc2V0LCBub3QgYWNjb3VudGluZyBmb3IgZmlsdGVyaW5nXG5cdCAqICBAcGFyYW0ge2ludH0ganNvbi5pVG90YWxEaXNwbGF5UmVjb3JkcyBOdW1iZXIgb2YgcmVjb3JkcyBpbiB0aGUgZGF0YSBzZXQsIGFjY291bnRpbmcgZm9yIGZpbHRlcmluZ1xuXHQgKiAgQHBhcmFtIHthcnJheX0ganNvbi5hYURhdGEgVGhlIGRhdGEgdG8gZGlzcGxheSBvbiB0aGlzIHBhZ2Vcblx0ICogIEBwYXJhbSB7c3RyaW5nfSBbanNvbi5zQ29sdW1uc10gQ29sdW1uIG9yZGVyaW5nIChzTmFtZSwgY29tbWEgc2VwYXJhdGVkKVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5BamF4VXBkYXRlRHJhdyAoIHNldHRpbmdzLCBqc29uIClcblx0e1xuXHRcdC8vIHYxLjEwIHVzZXMgY2FtZWxDYXNlIHZhcmlhYmxlcywgd2hpbGUgMS45IHVzZXMgSHVuZ2FyaWFuIG5vdGF0aW9uLlxuXHRcdC8vIFN1cHBvcnQgYm90aFxuXHRcdHZhciBjb21wYXQgPSBmdW5jdGlvbiAoIG9sZCwgbW9kZXJuICkge1xuXHRcdFx0cmV0dXJuIGpzb25bb2xkXSAhPT0gdW5kZWZpbmVkID8ganNvbltvbGRdIDoganNvblttb2Rlcm5dO1xuXHRcdH07XG5cdFxuXHRcdHZhciBkYXRhID0gX2ZuQWpheERhdGFTcmMoIHNldHRpbmdzLCBqc29uICk7XG5cdFx0dmFyIGRyYXcgICAgICAgICAgICA9IGNvbXBhdCggJ3NFY2hvJywgICAgICAgICAgICAgICAgJ2RyYXcnICk7XG5cdFx0dmFyIHJlY29yZHNUb3RhbCAgICA9IGNvbXBhdCggJ2lUb3RhbFJlY29yZHMnLCAgICAgICAgJ3JlY29yZHNUb3RhbCcgKTtcblx0XHR2YXIgcmVjb3Jkc0ZpbHRlcmVkID0gY29tcGF0KCAnaVRvdGFsRGlzcGxheVJlY29yZHMnLCAncmVjb3Jkc0ZpbHRlcmVkJyApO1xuXHRcblx0XHRpZiAoIGRyYXcgKSB7XG5cdFx0XHQvLyBQcm90ZWN0IGFnYWluc3Qgb3V0IG9mIHNlcXVlbmNlIHJldHVybnNcblx0XHRcdGlmICggZHJhdyoxIDwgc2V0dGluZ3MuaURyYXcgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHNldHRpbmdzLmlEcmF3ID0gZHJhdyAqIDE7XG5cdFx0fVxuXHRcblx0XHRfZm5DbGVhclRhYmxlKCBzZXR0aW5ncyApO1xuXHRcdHNldHRpbmdzLl9pUmVjb3Jkc1RvdGFsICAgPSBwYXJzZUludChyZWNvcmRzVG90YWwsIDEwKTtcblx0XHRzZXR0aW5ncy5faVJlY29yZHNEaXNwbGF5ID0gcGFyc2VJbnQocmVjb3Jkc0ZpbHRlcmVkLCAxMCk7XG5cdFxuXHRcdGZvciAoIHZhciBpPTAsIGllbj1kYXRhLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0X2ZuQWRkRGF0YSggc2V0dGluZ3MsIGRhdGFbaV0gKTtcblx0XHR9XG5cdFx0c2V0dGluZ3MuYWlEaXNwbGF5ID0gc2V0dGluZ3MuYWlEaXNwbGF5TWFzdGVyLnNsaWNlKCk7XG5cdFxuXHRcdHNldHRpbmdzLmJBamF4RGF0YUdldCA9IGZhbHNlO1xuXHRcdF9mbkRyYXcoIHNldHRpbmdzICk7XG5cdFxuXHRcdGlmICggISBzZXR0aW5ncy5fYkluaXRDb21wbGV0ZSApIHtcblx0XHRcdF9mbkluaXRDb21wbGV0ZSggc2V0dGluZ3MsIGpzb24gKTtcblx0XHR9XG5cdFxuXHRcdHNldHRpbmdzLmJBamF4RGF0YUdldCA9IHRydWU7XG5cdFx0X2ZuUHJvY2Vzc2luZ0Rpc3BsYXkoIHNldHRpbmdzLCBmYWxzZSApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgZGF0YSBmcm9tIHRoZSBKU09OIGRhdGEgc291cmNlIHRvIHVzZSBmb3IgZHJhd2luZyBhIHRhYmxlLiBVc2luZ1xuXHQgKiBgX2ZuR2V0T2JqZWN0RGF0YUZuYCBhbGxvd3MgdGhlIGRhdGEgdG8gYmUgc291cmNlZCBmcm9tIGEgcHJvcGVydHkgb2YgdGhlXG5cdCAqIHNvdXJjZSBvYmplY3QsIG9yIGZyb20gYSBwcm9jZXNzaW5nIGZ1bmN0aW9uLlxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtICB7b2JqZWN0fSBqc29uIERhdGEgc291cmNlIG9iamVjdCAvIGFycmF5IGZyb20gdGhlIHNlcnZlclxuXHQgKiAgQHJldHVybiB7YXJyYXl9IEFycmF5IG9mIGRhdGEgdG8gdXNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5BamF4RGF0YVNyYyAoIG9TZXR0aW5ncywganNvbiApXG5cdHtcblx0XHR2YXIgZGF0YVNyYyA9ICQuaXNQbGFpbk9iamVjdCggb1NldHRpbmdzLmFqYXggKSAmJiBvU2V0dGluZ3MuYWpheC5kYXRhU3JjICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0b1NldHRpbmdzLmFqYXguZGF0YVNyYyA6XG5cdFx0XHRvU2V0dGluZ3Muc0FqYXhEYXRhUHJvcDsgLy8gQ29tcGF0aWJpbGl0eSB3aXRoIDEuOS0uXG5cdFxuXHRcdC8vIENvbXBhdGliaWxpdHkgd2l0aCAxLjktLiBJbiBvcmRlciB0byByZWFkIGZyb20gYWFEYXRhLCBjaGVjayBpZiB0aGVcblx0XHQvLyBkZWZhdWx0IGhhcyBiZWVuIGNoYW5nZWQsIGlmIG5vdCwgY2hlY2sgZm9yIGFhRGF0YVxuXHRcdGlmICggZGF0YVNyYyA9PT0gJ2RhdGEnICkge1xuXHRcdFx0cmV0dXJuIGpzb24uYWFEYXRhIHx8IGpzb25bZGF0YVNyY107XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZGF0YVNyYyAhPT0gXCJcIiA/XG5cdFx0XHRfZm5HZXRPYmplY3REYXRhRm4oIGRhdGFTcmMgKSgganNvbiApIDpcblx0XHRcdGpzb247XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSB0aGUgbm9kZSByZXF1aXJlZCBmb3IgZmlsdGVyaW5nIHRleHRcblx0ICogIEByZXR1cm5zIHtub2RlfSBGaWx0ZXIgY29udHJvbCBlbGVtZW50XG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkZlYXR1cmVIdG1sRmlsdGVyICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyIGNsYXNzZXMgPSBzZXR0aW5ncy5vQ2xhc3Nlcztcblx0XHR2YXIgdGFibGVJZCA9IHNldHRpbmdzLnNUYWJsZUlkO1xuXHRcdHZhciBsYW5ndWFnZSA9IHNldHRpbmdzLm9MYW5ndWFnZTtcblx0XHR2YXIgcHJldmlvdXNTZWFyY2ggPSBzZXR0aW5ncy5vUHJldmlvdXNTZWFyY2g7XG5cdFx0dmFyIGZlYXR1cmVzID0gc2V0dGluZ3MuYWFuRmVhdHVyZXM7XG5cdFx0dmFyIGlucHV0ID0gJzxpbnB1dCB0eXBlPVwic2VhcmNoXCIgY2xhc3M9XCInK2NsYXNzZXMuc0ZpbHRlcklucHV0KydcIi8+Jztcblx0XG5cdFx0dmFyIHN0ciA9IGxhbmd1YWdlLnNTZWFyY2g7XG5cdFx0c3RyID0gc3RyLm1hdGNoKC9fSU5QVVRfLykgP1xuXHRcdFx0c3RyLnJlcGxhY2UoJ19JTlBVVF8nLCBpbnB1dCkgOlxuXHRcdFx0c3RyK2lucHV0O1xuXHRcblx0XHR2YXIgZmlsdGVyID0gJCgnPGRpdi8+Jywge1xuXHRcdFx0XHQnaWQnOiAhIGZlYXR1cmVzLmYgPyB0YWJsZUlkKydfZmlsdGVyJyA6IG51bGwsXG5cdFx0XHRcdCdjbGFzcyc6IGNsYXNzZXMuc0ZpbHRlclxuXHRcdFx0fSApXG5cdFx0XHQuYXBwZW5kKCAkKCc8bGFiZWwvPicgKS5hcHBlbmQoIHN0ciApICk7XG5cdFxuXHRcdHZhciBzZWFyY2hGbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0LyogVXBkYXRlIGFsbCBvdGhlciBmaWx0ZXIgaW5wdXQgZWxlbWVudHMgZm9yIHRoZSBuZXcgZGlzcGxheSAqL1xuXHRcdFx0dmFyIG4gPSBmZWF0dXJlcy5mO1xuXHRcdFx0dmFyIHZhbCA9ICF0aGlzLnZhbHVlID8gXCJcIiA6IHRoaXMudmFsdWU7IC8vIG1lbnRhbCBJRTggZml4IDotKFxuXHRcblx0XHRcdC8qIE5vdyBkbyB0aGUgZmlsdGVyICovXG5cdFx0XHRpZiAoIHZhbCAhPSBwcmV2aW91c1NlYXJjaC5zU2VhcmNoICkge1xuXHRcdFx0XHRfZm5GaWx0ZXJDb21wbGV0ZSggc2V0dGluZ3MsIHtcblx0XHRcdFx0XHRcInNTZWFyY2hcIjogdmFsLFxuXHRcdFx0XHRcdFwiYlJlZ2V4XCI6IHByZXZpb3VzU2VhcmNoLmJSZWdleCxcblx0XHRcdFx0XHRcImJTbWFydFwiOiBwcmV2aW91c1NlYXJjaC5iU21hcnQgLFxuXHRcdFx0XHRcdFwiYkNhc2VJbnNlbnNpdGl2ZVwiOiBwcmV2aW91c1NlYXJjaC5iQ2FzZUluc2Vuc2l0aXZlXG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdC8vIE5lZWQgdG8gcmVkcmF3LCB3aXRob3V0IHJlc29ydGluZ1xuXHRcdFx0XHRzZXR0aW5ncy5faURpc3BsYXlTdGFydCA9IDA7XG5cdFx0XHRcdF9mbkRyYXcoIHNldHRpbmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0dmFyIHNlYXJjaERlbGF5ID0gc2V0dGluZ3Muc2VhcmNoRGVsYXkgIT09IG51bGwgP1xuXHRcdFx0c2V0dGluZ3Muc2VhcmNoRGVsYXkgOlxuXHRcdFx0X2ZuRGF0YVNvdXJjZSggc2V0dGluZ3MgKSA9PT0gJ3NzcCcgP1xuXHRcdFx0XHQ0MDAgOlxuXHRcdFx0XHQwO1xuXHRcblx0XHR2YXIganFGaWx0ZXIgPSAkKCdpbnB1dCcsIGZpbHRlcilcblx0XHRcdC52YWwoIHByZXZpb3VzU2VhcmNoLnNTZWFyY2ggKVxuXHRcdFx0LmF0dHIoICdwbGFjZWhvbGRlcicsIGxhbmd1YWdlLnNTZWFyY2hQbGFjZWhvbGRlciApXG5cdFx0XHQuYmluZChcblx0XHRcdFx0J2tleXVwLkRUIHNlYXJjaC5EVCBpbnB1dC5EVCBwYXN0ZS5EVCBjdXQuRFQnLFxuXHRcdFx0XHRzZWFyY2hEZWxheSA/XG5cdFx0XHRcdFx0X2ZuVGhyb3R0bGUoIHNlYXJjaEZuLCBzZWFyY2hEZWxheSApIDpcblx0XHRcdFx0XHRzZWFyY2hGblxuXHRcdFx0KVxuXHRcdFx0LmJpbmQoICdrZXlwcmVzcy5EVCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0LyogUHJldmVudCBmb3JtIHN1Ym1pc3Npb24gKi9cblx0XHRcdFx0aWYgKCBlLmtleUNvZGUgPT0gMTMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IClcblx0XHRcdC5hdHRyKCdhcmlhLWNvbnRyb2xzJywgdGFibGVJZCk7XG5cdFxuXHRcdC8vIFVwZGF0ZSB0aGUgaW5wdXQgZWxlbWVudHMgd2hlbmV2ZXIgdGhlIHRhYmxlIGlzIGZpbHRlcmVkXG5cdFx0JChzZXR0aW5ncy5uVGFibGUpLm9uKCAnc2VhcmNoLmR0LkRUJywgZnVuY3Rpb24gKCBldiwgcyApIHtcblx0XHRcdGlmICggc2V0dGluZ3MgPT09IHMgKSB7XG5cdFx0XHRcdC8vIElFOSB0aHJvd3MgYW4gJ3Vua25vd24gZXJyb3InIGlmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0XHQvLyBpbnNpZGUgYW4gaWZyYW1lIG9yIGZyYW1lLi4uXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0aWYgKCBqcUZpbHRlclswXSAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCApIHtcblx0XHRcdFx0XHRcdGpxRmlsdGVyLnZhbCggcHJldmlvdXNTZWFyY2guc1NlYXJjaCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIGZpbHRlclswXTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBGaWx0ZXIgdGhlIHRhYmxlIHVzaW5nIGJvdGggdGhlIGdsb2JhbCBmaWx0ZXIgYW5kIGNvbHVtbiBiYXNlZCBmaWx0ZXJpbmdcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2VhcmNoIHNlYXJjaCBpbmZvcm1hdGlvblxuXHQgKiAgQHBhcmFtIHtpbnR9IFtpRm9yY2VdIGZvcmNlIGEgcmVzZWFyY2ggb2YgdGhlIG1hc3RlciBhcnJheSAoMSkgb3Igbm90ICh1bmRlZmluZWQgb3IgMClcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRmlsdGVyQ29tcGxldGUgKCBvU2V0dGluZ3MsIG9JbnB1dCwgaUZvcmNlIClcblx0e1xuXHRcdHZhciBvUHJldlNlYXJjaCA9IG9TZXR0aW5ncy5vUHJldmlvdXNTZWFyY2g7XG5cdFx0dmFyIGFvUHJldlNlYXJjaCA9IG9TZXR0aW5ncy5hb1ByZVNlYXJjaENvbHM7XG5cdFx0dmFyIGZuU2F2ZUZpbHRlciA9IGZ1bmN0aW9uICggb0ZpbHRlciApIHtcblx0XHRcdC8qIFNhdmUgdGhlIGZpbHRlcmluZyB2YWx1ZXMgKi9cblx0XHRcdG9QcmV2U2VhcmNoLnNTZWFyY2ggPSBvRmlsdGVyLnNTZWFyY2g7XG5cdFx0XHRvUHJldlNlYXJjaC5iUmVnZXggPSBvRmlsdGVyLmJSZWdleDtcblx0XHRcdG9QcmV2U2VhcmNoLmJTbWFydCA9IG9GaWx0ZXIuYlNtYXJ0O1xuXHRcdFx0b1ByZXZTZWFyY2guYkNhc2VJbnNlbnNpdGl2ZSA9IG9GaWx0ZXIuYkNhc2VJbnNlbnNpdGl2ZTtcblx0XHR9O1xuXHRcdHZhciBmblJlZ2V4ID0gZnVuY3Rpb24gKCBvICkge1xuXHRcdFx0Ly8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgYkVzY2FwZVJlZ2V4IG9wdGlvblxuXHRcdFx0cmV0dXJuIG8uYkVzY2FwZVJlZ2V4ICE9PSB1bmRlZmluZWQgPyAhby5iRXNjYXBlUmVnZXggOiBvLmJSZWdleDtcblx0XHR9O1xuXHRcblx0XHQvLyBSZXNvbHZlIGFueSBjb2x1bW4gdHlwZXMgdGhhdCBhcmUgdW5rbm93biBkdWUgdG8gYWRkaXRpb24gb3IgaW52YWxpZGF0aW9uXG5cdFx0Ly8gQHRvZG8gQXMgcGVyIHNvcnQgLSBjYW4gdGhpcyBiZSBtb3ZlZCBpbnRvIGFuIGV2ZW50IGhhbmRsZXI/XG5cdFx0X2ZuQ29sdW1uVHlwZXMoIG9TZXR0aW5ncyApO1xuXHRcblx0XHQvKiBJbiBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIGFsbCBmaWx0ZXJpbmcgaXMgZG9uZSBieSB0aGUgc2VydmVyLCBzbyBubyBwb2ludCBoYW5naW5nIGFyb3VuZCBoZXJlICovXG5cdFx0aWYgKCBfZm5EYXRhU291cmNlKCBvU2V0dGluZ3MgKSAhPSAnc3NwJyApXG5cdFx0e1xuXHRcdFx0LyogR2xvYmFsIGZpbHRlciAqL1xuXHRcdFx0X2ZuRmlsdGVyKCBvU2V0dGluZ3MsIG9JbnB1dC5zU2VhcmNoLCBpRm9yY2UsIGZuUmVnZXgob0lucHV0KSwgb0lucHV0LmJTbWFydCwgb0lucHV0LmJDYXNlSW5zZW5zaXRpdmUgKTtcblx0XHRcdGZuU2F2ZUZpbHRlciggb0lucHV0ICk7XG5cdFxuXHRcdFx0LyogTm93IGRvIHRoZSBpbmRpdmlkdWFsIGNvbHVtbiBmaWx0ZXIgKi9cblx0XHRcdGZvciAoIHZhciBpPTAgOyBpPGFvUHJldlNlYXJjaC5sZW5ndGggOyBpKysgKVxuXHRcdFx0e1xuXHRcdFx0XHRfZm5GaWx0ZXJDb2x1bW4oIG9TZXR0aW5ncywgYW9QcmV2U2VhcmNoW2ldLnNTZWFyY2gsIGksIGZuUmVnZXgoYW9QcmV2U2VhcmNoW2ldKSxcblx0XHRcdFx0XHRhb1ByZXZTZWFyY2hbaV0uYlNtYXJ0LCBhb1ByZXZTZWFyY2hbaV0uYkNhc2VJbnNlbnNpdGl2ZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8qIEN1c3RvbSBmaWx0ZXJpbmcgKi9cblx0XHRcdF9mbkZpbHRlckN1c3RvbSggb1NldHRpbmdzICk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRmblNhdmVGaWx0ZXIoIG9JbnB1dCApO1xuXHRcdH1cblx0XG5cdFx0LyogVGVsbCB0aGUgZHJhdyBmdW5jdGlvbiB3ZSBoYXZlIGJlZW4gZmlsdGVyaW5nICovXG5cdFx0b1NldHRpbmdzLmJGaWx0ZXJlZCA9IHRydWU7XG5cdFx0X2ZuQ2FsbGJhY2tGaXJlKCBvU2V0dGluZ3MsIG51bGwsICdzZWFyY2gnLCBbb1NldHRpbmdzXSApO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFwcGx5IGN1c3RvbSBmaWx0ZXJpbmcgZnVuY3Rpb25zXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkZpbHRlckN1c3RvbSggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyIGZpbHRlcnMgPSBEYXRhVGFibGUuZXh0LnNlYXJjaDtcblx0XHR2YXIgZGlzcGxheVJvd3MgPSBzZXR0aW5ncy5haURpc3BsYXk7XG5cdFx0dmFyIHJvdywgcm93SWR4O1xuXHRcblx0XHRmb3IgKCB2YXIgaT0wLCBpZW49ZmlsdGVycy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdHZhciByb3dzID0gW107XG5cdFxuXHRcdFx0Ly8gTG9vcCBvdmVyIGVhY2ggcm93IGFuZCBzZWUgaWYgaXQgc2hvdWxkIGJlIGluY2x1ZGVkXG5cdFx0XHRmb3IgKCB2YXIgaj0wLCBqZW49ZGlzcGxheVJvd3MubGVuZ3RoIDsgajxqZW4gOyBqKysgKSB7XG5cdFx0XHRcdHJvd0lkeCA9IGRpc3BsYXlSb3dzWyBqIF07XG5cdFx0XHRcdHJvdyA9IHNldHRpbmdzLmFvRGF0YVsgcm93SWR4IF07XG5cdFxuXHRcdFx0XHRpZiAoIGZpbHRlcnNbaV0oIHNldHRpbmdzLCByb3cuX2FGaWx0ZXJEYXRhLCByb3dJZHgsIHJvdy5fYURhdGEsIGogKSApIHtcblx0XHRcdFx0XHRyb3dzLnB1c2goIHJvd0lkeCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU28gdGhlIGFycmF5IHJlZmVyZW5jZSBkb2Vzbid0IGJyZWFrIHNldCB0aGUgcmVzdWx0cyBpbnRvIHRoZVxuXHRcdFx0Ly8gZXhpc3RpbmcgYXJyYXlcblx0XHRcdGRpc3BsYXlSb3dzLmxlbmd0aCA9IDA7XG5cdFx0XHQkLm1lcmdlKCBkaXNwbGF5Um93cywgcm93cyApO1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBGaWx0ZXIgdGhlIHRhYmxlIG9uIGEgcGVyLWNvbHVtbiBiYXNpc1xuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNJbnB1dCBzdHJpbmcgdG8gZmlsdGVyIG9uXG5cdCAqICBAcGFyYW0ge2ludH0gaUNvbHVtbiBjb2x1bW4gdG8gZmlsdGVyXG5cdCAqICBAcGFyYW0ge2Jvb2x9IGJSZWdleCB0cmVhdCBzZWFyY2ggc3RyaW5nIGFzIGEgcmVndWxhciBleHByZXNzaW9uIG9yIG5vdFxuXHQgKiAgQHBhcmFtIHtib29sfSBiU21hcnQgdXNlIHNtYXJ0IGZpbHRlcmluZyBvciBub3Rcblx0ICogIEBwYXJhbSB7Ym9vbH0gYkNhc2VJbnNlbnNpdGl2ZSBEbyBjYXNlIGluc2Vuc3RpdmUgbWF0Y2hpbmcgb3Igbm90XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkZpbHRlckNvbHVtbiAoIHNldHRpbmdzLCBzZWFyY2hTdHIsIGNvbElkeCwgcmVnZXgsIHNtYXJ0LCBjYXNlSW5zZW5zaXRpdmUgKVxuXHR7XG5cdFx0aWYgKCBzZWFyY2hTdHIgPT09ICcnICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0dmFyIGRhdGE7XG5cdFx0dmFyIGRpc3BsYXkgPSBzZXR0aW5ncy5haURpc3BsYXk7XG5cdFx0dmFyIHJwU2VhcmNoID0gX2ZuRmlsdGVyQ3JlYXRlU2VhcmNoKCBzZWFyY2hTdHIsIHJlZ2V4LCBzbWFydCwgY2FzZUluc2Vuc2l0aXZlICk7XG5cdFxuXHRcdGZvciAoIHZhciBpPWRpc3BsYXkubGVuZ3RoLTEgOyBpPj0wIDsgaS0tICkge1xuXHRcdFx0ZGF0YSA9IHNldHRpbmdzLmFvRGF0YVsgZGlzcGxheVtpXSBdLl9hRmlsdGVyRGF0YVsgY29sSWR4IF07XG5cdFxuXHRcdFx0aWYgKCAhIHJwU2VhcmNoLnRlc3QoIGRhdGEgKSApIHtcblx0XHRcdFx0ZGlzcGxheS5zcGxpY2UoIGksIDEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRmlsdGVyIHRoZSBkYXRhIHRhYmxlIGJhc2VkIG9uIHVzZXIgaW5wdXQgYW5kIGRyYXcgdGhlIHRhYmxlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBzdHJpbmcgdG8gZmlsdGVyIG9uXG5cdCAqICBAcGFyYW0ge2ludH0gZm9yY2Ugb3B0aW9uYWwgLSBmb3JjZSBhIHJlc2VhcmNoIG9mIHRoZSBtYXN0ZXIgYXJyYXkgKDEpIG9yIG5vdCAodW5kZWZpbmVkIG9yIDApXG5cdCAqICBAcGFyYW0ge2Jvb2x9IHJlZ2V4IHRyZWF0IGFzIGEgcmVndWxhciBleHByZXNzaW9uIG9yIG5vdFxuXHQgKiAgQHBhcmFtIHtib29sfSBzbWFydCBwZXJmb3JtIHNtYXJ0IGZpbHRlcmluZyBvciBub3Rcblx0ICogIEBwYXJhbSB7Ym9vbH0gY2FzZUluc2Vuc2l0aXZlIERvIGNhc2UgaW5zZW5zdGl2ZSBtYXRjaGluZyBvciBub3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRmlsdGVyKCBzZXR0aW5ncywgaW5wdXQsIGZvcmNlLCByZWdleCwgc21hcnQsIGNhc2VJbnNlbnNpdGl2ZSApXG5cdHtcblx0XHR2YXIgcnBTZWFyY2ggPSBfZm5GaWx0ZXJDcmVhdGVTZWFyY2goIGlucHV0LCByZWdleCwgc21hcnQsIGNhc2VJbnNlbnNpdGl2ZSApO1xuXHRcdHZhciBwcmV2U2VhcmNoID0gc2V0dGluZ3Mub1ByZXZpb3VzU2VhcmNoLnNTZWFyY2g7XG5cdFx0dmFyIGRpc3BsYXlNYXN0ZXIgPSBzZXR0aW5ncy5haURpc3BsYXlNYXN0ZXI7XG5cdFx0dmFyIGRpc3BsYXksIGludmFsaWRhdGVkLCBpO1xuXHRcblx0XHQvLyBOZWVkIHRvIHRha2UgYWNjb3VudCBvZiBjdXN0b20gZmlsdGVyaW5nIGZ1bmN0aW9ucyAtIGFsd2F5cyBmaWx0ZXJcblx0XHRpZiAoIERhdGFUYWJsZS5leHQuc2VhcmNoLmxlbmd0aCAhPT0gMCApIHtcblx0XHRcdGZvcmNlID0gdHJ1ZTtcblx0XHR9XG5cdFxuXHRcdC8vIENoZWNrIGlmIGFueSBvZiB0aGUgcm93cyB3ZXJlIGludmFsaWRhdGVkXG5cdFx0aW52YWxpZGF0ZWQgPSBfZm5GaWx0ZXJEYXRhKCBzZXR0aW5ncyApO1xuXHRcblx0XHQvLyBJZiB0aGUgaW5wdXQgaXMgYmxhbmsgLSB3ZSBqdXN0IHdhbnQgdGhlIGZ1bGwgZGF0YSBzZXRcblx0XHRpZiAoIGlucHV0Lmxlbmd0aCA8PSAwICkge1xuXHRcdFx0c2V0dGluZ3MuYWlEaXNwbGF5ID0gZGlzcGxheU1hc3Rlci5zbGljZSgpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIE5ldyBzZWFyY2ggLSBzdGFydCBmcm9tIHRoZSBtYXN0ZXIgYXJyYXlcblx0XHRcdGlmICggaW52YWxpZGF0ZWQgfHxcblx0XHRcdFx0IGZvcmNlIHx8XG5cdFx0XHRcdCBwcmV2U2VhcmNoLmxlbmd0aCA+IGlucHV0Lmxlbmd0aCB8fFxuXHRcdFx0XHQgaW5wdXQuaW5kZXhPZihwcmV2U2VhcmNoKSAhPT0gMCB8fFxuXHRcdFx0XHQgc2V0dGluZ3MuYlNvcnRlZCAvLyBPbiByZXNvcnQsIHRoZSBkaXNwbGF5IG1hc3RlciBuZWVkcyB0byBiZVxuXHRcdFx0XHQgICAgICAgICAgICAgICAgICAvLyByZS1maWx0ZXJlZCBzaW5jZSBpbmRleGVzIHdpbGwgaGF2ZSBjaGFuZ2VkXG5cdFx0XHQpIHtcblx0XHRcdFx0c2V0dGluZ3MuYWlEaXNwbGF5ID0gZGlzcGxheU1hc3Rlci5zbGljZSgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNlYXJjaCB0aGUgZGlzcGxheSBhcnJheVxuXHRcdFx0ZGlzcGxheSA9IHNldHRpbmdzLmFpRGlzcGxheTtcblx0XG5cdFx0XHRmb3IgKCBpPWRpc3BsYXkubGVuZ3RoLTEgOyBpPj0wIDsgaS0tICkge1xuXHRcdFx0XHRpZiAoICEgcnBTZWFyY2gudGVzdCggc2V0dGluZ3MuYW9EYXRhWyBkaXNwbGF5W2ldIF0uX3NGaWx0ZXJSb3cgKSApIHtcblx0XHRcdFx0XHRkaXNwbGF5LnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEJ1aWxkIGEgcmVndWxhciBleHByZXNzaW9uIG9iamVjdCBzdWl0YWJsZSBmb3Igc2VhcmNoaW5nIGEgdGFibGVcblx0ICogIEBwYXJhbSB7c3RyaW5nfSBzU2VhcmNoIHN0cmluZyB0byBzZWFyY2ggZm9yXG5cdCAqICBAcGFyYW0ge2Jvb2x9IGJSZWdleCB0cmVhdCBhcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBub3Rcblx0ICogIEBwYXJhbSB7Ym9vbH0gYlNtYXJ0IHBlcmZvcm0gc21hcnQgZmlsdGVyaW5nIG9yIG5vdFxuXHQgKiAgQHBhcmFtIHtib29sfSBiQ2FzZUluc2Vuc2l0aXZlIERvIGNhc2UgaW5zZW5zaXRpdmUgbWF0Y2hpbmcgb3Igbm90XG5cdCAqICBAcmV0dXJucyB7UmVnRXhwfSBjb25zdHJ1Y3RlZCBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRmlsdGVyQ3JlYXRlU2VhcmNoKCBzZWFyY2gsIHJlZ2V4LCBzbWFydCwgY2FzZUluc2Vuc2l0aXZlIClcblx0e1xuXHRcdHNlYXJjaCA9IHJlZ2V4ID9cblx0XHRcdHNlYXJjaCA6XG5cdFx0XHRfZm5Fc2NhcGVSZWdleCggc2VhcmNoICk7XG5cdFx0XG5cdFx0aWYgKCBzbWFydCApIHtcblx0XHRcdC8qIEZvciBzbWFydCBmaWx0ZXJpbmcgd2Ugd2FudCB0byBhbGxvdyB0aGUgc2VhcmNoIHRvIHdvcmsgcmVnYXJkbGVzcyBvZlxuXHRcdFx0ICogd29yZCBvcmRlci4gV2UgYWxzbyB3YW50IGRvdWJsZSBxdW90ZWQgdGV4dCB0byBiZSBwcmVzZXJ2ZWQsIHNvIHdvcmRcblx0XHRcdCAqIG9yZGVyIGlzIGltcG9ydGFudCAtIGEgbGEgZ29vZ2xlLiBTbyB0aGlzIGlzIHdoYXQgd2Ugd2FudCB0b1xuXHRcdFx0ICogZ2VuZXJhdGU6XG5cdFx0XHQgKiBcblx0XHRcdCAqIF4oPz0uKj9cXGJvbmVcXGIpKD89Lio/XFxidHdvIHRocmVlXFxiKSg/PS4qP1xcYmZvdXJcXGIpLiokXG5cdFx0XHQgKi9cblx0XHRcdHZhciBhID0gJC5tYXAoIHNlYXJjaC5tYXRjaCggL1wiW15cIl0rXCJ8W14gXSsvZyApIHx8IFsnJ10sIGZ1bmN0aW9uICggd29yZCApIHtcblx0XHRcdFx0aWYgKCB3b3JkLmNoYXJBdCgwKSA9PT0gJ1wiJyApIHtcblx0XHRcdFx0XHR2YXIgbSA9IHdvcmQubWF0Y2goIC9eXCIoLiopXCIkLyApO1xuXHRcdFx0XHRcdHdvcmQgPSBtID8gbVsxXSA6IHdvcmQ7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiB3b3JkLnJlcGxhY2UoJ1wiJywgJycpO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdHNlYXJjaCA9ICdeKD89Lio/JythLmpvaW4oICcpKD89Lio/JyApKycpLiokJztcblx0XHR9XG5cdFxuXHRcdHJldHVybiBuZXcgUmVnRXhwKCBzZWFyY2gsIGNhc2VJbnNlbnNpdGl2ZSA/ICdpJyA6ICcnICk7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRXNjYXBlIGEgc3RyaW5nIHN1Y2ggdGhhdCBpdCBjYW4gYmUgdXNlZCBpbiBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNWYWwgc3RyaW5nIHRvIGVzY2FwZVxuXHQgKiAgQHJldHVybnMge3N0cmluZ30gZXNjYXBlZCBzdHJpbmdcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0dmFyIF9mbkVzY2FwZVJlZ2V4ID0gRGF0YVRhYmxlLnV0aWwuZXNjYXBlUmVnZXg7XG5cdFxuXHR2YXIgX19maWx0ZXJfZGl2ID0gJCgnPGRpdj4nKVswXTtcblx0dmFyIF9fZmlsdGVyX2Rpdl90ZXh0Q29udGVudCA9IF9fZmlsdGVyX2Rpdi50ZXh0Q29udGVudCAhPT0gdW5kZWZpbmVkO1xuXHRcblx0Ly8gVXBkYXRlIHRoZSBmaWx0ZXJpbmcgZGF0YSBmb3IgZWFjaCByb3cgaWYgbmVlZGVkIChieSBpbnZhbGlkYXRpb24gb3IgZmlyc3QgcnVuKVxuXHRmdW5jdGlvbiBfZm5GaWx0ZXJEYXRhICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyIGNvbHVtbnMgPSBzZXR0aW5ncy5hb0NvbHVtbnM7XG5cdFx0dmFyIGNvbHVtbjtcblx0XHR2YXIgaSwgaiwgaWVuLCBqZW4sIGZpbHRlckRhdGEsIGNlbGxEYXRhLCByb3c7XG5cdFx0dmFyIGZvbWF0dGVycyA9IERhdGFUYWJsZS5leHQudHlwZS5zZWFyY2g7XG5cdFx0dmFyIHdhc0ludmFsaWRhdGVkID0gZmFsc2U7XG5cdFxuXHRcdGZvciAoIGk9MCwgaWVuPXNldHRpbmdzLmFvRGF0YS5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdHJvdyA9IHNldHRpbmdzLmFvRGF0YVtpXTtcblx0XG5cdFx0XHRpZiAoICEgcm93Ll9hRmlsdGVyRGF0YSApIHtcblx0XHRcdFx0ZmlsdGVyRGF0YSA9IFtdO1xuXHRcblx0XHRcdFx0Zm9yICggaj0wLCBqZW49Y29sdW1ucy5sZW5ndGggOyBqPGplbiA7IGorKyApIHtcblx0XHRcdFx0XHRjb2x1bW4gPSBjb2x1bW5zW2pdO1xuXHRcblx0XHRcdFx0XHRpZiAoIGNvbHVtbi5iU2VhcmNoYWJsZSApIHtcblx0XHRcdFx0XHRcdGNlbGxEYXRhID0gX2ZuR2V0Q2VsbERhdGEoIHNldHRpbmdzLCBpLCBqLCAnZmlsdGVyJyApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggZm9tYXR0ZXJzWyBjb2x1bW4uc1R5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0Y2VsbERhdGEgPSBmb21hdHRlcnNbIGNvbHVtbi5zVHlwZSBdKCBjZWxsRGF0YSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIFNlYXJjaCBpbiBEYXRhVGFibGVzIDEuMTAgaXMgc3RyaW5nIGJhc2VkLiBJbiAxLjExIHRoaXNcblx0XHRcdFx0XHRcdC8vIHNob3VsZCBiZSBhbHRlcmVkIHRvIGFsc28gYWxsb3cgc3RyaWN0IHR5cGUgY2hlY2tpbmcuXG5cdFx0XHRcdFx0XHRpZiAoIGNlbGxEYXRhID09PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRjZWxsRGF0YSA9ICcnO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmICggdHlwZW9mIGNlbGxEYXRhICE9PSAnc3RyaW5nJyAmJiBjZWxsRGF0YS50b1N0cmluZyApIHtcblx0XHRcdFx0XHRcdFx0Y2VsbERhdGEgPSBjZWxsRGF0YS50b1N0cmluZygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGNlbGxEYXRhID0gJyc7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBJZiBpdCBsb29rcyBsaWtlIHRoZXJlIGlzIGFuIEhUTUwgZW50aXR5IGluIHRoZSBzdHJpbmcsXG5cdFx0XHRcdFx0Ly8gYXR0ZW1wdCB0byBkZWNvZGUgaXQgc28gc29ydGluZyB3b3JrcyBhcyBleHBlY3RlZC4gTm90ZSB0aGF0XG5cdFx0XHRcdFx0Ly8gd2UgY291bGQgdXNlIGEgc2luZ2xlIGxpbmUgb2YgalF1ZXJ5IHRvIGRvIHRoaXMsIGJ1dCB0aGUgRE9NXG5cdFx0XHRcdFx0Ly8gbWV0aG9kIHVzZWQgaGVyZSBpcyBtdWNoIGZhc3RlciBodHRwOi8vanNwZXJmLmNvbS9odG1sLWRlY29kZVxuXHRcdFx0XHRcdGlmICggY2VsbERhdGEuaW5kZXhPZiAmJiBjZWxsRGF0YS5pbmRleE9mKCcmJykgIT09IC0xICkge1xuXHRcdFx0XHRcdFx0X19maWx0ZXJfZGl2LmlubmVySFRNTCA9IGNlbGxEYXRhO1xuXHRcdFx0XHRcdFx0Y2VsbERhdGEgPSBfX2ZpbHRlcl9kaXZfdGV4dENvbnRlbnQgP1xuXHRcdFx0XHRcdFx0XHRfX2ZpbHRlcl9kaXYudGV4dENvbnRlbnQgOlxuXHRcdFx0XHRcdFx0XHRfX2ZpbHRlcl9kaXYuaW5uZXJUZXh0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKCBjZWxsRGF0YS5yZXBsYWNlICkge1xuXHRcdFx0XHRcdFx0Y2VsbERhdGEgPSBjZWxsRGF0YS5yZXBsYWNlKC9bXFxyXFxuXS9nLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRmaWx0ZXJEYXRhLnB1c2goIGNlbGxEYXRhICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJvdy5fYUZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuXHRcdFx0XHRyb3cuX3NGaWx0ZXJSb3cgPSBmaWx0ZXJEYXRhLmpvaW4oJyAgJyk7XG5cdFx0XHRcdHdhc0ludmFsaWRhdGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiB3YXNJbnZhbGlkYXRlZDtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0IGZyb20gdGhlIGludGVybmFsIEh1bmdhcmlhbiBub3RhdGlvbiB0byBjYW1lbENhc2UgZm9yIGV4dGVybmFsXG5cdCAqIGludGVyYWN0aW9uXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb2JqIE9iamVjdCB0byBjb252ZXJ0XG5cdCAqICBAcmV0dXJucyB7b2JqZWN0fSBJbnZlcnRlZCBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuU2VhcmNoVG9DYW1lbCAoIG9iaiApXG5cdHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VhcmNoOiAgICAgICAgICBvYmouc1NlYXJjaCxcblx0XHRcdHNtYXJ0OiAgICAgICAgICAgb2JqLmJTbWFydCxcblx0XHRcdHJlZ2V4OiAgICAgICAgICAgb2JqLmJSZWdleCxcblx0XHRcdGNhc2VJbnNlbnNpdGl2ZTogb2JqLmJDYXNlSW5zZW5zaXRpdmVcblx0XHR9O1xuXHR9XG5cdFxuXHRcblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0IGZyb20gY2FtZWxDYXNlIG5vdGF0aW9uIHRvIHRoZSBpbnRlcm5hbCBIdW5nYXJpYW4uIFdlIGNvdWxkIHVzZSB0aGVcblx0ICogSHVuZ2FyaWFuIGNvbnZlcnQgZnVuY3Rpb24gaGVyZSwgYnV0IHRoaXMgaXMgY2xlYW5lclxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9iaiBPYmplY3QgdG8gY29udmVydFxuXHQgKiAgQHJldHVybnMge29iamVjdH0gSW52ZXJ0ZWQgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mblNlYXJjaFRvSHVuZyAoIG9iaiApXG5cdHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c1NlYXJjaDogICAgICAgICAgb2JqLnNlYXJjaCxcblx0XHRcdGJTbWFydDogICAgICAgICAgIG9iai5zbWFydCxcblx0XHRcdGJSZWdleDogICAgICAgICAgIG9iai5yZWdleCxcblx0XHRcdGJDYXNlSW5zZW5zaXRpdmU6IG9iai5jYXNlSW5zZW5zaXRpdmVcblx0XHR9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogR2VuZXJhdGUgdGhlIG5vZGUgcmVxdWlyZWQgZm9yIHRoZSBpbmZvIGRpc3BsYXlcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEByZXR1cm5zIHtub2RlfSBJbmZvcm1hdGlvbiBlbGVtZW50XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkZlYXR1cmVIdG1sSW5mbyAoIHNldHRpbmdzIClcblx0e1xuXHRcdHZhclxuXHRcdFx0dGlkID0gc2V0dGluZ3Muc1RhYmxlSWQsXG5cdFx0XHRub2RlcyA9IHNldHRpbmdzLmFhbkZlYXR1cmVzLmksXG5cdFx0XHRuID0gJCgnPGRpdi8+Jywge1xuXHRcdFx0XHQnY2xhc3MnOiBzZXR0aW5ncy5vQ2xhc3Nlcy5zSW5mbyxcblx0XHRcdFx0J2lkJzogISBub2RlcyA/IHRpZCsnX2luZm8nIDogbnVsbFxuXHRcdFx0fSApO1xuXHRcblx0XHRpZiAoICEgbm9kZXMgKSB7XG5cdFx0XHQvLyBVcGRhdGUgZGlzcGxheSBvbiBlYWNoIGRyYXdcblx0XHRcdHNldHRpbmdzLmFvRHJhd0NhbGxiYWNrLnB1c2goIHtcblx0XHRcdFx0XCJmblwiOiBfZm5VcGRhdGVJbmZvLFxuXHRcdFx0XHRcInNOYW1lXCI6IFwiaW5mb3JtYXRpb25cIlxuXHRcdFx0fSApO1xuXHRcblx0XHRcdG5cblx0XHRcdFx0LmF0dHIoICdyb2xlJywgJ3N0YXR1cycgKVxuXHRcdFx0XHQuYXR0ciggJ2FyaWEtbGl2ZScsICdwb2xpdGUnICk7XG5cdFxuXHRcdFx0Ly8gVGFibGUgaXMgZGVzY3JpYmVkIGJ5IG91ciBpbmZvIGRpdlxuXHRcdFx0JChzZXR0aW5ncy5uVGFibGUpLmF0dHIoICdhcmlhLWRlc2NyaWJlZGJ5JywgdGlkKydfaW5mbycgKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBuWzBdO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgaW5mb3JtYXRpb24gZWxlbWVudHMgaW4gdGhlIGRpc3BsYXlcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5VcGRhdGVJbmZvICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0LyogU2hvdyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdGFibGUgKi9cblx0XHR2YXIgbm9kZXMgPSBzZXR0aW5ncy5hYW5GZWF0dXJlcy5pO1xuXHRcdGlmICggbm9kZXMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0dmFyXG5cdFx0XHRsYW5nICA9IHNldHRpbmdzLm9MYW5ndWFnZSxcblx0XHRcdHN0YXJ0ID0gc2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQrMSxcblx0XHRcdGVuZCAgID0gc2V0dGluZ3MuZm5EaXNwbGF5RW5kKCksXG5cdFx0XHRtYXggICA9IHNldHRpbmdzLmZuUmVjb3Jkc1RvdGFsKCksXG5cdFx0XHR0b3RhbCA9IHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSxcblx0XHRcdG91dCAgID0gdG90YWwgP1xuXHRcdFx0XHRsYW5nLnNJbmZvIDpcblx0XHRcdFx0bGFuZy5zSW5mb0VtcHR5O1xuXHRcblx0XHRpZiAoIHRvdGFsICE9PSBtYXggKSB7XG5cdFx0XHQvKiBSZWNvcmQgc2V0IGFmdGVyIGZpbHRlcmluZyAqL1xuXHRcdFx0b3V0ICs9ICcgJyArIGxhbmcuc0luZm9GaWx0ZXJlZDtcblx0XHR9XG5cdFxuXHRcdC8vIENvbnZlcnQgdGhlIG1hY3Jvc1xuXHRcdG91dCArPSBsYW5nLnNJbmZvUG9zdEZpeDtcblx0XHRvdXQgPSBfZm5JbmZvTWFjcm9zKCBzZXR0aW5ncywgb3V0ICk7XG5cdFxuXHRcdHZhciBjYWxsYmFjayA9IGxhbmcuZm5JbmZvQ2FsbGJhY2s7XG5cdFx0aWYgKCBjYWxsYmFjayAhPT0gbnVsbCApIHtcblx0XHRcdG91dCA9IGNhbGxiYWNrLmNhbGwoIHNldHRpbmdzLm9JbnN0YW5jZSxcblx0XHRcdFx0c2V0dGluZ3MsIHN0YXJ0LCBlbmQsIG1heCwgdG90YWwsIG91dFxuXHRcdFx0KTtcblx0XHR9XG5cdFxuXHRcdCQobm9kZXMpLmh0bWwoIG91dCApO1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gX2ZuSW5mb01hY3JvcyAoIHNldHRpbmdzLCBzdHIgKVxuXHR7XG5cdFx0Ly8gV2hlbiBpbmZpbml0ZSBzY3JvbGxpbmcsIHdlIGFyZSBhbHdheXMgc3RhcnRpbmcgYXQgMS4gX2lEaXNwbGF5U3RhcnQgaXMgdXNlZCBvbmx5XG5cdFx0Ly8gaW50ZXJuYWxseVxuXHRcdHZhclxuXHRcdFx0Zm9ybWF0dGVyICA9IHNldHRpbmdzLmZuRm9ybWF0TnVtYmVyLFxuXHRcdFx0c3RhcnQgICAgICA9IHNldHRpbmdzLl9pRGlzcGxheVN0YXJ0KzEsXG5cdFx0XHRsZW4gICAgICAgID0gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoLFxuXHRcdFx0dmlzICAgICAgICA9IHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSxcblx0XHRcdGFsbCAgICAgICAgPSBsZW4gPT09IC0xO1xuXHRcblx0XHRyZXR1cm4gc3RyLlxuXHRcdFx0cmVwbGFjZSgvX1NUQVJUXy9nLCBmb3JtYXR0ZXIuY2FsbCggc2V0dGluZ3MsIHN0YXJ0ICkgKS5cblx0XHRcdHJlcGxhY2UoL19FTkRfL2csICAgZm9ybWF0dGVyLmNhbGwoIHNldHRpbmdzLCBzZXR0aW5ncy5mbkRpc3BsYXlFbmQoKSApICkuXG5cdFx0XHRyZXBsYWNlKC9fTUFYXy9nLCAgIGZvcm1hdHRlci5jYWxsKCBzZXR0aW5ncywgc2V0dGluZ3MuZm5SZWNvcmRzVG90YWwoKSApICkuXG5cdFx0XHRyZXBsYWNlKC9fVE9UQUxfL2csIGZvcm1hdHRlci5jYWxsKCBzZXR0aW5ncywgdmlzICkgKS5cblx0XHRcdHJlcGxhY2UoL19QQUdFXy9nLCAgZm9ybWF0dGVyLmNhbGwoIHNldHRpbmdzLCBhbGwgPyAxIDogTWF0aC5jZWlsKCBzdGFydCAvIGxlbiApICkgKS5cblx0XHRcdHJlcGxhY2UoL19QQUdFU18vZywgZm9ybWF0dGVyLmNhbGwoIHNldHRpbmdzLCBhbGwgPyAxIDogTWF0aC5jZWlsKCB2aXMgLyBsZW4gKSApICk7XG5cdH1cblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIERyYXcgdGhlIHRhYmxlIGZvciB0aGUgZmlyc3QgdGltZSwgYWRkaW5nIGFsbCByZXF1aXJlZCBmZWF0dXJlc1xuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkluaXRpYWxpc2UgKCBzZXR0aW5ncyApXG5cdHtcblx0XHR2YXIgaSwgaUxlbiwgaUFqYXhTdGFydD1zZXR0aW5ncy5pSW5pdERpc3BsYXlTdGFydDtcblx0XHR2YXIgY29sdW1ucyA9IHNldHRpbmdzLmFvQ29sdW1ucywgY29sdW1uO1xuXHRcdHZhciBmZWF0dXJlcyA9IHNldHRpbmdzLm9GZWF0dXJlcztcblx0XHR2YXIgZGVmZXJMb2FkaW5nID0gc2V0dGluZ3MuYkRlZmVyTG9hZGluZzsgLy8gdmFsdWUgbW9kaWZpZWQgYnkgdGhlIGRyYXdcblx0XG5cdFx0LyogRW5zdXJlIHRoYXQgdGhlIHRhYmxlIGRhdGEgaXMgZnVsbHkgaW5pdGlhbGlzZWQgKi9cblx0XHRpZiAoICEgc2V0dGluZ3MuYkluaXRpYWxpc2VkICkge1xuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKXsgX2ZuSW5pdGlhbGlzZSggc2V0dGluZ3MgKTsgfSwgMjAwICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvKiBTaG93IHRoZSBkaXNwbGF5IEhUTUwgb3B0aW9ucyAqL1xuXHRcdF9mbkFkZE9wdGlvbnNIdG1sKCBzZXR0aW5ncyApO1xuXHRcblx0XHQvKiBCdWlsZCBhbmQgZHJhdyB0aGUgaGVhZGVyIC8gZm9vdGVyIGZvciB0aGUgdGFibGUgKi9cblx0XHRfZm5CdWlsZEhlYWQoIHNldHRpbmdzICk7XG5cdFx0X2ZuRHJhd0hlYWQoIHNldHRpbmdzLCBzZXR0aW5ncy5hb0hlYWRlciApO1xuXHRcdF9mbkRyYXdIZWFkKCBzZXR0aW5ncywgc2V0dGluZ3MuYW9Gb290ZXIgKTtcblx0XG5cdFx0LyogT2theSB0byBzaG93IHRoYXQgc29tZXRoaW5nIGlzIGdvaW5nIG9uIG5vdyAqL1xuXHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBzZXR0aW5ncywgdHJ1ZSApO1xuXHRcblx0XHQvKiBDYWxjdWxhdGUgc2l6ZXMgZm9yIGNvbHVtbnMgKi9cblx0XHRpZiAoIGZlYXR1cmVzLmJBdXRvV2lkdGggKSB7XG5cdFx0XHRfZm5DYWxjdWxhdGVDb2x1bW5XaWR0aHMoIHNldHRpbmdzICk7XG5cdFx0fVxuXHRcblx0XHRmb3IgKCBpPTAsIGlMZW49Y29sdW1ucy5sZW5ndGggOyBpPGlMZW4gOyBpKysgKSB7XG5cdFx0XHRjb2x1bW4gPSBjb2x1bW5zW2ldO1xuXHRcblx0XHRcdGlmICggY29sdW1uLnNXaWR0aCApIHtcblx0XHRcdFx0Y29sdW1uLm5UaC5zdHlsZS53aWR0aCA9IF9mblN0cmluZ1RvQ3NzKCBjb2x1bW4uc1dpZHRoICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRfZm5DYWxsYmFja0ZpcmUoIHNldHRpbmdzLCBudWxsLCAncHJlSW5pdCcsIFtzZXR0aW5nc10gKTtcblx0XG5cdFx0Ly8gSWYgdGhlcmUgaXMgZGVmYXVsdCBzb3J0aW5nIHJlcXVpcmVkIC0gbGV0J3MgZG8gaXQuIFRoZSBzb3J0IGZ1bmN0aW9uXG5cdFx0Ly8gd2lsbCBkbyB0aGUgZHJhd2luZyBmb3IgdXMuIE90aGVyd2lzZSB3ZSBkcmF3IHRoZSB0YWJsZSByZWdhcmRsZXNzIG9mIHRoZVxuXHRcdC8vIEFqYXggc291cmNlIC0gdGhpcyBhbGxvd3MgdGhlIHRhYmxlIHRvIGxvb2sgaW5pdGlhbGlzZWQgZm9yIEFqYXggc291cmNpbmdcblx0XHQvLyBkYXRhIChzaG93ICdsb2FkaW5nJyBtZXNzYWdlIHBvc3NpYmx5KVxuXHRcdF9mblJlRHJhdyggc2V0dGluZ3MgKTtcblx0XG5cdFx0Ly8gU2VydmVyLXNpZGUgcHJvY2Vzc2luZyBpbml0IGNvbXBsZXRlIGlzIGRvbmUgYnkgX2ZuQWpheFVwZGF0ZURyYXdcblx0XHR2YXIgZGF0YVNyYyA9IF9mbkRhdGFTb3VyY2UoIHNldHRpbmdzICk7XG5cdFx0aWYgKCBkYXRhU3JjICE9ICdzc3AnIHx8IGRlZmVyTG9hZGluZyApIHtcblx0XHRcdC8vIGlmIHRoZXJlIGlzIGFuIGFqYXggc291cmNlIGxvYWQgdGhlIGRhdGFcblx0XHRcdGlmICggZGF0YVNyYyA9PSAnYWpheCcgKSB7XG5cdFx0XHRcdF9mbkJ1aWxkQWpheCggc2V0dGluZ3MsIFtdLCBmdW5jdGlvbihqc29uKSB7XG5cdFx0XHRcdFx0dmFyIGFEYXRhID0gX2ZuQWpheERhdGFTcmMoIHNldHRpbmdzLCBqc29uICk7XG5cdFxuXHRcdFx0XHRcdC8vIEdvdCB0aGUgZGF0YSAtIGFkZCBpdCB0byB0aGUgdGFibGVcblx0XHRcdFx0XHRmb3IgKCBpPTAgOyBpPGFEYXRhLmxlbmd0aCA7IGkrKyApIHtcblx0XHRcdFx0XHRcdF9mbkFkZERhdGEoIHNldHRpbmdzLCBhRGF0YVtpXSApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUmVzZXQgdGhlIGluaXQgZGlzcGxheSBmb3IgY29va2llIHNhdmluZy4gV2UndmUgYWxyZWFkeSBkb25lXG5cdFx0XHRcdFx0Ly8gYSBmaWx0ZXIsIGFuZCB0aGVyZWZvcmUgY2xlYXJlZCBpdCBiZWZvcmUuIFNvIHdlIG5lZWQgdG8gbWFrZVxuXHRcdFx0XHRcdC8vIGl0IGFwcGVhciAnZnJlc2gnXG5cdFx0XHRcdFx0c2V0dGluZ3MuaUluaXREaXNwbGF5U3RhcnQgPSBpQWpheFN0YXJ0O1xuXHRcblx0XHRcdFx0XHRfZm5SZURyYXcoIHNldHRpbmdzICk7XG5cdFxuXHRcdFx0XHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBzZXR0aW5ncywgZmFsc2UgKTtcblx0XHRcdFx0XHRfZm5Jbml0Q29tcGxldGUoIHNldHRpbmdzLCBqc29uICk7XG5cdFx0XHRcdH0sIHNldHRpbmdzICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0X2ZuUHJvY2Vzc2luZ0Rpc3BsYXkoIHNldHRpbmdzLCBmYWxzZSApO1xuXHRcdFx0XHRfZm5Jbml0Q29tcGxldGUoIHNldHRpbmdzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIERyYXcgdGhlIHRhYmxlIGZvciB0aGUgZmlyc3QgdGltZSwgYWRkaW5nIGFsbCByZXF1aXJlZCBmZWF0dXJlc1xuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IFtqc29uXSBKU09OIGZyb20gdGhlIHNlcnZlciB0aGF0IGNvbXBsZXRlZCB0aGUgdGFibGUsIGlmIHVzaW5nIEFqYXggc291cmNlXG5cdCAqICAgIHdpdGggY2xpZW50LXNpZGUgcHJvY2Vzc2luZyAob3B0aW9uYWwpXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkluaXRDb21wbGV0ZSAoIHNldHRpbmdzLCBqc29uIClcblx0e1xuXHRcdHNldHRpbmdzLl9iSW5pdENvbXBsZXRlID0gdHJ1ZTtcblx0XG5cdFx0Ly8gV2hlbiBkYXRhIHdhcyBhZGRlZCBhZnRlciB0aGUgaW5pdGlhbGlzYXRpb24gKGRhdGEgb3IgQWpheCkgd2UgbmVlZCB0b1xuXHRcdC8vIGNhbGN1bGF0ZSB0aGUgY29sdW1uIHNpemluZ1xuXHRcdGlmICgganNvbiB8fCBzZXR0aW5ncy5vSW5pdC5hYURhdGEgKSB7XG5cdFx0XHRfZm5BZGp1c3RDb2x1bW5TaXppbmcoIHNldHRpbmdzICk7XG5cdFx0fVxuXHRcblx0XHRfZm5DYWxsYmFja0ZpcmUoIHNldHRpbmdzLCBudWxsLCAncGx1Z2luLWluaXQnLCBbc2V0dGluZ3MsIGpzb25dICk7XG5cdFx0X2ZuQ2FsbGJhY2tGaXJlKCBzZXR0aW5ncywgJ2FvSW5pdENvbXBsZXRlJywgJ2luaXQnLCBbc2V0dGluZ3MsIGpzb25dICk7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBfZm5MZW5ndGhDaGFuZ2UgKCBzZXR0aW5ncywgdmFsIClcblx0e1xuXHRcdHZhciBsZW4gPSBwYXJzZUludCggdmFsLCAxMCApO1xuXHRcdHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCA9IGxlbjtcblx0XG5cdFx0X2ZuTGVuZ3RoT3ZlcmZsb3coIHNldHRpbmdzICk7XG5cdFxuXHRcdC8vIEZpcmUgbGVuZ3RoIGNoYW5nZSBldmVudFxuXHRcdF9mbkNhbGxiYWNrRmlyZSggc2V0dGluZ3MsIG51bGwsICdsZW5ndGgnLCBbc2V0dGluZ3MsIGxlbl0gKTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSB0aGUgbm9kZSByZXF1aXJlZCBmb3IgdXNlciBkaXNwbGF5IGxlbmd0aCBjaGFuZ2luZ1xuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcmV0dXJucyB7bm9kZX0gRGlzcGxheSBsZW5ndGggZmVhdHVyZSBub2RlXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkZlYXR1cmVIdG1sTGVuZ3RoICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyXG5cdFx0XHRjbGFzc2VzICA9IHNldHRpbmdzLm9DbGFzc2VzLFxuXHRcdFx0dGFibGVJZCAgPSBzZXR0aW5ncy5zVGFibGVJZCxcblx0XHRcdG1lbnUgICAgID0gc2V0dGluZ3MuYUxlbmd0aE1lbnUsXG5cdFx0XHRkMiAgICAgICA9ICQuaXNBcnJheSggbWVudVswXSApLFxuXHRcdFx0bGVuZ3RocyAgPSBkMiA/IG1lbnVbMF0gOiBtZW51LFxuXHRcdFx0bGFuZ3VhZ2UgPSBkMiA/IG1lbnVbMV0gOiBtZW51O1xuXHRcblx0XHR2YXIgc2VsZWN0ID0gJCgnPHNlbGVjdC8+Jywge1xuXHRcdFx0J25hbWUnOiAgICAgICAgICB0YWJsZUlkKydfbGVuZ3RoJyxcblx0XHRcdCdhcmlhLWNvbnRyb2xzJzogdGFibGVJZCxcblx0XHRcdCdjbGFzcyc6ICAgICAgICAgY2xhc3Nlcy5zTGVuZ3RoU2VsZWN0XG5cdFx0fSApO1xuXHRcblx0XHRmb3IgKCB2YXIgaT0wLCBpZW49bGVuZ3Rocy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdHNlbGVjdFswXVsgaSBdID0gbmV3IE9wdGlvbiggbGFuZ3VhZ2VbaV0sIGxlbmd0aHNbaV0gKTtcblx0XHR9XG5cdFxuXHRcdHZhciBkaXYgPSAkKCc8ZGl2PjxsYWJlbC8+PC9kaXY+JykuYWRkQ2xhc3MoIGNsYXNzZXMuc0xlbmd0aCApO1xuXHRcdGlmICggISBzZXR0aW5ncy5hYW5GZWF0dXJlcy5sICkge1xuXHRcdFx0ZGl2WzBdLmlkID0gdGFibGVJZCsnX2xlbmd0aCc7XG5cdFx0fVxuXHRcblx0XHRkaXYuY2hpbGRyZW4oKS5hcHBlbmQoXG5cdFx0XHRzZXR0aW5ncy5vTGFuZ3VhZ2Uuc0xlbmd0aE1lbnUucmVwbGFjZSggJ19NRU5VXycsIHNlbGVjdFswXS5vdXRlckhUTUwgKVxuXHRcdCk7XG5cdFxuXHRcdC8vIENhbid0IHVzZSBgc2VsZWN0YCB2YXJpYWJsZSBhcyB1c2VyIG1pZ2h0IHByb3ZpZGUgdGhlaXIgb3duIGFuZCB0aGVcblx0XHQvLyByZWZlcmVuY2UgaXMgYnJva2VuIGJ5IHRoZSB1c2Ugb2Ygb3V0ZXJIVE1MXG5cdFx0JCgnc2VsZWN0JywgZGl2KVxuXHRcdFx0LnZhbCggc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoIClcblx0XHRcdC5iaW5kKCAnY2hhbmdlLkRUJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRfZm5MZW5ndGhDaGFuZ2UoIHNldHRpbmdzLCAkKHRoaXMpLnZhbCgpICk7XG5cdFx0XHRcdF9mbkRyYXcoIHNldHRpbmdzICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdC8vIFVwZGF0ZSBub2RlIHZhbHVlIHdoZW5ldmVyIGFueXRoaW5nIGNoYW5nZXMgdGhlIHRhYmxlJ3MgbGVuZ3RoXG5cdFx0JChzZXR0aW5ncy5uVGFibGUpLmJpbmQoICdsZW5ndGguZHQuRFQnLCBmdW5jdGlvbiAoZSwgcywgbGVuKSB7XG5cdFx0XHRpZiAoIHNldHRpbmdzID09PSBzICkge1xuXHRcdFx0XHQkKCdzZWxlY3QnLCBkaXYpLnZhbCggbGVuICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gZGl2WzBdO1xuXHR9XG5cdFxuXHRcblx0XG5cdC8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG5cdCAqIE5vdGUgdGhhdCBtb3N0IG9mIHRoZSBwYWdpbmcgbG9naWMgaXMgZG9uZSBpblxuXHQgKiBEYXRhVGFibGUuZXh0LnBhZ2VyXG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIEdlbmVyYXRlIHRoZSBub2RlIHJlcXVpcmVkIGZvciBkZWZhdWx0IHBhZ2luYXRpb25cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEByZXR1cm5zIHtub2RlfSBQYWdpbmF0aW9uIGZlYXR1cmUgbm9kZVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5GZWF0dXJlSHRtbFBhZ2luYXRlICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyXG5cdFx0XHR0eXBlICAgPSBzZXR0aW5ncy5zUGFnaW5hdGlvblR5cGUsXG5cdFx0XHRwbHVnaW4gPSBEYXRhVGFibGUuZXh0LnBhZ2VyWyB0eXBlIF0sXG5cdFx0XHRtb2Rlcm4gPSB0eXBlb2YgcGx1Z2luID09PSAnZnVuY3Rpb24nLFxuXHRcdFx0cmVkcmF3ID0gZnVuY3Rpb24oIHNldHRpbmdzICkge1xuXHRcdFx0XHRfZm5EcmF3KCBzZXR0aW5ncyApO1xuXHRcdFx0fSxcblx0XHRcdG5vZGUgPSAkKCc8ZGl2Lz4nKS5hZGRDbGFzcyggc2V0dGluZ3Mub0NsYXNzZXMuc1BhZ2luZyArIHR5cGUgKVswXSxcblx0XHRcdGZlYXR1cmVzID0gc2V0dGluZ3MuYWFuRmVhdHVyZXM7XG5cdFxuXHRcdGlmICggISBtb2Rlcm4gKSB7XG5cdFx0XHRwbHVnaW4uZm5Jbml0KCBzZXR0aW5ncywgbm9kZSwgcmVkcmF3ICk7XG5cdFx0fVxuXHRcblx0XHQvKiBBZGQgYSBkcmF3IGNhbGxiYWNrIGZvciB0aGUgcGFnaW5hdGlvbiBvbiBmaXJzdCBpbnN0YW5jZSwgdG8gdXBkYXRlIHRoZSBwYWdpbmcgZGlzcGxheSAqL1xuXHRcdGlmICggISBmZWF0dXJlcy5wIClcblx0XHR7XG5cdFx0XHRub2RlLmlkID0gc2V0dGluZ3Muc1RhYmxlSWQrJ19wYWdpbmF0ZSc7XG5cdFxuXHRcdFx0c2V0dGluZ3MuYW9EcmF3Q2FsbGJhY2sucHVzaCgge1xuXHRcdFx0XHRcImZuXCI6IGZ1bmN0aW9uKCBzZXR0aW5ncyApIHtcblx0XHRcdFx0XHRpZiAoIG1vZGVybiApIHtcblx0XHRcdFx0XHRcdHZhclxuXHRcdFx0XHRcdFx0XHRzdGFydCAgICAgID0gc2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQsXG5cdFx0XHRcdFx0XHRcdGxlbiAgICAgICAgPSBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgsXG5cdFx0XHRcdFx0XHRcdHZpc1JlY29yZHMgPSBzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCksXG5cdFx0XHRcdFx0XHRcdGFsbCAgICAgICAgPSBsZW4gPT09IC0xLFxuXHRcdFx0XHRcdFx0XHRwYWdlID0gYWxsID8gMCA6IE1hdGguY2VpbCggc3RhcnQgLyBsZW4gKSxcblx0XHRcdFx0XHRcdFx0cGFnZXMgPSBhbGwgPyAxIDogTWF0aC5jZWlsKCB2aXNSZWNvcmRzIC8gbGVuICksXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbnMgPSBwbHVnaW4ocGFnZSwgcGFnZXMpLFxuXHRcdFx0XHRcdFx0XHRpLCBpZW47XG5cdFxuXHRcdFx0XHRcdFx0Zm9yICggaT0wLCBpZW49ZmVhdHVyZXMucC5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRcdFx0X2ZuUmVuZGVyZXIoIHNldHRpbmdzLCAncGFnZUJ1dHRvbicgKShcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncywgZmVhdHVyZXMucFtpXSwgaSwgYnV0dG9ucywgcGFnZSwgcGFnZXNcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRwbHVnaW4uZm5VcGRhdGUoIHNldHRpbmdzLCByZWRyYXcgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwic05hbWVcIjogXCJwYWdpbmF0aW9uXCJcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBub2RlO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFsdGVyIHRoZSBkaXNwbGF5IHNldHRpbmdzIHRvIGNoYW5nZSB0aGUgcGFnZVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge3N0cmluZ3xpbnR9IGFjdGlvbiBQYWdpbmcgYWN0aW9uIHRvIHRha2U6IFwiZmlyc3RcIiwgXCJwcmV2aW91c1wiLFxuXHQgKiAgICBcIm5leHRcIiBvciBcImxhc3RcIiBvciBwYWdlIG51bWJlciB0byBqdW1wIHRvIChpbnRlZ2VyKVxuXHQgKiAgQHBhcmFtIFtib29sXSByZWRyYXcgQXV0b21hdGljYWxseSBkcmF3IHRoZSB1cGRhdGUgb3Igbm90XG5cdCAqICBAcmV0dXJucyB7Ym9vbH0gdHJ1ZSBwYWdlIGhhcyBjaGFuZ2VkLCBmYWxzZSAtIG5vIGNoYW5nZVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5QYWdlQ2hhbmdlICggc2V0dGluZ3MsIGFjdGlvbiwgcmVkcmF3IClcblx0e1xuXHRcdHZhclxuXHRcdFx0c3RhcnQgICAgID0gc2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQsXG5cdFx0XHRsZW4gICAgICAgPSBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgsXG5cdFx0XHRyZWNvcmRzICAgPSBzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCk7XG5cdFxuXHRcdGlmICggcmVjb3JkcyA9PT0gMCB8fCBsZW4gPT09IC0xIClcblx0XHR7XG5cdFx0XHRzdGFydCA9IDA7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCB0eXBlb2YgYWN0aW9uID09PSBcIm51bWJlclwiIClcblx0XHR7XG5cdFx0XHRzdGFydCA9IGFjdGlvbiAqIGxlbjtcblx0XG5cdFx0XHRpZiAoIHN0YXJ0ID4gcmVjb3JkcyApXG5cdFx0XHR7XG5cdFx0XHRcdHN0YXJ0ID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSBpZiAoIGFjdGlvbiA9PSBcImZpcnN0XCIgKVxuXHRcdHtcblx0XHRcdHN0YXJ0ID0gMDtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIGFjdGlvbiA9PSBcInByZXZpb3VzXCIgKVxuXHRcdHtcblx0XHRcdHN0YXJ0ID0gbGVuID49IDAgP1xuXHRcdFx0XHRzdGFydCAtIGxlbiA6XG5cdFx0XHRcdDA7XG5cdFxuXHRcdFx0aWYgKCBzdGFydCA8IDAgKVxuXHRcdFx0e1xuXHRcdFx0ICBzdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBhY3Rpb24gPT0gXCJuZXh0XCIgKVxuXHRcdHtcblx0XHRcdGlmICggc3RhcnQgKyBsZW4gPCByZWNvcmRzIClcblx0XHRcdHtcblx0XHRcdFx0c3RhcnQgKz0gbGVuO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIGlmICggYWN0aW9uID09IFwibGFzdFwiIClcblx0XHR7XG5cdFx0XHRzdGFydCA9IE1hdGguZmxvb3IoIChyZWNvcmRzLTEpIC8gbGVuKSAqIGxlbjtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdF9mbkxvZyggc2V0dGluZ3MsIDAsIFwiVW5rbm93biBwYWdpbmcgYWN0aW9uOiBcIithY3Rpb24sIDUgKTtcblx0XHR9XG5cdFxuXHRcdHZhciBjaGFuZ2VkID0gc2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQgIT09IHN0YXJ0O1xuXHRcdHNldHRpbmdzLl9pRGlzcGxheVN0YXJ0ID0gc3RhcnQ7XG5cdFxuXHRcdGlmICggY2hhbmdlZCApIHtcblx0XHRcdF9mbkNhbGxiYWNrRmlyZSggc2V0dGluZ3MsIG51bGwsICdwYWdlJywgW3NldHRpbmdzXSApO1xuXHRcblx0XHRcdGlmICggcmVkcmF3ICkge1xuXHRcdFx0XHRfZm5EcmF3KCBzZXR0aW5ncyApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGNoYW5nZWQ7XG5cdH1cblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIEdlbmVyYXRlIHRoZSBub2RlIHJlcXVpcmVkIGZvciB0aGUgcHJvY2Vzc2luZyBub2RlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEByZXR1cm5zIHtub2RlfSBQcm9jZXNzaW5nIGVsZW1lbnRcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRmVhdHVyZUh0bWxQcm9jZXNzaW5nICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0cmV0dXJuICQoJzxkaXYvPicsIHtcblx0XHRcdFx0J2lkJzogISBzZXR0aW5ncy5hYW5GZWF0dXJlcy5yID8gc2V0dGluZ3Muc1RhYmxlSWQrJ19wcm9jZXNzaW5nJyA6IG51bGwsXG5cdFx0XHRcdCdjbGFzcyc6IHNldHRpbmdzLm9DbGFzc2VzLnNQcm9jZXNzaW5nXG5cdFx0XHR9IClcblx0XHRcdC5odG1sKCBzZXR0aW5ncy5vTGFuZ3VhZ2Uuc1Byb2Nlc3NpbmcgKVxuXHRcdFx0Lmluc2VydEJlZm9yZSggc2V0dGluZ3MublRhYmxlIClbMF07XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRGlzcGxheSBvciBoaWRlIHRoZSBwcm9jZXNzaW5nIGluZGljYXRvclxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge2Jvb2x9IHNob3cgU2hvdyB0aGUgcHJvY2Vzc2luZyBpbmRpY2F0b3IgKHRydWUpIG9yIG5vdCAoZmFsc2UpXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mblByb2Nlc3NpbmdEaXNwbGF5ICggc2V0dGluZ3MsIHNob3cgKVxuXHR7XG5cdFx0aWYgKCBzZXR0aW5ncy5vRmVhdHVyZXMuYlByb2Nlc3NpbmcgKSB7XG5cdFx0XHQkKHNldHRpbmdzLmFhbkZlYXR1cmVzLnIpLmNzcyggJ2Rpc3BsYXknLCBzaG93ID8gJ2Jsb2NrJyA6ICdub25lJyApO1xuXHRcdH1cblx0XG5cdFx0X2ZuQ2FsbGJhY2tGaXJlKCBzZXR0aW5ncywgbnVsbCwgJ3Byb2Nlc3NpbmcnLCBbc2V0dGluZ3MsIHNob3ddICk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBZGQgYW55IGNvbnRyb2wgZWxlbWVudHMgZm9yIHRoZSB0YWJsZSAtIHNwZWNpZmljYWxseSBzY3JvbGxpbmdcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHJldHVybnMge25vZGV9IE5vZGUgdG8gYWRkIHRvIHRoZSBET01cblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRmVhdHVyZUh0bWxUYWJsZSAoIHNldHRpbmdzIClcblx0e1xuXHRcdHZhciB0YWJsZSA9ICQoc2V0dGluZ3MublRhYmxlKTtcblx0XG5cdFx0Ly8gQWRkIHRoZSBBUklBIGdyaWQgcm9sZSB0byB0aGUgdGFibGVcblx0XHR0YWJsZS5hdHRyKCAncm9sZScsICdncmlkJyApO1xuXHRcblx0XHQvLyBTY3JvbGxpbmcgZnJvbSBoZXJlIG9uIGluXG5cdFx0dmFyIHNjcm9sbCA9IHNldHRpbmdzLm9TY3JvbGw7XG5cdFxuXHRcdGlmICggc2Nyb2xsLnNYID09PSAnJyAmJiBzY3JvbGwuc1kgPT09ICcnICkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzLm5UYWJsZTtcblx0XHR9XG5cdFxuXHRcdHZhciBzY3JvbGxYID0gc2Nyb2xsLnNYO1xuXHRcdHZhciBzY3JvbGxZID0gc2Nyb2xsLnNZO1xuXHRcdHZhciBjbGFzc2VzID0gc2V0dGluZ3Mub0NsYXNzZXM7XG5cdFx0dmFyIGNhcHRpb24gPSB0YWJsZS5jaGlsZHJlbignY2FwdGlvbicpO1xuXHRcdHZhciBjYXB0aW9uU2lkZSA9IGNhcHRpb24ubGVuZ3RoID8gY2FwdGlvblswXS5fY2FwdGlvblNpZGUgOiBudWxsO1xuXHRcdHZhciBoZWFkZXJDbG9uZSA9ICQoIHRhYmxlWzBdLmNsb25lTm9kZShmYWxzZSkgKTtcblx0XHR2YXIgZm9vdGVyQ2xvbmUgPSAkKCB0YWJsZVswXS5jbG9uZU5vZGUoZmFsc2UpICk7XG5cdFx0dmFyIGZvb3RlciA9IHRhYmxlLmNoaWxkcmVuKCd0Zm9vdCcpO1xuXHRcdHZhciBfZGl2ID0gJzxkaXYvPic7XG5cdFx0dmFyIHNpemUgPSBmdW5jdGlvbiAoIHMgKSB7XG5cdFx0XHRyZXR1cm4gIXMgPyBudWxsIDogX2ZuU3RyaW5nVG9Dc3MoIHMgKTtcblx0XHR9O1xuXHRcblx0XHRpZiAoICEgZm9vdGVyLmxlbmd0aCApIHtcblx0XHRcdGZvb3RlciA9IG51bGw7XG5cdFx0fVxuXHRcblx0XHQvKlxuXHRcdCAqIFRoZSBIVE1MIHN0cnVjdHVyZSB0aGF0IHdlIHdhbnQgdG8gZ2VuZXJhdGUgaW4gdGhpcyBmdW5jdGlvbiBpczpcblx0XHQgKiAgZGl2IC0gc2Nyb2xsZXJcblx0XHQgKiAgICBkaXYgLSBzY3JvbGwgaGVhZFxuXHRcdCAqICAgICAgZGl2IC0gc2Nyb2xsIGhlYWQgaW5uZXJcblx0XHQgKiAgICAgICAgdGFibGUgLSBzY3JvbGwgaGVhZCB0YWJsZVxuXHRcdCAqICAgICAgICAgIHRoZWFkIC0gdGhlYWRcblx0XHQgKiAgICBkaXYgLSBzY3JvbGwgYm9keVxuXHRcdCAqICAgICAgdGFibGUgLSB0YWJsZSAobWFzdGVyIHRhYmxlKVxuXHRcdCAqICAgICAgICB0aGVhZCAtIHRoZWFkIGNsb25lIGZvciBzaXppbmdcblx0XHQgKiAgICAgICAgdGJvZHkgLSB0Ym9keVxuXHRcdCAqICAgIGRpdiAtIHNjcm9sbCBmb290XG5cdFx0ICogICAgICBkaXYgLSBzY3JvbGwgZm9vdCBpbm5lclxuXHRcdCAqICAgICAgICB0YWJsZSAtIHNjcm9sbCBmb290IHRhYmxlXG5cdFx0ICogICAgICAgICAgdGZvb3QgLSB0Zm9vdFxuXHRcdCAqL1xuXHRcdHZhciBzY3JvbGxlciA9ICQoIF9kaXYsIHsgJ2NsYXNzJzogY2xhc3Nlcy5zU2Nyb2xsV3JhcHBlciB9IClcblx0XHRcdC5hcHBlbmQoXG5cdFx0XHRcdCQoX2RpdiwgeyAnY2xhc3MnOiBjbGFzc2VzLnNTY3JvbGxIZWFkIH0gKVxuXHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0XHRcdFx0Ym9yZGVyOiAwLFxuXHRcdFx0XHRcdFx0d2lkdGg6IHNjcm9sbFggPyBzaXplKHNjcm9sbFgpIDogJzEwMCUnXG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0LmFwcGVuZChcblx0XHRcdFx0XHRcdCQoX2RpdiwgeyAnY2xhc3MnOiBjbGFzc2VzLnNTY3JvbGxIZWFkSW5uZXIgfSApXG5cdFx0XHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdFx0XHQnYm94LXNpemluZyc6ICdjb250ZW50LWJveCcsXG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6IHNjcm9sbC5zWElubmVyIHx8ICcxMDAlJ1xuXHRcdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdFx0LmFwcGVuZChcblx0XHRcdFx0XHRcdFx0XHRoZWFkZXJDbG9uZVxuXHRcdFx0XHRcdFx0XHRcdFx0LnJlbW92ZUF0dHIoJ2lkJylcblx0XHRcdFx0XHRcdFx0XHRcdC5jc3MoICdtYXJnaW4tbGVmdCcsIDAgKVxuXHRcdFx0XHRcdFx0XHRcdFx0LmFwcGVuZCggY2FwdGlvblNpZGUgPT09ICd0b3AnID8gY2FwdGlvbiA6IG51bGwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0LmFwcGVuZChcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGFibGUuY2hpbGRyZW4oJ3RoZWFkJylcblx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdClcblx0XHRcdC5hcHBlbmQoXG5cdFx0XHRcdCQoX2RpdiwgeyAnY2xhc3MnOiBjbGFzc2VzLnNTY3JvbGxCb2R5IH0gKVxuXHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0XHRcdFx0b3ZlcmZsb3c6ICdhdXRvJyxcblx0XHRcdFx0XHRcdHdpZHRoOiBzaXplKCBzY3JvbGxYIClcblx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHQuYXBwZW5kKCB0YWJsZSApXG5cdFx0XHQpO1xuXHRcblx0XHRpZiAoIGZvb3RlciApIHtcblx0XHRcdHNjcm9sbGVyLmFwcGVuZChcblx0XHRcdFx0JChfZGl2LCB7ICdjbGFzcyc6IGNsYXNzZXMuc1Njcm9sbEZvb3QgfSApXG5cdFx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdFx0b3ZlcmZsb3c6ICdoaWRkZW4nLFxuXHRcdFx0XHRcdFx0Ym9yZGVyOiAwLFxuXHRcdFx0XHRcdFx0d2lkdGg6IHNjcm9sbFggPyBzaXplKHNjcm9sbFgpIDogJzEwMCUnXG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0LmFwcGVuZChcblx0XHRcdFx0XHRcdCQoX2RpdiwgeyAnY2xhc3MnOiBjbGFzc2VzLnNTY3JvbGxGb290SW5uZXIgfSApXG5cdFx0XHRcdFx0XHRcdC5hcHBlbmQoXG5cdFx0XHRcdFx0XHRcdFx0Zm9vdGVyQ2xvbmVcblx0XHRcdFx0XHRcdFx0XHRcdC5yZW1vdmVBdHRyKCdpZCcpXG5cdFx0XHRcdFx0XHRcdFx0XHQuY3NzKCAnbWFyZ2luLWxlZnQnLCAwIClcblx0XHRcdFx0XHRcdFx0XHRcdC5hcHBlbmQoIGNhcHRpb25TaWRlID09PSAnYm90dG9tJyA/IGNhcHRpb24gOiBudWxsIClcblx0XHRcdFx0XHRcdFx0XHRcdC5hcHBlbmQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRhYmxlLmNoaWxkcmVuKCd0Zm9vdCcpXG5cdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH1cblx0XG5cdFx0dmFyIGNoaWxkcmVuID0gc2Nyb2xsZXIuY2hpbGRyZW4oKTtcblx0XHR2YXIgc2Nyb2xsSGVhZCA9IGNoaWxkcmVuWzBdO1xuXHRcdHZhciBzY3JvbGxCb2R5ID0gY2hpbGRyZW5bMV07XG5cdFx0dmFyIHNjcm9sbEZvb3QgPSBmb290ZXIgPyBjaGlsZHJlblsyXSA6IG51bGw7XG5cdFxuXHRcdC8vIFdoZW4gdGhlIGJvZHkgaXMgc2Nyb2xsZWQsIHRoZW4gd2UgYWxzbyB3YW50IHRvIHNjcm9sbCB0aGUgaGVhZGVyc1xuXHRcdGlmICggc2Nyb2xsWCApIHtcblx0XHRcdCQoc2Nyb2xsQm9keSkub24oICdzY3JvbGwuRFQnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHR2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdDtcblx0XG5cdFx0XHRcdHNjcm9sbEhlYWQuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG5cdFxuXHRcdFx0XHRpZiAoIGZvb3RlciApIHtcblx0XHRcdFx0XHRzY3JvbGxGb290LnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcblx0XHQkKHNjcm9sbEJvZHkpLmNzcyhcblx0XHRcdHNjcm9sbFkgJiYgc2Nyb2xsLmJDb2xsYXBzZSA/ICdtYXgtaGVpZ2h0JyA6ICdoZWlnaHQnLCBcblx0XHRcdHNjcm9sbFlcblx0XHQpO1xuXHRcblx0XHRzZXR0aW5ncy5uU2Nyb2xsSGVhZCA9IHNjcm9sbEhlYWQ7XG5cdFx0c2V0dGluZ3MublNjcm9sbEJvZHkgPSBzY3JvbGxCb2R5O1xuXHRcdHNldHRpbmdzLm5TY3JvbGxGb290ID0gc2Nyb2xsRm9vdDtcblx0XG5cdFx0Ly8gT24gcmVkcmF3IC0gYWxpZ24gY29sdW1uc1xuXHRcdHNldHRpbmdzLmFvRHJhd0NhbGxiYWNrLnB1c2goIHtcblx0XHRcdFwiZm5cIjogX2ZuU2Nyb2xsRHJhdyxcblx0XHRcdFwic05hbWVcIjogXCJzY3JvbGxpbmdcIlxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIHNjcm9sbGVyWzBdO1xuXHR9XG5cdFxuXHRcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGhlYWRlciwgZm9vdGVyIGFuZCBib2R5IHRhYmxlcyBmb3IgcmVzaXppbmcgLSBpLmUuIGNvbHVtblxuXHQgKiBhbGlnbm1lbnQuXG5cdCAqXG5cdCAqIFdlbGNvbWUgdG8gdGhlIG1vc3QgaG9ycmlibGUgZnVuY3Rpb24gRGF0YVRhYmxlcy4gVGhlIHByb2Nlc3MgdGhhdCB0aGlzXG5cdCAqIGZ1bmN0aW9uIGZvbGxvd3MgaXMgYmFzaWNhbGx5OlxuXHQgKiAgIDEuIFJlLWNyZWF0ZSB0aGUgdGFibGUgaW5zaWRlIHRoZSBzY3JvbGxpbmcgZGl2XG5cdCAqICAgMi4gVGFrZSBsaXZlIG1lYXN1cmVtZW50cyBmcm9tIHRoZSBET01cblx0ICogICAzLiBBcHBseSB0aGUgbWVhc3VyZW1lbnRzIHRvIGFsaWduIHRoZSBjb2x1bW5zXG5cdCAqICAgNC4gQ2xlYW4gdXBcblx0ICpcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5TY3JvbGxEcmF3ICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0Ly8gR2l2ZW4gdGhhdCB0aGlzIGlzIHN1Y2ggYSBtb25zdGVyIGZ1bmN0aW9uLCBhIGxvdCBvZiB2YXJpYWJsZXMgYXJlIHVzZVxuXHRcdC8vIHRvIHRyeSBhbmQga2VlcCB0aGUgbWluaW1pc2VkIHNpemUgYXMgc21hbGwgYXMgcG9zc2libGVcblx0XHR2YXJcblx0XHRcdHNjcm9sbCAgICAgICAgID0gc2V0dGluZ3Mub1Njcm9sbCxcblx0XHRcdHNjcm9sbFggICAgICAgID0gc2Nyb2xsLnNYLFxuXHRcdFx0c2Nyb2xsWElubmVyICAgPSBzY3JvbGwuc1hJbm5lcixcblx0XHRcdHNjcm9sbFkgICAgICAgID0gc2Nyb2xsLnNZLFxuXHRcdFx0YmFyV2lkdGggICAgICAgPSBzY3JvbGwuaUJhcldpZHRoLFxuXHRcdFx0ZGl2SGVhZGVyICAgICAgPSAkKHNldHRpbmdzLm5TY3JvbGxIZWFkKSxcblx0XHRcdGRpdkhlYWRlclN0eWxlID0gZGl2SGVhZGVyWzBdLnN0eWxlLFxuXHRcdFx0ZGl2SGVhZGVySW5uZXIgPSBkaXZIZWFkZXIuY2hpbGRyZW4oJ2RpdicpLFxuXHRcdFx0ZGl2SGVhZGVySW5uZXJTdHlsZSA9IGRpdkhlYWRlcklubmVyWzBdLnN0eWxlLFxuXHRcdFx0ZGl2SGVhZGVyVGFibGUgPSBkaXZIZWFkZXJJbm5lci5jaGlsZHJlbigndGFibGUnKSxcblx0XHRcdGRpdkJvZHlFbCAgICAgID0gc2V0dGluZ3MublNjcm9sbEJvZHksXG5cdFx0XHRkaXZCb2R5ICAgICAgICA9ICQoZGl2Qm9keUVsKSxcblx0XHRcdGRpdkJvZHlTdHlsZSAgID0gZGl2Qm9keUVsLnN0eWxlLFxuXHRcdFx0ZGl2Rm9vdGVyICAgICAgPSAkKHNldHRpbmdzLm5TY3JvbGxGb290KSxcblx0XHRcdGRpdkZvb3RlcklubmVyID0gZGl2Rm9vdGVyLmNoaWxkcmVuKCdkaXYnKSxcblx0XHRcdGRpdkZvb3RlclRhYmxlID0gZGl2Rm9vdGVySW5uZXIuY2hpbGRyZW4oJ3RhYmxlJyksXG5cdFx0XHRoZWFkZXIgICAgICAgICA9ICQoc2V0dGluZ3MublRIZWFkKSxcblx0XHRcdHRhYmxlICAgICAgICAgID0gJChzZXR0aW5ncy5uVGFibGUpLFxuXHRcdFx0dGFibGVFbCAgICAgICAgPSB0YWJsZVswXSxcblx0XHRcdHRhYmxlU3R5bGUgICAgID0gdGFibGVFbC5zdHlsZSxcblx0XHRcdGZvb3RlciAgICAgICAgID0gc2V0dGluZ3MublRGb290ID8gJChzZXR0aW5ncy5uVEZvb3QpIDogbnVsbCxcblx0XHRcdGJyb3dzZXIgICAgICAgID0gc2V0dGluZ3Mub0Jyb3dzZXIsXG5cdFx0XHRpZTY3ICAgICAgICAgICA9IGJyb3dzZXIuYlNjcm9sbE92ZXJzaXplLFxuXHRcdFx0ZHRIZWFkZXJDZWxscyAgPSBfcGx1Y2soIHNldHRpbmdzLmFvQ29sdW1ucywgJ25UaCcgKSxcblx0XHRcdGhlYWRlclRyZ0VscywgZm9vdGVyVHJnRWxzLFxuXHRcdFx0aGVhZGVyU3JjRWxzLCBmb290ZXJTcmNFbHMsXG5cdFx0XHRoZWFkZXJDb3B5LCBmb290ZXJDb3B5LFxuXHRcdFx0aGVhZGVyV2lkdGhzPVtdLCBmb290ZXJXaWR0aHM9W10sXG5cdFx0XHRoZWFkZXJDb250ZW50PVtdLCBmb290ZXJDb250ZW50PVtdLFxuXHRcdFx0aWR4LCBjb3JyZWN0aW9uLCBzYW5pdHlXaWR0aCxcblx0XHRcdHplcm9PdXQgPSBmdW5jdGlvbihuU2l6ZXIpIHtcblx0XHRcdFx0dmFyIHN0eWxlID0gblNpemVyLnN0eWxlO1xuXHRcdFx0XHRzdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG5cdFx0XHRcdHN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjBcIjtcblx0XHRcdFx0c3R5bGUuYm9yZGVyVG9wV2lkdGggPSBcIjBcIjtcblx0XHRcdFx0c3R5bGUuYm9yZGVyQm90dG9tV2lkdGggPSBcIjBcIjtcblx0XHRcdFx0c3R5bGUuaGVpZ2h0ID0gMDtcblx0XHRcdH07XG5cdFxuXHRcdC8vIElmIHRoZSBzY3JvbGxiYXIgdmlzaWJpbGl0eSBoYXMgY2hhbmdlZCBmcm9tIHRoZSBsYXN0IGRyYXcsIHdlIG5lZWQgdG9cblx0XHQvLyBhZGp1c3QgdGhlIGNvbHVtbiBzaXplcyBhcyB0aGUgdGFibGUgd2lkdGggd2lsbCBoYXZlIGNoYW5nZWQgdG8gYWNjb3VudFxuXHRcdC8vIGZvciB0aGUgc2Nyb2xsYmFyXG5cdFx0dmFyIHNjcm9sbEJhclZpcyA9IGRpdkJvZHlFbC5zY3JvbGxIZWlnaHQgPiBkaXZCb2R5RWwuY2xpZW50SGVpZ2h0O1xuXHRcdFxuXHRcdGlmICggc2V0dGluZ3Muc2Nyb2xsQmFyVmlzICE9PSBzY3JvbGxCYXJWaXMgJiYgc2V0dGluZ3Muc2Nyb2xsQmFyVmlzICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRzZXR0aW5ncy5zY3JvbGxCYXJWaXMgPSBzY3JvbGxCYXJWaXM7XG5cdFx0XHRfZm5BZGp1c3RDb2x1bW5TaXppbmcoIHNldHRpbmdzICk7XG5cdFx0XHRyZXR1cm47IC8vIGFkanVzdCBjb2x1bW4gc2l6aW5nIHdpbGwgY2FsbCB0aGlzIGZ1bmN0aW9uIGFnYWluXG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0c2V0dGluZ3Muc2Nyb2xsQmFyVmlzID0gc2Nyb2xsQmFyVmlzO1xuXHRcdH1cblx0XG5cdFx0Lypcblx0XHQgKiAxLiBSZS1jcmVhdGUgdGhlIHRhYmxlIGluc2lkZSB0aGUgc2Nyb2xsaW5nIGRpdlxuXHRcdCAqL1xuXHRcblx0XHQvLyBSZW1vdmUgdGhlIG9sZCBtaW5pbWlzZWQgdGhlYWQgYW5kIHRmb290IGVsZW1lbnRzIGluIHRoZSBpbm5lciB0YWJsZVxuXHRcdHRhYmxlLmNoaWxkcmVuKCd0aGVhZCwgdGZvb3QnKS5yZW1vdmUoKTtcblx0XG5cdFx0aWYgKCBmb290ZXIgKSB7XG5cdFx0XHRmb290ZXJDb3B5ID0gZm9vdGVyLmNsb25lKCkucHJlcGVuZFRvKCB0YWJsZSApO1xuXHRcdFx0Zm9vdGVyVHJnRWxzID0gZm9vdGVyLmZpbmQoJ3RyJyk7IC8vIHRoZSBvcmlnaW5hbCB0Zm9vdCBpcyBpbiBpdHMgb3duIHRhYmxlIGFuZCBtdXN0IGJlIHNpemVkXG5cdFx0XHRmb290ZXJTcmNFbHMgPSBmb290ZXJDb3B5LmZpbmQoJ3RyJyk7XG5cdFx0fVxuXHRcblx0XHQvLyBDbG9uZSB0aGUgY3VycmVudCBoZWFkZXIgYW5kIGZvb3RlciBlbGVtZW50cyBhbmQgdGhlbiBwbGFjZSBpdCBpbnRvIHRoZSBpbm5lciB0YWJsZVxuXHRcdGhlYWRlckNvcHkgPSBoZWFkZXIuY2xvbmUoKS5wcmVwZW5kVG8oIHRhYmxlICk7XG5cdFx0aGVhZGVyVHJnRWxzID0gaGVhZGVyLmZpbmQoJ3RyJyk7IC8vIG9yaWdpbmFsIGhlYWRlciBpcyBpbiBpdHMgb3duIHRhYmxlXG5cdFx0aGVhZGVyU3JjRWxzID0gaGVhZGVyQ29weS5maW5kKCd0cicpO1xuXHRcdGhlYWRlckNvcHkuZmluZCgndGgsIHRkJykucmVtb3ZlQXR0cigndGFiaW5kZXgnKTtcblx0XG5cdFxuXHRcdC8qXG5cdFx0ICogMi4gVGFrZSBsaXZlIG1lYXN1cmVtZW50cyBmcm9tIHRoZSBET00gLSBkbyBub3QgYWx0ZXIgdGhlIERPTSBpdHNlbGYhXG5cdFx0ICovXG5cdFxuXHRcdC8vIFJlbW92ZSBvbGQgc2l6aW5nIGFuZCBhcHBseSB0aGUgY2FsY3VsYXRlZCBjb2x1bW4gd2lkdGhzXG5cdFx0Ly8gR2V0IHRoZSB1bmlxdWUgY29sdW1uIGhlYWRlcnMgaW4gdGhlIG5ld2x5IGNyZWF0ZWQgKGNsb25lZCkgaGVhZGVyLiBXZSB3YW50IHRvIGFwcGx5IHRoZVxuXHRcdC8vIGNhbGN1bGF0ZWQgc2l6ZXMgdG8gdGhpcyBoZWFkZXJcblx0XHRpZiAoICEgc2Nyb2xsWCApXG5cdFx0e1xuXHRcdFx0ZGl2Qm9keVN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0ZGl2SGVhZGVyWzBdLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdH1cblx0XG5cdFx0JC5lYWNoKCBfZm5HZXRVbmlxdWVUaHMoIHNldHRpbmdzLCBoZWFkZXJDb3B5ICksIGZ1bmN0aW9uICggaSwgZWwgKSB7XG5cdFx0XHRpZHggPSBfZm5WaXNpYmxlVG9Db2x1bW5JbmRleCggc2V0dGluZ3MsIGkgKTtcblx0XHRcdGVsLnN0eWxlLndpZHRoID0gc2V0dGluZ3MuYW9Db2x1bW5zW2lkeF0uc1dpZHRoO1xuXHRcdH0gKTtcblx0XG5cdFx0aWYgKCBmb290ZXIgKSB7XG5cdFx0XHRfZm5BcHBseVRvQ2hpbGRyZW4oIGZ1bmN0aW9uKG4pIHtcblx0XHRcdFx0bi5zdHlsZS53aWR0aCA9IFwiXCI7XG5cdFx0XHR9LCBmb290ZXJTcmNFbHMgKTtcblx0XHR9XG5cdFxuXHRcdC8vIFNpemUgdGhlIHRhYmxlIGFzIGEgd2hvbGVcblx0XHRzYW5pdHlXaWR0aCA9IHRhYmxlLm91dGVyV2lkdGgoKTtcblx0XHRpZiAoIHNjcm9sbFggPT09IFwiXCIgKSB7XG5cdFx0XHQvLyBObyB4IHNjcm9sbGluZ1xuXHRcdFx0dGFibGVTdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuXHRcblx0XHRcdC8vIElFNyB3aWxsIG1ha2UgdGhlIHdpZHRoIG9mIHRoZSB0YWJsZSB3aGVuIDEwMCUgaW5jbHVkZSB0aGUgc2Nyb2xsYmFyXG5cdFx0XHQvLyAtIHdoaWNoIGlzIHNob3VsZG4ndC4gV2hlbiB0aGVyZSBpcyBhIHNjcm9sbGJhciB3ZSBuZWVkIHRvIHRha2UgdGhpc1xuXHRcdFx0Ly8gaW50byBhY2NvdW50LlxuXHRcdFx0aWYgKCBpZTY3ICYmICh0YWJsZS5maW5kKCd0Ym9keScpLmhlaWdodCgpID4gZGl2Qm9keUVsLm9mZnNldEhlaWdodCB8fFxuXHRcdFx0XHRkaXZCb2R5LmNzcygnb3ZlcmZsb3cteScpID09IFwic2Nyb2xsXCIpXG5cdFx0XHQpIHtcblx0XHRcdFx0dGFibGVTdHlsZS53aWR0aCA9IF9mblN0cmluZ1RvQ3NzKCB0YWJsZS5vdXRlcldpZHRoKCkgLSBiYXJXaWR0aCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUmVjYWxjdWxhdGUgdGhlIHNhbml0eSB3aWR0aFxuXHRcdFx0c2FuaXR5V2lkdGggPSB0YWJsZS5vdXRlcldpZHRoKCk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBzY3JvbGxYSW5uZXIgIT09IFwiXCIgKSB7XG5cdFx0XHQvLyBsZWdhY3kgeCBzY3JvbGwgaW5uZXIgaGFzIGJlZW4gZ2l2ZW4gLSB1c2UgaXRcblx0XHRcdHRhYmxlU3R5bGUud2lkdGggPSBfZm5TdHJpbmdUb0NzcyhzY3JvbGxYSW5uZXIpO1xuXHRcblx0XHRcdC8vIFJlY2FsY3VsYXRlIHRoZSBzYW5pdHkgd2lkdGhcblx0XHRcdHNhbml0eVdpZHRoID0gdGFibGUub3V0ZXJXaWR0aCgpO1xuXHRcdH1cblx0XG5cdFx0Ly8gSGlkZGVuIGhlYWRlciBzaG91bGQgaGF2ZSB6ZXJvIGhlaWdodCwgc28gcmVtb3ZlIHBhZGRpbmcgYW5kIGJvcmRlcnMuIFRoZW5cblx0XHQvLyBzZXQgdGhlIHdpZHRoIGJhc2VkIG9uIHRoZSByZWFsIGhlYWRlcnNcblx0XG5cdFx0Ly8gQXBwbHkgYWxsIHN0eWxlcyBpbiBvbmUgcGFzc1xuXHRcdF9mbkFwcGx5VG9DaGlsZHJlbiggemVyb091dCwgaGVhZGVyU3JjRWxzICk7XG5cdFxuXHRcdC8vIFJlYWQgYWxsIHdpZHRocyBpbiBuZXh0IHBhc3Ncblx0XHRfZm5BcHBseVRvQ2hpbGRyZW4oIGZ1bmN0aW9uKG5TaXplcikge1xuXHRcdFx0aGVhZGVyQ29udGVudC5wdXNoKCBuU2l6ZXIuaW5uZXJIVE1MICk7XG5cdFx0XHRoZWFkZXJXaWR0aHMucHVzaCggX2ZuU3RyaW5nVG9Dc3MoICQoblNpemVyKS5jc3MoJ3dpZHRoJykgKSApO1xuXHRcdH0sIGhlYWRlclNyY0VscyApO1xuXHRcblx0XHQvLyBBcHBseSBhbGwgd2lkdGhzIGluIGZpbmFsIHBhc3Ncblx0XHRfZm5BcHBseVRvQ2hpbGRyZW4oIGZ1bmN0aW9uKG5Ub1NpemUsIGkpIHtcblx0XHRcdC8vIE9ubHkgYXBwbHkgd2lkdGhzIHRvIHRoZSBEYXRhVGFibGVzIGRldGVjdGVkIGhlYWRlciBjZWxscyAtIHRoaXNcblx0XHRcdC8vIHByZXZlbnRzIGNvbXBsZXggaGVhZGVycyBmcm9tIGhhdmluZyBjb250cmFkaWN0b3J5IHNpemVzIGFwcGxpZWRcblx0XHRcdGlmICggJC5pbkFycmF5KCBuVG9TaXplLCBkdEhlYWRlckNlbGxzICkgIT09IC0xICkge1xuXHRcdFx0XHRuVG9TaXplLnN0eWxlLndpZHRoID0gaGVhZGVyV2lkdGhzW2ldO1xuXHRcdFx0fVxuXHRcdH0sIGhlYWRlclRyZ0VscyApO1xuXHRcblx0XHQkKGhlYWRlclNyY0VscykuaGVpZ2h0KDApO1xuXHRcblx0XHQvKiBTYW1lIGFnYWluIHdpdGggdGhlIGZvb3RlciBpZiB3ZSBoYXZlIG9uZSAqL1xuXHRcdGlmICggZm9vdGVyIClcblx0XHR7XG5cdFx0XHRfZm5BcHBseVRvQ2hpbGRyZW4oIHplcm9PdXQsIGZvb3RlclNyY0VscyApO1xuXHRcblx0XHRcdF9mbkFwcGx5VG9DaGlsZHJlbiggZnVuY3Rpb24oblNpemVyKSB7XG5cdFx0XHRcdGZvb3RlckNvbnRlbnQucHVzaCggblNpemVyLmlubmVySFRNTCApO1xuXHRcdFx0XHRmb290ZXJXaWR0aHMucHVzaCggX2ZuU3RyaW5nVG9Dc3MoICQoblNpemVyKS5jc3MoJ3dpZHRoJykgKSApO1xuXHRcdFx0fSwgZm9vdGVyU3JjRWxzICk7XG5cdFxuXHRcdFx0X2ZuQXBwbHlUb0NoaWxkcmVuKCBmdW5jdGlvbihuVG9TaXplLCBpKSB7XG5cdFx0XHRcdG5Ub1NpemUuc3R5bGUud2lkdGggPSBmb290ZXJXaWR0aHNbaV07XG5cdFx0XHR9LCBmb290ZXJUcmdFbHMgKTtcblx0XG5cdFx0XHQkKGZvb3RlclNyY0VscykuaGVpZ2h0KDApO1xuXHRcdH1cblx0XG5cdFxuXHRcdC8qXG5cdFx0ICogMy4gQXBwbHkgdGhlIG1lYXN1cmVtZW50c1xuXHRcdCAqL1xuXHRcblx0XHQvLyBcIkhpZGVcIiB0aGUgaGVhZGVyIGFuZCBmb290ZXIgdGhhdCB3ZSB1c2VkIGZvciB0aGUgc2l6aW5nLiBXZSBuZWVkIHRvIGtlZXBcblx0XHQvLyB0aGUgY29udGVudCBvZiB0aGUgY2VsbCBzbyB0aGF0IHRoZSB3aWR0aCBhcHBsaWVkIHRvIHRoZSBoZWFkZXIgYW5kIGJvZHlcblx0XHQvLyBib3RoIG1hdGNoLCBidXQgd2Ugd2FudCB0byBoaWRlIGl0IGNvbXBsZXRlbHkuIFdlIHdhbnQgdG8gYWxzbyBmaXggdGhlaXJcblx0XHQvLyB3aWR0aCB0byB3aGF0IHRoZXkgY3VycmVudGx5IGFyZVxuXHRcdF9mbkFwcGx5VG9DaGlsZHJlbiggZnVuY3Rpb24oblNpemVyLCBpKSB7XG5cdFx0XHRuU2l6ZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJkYXRhVGFibGVzX3NpemluZ1wiIHN0eWxlPVwiaGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO1wiPicraGVhZGVyQ29udGVudFtpXSsnPC9kaXY+Jztcblx0XHRcdG5TaXplci5zdHlsZS53aWR0aCA9IGhlYWRlcldpZHRoc1tpXTtcblx0XHR9LCBoZWFkZXJTcmNFbHMgKTtcblx0XG5cdFx0aWYgKCBmb290ZXIgKVxuXHRcdHtcblx0XHRcdF9mbkFwcGx5VG9DaGlsZHJlbiggZnVuY3Rpb24oblNpemVyLCBpKSB7XG5cdFx0XHRcdG5TaXplci5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImRhdGFUYWJsZXNfc2l6aW5nXCIgc3R5bGU9XCJoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47XCI+Jytmb290ZXJDb250ZW50W2ldKyc8L2Rpdj4nO1xuXHRcdFx0XHRuU2l6ZXIuc3R5bGUud2lkdGggPSBmb290ZXJXaWR0aHNbaV07XG5cdFx0XHR9LCBmb290ZXJTcmNFbHMgKTtcblx0XHR9XG5cdFxuXHRcdC8vIFNhbml0eSBjaGVjayB0aGF0IHRoZSB0YWJsZSBpcyBvZiBhIHNlbnNpYmxlIHdpZHRoLiBJZiBub3QgdGhlbiB3ZSBhcmUgZ29pbmcgdG8gZ2V0XG5cdFx0Ly8gbWlzYWxpZ25tZW50IC0gdHJ5IHRvIHByZXZlbnQgdGhpcyBieSBub3QgYWxsb3dpbmcgdGhlIHRhYmxlIHRvIHNocmluayBiZWxvdyBpdHMgbWluIHdpZHRoXG5cdFx0aWYgKCB0YWJsZS5vdXRlcldpZHRoKCkgPCBzYW5pdHlXaWR0aCApXG5cdFx0e1xuXHRcdFx0Ly8gVGhlIG1pbiB3aWR0aCBkZXBlbmRzIHVwb24gaWYgd2UgaGF2ZSBhIHZlcnRpY2FsIHNjcm9sbGJhciB2aXNpYmxlIG9yIG5vdCAqL1xuXHRcdFx0Y29ycmVjdGlvbiA9ICgoZGl2Qm9keUVsLnNjcm9sbEhlaWdodCA+IGRpdkJvZHlFbC5vZmZzZXRIZWlnaHQgfHxcblx0XHRcdFx0ZGl2Qm9keS5jc3MoJ292ZXJmbG93LXknKSA9PSBcInNjcm9sbFwiKSkgP1xuXHRcdFx0XHRcdHNhbml0eVdpZHRoK2JhcldpZHRoIDpcblx0XHRcdFx0XHRzYW5pdHlXaWR0aDtcblx0XG5cdFx0XHQvLyBJRTYvNyBhcmUgYSBsYXcgdW50byB0aGVtc2VsdmVzLi4uXG5cdFx0XHRpZiAoIGllNjcgJiYgKGRpdkJvZHlFbC5zY3JvbGxIZWlnaHQgPlxuXHRcdFx0XHRkaXZCb2R5RWwub2Zmc2V0SGVpZ2h0IHx8IGRpdkJvZHkuY3NzKCdvdmVyZmxvdy15JykgPT0gXCJzY3JvbGxcIilcblx0XHRcdCkge1xuXHRcdFx0XHR0YWJsZVN0eWxlLndpZHRoID0gX2ZuU3RyaW5nVG9Dc3MoIGNvcnJlY3Rpb24tYmFyV2lkdGggKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBbmQgZ2l2ZSB0aGUgdXNlciBhIHdhcm5pbmcgdGhhdCB3ZSd2ZSBzdG9wcGVkIHRoZSB0YWJsZSBnZXR0aW5nIHRvbyBzbWFsbFxuXHRcdFx0aWYgKCBzY3JvbGxYID09PSBcIlwiIHx8IHNjcm9sbFhJbm5lciAhPT0gXCJcIiApIHtcblx0XHRcdFx0X2ZuTG9nKCBzZXR0aW5ncywgMSwgJ1Bvc3NpYmxlIGNvbHVtbiBtaXNhbGlnbm1lbnQnLCA2ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRjb3JyZWN0aW9uID0gJzEwMCUnO1xuXHRcdH1cblx0XG5cdFx0Ly8gQXBwbHkgdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50c1xuXHRcdGRpdkJvZHlTdHlsZS53aWR0aCA9IF9mblN0cmluZ1RvQ3NzKCBjb3JyZWN0aW9uICk7XG5cdFx0ZGl2SGVhZGVyU3R5bGUud2lkdGggPSBfZm5TdHJpbmdUb0NzcyggY29ycmVjdGlvbiApO1xuXHRcblx0XHRpZiAoIGZvb3RlciApIHtcblx0XHRcdHNldHRpbmdzLm5TY3JvbGxGb290LnN0eWxlLndpZHRoID0gX2ZuU3RyaW5nVG9Dc3MoIGNvcnJlY3Rpb24gKTtcblx0XHR9XG5cdFxuXHRcblx0XHQvKlxuXHRcdCAqIDQuIENsZWFuIHVwXG5cdFx0ICovXG5cdFx0aWYgKCAhIHNjcm9sbFkgKSB7XG5cdFx0XHQvKiBJRTc8IHB1dHMgYSB2ZXJ0aWNhbCBzY3JvbGxiYXIgaW4gcGxhY2UgKHdoZW4gaXQgc2hvdWxkbid0IGJlKSBkdWUgdG8gc3VidHJhY3Rpbmdcblx0XHRcdCAqIHRoZSBzY3JvbGxiYXIgaGVpZ2h0IGZyb20gdGhlIHZpc2libGUgZGlzcGxheSwgcmF0aGVyIHRoYW4gYWRkaW5nIGl0IG9uLiBXZSBuZWVkIHRvXG5cdFx0XHQgKiBzZXQgdGhlIGhlaWdodCBpbiBvcmRlciB0byBzb3J0IHRoaXMuIERvbid0IHdhbnQgdG8gZG8gaXQgaW4gYW55IG90aGVyIGJyb3dzZXJzLlxuXHRcdFx0ICovXG5cdFx0XHRpZiAoIGllNjcgKSB7XG5cdFx0XHRcdGRpdkJvZHlTdHlsZS5oZWlnaHQgPSBfZm5TdHJpbmdUb0NzcyggdGFibGVFbC5vZmZzZXRIZWlnaHQrYmFyV2lkdGggKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8qIEZpbmFsbHkgc2V0IHRoZSB3aWR0aCdzIG9mIHRoZSBoZWFkZXIgYW5kIGZvb3RlciB0YWJsZXMgKi9cblx0XHR2YXIgaU91dGVyV2lkdGggPSB0YWJsZS5vdXRlcldpZHRoKCk7XG5cdFx0ZGl2SGVhZGVyVGFibGVbMF0uc3R5bGUud2lkdGggPSBfZm5TdHJpbmdUb0NzcyggaU91dGVyV2lkdGggKTtcblx0XHRkaXZIZWFkZXJJbm5lclN0eWxlLndpZHRoID0gX2ZuU3RyaW5nVG9Dc3MoIGlPdXRlcldpZHRoICk7XG5cdFxuXHRcdC8vIEZpZ3VyZSBvdXQgaWYgdGhlcmUgYXJlIHNjcm9sbGJhciBwcmVzZW50IC0gaWYgc28gdGhlbiB3ZSBuZWVkIGEgdGhlIGhlYWRlciBhbmQgZm9vdGVyIHRvXG5cdFx0Ly8gcHJvdmlkZSBhIGJpdCBtb3JlIHNwYWNlIHRvIGFsbG93IFwib3ZlcmZsb3dcIiBzY3JvbGxpbmcgKGkuZS4gcGFzdCB0aGUgc2Nyb2xsYmFyKVxuXHRcdHZhciBiU2Nyb2xsaW5nID0gdGFibGUuaGVpZ2h0KCkgPiBkaXZCb2R5RWwuY2xpZW50SGVpZ2h0IHx8IGRpdkJvZHkuY3NzKCdvdmVyZmxvdy15JykgPT0gXCJzY3JvbGxcIjtcblx0XHR2YXIgcGFkZGluZyA9ICdwYWRkaW5nJyArIChicm93c2VyLmJTY3JvbGxiYXJMZWZ0ID8gJ0xlZnQnIDogJ1JpZ2h0JyApO1xuXHRcdGRpdkhlYWRlcklubmVyU3R5bGVbIHBhZGRpbmcgXSA9IGJTY3JvbGxpbmcgPyBiYXJXaWR0aCtcInB4XCIgOiBcIjBweFwiO1xuXHRcblx0XHRpZiAoIGZvb3RlciApIHtcblx0XHRcdGRpdkZvb3RlclRhYmxlWzBdLnN0eWxlLndpZHRoID0gX2ZuU3RyaW5nVG9Dc3MoIGlPdXRlcldpZHRoICk7XG5cdFx0XHRkaXZGb290ZXJJbm5lclswXS5zdHlsZS53aWR0aCA9IF9mblN0cmluZ1RvQ3NzKCBpT3V0ZXJXaWR0aCApO1xuXHRcdFx0ZGl2Rm9vdGVySW5uZXJbMF0uc3R5bGVbcGFkZGluZ10gPSBiU2Nyb2xsaW5nID8gYmFyV2lkdGgrXCJweFwiIDogXCIwcHhcIjtcblx0XHR9XG5cdFxuXHRcdC8vIENvcnJlY3QgRE9NIG9yZGVyaW5nIGZvciBjb2xncm91cCAtIGNvbWVzIGJlZm9yZSB0aGUgdGhlYWRcblx0XHR0YWJsZS5jaGlsZHJlbignY29sZ3JvdXAnKS5pbnNlcnRCZWZvcmUoIHRhYmxlLmNoaWxkcmVuKCd0aGVhZCcpICk7XG5cdFxuXHRcdC8qIEFkanVzdCB0aGUgcG9zaXRpb24gb2YgdGhlIGhlYWRlciBpbiBjYXNlIHdlIGxvb3NlIHRoZSB5LXNjcm9sbGJhciAqL1xuXHRcdGRpdkJvZHkuc2Nyb2xsKCk7XG5cdFxuXHRcdC8vIElmIHNvcnRpbmcgb3IgZmlsdGVyaW5nIGhhcyBvY2N1cnJlZCwganVtcCB0aGUgc2Nyb2xsaW5nIGJhY2sgdG8gdGhlIHRvcFxuXHRcdC8vIG9ubHkgaWYgd2UgYXJlbid0IGhvbGRpbmcgdGhlIHBvc2l0aW9uXG5cdFx0aWYgKCAoc2V0dGluZ3MuYlNvcnRlZCB8fCBzZXR0aW5ncy5iRmlsdGVyZWQpICYmICEgc2V0dGluZ3MuX2RyYXdIb2xkICkge1xuXHRcdFx0ZGl2Qm9keUVsLnNjcm9sbFRvcCA9IDA7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0XG5cdC8qKlxuXHQgKiBBcHBseSBhIGdpdmVuIGZ1bmN0aW9uIHRvIHRoZSBkaXNwbGF5IGNoaWxkIG5vZGVzIG9mIGFuIGVsZW1lbnQgYXJyYXkgKHR5cGljYWxseVxuXHQgKiBURCBjaGlsZHJlbiBvZiBUUiByb3dzXG5cdCAqICBAcGFyYW0ge2Z1bmN0aW9ufSBmbiBNZXRob2QgdG8gYXBwbHkgdG8gdGhlIG9iamVjdHNcblx0ICogIEBwYXJhbSBhcnJheSB7bm9kZXN9IGFuMSBMaXN0IG9mIGVsZW1lbnRzIHRvIGxvb2sgdGhyb3VnaCBmb3IgZGlzcGxheSBjaGlsZHJlblxuXHQgKiAgQHBhcmFtIGFycmF5IHtub2Rlc30gYW4yIEFub3RoZXIgbGlzdCAoaWRlbnRpY2FsIHN0cnVjdHVyZSB0byB0aGUgZmlyc3QpIC0gb3B0aW9uYWxcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQXBwbHlUb0NoaWxkcmVuKCBmbiwgYW4xLCBhbjIgKVxuXHR7XG5cdFx0dmFyIGluZGV4PTAsIGk9MCwgaUxlbj1hbjEubGVuZ3RoO1xuXHRcdHZhciBuTm9kZTEsIG5Ob2RlMjtcblx0XG5cdFx0d2hpbGUgKCBpIDwgaUxlbiApIHtcblx0XHRcdG5Ob2RlMSA9IGFuMVtpXS5maXJzdENoaWxkO1xuXHRcdFx0bk5vZGUyID0gYW4yID8gYW4yW2ldLmZpcnN0Q2hpbGQgOiBudWxsO1xuXHRcblx0XHRcdHdoaWxlICggbk5vZGUxICkge1xuXHRcdFx0XHRpZiAoIG5Ob2RlMS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRpZiAoIGFuMiApIHtcblx0XHRcdFx0XHRcdGZuKCBuTm9kZTEsIG5Ob2RlMiwgaW5kZXggKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRmbiggbk5vZGUxLCBpbmRleCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0bk5vZGUxID0gbk5vZGUxLm5leHRTaWJsaW5nO1xuXHRcdFx0XHRuTm9kZTIgPSBhbjIgPyBuTm9kZTIubmV4dFNpYmxpbmcgOiBudWxsO1xuXHRcdFx0fVxuXHRcblx0XHRcdGkrKztcblx0XHR9XG5cdH1cblx0XG5cdFxuXHRcblx0dmFyIF9fcmVfaHRtbF9yZW1vdmUgPSAvPC4qPz4vZztcblx0XG5cdFxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSB3aWR0aCBvZiBjb2x1bW5zIGZvciB0aGUgdGFibGVcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQ2FsY3VsYXRlQ29sdW1uV2lkdGhzICggb1NldHRpbmdzIClcblx0e1xuXHRcdHZhclxuXHRcdFx0dGFibGUgPSBvU2V0dGluZ3MublRhYmxlLFxuXHRcdFx0Y29sdW1ucyA9IG9TZXR0aW5ncy5hb0NvbHVtbnMsXG5cdFx0XHRzY3JvbGwgPSBvU2V0dGluZ3Mub1Njcm9sbCxcblx0XHRcdHNjcm9sbFkgPSBzY3JvbGwuc1ksXG5cdFx0XHRzY3JvbGxYID0gc2Nyb2xsLnNYLFxuXHRcdFx0c2Nyb2xsWElubmVyID0gc2Nyb2xsLnNYSW5uZXIsXG5cdFx0XHRjb2x1bW5Db3VudCA9IGNvbHVtbnMubGVuZ3RoLFxuXHRcdFx0dmlzaWJsZUNvbHVtbnMgPSBfZm5HZXRDb2x1bW5zKCBvU2V0dGluZ3MsICdiVmlzaWJsZScgKSxcblx0XHRcdGhlYWRlckNlbGxzID0gJCgndGgnLCBvU2V0dGluZ3MublRIZWFkKSxcblx0XHRcdHRhYmxlV2lkdGhBdHRyID0gdGFibGUuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAvLyBmcm9tIERPTSBlbGVtZW50XG5cdFx0XHR0YWJsZUNvbnRhaW5lciA9IHRhYmxlLnBhcmVudE5vZGUsXG5cdFx0XHR1c2VySW5wdXRzID0gZmFsc2UsXG5cdFx0XHRpLCBjb2x1bW4sIGNvbHVtbklkeCwgd2lkdGgsIG91dGVyV2lkdGgsXG5cdFx0XHRicm93c2VyID0gb1NldHRpbmdzLm9Ccm93c2VyLFxuXHRcdFx0aWU2NyA9IGJyb3dzZXIuYlNjcm9sbE92ZXJzaXplO1xuXHRcblx0XHR2YXIgc3R5bGVXaWR0aCA9IHRhYmxlLnN0eWxlLndpZHRoO1xuXHRcdGlmICggc3R5bGVXaWR0aCAmJiBzdHlsZVdpZHRoLmluZGV4T2YoJyUnKSAhPT0gLTEgKSB7XG5cdFx0XHR0YWJsZVdpZHRoQXR0ciA9IHN0eWxlV2lkdGg7XG5cdFx0fVxuXHRcblx0XHQvKiBDb252ZXJ0IGFueSB1c2VyIGlucHV0IHNpemVzIGludG8gcGl4ZWwgc2l6ZXMgKi9cblx0XHRmb3IgKCBpPTAgOyBpPHZpc2libGVDb2x1bW5zLmxlbmd0aCA7IGkrKyApIHtcblx0XHRcdGNvbHVtbiA9IGNvbHVtbnNbIHZpc2libGVDb2x1bW5zW2ldIF07XG5cdFxuXHRcdFx0aWYgKCBjb2x1bW4uc1dpZHRoICE9PSBudWxsICkge1xuXHRcdFx0XHRjb2x1bW4uc1dpZHRoID0gX2ZuQ29udmVydFRvV2lkdGgoIGNvbHVtbi5zV2lkdGhPcmlnLCB0YWJsZUNvbnRhaW5lciApO1xuXHRcblx0XHRcdFx0dXNlcklucHV0cyA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvKiBJZiB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIERPTSBlcXVhbHMgdGhlIG51bWJlciB0aGF0IHdlIGhhdmUgdG9cblx0XHQgKiBwcm9jZXNzIGluIERhdGFUYWJsZXMsIHRoZW4gd2UgY2FuIHVzZSB0aGUgb2Zmc2V0cyB0aGF0IGFyZSBjcmVhdGVkIGJ5XG5cdFx0ICogdGhlIHdlYi0gYnJvd3Nlci4gTm8gY3VzdG9tIHNpemVzIGNhbiBiZSBzZXQgaW4gb3JkZXIgZm9yIHRoaXMgdG8gaGFwcGVuLFxuXHRcdCAqIG5vciBzY3JvbGxpbmcgdXNlZFxuXHRcdCAqL1xuXHRcdGlmICggaWU2NyB8fCAhIHVzZXJJbnB1dHMgJiYgISBzY3JvbGxYICYmICEgc2Nyb2xsWSAmJlxuXHRcdCAgICAgY29sdW1uQ291bnQgPT0gX2ZuVmlzYmxlQ29sdW1ucyggb1NldHRpbmdzICkgJiZcblx0XHQgICAgIGNvbHVtbkNvdW50ID09IGhlYWRlckNlbGxzLmxlbmd0aFxuXHRcdCkge1xuXHRcdFx0Zm9yICggaT0wIDsgaTxjb2x1bW5Db3VudCA7IGkrKyApIHtcblx0XHRcdFx0dmFyIGNvbElkeCA9IF9mblZpc2libGVUb0NvbHVtbkluZGV4KCBvU2V0dGluZ3MsIGkgKTtcblx0XG5cdFx0XHRcdGlmICggY29sSWR4ICE9PSBudWxsICkge1xuXHRcdFx0XHRcdGNvbHVtbnNbIGNvbElkeCBdLnNXaWR0aCA9IF9mblN0cmluZ1RvQ3NzKCBoZWFkZXJDZWxscy5lcShpKS53aWR0aCgpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdC8vIE90aGVyd2lzZSBjb25zdHJ1Y3QgYSBzaW5nbGUgcm93LCB3b3JzdCBjYXNlLCB0YWJsZSB3aXRoIHRoZSB3aWRlc3Rcblx0XHRcdC8vIG5vZGUgaW4gdGhlIGRhdGEsIGFzc2lnbiBhbnkgdXNlciBkZWZpbmVkIHdpZHRocywgdGhlbiBpbnNlcnQgaXQgaW50b1xuXHRcdFx0Ly8gdGhlIERPTSBhbmQgYWxsb3cgdGhlIGJyb3dzZXIgdG8gZG8gYWxsIHRoZSBoYXJkIHdvcmsgb2YgY2FsY3VsYXRpbmdcblx0XHRcdC8vIHRhYmxlIHdpZHRoc1xuXHRcdFx0dmFyIHRtcFRhYmxlID0gJCh0YWJsZSkuY2xvbmUoKSAvLyBkb24ndCB1c2UgY2xvbmVOb2RlIC0gSUU4IHdpbGwgcmVtb3ZlIGV2ZW50cyBvbiB0aGUgbWFpbiB0YWJsZVxuXHRcdFx0XHQuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoICdpZCcgKTtcblx0XG5cdFx0XHQvLyBDbGVhbiB1cCB0aGUgdGFibGUgYm9keVxuXHRcdFx0dG1wVGFibGUuZmluZCgndGJvZHkgdHInKS5yZW1vdmUoKTtcblx0XHRcdHZhciB0ciA9ICQoJzx0ci8+JykuYXBwZW5kVG8oIHRtcFRhYmxlLmZpbmQoJ3Rib2R5JykgKTtcblx0XG5cdFx0XHQvLyBDbG9uZSB0aGUgdGFibGUgaGVhZGVyIGFuZCBmb290ZXIgLSB3ZSBjYW4ndCB1c2UgdGhlIGhlYWRlciAvIGZvb3RlclxuXHRcdFx0Ly8gZnJvbSB0aGUgY2xvbmVkIHRhYmxlLCBzaW5jZSBpZiBzY3JvbGxpbmcgaXMgYWN0aXZlLCB0aGUgdGFibGUnc1xuXHRcdFx0Ly8gcmVhbCBoZWFkZXIgYW5kIGZvb3RlciBhcmUgY29udGFpbmVkIGluIGRpZmZlcmVudCB0YWJsZSB0YWdzXG5cdFx0XHR0bXBUYWJsZS5maW5kKCd0aGVhZCwgdGZvb3QnKS5yZW1vdmUoKTtcblx0XHRcdHRtcFRhYmxlXG5cdFx0XHRcdC5hcHBlbmQoICQob1NldHRpbmdzLm5USGVhZCkuY2xvbmUoKSApXG5cdFx0XHRcdC5hcHBlbmQoICQob1NldHRpbmdzLm5URm9vdCkuY2xvbmUoKSApO1xuXHRcblx0XHRcdC8vIFJlbW92ZSBhbnkgYXNzaWduZWQgd2lkdGhzIGZyb20gdGhlIGZvb3RlciAoZnJvbSBzY3JvbGxpbmcpXG5cdFx0XHR0bXBUYWJsZS5maW5kKCd0Zm9vdCB0aCwgdGZvb3QgdGQnKS5jc3MoJ3dpZHRoJywgJycpO1xuXHRcblx0XHRcdC8vIEFwcGx5IGN1c3RvbSBzaXppbmcgdG8gdGhlIGNsb25lZCBoZWFkZXJcblx0XHRcdGhlYWRlckNlbGxzID0gX2ZuR2V0VW5pcXVlVGhzKCBvU2V0dGluZ3MsIHRtcFRhYmxlLmZpbmQoJ3RoZWFkJylbMF0gKTtcblx0XG5cdFx0XHRmb3IgKCBpPTAgOyBpPHZpc2libGVDb2x1bW5zLmxlbmd0aCA7IGkrKyApIHtcblx0XHRcdFx0Y29sdW1uID0gY29sdW1uc1sgdmlzaWJsZUNvbHVtbnNbaV0gXTtcblx0XG5cdFx0XHRcdGhlYWRlckNlbGxzW2ldLnN0eWxlLndpZHRoID0gY29sdW1uLnNXaWR0aE9yaWcgIT09IG51bGwgJiYgY29sdW1uLnNXaWR0aE9yaWcgIT09ICcnID9cblx0XHRcdFx0XHRfZm5TdHJpbmdUb0NzcyggY29sdW1uLnNXaWR0aE9yaWcgKSA6XG5cdFx0XHRcdFx0Jyc7XG5cdFxuXHRcdFx0XHQvLyBGb3Igc2Nyb2xsWCB3ZSBuZWVkIHRvIGZvcmNlIHRoZSBjb2x1bW4gd2lkdGggb3RoZXJ3aXNlIHRoZVxuXHRcdFx0XHQvLyBicm93c2VyIHdpbGwgY29sbGFwc2UgaXQuIElmIHRoaXMgd2lkdGggaXMgc21hbGxlciB0aGFuIHRoZVxuXHRcdFx0XHQvLyB3aWR0aCB0aGUgY29sdW1uIHJlcXVpcmVzLCB0aGVuIGl0IHdpbGwgaGF2ZSBubyBlZmZlY3Rcblx0XHRcdFx0aWYgKCBjb2x1bW4uc1dpZHRoT3JpZyAmJiBzY3JvbGxYICkge1xuXHRcdFx0XHRcdCQoIGhlYWRlckNlbGxzW2ldICkuYXBwZW5kKCAkKCc8ZGl2Lz4nKS5jc3MoIHtcblx0XHRcdFx0XHRcdHdpZHRoOiBjb2x1bW4uc1dpZHRoT3JpZyxcblx0XHRcdFx0XHRcdG1hcmdpbjogMCxcblx0XHRcdFx0XHRcdHBhZGRpbmc6IDAsXG5cdFx0XHRcdFx0XHRib3JkZXI6IDAsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IDFcblx0XHRcdFx0XHR9ICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZpbmQgdGhlIHdpZGVzdCBjZWxsIGZvciBlYWNoIGNvbHVtbiBhbmQgcHV0IGl0IGludG8gdGhlIHRhYmxlXG5cdFx0XHRpZiAoIG9TZXR0aW5ncy5hb0RhdGEubGVuZ3RoICkge1xuXHRcdFx0XHRmb3IgKCBpPTAgOyBpPHZpc2libGVDb2x1bW5zLmxlbmd0aCA7IGkrKyApIHtcblx0XHRcdFx0XHRjb2x1bW5JZHggPSB2aXNpYmxlQ29sdW1uc1tpXTtcblx0XHRcdFx0XHRjb2x1bW4gPSBjb2x1bW5zWyBjb2x1bW5JZHggXTtcblx0XG5cdFx0XHRcdFx0JCggX2ZuR2V0V2lkZXN0Tm9kZSggb1NldHRpbmdzLCBjb2x1bW5JZHggKSApXG5cdFx0XHRcdFx0XHQuY2xvbmUoIGZhbHNlIClcblx0XHRcdFx0XHRcdC5hcHBlbmQoIGNvbHVtbi5zQ29udGVudFBhZGRpbmcgKVxuXHRcdFx0XHRcdFx0LmFwcGVuZFRvKCB0ciApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gVGlkeSB0aGUgdGVtcG9yYXJ5IHRhYmxlIC0gcmVtb3ZlIG5hbWUgYXR0cmlidXRlcyBzbyB0aGVyZSBhcmVuJ3Rcblx0XHRcdC8vIGR1cGxpY2F0ZWQgaW4gdGhlIGRvbSAocmFkaW8gZWxlbWVudHMgZm9yIGV4YW1wbGUpXG5cdFx0XHQkKCdbbmFtZV0nLCB0bXBUYWJsZSkucmVtb3ZlQXR0cignbmFtZScpO1xuXHRcblx0XHRcdC8vIFRhYmxlIGhhcyBiZWVuIGJ1aWx0LCBhdHRhY2ggdG8gdGhlIGRvY3VtZW50IHNvIHdlIGNhbiB3b3JrIHdpdGggaXQuXG5cdFx0XHQvLyBBIGhvbGRpbmcgZWxlbWVudCBpcyB1c2VkLCBwb3NpdGlvbmVkIGF0IHRoZSB0b3Agb2YgdGhlIGNvbnRhaW5lclxuXHRcdFx0Ly8gd2l0aCBtaW5pbWFsIGhlaWdodCwgc28gaXQgaGFzIG5vIGVmZmVjdCBvbiBpZiB0aGUgY29udGFpbmVyIHNjcm9sbHNcblx0XHRcdC8vIG9yIG5vdC4gT3RoZXJ3aXNlIGl0IG1pZ2h0IHRyaWdnZXIgc2Nyb2xsaW5nIHdoZW4gaXQgYWN0dWFsbHkgaXNuJ3Rcblx0XHRcdC8vIG5lZWRlZFxuXHRcdFx0dmFyIGhvbGRlciA9ICQoJzxkaXYvPicpLmNzcyggc2Nyb2xsWCB8fCBzY3JvbGxZID9cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IDEsXG5cdFx0XHRcdFx0XHRyaWdodDogMCxcblx0XHRcdFx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJ1xuXHRcdFx0XHRcdH0gOlxuXHRcdFx0XHRcdHt9XG5cdFx0XHRcdClcblx0XHRcdFx0LmFwcGVuZCggdG1wVGFibGUgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIHRhYmxlQ29udGFpbmVyICk7XG5cdFxuXHRcdFx0Ly8gV2hlbiBzY3JvbGxpbmcgKFggb3IgWSkgd2Ugd2FudCB0byBzZXQgdGhlIHdpZHRoIG9mIHRoZSB0YWJsZSBhcyBcblx0XHRcdC8vIGFwcHJvcHJpYXRlLiBIb3dldmVyLCB3aGVuIG5vdCBzY3JvbGxpbmcgbGVhdmUgdGhlIHRhYmxlIHdpZHRoIGFzIGl0XG5cdFx0XHQvLyBpcy4gVGhpcyByZXN1bHRzIGluIHNsaWdodGx5IGRpZmZlcmVudCwgYnV0IEkgdGhpbmsgY29ycmVjdCBiZWhhdmlvdXJcblx0XHRcdGlmICggc2Nyb2xsWCAmJiBzY3JvbGxYSW5uZXIgKSB7XG5cdFx0XHRcdHRtcFRhYmxlLndpZHRoKCBzY3JvbGxYSW5uZXIgKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCBzY3JvbGxYICkge1xuXHRcdFx0XHR0bXBUYWJsZS5jc3MoICd3aWR0aCcsICdhdXRvJyApO1xuXHRcdFx0XHR0bXBUYWJsZS5yZW1vdmVBdHRyKCd3aWR0aCcpO1xuXHRcblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgbm8gd2lkdGggYXR0cmlidXRlIG9yIHN0eWxlLCB0aGVuIGFsbG93IHRoZSB0YWJsZSB0b1xuXHRcdFx0XHQvLyBjb2xsYXBzZVxuXHRcdFx0XHRpZiAoIHRtcFRhYmxlLndpZHRoKCkgPCB0YWJsZUNvbnRhaW5lci5jbGllbnRXaWR0aCAmJiB0YWJsZVdpZHRoQXR0ciApIHtcblx0XHRcdFx0XHR0bXBUYWJsZS53aWR0aCggdGFibGVDb250YWluZXIuY2xpZW50V2lkdGggKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIHNjcm9sbFkgKSB7XG5cdFx0XHRcdHRtcFRhYmxlLndpZHRoKCB0YWJsZUNvbnRhaW5lci5jbGllbnRXaWR0aCApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIHRhYmxlV2lkdGhBdHRyICkge1xuXHRcdFx0XHR0bXBUYWJsZS53aWR0aCggdGFibGVXaWR0aEF0dHIgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBHZXQgdGhlIHdpZHRoIG9mIGVhY2ggY29sdW1uIGluIHRoZSBjb25zdHJ1Y3RlZCB0YWJsZSAtIHdlIG5lZWQgdG9cblx0XHRcdC8vIGtub3cgdGhlIGlubmVyIHdpZHRoIChzbyBpdCBjYW4gYmUgYXNzaWduZWQgdG8gdGhlIG90aGVyIHRhYmxlJ3Ncblx0XHRcdC8vIGNlbGxzKSBhbmQgdGhlIG91dGVyIHdpZHRoIHNvIHdlIGNhbiBjYWxjdWxhdGUgdGhlIGZ1bGwgd2lkdGggb2YgdGhlXG5cdFx0XHQvLyB0YWJsZS4gVGhpcyBpcyBzYWZlIHNpbmNlIERhdGFUYWJsZXMgcmVxdWlyZXMgYSB1bmlxdWUgY2VsbCBmb3IgZWFjaFxuXHRcdFx0Ly8gY29sdW1uLCBidXQgaWYgZXZlciBhIGhlYWRlciBjYW4gc3BhbiBtdWx0aXBsZSBjb2x1bW5zLCB0aGlzIHdpbGxcblx0XHRcdC8vIG5lZWQgdG8gYmUgbW9kaWZpZWQuXG5cdFx0XHR2YXIgdG90YWwgPSAwO1xuXHRcdFx0Zm9yICggaT0wIDsgaTx2aXNpYmxlQ29sdW1ucy5sZW5ndGggOyBpKysgKSB7XG5cdFx0XHRcdHZhciBjZWxsID0gJChoZWFkZXJDZWxsc1tpXSk7XG5cdFx0XHRcdHZhciBib3JkZXIgPSBjZWxsLm91dGVyV2lkdGgoKSAtIGNlbGwud2lkdGgoKTtcblx0XG5cdFx0XHRcdC8vIFVzZSBnZXRCb3VuZGluZy4uLiB3aGVyZSBwb3NzaWJsZSAobm90IElFOC0pIGJlY2F1c2UgaXQgY2FuIGdpdmVcblx0XHRcdFx0Ly8gc3ViLXBpeGVsIGFjY3VyYWN5LCB3aGljaCB3ZSB0aGVuIHdhbnQgdG8gcm91bmQgdXAhXG5cdFx0XHRcdHZhciBib3VuZGluZyA9IGJyb3dzZXIuYkJvdW5kaW5nID9cblx0XHRcdFx0XHRNYXRoLmNlaWwoIGhlYWRlckNlbGxzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgOlxuXHRcdFx0XHRcdGNlbGwub3V0ZXJXaWR0aCgpO1xuXHRcblx0XHRcdFx0Ly8gVG90YWwgaXMgdHJhY2tlZCB0byByZW1vdmUgYW55IHN1Yi1waXhlbCBlcnJvcnMgYXMgdGhlIG91dGVyV2lkdGhcblx0XHRcdFx0Ly8gb2YgdGhlIHRhYmxlIG1pZ2h0IG5vdCBlcXVhbCB0aGUgdG90YWwgZ2l2ZW4gaGVyZSAoSUUhKS5cblx0XHRcdFx0dG90YWwgKz0gYm91bmRpbmc7XG5cdFxuXHRcdFx0XHQvLyBXaWR0aCBmb3IgZWFjaCBjb2x1bW4gdG8gdXNlXG5cdFx0XHRcdGNvbHVtbnNbIHZpc2libGVDb2x1bW5zW2ldIF0uc1dpZHRoID0gX2ZuU3RyaW5nVG9Dc3MoIGJvdW5kaW5nIC0gYm9yZGVyICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dGFibGUuc3R5bGUud2lkdGggPSBfZm5TdHJpbmdUb0NzcyggdG90YWwgKTtcblx0XG5cdFx0XHQvLyBGaW5pc2hlZCB3aXRoIHRoZSB0YWJsZSAtIGRpdGNoIGl0XG5cdFx0XHRob2xkZXIucmVtb3ZlKCk7XG5cdFx0fVxuXHRcblx0XHQvLyBJZiB0aGVyZSBpcyBhIHdpZHRoIGF0dHIsIHdlIHdhbnQgdG8gYXR0YWNoIGFuIGV2ZW50IGxpc3RlbmVyIHdoaWNoXG5cdFx0Ly8gYWxsb3dzIHRoZSB0YWJsZSBzaXppbmcgdG8gYXV0b21hdGljYWxseSBhZGp1c3Qgd2hlbiB0aGUgd2luZG93IGlzXG5cdFx0Ly8gcmVzaXplZC4gVXNlIHRoZSB3aWR0aCBhdHRyIHJhdGhlciB0aGFuIENTUywgc2luY2Ugd2UgY2FuJ3Qga25vdyBpZiB0aGVcblx0XHQvLyBDU1MgaXMgYSByZWxhdGl2ZSB2YWx1ZSBvciBhYnNvbHV0ZSAtIERPTSByZWFkIGlzIGFsd2F5cyBweC5cblx0XHRpZiAoIHRhYmxlV2lkdGhBdHRyICkge1xuXHRcdFx0dGFibGUuc3R5bGUud2lkdGggPSBfZm5TdHJpbmdUb0NzcyggdGFibGVXaWR0aEF0dHIgKTtcblx0XHR9XG5cdFxuXHRcdGlmICggKHRhYmxlV2lkdGhBdHRyIHx8IHNjcm9sbFgpICYmICEgb1NldHRpbmdzLl9yZXN6RXZ0ICkge1xuXHRcdFx0dmFyIGJpbmRSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQod2luZG93KS5iaW5kKCdyZXNpemUuRFQtJytvU2V0dGluZ3Muc0luc3RhbmNlLCBfZm5UaHJvdHRsZSggZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdF9mbkFkanVzdENvbHVtblNpemluZyggb1NldHRpbmdzICk7XG5cdFx0XHRcdH0gKSApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHQvLyBJRTYvNyB3aWxsIGNyYXNoIGlmIHdlIGJpbmQgYSByZXNpemUgZXZlbnQgaGFuZGxlciBvbiBwYWdlIGxvYWQuXG5cdFx0XHQvLyBUbyBiZSByZW1vdmVkIGluIDEuMTEgd2hpY2ggZHJvcHMgSUU2Lzcgc3VwcG9ydFxuXHRcdFx0aWYgKCBpZTY3ICkge1xuXHRcdFx0XHRzZXRUaW1lb3V0KCBiaW5kUmVzaXplLCAxMDAwICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0YmluZFJlc2l6ZSgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdG9TZXR0aW5ncy5fcmVzekV2dCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIFRocm90dGxlIHRoZSBjYWxscyB0byBhIGZ1bmN0aW9uLiBBcmd1bWVudHMgYW5kIGNvbnRleHQgYXJlIG1haW50YWluZWQgZm9yXG5cdCAqIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cblx0ICogIEBwYXJhbSB7ZnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZFxuXHQgKiAgQHBhcmFtIHtpbnR9IFtmcmVxPTIwMF0gY2FsbCBmcmVxdWVuY3kgaW4gbVNcblx0ICogIEByZXR1cm5zIHtmdW5jdGlvbn0gd3JhcHBlZCBmdW5jdGlvblxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHR2YXIgX2ZuVGhyb3R0bGUgPSBEYXRhVGFibGUudXRpbC50aHJvdHRsZTtcblx0XG5cdFxuXHQvKipcblx0ICogQ29udmVydCBhIENTUyB1bml0IHdpZHRoIHRvIHBpeGVscyAoZS5nLiAyZW0pXG5cdCAqICBAcGFyYW0ge3N0cmluZ30gd2lkdGggd2lkdGggdG8gYmUgY29udmVydGVkXG5cdCAqICBAcGFyYW0ge25vZGV9IHBhcmVudCBwYXJlbnQgdG8gZ2V0IHRoZSB3aXRoIGZvciAocmVxdWlyZWQgZm9yIHJlbGF0aXZlIHdpZHRocykgLSBvcHRpb25hbFxuXHQgKiAgQHJldHVybnMge2ludH0gd2lkdGggaW4gcGl4ZWxzXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkNvbnZlcnRUb1dpZHRoICggd2lkdGgsIHBhcmVudCApXG5cdHtcblx0XHRpZiAoICEgd2lkdGggKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFxuXHRcdHZhciBuID0gJCgnPGRpdi8+Jylcblx0XHRcdC5jc3MoICd3aWR0aCcsIF9mblN0cmluZ1RvQ3NzKCB3aWR0aCApIClcblx0XHRcdC5hcHBlbmRUbyggcGFyZW50IHx8IGRvY3VtZW50LmJvZHkgKTtcblx0XG5cdFx0dmFyIHZhbCA9IG5bMF0ub2Zmc2V0V2lkdGg7XG5cdFx0bi5yZW1vdmUoKTtcblx0XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIHdpZGVzdCBub2RlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7aW50fSBjb2xJZHggY29sdW1uIG9mIGludGVyZXN0XG5cdCAqICBAcmV0dXJucyB7bm9kZX0gd2lkZXN0IHRhYmxlIG5vZGVcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuR2V0V2lkZXN0Tm9kZSggc2V0dGluZ3MsIGNvbElkeCApXG5cdHtcblx0XHR2YXIgaWR4ID0gX2ZuR2V0TWF4TGVuU3RyaW5nKCBzZXR0aW5ncywgY29sSWR4ICk7XG5cdFx0aWYgKCBpZHggPCAwICkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcblx0XHR2YXIgZGF0YSA9IHNldHRpbmdzLmFvRGF0YVsgaWR4IF07XG5cdFx0cmV0dXJuICEgZGF0YS5uVHIgPyAvLyBNaWdodCBub3QgaGF2ZSBiZWVuIGNyZWF0ZWQgd2hlbiBkZWZlcnJlZCByZW5kZXJpbmdcblx0XHRcdCQoJzx0ZC8+JykuaHRtbCggX2ZuR2V0Q2VsbERhdGEoIHNldHRpbmdzLCBpZHgsIGNvbElkeCwgJ2Rpc3BsYXknICkgKVswXSA6XG5cdFx0XHRkYXRhLmFuQ2VsbHNbIGNvbElkeCBdO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgbWF4aW11bSBzdHJsZW4gZm9yIGVhY2ggZGF0YSBjb2x1bW5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtpbnR9IGNvbElkeCBjb2x1bW4gb2YgaW50ZXJlc3Rcblx0ICogIEByZXR1cm5zIHtzdHJpbmd9IG1heCBzdHJpbmcgbGVuZ3RoIGZvciBlYWNoIGNvbHVtblxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5HZXRNYXhMZW5TdHJpbmcoIHNldHRpbmdzLCBjb2xJZHggKVxuXHR7XG5cdFx0dmFyIHMsIG1heD0tMSwgbWF4SWR4ID0gLTE7XG5cdFxuXHRcdGZvciAoIHZhciBpPTAsIGllbj1zZXR0aW5ncy5hb0RhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRzID0gX2ZuR2V0Q2VsbERhdGEoIHNldHRpbmdzLCBpLCBjb2xJZHgsICdkaXNwbGF5JyApKycnO1xuXHRcdFx0cyA9IHMucmVwbGFjZSggX19yZV9odG1sX3JlbW92ZSwgJycgKTtcblx0XHRcdHMgPSBzLnJlcGxhY2UoIC8mbmJzcDsvZywgJyAnICk7XG5cdFxuXHRcdFx0aWYgKCBzLmxlbmd0aCA+IG1heCApIHtcblx0XHRcdFx0bWF4ID0gcy5sZW5ndGg7XG5cdFx0XHRcdG1heElkeCA9IGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gbWF4SWR4O1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIEFwcGVuZCBhIENTUyB1bml0IChvbmx5IGlmIHJlcXVpcmVkKSB0byBhIHN0cmluZ1xuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IHZhbHVlIHRvIGNzcy1pZnlcblx0ICogIEByZXR1cm5zIHtzdHJpbmd9IHZhbHVlIHdpdGggY3NzIHVuaXRcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuU3RyaW5nVG9Dc3MoIHMgKVxuXHR7XG5cdFx0aWYgKCBzID09PSBudWxsICkge1xuXHRcdFx0cmV0dXJuICcwcHgnO1xuXHRcdH1cblx0XG5cdFx0aWYgKCB0eXBlb2YgcyA9PSAnbnVtYmVyJyApIHtcblx0XHRcdHJldHVybiBzIDwgMCA/XG5cdFx0XHRcdCcwcHgnIDpcblx0XHRcdFx0cysncHgnO1xuXHRcdH1cblx0XG5cdFx0Ly8gQ2hlY2sgaXQgaGFzIGEgdW5pdCBjaGFyYWN0ZXIgYWxyZWFkeVxuXHRcdHJldHVybiBzLm1hdGNoKC9cXGQkLykgP1xuXHRcdFx0cysncHgnIDpcblx0XHRcdHM7XG5cdH1cblx0XG5cdFxuXHRcblx0ZnVuY3Rpb24gX2ZuU29ydEZsYXR0ZW4gKCBzZXR0aW5ncyApXG5cdHtcblx0XHR2YXJcblx0XHRcdGksIGlMZW4sIGssIGtMZW4sXG5cdFx0XHRhU29ydCA9IFtdLFxuXHRcdFx0YWlPcmlnID0gW10sXG5cdFx0XHRhb0NvbHVtbnMgPSBzZXR0aW5ncy5hb0NvbHVtbnMsXG5cdFx0XHRhRGF0YVNvcnQsIGlDb2wsIHNUeXBlLCBzcmNDb2wsXG5cdFx0XHRmaXhlZCA9IHNldHRpbmdzLmFhU29ydGluZ0ZpeGVkLFxuXHRcdFx0Zml4ZWRPYmogPSAkLmlzUGxhaW5PYmplY3QoIGZpeGVkICksXG5cdFx0XHRuZXN0ZWRTb3J0ID0gW10sXG5cdFx0XHRhZGQgPSBmdW5jdGlvbiAoIGEgKSB7XG5cdFx0XHRcdGlmICggYS5sZW5ndGggJiYgISAkLmlzQXJyYXkoIGFbMF0gKSApIHtcblx0XHRcdFx0XHQvLyAxRCBhcnJheVxuXHRcdFx0XHRcdG5lc3RlZFNvcnQucHVzaCggYSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdC8vIDJEIGFycmF5XG5cdFx0XHRcdFx0JC5tZXJnZSggbmVzdGVkU29ydCwgYSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHQvLyBCdWlsZCB0aGUgc29ydCBhcnJheSwgd2l0aCBwcmUtZml4IGFuZCBwb3N0LWZpeCBvcHRpb25zIGlmIHRoZXkgaGF2ZSBiZWVuXG5cdFx0Ly8gc3BlY2lmaWVkXG5cdFx0aWYgKCAkLmlzQXJyYXkoIGZpeGVkICkgKSB7XG5cdFx0XHRhZGQoIGZpeGVkICk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGZpeGVkT2JqICYmIGZpeGVkLnByZSApIHtcblx0XHRcdGFkZCggZml4ZWQucHJlICk7XG5cdFx0fVxuXHRcblx0XHRhZGQoIHNldHRpbmdzLmFhU29ydGluZyApO1xuXHRcblx0XHRpZiAoZml4ZWRPYmogJiYgZml4ZWQucG9zdCApIHtcblx0XHRcdGFkZCggZml4ZWQucG9zdCApO1xuXHRcdH1cblx0XG5cdFx0Zm9yICggaT0wIDsgaTxuZXN0ZWRTb3J0Lmxlbmd0aCA7IGkrKyApXG5cdFx0e1xuXHRcdFx0c3JjQ29sID0gbmVzdGVkU29ydFtpXVswXTtcblx0XHRcdGFEYXRhU29ydCA9IGFvQ29sdW1uc1sgc3JjQ29sIF0uYURhdGFTb3J0O1xuXHRcblx0XHRcdGZvciAoIGs9MCwga0xlbj1hRGF0YVNvcnQubGVuZ3RoIDsgazxrTGVuIDsgaysrIClcblx0XHRcdHtcblx0XHRcdFx0aUNvbCA9IGFEYXRhU29ydFtrXTtcblx0XHRcdFx0c1R5cGUgPSBhb0NvbHVtbnNbIGlDb2wgXS5zVHlwZSB8fCAnc3RyaW5nJztcblx0XG5cdFx0XHRcdGlmICggbmVzdGVkU29ydFtpXS5faWR4ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0bmVzdGVkU29ydFtpXS5faWR4ID0gJC5pbkFycmF5KCBuZXN0ZWRTb3J0W2ldWzFdLCBhb0NvbHVtbnNbaUNvbF0uYXNTb3J0aW5nICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGFTb3J0LnB1c2goIHtcblx0XHRcdFx0XHRzcmM6ICAgICAgIHNyY0NvbCxcblx0XHRcdFx0XHRjb2w6ICAgICAgIGlDb2wsXG5cdFx0XHRcdFx0ZGlyOiAgICAgICBuZXN0ZWRTb3J0W2ldWzFdLFxuXHRcdFx0XHRcdGluZGV4OiAgICAgbmVzdGVkU29ydFtpXS5faWR4LFxuXHRcdFx0XHRcdHR5cGU6ICAgICAgc1R5cGUsXG5cdFx0XHRcdFx0Zm9ybWF0dGVyOiBEYXRhVGFibGUuZXh0LnR5cGUub3JkZXJbIHNUeXBlK1wiLXByZVwiIF1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGFTb3J0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hhbmdlIHRoZSBvcmRlciBvZiB0aGUgdGFibGVcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKiAgQHRvZG8gVGhpcyByZWFsbHkgbmVlZHMgc3BsaXQgdXAhXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Tb3J0ICggb1NldHRpbmdzIClcblx0e1xuXHRcdHZhclxuXHRcdFx0aSwgaWVuLCBpTGVuLCBqLCBqTGVuLCBrLCBrTGVuLFxuXHRcdFx0c0RhdGFUeXBlLCBuVGgsXG5cdFx0XHRhaU9yaWcgPSBbXSxcblx0XHRcdG9FeHRTb3J0ID0gRGF0YVRhYmxlLmV4dC50eXBlLm9yZGVyLFxuXHRcdFx0YW9EYXRhID0gb1NldHRpbmdzLmFvRGF0YSxcblx0XHRcdGFvQ29sdW1ucyA9IG9TZXR0aW5ncy5hb0NvbHVtbnMsXG5cdFx0XHRhRGF0YVNvcnQsIGRhdGEsIGlDb2wsIHNUeXBlLCBvU29ydCxcblx0XHRcdGZvcm1hdHRlcnMgPSAwLFxuXHRcdFx0c29ydENvbCxcblx0XHRcdGRpc3BsYXlNYXN0ZXIgPSBvU2V0dGluZ3MuYWlEaXNwbGF5TWFzdGVyLFxuXHRcdFx0YVNvcnQ7XG5cdFxuXHRcdC8vIFJlc29sdmUgYW55IGNvbHVtbiB0eXBlcyB0aGF0IGFyZSB1bmtub3duIGR1ZSB0byBhZGRpdGlvbiBvciBpbnZhbGlkYXRpb25cblx0XHQvLyBAdG9kbyBDYW4gdGhpcyBiZSBtb3ZlZCBpbnRvIGEgJ2RhdGEtcmVhZHknIGhhbmRsZXIgd2hpY2ggaXMgY2FsbGVkIHdoZW5cblx0XHQvLyAgIGRhdGEgaXMgZ29pbmcgdG8gYmUgdXNlZCBpbiB0aGUgdGFibGU/XG5cdFx0X2ZuQ29sdW1uVHlwZXMoIG9TZXR0aW5ncyApO1xuXHRcblx0XHRhU29ydCA9IF9mblNvcnRGbGF0dGVuKCBvU2V0dGluZ3MgKTtcblx0XG5cdFx0Zm9yICggaT0wLCBpZW49YVNvcnQubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRzb3J0Q29sID0gYVNvcnRbaV07XG5cdFxuXHRcdFx0Ly8gVHJhY2sgaWYgd2UgY2FuIHVzZSB0aGUgZmFzdCBzb3J0IGFsZ29yaXRobVxuXHRcdFx0aWYgKCBzb3J0Q29sLmZvcm1hdHRlciApIHtcblx0XHRcdFx0Zm9ybWF0dGVycysrO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIExvYWQgdGhlIGRhdGEgbmVlZGVkIGZvciB0aGUgc29ydCwgZm9yIGVhY2ggY2VsbFxuXHRcdFx0X2ZuU29ydERhdGEoIG9TZXR0aW5ncywgc29ydENvbC5jb2wgKTtcblx0XHR9XG5cdFxuXHRcdC8qIE5vIHNvcnRpbmcgcmVxdWlyZWQgaWYgc2VydmVyLXNpZGUgb3Igbm8gc29ydGluZyBhcnJheSAqL1xuXHRcdGlmICggX2ZuRGF0YVNvdXJjZSggb1NldHRpbmdzICkgIT0gJ3NzcCcgJiYgYVNvcnQubGVuZ3RoICE9PSAwIClcblx0XHR7XG5cdFx0XHQvLyBDcmVhdGUgYSB2YWx1ZSAtIGtleSBhcnJheSBvZiB0aGUgY3VycmVudCByb3cgcG9zaXRpb25zIHN1Y2ggdGhhdCB3ZSBjYW4gdXNlIHRoZWlyXG5cdFx0XHQvLyBjdXJyZW50IHBvc2l0aW9uIGR1cmluZyB0aGUgc29ydCwgaWYgdmFsdWVzIG1hdGNoLCBpbiBvcmRlciB0byBwZXJmb3JtIHN0YWJsZSBzb3J0aW5nXG5cdFx0XHRmb3IgKCBpPTAsIGlMZW49ZGlzcGxheU1hc3Rlci5sZW5ndGggOyBpPGlMZW4gOyBpKysgKSB7XG5cdFx0XHRcdGFpT3JpZ1sgZGlzcGxheU1hc3RlcltpXSBdID0gaTtcblx0XHRcdH1cblx0XG5cdFx0XHQvKiBEbyB0aGUgc29ydCAtIGhlcmUgd2Ugd2FudCBtdWx0aS1jb2x1bW4gc29ydGluZyBiYXNlZCBvbiBhIGdpdmVuIGRhdGEgc291cmNlIChjb2x1bW4pXG5cdFx0XHQgKiBhbmQgc29ydGluZyBmdW5jdGlvbiAoZnJvbSBvU29ydCkgaW4gYSBjZXJ0YWluIGRpcmVjdGlvbi4gSXQncyByZWFzb25hYmx5IGNvbXBsZXggdG9cblx0XHRcdCAqIGZvbGxvdyBvbiBpdCdzIG93biwgYnV0IHRoaXMgaXMgd2hhdCB3ZSB3YW50IChleGFtcGxlIHR3byBjb2x1bW4gc29ydGluZyk6XG5cdFx0XHQgKiAgZm5Mb2NhbFNvcnRpbmcgPSBmdW5jdGlvbihhLGIpe1xuXHRcdFx0ICogICAgdmFyIGlUZXN0O1xuXHRcdFx0ICogICAgaVRlc3QgPSBvU29ydFsnc3RyaW5nLWFzYyddKCdkYXRhMTEnLCAnZGF0YTEyJyk7XG5cdFx0XHQgKiAgICAgIGlmIChpVGVzdCAhPT0gMClcblx0XHRcdCAqICAgICAgICByZXR1cm4gaVRlc3Q7XG5cdFx0XHQgKiAgICBpVGVzdCA9IG9Tb3J0WydudW1lcmljLWRlc2MnXSgnZGF0YTIxJywgJ2RhdGEyMicpO1xuXHRcdFx0ICogICAgaWYgKGlUZXN0ICE9PSAwKVxuXHRcdFx0ICogICAgICByZXR1cm4gaVRlc3Q7XG5cdFx0XHQgKiAgICByZXR1cm4gb1NvcnRbJ251bWVyaWMtYXNjJ10oIGFpT3JpZ1thXSwgYWlPcmlnW2JdICk7XG5cdFx0XHQgKiAgfVxuXHRcdFx0ICogQmFzaWNhbGx5IHdlIGhhdmUgYSB0ZXN0IGZvciBlYWNoIHNvcnRpbmcgY29sdW1uLCBpZiB0aGUgZGF0YSBpbiB0aGF0IGNvbHVtbiBpcyBlcXVhbCxcblx0XHRcdCAqIHRlc3QgdGhlIG5leHQgY29sdW1uLiBJZiBhbGwgY29sdW1ucyBtYXRjaCwgdGhlbiB3ZSB1c2UgYSBudW1lcmljIHNvcnQgb24gdGhlIHJvd1xuXHRcdFx0ICogcG9zaXRpb25zIGluIHRoZSBvcmlnaW5hbCBkYXRhIGFycmF5IHRvIHByb3ZpZGUgYSBzdGFibGUgc29ydC5cblx0XHRcdCAqXG5cdFx0XHQgKiBOb3RlIC0gSSBrbm93IGl0IHNlZW1zIGV4Y2Vzc2l2ZSB0byBoYXZlIHR3byBzb3J0aW5nIG1ldGhvZHMsIGJ1dCB0aGUgZmlyc3QgaXMgYXJvdW5kXG5cdFx0XHQgKiAxNSUgZmFzdGVyLCBzbyB0aGUgc2Vjb25kIGlzIG9ubHkgbWFpbnRhaW5lZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBzb3J0aW5nXG5cdFx0XHQgKiBtZXRob2RzIHdoaWNoIGRvIG5vdCBoYXZlIGEgcHJlLXNvcnQgZm9ybWF0dGluZyBmdW5jdGlvbi5cblx0XHRcdCAqL1xuXHRcdFx0aWYgKCBmb3JtYXR0ZXJzID09PSBhU29ydC5sZW5ndGggKSB7XG5cdFx0XHRcdC8vIEFsbCBzb3J0IHR5cGVzIGhhdmUgZm9ybWF0dGluZyBmdW5jdGlvbnNcblx0XHRcdFx0ZGlzcGxheU1hc3Rlci5zb3J0KCBmdW5jdGlvbiAoIGEsIGIgKSB7XG5cdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHR4LCB5LCBrLCB0ZXN0LCBzb3J0LFxuXHRcdFx0XHRcdFx0bGVuPWFTb3J0Lmxlbmd0aCxcblx0XHRcdFx0XHRcdGRhdGFBID0gYW9EYXRhW2FdLl9hU29ydERhdGEsXG5cdFx0XHRcdFx0XHRkYXRhQiA9IGFvRGF0YVtiXS5fYVNvcnREYXRhO1xuXHRcblx0XHRcdFx0XHRmb3IgKCBrPTAgOyBrPGxlbiA7IGsrKyApIHtcblx0XHRcdFx0XHRcdHNvcnQgPSBhU29ydFtrXTtcblx0XG5cdFx0XHRcdFx0XHR4ID0gZGF0YUFbIHNvcnQuY29sIF07XG5cdFx0XHRcdFx0XHR5ID0gZGF0YUJbIHNvcnQuY29sIF07XG5cdFxuXHRcdFx0XHRcdFx0dGVzdCA9IHg8eSA/IC0xIDogeD55ID8gMSA6IDA7XG5cdFx0XHRcdFx0XHRpZiAoIHRlc3QgIT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzb3J0LmRpciA9PT0gJ2FzYycgPyB0ZXN0IDogLXRlc3Q7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHR4ID0gYWlPcmlnW2FdO1xuXHRcdFx0XHRcdHkgPSBhaU9yaWdbYl07XG5cdFx0XHRcdFx0cmV0dXJuIHg8eSA/IC0xIDogeD55ID8gMSA6IDA7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvLyBEZXByZWNpYXRlZCAtIHJlbW92ZSBpbiAxLjExIChwcm92aWRpbmcgYSBwbHVnLWluIG9wdGlvbilcblx0XHRcdFx0Ly8gTm90IGFsbCBzb3J0IHR5cGVzIGhhdmUgZm9ybWF0dGluZyBtZXRob2RzLCBzbyB3ZSBoYXZlIHRvIGNhbGwgdGhlaXIgc29ydGluZ1xuXHRcdFx0XHQvLyBtZXRob2RzLlxuXHRcdFx0XHRkaXNwbGF5TWFzdGVyLnNvcnQoIGZ1bmN0aW9uICggYSwgYiApIHtcblx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdHgsIHksIGssIGwsIHRlc3QsIHNvcnQsIGZuLFxuXHRcdFx0XHRcdFx0bGVuPWFTb3J0Lmxlbmd0aCxcblx0XHRcdFx0XHRcdGRhdGFBID0gYW9EYXRhW2FdLl9hU29ydERhdGEsXG5cdFx0XHRcdFx0XHRkYXRhQiA9IGFvRGF0YVtiXS5fYVNvcnREYXRhO1xuXHRcblx0XHRcdFx0XHRmb3IgKCBrPTAgOyBrPGxlbiA7IGsrKyApIHtcblx0XHRcdFx0XHRcdHNvcnQgPSBhU29ydFtrXTtcblx0XG5cdFx0XHRcdFx0XHR4ID0gZGF0YUFbIHNvcnQuY29sIF07XG5cdFx0XHRcdFx0XHR5ID0gZGF0YUJbIHNvcnQuY29sIF07XG5cdFxuXHRcdFx0XHRcdFx0Zm4gPSBvRXh0U29ydFsgc29ydC50eXBlK1wiLVwiK3NvcnQuZGlyIF0gfHwgb0V4dFNvcnRbIFwic3RyaW5nLVwiK3NvcnQuZGlyIF07XG5cdFx0XHRcdFx0XHR0ZXN0ID0gZm4oIHgsIHkgKTtcblx0XHRcdFx0XHRcdGlmICggdGVzdCAhPT0gMCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRlc3Q7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHR4ID0gYWlPcmlnW2FdO1xuXHRcdFx0XHRcdHkgPSBhaU9yaWdbYl07XG5cdFx0XHRcdFx0cmV0dXJuIHg8eSA/IC0xIDogeD55ID8gMSA6IDA7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8qIFRlbGwgdGhlIGRyYXcgZnVuY3Rpb24gdGhhdCB3ZSBoYXZlIHNvcnRlZCB0aGUgZGF0YSAqL1xuXHRcdG9TZXR0aW5ncy5iU29ydGVkID0gdHJ1ZTtcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIF9mblNvcnRBcmlhICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyIGxhYmVsO1xuXHRcdHZhciBuZXh0U29ydDtcblx0XHR2YXIgY29sdW1ucyA9IHNldHRpbmdzLmFvQ29sdW1ucztcblx0XHR2YXIgYVNvcnQgPSBfZm5Tb3J0RmxhdHRlbiggc2V0dGluZ3MgKTtcblx0XHR2YXIgb0FyaWEgPSBzZXR0aW5ncy5vTGFuZ3VhZ2Uub0FyaWE7XG5cdFxuXHRcdC8vIEFSSUEgYXR0cmlidXRlcyAtIG5lZWQgdG8gbG9vcCBhbGwgY29sdW1ucywgdG8gdXBkYXRlIGFsbCAocmVtb3Zpbmcgb2xkXG5cdFx0Ly8gYXR0cmlidXRlcyBhcyBuZWVkZWQpXG5cdFx0Zm9yICggdmFyIGk9MCwgaUxlbj1jb2x1bW5zLmxlbmd0aCA7IGk8aUxlbiA7IGkrKyApXG5cdFx0e1xuXHRcdFx0dmFyIGNvbCA9IGNvbHVtbnNbaV07XG5cdFx0XHR2YXIgYXNTb3J0aW5nID0gY29sLmFzU29ydGluZztcblx0XHRcdHZhciBzVGl0bGUgPSBjb2wuc1RpdGxlLnJlcGxhY2UoIC88Lio/Pi9nLCBcIlwiICk7XG5cdFx0XHR2YXIgdGggPSBjb2wublRoO1xuXHRcblx0XHRcdC8vIElFNyBpcyB0aHJvd2luZyBhbiBlcnJvciB3aGVuIHNldHRpbmcgdGhlc2UgcHJvcGVydGllcyB3aXRoIGpRdWVyeSdzXG5cdFx0XHQvLyBhdHRyKCkgYW5kIHJlbW92ZUF0dHIoKSBtZXRob2RzLi4uXG5cdFx0XHR0aC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtc29ydCcpO1xuXHRcblx0XHRcdC8qIEluIEFSSUEgb25seSB0aGUgZmlyc3Qgc29ydGluZyBjb2x1bW4gY2FuIGJlIG1hcmtlZCBhcyBzb3J0aW5nIC0gbm8gbXVsdGktc29ydCBvcHRpb24gKi9cblx0XHRcdGlmICggY29sLmJTb3J0YWJsZSApIHtcblx0XHRcdFx0aWYgKCBhU29ydC5sZW5ndGggPiAwICYmIGFTb3J0WzBdLmNvbCA9PSBpICkge1xuXHRcdFx0XHRcdHRoLnNldEF0dHJpYnV0ZSgnYXJpYS1zb3J0JywgYVNvcnRbMF0uZGlyPT1cImFzY1wiID8gXCJhc2NlbmRpbmdcIiA6IFwiZGVzY2VuZGluZ1wiICk7XG5cdFx0XHRcdFx0bmV4dFNvcnQgPSBhc1NvcnRpbmdbIGFTb3J0WzBdLmluZGV4KzEgXSB8fCBhc1NvcnRpbmdbMF07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0bmV4dFNvcnQgPSBhc1NvcnRpbmdbMF07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGxhYmVsID0gc1RpdGxlICsgKCBuZXh0U29ydCA9PT0gXCJhc2NcIiA/XG5cdFx0XHRcdFx0b0FyaWEuc1NvcnRBc2NlbmRpbmcgOlxuXHRcdFx0XHRcdG9BcmlhLnNTb3J0RGVzY2VuZGluZ1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGxhYmVsID0gc1RpdGxlO1xuXHRcdFx0fVxuXHRcblx0XHRcdHRoLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGxhYmVsKTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRnVuY3Rpb24gdG8gcnVuIG9uIHVzZXIgc29ydCByZXF1ZXN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7bm9kZX0gYXR0YWNoVG8gbm9kZSB0byBhdHRhY2ggdGhlIGhhbmRsZXIgdG9cblx0ICogIEBwYXJhbSB7aW50fSBjb2xJZHggY29sdW1uIHNvcnRpbmcgaW5kZXhcblx0ICogIEBwYXJhbSB7Ym9vbGVhbn0gW2FwcGVuZD1mYWxzZV0gQXBwZW5kIHRoZSByZXF1ZXN0ZWQgc29ydCB0byB0aGUgZXhpc3Rpbmdcblx0ICogICAgc29ydCBpZiB0cnVlIChpLmUuIG11bHRpLWNvbHVtbiBzb3J0KVxuXHQgKiAgQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvblxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Tb3J0TGlzdGVuZXIgKCBzZXR0aW5ncywgY29sSWR4LCBhcHBlbmQsIGNhbGxiYWNrIClcblx0e1xuXHRcdHZhciBjb2wgPSBzZXR0aW5ncy5hb0NvbHVtbnNbIGNvbElkeCBdO1xuXHRcdHZhciBzb3J0aW5nID0gc2V0dGluZ3MuYWFTb3J0aW5nO1xuXHRcdHZhciBhc1NvcnRpbmcgPSBjb2wuYXNTb3J0aW5nO1xuXHRcdHZhciBuZXh0U29ydElkeDtcblx0XHR2YXIgbmV4dCA9IGZ1bmN0aW9uICggYSwgb3ZlcmZsb3cgKSB7XG5cdFx0XHR2YXIgaWR4ID0gYS5faWR4O1xuXHRcdFx0aWYgKCBpZHggPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0aWR4ID0gJC5pbkFycmF5KCBhWzFdLCBhc1NvcnRpbmcgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gaWR4KzEgPCBhc1NvcnRpbmcubGVuZ3RoID9cblx0XHRcdFx0aWR4KzEgOlxuXHRcdFx0XHRvdmVyZmxvdyA/XG5cdFx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdFx0MDtcblx0XHR9O1xuXHRcblx0XHQvLyBDb252ZXJ0IHRvIDJEIGFycmF5IGlmIG5lZWRlZFxuXHRcdGlmICggdHlwZW9mIHNvcnRpbmdbMF0gPT09ICdudW1iZXInICkge1xuXHRcdFx0c29ydGluZyA9IHNldHRpbmdzLmFhU29ydGluZyA9IFsgc29ydGluZyBdO1xuXHRcdH1cblx0XG5cdFx0Ly8gSWYgYXBwZW5kaW5nIHRoZSBzb3J0IHRoZW4gd2UgYXJlIG11bHRpLWNvbHVtbiBzb3J0aW5nXG5cdFx0aWYgKCBhcHBlbmQgJiYgc2V0dGluZ3Mub0ZlYXR1cmVzLmJTb3J0TXVsdGkgKSB7XG5cdFx0XHQvLyBBcmUgd2UgYWxyZWFkeSBkb2luZyBzb21lIGtpbmQgb2Ygc29ydCBvbiB0aGlzIGNvbHVtbj9cblx0XHRcdHZhciBzb3J0SWR4ID0gJC5pbkFycmF5KCBjb2xJZHgsIF9wbHVjayhzb3J0aW5nLCAnMCcpICk7XG5cdFxuXHRcdFx0aWYgKCBzb3J0SWR4ICE9PSAtMSApIHtcblx0XHRcdFx0Ly8gWWVzLCBtb2RpZnkgdGhlIHNvcnRcblx0XHRcdFx0bmV4dFNvcnRJZHggPSBuZXh0KCBzb3J0aW5nW3NvcnRJZHhdLCB0cnVlICk7XG5cdFxuXHRcdFx0XHRpZiAoIG5leHRTb3J0SWR4ID09PSBudWxsICYmIHNvcnRpbmcubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdG5leHRTb3J0SWR4ID0gMDsgLy8gY2FuJ3QgcmVtb3ZlIHNvcnRpbmcgY29tcGxldGVseVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIG5leHRTb3J0SWR4ID09PSBudWxsICkge1xuXHRcdFx0XHRcdHNvcnRpbmcuc3BsaWNlKCBzb3J0SWR4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0c29ydGluZ1tzb3J0SWR4XVsxXSA9IGFzU29ydGluZ1sgbmV4dFNvcnRJZHggXTtcblx0XHRcdFx0XHRzb3J0aW5nW3NvcnRJZHhdLl9pZHggPSBuZXh0U29ydElkeDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdC8vIE5vIHNvcnQgb24gdGhpcyBjb2x1bW4geWV0XG5cdFx0XHRcdHNvcnRpbmcucHVzaCggWyBjb2xJZHgsIGFzU29ydGluZ1swXSwgMCBdICk7XG5cdFx0XHRcdHNvcnRpbmdbc29ydGluZy5sZW5ndGgtMV0uX2lkeCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBzb3J0aW5nLmxlbmd0aCAmJiBzb3J0aW5nWzBdWzBdID09IGNvbElkeCApIHtcblx0XHRcdC8vIFNpbmdsZSBjb2x1bW4gLSBhbHJlYWR5IHNvcnRpbmcgb24gdGhpcyBjb2x1bW4sIG1vZGlmeSB0aGUgc29ydFxuXHRcdFx0bmV4dFNvcnRJZHggPSBuZXh0KCBzb3J0aW5nWzBdICk7XG5cdFxuXHRcdFx0c29ydGluZy5sZW5ndGggPSAxO1xuXHRcdFx0c29ydGluZ1swXVsxXSA9IGFzU29ydGluZ1sgbmV4dFNvcnRJZHggXTtcblx0XHRcdHNvcnRpbmdbMF0uX2lkeCA9IG5leHRTb3J0SWR4O1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIFNpbmdsZSBjb2x1bW4gLSBzb3J0IG9ubHkgb24gdGhpcyBjb2x1bW5cblx0XHRcdHNvcnRpbmcubGVuZ3RoID0gMDtcblx0XHRcdHNvcnRpbmcucHVzaCggWyBjb2xJZHgsIGFzU29ydGluZ1swXSBdICk7XG5cdFx0XHRzb3J0aW5nWzBdLl9pZHggPSAwO1xuXHRcdH1cblx0XG5cdFx0Ly8gUnVuIHRoZSBzb3J0IGJ5IGNhbGxpbmcgYSBmdWxsIHJlZHJhd1xuXHRcdF9mblJlRHJhdyggc2V0dGluZ3MgKTtcblx0XG5cdFx0Ly8gY2FsbGJhY2sgdXNlZCBmb3IgYXN5bmMgdXNlciBpbnRlcmFjdGlvblxuXHRcdGlmICggdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRjYWxsYmFjayggc2V0dGluZ3MgKTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogQXR0YWNoIGEgc29ydCBoYW5kbGVyIChjbGljaykgdG8gYSBub2RlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7bm9kZX0gYXR0YWNoVG8gbm9kZSB0byBhdHRhY2ggdGhlIGhhbmRsZXIgdG9cblx0ICogIEBwYXJhbSB7aW50fSBjb2xJZHggY29sdW1uIHNvcnRpbmcgaW5kZXhcblx0ICogIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gY2FsbGJhY2sgZnVuY3Rpb25cblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuU29ydEF0dGFjaExpc3RlbmVyICggc2V0dGluZ3MsIGF0dGFjaFRvLCBjb2xJZHgsIGNhbGxiYWNrIClcblx0e1xuXHRcdHZhciBjb2wgPSBzZXR0aW5ncy5hb0NvbHVtbnNbIGNvbElkeCBdO1xuXHRcblx0XHRfZm5CaW5kQWN0aW9uKCBhdHRhY2hUbywge30sIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQvKiBJZiB0aGUgY29sdW1uIGlzIG5vdCBzb3J0YWJsZSAtIGRvbid0IHRvIGFueXRoaW5nICovXG5cdFx0XHRpZiAoIGNvbC5iU29ydGFibGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSWYgcHJvY2Vzc2luZyBpcyBlbmFibGVkIHVzZSBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIHByb2Nlc3Npbmdcblx0XHRcdC8vIGRpc3BsYXkgdG8gYmUgc2hvd24gLSBvdGhlcndpc2UgdG8gaXQgc3luY2hyb25vdXNseVxuXHRcdFx0aWYgKCBzZXR0aW5ncy5vRmVhdHVyZXMuYlByb2Nlc3NpbmcgKSB7XG5cdFx0XHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBzZXR0aW5ncywgdHJ1ZSApO1xuXHRcblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0X2ZuU29ydExpc3RlbmVyKCBzZXR0aW5ncywgY29sSWR4LCBlLnNoaWZ0S2V5LCBjYWxsYmFjayApO1xuXHRcblx0XHRcdFx0XHQvLyBJbiBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nLCB0aGUgZHJhdyBjYWxsYmFjayB3aWxsIHJlbW92ZSB0aGVcblx0XHRcdFx0XHQvLyBwcm9jZXNzaW5nIGRpc3BsYXlcblx0XHRcdFx0XHRpZiAoIF9mbkRhdGFTb3VyY2UoIHNldHRpbmdzICkgIT09ICdzc3AnICkge1xuXHRcdFx0XHRcdFx0X2ZuUHJvY2Vzc2luZ0Rpc3BsYXkoIHNldHRpbmdzLCBmYWxzZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgMCApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdF9mblNvcnRMaXN0ZW5lciggc2V0dGluZ3MsIGNvbElkeCwgZS5zaGlmdEtleSwgY2FsbGJhY2sgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSBzb3J0aW5nIGNsYXNzZXMgb24gdGFibGUncyBib2R5LCBOb3RlOiBpdCBpcyBzYWZlIHRvIGNhbGwgdGhpcyBmdW5jdGlvblxuXHQgKiB3aGVuIGJTb3J0IGFuZCBiU29ydENsYXNzZXMgYXJlIGZhbHNlXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mblNvcnRpbmdDbGFzc2VzKCBzZXR0aW5ncyApXG5cdHtcblx0XHR2YXIgb2xkU29ydCA9IHNldHRpbmdzLmFMYXN0U29ydDtcblx0XHR2YXIgc29ydENsYXNzID0gc2V0dGluZ3Mub0NsYXNzZXMuc1NvcnRDb2x1bW47XG5cdFx0dmFyIHNvcnQgPSBfZm5Tb3J0RmxhdHRlbiggc2V0dGluZ3MgKTtcblx0XHR2YXIgZmVhdHVyZXMgPSBzZXR0aW5ncy5vRmVhdHVyZXM7XG5cdFx0dmFyIGksIGllbiwgY29sSWR4O1xuXHRcblx0XHRpZiAoIGZlYXR1cmVzLmJTb3J0ICYmIGZlYXR1cmVzLmJTb3J0Q2xhc3NlcyApIHtcblx0XHRcdC8vIFJlbW92ZSBvbGQgc29ydGluZyBjbGFzc2VzXG5cdFx0XHRmb3IgKCBpPTAsIGllbj1vbGRTb3J0Lmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRjb2xJZHggPSBvbGRTb3J0W2ldLnNyYztcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBjb2x1bW4gc29ydGluZ1xuXHRcdFx0XHQkKCBfcGx1Y2soIHNldHRpbmdzLmFvRGF0YSwgJ2FuQ2VsbHMnLCBjb2xJZHggKSApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBzb3J0Q2xhc3MgKyAoaTwyID8gaSsxIDogMykgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBZGQgbmV3IGNvbHVtbiBzb3J0aW5nXG5cdFx0XHRmb3IgKCBpPTAsIGllbj1zb3J0Lmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRjb2xJZHggPSBzb3J0W2ldLnNyYztcblx0XG5cdFx0XHRcdCQoIF9wbHVjayggc2V0dGluZ3MuYW9EYXRhLCAnYW5DZWxscycsIGNvbElkeCApIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIHNvcnRDbGFzcyArIChpPDIgPyBpKzEgOiAzKSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0c2V0dGluZ3MuYUxhc3RTb3J0ID0gc29ydDtcblx0fVxuXHRcblx0XG5cdC8vIEdldCB0aGUgZGF0YSB0byBzb3J0IGEgY29sdW1uLCBiZSBpdCBmcm9tIGNhY2hlLCBmcmVzaCAocG9wdWxhdGluZyB0aGVcblx0Ly8gY2FjaGUpLCBvciBmcm9tIGEgc29ydCBmb3JtYXR0ZXJcblx0ZnVuY3Rpb24gX2ZuU29ydERhdGEoIHNldHRpbmdzLCBpZHggKVxuXHR7XG5cdFx0Ly8gQ3VzdG9tIHNvcnRpbmcgZnVuY3Rpb24gLSBwcm92aWRlZCBieSB0aGUgc29ydCBkYXRhIHR5cGVcblx0XHR2YXIgY29sdW1uID0gc2V0dGluZ3MuYW9Db2x1bW5zWyBpZHggXTtcblx0XHR2YXIgY3VzdG9tU29ydCA9IERhdGFUYWJsZS5leHQub3JkZXJbIGNvbHVtbi5zU29ydERhdGFUeXBlIF07XG5cdFx0dmFyIGN1c3RvbURhdGE7XG5cdFxuXHRcdGlmICggY3VzdG9tU29ydCApIHtcblx0XHRcdGN1c3RvbURhdGEgPSBjdXN0b21Tb3J0LmNhbGwoIHNldHRpbmdzLm9JbnN0YW5jZSwgc2V0dGluZ3MsIGlkeCxcblx0XHRcdFx0X2ZuQ29sdW1uSW5kZXhUb1Zpc2libGUoIHNldHRpbmdzLCBpZHggKVxuXHRcdFx0KTtcblx0XHR9XG5cdFxuXHRcdC8vIFVzZSAvIHBvcHVsYXRlIGNhY2hlXG5cdFx0dmFyIHJvdywgY2VsbERhdGE7XG5cdFx0dmFyIGZvcm1hdHRlciA9IERhdGFUYWJsZS5leHQudHlwZS5vcmRlclsgY29sdW1uLnNUeXBlK1wiLXByZVwiIF07XG5cdFxuXHRcdGZvciAoIHZhciBpPTAsIGllbj1zZXR0aW5ncy5hb0RhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRyb3cgPSBzZXR0aW5ncy5hb0RhdGFbaV07XG5cdFxuXHRcdFx0aWYgKCAhIHJvdy5fYVNvcnREYXRhICkge1xuXHRcdFx0XHRyb3cuX2FTb3J0RGF0YSA9IFtdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggISByb3cuX2FTb3J0RGF0YVtpZHhdIHx8IGN1c3RvbVNvcnQgKSB7XG5cdFx0XHRcdGNlbGxEYXRhID0gY3VzdG9tU29ydCA/XG5cdFx0XHRcdFx0Y3VzdG9tRGF0YVtpXSA6IC8vIElmIHRoZXJlIHdhcyBhIGN1c3RvbSBzb3J0IGZ1bmN0aW9uLCB1c2UgZGF0YSBmcm9tIHRoZXJlXG5cdFx0XHRcdFx0X2ZuR2V0Q2VsbERhdGEoIHNldHRpbmdzLCBpLCBpZHgsICdzb3J0JyApO1xuXHRcblx0XHRcdFx0cm93Ll9hU29ydERhdGFbIGlkeCBdID0gZm9ybWF0dGVyID9cblx0XHRcdFx0XHRmb3JtYXR0ZXIoIGNlbGxEYXRhICkgOlxuXHRcdFx0XHRcdGNlbGxEYXRhO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0XG5cdFxuXHQvKipcblx0ICogU2F2ZSB0aGUgc3RhdGUgb2YgYSB0YWJsZVxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5TYXZlU3RhdGUgKCBzZXR0aW5ncyApXG5cdHtcblx0XHRpZiAoICFzZXR0aW5ncy5vRmVhdHVyZXMuYlN0YXRlU2F2ZSB8fCBzZXR0aW5ncy5iRGVzdHJveWluZyApXG5cdFx0e1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0LyogU3RvcmUgdGhlIGludGVyZXN0aW5nIHZhcmlhYmxlcyAqL1xuXHRcdHZhciBzdGF0ZSA9IHtcblx0XHRcdHRpbWU6ICAgICtuZXcgRGF0ZSgpLFxuXHRcdFx0c3RhcnQ6ICAgc2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQsXG5cdFx0XHRsZW5ndGg6ICBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgsXG5cdFx0XHRvcmRlcjogICAkLmV4dGVuZCggdHJ1ZSwgW10sIHNldHRpbmdzLmFhU29ydGluZyApLFxuXHRcdFx0c2VhcmNoOiAgX2ZuU2VhcmNoVG9DYW1lbCggc2V0dGluZ3Mub1ByZXZpb3VzU2VhcmNoICksXG5cdFx0XHRjb2x1bW5zOiAkLm1hcCggc2V0dGluZ3MuYW9Db2x1bW5zLCBmdW5jdGlvbiAoIGNvbCwgaSApIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR2aXNpYmxlOiBjb2wuYlZpc2libGUsXG5cdFx0XHRcdFx0c2VhcmNoOiBfZm5TZWFyY2hUb0NhbWVsKCBzZXR0aW5ncy5hb1ByZVNlYXJjaENvbHNbaV0gKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSApXG5cdFx0fTtcblx0XG5cdFx0X2ZuQ2FsbGJhY2tGaXJlKCBzZXR0aW5ncywgXCJhb1N0YXRlU2F2ZVBhcmFtc1wiLCAnc3RhdGVTYXZlUGFyYW1zJywgW3NldHRpbmdzLCBzdGF0ZV0gKTtcblx0XG5cdFx0c2V0dGluZ3Mub1NhdmVkU3RhdGUgPSBzdGF0ZTtcblx0XHRzZXR0aW5ncy5mblN0YXRlU2F2ZUNhbGxiYWNrLmNhbGwoIHNldHRpbmdzLm9JbnN0YW5jZSwgc2V0dGluZ3MsIHN0YXRlICk7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogQXR0ZW1wdCB0byBsb2FkIGEgc2F2ZWQgdGFibGUgc3RhdGVcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgZGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvSW5pdCBEYXRhVGFibGVzIGluaXQgb2JqZWN0IHNvIHdlIGNhbiBvdmVycmlkZSBzZXR0aW5nc1xuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5Mb2FkU3RhdGUgKCBzZXR0aW5ncywgb0luaXQgKVxuXHR7XG5cdFx0dmFyIGksIGllbjtcblx0XHR2YXIgY29sdW1ucyA9IHNldHRpbmdzLmFvQ29sdW1ucztcblx0XG5cdFx0aWYgKCAhIHNldHRpbmdzLm9GZWF0dXJlcy5iU3RhdGVTYXZlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0dmFyIHN0YXRlID0gc2V0dGluZ3MuZm5TdGF0ZUxvYWRDYWxsYmFjay5jYWxsKCBzZXR0aW5ncy5vSW5zdGFuY2UsIHNldHRpbmdzICk7XG5cdFx0aWYgKCAhIHN0YXRlIHx8ICEgc3RhdGUudGltZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8qIEFsbG93IGN1c3RvbSBhbmQgcGx1Zy1pbiBtYW5pcHVsYXRpb24gZnVuY3Rpb25zIHRvIGFsdGVyIHRoZSBzYXZlZCBkYXRhIHNldCBhbmRcblx0XHQgKiBjYW5jZWxsaW5nIG9mIGxvYWRpbmcgYnkgcmV0dXJuaW5nIGZhbHNlXG5cdFx0ICovXG5cdFx0dmFyIGFiU3RhdGVMb2FkID0gX2ZuQ2FsbGJhY2tGaXJlKCBzZXR0aW5ncywgJ2FvU3RhdGVMb2FkUGFyYW1zJywgJ3N0YXRlTG9hZFBhcmFtcycsIFtzZXR0aW5ncywgc3RhdGVdICk7XG5cdFx0aWYgKCAkLmluQXJyYXkoIGZhbHNlLCBhYlN0YXRlTG9hZCApICE9PSAtMSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8qIFJlamVjdCBvbGQgZGF0YSAqL1xuXHRcdHZhciBkdXJhdGlvbiA9IHNldHRpbmdzLmlTdGF0ZUR1cmF0aW9uO1xuXHRcdGlmICggZHVyYXRpb24gPiAwICYmIHN0YXRlLnRpbWUgPCArbmV3IERhdGUoKSAtIChkdXJhdGlvbioxMDAwKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8vIE51bWJlciBvZiBjb2x1bW5zIGhhdmUgY2hhbmdlZCAtIGFsbCBiZXRzIGFyZSBvZmYsIG5vIHJlc3RvcmUgb2Ygc2V0dGluZ3Ncblx0XHRpZiAoIGNvbHVtbnMubGVuZ3RoICE9PSBzdGF0ZS5jb2x1bW5zLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8vIFN0b3JlIHRoZSBzYXZlZCBzdGF0ZSBzbyBpdCBtaWdodCBiZSBhY2Nlc3NlZCBhdCBhbnkgdGltZVxuXHRcdHNldHRpbmdzLm9Mb2FkZWRTdGF0ZSA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgc3RhdGUgKTtcblx0XG5cdFx0Ly8gUmVzdG9yZSBrZXkgZmVhdHVyZXMgLSB0b2RvIC0gZm9yIDEuMTEgdGhpcyBuZWVkcyB0byBiZSBkb25lIGJ5XG5cdFx0Ly8gc3Vic2NyaWJlZCBldmVudHNcblx0XHRpZiAoIHN0YXRlLnN0YXJ0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRzZXR0aW5ncy5faURpc3BsYXlTdGFydCAgICA9IHN0YXRlLnN0YXJ0O1xuXHRcdFx0c2V0dGluZ3MuaUluaXREaXNwbGF5U3RhcnQgPSBzdGF0ZS5zdGFydDtcblx0XHR9XG5cdFx0aWYgKCBzdGF0ZS5sZW5ndGggIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCAgID0gc3RhdGUubGVuZ3RoO1xuXHRcdH1cblx0XG5cdFx0Ly8gT3JkZXJcblx0XHRpZiAoIHN0YXRlLm9yZGVyICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRzZXR0aW5ncy5hYVNvcnRpbmcgPSBbXTtcblx0XHRcdCQuZWFjaCggc3RhdGUub3JkZXIsIGZ1bmN0aW9uICggaSwgY29sICkge1xuXHRcdFx0XHRzZXR0aW5ncy5hYVNvcnRpbmcucHVzaCggY29sWzBdID49IGNvbHVtbnMubGVuZ3RoID9cblx0XHRcdFx0XHRbIDAsIGNvbFsxXSBdIDpcblx0XHRcdFx0XHRjb2xcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIFNlYXJjaFxuXHRcdGlmICggc3RhdGUuc2VhcmNoICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQkLmV4dGVuZCggc2V0dGluZ3Mub1ByZXZpb3VzU2VhcmNoLCBfZm5TZWFyY2hUb0h1bmcoIHN0YXRlLnNlYXJjaCApICk7XG5cdFx0fVxuXHRcblx0XHQvLyBDb2x1bW5zXG5cdFx0Zm9yICggaT0wLCBpZW49c3RhdGUuY29sdW1ucy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdHZhciBjb2wgPSBzdGF0ZS5jb2x1bW5zW2ldO1xuXHRcblx0XHRcdC8vIFZpc2liaWxpdHlcblx0XHRcdGlmICggY29sLnZpc2libGUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Y29sdW1uc1tpXS5iVmlzaWJsZSA9IGNvbC52aXNpYmxlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNlYXJjaFxuXHRcdFx0aWYgKCBjb2wuc2VhcmNoICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdCQuZXh0ZW5kKCBzZXR0aW5ncy5hb1ByZVNlYXJjaENvbHNbaV0sIF9mblNlYXJjaFRvSHVuZyggY29sLnNlYXJjaCApICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRfZm5DYWxsYmFja0ZpcmUoIHNldHRpbmdzLCAnYW9TdGF0ZUxvYWRlZCcsICdzdGF0ZUxvYWRlZCcsIFtzZXR0aW5ncywgc3RhdGVdICk7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogUmV0dXJuIHRoZSBzZXR0aW5ncyBvYmplY3QgZm9yIGEgcGFydGljdWxhciB0YWJsZVxuXHQgKiAgQHBhcmFtIHtub2RlfSB0YWJsZSB0YWJsZSB3ZSBhcmUgdXNpbmcgYXMgYSBkYXRhVGFibGVcblx0ICogIEByZXR1cm5zIHtvYmplY3R9IFNldHRpbmdzIG9iamVjdCAtIG9yIG51bGwgaWYgbm90IGZvdW5kXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mblNldHRpbmdzRnJvbU5vZGUgKCB0YWJsZSApXG5cdHtcblx0XHR2YXIgc2V0dGluZ3MgPSBEYXRhVGFibGUuc2V0dGluZ3M7XG5cdFx0dmFyIGlkeCA9ICQuaW5BcnJheSggdGFibGUsIF9wbHVjayggc2V0dGluZ3MsICduVGFibGUnICkgKTtcblx0XG5cdFx0cmV0dXJuIGlkeCAhPT0gLTEgP1xuXHRcdFx0c2V0dGluZ3NbIGlkeCBdIDpcblx0XHRcdG51bGw7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogTG9nIGFuIGVycm9yIG1lc3NhZ2Vcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBkYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtpbnR9IGxldmVsIGxvZyBlcnJvciBtZXNzYWdlcywgb3IgZGlzcGxheSB0aGVtIHRvIHRoZSB1c2VyXG5cdCAqICBAcGFyYW0ge3N0cmluZ30gbXNnIGVycm9yIG1lc3NhZ2Vcblx0ICogIEBwYXJhbSB7aW50fSB0biBUZWNobmljYWwgbm90ZSBpZCB0byBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuXG5cdCAqICBAbWVtYmVyb2YgRGF0YVRhYmxlI29BcGlcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkxvZyggc2V0dGluZ3MsIGxldmVsLCBtc2csIHRuIClcblx0e1xuXHRcdG1zZyA9ICdEYXRhVGFibGVzIHdhcm5pbmc6ICcrXG5cdFx0XHQoc2V0dGluZ3MgPyAndGFibGUgaWQ9JytzZXR0aW5ncy5zVGFibGVJZCsnIC0gJyA6ICcnKSttc2c7XG5cdFxuXHRcdGlmICggdG4gKSB7XG5cdFx0XHRtc2cgKz0gJy4gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBlcnJvciwgcGxlYXNlIHNlZSAnK1xuXHRcdFx0J2h0dHA6Ly9kYXRhdGFibGVzLm5ldC90bi8nK3RuO1xuXHRcdH1cblx0XG5cdFx0aWYgKCAhIGxldmVsICApIHtcblx0XHRcdC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHByZSAxLjEwXG5cdFx0XHR2YXIgZXh0ID0gRGF0YVRhYmxlLmV4dDtcblx0XHRcdHZhciB0eXBlID0gZXh0LnNFcnJNb2RlIHx8IGV4dC5lcnJNb2RlO1xuXHRcblx0XHRcdGlmICggc2V0dGluZ3MgKSB7XG5cdFx0XHRcdF9mbkNhbGxiYWNrRmlyZSggc2V0dGluZ3MsIG51bGwsICdlcnJvcicsIFsgc2V0dGluZ3MsIHRuLCBtc2cgXSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdHlwZSA9PSAnYWxlcnQnICkge1xuXHRcdFx0XHRhbGVydCggbXNnICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICggdHlwZSA9PSAndGhyb3cnICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IobXNnKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCB0eXBlb2YgdHlwZSA9PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHR0eXBlKCBzZXR0aW5ncywgdG4sIG1zZyApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIGlmICggd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS5sb2cgKSB7XG5cdFx0XHRjb25zb2xlLmxvZyggbXNnICk7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIFNlZSBpZiBhIHByb3BlcnR5IGlzIGRlZmluZWQgb24gb25lIG9iamVjdCwgaWYgc28gYXNzaWduIGl0IHRvIHRoZSBvdGhlciBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSByZXQgdGFyZ2V0IG9iamVjdFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNyYyBzb3VyY2Ugb2JqZWN0XG5cdCAqICBAcGFyYW0ge3N0cmluZ30gbmFtZSBwcm9wZXJ0eVxuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IFttYXBwZWROYW1lXSBuYW1lIHRvIG1hcCB0b28gLSBvcHRpb25hbCwgbmFtZSB1c2VkIGlmIG5vdCBnaXZlblxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5NYXAoIHJldCwgc3JjLCBuYW1lLCBtYXBwZWROYW1lIClcblx0e1xuXHRcdGlmICggJC5pc0FycmF5KCBuYW1lICkgKSB7XG5cdFx0XHQkLmVhY2goIG5hbWUsIGZ1bmN0aW9uIChpLCB2YWwpIHtcblx0XHRcdFx0aWYgKCAkLmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHRcdF9mbk1hcCggcmV0LCBzcmMsIHZhbFswXSwgdmFsWzFdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0X2ZuTWFwKCByZXQsIHNyYywgdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHRpZiAoIG1hcHBlZE5hbWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdG1hcHBlZE5hbWUgPSBuYW1lO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBzcmNbbmFtZV0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldFttYXBwZWROYW1lXSA9IHNyY1tuYW1lXTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRXh0ZW5kIG9iamVjdHMgLSB2ZXJ5IHNpbWlsYXIgdG8galF1ZXJ5LmV4dGVuZCwgYnV0IGRlZXAgY29weSBvYmplY3RzLCBhbmRcblx0ICogc2hhbGxvdyBjb3B5IGFycmF5cy4gVGhlIHJlYXNvbiB3ZSBuZWVkIHRvIGRvIHRoaXMsIGlzIHRoYXQgd2UgZG9uJ3Qgd2FudCB0b1xuXHQgKiBkZWVwIGNvcHkgYXJyYXkgaW5pdCB2YWx1ZXMgKHN1Y2ggYXMgYWFTb3J0aW5nKSBzaW5jZSB0aGUgZGV2IHdvdWxkbid0IGJlXG5cdCAqIGFibGUgdG8gb3ZlcnJpZGUgdGhlbSwgYnV0IHdlIGRvIHdhbnQgdG8gZGVlcCBjb3B5IGFycmF5cy5cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvdXQgT2JqZWN0IHRvIGV4dGVuZFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IGV4dGVuZGVyIE9iamVjdCBmcm9tIHdoaWNoIHRoZSBwcm9wZXJ0aWVzIHdpbGwgYmUgYXBwbGllZCB0b1xuXHQgKiAgICAgIG91dFxuXHQgKiAgQHBhcmFtIHtib29sZWFufSBicmVha1JlZnMgSWYgdHJ1ZSwgdGhlbiBhcnJheXMgd2lsbCBiZSBzbGljZWQgdG8gdGFrZSBhblxuXHQgKiAgICAgIGluZGVwZW5kZW50IGNvcHkgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBgZGF0YWAgb3IgYGFhRGF0YWAgcGFyYW1ldGVyc1xuXHQgKiAgICAgIGlmIHRoZXkgYXJlIHByZXNlbnQuIFRoaXMgaXMgc28geW91IGNhbiBwYXNzIGluIGEgY29sbGVjdGlvbiB0b1xuXHQgKiAgICAgIERhdGFUYWJsZXMgYW5kIGhhdmUgdGhhdCB1c2VkIGFzIHlvdXIgZGF0YSBzb3VyY2Ugd2l0aG91dCBicmVha2luZyB0aGVcblx0ICogICAgICByZWZlcmVuY2VzXG5cdCAqICBAcmV0dXJucyB7b2JqZWN0fSBvdXQgUmVmZXJlbmNlLCBqdXN0IGZvciBjb252ZW5pZW5jZSAtIG91dCA9PT0gdGhlIHJldHVybi5cblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKiAgQHRvZG8gVGhpcyBkb2Vzbid0IHRha2UgYWNjb3VudCBvZiBhcnJheXMgaW5zaWRlIHRoZSBkZWVwIGNvcGllZCBvYmplY3RzLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuRXh0ZW5kKCBvdXQsIGV4dGVuZGVyLCBicmVha1JlZnMgKVxuXHR7XG5cdFx0dmFyIHZhbDtcblx0XG5cdFx0Zm9yICggdmFyIHByb3AgaW4gZXh0ZW5kZXIgKSB7XG5cdFx0XHRpZiAoIGV4dGVuZGVyLmhhc093blByb3BlcnR5KHByb3ApICkge1xuXHRcdFx0XHR2YWwgPSBleHRlbmRlcltwcm9wXTtcblx0XG5cdFx0XHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCB2YWwgKSApIHtcblx0XHRcdFx0XHRpZiAoICEgJC5pc1BsYWluT2JqZWN0KCBvdXRbcHJvcF0gKSApIHtcblx0XHRcdFx0XHRcdG91dFtwcm9wXSA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkLmV4dGVuZCggdHJ1ZSwgb3V0W3Byb3BdLCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICggYnJlYWtSZWZzICYmIHByb3AgIT09ICdkYXRhJyAmJiBwcm9wICE9PSAnYWFEYXRhJyAmJiAkLmlzQXJyYXkodmFsKSApIHtcblx0XHRcdFx0XHRvdXRbcHJvcF0gPSB2YWwuc2xpY2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRvdXRbcHJvcF0gPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBvdXQ7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogQmluZCBhbiBldmVudCBoYW5kZXJzIHRvIGFsbG93IGEgY2xpY2sgb3IgcmV0dXJuIGtleSB0byBhY3RpdmF0ZSB0aGUgY2FsbGJhY2suXG5cdCAqIFRoaXMgaXMgZ29vZCBmb3IgYWNjZXNzaWJpbGl0eSBzaW5jZSBhIHJldHVybiBvbiB0aGUga2V5Ym9hcmQgd2lsbCBoYXZlIHRoZVxuXHQgKiBzYW1lIGVmZmVjdCBhcyBhIGNsaWNrLCBpZiB0aGUgZWxlbWVudCBoYXMgZm9jdXMuXG5cdCAqICBAcGFyYW0ge2VsZW1lbnR9IG4gRWxlbWVudCB0byBiaW5kIHRoZSBhY3Rpb24gdG9cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvRGF0YSBEYXRhIG9iamVjdCB0byBwYXNzIHRvIHRoZSB0cmlnZ2VyZWQgZnVuY3Rpb25cblx0ICogIEBwYXJhbSB7ZnVuY3Rpb259IGZuIENhbGxiYWNrIGZ1bmN0aW9uIGZvciB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWRcblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjb0FwaVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ZuQmluZEFjdGlvbiggbiwgb0RhdGEsIGZuIClcblx0e1xuXHRcdCQobilcblx0XHRcdC5iaW5kKCAnY2xpY2suRFQnLCBvRGF0YSwgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRuLmJsdXIoKTsgLy8gUmVtb3ZlIGZvY3VzIG91dGxpbmUgZm9yIG1vdXNlIHVzZXJzXG5cdFx0XHRcdFx0Zm4oZSk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0LmJpbmQoICdrZXlwcmVzcy5EVCcsIG9EYXRhLCBmdW5jdGlvbiAoZSl7XG5cdFx0XHRcdFx0aWYgKCBlLndoaWNoID09PSAxMyApIHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdGZuKGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApXG5cdFx0XHQuYmluZCggJ3NlbGVjdHN0YXJ0LkRUJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdC8qIFRha2UgdGhlIGJydXRhbCBhcHByb2FjaCB0byBjYW5jZWxsaW5nIHRleHQgc2VsZWN0aW9uICovXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9ICk7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogUmVnaXN0ZXIgYSBjYWxsYmFjayBmdW5jdGlvbi4gRWFzaWx5IGFsbG93cyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIHRvXG5cdCAqIGFuIGFycmF5IHN0b3JlIG9mIGNhbGxiYWNrIGZ1bmN0aW9ucyB0aGF0IGNhbiB0aGVuIGFsbCBiZSBjYWxsZWQgdG9nZXRoZXIuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge3N0cmluZ30gc1N0b3JlIE5hbWUgb2YgdGhlIGFycmF5IHN0b3JhZ2UgZm9yIHRoZSBjYWxsYmFja3MgaW4gb1NldHRpbmdzXG5cdCAqICBAcGFyYW0ge2Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBiZSBjYWxsZWQgYmFja1xuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNOYW1lIElkZW50aWZ5aW5nIG5hbWUgZm9yIHRoZSBjYWxsYmFjayAoaS5lLiBhIGxhYmVsKVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5DYWxsYmFja1JlZyggb1NldHRpbmdzLCBzU3RvcmUsIGZuLCBzTmFtZSApXG5cdHtcblx0XHRpZiAoIGZuIClcblx0XHR7XG5cdFx0XHRvU2V0dGluZ3Nbc1N0b3JlXS5wdXNoKCB7XG5cdFx0XHRcdFwiZm5cIjogZm4sXG5cdFx0XHRcdFwic05hbWVcIjogc05hbWVcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogRmlyZSBjYWxsYmFjayBmdW5jdGlvbnMgYW5kIHRyaWdnZXIgZXZlbnRzLiBOb3RlIHRoYXQgdGhlIGxvb3Agb3ZlciB0aGVcblx0ICogY2FsbGJhY2sgYXJyYXkgc3RvcmUgaXMgZG9uZSBiYWNrd2FyZHMhIEZ1cnRoZXIgbm90ZSB0aGF0IHlvdSBkbyBub3Qgd2FudCB0b1xuXHQgKiBmaXJlIG9mZiB0cmlnZ2VycyBpbiB0aW1lIHNlbnNpdGl2ZSBhcHBsaWNhdGlvbnMgKGZvciBleGFtcGxlIGNlbGwgY3JlYXRpb24pXG5cdCAqIGFzIGl0cyBzbG93LlxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tBcnIgTmFtZSBvZiB0aGUgYXJyYXkgc3RvcmFnZSBmb3IgdGhlIGNhbGxiYWNrcyBpblxuXHQgKiAgICAgIG9TZXR0aW5nc1xuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBqUXVlcnkgY3VzdG9tIGV2ZW50IHRvIHRyaWdnZXIuIElmXG5cdCAqICAgICAgbnVsbCBubyB0cmlnZ2VyIGlzIGZpcmVkXG5cdCAqICBAcGFyYW0ge2FycmF5fSBhcmdzIEFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbiAvXG5cdCAqICAgICAgdHJpZ2dlclxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5DYWxsYmFja0ZpcmUoIHNldHRpbmdzLCBjYWxsYmFja0FyciwgZXZlbnROYW1lLCBhcmdzIClcblx0e1xuXHRcdHZhciByZXQgPSBbXTtcblx0XG5cdFx0aWYgKCBjYWxsYmFja0FyciApIHtcblx0XHRcdHJldCA9ICQubWFwKCBzZXR0aW5nc1tjYWxsYmFja0Fycl0uc2xpY2UoKS5yZXZlcnNlKCksIGZ1bmN0aW9uICh2YWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbC5mbi5hcHBseSggc2V0dGluZ3Mub0luc3RhbmNlLCBhcmdzICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGV2ZW50TmFtZSAhPT0gbnVsbCApIHtcblx0XHRcdHZhciBlID0gJC5FdmVudCggZXZlbnROYW1lKycuZHQnICk7XG5cdFxuXHRcdFx0JChzZXR0aW5ncy5uVGFibGUpLnRyaWdnZXIoIGUsIGFyZ3MgKTtcblx0XG5cdFx0XHRyZXQucHVzaCggZS5yZXN1bHQgKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiByZXQ7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBfZm5MZW5ndGhPdmVyZmxvdyAoIHNldHRpbmdzIClcblx0e1xuXHRcdHZhclxuXHRcdFx0c3RhcnQgPSBzZXR0aW5ncy5faURpc3BsYXlTdGFydCxcblx0XHRcdGVuZCA9IHNldHRpbmdzLmZuRGlzcGxheUVuZCgpLFxuXHRcdFx0bGVuID0gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoO1xuXHRcblx0XHQvKiBJZiB3ZSBoYXZlIHNwYWNlIHRvIHNob3cgZXh0cmEgcm93cyAoYmFja2luZyB1cCBmcm9tIHRoZSBlbmQgcG9pbnQgLSB0aGVuIGRvIHNvICovXG5cdFx0aWYgKCBzdGFydCA+PSBlbmQgKVxuXHRcdHtcblx0XHRcdHN0YXJ0ID0gZW5kIC0gbGVuO1xuXHRcdH1cblx0XG5cdFx0Ly8gS2VlcCB0aGUgc3RhcnQgcmVjb3JkIG9uIHRoZSBjdXJyZW50IHBhZ2Vcblx0XHRzdGFydCAtPSAoc3RhcnQgJSBsZW4pO1xuXHRcblx0XHRpZiAoIGxlbiA9PT0gLTEgfHwgc3RhcnQgPCAwIClcblx0XHR7XG5cdFx0XHRzdGFydCA9IDA7XG5cdFx0fVxuXHRcblx0XHRzZXR0aW5ncy5faURpc3BsYXlTdGFydCA9IHN0YXJ0O1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gX2ZuUmVuZGVyZXIoIHNldHRpbmdzLCB0eXBlIClcblx0e1xuXHRcdHZhciByZW5kZXJlciA9IHNldHRpbmdzLnJlbmRlcmVyO1xuXHRcdHZhciBob3N0ID0gRGF0YVRhYmxlLmV4dC5yZW5kZXJlclt0eXBlXTtcblx0XG5cdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHJlbmRlcmVyICkgJiYgcmVuZGVyZXJbdHlwZV0gKSB7XG5cdFx0XHQvLyBTcGVjaWZpYyByZW5kZXJlciBmb3IgdGhpcyB0eXBlLiBJZiBhdmFpbGFibGUgdXNlIGl0LCBvdGhlcndpc2UgdXNlXG5cdFx0XHQvLyB0aGUgZGVmYXVsdC5cblx0XHRcdHJldHVybiBob3N0W3JlbmRlcmVyW3R5cGVdXSB8fCBob3N0Ll87XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCB0eXBlb2YgcmVuZGVyZXIgPT09ICdzdHJpbmcnICkge1xuXHRcdFx0Ly8gQ29tbW9uIHJlbmRlcmVyIC0gaWYgdGhlcmUgaXMgb25lIGF2YWlsYWJsZSBmb3IgdGhpcyB0eXBlIHVzZSBpdCxcblx0XHRcdC8vIG90aGVyd2lzZSB1c2UgdGhlIGRlZmF1bHRcblx0XHRcdHJldHVybiBob3N0W3JlbmRlcmVyXSB8fCBob3N0Ll87XG5cdFx0fVxuXHRcblx0XHQvLyBVc2UgdGhlIGRlZmF1bHRcblx0XHRyZXR1cm4gaG9zdC5fO1xuXHR9XG5cdFxuXHRcblx0LyoqXG5cdCAqIERldGVjdCB0aGUgZGF0YSBzb3VyY2UgYmVpbmcgdXNlZCBmb3IgdGhlIHRhYmxlLiBVc2VkIHRvIHNpbXBsaWZ5IHRoZSBjb2RlXG5cdCAqIGEgbGl0dGxlIChhamF4KSBhbmQgdG8gbWFrZSBpdCBjb21wcmVzcyBhIGxpdHRsZSBzbWFsbGVyLlxuXHQgKlxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIGRhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcmV0dXJucyB7c3RyaW5nfSBEYXRhIHNvdXJjZVxuXHQgKiAgQG1lbWJlcm9mIERhdGFUYWJsZSNvQXBpXG5cdCAqL1xuXHRmdW5jdGlvbiBfZm5EYXRhU291cmNlICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0aWYgKCBzZXR0aW5ncy5vRmVhdHVyZXMuYlNlcnZlclNpZGUgKSB7XG5cdFx0XHRyZXR1cm4gJ3NzcCc7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBzZXR0aW5ncy5hamF4IHx8IHNldHRpbmdzLnNBamF4U291cmNlICkge1xuXHRcdFx0cmV0dXJuICdhamF4Jztcblx0XHR9XG5cdFx0cmV0dXJuICdkb20nO1xuXHR9XG5cdFxuXG5cdFxuXHRcblx0LyoqXG5cdCAqIENvbXB1dGVkIHN0cnVjdHVyZSBvZiB0aGUgRGF0YVRhYmxlcyBBUEksIGRlZmluZWQgYnkgdGhlIG9wdGlvbnMgcGFzc2VkIHRvXG5cdCAqIGBEYXRhVGFibGUuQXBpLnJlZ2lzdGVyKClgIHdoZW4gYnVpbGRpbmcgdGhlIEFQSS5cblx0ICpcblx0ICogVGhlIHN0cnVjdHVyZSBpcyBidWlsdCBpbiBvcmRlciB0byBzcGVlZCBjcmVhdGlvbiBhbmQgZXh0ZW5zaW9uIG9mIHRoZSBBcGlcblx0ICogb2JqZWN0cyBzaW5jZSB0aGUgZXh0ZW5zaW9ucyBhcmUgZWZmZWN0aXZlbHkgcHJlLXBhcnNlZC5cblx0ICpcblx0ICogVGhlIGFycmF5IGlzIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZSwgd2hlcmUgdGhpc1xuXHQgKiBiYXNlIGFycmF5IHJlcHJlc2VudHMgdGhlIEFwaSBwcm90b3R5cGUgYmFzZTpcblx0ICpcblx0ICogICAgIFtcblx0ICogICAgICAge1xuXHQgKiAgICAgICAgIG5hbWU6ICAgICAgJ2RhdGEnICAgICAgICAgICAgICAgIC0tIHN0cmluZyAgIC0gUHJvcGVydHkgbmFtZVxuXHQgKiAgICAgICAgIHZhbDogICAgICAgZnVuY3Rpb24gKCkge30sICAgICAgIC0tIGZ1bmN0aW9uIC0gQXBpIG1ldGhvZCAob3IgdW5kZWZpbmVkIGlmIGp1c3QgYW4gb2JqZWN0XG5cdCAqICAgICAgICAgbWV0aG9kRXh0OiBbIC4uLiBdLCAgICAgICAgICAgICAgLS0gYXJyYXkgICAgLSBBcnJheSBvZiBBcGkgb2JqZWN0IGRlZmluaXRpb25zIHRvIGV4dGVuZCB0aGUgbWV0aG9kIHJlc3VsdFxuXHQgKiAgICAgICAgIHByb3BFeHQ6ICAgWyAuLi4gXSAgICAgICAgICAgICAgIC0tIGFycmF5ICAgIC0gQXJyYXkgb2YgQXBpIG9iamVjdCBkZWZpbml0aW9ucyB0byBleHRlbmQgdGhlIHByb3BlcnR5XG5cdCAqICAgICAgIH0sXG5cdCAqICAgICAgIHtcblx0ICogICAgICAgICBuYW1lOiAgICAgJ3Jvdydcblx0ICogICAgICAgICB2YWw6ICAgICAgIHt9LFxuXHQgKiAgICAgICAgIG1ldGhvZEV4dDogWyAuLi4gXSxcblx0ICogICAgICAgICBwcm9wRXh0OiAgIFtcblx0ICogICAgICAgICAgIHtcblx0ICogICAgICAgICAgICAgbmFtZTogICAgICAnZGF0YSdcblx0ICogICAgICAgICAgICAgdmFsOiAgICAgICBmdW5jdGlvbiAoKSB7fSxcblx0ICogICAgICAgICAgICAgbWV0aG9kRXh0OiBbIC4uLiBdLFxuXHQgKiAgICAgICAgICAgICBwcm9wRXh0OiAgIFsgLi4uIF1cblx0ICogICAgICAgICAgIH0sXG5cdCAqICAgICAgICAgICAuLi5cblx0ICogICAgICAgICBdXG5cdCAqICAgICAgIH1cblx0ICogICAgIF1cblx0ICpcblx0ICogQHR5cGUge0FycmF5fVxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHR2YXIgX19hcGlTdHJ1Y3QgPSBbXTtcblx0XG5cdFxuXHQvKipcblx0ICogYEFycmF5LnByb3RvdHlwZWAgcmVmZXJlbmNlLlxuXHQgKlxuXHQgKiBAdHlwZSBvYmplY3Rcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dmFyIF9fYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblx0XG5cdFxuXHQvKipcblx0ICogQWJzdHJhY3Rpb24gZm9yIGBjb250ZXh0YCBwYXJhbWV0ZXIgb2YgdGhlIGBBcGlgIGNvbnN0cnVjdG9yIHRvIGFsbG93IGl0IHRvXG5cdCAqIHRha2Ugc2V2ZXJhbCBkaWZmZXJlbnQgZm9ybXMgZm9yIGVhc2Ugb2YgdXNlLlxuXHQgKlxuXHQgKiBFYWNoIG9mIHRoZSBpbnB1dCBwYXJhbWV0ZXIgdHlwZXMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBEYXRhVGFibGVzIHNldHRpbmdzXG5cdCAqIG9iamVjdCB3aGVyZSBwb3NzaWJsZS5cblx0ICpcblx0ICogQHBhcmFtICB7c3RyaW5nfG5vZGV8alF1ZXJ5fG9iamVjdH0gbWl4ZWQgRGF0YVRhYmxlIGlkZW50aWZpZXIuIENhbiBiZSBvbmVcblx0ICogICBvZjpcblx0ICpcblx0ICogICAqIGBzdHJpbmdgIC0galF1ZXJ5IHNlbGVjdG9yLiBBbnkgRGF0YVRhYmxlcycgbWF0Y2hpbmcgdGhlIGdpdmVuIHNlbGVjdG9yXG5cdCAqICAgICB3aXRoIGJlIGZvdW5kIGFuZCB1c2VkLlxuXHQgKiAgICogYG5vZGVgIC0gYFRBQkxFYCBub2RlIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gZm9ybWVkIGludG8gYSBEYXRhVGFibGUuXG5cdCAqICAgKiBgalF1ZXJ5YCAtIEEgalF1ZXJ5IG9iamVjdCBvZiBgVEFCTEVgIG5vZGVzLlxuXHQgKiAgICogYG9iamVjdGAgLSBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgICogYERhdGFUYWJsZXMuQXBpYCAtIEFQSSBpbnN0YW5jZVxuXHQgKiBAcmV0dXJuIHthcnJheXxudWxsfSBNYXRjaGluZyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdHMuIGBudWxsYCBvclxuXHQgKiAgIGB1bmRlZmluZWRgIGlzIHJldHVybmVkIGlmIG5vIG1hdGNoaW5nIERhdGFUYWJsZSBpcyBmb3VuZC5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dmFyIF90b1NldHRpbmdzID0gZnVuY3Rpb24gKCBtaXhlZCApXG5cdHtcblx0XHR2YXIgaWR4LCBqcTtcblx0XHR2YXIgc2V0dGluZ3MgPSBEYXRhVGFibGUuc2V0dGluZ3M7XG5cdFx0dmFyIHRhYmxlcyA9ICQubWFwKCBzZXR0aW5ncywgZnVuY3Rpb24gKGVsLCBpKSB7XG5cdFx0XHRyZXR1cm4gZWwublRhYmxlO1xuXHRcdH0gKTtcblx0XG5cdFx0aWYgKCAhIG1peGVkICkge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0XHRlbHNlIGlmICggbWl4ZWQublRhYmxlICYmIG1peGVkLm9BcGkgKSB7XG5cdFx0XHQvLyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0cmV0dXJuIFsgbWl4ZWQgXTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIG1peGVkLm5vZGVOYW1lICYmIG1peGVkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YWJsZScgKSB7XG5cdFx0XHQvLyBUYWJsZSBub2RlXG5cdFx0XHRpZHggPSAkLmluQXJyYXkoIG1peGVkLCB0YWJsZXMgKTtcblx0XHRcdHJldHVybiBpZHggIT09IC0xID8gWyBzZXR0aW5nc1tpZHhdIF0gOiBudWxsO1xuXHRcdH1cblx0XHRlbHNlIGlmICggbWl4ZWQgJiYgdHlwZW9mIG1peGVkLnNldHRpbmdzID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0cmV0dXJuIG1peGVkLnNldHRpbmdzKCkudG9BcnJheSgpO1xuXHRcdH1cblx0XHRlbHNlIGlmICggdHlwZW9mIG1peGVkID09PSAnc3RyaW5nJyApIHtcblx0XHRcdC8vIGpRdWVyeSBzZWxlY3RvclxuXHRcdFx0anEgPSAkKG1peGVkKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIG1peGVkIGluc3RhbmNlb2YgJCApIHtcblx0XHRcdC8vIGpRdWVyeSBvYmplY3QgKGFsc28gRGF0YVRhYmxlcyBpbnN0YW5jZSlcblx0XHRcdGpxID0gbWl4ZWQ7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGpxICkge1xuXHRcdFx0cmV0dXJuIGpxLm1hcCggZnVuY3Rpb24oaSkge1xuXHRcdFx0XHRpZHggPSAkLmluQXJyYXkoIHRoaXMsIHRhYmxlcyApO1xuXHRcdFx0XHRyZXR1cm4gaWR4ICE9PSAtMSA/IHNldHRpbmdzW2lkeF0gOiBudWxsO1xuXHRcdFx0fSApLnRvQXJyYXkoKTtcblx0XHR9XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIERhdGFUYWJsZXMgQVBJIGNsYXNzIC0gdXNlZCB0byBjb250cm9sIGFuZCBpbnRlcmZhY2Ugd2l0aCAgb25lIG9yIG1vcmVcblx0ICogRGF0YVRhYmxlcyBlbmhhbmNlZCB0YWJsZXMuXG5cdCAqXG5cdCAqIFRoZSBBUEkgY2xhc3MgaXMgaGVhdmlseSBiYXNlZCBvbiBqUXVlcnksIHByZXNlbnRpbmcgYSBjaGFpbmFibGUgaW50ZXJmYWNlXG5cdCAqIHRoYXQgeW91IGNhbiB1c2UgdG8gaW50ZXJhY3Qgd2l0aCB0YWJsZXMuIEVhY2ggaW5zdGFuY2Ugb2YgdGhlIEFQSSBjbGFzcyBoYXNcblx0ICogYSBcImNvbnRleHRcIiAtIGkuZS4gdGhlIHRhYmxlcyB0aGF0IGl0IHdpbGwgb3BlcmF0ZSBvbi4gVGhpcyBjb3VsZCBiZSBhIHNpbmdsZVxuXHQgKiB0YWJsZSwgYWxsIHRhYmxlcyBvbiBhIHBhZ2Ugb3IgYSBzdWItc2V0IHRoZXJlb2YuXG5cdCAqXG5cdCAqIEFkZGl0aW9uYWxseSB0aGUgQVBJIGlzIGRlc2lnbmVkIHRvIGFsbG93IHlvdSB0byBlYXNpbHkgd29yayB3aXRoIHRoZSBkYXRhIGluXG5cdCAqIHRoZSB0YWJsZXMsIHJldHJpZXZpbmcgYW5kIG1hbmlwdWxhdGluZyBpdCBhcyByZXF1aXJlZC4gVGhpcyBpcyBkb25lIGJ5XG5cdCAqIHByZXNlbnRpbmcgdGhlIEFQSSBjbGFzcyBhcyBhbiBhcnJheSBsaWtlIGludGVyZmFjZS4gVGhlIGNvbnRlbnRzIG9mIHRoZVxuXHQgKiBhcnJheSBkZXBlbmQgdXBvbiB0aGUgYWN0aW9ucyByZXF1ZXN0ZWQgYnkgZWFjaCBtZXRob2QgKGZvciBleGFtcGxlXG5cdCAqIGByb3dzKCkubm9kZXMoKWAgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2Ygbm9kZXMsIHdoaWxlIGByb3dzKCkuZGF0YSgpYCB3aWxsXG5cdCAqIHJldHVybiBhbiBhcnJheSBvZiBvYmplY3RzIG9yIGFycmF5cyBkZXBlbmRpbmcgdXBvbiB5b3VyIHRhYmxlJ3Ncblx0ICogY29uZmlndXJhdGlvbikuIFRoZSBBUEkgb2JqZWN0IGhhcyBhIG51bWJlciBvZiBhcnJheSBsaWtlIG1ldGhvZHMgKGBwdXNoYCxcblx0ICogYHBvcGAsIGByZXZlcnNlYCBldGMpIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyAoYGVhY2hgLCBgcGx1Y2tgLFxuXHQgKiBgdW5pcXVlYCBldGMpIHRvIGFzc2lzdCB5b3VyIHdvcmtpbmcgd2l0aCB0aGUgZGF0YSBoZWxkIGluIGEgdGFibGUuXG5cdCAqXG5cdCAqIE1vc3QgbWV0aG9kcyAodGhvc2Ugd2hpY2ggcmV0dXJuIGFuIEFwaSBpbnN0YW5jZSkgYXJlIGNoYWluYWJsZSwgd2hpY2ggbWVhbnNcblx0ICogdGhlIHJldHVybiBmcm9tIGEgbWV0aG9kIGNhbGwgYWxzbyBoYXMgYWxsIG9mIHRoZSBtZXRob2RzIGF2YWlsYWJsZSB0aGF0IHRoZVxuXHQgKiB0b3AgbGV2ZWwgb2JqZWN0IGhhZC4gRm9yIGV4YW1wbGUsIHRoZXNlIHR3byBjYWxscyBhcmUgZXF1aXZhbGVudDpcblx0ICpcblx0ICogICAgIC8vIE5vdCBjaGFpbmVkXG5cdCAqICAgICBhcGkucm93LmFkZCggey4uLn0gKTtcblx0ICogICAgIGFwaS5kcmF3KCk7XG5cdCAqXG5cdCAqICAgICAvLyBDaGFpbmVkXG5cdCAqICAgICBhcGkucm93LmFkZCggey4uLn0gKS5kcmF3KCk7XG5cdCAqXG5cdCAqIEBjbGFzcyBEYXRhVGFibGUuQXBpXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fHN0cmluZ3xqUXVlcnl9IGNvbnRleHQgRGF0YVRhYmxlIGlkZW50aWZpZXIuIFRoaXMgaXNcblx0ICogICB1c2VkIHRvIGRlZmluZSB3aGljaCBEYXRhVGFibGVzIGVuaGFuY2VkIHRhYmxlcyB0aGlzIEFQSSB3aWxsIG9wZXJhdGUgb24uXG5cdCAqICAgQ2FuIGJlIG9uZSBvZjpcblx0ICpcblx0ICogICAqIGBzdHJpbmdgIC0galF1ZXJ5IHNlbGVjdG9yLiBBbnkgRGF0YVRhYmxlcycgbWF0Y2hpbmcgdGhlIGdpdmVuIHNlbGVjdG9yXG5cdCAqICAgICB3aXRoIGJlIGZvdW5kIGFuZCB1c2VkLlxuXHQgKiAgICogYG5vZGVgIC0gYFRBQkxFYCBub2RlIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gZm9ybWVkIGludG8gYSBEYXRhVGFibGUuXG5cdCAqICAgKiBgalF1ZXJ5YCAtIEEgalF1ZXJ5IG9iamVjdCBvZiBgVEFCTEVgIG5vZGVzLlxuXHQgKiAgICogYG9iamVjdGAgLSBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiBAcGFyYW0ge2FycmF5fSBbZGF0YV0gRGF0YSB0byBpbml0aWFsaXNlIHRoZSBBcGkgaW5zdGFuY2Ugd2l0aC5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAvLyBEaXJlY3QgaW5pdGlhbGlzYXRpb24gZHVyaW5nIERhdGFUYWJsZXMgY29uc3RydWN0aW9uXG5cdCAqICAgdmFyIGFwaSA9ICQoJyNleGFtcGxlJykuRGF0YVRhYmxlKCk7XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqICAgLy8gSW5pdGlhbGlzYXRpb24gdXNpbmcgYSBEYXRhVGFibGVzIGpRdWVyeSBvYmplY3Rcblx0ICogICB2YXIgYXBpID0gJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoKS5hcGkoKTtcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAvLyBJbml0aWFsaXNhdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG5cdCAqICAgdmFyIGFwaSA9IG5ldyAkLmZuLkRhdGFUYWJsZS5BcGkoICd0YWJsZS5kYXRhVGFibGUnICk7XG5cdCAqL1xuXHRfQXBpID0gZnVuY3Rpb24gKCBjb250ZXh0LCBkYXRhIClcblx0e1xuXHRcdGlmICggISAodGhpcyBpbnN0YW5jZW9mIF9BcGkpICkge1xuXHRcdFx0cmV0dXJuIG5ldyBfQXBpKCBjb250ZXh0LCBkYXRhICk7XG5cdFx0fVxuXHRcblx0XHR2YXIgc2V0dGluZ3MgPSBbXTtcblx0XHR2YXIgY3R4U2V0dGluZ3MgPSBmdW5jdGlvbiAoIG8gKSB7XG5cdFx0XHR2YXIgYSA9IF90b1NldHRpbmdzKCBvICk7XG5cdFx0XHRpZiAoIGEgKSB7XG5cdFx0XHRcdHNldHRpbmdzID0gc2V0dGluZ3MuY29uY2F0KCBhICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0aWYgKCAkLmlzQXJyYXkoIGNvbnRleHQgKSApIHtcblx0XHRcdGZvciAoIHZhciBpPTAsIGllbj1jb250ZXh0Lmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRjdHhTZXR0aW5ncyggY29udGV4dFtpXSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGN0eFNldHRpbmdzKCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcblx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdHRoaXMuY29udGV4dCA9IF91bmlxdWUoIHNldHRpbmdzICk7XG5cdFxuXHRcdC8vIEluaXRpYWwgZGF0YVxuXHRcdGlmICggZGF0YSApIHtcblx0XHRcdCQubWVyZ2UoIHRoaXMsIGRhdGEgKTtcblx0XHR9XG5cdFxuXHRcdC8vIHNlbGVjdG9yXG5cdFx0dGhpcy5zZWxlY3RvciA9IHtcblx0XHRcdHJvd3M6IG51bGwsXG5cdFx0XHRjb2xzOiBudWxsLFxuXHRcdFx0b3B0czogbnVsbFxuXHRcdH07XG5cdFxuXHRcdF9BcGkuZXh0ZW5kKCB0aGlzLCB0aGlzLCBfX2FwaVN0cnVjdCApO1xuXHR9O1xuXHRcblx0RGF0YVRhYmxlLkFwaSA9IF9BcGk7XG5cdFxuXHQvLyBEb24ndCBkZXN0cm95IHRoZSBleGlzdGluZyBwcm90b3R5cGUsIGp1c3QgZXh0ZW5kIGl0LiBSZXF1aXJlZCBmb3IgalF1ZXJ5IDInc1xuXHQvLyBpc1BsYWluT2JqZWN0LlxuXHQkLmV4dGVuZCggX0FwaS5wcm90b3R5cGUsIHtcblx0XHRhbnk6IGZ1bmN0aW9uICgpXG5cdFx0e1xuXHRcdFx0cmV0dXJuIHRoaXMuY291bnQoKSAhPT0gMDtcblx0XHR9LFxuXHRcblx0XG5cdFx0Y29uY2F0OiAgX19hcnJheVByb3RvLmNvbmNhdCxcblx0XG5cdFxuXHRcdGNvbnRleHQ6IFtdLCAvLyBhcnJheSBvZiB0YWJsZSBzZXR0aW5ncyBvYmplY3RzXG5cdFxuXHRcblx0XHRjb3VudDogZnVuY3Rpb24gKClcblx0XHR7XG5cdFx0XHRyZXR1cm4gdGhpcy5mbGF0dGVuKCkubGVuZ3RoO1xuXHRcdH0sXG5cdFxuXHRcblx0XHRlYWNoOiBmdW5jdGlvbiAoIGZuIClcblx0XHR7XG5cdFx0XHRmb3IgKCB2YXIgaT0wLCBpZW49dGhpcy5sZW5ndGggOyBpPGllbjsgaSsrICkge1xuXHRcdFx0XHRmbi5jYWxsKCB0aGlzLCB0aGlzW2ldLCBpLCB0aGlzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFxuXHRcdGVxOiBmdW5jdGlvbiAoIGlkeCApXG5cdFx0e1xuXHRcdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XG5cdFx0XHRyZXR1cm4gY3R4Lmxlbmd0aCA+IGlkeCA/XG5cdFx0XHRcdG5ldyBfQXBpKCBjdHhbaWR4XSwgdGhpc1tpZHhdICkgOlxuXHRcdFx0XHRudWxsO1xuXHRcdH0sXG5cdFxuXHRcblx0XHRmaWx0ZXI6IGZ1bmN0aW9uICggZm4gKVxuXHRcdHtcblx0XHRcdHZhciBhID0gW107XG5cdFxuXHRcdFx0aWYgKCBfX2FycmF5UHJvdG8uZmlsdGVyICkge1xuXHRcdFx0XHRhID0gX19hcnJheVByb3RvLmZpbHRlci5jYWxsKCB0aGlzLCBmbiwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdC8vIENvbXBhdGliaWxpdHkgZm9yIGJyb3dzZXJzIHdpdGhvdXQgRU1DQS0yNTItNSAoSlMgMS42KVxuXHRcdFx0XHRmb3IgKCB2YXIgaT0wLCBpZW49dGhpcy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGZuLmNhbGwoIHRoaXMsIHRoaXNbaV0sIGksIHRoaXMgKSApIHtcblx0XHRcdFx0XHRcdGEucHVzaCggdGhpc1tpXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBuZXcgX0FwaSggdGhpcy5jb250ZXh0LCBhICk7XG5cdFx0fSxcblx0XG5cdFxuXHRcdGZsYXR0ZW46IGZ1bmN0aW9uICgpXG5cdFx0e1xuXHRcdFx0dmFyIGEgPSBbXTtcblx0XHRcdHJldHVybiBuZXcgX0FwaSggdGhpcy5jb250ZXh0LCBhLmNvbmNhdC5hcHBseSggYSwgdGhpcy50b0FycmF5KCkgKSApO1xuXHRcdH0sXG5cdFxuXHRcblx0XHRqb2luOiAgICBfX2FycmF5UHJvdG8uam9pbixcblx0XG5cdFxuXHRcdGluZGV4T2Y6IF9fYXJyYXlQcm90by5pbmRleE9mIHx8IGZ1bmN0aW9uIChvYmosIHN0YXJ0KVxuXHRcdHtcblx0XHRcdGZvciAoIHZhciBpPShzdGFydCB8fCAwKSwgaWVuPXRoaXMubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdGlmICggdGhpc1tpXSA9PT0gb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fSxcblx0XG5cdFx0aXRlcmF0b3I6IGZ1bmN0aW9uICggZmxhdHRlbiwgdHlwZSwgZm4sIGFsd2F5c05ldyApIHtcblx0XHRcdHZhclxuXHRcdFx0XHRhID0gW10sIHJldCxcblx0XHRcdFx0aSwgaWVuLCBqLCBqZW4sXG5cdFx0XHRcdGNvbnRleHQgPSB0aGlzLmNvbnRleHQsXG5cdFx0XHRcdHJvd3MsIGl0ZW1zLCBpdGVtLFxuXHRcdFx0XHRzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3I7XG5cdFxuXHRcdFx0Ly8gQXJndW1lbnQgc2hpZnRpbmdcblx0XHRcdGlmICggdHlwZW9mIGZsYXR0ZW4gPT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRhbHdheXNOZXcgPSBmbjtcblx0XHRcdFx0Zm4gPSB0eXBlO1xuXHRcdFx0XHR0eXBlID0gZmxhdHRlbjtcblx0XHRcdFx0ZmxhdHRlbiA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZvciAoIGk9MCwgaWVuPWNvbnRleHQubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdHZhciBhcGlJbnN0ID0gbmV3IF9BcGkoIGNvbnRleHRbaV0gKTtcblx0XG5cdFx0XHRcdGlmICggdHlwZSA9PT0gJ3RhYmxlJyApIHtcblx0XHRcdFx0XHRyZXQgPSBmbi5jYWxsKCBhcGlJbnN0LCBjb250ZXh0W2ldLCBpICk7XG5cdFxuXHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRhLnB1c2goIHJldCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICggdHlwZSA9PT0gJ2NvbHVtbnMnIHx8IHR5cGUgPT09ICdyb3dzJyApIHtcblx0XHRcdFx0XHQvLyB0aGlzIGhhcyBzYW1lIGxlbmd0aCBhcyBjb250ZXh0IC0gb25lIGVudHJ5IGZvciBlYWNoIHRhYmxlXG5cdFx0XHRcdFx0cmV0ID0gZm4uY2FsbCggYXBpSW5zdCwgY29udGV4dFtpXSwgdGhpc1tpXSwgaSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0YS5wdXNoKCByZXQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoIHR5cGUgPT09ICdjb2x1bW4nIHx8IHR5cGUgPT09ICdjb2x1bW4tcm93cycgfHwgdHlwZSA9PT0gJ3JvdycgfHwgdHlwZSA9PT0gJ2NlbGwnICkge1xuXHRcdFx0XHRcdC8vIGNvbHVtbnMgYW5kIHJvd3Mgc2hhcmUgdGhlIHNhbWUgc3RydWN0dXJlLlxuXHRcdFx0XHRcdC8vICd0aGlzJyBpcyBhbiBhcnJheSBvZiBjb2x1bW4gaW5kZXhlcyBmb3IgZWFjaCBjb250ZXh0XG5cdFx0XHRcdFx0aXRlbXMgPSB0aGlzW2ldO1xuXHRcblx0XHRcdFx0XHRpZiAoIHR5cGUgPT09ICdjb2x1bW4tcm93cycgKSB7XG5cdFx0XHRcdFx0XHRyb3dzID0gX3NlbGVjdG9yX3Jvd19pbmRleGVzKCBjb250ZXh0W2ldLCBzZWxlY3Rvci5vcHRzICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRmb3IgKCBqPTAsIGplbj1pdGVtcy5sZW5ndGggOyBqPGplbiA7IGorKyApIHtcblx0XHRcdFx0XHRcdGl0ZW0gPSBpdGVtc1tqXTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09ICdjZWxsJyApIHtcblx0XHRcdFx0XHRcdFx0cmV0ID0gZm4uY2FsbCggYXBpSW5zdCwgY29udGV4dFtpXSwgaXRlbS5yb3csIGl0ZW0uY29sdW1uLCBpLCBqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0ID0gZm4uY2FsbCggYXBpSW5zdCwgY29udGV4dFtpXSwgaXRlbSwgaSwgaiwgcm93cyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGEucHVzaCggcmV0ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBhLmxlbmd0aCB8fCBhbHdheXNOZXcgKSB7XG5cdFx0XHRcdHZhciBhcGkgPSBuZXcgX0FwaSggY29udGV4dCwgZmxhdHRlbiA/IGEuY29uY2F0LmFwcGx5KCBbXSwgYSApIDogYSApO1xuXHRcdFx0XHR2YXIgYXBpU2VsZWN0b3IgPSBhcGkuc2VsZWN0b3I7XG5cdFx0XHRcdGFwaVNlbGVjdG9yLnJvd3MgPSBzZWxlY3Rvci5yb3dzO1xuXHRcdFx0XHRhcGlTZWxlY3Rvci5jb2xzID0gc2VsZWN0b3IuY29scztcblx0XHRcdFx0YXBpU2VsZWN0b3Iub3B0cyA9IHNlbGVjdG9yLm9wdHM7XG5cdFx0XHRcdHJldHVybiBhcGk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcblx0XG5cdFx0bGFzdEluZGV4T2Y6IF9fYXJyYXlQcm90by5sYXN0SW5kZXhPZiB8fCBmdW5jdGlvbiAob2JqLCBzdGFydClcblx0XHR7XG5cdFx0XHQvLyBCaXQgY2hlZWt5Li4uXG5cdFx0XHRyZXR1cm4gdGhpcy5pbmRleE9mLmFwcGx5KCB0aGlzLnRvQXJyYXkucmV2ZXJzZSgpLCBhcmd1bWVudHMgKTtcblx0XHR9LFxuXHRcblx0XG5cdFx0bGVuZ3RoOiAgMCxcblx0XG5cdFxuXHRcdG1hcDogZnVuY3Rpb24gKCBmbiApXG5cdFx0e1xuXHRcdFx0dmFyIGEgPSBbXTtcblx0XG5cdFx0XHRpZiAoIF9fYXJyYXlQcm90by5tYXAgKSB7XG5cdFx0XHRcdGEgPSBfX2FycmF5UHJvdG8ubWFwLmNhbGwoIHRoaXMsIGZuLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gQ29tcGF0aWJpbGl0eSBmb3IgYnJvd3NlcnMgd2l0aG91dCBFTUNBLTI1Mi01IChKUyAxLjYpXG5cdFx0XHRcdGZvciAoIHZhciBpPTAsIGllbj10aGlzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRcdGEucHVzaCggZm4uY2FsbCggdGhpcywgdGhpc1tpXSwgaSApICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gbmV3IF9BcGkoIHRoaXMuY29udGV4dCwgYSApO1xuXHRcdH0sXG5cdFxuXHRcblx0XHRwbHVjazogZnVuY3Rpb24gKCBwcm9wIClcblx0XHR7XG5cdFx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uICggZWwgKSB7XG5cdFx0XHRcdHJldHVybiBlbFsgcHJvcCBdO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdHBvcDogICAgIF9fYXJyYXlQcm90by5wb3AsXG5cdFxuXHRcblx0XHRwdXNoOiAgICBfX2FycmF5UHJvdG8ucHVzaCxcblx0XG5cdFxuXHRcdC8vIERvZXMgbm90IHJldHVybiBhbiBBUEkgaW5zdGFuY2Vcblx0XHRyZWR1Y2U6IF9fYXJyYXlQcm90by5yZWR1Y2UgfHwgZnVuY3Rpb24gKCBmbiwgaW5pdCApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIF9mblJlZHVjZSggdGhpcywgZm4sIGluaXQsIDAsIHRoaXMubGVuZ3RoLCAxICk7XG5cdFx0fSxcblx0XG5cdFxuXHRcdHJlZHVjZVJpZ2h0OiBfX2FycmF5UHJvdG8ucmVkdWNlUmlnaHQgfHwgZnVuY3Rpb24gKCBmbiwgaW5pdCApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIF9mblJlZHVjZSggdGhpcywgZm4sIGluaXQsIHRoaXMubGVuZ3RoLTEsIC0xLCAtMSApO1xuXHRcdH0sXG5cdFxuXHRcblx0XHRyZXZlcnNlOiBfX2FycmF5UHJvdG8ucmV2ZXJzZSxcblx0XG5cdFxuXHRcdC8vIE9iamVjdCB3aXRoIHJvd3MsIGNvbHVtbnMgYW5kIG9wdHNcblx0XHRzZWxlY3RvcjogbnVsbCxcblx0XG5cdFxuXHRcdHNoaWZ0OiAgIF9fYXJyYXlQcm90by5zaGlmdCxcblx0XG5cdFxuXHRcdHNvcnQ6ICAgIF9fYXJyYXlQcm90by5zb3J0LCAvLyA/IG5hbWUgLSBvcmRlcj9cblx0XG5cdFxuXHRcdHNwbGljZTogIF9fYXJyYXlQcm90by5zcGxpY2UsXG5cdFxuXHRcblx0XHR0b0FycmF5OiBmdW5jdGlvbiAoKVxuXHRcdHtcblx0XHRcdHJldHVybiBfX2FycmF5UHJvdG8uc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH0sXG5cdFxuXHRcblx0XHR0byQ6IGZ1bmN0aW9uICgpXG5cdFx0e1xuXHRcdFx0cmV0dXJuICQoIHRoaXMgKTtcblx0XHR9LFxuXHRcblx0XG5cdFx0dG9KUXVlcnk6IGZ1bmN0aW9uICgpXG5cdFx0e1xuXHRcdFx0cmV0dXJuICQoIHRoaXMgKTtcblx0XHR9LFxuXHRcblx0XG5cdFx0dW5pcXVlOiBmdW5jdGlvbiAoKVxuXHRcdHtcblx0XHRcdHJldHVybiBuZXcgX0FwaSggdGhpcy5jb250ZXh0LCBfdW5pcXVlKHRoaXMpICk7XG5cdFx0fSxcblx0XG5cdFxuXHRcdHVuc2hpZnQ6IF9fYXJyYXlQcm90by51bnNoaWZ0XG5cdH0gKTtcblx0XG5cdFxuXHRfQXBpLmV4dGVuZCA9IGZ1bmN0aW9uICggc2NvcGUsIG9iaiwgZXh0IClcblx0e1xuXHRcdC8vIE9ubHkgZXh0ZW5kIEFQSSBpbnN0YW5jZXMgYW5kIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBBUElcblx0XHRpZiAoICEgZXh0Lmxlbmd0aCB8fCAhIG9iaiB8fCAoICEgKG9iaiBpbnN0YW5jZW9mIF9BcGkpICYmICEgb2JqLl9fZHRfd3JhcHBlciApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0dmFyXG5cdFx0XHRpLCBpZW4sXG5cdFx0XHRqLCBqZW4sXG5cdFx0XHRzdHJ1Y3QsIGlubmVyLFxuXHRcdFx0bWV0aG9kU2NvcGluZyA9IGZ1bmN0aW9uICggc2NvcGUsIGZuLCBzdHJ1YyApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgcmV0ID0gZm4uYXBwbHkoIHNjb3BlLCBhcmd1bWVudHMgKTtcblx0XG5cdFx0XHRcdFx0Ly8gTWV0aG9kIGV4dGVuc2lvblxuXHRcdFx0XHRcdF9BcGkuZXh0ZW5kKCByZXQsIHJldCwgc3RydWMubWV0aG9kRXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFxuXHRcdGZvciAoIGk9MCwgaWVuPWV4dC5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdHN0cnVjdCA9IGV4dFtpXTtcblx0XG5cdFx0XHQvLyBWYWx1ZVxuXHRcdFx0b2JqWyBzdHJ1Y3QubmFtZSBdID0gdHlwZW9mIHN0cnVjdC52YWwgPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHRtZXRob2RTY29waW5nKCBzY29wZSwgc3RydWN0LnZhbCwgc3RydWN0ICkgOlxuXHRcdFx0XHQkLmlzUGxhaW5PYmplY3QoIHN0cnVjdC52YWwgKSA/XG5cdFx0XHRcdFx0e30gOlxuXHRcdFx0XHRcdHN0cnVjdC52YWw7XG5cdFxuXHRcdFx0b2JqWyBzdHJ1Y3QubmFtZSBdLl9fZHRfd3JhcHBlciA9IHRydWU7XG5cdFxuXHRcdFx0Ly8gUHJvcGVydHkgZXh0ZW5zaW9uXG5cdFx0XHRfQXBpLmV4dGVuZCggc2NvcGUsIG9ialsgc3RydWN0Lm5hbWUgXSwgc3RydWN0LnByb3BFeHQgKTtcblx0XHR9XG5cdH07XG5cdFxuXHRcblx0Ly8gQHRvZG8gLSBJcyB0aGVyZSBuZWVkIGZvciBhbiBhdWdtZW50IGZ1bmN0aW9uP1xuXHQvLyBfQXBpLmF1Z21lbnQgPSBmdW5jdGlvbiAoIGluc3QsIG5hbWUgKVxuXHQvLyB7XG5cdC8vIFx0Ly8gRmluZCBzcmMgb2JqZWN0IGluIHRoZSBzdHJ1Y3R1cmUgZnJvbSB0aGUgbmFtZVxuXHQvLyBcdHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTtcblx0XG5cdC8vIFx0X0FwaS5leHRlbmQoIGluc3QsIG9iaiApO1xuXHQvLyB9O1xuXHRcblx0XG5cdC8vICAgICBbXG5cdC8vICAgICAgIHtcblx0Ly8gICAgICAgICBuYW1lOiAgICAgICdkYXRhJyAgICAgICAgICAgICAgICAtLSBzdHJpbmcgICAtIFByb3BlcnR5IG5hbWVcblx0Ly8gICAgICAgICB2YWw6ICAgICAgIGZ1bmN0aW9uICgpIHt9LCAgICAgICAtLSBmdW5jdGlvbiAtIEFwaSBtZXRob2QgKG9yIHVuZGVmaW5lZCBpZiBqdXN0IGFuIG9iamVjdFxuXHQvLyAgICAgICAgIG1ldGhvZEV4dDogWyAuLi4gXSwgICAgICAgICAgICAgIC0tIGFycmF5ICAgIC0gQXJyYXkgb2YgQXBpIG9iamVjdCBkZWZpbml0aW9ucyB0byBleHRlbmQgdGhlIG1ldGhvZCByZXN1bHRcblx0Ly8gICAgICAgICBwcm9wRXh0OiAgIFsgLi4uIF0gICAgICAgICAgICAgICAtLSBhcnJheSAgICAtIEFycmF5IG9mIEFwaSBvYmplY3QgZGVmaW5pdGlvbnMgdG8gZXh0ZW5kIHRoZSBwcm9wZXJ0eVxuXHQvLyAgICAgICB9LFxuXHQvLyAgICAgICB7XG5cdC8vICAgICAgICAgbmFtZTogICAgICdyb3cnXG5cdC8vICAgICAgICAgdmFsOiAgICAgICB7fSxcblx0Ly8gICAgICAgICBtZXRob2RFeHQ6IFsgLi4uIF0sXG5cdC8vICAgICAgICAgcHJvcEV4dDogICBbXG5cdC8vICAgICAgICAgICB7XG5cdC8vICAgICAgICAgICAgIG5hbWU6ICAgICAgJ2RhdGEnXG5cdC8vICAgICAgICAgICAgIHZhbDogICAgICAgZnVuY3Rpb24gKCkge30sXG5cdC8vICAgICAgICAgICAgIG1ldGhvZEV4dDogWyAuLi4gXSxcblx0Ly8gICAgICAgICAgICAgcHJvcEV4dDogICBbIC4uLiBdXG5cdC8vICAgICAgICAgICB9LFxuXHQvLyAgICAgICAgICAgLi4uXG5cdC8vICAgICAgICAgXVxuXHQvLyAgICAgICB9XG5cdC8vICAgICBdXG5cdFxuXHRfQXBpLnJlZ2lzdGVyID0gX2FwaV9yZWdpc3RlciA9IGZ1bmN0aW9uICggbmFtZSwgdmFsIClcblx0e1xuXHRcdGlmICggJC5pc0FycmF5KCBuYW1lICkgKSB7XG5cdFx0XHRmb3IgKCB2YXIgaj0wLCBqZW49bmFtZS5sZW5ndGggOyBqPGplbiA7IGorKyApIHtcblx0XHRcdFx0X0FwaS5yZWdpc3RlciggbmFtZVtqXSwgdmFsICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHR2YXJcblx0XHRcdGksIGllbixcblx0XHRcdGhlaXIgPSBuYW1lLnNwbGl0KCcuJyksXG5cdFx0XHRzdHJ1Y3QgPSBfX2FwaVN0cnVjdCxcblx0XHRcdGtleSwgbWV0aG9kO1xuXHRcblx0XHR2YXIgZmluZCA9IGZ1bmN0aW9uICggc3JjLCBuYW1lICkge1xuXHRcdFx0Zm9yICggdmFyIGk9MCwgaWVuPXNyYy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBzcmNbaV0ubmFtZSA9PT0gbmFtZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gc3JjW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9O1xuXHRcblx0XHRmb3IgKCBpPTAsIGllbj1oZWlyLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0bWV0aG9kID0gaGVpcltpXS5pbmRleE9mKCcoKScpICE9PSAtMTtcblx0XHRcdGtleSA9IG1ldGhvZCA/XG5cdFx0XHRcdGhlaXJbaV0ucmVwbGFjZSgnKCknLCAnJykgOlxuXHRcdFx0XHRoZWlyW2ldO1xuXHRcblx0XHRcdHZhciBzcmMgPSBmaW5kKCBzdHJ1Y3QsIGtleSApO1xuXHRcdFx0aWYgKCAhIHNyYyApIHtcblx0XHRcdFx0c3JjID0ge1xuXHRcdFx0XHRcdG5hbWU6ICAgICAga2V5LFxuXHRcdFx0XHRcdHZhbDogICAgICAge30sXG5cdFx0XHRcdFx0bWV0aG9kRXh0OiBbXSxcblx0XHRcdFx0XHRwcm9wRXh0OiAgIFtdXG5cdFx0XHRcdH07XG5cdFx0XHRcdHN0cnVjdC5wdXNoKCBzcmMgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGkgPT09IGllbi0xICkge1xuXHRcdFx0XHRzcmMudmFsID0gdmFsO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHN0cnVjdCA9IG1ldGhvZCA/XG5cdFx0XHRcdFx0c3JjLm1ldGhvZEV4dCA6XG5cdFx0XHRcdFx0c3JjLnByb3BFeHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdF9BcGkucmVnaXN0ZXJQbHVyYWwgPSBfYXBpX3JlZ2lzdGVyUGx1cmFsID0gZnVuY3Rpb24gKCBwbHVyYWxOYW1lLCBzaW5ndWxhck5hbWUsIHZhbCApIHtcblx0XHRfQXBpLnJlZ2lzdGVyKCBwbHVyYWxOYW1lLCB2YWwgKTtcblx0XG5cdFx0X0FwaS5yZWdpc3Rlciggc2luZ3VsYXJOYW1lLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgcmV0ID0gdmFsLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XG5cdFx0XHRpZiAoIHJldCA9PT0gdGhpcyApIHtcblx0XHRcdFx0Ly8gUmV0dXJuZWQgaXRlbSBpcyB0aGUgQVBJIGluc3RhbmNlIHRoYXQgd2FzIHBhc3NlZCBpbiwgcmV0dXJuIGl0XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIHJldCBpbnN0YW5jZW9mIF9BcGkgKSB7XG5cdFx0XHRcdC8vIE5ldyBBUEkgaW5zdGFuY2UgcmV0dXJuZWQsIHdhbnQgdGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IGl0ZW1cblx0XHRcdFx0Ly8gaW4gdGhlIHJldHVybmVkIGFycmF5IGZvciB0aGUgc2luZ3VsYXIgcmVzdWx0LlxuXHRcdFx0XHRyZXR1cm4gcmV0Lmxlbmd0aCA/XG5cdFx0XHRcdFx0JC5pc0FycmF5KCByZXRbMF0gKSA/XG5cdFx0XHRcdFx0XHRuZXcgX0FwaSggcmV0LmNvbnRleHQsIHJldFswXSApIDogLy8gQXJyYXkgcmVzdWx0cyBhcmUgJ2VuaGFuY2VkJ1xuXHRcdFx0XHRcdFx0cmV0WzBdIDpcblx0XHRcdFx0XHR1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gTm9uLUFQSSByZXR1cm4gLSBqdXN0IGZpcmUgaXQgYmFja1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9ICk7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIFNlbGVjdG9yIGZvciBIVE1MIHRhYmxlcy4gQXBwbHkgdGhlIGdpdmVuIHNlbGVjdG9yIHRvIHRoZSBnaXZlIGFycmF5IG9mXG5cdCAqIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0cy5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0gW3NlbGVjdG9yXSBqUXVlcnkgc2VsZWN0b3Igc3RyaW5nIG9yIGludGVnZXJcblx0ICogQHBhcmFtICB7YXJyYXl9IEFycmF5IG9mIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0cyB0byBiZSBmaWx0ZXJlZFxuXHQgKiBAcmV0dXJuIHthcnJheX1cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dmFyIF9fdGFibGVfc2VsZWN0b3IgPSBmdW5jdGlvbiAoIHNlbGVjdG9yLCBhIClcblx0e1xuXHRcdC8vIEludGVnZXIgaXMgdXNlZCB0byBwaWNrIG91dCBhIHRhYmxlIGJ5IGluZGV4XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09ICdudW1iZXInICkge1xuXHRcdFx0cmV0dXJuIFsgYVsgc2VsZWN0b3IgXSBdO1xuXHRcdH1cblx0XG5cdFx0Ly8gUGVyZm9ybSBhIGpRdWVyeSBzZWxlY3RvciBvbiB0aGUgdGFibGUgbm9kZXNcblx0XHR2YXIgbm9kZXMgPSAkLm1hcCggYSwgZnVuY3Rpb24gKGVsLCBpKSB7XG5cdFx0XHRyZXR1cm4gZWwublRhYmxlO1xuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuICQobm9kZXMpXG5cdFx0XHQuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0XHQubWFwKCBmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHQvLyBOZWVkIHRvIHRyYW5zbGF0ZSBiYWNrIGZyb20gdGhlIHRhYmxlIG5vZGUgdG8gdGhlIHNldHRpbmdzXG5cdFx0XHRcdHZhciBpZHggPSAkLmluQXJyYXkoIHRoaXMsIG5vZGVzICk7XG5cdFx0XHRcdHJldHVybiBhWyBpZHggXTtcblx0XHRcdH0gKVxuXHRcdFx0LnRvQXJyYXkoKTtcblx0fTtcblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIENvbnRleHQgc2VsZWN0b3IgZm9yIHRoZSBBUEkncyBjb250ZXh0IChpLmUuIHRoZSB0YWJsZXMgdGhlIEFQSSBpbnN0YW5jZVxuXHQgKiByZWZlcnMgdG8uXG5cdCAqXG5cdCAqIEBuYW1lICAgIERhdGFUYWJsZS5BcGkjdGFibGVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfGludGVnZXJ9IFtzZWxlY3Rvcl0gU2VsZWN0b3IgdG8gcGljayB3aGljaCB0YWJsZXMgdGhlIGl0ZXJhdG9yXG5cdCAqICAgc2hvdWxkIG9wZXJhdGUgb24uIElmIG5vdCBnaXZlbiwgYWxsIHRhYmxlcyBpbiB0aGUgY3VycmVudCBjb250ZXh0IGFyZVxuXHQgKiAgIHVzZWQuIFRoaXMgY2FuIGJlIGdpdmVuIGFzIGEgalF1ZXJ5IHNlbGVjdG9yIChmb3IgZXhhbXBsZSBgJzpndCgwKSdgKSB0b1xuXHQgKiAgIHNlbGVjdCBtdWx0aXBsZSB0YWJsZXMgb3IgYXMgYW4gaW50ZWdlciB0byBzZWxlY3QgYSBzaW5nbGUgdGFibGUuXG5cdCAqIEByZXR1cm5zIHtEYXRhVGFibGUuQXBpfSBSZXR1cm5zIGEgbmV3IEFQSSBpbnN0YW5jZSBpZiBhIHNlbGVjdG9yIGlzIGdpdmVuLlxuXHQgKi9cblx0X2FwaV9yZWdpc3RlciggJ3RhYmxlcygpJywgZnVuY3Rpb24gKCBzZWxlY3RvciApIHtcblx0XHQvLyBBIG5ldyBpbnN0YW5jZSBpcyBjcmVhdGVkIGlmIHRoZXJlIHdhcyBhIHNlbGVjdG9yIHNwZWNpZmllZFxuXHRcdHJldHVybiBzZWxlY3RvciA/XG5cdFx0XHRuZXcgX0FwaSggX190YWJsZV9zZWxlY3Rvciggc2VsZWN0b3IsIHRoaXMuY29udGV4dCApICkgOlxuXHRcdFx0dGhpcztcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICd0YWJsZSgpJywgZnVuY3Rpb24gKCBzZWxlY3RvciApIHtcblx0XHR2YXIgdGFibGVzID0gdGhpcy50YWJsZXMoIHNlbGVjdG9yICk7XG5cdFx0dmFyIGN0eCA9IHRhYmxlcy5jb250ZXh0O1xuXHRcblx0XHQvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3QgbWF0Y2hlZCB0YWJsZVxuXHRcdHJldHVybiBjdHgubGVuZ3RoID9cblx0XHRcdG5ldyBfQXBpKCBjdHhbMF0gKSA6XG5cdFx0XHR0YWJsZXM7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyUGx1cmFsKCAndGFibGVzKCkubm9kZXMoKScsICd0YWJsZSgpLm5vZGUoKScgLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggY3R4ICkge1xuXHRcdFx0cmV0dXJuIGN0eC5uVGFibGU7XG5cdFx0fSwgMSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ3RhYmxlcygpLmJvZHkoKScsICd0YWJsZSgpLmJvZHkoKScgLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggY3R4ICkge1xuXHRcdFx0cmV0dXJuIGN0eC5uVEJvZHk7XG5cdFx0fSwgMSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ3RhYmxlcygpLmhlYWRlcigpJywgJ3RhYmxlKCkuaGVhZGVyKCknICwgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIGN0eCApIHtcblx0XHRcdHJldHVybiBjdHgublRIZWFkO1xuXHRcdH0sIDEgKTtcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICd0YWJsZXMoKS5mb290ZXIoKScsICd0YWJsZSgpLmZvb3RlcigpJyAsIGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBjdHggKSB7XG5cdFx0XHRyZXR1cm4gY3R4Lm5URm9vdDtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyUGx1cmFsKCAndGFibGVzKCkuY29udGFpbmVycygpJywgJ3RhYmxlKCkuY29udGFpbmVyKCknICwgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIGN0eCApIHtcblx0XHRcdHJldHVybiBjdHgublRhYmxlV3JhcHBlcjtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIFJlZHJhdyB0aGUgdGFibGVzIGluIHRoZSBjdXJyZW50IGNvbnRleHQuXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAnZHJhdygpJywgZnVuY3Rpb24gKCBwYWdpbmcgKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRpZiAoIHBhZ2luZyA9PT0gJ3BhZ2UnICkge1xuXHRcdFx0XHRfZm5EcmF3KCBzZXR0aW5ncyApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIHBhZ2luZyA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdFx0cGFnaW5nID0gcGFnaW5nID09PSAnZnVsbC1ob2xkJyA/XG5cdFx0XHRcdFx0XHRmYWxzZSA6XG5cdFx0XHRcdFx0XHR0cnVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRfZm5SZURyYXcoIHNldHRpbmdzLCBwYWdpbmc9PT1mYWxzZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBjdXJyZW50IHBhZ2UgaW5kZXguXG5cdCAqXG5cdCAqIEByZXR1cm4ge2ludGVnZXJ9IEN1cnJlbnQgcGFnZSBpbmRleCAoemVybyBiYXNlZClcblx0ICovLyoqXG5cdCAqIFNldCB0aGUgY3VycmVudCBwYWdlLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgaWYgeW91IGF0dGVtcHQgdG8gc2hvdyBhIHBhZ2Ugd2hpY2ggZG9lcyBub3QgZXhpc3QsIERhdGFUYWJsZXMgd2lsbFxuXHQgKiBub3QgdGhyb3cgYW4gZXJyb3IsIGJ1dCByYXRoZXIgcmVzZXQgdGhlIHBhZ2luZy5cblx0ICpcblx0ICogQHBhcmFtIHtpbnRlZ2VyfHN0cmluZ30gYWN0aW9uIFRoZSBwYWdpbmcgYWN0aW9uIHRvIHRha2UuIFRoaXMgY2FuIGJlIG9uZSBvZjpcblx0ICogICogYGludGVnZXJgIC0gVGhlIHBhZ2UgaW5kZXggdG8ganVtcCB0b1xuXHQgKiAgKiBgc3RyaW5nYCAtIEFuIGFjdGlvbiB0byB0YWtlOlxuXHQgKiAgICAqIGBmaXJzdGAgLSBKdW1wIHRvIGZpcnN0IHBhZ2UuXG5cdCAqICAgICogYG5leHRgIC0gSnVtcCB0byB0aGUgbmV4dCBwYWdlXG5cdCAqICAgICogYHByZXZpb3VzYCAtIEp1bXAgdG8gcHJldmlvdXMgcGFnZVxuXHQgKiAgICAqIGBsYXN0YCAtIEp1bXAgdG8gdGhlIGxhc3QgcGFnZS5cblx0ICogQHJldHVybnMge0RhdGFUYWJsZXMuQXBpfSB0aGlzXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAncGFnZSgpJywgZnVuY3Rpb24gKCBhY3Rpb24gKSB7XG5cdFx0aWYgKCBhY3Rpb24gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzLnBhZ2UuaW5mbygpLnBhZ2U7IC8vIG5vdCBhbiBleHBlbnNpdmUgY2FsbFxuXHRcdH1cblx0XG5cdFx0Ly8gZWxzZSwgaGF2ZSBhbiBhY3Rpb24gdG8gdGFrZSBvbiBhbGwgdGFibGVzXG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRfZm5QYWdlQ2hhbmdlKCBzZXR0aW5ncywgYWN0aW9uICk7XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0LyoqXG5cdCAqIFBhZ2luZyBpbmZvcm1hdGlvbiBmb3IgdGhlIGZpcnN0IHRhYmxlIGluIHRoZSBjdXJyZW50IGNvbnRleHQuXG5cdCAqXG5cdCAqIElmIHlvdSByZXF1aXJlIHBhZ2luZyBpbmZvcm1hdGlvbiBmb3IgYW5vdGhlciB0YWJsZSwgdXNlIHRoZSBgdGFibGUoKWAgbWV0aG9kXG5cdCAqIHdpdGggYSBzdWl0YWJsZSBzZWxlY3Rvci5cblx0ICpcblx0ICogQHJldHVybiB7b2JqZWN0fSBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgc2V0OlxuXHQgKiAgKiBgcGFnZWAgLSBDdXJyZW50IHBhZ2UgaW5kZXggKHplcm8gYmFzZWQgLSBpLmUuIHRoZSBmaXJzdCBwYWdlIGlzIGAwYClcblx0ICogICogYHBhZ2VzYCAtIFRvdGFsIG51bWJlciBvZiBwYWdlc1xuXHQgKiAgKiBgc3RhcnRgIC0gRGlzcGxheSBpbmRleCBmb3IgdGhlIGZpcnN0IHJlY29yZCBzaG93biBvbiB0aGUgY3VycmVudCBwYWdlXG5cdCAqICAqIGBlbmRgIC0gRGlzcGxheSBpbmRleCBmb3IgdGhlIGxhc3QgcmVjb3JkIHNob3duIG9uIHRoZSBjdXJyZW50IHBhZ2Vcblx0ICogICogYGxlbmd0aGAgLSBEaXNwbGF5IGxlbmd0aCAobnVtYmVyIG9mIHJlY29yZHMpLiBOb3RlIHRoYXQgZ2VuZXJhbGx5IGBzdGFydFxuXHQgKiAgICArIGxlbmd0aCA9IGVuZGAsIGJ1dCB0aGlzIGlzIG5vdCBhbHdheXMgdHJ1ZSwgZm9yIGV4YW1wbGUgaWYgdGhlcmUgYXJlXG5cdCAqICAgIG9ubHkgMiByZWNvcmRzIHRvIHNob3cgb24gdGhlIGZpbmFsIHBhZ2UsIHdpdGggYSBsZW5ndGggb2YgMTAuXG5cdCAqICAqIGByZWNvcmRzVG90YWxgIC0gRnVsbCBkYXRhIHNldCBsZW5ndGhcblx0ICogICogYHJlY29yZHNEaXNwbGF5YCAtIERhdGEgc2V0IGxlbmd0aCBvbmNlIHRoZSBjdXJyZW50IGZpbHRlcmluZyBjcml0ZXJpb25cblx0ICogICAgYXJlIGFwcGxpZWQuXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAncGFnZS5pbmZvKCknLCBmdW5jdGlvbiAoIGFjdGlvbiApIHtcblx0XHRpZiAoIHRoaXMuY29udGV4dC5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0XG5cdFx0dmFyXG5cdFx0XHRzZXR0aW5ncyAgID0gdGhpcy5jb250ZXh0WzBdLFxuXHRcdFx0c3RhcnQgICAgICA9IHNldHRpbmdzLl9pRGlzcGxheVN0YXJ0LFxuXHRcdFx0bGVuICAgICAgICA9IHNldHRpbmdzLm9GZWF0dXJlcy5iUGFnaW5hdGUgPyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGggOiAtMSxcblx0XHRcdHZpc1JlY29yZHMgPSBzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCksXG5cdFx0XHRhbGwgICAgICAgID0gbGVuID09PSAtMTtcblx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwicGFnZVwiOiAgICAgICAgICAgYWxsID8gMCA6IE1hdGguZmxvb3IoIHN0YXJ0IC8gbGVuICksXG5cdFx0XHRcInBhZ2VzXCI6ICAgICAgICAgIGFsbCA/IDEgOiBNYXRoLmNlaWwoIHZpc1JlY29yZHMgLyBsZW4gKSxcblx0XHRcdFwic3RhcnRcIjogICAgICAgICAgc3RhcnQsXG5cdFx0XHRcImVuZFwiOiAgICAgICAgICAgIHNldHRpbmdzLmZuRGlzcGxheUVuZCgpLFxuXHRcdFx0XCJsZW5ndGhcIjogICAgICAgICBsZW4sXG5cdFx0XHRcInJlY29yZHNUb3RhbFwiOiAgIHNldHRpbmdzLmZuUmVjb3Jkc1RvdGFsKCksXG5cdFx0XHRcInJlY29yZHNEaXNwbGF5XCI6IHZpc1JlY29yZHMsXG5cdFx0XHRcInNlcnZlclNpZGVcIjogICAgIF9mbkRhdGFTb3VyY2UoIHNldHRpbmdzICkgPT09ICdzc3AnXG5cdFx0fTtcblx0fSApO1xuXHRcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGN1cnJlbnQgcGFnZSBsZW5ndGguXG5cdCAqXG5cdCAqIEByZXR1cm4ge2ludGVnZXJ9IEN1cnJlbnQgcGFnZSBsZW5ndGguIE5vdGUgYC0xYCBpbmRpY2F0ZXMgdGhhdCBhbGwgcmVjb3Jkc1xuXHQgKiAgIGFyZSB0byBiZSBzaG93bi5cblx0ICovLyoqXG5cdCAqIFNldCB0aGUgY3VycmVudCBwYWdlIGxlbmd0aC5cblx0ICpcblx0ICogQHBhcmFtIHtpbnRlZ2VyfSBQYWdlIGxlbmd0aCB0byBzZXQuIFVzZSBgLTFgIHRvIHNob3cgYWxsIHJlY29yZHMuXG5cdCAqIEByZXR1cm5zIHtEYXRhVGFibGVzLkFwaX0gdGhpc1xuXHQgKi9cblx0X2FwaV9yZWdpc3RlciggJ3BhZ2UubGVuKCknLCBmdW5jdGlvbiAoIGxlbiApIHtcblx0XHQvLyBOb3RlIHRoYXQgd2UgY2FuJ3QgY2FsbCB0aGlzIGZ1bmN0aW9uICdsZW5ndGgoKScgYmVjYXVzZSBgbGVuZ3RoYFxuXHRcdC8vIGlzIGEgSmF2YXNjcmlwdCBwcm9wZXJ0eSBvZiBmdW5jdGlvbnMgd2hpY2ggZGVmaW5lcyBob3cgbWFueSBhcmd1bWVudHNcblx0XHQvLyB0aGUgZnVuY3Rpb24gZXhwZWN0cy5cblx0XHRpZiAoIGxlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGggIT09IDAgP1xuXHRcdFx0XHR0aGlzLmNvbnRleHRbMF0uX2lEaXNwbGF5TGVuZ3RoIDpcblx0XHRcdFx0dW5kZWZpbmVkO1xuXHRcdH1cblx0XG5cdFx0Ly8gZWxzZSwgc2V0IHRoZSBwYWdlIGxlbmd0aFxuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIHNldHRpbmdzICkge1xuXHRcdFx0X2ZuTGVuZ3RoQ2hhbmdlKCBzZXR0aW5ncywgbGVuICk7XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdHZhciBfX3JlbG9hZCA9IGZ1bmN0aW9uICggc2V0dGluZ3MsIGhvbGRQb3NpdGlvbiwgY2FsbGJhY2sgKSB7XG5cdFx0Ly8gVXNlIHRoZSBkcmF3IGV2ZW50IHRvIHRyaWdnZXIgYSBjYWxsYmFja1xuXHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHR2YXIgYXBpID0gbmV3IF9BcGkoIHNldHRpbmdzICk7XG5cdFxuXHRcdFx0YXBpLm9uZSggJ2RyYXcnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCBhcGkuYWpheC5qc29uKCkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdGlmICggX2ZuRGF0YVNvdXJjZSggc2V0dGluZ3MgKSA9PSAnc3NwJyApIHtcblx0XHRcdF9mblJlRHJhdyggc2V0dGluZ3MsIGhvbGRQb3NpdGlvbiApO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdF9mblByb2Nlc3NpbmdEaXNwbGF5KCBzZXR0aW5ncywgdHJ1ZSApO1xuXHRcblx0XHRcdC8vIENhbmNlbCBhbiBleGlzdGluZyByZXF1ZXN0XG5cdFx0XHR2YXIgeGhyID0gc2V0dGluZ3MuanFYSFI7XG5cdFx0XHRpZiAoIHhociAmJiB4aHIucmVhZHlTdGF0ZSAhPT0gNCApIHtcblx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gVHJpZ2dlciB4aHJcblx0XHRcdF9mbkJ1aWxkQWpheCggc2V0dGluZ3MsIFtdLCBmdW5jdGlvbigganNvbiApIHtcblx0XHRcdFx0X2ZuQ2xlYXJUYWJsZSggc2V0dGluZ3MgKTtcblx0XG5cdFx0XHRcdHZhciBkYXRhID0gX2ZuQWpheERhdGFTcmMoIHNldHRpbmdzLCBqc29uICk7XG5cdFx0XHRcdGZvciAoIHZhciBpPTAsIGllbj1kYXRhLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRcdF9mbkFkZERhdGEoIHNldHRpbmdzLCBkYXRhW2ldICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdF9mblJlRHJhdyggc2V0dGluZ3MsIGhvbGRQb3NpdGlvbiApO1xuXHRcdFx0XHRfZm5Qcm9jZXNzaW5nRGlzcGxheSggc2V0dGluZ3MsIGZhbHNlICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIEpTT04gcmVzcG9uc2UgZnJvbSB0aGUgbGFzdCBBamF4IHJlcXVlc3QgdGhhdCBEYXRhVGFibGVzIG1hZGUgdG8gdGhlXG5cdCAqIHNlcnZlci4gTm90ZSB0aGF0IHRoaXMgcmV0dXJucyB0aGUgSlNPTiBmcm9tIHRoZSBmaXJzdCB0YWJsZSBpbiB0aGUgY3VycmVudFxuXHQgKiBjb250ZXh0LlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtvYmplY3R9IEpTT04gcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuXHQgKi9cblx0X2FwaV9yZWdpc3RlciggJ2FqYXguanNvbigpJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjdHggPSB0aGlzLmNvbnRleHQ7XG5cdFxuXHRcdGlmICggY3R4Lmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRyZXR1cm4gY3R4WzBdLmpzb247XG5cdFx0fVxuXHRcblx0XHQvLyBlbHNlIHJldHVybiB1bmRlZmluZWQ7XG5cdH0gKTtcblx0XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBkYXRhIHN1Ym1pdHRlZCBpbiB0aGUgbGFzdCBBamF4IHJlcXVlc3Rcblx0ICovXG5cdF9hcGlfcmVnaXN0ZXIoICdhamF4LnBhcmFtcygpJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjdHggPSB0aGlzLmNvbnRleHQ7XG5cdFxuXHRcdGlmICggY3R4Lmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRyZXR1cm4gY3R4WzBdLm9BamF4RGF0YTtcblx0XHR9XG5cdFxuXHRcdC8vIGVsc2UgcmV0dXJuIHVuZGVmaW5lZDtcblx0fSApO1xuXHRcblx0XG5cdC8qKlxuXHQgKiBSZWxvYWQgdGFibGVzIGZyb20gdGhlIEFqYXggZGF0YSBzb3VyY2UuIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIHdpbGxcblx0ICogYXV0b21hdGljYWxseSByZS1kcmF3IHRoZSB0YWJsZSB3aGVuIHRoZSByZW1vdGUgZGF0YSBoYXMgYmVlbiBsb2FkZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc2V0PXRydWVdIFJlc2V0IChkZWZhdWx0KSBvciBob2xkIHRoZSBjdXJyZW50IHBhZ2luZ1xuXHQgKiAgIHBvc2l0aW9uLiBBIGZ1bGwgcmUtc29ydCBhbmQgcmUtZmlsdGVyIGlzIHBlcmZvcm1lZCB3aGVuIHRoaXMgbWV0aG9kIGlzXG5cdCAqICAgY2FsbGVkLCB3aGljaCBpcyB3aHkgdGhlIHBhZ2luYXRpb24gcmVzZXQgaXMgdGhlIGRlZmF1bHQgYWN0aW9uLlxuXHQgKiBAcmV0dXJucyB7RGF0YVRhYmxlcy5BcGl9IHRoaXNcblx0ICovXG5cdF9hcGlfcmVnaXN0ZXIoICdhamF4LnJlbG9hZCgpJywgZnVuY3Rpb24gKCBjYWxsYmFjaywgcmVzZXRQYWdpbmcgKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uIChzZXR0aW5ncykge1xuXHRcdFx0X19yZWxvYWQoIHNldHRpbmdzLCByZXNldFBhZ2luZz09PWZhbHNlLCBjYWxsYmFjayApO1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGN1cnJlbnQgQWpheCBVUkwuIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgdGhlIFVSTCBmcm9tIHRoZSBmaXJzdFxuXHQgKiB0YWJsZSBpbiB0aGUgY3VycmVudCBjb250ZXh0LlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IEN1cnJlbnQgQWpheCBzb3VyY2UgVVJMXG5cdCAqLy8qKlxuXHQgKiBTZXQgdGhlIEFqYXggVVJMLiBOb3RlIHRoYXQgdGhpcyB3aWxsIHNldCB0aGUgVVJMIGZvciBhbGwgdGFibGVzIGluIHRoZVxuXHQgKiBjdXJyZW50IGNvbnRleHQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIHRvIHNldC5cblx0ICogQHJldHVybnMge0RhdGFUYWJsZXMuQXBpfSB0aGlzXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAnYWpheC51cmwoKScsIGZ1bmN0aW9uICggdXJsICkge1xuXHRcdHZhciBjdHggPSB0aGlzLmNvbnRleHQ7XG5cdFxuXHRcdGlmICggdXJsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQvLyBnZXRcblx0XHRcdGlmICggY3R4Lmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGN0eCA9IGN0eFswXTtcblx0XG5cdFx0XHRyZXR1cm4gY3R4LmFqYXggP1xuXHRcdFx0XHQkLmlzUGxhaW5PYmplY3QoIGN0eC5hamF4ICkgP1xuXHRcdFx0XHRcdGN0eC5hamF4LnVybCA6XG5cdFx0XHRcdFx0Y3R4LmFqYXggOlxuXHRcdFx0XHRjdHguc0FqYXhTb3VyY2U7XG5cdFx0fVxuXHRcblx0XHQvLyBzZXRcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBzZXR0aW5ncyApIHtcblx0XHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCBzZXR0aW5ncy5hamF4ICkgKSB7XG5cdFx0XHRcdHNldHRpbmdzLmFqYXgudXJsID0gdXJsO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHNldHRpbmdzLmFqYXggPSB1cmw7XG5cdFx0XHR9XG5cdFx0XHQvLyBObyBuZWVkIHRvIGNvbnNpZGVyIHNBamF4U291cmNlIGhlcmUgc2luY2UgRGF0YVRhYmxlcyBnaXZlcyBwcmlvcml0eVxuXHRcdFx0Ly8gdG8gYGFqYXhgIG92ZXIgYHNBamF4U291cmNlYC4gU28gc2V0dGluZyBgYWpheGAgaGVyZSwgcmVuZGVycyBhbnlcblx0XHRcdC8vIHZhbHVlIG9mIGBzQWpheFNvdXJjZWAgcmVkdW5kYW50LlxuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdC8qKlxuXHQgKiBMb2FkIGRhdGEgZnJvbSB0aGUgbmV3bHkgc2V0IEFqYXggVVJMLiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgb25seVxuXHQgKiBhdmFpbGFibGUgd2hlbiBgYWpheC51cmwoKWAgaXMgdXNlZCB0byBzZXQgYSBVUkwuIEFkZGl0aW9uYWxseSwgdGhpcyBtZXRob2Rcblx0ICogaGFzIHRoZSBzYW1lIGVmZmVjdCBhcyBjYWxsaW5nIGBhamF4LnJlbG9hZCgpYCBidXQgaXMgcHJvdmlkZWQgZm9yXG5cdCAqIGNvbnZlbmllbmNlIHdoZW4gc2V0dGluZyBhIG5ldyBVUkwuIExpa2UgYGFqYXgucmVsb2FkKClgIGl0IHdpbGxcblx0ICogYXV0b21hdGljYWxseSByZWRyYXcgdGhlIHRhYmxlIG9uY2UgdGhlIHJlbW90ZSBkYXRhIGhhcyBiZWVuIGxvYWRlZC5cblx0ICpcblx0ICogQHJldHVybnMge0RhdGFUYWJsZXMuQXBpfSB0aGlzXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAnYWpheC51cmwoKS5sb2FkKCknLCBmdW5jdGlvbiAoIGNhbGxiYWNrLCByZXNldFBhZ2luZyApIHtcblx0XHQvLyBTYW1lIGFzIGEgcmVsb2FkLCBidXQgbWFrZXMgc2Vuc2UgdG8gcHJlc2VudCBpdCBmb3IgZWFzeSBhY2Nlc3MgYWZ0ZXIgYVxuXHRcdC8vIHVybCBjaGFuZ2Vcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBjdHggKSB7XG5cdFx0XHRfX3JlbG9hZCggY3R4LCByZXNldFBhZ2luZz09PWZhbHNlLCBjYWxsYmFjayApO1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIF9zZWxlY3Rvcl9ydW4gPSBmdW5jdGlvbiAoIHR5cGUsIHNlbGVjdG9yLCBzZWxlY3RGbiwgc2V0dGluZ3MsIG9wdHMgKVxuXHR7XG5cdFx0dmFyXG5cdFx0XHRvdXQgPSBbXSwgcmVzLFxuXHRcdFx0YSwgaSwgaWVuLCBqLCBqZW4sXG5cdFx0XHRzZWxlY3RvclR5cGUgPSB0eXBlb2Ygc2VsZWN0b3I7XG5cdFxuXHRcdC8vIENhbid0IGp1c3QgY2hlY2sgZm9yIGlzQXJyYXkgaGVyZSwgYXMgYW4gQVBJIG9yIGpRdWVyeSBpbnN0YW5jZSBtaWdodCBiZVxuXHRcdC8vIGdpdmVuIHdpdGggdGhlaXIgYXJyYXkgbGlrZSBsb29rXG5cdFx0aWYgKCAhIHNlbGVjdG9yIHx8IHNlbGVjdG9yVHlwZSA9PT0gJ3N0cmluZycgfHwgc2VsZWN0b3JUeXBlID09PSAnZnVuY3Rpb24nIHx8IHNlbGVjdG9yLmxlbmd0aCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0c2VsZWN0b3IgPSBbIHNlbGVjdG9yIF07XG5cdFx0fVxuXHRcblx0XHRmb3IgKCBpPTAsIGllbj1zZWxlY3Rvci5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdGEgPSBzZWxlY3RvcltpXSAmJiBzZWxlY3RvcltpXS5zcGxpdCA/XG5cdFx0XHRcdHNlbGVjdG9yW2ldLnNwbGl0KCcsJykgOlxuXHRcdFx0XHRbIHNlbGVjdG9yW2ldIF07XG5cdFxuXHRcdFx0Zm9yICggaj0wLCBqZW49YS5sZW5ndGggOyBqPGplbiA7IGorKyApIHtcblx0XHRcdFx0cmVzID0gc2VsZWN0Rm4oIHR5cGVvZiBhW2pdID09PSAnc3RyaW5nJyA/ICQudHJpbShhW2pdKSA6IGFbal0gKTtcblx0XG5cdFx0XHRcdGlmICggcmVzICYmIHJlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0b3V0ID0gb3V0LmNvbmNhdCggcmVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIHNlbGVjdG9yIGV4dGVuc2lvbnNcblx0XHR2YXIgZXh0ID0gX2V4dC5zZWxlY3RvclsgdHlwZSBdO1xuXHRcdGlmICggZXh0Lmxlbmd0aCApIHtcblx0XHRcdGZvciAoIGk9MCwgaWVuPWV4dC5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0b3V0ID0gZXh0W2ldKCBzZXR0aW5ncywgb3B0cywgb3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gX3VuaXF1ZSggb3V0ICk7XG5cdH07XG5cdFxuXHRcblx0dmFyIF9zZWxlY3Rvcl9vcHRzID0gZnVuY3Rpb24gKCBvcHRzIClcblx0e1xuXHRcdGlmICggISBvcHRzICkge1xuXHRcdFx0b3B0cyA9IHt9O1xuXHRcdH1cblx0XG5cdFx0Ly8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIDEuOS0gd2hpY2ggdXNlZCB0aGUgdGVybWlub2xvZ3kgZmlsdGVyIHJhdGhlclxuXHRcdC8vIHRoYW4gc2VhcmNoXG5cdFx0aWYgKCBvcHRzLmZpbHRlciAmJiBvcHRzLnNlYXJjaCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0b3B0cy5zZWFyY2ggPSBvcHRzLmZpbHRlcjtcblx0XHR9XG5cdFxuXHRcdHJldHVybiAkLmV4dGVuZCgge1xuXHRcdFx0c2VhcmNoOiAnbm9uZScsXG5cdFx0XHRvcmRlcjogJ2N1cnJlbnQnLFxuXHRcdFx0cGFnZTogJ2FsbCdcblx0XHR9LCBvcHRzICk7XG5cdH07XG5cdFxuXHRcblx0dmFyIF9zZWxlY3Rvcl9maXJzdCA9IGZ1bmN0aW9uICggaW5zdCApXG5cdHtcblx0XHQvLyBSZWR1Y2UgdGhlIEFQSSBpbnN0YW5jZSB0byB0aGUgZmlyc3QgaXRlbSBmb3VuZFxuXHRcdGZvciAoIHZhciBpPTAsIGllbj1pbnN0Lmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0aWYgKCBpbnN0W2ldLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdC8vIEFzc2lnbiB0aGUgZmlyc3QgZWxlbWVudCB0byB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgaW5zdGFuY2Vcblx0XHRcdFx0Ly8gYW5kIHRydW5jYXRlIHRoZSBpbnN0YW5jZSBhbmQgY29udGV4dFxuXHRcdFx0XHRpbnN0WzBdID0gaW5zdFtpXTtcblx0XHRcdFx0aW5zdFswXS5sZW5ndGggPSAxO1xuXHRcdFx0XHRpbnN0Lmxlbmd0aCA9IDE7XG5cdFx0XHRcdGluc3QuY29udGV4dCA9IFsgaW5zdC5jb250ZXh0W2ldIF07XG5cdFxuXHRcdFx0XHRyZXR1cm4gaW5zdDtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIE5vdCBmb3VuZCAtIHJldHVybiBhbiBlbXB0eSBpbnN0YW5jZVxuXHRcdGluc3QubGVuZ3RoID0gMDtcblx0XHRyZXR1cm4gaW5zdDtcblx0fTtcblx0XG5cdFxuXHR2YXIgX3NlbGVjdG9yX3Jvd19pbmRleGVzID0gZnVuY3Rpb24gKCBzZXR0aW5ncywgb3B0cyApXG5cdHtcblx0XHR2YXJcblx0XHRcdGksIGllbiwgdG1wLCBhPVtdLFxuXHRcdFx0ZGlzcGxheUZpbHRlcmVkID0gc2V0dGluZ3MuYWlEaXNwbGF5LFxuXHRcdFx0ZGlzcGxheU1hc3RlciA9IHNldHRpbmdzLmFpRGlzcGxheU1hc3Rlcjtcblx0XG5cdFx0dmFyXG5cdFx0XHRzZWFyY2ggPSBvcHRzLnNlYXJjaCwgIC8vIG5vbmUsIGFwcGxpZWQsIHJlbW92ZWRcblx0XHRcdG9yZGVyICA9IG9wdHMub3JkZXIsICAgLy8gYXBwbGllZCwgY3VycmVudCwgaW5kZXggKG9yaWdpbmFsIC0gY29tcGF0aWJpbGl0eSB3aXRoIDEuOSlcblx0XHRcdHBhZ2UgICA9IG9wdHMucGFnZTsgICAgLy8gYWxsLCBjdXJyZW50XG5cdFxuXHRcdGlmICggX2ZuRGF0YVNvdXJjZSggc2V0dGluZ3MgKSA9PSAnc3NwJyApIHtcblx0XHRcdC8vIEluIHNlcnZlci1zaWRlIHByb2Nlc3NpbmcgbW9kZSwgbW9zdCBvcHRpb25zIGFyZSBpcnJlbGV2YW50IHNpbmNlXG5cdFx0XHQvLyByb3dzIG5vdCBzaG93biBkb24ndCBleGlzdCBhbmQgdGhlIGluZGV4IG9yZGVyIGlzIHRoZSBhcHBsaWVkIG9yZGVyXG5cdFx0XHQvLyBSZW1vdmVkIGlzIGEgc3BlY2lhbCBjYXNlIC0gZm9yIGNvbnNpc3RlbmN5IGp1c3QgcmV0dXJuIGFuIGVtcHR5XG5cdFx0XHQvLyBhcnJheVxuXHRcdFx0cmV0dXJuIHNlYXJjaCA9PT0gJ3JlbW92ZWQnID9cblx0XHRcdFx0W10gOlxuXHRcdFx0XHRfcmFuZ2UoIDAsIGRpc3BsYXlNYXN0ZXIubGVuZ3RoICk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBwYWdlID09ICdjdXJyZW50JyApIHtcblx0XHRcdC8vIEN1cnJlbnQgcGFnZSBpbXBsaWVzIHRoYXQgb3JkZXI9Y3VycmVudCBhbmQgZml0bGVyPWFwcGxpZWQsIHNpbmNlIGl0IGlzXG5cdFx0XHQvLyBmYWlybHkgc2Vuc2VsZXNzIG90aGVyd2lzZSwgcmVnYXJkbGVzcyBvZiB3aGF0IG9yZGVyIGFuZCBzZWFyY2ggYWN0dWFsbHlcblx0XHRcdC8vIGFyZVxuXHRcdFx0Zm9yICggaT1zZXR0aW5ncy5faURpc3BsYXlTdGFydCwgaWVuPXNldHRpbmdzLmZuRGlzcGxheUVuZCgpIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdGEucHVzaCggZGlzcGxheUZpbHRlcmVkW2ldICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCBvcmRlciA9PSAnY3VycmVudCcgfHwgb3JkZXIgPT0gJ2FwcGxpZWQnICkge1xuXHRcdFx0YSA9IHNlYXJjaCA9PSAnbm9uZScgP1xuXHRcdFx0XHRkaXNwbGF5TWFzdGVyLnNsaWNlKCkgOiAgICAgICAgICAgICAgICAgICAgICAvLyBubyBzZWFyY2hcblx0XHRcdFx0c2VhcmNoID09ICdhcHBsaWVkJyA/XG5cdFx0XHRcdFx0ZGlzcGxheUZpbHRlcmVkLnNsaWNlKCkgOiAgICAgICAgICAgICAgICAvLyBhcHBsaWVkIHNlYXJjaFxuXHRcdFx0XHRcdCQubWFwKCBkaXNwbGF5TWFzdGVyLCBmdW5jdGlvbiAoZWwsIGkpIHsgLy8gcmVtb3ZlZCBzZWFyY2hcblx0XHRcdFx0XHRcdHJldHVybiAkLmluQXJyYXkoIGVsLCBkaXNwbGF5RmlsdGVyZWQgKSA9PT0gLTEgPyBlbCA6IG51bGw7XG5cdFx0XHRcdFx0fSApO1xuXHRcdH1cblx0XHRlbHNlIGlmICggb3JkZXIgPT0gJ2luZGV4JyB8fCBvcmRlciA9PSAnb3JpZ2luYWwnICkge1xuXHRcdFx0Zm9yICggaT0wLCBpZW49c2V0dGluZ3MuYW9EYXRhLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHNlYXJjaCA9PSAnbm9uZScgKSB7XG5cdFx0XHRcdFx0YS5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7IC8vIGFwcGxpZWQgfCByZW1vdmVkXG5cdFx0XHRcdFx0dG1wID0gJC5pbkFycmF5KCBpLCBkaXNwbGF5RmlsdGVyZWQgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCh0bXAgPT09IC0xICYmIHNlYXJjaCA9PSAncmVtb3ZlZCcpIHx8XG5cdFx0XHRcdFx0XHQodG1wID49IDAgICAmJiBzZWFyY2ggPT0gJ2FwcGxpZWQnKSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0YS5wdXNoKCBpICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gYTtcblx0fTtcblx0XG5cdFxuXHQvKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcblx0ICogUm93c1xuXHQgKlxuXHQgKiB7fSAgICAgICAgICAtIG5vIHNlbGVjdG9yIC0gdXNlIGFsbCBhdmFpbGFibGUgcm93c1xuXHQgKiB7aW50ZWdlcn0gICAtIHJvdyBhb0RhdGEgaW5kZXhcblx0ICoge25vZGV9ICAgICAgLSBUUiBub2RlXG5cdCAqIHtzdHJpbmd9ICAgIC0galF1ZXJ5IHNlbGVjdG9yIHRvIGFwcGx5IHRvIHRoZSBUUiBlbGVtZW50c1xuXHQgKiB7YXJyYXl9ICAgICAtIGpRdWVyeSBhcnJheSBvZiBub2Rlcywgb3Igc2ltcGx5IGFuIGFycmF5IG9mIFRSIG5vZGVzXG5cdCAqXG5cdCAqL1xuXHRcblx0XG5cdHZhciBfX3Jvd19zZWxlY3RvciA9IGZ1bmN0aW9uICggc2V0dGluZ3MsIHNlbGVjdG9yLCBvcHRzIClcblx0e1xuXHRcdHZhciBydW4gPSBmdW5jdGlvbiAoIHNlbCApIHtcblx0XHRcdHZhciBzZWxJbnQgPSBfaW50VmFsKCBzZWwgKTtcblx0XHRcdHZhciBpLCBpZW47XG5cdFxuXHRcdFx0Ly8gU2hvcnQgY3V0IC0gc2VsZWN0b3IgaXMgYSBudW1iZXIgYW5kIG5vIG9wdGlvbnMgcHJvdmlkZWQgKGRlZmF1bHQgaXNcblx0XHRcdC8vIGFsbCByZWNvcmRzLCBzbyBubyBuZWVkIHRvIGNoZWNrIGlmIHRoZSBpbmRleCBpcyBpbiB0aGVyZSwgc2luY2UgaXRcblx0XHRcdC8vIG11c3QgYmUgLSBkZXYgZXJyb3IgaWYgdGhlIGluZGV4IGRvZXNuJ3QgZXhpc3QpLlxuXHRcdFx0aWYgKCBzZWxJbnQgIT09IG51bGwgJiYgISBvcHRzICkge1xuXHRcdFx0XHRyZXR1cm4gWyBzZWxJbnQgXTtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgcm93cyA9IF9zZWxlY3Rvcl9yb3dfaW5kZXhlcyggc2V0dGluZ3MsIG9wdHMgKTtcblx0XG5cdFx0XHRpZiAoIHNlbEludCAhPT0gbnVsbCAmJiAkLmluQXJyYXkoIHNlbEludCwgcm93cyApICE9PSAtMSApIHtcblx0XHRcdFx0Ly8gU2VsZWN0b3IgLSBpbnRlZ2VyXG5cdFx0XHRcdHJldHVybiBbIHNlbEludCBdO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoICEgc2VsICkge1xuXHRcdFx0XHQvLyBTZWxlY3RvciAtIG5vbmVcblx0XHRcdFx0cmV0dXJuIHJvd3M7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2VsZWN0b3IgLSBmdW5jdGlvblxuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRyZXR1cm4gJC5tYXAoIHJvd3MsIGZ1bmN0aW9uIChpZHgpIHtcblx0XHRcdFx0XHR2YXIgcm93ID0gc2V0dGluZ3MuYW9EYXRhWyBpZHggXTtcblx0XHRcdFx0XHRyZXR1cm4gc2VsKCBpZHgsIHJvdy5fYURhdGEsIHJvdy5uVHIgKSA/IGlkeCA6IG51bGw7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBHZXQgbm9kZXMgaW4gdGhlIG9yZGVyIGZyb20gdGhlIGByb3dzYCBhcnJheSB3aXRoIG51bGwgdmFsdWVzIHJlbW92ZWRcblx0XHRcdHZhciBub2RlcyA9IF9yZW1vdmVFbXB0eShcblx0XHRcdFx0X3BsdWNrX29yZGVyKCBzZXR0aW5ncy5hb0RhdGEsIHJvd3MsICduVHInIClcblx0XHRcdCk7XG5cdFxuXHRcdFx0Ly8gU2VsZWN0b3IgLSBub2RlXG5cdFx0XHRpZiAoIHNlbC5ub2RlTmFtZSApIHtcblx0XHRcdFx0aWYgKCBzZWwuX0RUX1Jvd0luZGV4ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsgc2VsLl9EVF9Sb3dJbmRleCBdOyAvLyBQcm9wZXJ0eSBhZGRlZCBieSBEVCBmb3IgZmFzdCBsb29rdXBcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICggc2VsLl9EVF9DZWxsSW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsgc2VsLl9EVF9DZWxsSW5kZXgucm93IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0dmFyIGhvc3QgPSAkKHNlbCkuY2xvc2VzdCgnKltkYXRhLWR0LXJvd10nKTtcblx0XHRcdFx0XHRyZXR1cm4gaG9zdC5sZW5ndGggP1xuXHRcdFx0XHRcdFx0WyBob3N0LmRhdGEoJ2R0LXJvdycpIF0gOlxuXHRcdFx0XHRcdFx0W107XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBJRCBzZWxlY3Rvci4gV2FudCB0byBhbHdheXMgYmUgYWJsZSB0byBzZWxlY3Qgcm93cyBieSBpZCwgcmVnYXJkbGVzc1xuXHRcdFx0Ly8gb2YgaWYgdGhlIHRyIGVsZW1lbnQgaGFzIGJlZW4gY3JlYXRlZCBvciBub3QsIHNvIGNhbid0IHJlbHkgdXBvblxuXHRcdFx0Ly8galF1ZXJ5IGhlcmUgLSBoZW5jZSBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbi4gVGhpcyBkb2VzIG5vdCBtYXRjaFxuXHRcdFx0Ly8gU2l6emxlJ3MgZmFzdCBzZWxlY3RvciBvciBIVE1MNCAtIGluIEhUTUw1IHRoZSBJRCBjYW4gYmUgYW55dGhpbmcsXG5cdFx0XHQvLyBidXQgdG8gc2VsZWN0IGl0IHVzaW5nIGEgQ1NTIHNlbGVjdG9yIGVuZ2luZSAobGlrZSBTaXp6bGUgb3Jcblx0XHRcdC8vIHF1ZXJ5U2VsZWN0KSBpdCB3b3VsZCBuZWVkIHRvIG5lZWQgdG8gYmUgZXNjYXBlZCBmb3Igc29tZSBjaGFyYWN0ZXJzLlxuXHRcdFx0Ly8gRGF0YVRhYmxlcyBzaW1wbGlmaWVzIHRoaXMgZm9yIHJvdyBzZWxlY3RvcnMgc2luY2UgeW91IGNhbiBzZWxlY3Rcblx0XHRcdC8vIG9ubHkgYSByb3cuIEEgIyBpbmRpY2F0ZXMgYW4gaWQgYW55IGFueXRoaW5nIHRoYXQgZm9sbG93cyBpcyB0aGUgaWQgLVxuXHRcdFx0Ly8gdW5lc2NhcGVkLlxuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsID09PSAnc3RyaW5nJyAmJiBzZWwuY2hhckF0KDApID09PSAnIycgKSB7XG5cdFx0XHRcdC8vIGdldCByb3cgaW5kZXggZnJvbSBpZFxuXHRcdFx0XHR2YXIgcm93T2JqID0gc2V0dGluZ3MuYUlkc1sgc2VsLnJlcGxhY2UoIC9eIy8sICcnICkgXTtcblx0XHRcdFx0aWYgKCByb3dPYmogIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gWyByb3dPYmouaWR4IF07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIG5lZWQgdG8gZmFsbCB0aHJvdWdoIHRvIGpRdWVyeSBpbiBjYXNlIHRoZXJlIGlzIERPTSBpZCB0aGF0XG5cdFx0XHRcdC8vIG1hdGNoZXNcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZWxlY3RvciAtIGpRdWVyeSBzZWxlY3RvciBzdHJpbmcsIGFycmF5IG9mIG5vZGVzIG9yIGpRdWVyeSBvYmplY3QvXG5cdFx0XHQvLyBBcyBqUXVlcnkncyAuZmlsdGVyKCkgYWxsb3dzIGpRdWVyeSBvYmplY3RzIHRvIGJlIHBhc3NlZCBpbiBmaWx0ZXIsXG5cdFx0XHQvLyBpdCBhbHNvIGFsbG93cyBhcnJheXMsIHNvIHRoaXMgd2lsbCBjb3BlIHdpdGggYWxsIHRocmVlIG9wdGlvbnNcblx0XHRcdHJldHVybiAkKG5vZGVzKVxuXHRcdFx0XHQuZmlsdGVyKCBzZWwgKVxuXHRcdFx0XHQubWFwKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuX0RUX1Jvd0luZGV4O1xuXHRcdFx0XHR9IClcblx0XHRcdFx0LnRvQXJyYXkoKTtcblx0XHR9O1xuXHRcblx0XHRyZXR1cm4gX3NlbGVjdG9yX3J1biggJ3JvdycsIHNlbGVjdG9yLCBydW4sIHNldHRpbmdzLCBvcHRzICk7XG5cdH07XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggJ3Jvd3MoKScsIGZ1bmN0aW9uICggc2VsZWN0b3IsIG9wdHMgKSB7XG5cdFx0Ly8gYXJndW1lbnQgc2hpZnRpbmdcblx0XHRpZiAoIHNlbGVjdG9yID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRzZWxlY3RvciA9ICcnO1xuXHRcdH1cblx0XHRlbHNlIGlmICggJC5pc1BsYWluT2JqZWN0KCBzZWxlY3RvciApICkge1xuXHRcdFx0b3B0cyA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSAnJztcblx0XHR9XG5cdFxuXHRcdG9wdHMgPSBfc2VsZWN0b3Jfb3B0cyggb3B0cyApO1xuXHRcblx0XHR2YXIgaW5zdCA9IHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRyZXR1cm4gX19yb3dfc2VsZWN0b3IoIHNldHRpbmdzLCBzZWxlY3Rvciwgb3B0cyApO1xuXHRcdH0sIDEgKTtcblx0XG5cdFx0Ly8gV2FudCBhcmd1bWVudCBzaGlmdGluZyBoZXJlIGFuZCBpbiBfX3Jvd19zZWxlY3Rvcj9cblx0XHRpbnN0LnNlbGVjdG9yLnJvd3MgPSBzZWxlY3Rvcjtcblx0XHRpbnN0LnNlbGVjdG9yLm9wdHMgPSBvcHRzO1xuXHRcblx0XHRyZXR1cm4gaW5zdDtcblx0fSApO1xuXHRcblx0X2FwaV9yZWdpc3RlciggJ3Jvd3MoKS5ub2RlcygpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAncm93JywgZnVuY3Rpb24gKCBzZXR0aW5ncywgcm93ICkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzLmFvRGF0YVsgcm93IF0ublRyIHx8IHVuZGVmaW5lZDtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdyb3dzKCkuZGF0YSgpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCB0cnVlLCAncm93cycsIGZ1bmN0aW9uICggc2V0dGluZ3MsIHJvd3MgKSB7XG5cdFx0XHRyZXR1cm4gX3BsdWNrX29yZGVyKCBzZXR0aW5ncy5hb0RhdGEsIHJvd3MsICdfYURhdGEnICk7XG5cdFx0fSwgMSApO1xuXHR9ICk7XG5cdFxuXHRfYXBpX3JlZ2lzdGVyUGx1cmFsKCAncm93cygpLmNhY2hlKCknLCAncm93KCkuY2FjaGUoKScsIGZ1bmN0aW9uICggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3JvdycsIGZ1bmN0aW9uICggc2V0dGluZ3MsIHJvdyApIHtcblx0XHRcdHZhciByID0gc2V0dGluZ3MuYW9EYXRhWyByb3cgXTtcblx0XHRcdHJldHVybiB0eXBlID09PSAnc2VhcmNoJyA/IHIuX2FGaWx0ZXJEYXRhIDogci5fYVNvcnREYXRhO1xuXHRcdH0sIDEgKTtcblx0fSApO1xuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ3Jvd3MoKS5pbnZhbGlkYXRlKCknLCAncm93KCkuaW52YWxpZGF0ZSgpJywgZnVuY3Rpb24gKCBzcmMgKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdyb3cnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCByb3cgKSB7XG5cdFx0XHRfZm5JbnZhbGlkYXRlKCBzZXR0aW5ncywgcm93LCBzcmMgKTtcblx0XHR9ICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdyb3dzKCkuaW5kZXhlcygpJywgJ3JvdygpLmluZGV4KCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdyb3cnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCByb3cgKSB7XG5cdFx0XHRyZXR1cm4gcm93O1xuXHRcdH0sIDEgKTtcblx0fSApO1xuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ3Jvd3MoKS5pZHMoKScsICdyb3coKS5pZCgpJywgZnVuY3Rpb24gKCBoYXNoICkge1xuXHRcdHZhciBhID0gW107XG5cdFx0dmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cdFxuXHRcdC8vIGBpdGVyYXRvcmAgd2lsbCBkcm9wIHVuZGVmaW5lZCB2YWx1ZXMsIGJ1dCBpbiB0aGlzIGNhc2Ugd2Ugd2FudCB0aGVtXG5cdFx0Zm9yICggdmFyIGk9MCwgaWVuPWNvbnRleHQubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRmb3IgKCB2YXIgaj0wLCBqZW49dGhpc1tpXS5sZW5ndGggOyBqPGplbiA7IGorKyApIHtcblx0XHRcdFx0dmFyIGlkID0gY29udGV4dFtpXS5yb3dJZEZuKCBjb250ZXh0W2ldLmFvRGF0YVsgdGhpc1tpXVtqXSBdLl9hRGF0YSApO1xuXHRcdFx0XHRhLnB1c2goIChoYXNoID09PSB0cnVlID8gJyMnIDogJycgKSsgaWQgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBuZXcgX0FwaSggY29udGV4dCwgYSApO1xuXHR9ICk7XG5cdFxuXHRfYXBpX3JlZ2lzdGVyUGx1cmFsKCAncm93cygpLnJlbW92ZSgpJywgJ3JvdygpLnJlbW92ZSgpJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XG5cdFx0dGhpcy5pdGVyYXRvciggJ3JvdycsIGZ1bmN0aW9uICggc2V0dGluZ3MsIHJvdywgdGhhdElkeCApIHtcblx0XHRcdHZhciBkYXRhID0gc2V0dGluZ3MuYW9EYXRhO1xuXHRcdFx0dmFyIHJvd0RhdGEgPSBkYXRhWyByb3cgXTtcblx0XHRcdHZhciBpLCBpZW4sIGosIGplbjtcblx0XHRcdHZhciBsb29wUm93LCBsb29wQ2VsbHM7XG5cdFxuXHRcdFx0ZGF0YS5zcGxpY2UoIHJvdywgMSApO1xuXHRcblx0XHRcdC8vIFVwZGF0ZSB0aGUgY2FjaGVkIGluZGV4ZXNcblx0XHRcdGZvciAoIGk9MCwgaWVuPWRhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdGxvb3BSb3cgPSBkYXRhW2ldO1xuXHRcdFx0XHRsb29wQ2VsbHMgPSBsb29wUm93LmFuQ2VsbHM7XG5cdFxuXHRcdFx0XHQvLyBSb3dzXG5cdFx0XHRcdGlmICggbG9vcFJvdy5uVHIgIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0bG9vcFJvdy5uVHIuX0RUX1Jvd0luZGV4ID0gaTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ2VsbHNcblx0XHRcdFx0aWYgKCBsb29wQ2VsbHMgIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0Zm9yICggaj0wLCBqZW49bG9vcENlbGxzLmxlbmd0aCA7IGo8amVuIDsgaisrICkge1xuXHRcdFx0XHRcdFx0bG9vcENlbGxzW2pdLl9EVF9DZWxsSW5kZXgucm93ID0gaTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBEZWxldGUgZnJvbSB0aGUgZGlzcGxheSBhcnJheXNcblx0XHRcdF9mbkRlbGV0ZUluZGV4KCBzZXR0aW5ncy5haURpc3BsYXlNYXN0ZXIsIHJvdyApO1xuXHRcdFx0X2ZuRGVsZXRlSW5kZXgoIHNldHRpbmdzLmFpRGlzcGxheSwgcm93ICk7XG5cdFx0XHRfZm5EZWxldGVJbmRleCggdGhhdFsgdGhhdElkeCBdLCByb3csIGZhbHNlICk7IC8vIG1haW50YWluIGxvY2FsIGluZGV4ZXNcblx0XG5cdFx0XHQvLyBDaGVjayBmb3IgYW4gJ292ZXJmbG93JyB0aGV5IGNhc2UgZm9yIGRpc3BsYXlpbmcgdGhlIHRhYmxlXG5cdFx0XHRfZm5MZW5ndGhPdmVyZmxvdyggc2V0dGluZ3MgKTtcblx0XG5cdFx0XHQvLyBSZW1vdmUgdGhlIHJvdydzIElEIHJlZmVyZW5jZSBpZiB0aGVyZSBpcyBvbmVcblx0XHRcdHZhciBpZCA9IHNldHRpbmdzLnJvd0lkRm4oIHJvd0RhdGEuX2FEYXRhICk7XG5cdFx0XHRpZiAoIGlkICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGRlbGV0ZSBzZXR0aW5ncy5hSWRzWyBpZCBdO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XG5cdFx0dGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBzZXR0aW5ncyApIHtcblx0XHRcdGZvciAoIHZhciBpPTAsIGllbj1zZXR0aW5ncy5hb0RhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdHNldHRpbmdzLmFvRGF0YVtpXS5pZHggPSBpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAncm93cy5hZGQoKScsIGZ1bmN0aW9uICggcm93cyApIHtcblx0XHR2YXIgbmV3Um93cyA9IHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRcdHZhciByb3csIGksIGllbjtcblx0XHRcdFx0dmFyIG91dCA9IFtdO1xuXHRcblx0XHRcdFx0Zm9yICggaT0wLCBpZW49cm93cy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRyb3cgPSByb3dzW2ldO1xuXHRcblx0XHRcdFx0XHRpZiAoIHJvdy5ub2RlTmFtZSAmJiByb3cubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1RSJyApIHtcblx0XHRcdFx0XHRcdG91dC5wdXNoKCBfZm5BZGRUciggc2V0dGluZ3MsIHJvdyApWzBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0b3V0LnB1c2goIF9mbkFkZERhdGEoIHNldHRpbmdzLCByb3cgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIG91dDtcblx0XHRcdH0sIDEgKTtcblx0XG5cdFx0Ly8gUmV0dXJuIGFuIEFwaS5yb3dzKCkgZXh0ZW5kZWQgaW5zdGFuY2UsIHNvIHJvd3MoKS5ub2RlcygpIGV0YyBjYW4gYmUgdXNlZFxuXHRcdHZhciBtb2RSb3dzID0gdGhpcy5yb3dzKCAtMSApO1xuXHRcdG1vZFJvd3MucG9wKCk7XG5cdFx0JC5tZXJnZSggbW9kUm93cywgbmV3Um93cyApO1xuXHRcblx0XHRyZXR1cm4gbW9kUm93cztcblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0XG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0X2FwaV9yZWdpc3RlciggJ3JvdygpJywgZnVuY3Rpb24gKCBzZWxlY3Rvciwgb3B0cyApIHtcblx0XHRyZXR1cm4gX3NlbGVjdG9yX2ZpcnN0KCB0aGlzLnJvd3MoIHNlbGVjdG9yLCBvcHRzICkgKTtcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdyb3coKS5kYXRhKCknLCBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XG5cdFx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQvLyBHZXRcblx0XHRcdHJldHVybiBjdHgubGVuZ3RoICYmIHRoaXMubGVuZ3RoID9cblx0XHRcdFx0Y3R4WzBdLmFvRGF0YVsgdGhpc1swXSBdLl9hRGF0YSA6XG5cdFx0XHRcdHVuZGVmaW5lZDtcblx0XHR9XG5cdFxuXHRcdC8vIFNldFxuXHRcdGN0eFswXS5hb0RhdGFbIHRoaXNbMF0gXS5fYURhdGEgPSBkYXRhO1xuXHRcblx0XHQvLyBBdXRvbWF0aWNhbGx5IGludmFsaWRhdGVcblx0XHRfZm5JbnZhbGlkYXRlKCBjdHhbMF0sIHRoaXNbMF0sICdkYXRhJyApO1xuXHRcblx0XHRyZXR1cm4gdGhpcztcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdyb3coKS5ub2RlKCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XG5cdFx0cmV0dXJuIGN0eC5sZW5ndGggJiYgdGhpcy5sZW5ndGggP1xuXHRcdFx0Y3R4WzBdLmFvRGF0YVsgdGhpc1swXSBdLm5UciB8fCBudWxsIDpcblx0XHRcdG51bGw7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAncm93LmFkZCgpJywgZnVuY3Rpb24gKCByb3cgKSB7XG5cdFx0Ly8gQWxsb3cgYSBqUXVlcnkgb2JqZWN0IHRvIGJlIHBhc3NlZCBpbiAtIG9ubHkgYSBzaW5nbGUgcm93IGlzIGFkZGVkIGZyb21cblx0XHQvLyBpdCB0aG91Z2ggLSB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0XG5cdFx0aWYgKCByb3cgaW5zdGFuY2VvZiAkICYmIHJvdy5sZW5ndGggKSB7XG5cdFx0XHRyb3cgPSByb3dbMF07XG5cdFx0fVxuXHRcblx0XHR2YXIgcm93cyA9IHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRpZiAoIHJvdy5ub2RlTmFtZSAmJiByb3cubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1RSJyApIHtcblx0XHRcdFx0cmV0dXJuIF9mbkFkZFRyKCBzZXR0aW5ncywgcm93IClbMF07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gX2ZuQWRkRGF0YSggc2V0dGluZ3MsIHJvdyApO1xuXHRcdH0gKTtcblx0XG5cdFx0Ly8gUmV0dXJuIGFuIEFwaS5yb3dzKCkgZXh0ZW5kZWQgaW5zdGFuY2UsIHdpdGggdGhlIG5ld2x5IGFkZGVkIHJvdyBzZWxlY3RlZFxuXHRcdHJldHVybiB0aGlzLnJvdyggcm93c1swXSApO1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdHZhciBfX2RldGFpbHNfYWRkID0gZnVuY3Rpb24gKCBjdHgsIHJvdywgZGF0YSwga2xhc3MgKVxuXHR7XG5cdFx0Ly8gQ29udmVydCB0byBhcnJheSBvZiBUUiBlbGVtZW50c1xuXHRcdHZhciByb3dzID0gW107XG5cdFx0dmFyIGFkZFJvdyA9IGZ1bmN0aW9uICggciwgayApIHtcblx0XHRcdC8vIFJlY3Vyc2lvbiB0byBhbGxvdyBmb3IgYXJyYXlzIG9mIGpRdWVyeSBvYmplY3RzXG5cdFx0XHRpZiAoICQuaXNBcnJheSggciApIHx8IHIgaW5zdGFuY2VvZiAkICkge1xuXHRcdFx0XHRmb3IgKCB2YXIgaT0wLCBpZW49ci5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRhZGRSb3coIHJbaV0sIGsgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSWYgd2UgZ2V0IGEgVFIgZWxlbWVudCwgdGhlbiBqdXN0IGFkZCBpdCBkaXJlY3RseSAtIHVwIHRvIHRoZSBkZXZcblx0XHRcdC8vIHRvIGFkZCB0aGUgY29ycmVjdCBudW1iZXIgb2YgY29sdW1ucyBldGNcblx0XHRcdGlmICggci5ub2RlTmFtZSAmJiByLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0cicgKSB7XG5cdFx0XHRcdHJvd3MucHVzaCggciApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdC8vIE90aGVyd2lzZSBjcmVhdGUgYSByb3cgd2l0aCBhIHdyYXBwZXJcblx0XHRcdFx0dmFyIGNyZWF0ZWQgPSAkKCc8dHI+PHRkLz48L3RyPicpLmFkZENsYXNzKCBrICk7XG5cdFx0XHRcdCQoJ3RkJywgY3JlYXRlZClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIGsgKVxuXHRcdFx0XHRcdC5odG1sKCByIClcblx0XHRcdFx0XHRbMF0uY29sU3BhbiA9IF9mblZpc2JsZUNvbHVtbnMoIGN0eCApO1xuXHRcblx0XHRcdFx0cm93cy5wdXNoKCBjcmVhdGVkWzBdICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0YWRkUm93KCBkYXRhLCBrbGFzcyApO1xuXHRcblx0XHRpZiAoIHJvdy5fZGV0YWlscyApIHtcblx0XHRcdHJvdy5fZGV0YWlscy5yZW1vdmUoKTtcblx0XHR9XG5cdFxuXHRcdHJvdy5fZGV0YWlscyA9ICQocm93cyk7XG5cdFxuXHRcdC8vIElmIHRoZSBjaGlsZHJlbiB3ZXJlIGFscmVhZHkgc2hvd24sIHRoYXQgc3RhdGUgc2hvdWxkIGJlIHJldGFpbmVkXG5cdFx0aWYgKCByb3cuX2RldGFpbHNTaG93ICkge1xuXHRcdFx0cm93Ll9kZXRhaWxzLmluc2VydEFmdGVyKCByb3cublRyICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdHZhciBfX2RldGFpbHNfcmVtb3ZlID0gZnVuY3Rpb24gKCBhcGksIGlkeCApXG5cdHtcblx0XHR2YXIgY3R4ID0gYXBpLmNvbnRleHQ7XG5cdFxuXHRcdGlmICggY3R4Lmxlbmd0aCApIHtcblx0XHRcdHZhciByb3cgPSBjdHhbMF0uYW9EYXRhWyBpZHggIT09IHVuZGVmaW5lZCA/IGlkeCA6IGFwaVswXSBdO1xuXHRcblx0XHRcdGlmICggcm93ICYmIHJvdy5fZGV0YWlscyApIHtcblx0XHRcdFx0cm93Ll9kZXRhaWxzLnJlbW92ZSgpO1xuXHRcblx0XHRcdFx0cm93Ll9kZXRhaWxzU2hvdyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0cm93Ll9kZXRhaWxzID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdFxuXHR2YXIgX19kZXRhaWxzX2Rpc3BsYXkgPSBmdW5jdGlvbiAoIGFwaSwgc2hvdyApIHtcblx0XHR2YXIgY3R4ID0gYXBpLmNvbnRleHQ7XG5cdFxuXHRcdGlmICggY3R4Lmxlbmd0aCAmJiBhcGkubGVuZ3RoICkge1xuXHRcdFx0dmFyIHJvdyA9IGN0eFswXS5hb0RhdGFbIGFwaVswXSBdO1xuXHRcblx0XHRcdGlmICggcm93Ll9kZXRhaWxzICkge1xuXHRcdFx0XHRyb3cuX2RldGFpbHNTaG93ID0gc2hvdztcblx0XG5cdFx0XHRcdGlmICggc2hvdyApIHtcblx0XHRcdFx0XHRyb3cuX2RldGFpbHMuaW5zZXJ0QWZ0ZXIoIHJvdy5uVHIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRyb3cuX2RldGFpbHMuZGV0YWNoKCk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdF9fZGV0YWlsc19ldmVudHMoIGN0eFswXSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdFxuXHR2YXIgX19kZXRhaWxzX2V2ZW50cyA9IGZ1bmN0aW9uICggc2V0dGluZ3MgKVxuXHR7XG5cdFx0dmFyIGFwaSA9IG5ldyBfQXBpKCBzZXR0aW5ncyApO1xuXHRcdHZhciBuYW1lc3BhY2UgPSAnLmR0LkRUX2RldGFpbHMnO1xuXHRcdHZhciBkcmF3RXZlbnQgPSAnZHJhdycrbmFtZXNwYWNlO1xuXHRcdHZhciBjb2x2aXNFdmVudCA9ICdjb2x1bW4tdmlzaWJpbGl0eScrbmFtZXNwYWNlO1xuXHRcdHZhciBkZXN0cm95RXZlbnQgPSAnZGVzdHJveScrbmFtZXNwYWNlO1xuXHRcdHZhciBkYXRhID0gc2V0dGluZ3MuYW9EYXRhO1xuXHRcblx0XHRhcGkub2ZmKCBkcmF3RXZlbnQgKycgJysgY29sdmlzRXZlbnQgKycgJysgZGVzdHJveUV2ZW50ICk7XG5cdFxuXHRcdGlmICggX3BsdWNrKCBkYXRhLCAnX2RldGFpbHMnICkubGVuZ3RoID4gMCApIHtcblx0XHRcdC8vIE9uIGVhY2ggZHJhdywgaW5zZXJ0IHRoZSByZXF1aXJlZCBlbGVtZW50cyBpbnRvIHRoZSBkb2N1bWVudFxuXHRcdFx0YXBpLm9uKCBkcmF3RXZlbnQsIGZ1bmN0aW9uICggZSwgY3R4ICkge1xuXHRcdFx0XHRpZiAoIHNldHRpbmdzICE9PSBjdHggKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRhcGkucm93cygge3BhZ2U6J2N1cnJlbnQnfSApLmVxKDApLmVhY2goIGZ1bmN0aW9uIChpZHgpIHtcblx0XHRcdFx0XHQvLyBJbnRlcm5hbCBkYXRhIGdyYWJcblx0XHRcdFx0XHR2YXIgcm93ID0gZGF0YVsgaWR4IF07XG5cdFxuXHRcdFx0XHRcdGlmICggcm93Ll9kZXRhaWxzU2hvdyApIHtcblx0XHRcdFx0XHRcdHJvdy5fZGV0YWlscy5pbnNlcnRBZnRlciggcm93Lm5UciApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdC8vIENvbHVtbiB2aXNpYmlsaXR5IGNoYW5nZSAtIHVwZGF0ZSB0aGUgY29sc3BhblxuXHRcdFx0YXBpLm9uKCBjb2x2aXNFdmVudCwgZnVuY3Rpb24gKCBlLCBjdHgsIGlkeCwgdmlzICkge1xuXHRcdFx0XHRpZiAoIHNldHRpbmdzICE9PSBjdHggKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBVcGRhdGUgdGhlIGNvbHNwYW4gZm9yIHRoZSBkZXRhaWxzIHJvd3MgKG5vdGUsIG9ubHkgaWYgaXQgYWxyZWFkeSBoYXNcblx0XHRcdFx0Ly8gYSBjb2xzcGFuKVxuXHRcdFx0XHR2YXIgcm93LCB2aXNpYmxlID0gX2ZuVmlzYmxlQ29sdW1ucyggY3R4ICk7XG5cdFxuXHRcdFx0XHRmb3IgKCB2YXIgaT0wLCBpZW49ZGF0YS5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRyb3cgPSBkYXRhW2ldO1xuXHRcblx0XHRcdFx0XHRpZiAoIHJvdy5fZGV0YWlscyApIHtcblx0XHRcdFx0XHRcdHJvdy5fZGV0YWlscy5jaGlsZHJlbigndGRbY29sc3Bhbl0nKS5hdHRyKCdjb2xzcGFuJywgdmlzaWJsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcblx0XHRcdC8vIFRhYmxlIGRlc3Ryb3llZCAtIG51a2UgYW55IGNoaWxkIHJvd3Ncblx0XHRcdGFwaS5vbiggZGVzdHJveUV2ZW50LCBmdW5jdGlvbiAoIGUsIGN0eCApIHtcblx0XHRcdFx0aWYgKCBzZXR0aW5ncyAhPT0gY3R4ICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Zm9yICggdmFyIGk9MCwgaWVuPWRhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhW2ldLl9kZXRhaWxzICkge1xuXHRcdFx0XHRcdFx0X19kZXRhaWxzX3JlbW92ZSggYXBpLCBpICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0Ly8gU3RyaW5ncyBmb3IgdGhlIG1ldGhvZCBuYW1lcyB0byBoZWxwIG1pbmlmaWNhdGlvblxuXHR2YXIgX2VtcCA9ICcnO1xuXHR2YXIgX2NoaWxkX29iaiA9IF9lbXArJ3JvdygpLmNoaWxkJztcblx0dmFyIF9jaGlsZF9tdGggPSBfY2hpbGRfb2JqKycoKSc7XG5cdFxuXHQvLyBkYXRhIGNhbiBiZTpcblx0Ly8gIHRyXG5cdC8vICBzdHJpbmdcblx0Ly8gIGpRdWVyeSBvciBhcnJheSBvZiBhbnkgb2YgdGhlIGFib3ZlXG5cdF9hcGlfcmVnaXN0ZXIoIF9jaGlsZF9tdGgsIGZ1bmN0aW9uICggZGF0YSwga2xhc3MgKSB7XG5cdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XG5cdFx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQvLyBnZXRcblx0XHRcdHJldHVybiBjdHgubGVuZ3RoICYmIHRoaXMubGVuZ3RoID9cblx0XHRcdFx0Y3R4WzBdLmFvRGF0YVsgdGhpc1swXSBdLl9kZXRhaWxzIDpcblx0XHRcdFx0dW5kZWZpbmVkO1xuXHRcdH1cblx0XHRlbHNlIGlmICggZGF0YSA9PT0gdHJ1ZSApIHtcblx0XHRcdC8vIHNob3dcblx0XHRcdHRoaXMuY2hpbGQuc2hvdygpO1xuXHRcdH1cblx0XHRlbHNlIGlmICggZGF0YSA9PT0gZmFsc2UgKSB7XG5cdFx0XHQvLyByZW1vdmVcblx0XHRcdF9fZGV0YWlsc19yZW1vdmUoIHRoaXMgKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIGN0eC5sZW5ndGggJiYgdGhpcy5sZW5ndGggKSB7XG5cdFx0XHQvLyBzZXRcblx0XHRcdF9fZGV0YWlsc19hZGQoIGN0eFswXSwgY3R4WzBdLmFvRGF0YVsgdGhpc1swXSBdLCBkYXRhLCBrbGFzcyApO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCBbXG5cdFx0X2NoaWxkX29iaisnLnNob3coKScsXG5cdFx0X2NoaWxkX210aCsnLnNob3coKScgLy8gb25seSB3aGVuIGBjaGlsZCgpYCB3YXMgY2FsbGVkIHdpdGggcGFyYW1ldGVycyAod2l0aG91dFxuXHRdLCBmdW5jdGlvbiAoIHNob3cgKSB7ICAgLy8gaXQgcmV0dXJucyBhbiBvYmplY3QgYW5kIHRoaXMgbWV0aG9kIGlzIG5vdCBleGVjdXRlZClcblx0XHRfX2RldGFpbHNfZGlzcGxheSggdGhpcywgdHJ1ZSApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggW1xuXHRcdF9jaGlsZF9vYmorJy5oaWRlKCknLFxuXHRcdF9jaGlsZF9tdGgrJy5oaWRlKCknIC8vIG9ubHkgd2hlbiBgY2hpbGQoKWAgd2FzIGNhbGxlZCB3aXRoIHBhcmFtZXRlcnMgKHdpdGhvdXRcblx0XSwgZnVuY3Rpb24gKCkgeyAgICAgICAgIC8vIGl0IHJldHVybnMgYW4gb2JqZWN0IGFuZCB0aGlzIG1ldGhvZCBpcyBub3QgZXhlY3V0ZWQpXG5cdFx0X19kZXRhaWxzX2Rpc3BsYXkoIHRoaXMsIGZhbHNlICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCBbXG5cdFx0X2NoaWxkX29iaisnLnJlbW92ZSgpJyxcblx0XHRfY2hpbGRfbXRoKycucmVtb3ZlKCknIC8vIG9ubHkgd2hlbiBgY2hpbGQoKWAgd2FzIGNhbGxlZCB3aXRoIHBhcmFtZXRlcnMgKHdpdGhvdXRcblx0XSwgZnVuY3Rpb24gKCkgeyAgICAgICAgICAgLy8gaXQgcmV0dXJucyBhbiBvYmplY3QgYW5kIHRoaXMgbWV0aG9kIGlzIG5vdCBleGVjdXRlZClcblx0XHRfX2RldGFpbHNfcmVtb3ZlKCB0aGlzICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCBfY2hpbGRfb2JqKycuaXNTaG93bigpJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjdHggPSB0aGlzLmNvbnRleHQ7XG5cdFxuXHRcdGlmICggY3R4Lmxlbmd0aCAmJiB0aGlzLmxlbmd0aCApIHtcblx0XHRcdC8vIF9kZXRhaWxzU2hvd24gYXMgZmFsc2Ugb3IgdW5kZWZpbmVkIHdpbGwgZmFsbCB0aHJvdWdoIHRvIHJldHVybiBmYWxzZVxuXHRcdFx0cmV0dXJuIGN0eFswXS5hb0RhdGFbIHRoaXNbMF0gXS5fZGV0YWlsc1Nob3cgfHwgZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSApO1xuXHRcblx0XG5cdFxuXHQvKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcblx0ICogQ29sdW1uc1xuXHQgKlxuXHQgKiB7aW50ZWdlcn0gICAgICAgICAgIC0gY29sdW1uIGluZGV4ICg+PTAgY291bnQgZnJvbSBsZWZ0LCA8MCBjb3VudCBmcm9tIHJpZ2h0KVxuXHQgKiBcIntpbnRlZ2VyfTp2aXNJZHhcIiAgLSB2aXNpYmxlIGNvbHVtbiBpbmRleCAoaS5lLiB0cmFuc2xhdGUgdG8gY29sdW1uIGluZGV4KSAgKD49MCBjb3VudCBmcm9tIGxlZnQsIDwwIGNvdW50IGZyb20gcmlnaHQpXG5cdCAqIFwie2ludGVnZXJ9OnZpc2libGVcIiAtIGFsaWFzIGZvciB7aW50ZWdlcn06dmlzSWR4ICAoPj0wIGNvdW50IGZyb20gbGVmdCwgPDAgY291bnQgZnJvbSByaWdodClcblx0ICogXCJ7c3RyaW5nfTpuYW1lXCIgICAgIC0gY29sdW1uIG5hbWVcblx0ICogXCJ7c3RyaW5nfVwiICAgICAgICAgIC0galF1ZXJ5IHNlbGVjdG9yIG9uIGNvbHVtbiBoZWFkZXIgbm9kZXNcblx0ICpcblx0ICovXG5cdFxuXHQvLyBjYW4gYmUgYW4gYXJyYXkgb2YgdGhlc2UgaXRlbXMsIGNvbW1hIHNlcGFyYXRlZCBsaXN0LCBvciBhbiBhcnJheSBvZiBjb21tYVxuXHQvLyBzZXBhcmF0ZWQgbGlzdHNcblx0XG5cdHZhciBfX3JlX2NvbHVtbl9zZWxlY3RvciA9IC9eKC4rKToobmFtZXx2aXNJZHh8dmlzaWJsZSkkLztcblx0XG5cdFxuXHQvLyByMSBhbmQgcjIgYXJlIHJlZHVuZGFudCAtIGJ1dCBpdCBtZWFucyB0aGF0IHRoZSBwYXJhbWV0ZXJzIG1hdGNoIGZvciB0aGVcblx0Ly8gaXRlcmF0b3IgY2FsbGJhY2sgaW4gY29sdW1ucygpLmRhdGEoKVxuXHR2YXIgX19jb2x1bW5EYXRhID0gZnVuY3Rpb24gKCBzZXR0aW5ncywgY29sdW1uLCByMSwgcjIsIHJvd3MgKSB7XG5cdFx0dmFyIGEgPSBbXTtcblx0XHRmb3IgKCB2YXIgcm93PTAsIGllbj1yb3dzLmxlbmd0aCA7IHJvdzxpZW4gOyByb3crKyApIHtcblx0XHRcdGEucHVzaCggX2ZuR2V0Q2VsbERhdGEoIHNldHRpbmdzLCByb3dzW3Jvd10sIGNvbHVtbiApICk7XG5cdFx0fVxuXHRcdHJldHVybiBhO1xuXHR9O1xuXHRcblx0XG5cdHZhciBfX2NvbHVtbl9zZWxlY3RvciA9IGZ1bmN0aW9uICggc2V0dGluZ3MsIHNlbGVjdG9yLCBvcHRzIClcblx0e1xuXHRcdHZhclxuXHRcdFx0Y29sdW1ucyA9IHNldHRpbmdzLmFvQ29sdW1ucyxcblx0XHRcdG5hbWVzID0gX3BsdWNrKCBjb2x1bW5zLCAnc05hbWUnICksXG5cdFx0XHRub2RlcyA9IF9wbHVjayggY29sdW1ucywgJ25UaCcgKTtcblx0XG5cdFx0dmFyIHJ1biA9IGZ1bmN0aW9uICggcyApIHtcblx0XHRcdHZhciBzZWxJbnQgPSBfaW50VmFsKCBzICk7XG5cdFxuXHRcdFx0Ly8gU2VsZWN0b3IgLSBhbGxcblx0XHRcdGlmICggcyA9PT0gJycgKSB7XG5cdFx0XHRcdHJldHVybiBfcmFuZ2UoIGNvbHVtbnMubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2VsZWN0b3IgLSBpbmRleFxuXHRcdFx0aWYgKCBzZWxJbnQgIT09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiBbIHNlbEludCA+PSAwID9cblx0XHRcdFx0XHRzZWxJbnQgOiAvLyBDb3VudCBmcm9tIGxlZnRcblx0XHRcdFx0XHRjb2x1bW5zLmxlbmd0aCArIHNlbEludCAvLyBDb3VudCBmcm9tIHJpZ2h0ICgrIGJlY2F1c2UgaXRzIGEgbmVnYXRpdmUgdmFsdWUpXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2VsZWN0b3IgPSBmdW5jdGlvblxuXHRcdFx0aWYgKCB0eXBlb2YgcyA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0dmFyIHJvd3MgPSBfc2VsZWN0b3Jfcm93X2luZGV4ZXMoIHNldHRpbmdzLCBvcHRzICk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gJC5tYXAoIGNvbHVtbnMsIGZ1bmN0aW9uIChjb2wsIGlkeCkge1xuXHRcdFx0XHRcdHJldHVybiBzKFxuXHRcdFx0XHRcdFx0XHRpZHgsXG5cdFx0XHRcdFx0XHRcdF9fY29sdW1uRGF0YSggc2V0dGluZ3MsIGlkeCwgMCwgMCwgcm93cyApLFxuXHRcdFx0XHRcdFx0XHRub2Rlc1sgaWR4IF1cblx0XHRcdFx0XHRcdCkgPyBpZHggOiBudWxsO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8galF1ZXJ5IG9yIHN0cmluZyBzZWxlY3RvclxuXHRcdFx0dmFyIG1hdGNoID0gdHlwZW9mIHMgPT09ICdzdHJpbmcnID9cblx0XHRcdFx0cy5tYXRjaCggX19yZV9jb2x1bW5fc2VsZWN0b3IgKSA6XG5cdFx0XHRcdCcnO1xuXHRcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cdFx0XHRcdHN3aXRjaCggbWF0Y2hbMl0gKSB7XG5cdFx0XHRcdFx0Y2FzZSAndmlzSWR4Jzpcblx0XHRcdFx0XHRjYXNlICd2aXNpYmxlJzpcblx0XHRcdFx0XHRcdHZhciBpZHggPSBwYXJzZUludCggbWF0Y2hbMV0sIDEwICk7XG5cdFx0XHRcdFx0XHQvLyBWaXNpYmxlIGluZGV4IGdpdmVuLCBjb252ZXJ0IHRvIGNvbHVtbiBpbmRleFxuXHRcdFx0XHRcdFx0aWYgKCBpZHggPCAwICkge1xuXHRcdFx0XHRcdFx0XHQvLyBDb3VudGluZyBmcm9tIHRoZSByaWdodFxuXHRcdFx0XHRcdFx0XHR2YXIgdmlzQ29sdW1ucyA9ICQubWFwKCBjb2x1bW5zLCBmdW5jdGlvbiAoY29sLGkpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29sLmJWaXNpYmxlID8gaSA6IG51bGw7XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFsgdmlzQ29sdW1uc1sgdmlzQ29sdW1ucy5sZW5ndGggKyBpZHggXSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gQ291bnRpbmcgZnJvbSB0aGUgbGVmdFxuXHRcdFx0XHRcdFx0cmV0dXJuIFsgX2ZuVmlzaWJsZVRvQ29sdW1uSW5kZXgoIHNldHRpbmdzLCBpZHggKSBdO1xuXHRcblx0XHRcdFx0XHRjYXNlICduYW1lJzpcblx0XHRcdFx0XHRcdC8vIG1hdGNoIGJ5IG5hbWUuIGBuYW1lc2AgaXMgY29sdW1uIGluZGV4IGNvbXBsZXRlIGFuZCBpbiBvcmRlclxuXHRcdFx0XHRcdFx0cmV0dXJuICQubWFwKCBuYW1lcywgZnVuY3Rpb24gKG5hbWUsIGkpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG5hbWUgPT09IG1hdGNoWzFdID8gaSA6IG51bGw7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDZWxsIGluIHRoZSB0YWJsZSBib2R5XG5cdFx0XHRpZiAoIHMubm9kZU5hbWUgJiYgcy5fRFRfQ2VsbEluZGV4ICkge1xuXHRcdFx0XHRyZXR1cm4gWyBzLl9EVF9DZWxsSW5kZXguY29sdW1uIF07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8galF1ZXJ5IHNlbGVjdG9yIG9uIHRoZSBUSCBlbGVtZW50cyBmb3IgdGhlIGNvbHVtbnNcblx0XHRcdHZhciBqcVJlc3VsdCA9ICQoIG5vZGVzIClcblx0XHRcdFx0LmZpbHRlciggcyApXG5cdFx0XHRcdC5tYXAoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gJC5pbkFycmF5KCB0aGlzLCBub2RlcyApOyAvLyBgbm9kZXNgIGlzIGNvbHVtbiBpbmRleCBjb21wbGV0ZSBhbmQgaW4gb3JkZXJcblx0XHRcdFx0fSApXG5cdFx0XHRcdC50b0FycmF5KCk7XG5cdFxuXHRcdFx0aWYgKCBqcVJlc3VsdC5sZW5ndGggfHwgISBzLm5vZGVOYW1lICkge1xuXHRcdFx0XHRyZXR1cm4ganFSZXN1bHQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGEgbm9kZSB3aGljaCBtaWdodCBoYXZlIGEgYGR0LWNvbHVtbmAgZGF0YSBhdHRyaWJ1dGUsIG9yIGJlXG5cdFx0XHQvLyBhIGNoaWxkIG9yIHN1Y2ggYW4gZWxlbWVudFxuXHRcdFx0dmFyIGhvc3QgPSAkKHMpLmNsb3Nlc3QoJypbZGF0YS1kdC1jb2x1bW5dJyk7XG5cdFx0XHRyZXR1cm4gaG9zdC5sZW5ndGggP1xuXHRcdFx0XHRbIGhvc3QuZGF0YSgnZHQtY29sdW1uJykgXSA6XG5cdFx0XHRcdFtdO1xuXHRcdH07XG5cdFxuXHRcdHJldHVybiBfc2VsZWN0b3JfcnVuKCAnY29sdW1uJywgc2VsZWN0b3IsIHJ1biwgc2V0dGluZ3MsIG9wdHMgKTtcblx0fTtcblx0XG5cdFxuXHR2YXIgX19zZXRDb2x1bW5WaXMgPSBmdW5jdGlvbiAoIHNldHRpbmdzLCBjb2x1bW4sIHZpcyApIHtcblx0XHR2YXJcblx0XHRcdGNvbHMgPSBzZXR0aW5ncy5hb0NvbHVtbnMsXG5cdFx0XHRjb2wgID0gY29sc1sgY29sdW1uIF0sXG5cdFx0XHRkYXRhID0gc2V0dGluZ3MuYW9EYXRhLFxuXHRcdFx0cm93LCBjZWxscywgaSwgaWVuLCB0cjtcblx0XG5cdFx0Ly8gR2V0XG5cdFx0aWYgKCB2aXMgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiBjb2wuYlZpc2libGU7XG5cdFx0fVxuXHRcblx0XHQvLyBTZXRcblx0XHQvLyBObyBjaGFuZ2Vcblx0XHRpZiAoIGNvbC5iVmlzaWJsZSA9PT0gdmlzICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0aWYgKCB2aXMgKSB7XG5cdFx0XHQvLyBJbnNlcnQgY29sdW1uXG5cdFx0XHQvLyBOZWVkIHRvIGRlY2lkZSBpZiB3ZSBzaG91bGQgdXNlIGFwcGVuZENoaWxkIG9yIGluc2VydEJlZm9yZVxuXHRcdFx0dmFyIGluc2VydEJlZm9yZSA9ICQuaW5BcnJheSggdHJ1ZSwgX3BsdWNrKGNvbHMsICdiVmlzaWJsZScpLCBjb2x1bW4rMSApO1xuXHRcblx0XHRcdGZvciAoIGk9MCwgaWVuPWRhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0XHRcdHRyID0gZGF0YVtpXS5uVHI7XG5cdFx0XHRcdGNlbGxzID0gZGF0YVtpXS5hbkNlbGxzO1xuXHRcblx0XHRcdFx0aWYgKCB0ciApIHtcblx0XHRcdFx0XHQvLyBpbnNlcnRCZWZvcmUgY2FuIGFjdCBsaWtlIGFwcGVuZENoaWxkIGlmIDJuZCBhcmcgaXMgbnVsbFxuXHRcdFx0XHRcdHRyLmluc2VydEJlZm9yZSggY2VsbHNbIGNvbHVtbiBdLCBjZWxsc1sgaW5zZXJ0QmVmb3JlIF0gfHwgbnVsbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Ly8gUmVtb3ZlIGNvbHVtblxuXHRcdFx0JCggX3BsdWNrKCBzZXR0aW5ncy5hb0RhdGEsICdhbkNlbGxzJywgY29sdW1uICkgKS5kZXRhY2goKTtcblx0XHR9XG5cdFxuXHRcdC8vIENvbW1vbiBhY3Rpb25zXG5cdFx0Y29sLmJWaXNpYmxlID0gdmlzO1xuXHRcdF9mbkRyYXdIZWFkKCBzZXR0aW5ncywgc2V0dGluZ3MuYW9IZWFkZXIgKTtcblx0XHRfZm5EcmF3SGVhZCggc2V0dGluZ3MsIHNldHRpbmdzLmFvRm9vdGVyICk7XG5cdFxuXHRcdF9mblNhdmVTdGF0ZSggc2V0dGluZ3MgKTtcblx0fTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnY29sdW1ucygpJywgZnVuY3Rpb24gKCBzZWxlY3Rvciwgb3B0cyApIHtcblx0XHQvLyBhcmd1bWVudCBzaGlmdGluZ1xuXHRcdGlmICggc2VsZWN0b3IgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHNlbGVjdG9yID0gJyc7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCAkLmlzUGxhaW5PYmplY3QoIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRvcHRzID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9ICcnO1xuXHRcdH1cblx0XG5cdFx0b3B0cyA9IF9zZWxlY3Rvcl9vcHRzKCBvcHRzICk7XG5cdFxuXHRcdHZhciBpbnN0ID0gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBzZXR0aW5ncyApIHtcblx0XHRcdHJldHVybiBfX2NvbHVtbl9zZWxlY3Rvciggc2V0dGluZ3MsIHNlbGVjdG9yLCBvcHRzICk7XG5cdFx0fSwgMSApO1xuXHRcblx0XHQvLyBXYW50IGFyZ3VtZW50IHNoaWZ0aW5nIGhlcmUgYW5kIGluIF9yb3dfc2VsZWN0b3I/XG5cdFx0aW5zdC5zZWxlY3Rvci5jb2xzID0gc2VsZWN0b3I7XG5cdFx0aW5zdC5zZWxlY3Rvci5vcHRzID0gb3B0cztcblx0XG5cdFx0cmV0dXJuIGluc3Q7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkuaGVhZGVyKCknLCAnY29sdW1uKCkuaGVhZGVyKCknLCBmdW5jdGlvbiAoIHNlbGVjdG9yLCBvcHRzICkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAnY29sdW1uJywgZnVuY3Rpb24gKCBzZXR0aW5ncywgY29sdW1uICkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzLmFvQ29sdW1uc1tjb2x1bW5dLm5UaDtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkuZm9vdGVyKCknLCAnY29sdW1uKCkuZm9vdGVyKCknLCBmdW5jdGlvbiAoIHNlbGVjdG9yLCBvcHRzICkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAnY29sdW1uJywgZnVuY3Rpb24gKCBzZXR0aW5ncywgY29sdW1uICkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzLmFvQ29sdW1uc1tjb2x1bW5dLm5UZjtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkuZGF0YSgpJywgJ2NvbHVtbigpLmRhdGEoKScsIGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ2NvbHVtbi1yb3dzJywgX19jb2x1bW5EYXRhLCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkuZGF0YVNyYygpJywgJ2NvbHVtbigpLmRhdGFTcmMoKScsIGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ2NvbHVtbicsIGZ1bmN0aW9uICggc2V0dGluZ3MsIGNvbHVtbiApIHtcblx0XHRcdHJldHVybiBzZXR0aW5ncy5hb0NvbHVtbnNbY29sdW1uXS5tRGF0YTtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkuY2FjaGUoKScsICdjb2x1bW4oKS5jYWNoZSgpJywgZnVuY3Rpb24gKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAnY29sdW1uLXJvd3MnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBjb2x1bW4sIGksIGosIHJvd3MgKSB7XG5cdFx0XHRyZXR1cm4gX3BsdWNrX29yZGVyKCBzZXR0aW5ncy5hb0RhdGEsIHJvd3MsXG5cdFx0XHRcdHR5cGUgPT09ICdzZWFyY2gnID8gJ19hRmlsdGVyRGF0YScgOiAnX2FTb3J0RGF0YScsIGNvbHVtblxuXHRcdFx0KTtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkubm9kZXMoKScsICdjb2x1bW4oKS5ub2RlcygpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAnY29sdW1uLXJvd3MnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBjb2x1bW4sIGksIGosIHJvd3MgKSB7XG5cdFx0XHRyZXR1cm4gX3BsdWNrX29yZGVyKCBzZXR0aW5ncy5hb0RhdGEsIHJvd3MsICdhbkNlbGxzJywgY29sdW1uICkgO1xuXHRcdH0sIDEgKTtcblx0fSApO1xuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ2NvbHVtbnMoKS52aXNpYmxlKCknLCAnY29sdW1uKCkudmlzaWJsZSgpJywgZnVuY3Rpb24gKCB2aXMsIGNhbGMgKSB7XG5cdFx0dmFyIHJldCA9IHRoaXMuaXRlcmF0b3IoICdjb2x1bW4nLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBjb2x1bW4gKSB7XG5cdFx0XHRpZiAoIHZpcyA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gc2V0dGluZ3MuYW9Db2x1bW5zWyBjb2x1bW4gXS5iVmlzaWJsZTtcblx0XHRcdH0gLy8gZWxzZVxuXHRcdFx0X19zZXRDb2x1bW5WaXMoIHNldHRpbmdzLCBjb2x1bW4sIHZpcyApO1xuXHRcdH0gKTtcblx0XG5cdFx0Ly8gR3JvdXAgdGhlIGNvbHVtbiB2aXNpYmlsaXR5IGNoYW5nZXNcblx0XHRpZiAoIHZpcyAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Ly8gU2Vjb25kIGxvb3Agb25jZSB0aGUgZmlyc3QgaXMgZG9uZSBmb3IgZXZlbnRzXG5cdFx0XHR0aGlzLml0ZXJhdG9yKCAnY29sdW1uJywgZnVuY3Rpb24gKCBzZXR0aW5ncywgY29sdW1uICkge1xuXHRcdFx0XHRfZm5DYWxsYmFja0ZpcmUoIHNldHRpbmdzLCBudWxsLCAnY29sdW1uLXZpc2liaWxpdHknLCBbc2V0dGluZ3MsIGNvbHVtbiwgdmlzLCBjYWxjXSApO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdGlmICggY2FsYyA9PT0gdW5kZWZpbmVkIHx8IGNhbGMgKSB7XG5cdFx0XHRcdHRoaXMuY29sdW1ucy5hZGp1c3QoKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiByZXQ7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjb2x1bW5zKCkuaW5kZXhlcygpJywgJ2NvbHVtbigpLmluZGV4KCknLCBmdW5jdGlvbiAoIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdjb2x1bW4nLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBjb2x1bW4gKSB7XG5cdFx0XHRyZXR1cm4gdHlwZSA9PT0gJ3Zpc2libGUnID9cblx0XHRcdFx0X2ZuQ29sdW1uSW5kZXhUb1Zpc2libGUoIHNldHRpbmdzLCBjb2x1bW4gKSA6XG5cdFx0XHRcdGNvbHVtbjtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdjb2x1bW5zLmFkanVzdCgpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIHNldHRpbmdzICkge1xuXHRcdFx0X2ZuQWRqdXN0Q29sdW1uU2l6aW5nKCBzZXR0aW5ncyApO1xuXHRcdH0sIDEgKTtcblx0fSApO1xuXHRcblx0X2FwaV9yZWdpc3RlciggJ2NvbHVtbi5pbmRleCgpJywgZnVuY3Rpb24gKCB0eXBlLCBpZHggKSB7XG5cdFx0aWYgKCB0aGlzLmNvbnRleHQubGVuZ3RoICE9PSAwICkge1xuXHRcdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dFswXTtcblx0XG5cdFx0XHRpZiAoIHR5cGUgPT09ICdmcm9tVmlzaWJsZScgfHwgdHlwZSA9PT0gJ3RvRGF0YScgKSB7XG5cdFx0XHRcdHJldHVybiBfZm5WaXNpYmxlVG9Db2x1bW5JbmRleCggY3R4LCBpZHggKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCB0eXBlID09PSAnZnJvbURhdGEnIHx8IHR5cGUgPT09ICd0b1Zpc2libGUnICkge1xuXHRcdFx0XHRyZXR1cm4gX2ZuQ29sdW1uSW5kZXhUb1Zpc2libGUoIGN0eCwgaWR4ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnY29sdW1uKCknLCBmdW5jdGlvbiAoIHNlbGVjdG9yLCBvcHRzICkge1xuXHRcdHJldHVybiBfc2VsZWN0b3JfZmlyc3QoIHRoaXMuY29sdW1ucyggc2VsZWN0b3IsIG9wdHMgKSApO1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdHZhciBfX2NlbGxfc2VsZWN0b3IgPSBmdW5jdGlvbiAoIHNldHRpbmdzLCBzZWxlY3Rvciwgb3B0cyApXG5cdHtcblx0XHR2YXIgZGF0YSA9IHNldHRpbmdzLmFvRGF0YTtcblx0XHR2YXIgcm93cyA9IF9zZWxlY3Rvcl9yb3dfaW5kZXhlcyggc2V0dGluZ3MsIG9wdHMgKTtcblx0XHR2YXIgY2VsbHMgPSBfcmVtb3ZlRW1wdHkoIF9wbHVja19vcmRlciggZGF0YSwgcm93cywgJ2FuQ2VsbHMnICkgKTtcblx0XHR2YXIgYWxsQ2VsbHMgPSAkKCBbXS5jb25jYXQuYXBwbHkoW10sIGNlbGxzKSApO1xuXHRcdHZhciByb3c7XG5cdFx0dmFyIGNvbHVtbnMgPSBzZXR0aW5ncy5hb0NvbHVtbnMubGVuZ3RoO1xuXHRcdHZhciBhLCBpLCBpZW4sIGosIG8sIGhvc3Q7XG5cdFxuXHRcdHZhciBydW4gPSBmdW5jdGlvbiAoIHMgKSB7XG5cdFx0XHR2YXIgZm5TZWxlY3RvciA9IHR5cGVvZiBzID09PSAnZnVuY3Rpb24nO1xuXHRcblx0XHRcdGlmICggcyA9PT0gbnVsbCB8fCBzID09PSB1bmRlZmluZWQgfHwgZm5TZWxlY3RvciApIHtcblx0XHRcdFx0Ly8gQWxsIGNlbGxzIGFuZCBmdW5jdGlvbiBzZWxlY3RvcnNcblx0XHRcdFx0YSA9IFtdO1xuXHRcblx0XHRcdFx0Zm9yICggaT0wLCBpZW49cm93cy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRyb3cgPSByb3dzW2ldO1xuXHRcblx0XHRcdFx0XHRmb3IgKCBqPTAgOyBqPGNvbHVtbnMgOyBqKysgKSB7XG5cdFx0XHRcdFx0XHRvID0ge1xuXHRcdFx0XHRcdFx0XHRyb3c6IHJvdyxcblx0XHRcdFx0XHRcdFx0Y29sdW1uOiBqXG5cdFx0XHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0XHRcdGlmICggZm5TZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdFx0Ly8gU2VsZWN0b3IgLSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0XHRob3N0ID0gZGF0YVsgcm93IF07XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoIHMoIG8sIF9mbkdldENlbGxEYXRhKHNldHRpbmdzLCByb3csIGopLCBob3N0LmFuQ2VsbHMgPyBob3N0LmFuQ2VsbHNbal0gOiBudWxsICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0YS5wdXNoKCBvICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBTZWxlY3RvciAtIGFsbFxuXHRcdFx0XHRcdFx0XHRhLnB1c2goIG8gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBhO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBTZWxlY3RvciAtIGluZGV4XG5cdFx0XHRpZiAoICQuaXNQbGFpbk9iamVjdCggcyApICkge1xuXHRcdFx0XHRyZXR1cm4gW3NdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNlbGVjdG9yIC0galF1ZXJ5IGZpbHRlcmVkIGNlbGxzXG5cdFx0XHR2YXIganFSZXN1bHQgPSBhbGxDZWxsc1xuXHRcdFx0XHQuZmlsdGVyKCBzIClcblx0XHRcdFx0Lm1hcCggZnVuY3Rpb24gKGksIGVsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgLy8gdXNlIGEgbmV3IG9iamVjdCwgaW4gY2FzZSBzb21lb25lIGNoYW5nZXMgdGhlIHZhbHVlc1xuXHRcdFx0XHRcdFx0cm93OiAgICBlbC5fRFRfQ2VsbEluZGV4LnJvdyxcblx0XHRcdFx0XHRcdGNvbHVtbjogZWwuX0RUX0NlbGxJbmRleC5jb2x1bW5cblx0IFx0XHRcdFx0fTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC50b0FycmF5KCk7XG5cdFxuXHRcdFx0aWYgKCBqcVJlc3VsdC5sZW5ndGggfHwgISBzLm5vZGVOYW1lICkge1xuXHRcdFx0XHRyZXR1cm4ganFSZXN1bHQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHRoZSBzZWxlY3RvciBpcyBhIG5vZGUsIGFuZCB0aGVyZSBpcyBvbmUgbGFzdCBvcHRpb24gLSB0aGVcblx0XHRcdC8vIGVsZW1lbnQgbWlnaHQgYmUgYSBjaGlsZCBvZiBhbiBlbGVtZW50IHdoaWNoIGhhcyBkdC1yb3cgYW5kIGR0LWNvbHVtblxuXHRcdFx0Ly8gZGF0YSBhdHRyaWJ1dGVzXG5cdFx0XHRob3N0ID0gJChzKS5jbG9zZXN0KCcqW2RhdGEtZHQtcm93XScpO1xuXHRcdFx0cmV0dXJuIGhvc3QubGVuZ3RoID9cblx0XHRcdFx0WyB7XG5cdFx0XHRcdFx0cm93OiBob3N0LmRhdGEoJ2R0LXJvdycpLFxuXHRcdFx0XHRcdGNvbHVtbjogaG9zdC5kYXRhKCdkdC1jb2x1bW4nKVxuXHRcdFx0XHR9IF0gOlxuXHRcdFx0XHRbXTtcblx0XHR9O1xuXHRcblx0XHRyZXR1cm4gX3NlbGVjdG9yX3J1biggJ2NlbGwnLCBzZWxlY3RvciwgcnVuLCBzZXR0aW5ncywgb3B0cyApO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggJ2NlbGxzKCknLCBmdW5jdGlvbiAoIHJvd1NlbGVjdG9yLCBjb2x1bW5TZWxlY3Rvciwgb3B0cyApIHtcblx0XHQvLyBBcmd1bWVudCBzaGlmdGluZ1xuXHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCByb3dTZWxlY3RvciApICkge1xuXHRcdFx0Ly8gSW5kZXhlc1xuXHRcdFx0aWYgKCByb3dTZWxlY3Rvci5yb3cgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Ly8gU2VsZWN0b3Igb3B0aW9ucyBpbiBmaXJzdCBwYXJhbWV0ZXJcblx0XHRcdFx0b3B0cyA9IHJvd1NlbGVjdG9yO1xuXHRcdFx0XHRyb3dTZWxlY3RvciA9IG51bGw7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gQ2VsbCBpbmRleCBvYmplY3RzIGluIGZpcnN0IHBhcmFtZXRlclxuXHRcdFx0XHRvcHRzID0gY29sdW1uU2VsZWN0b3I7XG5cdFx0XHRcdGNvbHVtblNlbGVjdG9yID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIGNvbHVtblNlbGVjdG9yICkgKSB7XG5cdFx0XHRvcHRzID0gY29sdW1uU2VsZWN0b3I7XG5cdFx0XHRjb2x1bW5TZWxlY3RvciA9IG51bGw7XG5cdFx0fVxuXHRcblx0XHQvLyBDZWxsIHNlbGVjdG9yXG5cdFx0aWYgKCBjb2x1bW5TZWxlY3RvciA9PT0gbnVsbCB8fCBjb2x1bW5TZWxlY3RvciA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRcdHJldHVybiBfX2NlbGxfc2VsZWN0b3IoIHNldHRpbmdzLCByb3dTZWxlY3RvciwgX3NlbGVjdG9yX29wdHMoIG9wdHMgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0XG5cdFx0Ly8gUm93ICsgY29sdW1uIHNlbGVjdG9yXG5cdFx0dmFyIGNvbHVtbnMgPSB0aGlzLmNvbHVtbnMoIGNvbHVtblNlbGVjdG9yLCBvcHRzICk7XG5cdFx0dmFyIHJvd3MgPSB0aGlzLnJvd3MoIHJvd1NlbGVjdG9yLCBvcHRzICk7XG5cdFx0dmFyIGEsIGksIGllbiwgaiwgamVuO1xuXHRcblx0XHR2YXIgY2VsbHMgPSB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBpZHggKSB7XG5cdFx0XHRhID0gW107XG5cdFxuXHRcdFx0Zm9yICggaT0wLCBpZW49cm93c1tpZHhdLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBqPTAsIGplbj1jb2x1bW5zW2lkeF0ubGVuZ3RoIDsgajxqZW4gOyBqKysgKSB7XG5cdFx0XHRcdFx0YS5wdXNoKCB7XG5cdFx0XHRcdFx0XHRyb3c6ICAgIHJvd3NbaWR4XVtpXSxcblx0XHRcdFx0XHRcdGNvbHVtbjogY29sdW1uc1tpZHhdW2pdXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGE7XG5cdFx0fSwgMSApO1xuXHRcblx0XHQkLmV4dGVuZCggY2VsbHMuc2VsZWN0b3IsIHtcblx0XHRcdGNvbHM6IGNvbHVtblNlbGVjdG9yLFxuXHRcdFx0cm93czogcm93U2VsZWN0b3IsXG5cdFx0XHRvcHRzOiBvcHRzXG5cdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gY2VsbHM7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyUGx1cmFsKCAnY2VsbHMoKS5ub2RlcygpJywgJ2NlbGwoKS5ub2RlKCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdjZWxsJywgZnVuY3Rpb24gKCBzZXR0aW5ncywgcm93LCBjb2x1bW4gKSB7XG5cdFx0XHR2YXIgZGF0YSA9IHNldHRpbmdzLmFvRGF0YVsgcm93IF07XG5cdFxuXHRcdFx0cmV0dXJuIGRhdGEgJiYgZGF0YS5hbkNlbGxzID9cblx0XHRcdFx0ZGF0YS5hbkNlbGxzWyBjb2x1bW4gXSA6XG5cdFx0XHRcdHVuZGVmaW5lZDtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnY2VsbHMoKS5kYXRhKCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdjZWxsJywgZnVuY3Rpb24gKCBzZXR0aW5ncywgcm93LCBjb2x1bW4gKSB7XG5cdFx0XHRyZXR1cm4gX2ZuR2V0Q2VsbERhdGEoIHNldHRpbmdzLCByb3csIGNvbHVtbiApO1xuXHRcdH0sIDEgKTtcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXJQbHVyYWwoICdjZWxscygpLmNhY2hlKCknLCAnY2VsbCgpLmNhY2hlKCknLCBmdW5jdGlvbiAoIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgPT09ICdzZWFyY2gnID8gJ19hRmlsdGVyRGF0YScgOiAnX2FTb3J0RGF0YSc7XG5cdFxuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAnY2VsbCcsIGZ1bmN0aW9uICggc2V0dGluZ3MsIHJvdywgY29sdW1uICkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzLmFvRGF0YVsgcm93IF1bIHR5cGUgXVsgY29sdW1uIF07XG5cdFx0fSwgMSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ2NlbGxzKCkucmVuZGVyKCknLCAnY2VsbCgpLnJlbmRlcigpJywgZnVuY3Rpb24gKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAnY2VsbCcsIGZ1bmN0aW9uICggc2V0dGluZ3MsIHJvdywgY29sdW1uICkge1xuXHRcdFx0cmV0dXJuIF9mbkdldENlbGxEYXRhKCBzZXR0aW5ncywgcm93LCBjb2x1bW4sIHR5cGUgKTtcblx0XHR9LCAxICk7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyUGx1cmFsKCAnY2VsbHMoKS5pbmRleGVzKCknLCAnY2VsbCgpLmluZGV4KCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdjZWxsJywgZnVuY3Rpb24gKCBzZXR0aW5ncywgcm93LCBjb2x1bW4gKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRyb3c6IHJvdyxcblx0XHRcdFx0Y29sdW1uOiBjb2x1bW4sXG5cdFx0XHRcdGNvbHVtblZpc2libGU6IF9mbkNvbHVtbkluZGV4VG9WaXNpYmxlKCBzZXR0aW5ncywgY29sdW1uIClcblx0XHRcdH07XG5cdFx0fSwgMSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbCggJ2NlbGxzKCkuaW52YWxpZGF0ZSgpJywgJ2NlbGwoKS5pbnZhbGlkYXRlKCknLCBmdW5jdGlvbiAoIHNyYyApIHtcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ2NlbGwnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCByb3csIGNvbHVtbiApIHtcblx0XHRcdF9mbkludmFsaWRhdGUoIHNldHRpbmdzLCByb3csIHNyYywgY29sdW1uICk7XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdjZWxsKCknLCBmdW5jdGlvbiAoIHJvd1NlbGVjdG9yLCBjb2x1bW5TZWxlY3Rvciwgb3B0cyApIHtcblx0XHRyZXR1cm4gX3NlbGVjdG9yX2ZpcnN0KCB0aGlzLmNlbGxzKCByb3dTZWxlY3RvciwgY29sdW1uU2VsZWN0b3IsIG9wdHMgKSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggJ2NlbGwoKS5kYXRhKCknLCBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XHR2YXIgY2VsbCA9IHRoaXNbMF07XG5cdFxuXHRcdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Ly8gR2V0XG5cdFx0XHRyZXR1cm4gY3R4Lmxlbmd0aCAmJiBjZWxsLmxlbmd0aCA/XG5cdFx0XHRcdF9mbkdldENlbGxEYXRhKCBjdHhbMF0sIGNlbGxbMF0ucm93LCBjZWxsWzBdLmNvbHVtbiApIDpcblx0XHRcdFx0dW5kZWZpbmVkO1xuXHRcdH1cblx0XG5cdFx0Ly8gU2V0XG5cdFx0X2ZuU2V0Q2VsbERhdGEoIGN0eFswXSwgY2VsbFswXS5yb3csIGNlbGxbMF0uY29sdW1uLCBkYXRhICk7XG5cdFx0X2ZuSW52YWxpZGF0ZSggY3R4WzBdLCBjZWxsWzBdLnJvdywgJ2RhdGEnLCBjZWxsWzBdLmNvbHVtbiApO1xuXHRcblx0XHRyZXR1cm4gdGhpcztcblx0fSApO1xuXHRcblx0XG5cdFxuXHQvKipcblx0ICogR2V0IGN1cnJlbnQgb3JkZXJpbmcgKHNvcnRpbmcpIHRoYXQgaGFzIGJlZW4gYXBwbGllZCB0byB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHthcnJheX0gMkQgYXJyYXkgY29udGFpbmluZyB0aGUgc29ydGluZyBpbmZvcm1hdGlvbiBmb3IgdGhlIGZpcnN0XG5cdCAqICAgdGFibGUgaW4gdGhlIGN1cnJlbnQgY29udGV4dC4gRWFjaCBlbGVtZW50IGluIHRoZSBwYXJlbnQgYXJyYXkgcmVwcmVzZW50c1xuXHQgKiAgIGEgY29sdW1uIGJlaW5nIHNvcnRlZCB1cG9uIChpLmUuIG11bHRpLXNvcnRpbmcgd2l0aCB0d28gY29sdW1ucyB3b3VsZCBoYXZlXG5cdCAqICAgMiBpbm5lciBhcnJheXMpLiBUaGUgaW5uZXIgYXJyYXlzIG1heSBoYXZlIDIgb3IgMyBlbGVtZW50cy4gVGhlIGZpcnN0IGlzXG5cdCAqICAgdGhlIGNvbHVtbiBpbmRleCB0aGF0IHRoZSBzb3J0aW5nIGNvbmRpdGlvbiBhcHBsaWVzIHRvLCB0aGUgc2Vjb25kIGlzIHRoZVxuXHQgKiAgIGRpcmVjdGlvbiBvZiB0aGUgc29ydCAoYGRlc2NgIG9yIGBhc2NgKSBhbmQsIG9wdGlvbmFsbHksIHRoZSB0aGlyZCBpcyB0aGVcblx0ICogICBpbmRleCBvZiB0aGUgc29ydGluZyBvcmRlciBmcm9tIHRoZSBgY29sdW1uLnNvcnRpbmdgIGluaXRpYWxpc2F0aW9uIGFycmF5LlxuXHQgKi8vKipcblx0ICogU2V0IHRoZSBvcmRlcmluZyBmb3IgdGhlIHRhYmxlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2ludGVnZXJ9IG9yZGVyIENvbHVtbiBpbmRleCB0byBzb3J0IHVwb24uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gRGlyZWN0aW9uIG9mIHRoZSBzb3J0IHRvIGJlIGFwcGxpZWQgKGBhc2NgIG9yIGBkZXNjYClcblx0ICogQHJldHVybnMge0RhdGFUYWJsZXMuQXBpfSB0aGlzXG5cdCAqLy8qKlxuXHQgKiBTZXQgdGhlIG9yZGVyaW5nIGZvciB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7YXJyYXl9IG9yZGVyIDFEIGFycmF5IG9mIHNvcnRpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXBwbGllZC5cblx0ICogQHBhcmFtIHthcnJheX0gWy4uLl0gT3B0aW9uYWwgYWRkaXRpb25hbCBzb3J0aW5nIGNvbmRpdGlvbnNcblx0ICogQHJldHVybnMge0RhdGFUYWJsZXMuQXBpfSB0aGlzXG5cdCAqLy8qKlxuXHQgKiBTZXQgdGhlIG9yZGVyaW5nIGZvciB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7YXJyYXl9IG9yZGVyIDJEIGFycmF5IG9mIHNvcnRpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXBwbGllZC5cblx0ICogQHJldHVybnMge0RhdGFUYWJsZXMuQXBpfSB0aGlzXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAnb3JkZXIoKScsIGZ1bmN0aW9uICggb3JkZXIsIGRpciApIHtcblx0XHR2YXIgY3R4ID0gdGhpcy5jb250ZXh0O1xuXHRcblx0XHRpZiAoIG9yZGVyID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQvLyBnZXRcblx0XHRcdHJldHVybiBjdHgubGVuZ3RoICE9PSAwID9cblx0XHRcdFx0Y3R4WzBdLmFhU29ydGluZyA6XG5cdFx0XHRcdHVuZGVmaW5lZDtcblx0XHR9XG5cdFxuXHRcdC8vIHNldFxuXHRcdGlmICggdHlwZW9mIG9yZGVyID09PSAnbnVtYmVyJyApIHtcblx0XHRcdC8vIFNpbXBsZSBjb2x1bW4gLyBkaXJlY3Rpb24gcGFzc2VkIGluXG5cdFx0XHRvcmRlciA9IFsgWyBvcmRlciwgZGlyIF0gXTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIG9yZGVyLmxlbmd0aCAmJiAhICQuaXNBcnJheSggb3JkZXJbMF0gKSApIHtcblx0XHRcdC8vIEFyZ3VtZW50cyBwYXNzZWQgaW4gKGxpc3Qgb2YgMUQgYXJyYXlzKVxuXHRcdFx0b3JkZXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdC8vIG90aGVyd2lzZSBhIDJEIGFycmF5IHdhcyBwYXNzZWQgaW5cblx0XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRzZXR0aW5ncy5hYVNvcnRpbmcgPSBvcmRlci5zbGljZSgpO1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdC8qKlxuXHQgKiBBdHRhY2ggYSBzb3J0IGxpc3RlbmVyIHRvIGFuIGVsZW1lbnQgZm9yIGEgZ2l2ZW4gY29sdW1uXG5cdCAqXG5cdCAqIEBwYXJhbSB7bm9kZXxqUXVlcnl8c3RyaW5nfSBub2RlIElkZW50aWZpZXIgZm9yIHRoZSBlbGVtZW50KHMpIHRvIGF0dGFjaCB0aGVcblx0ICogICBsaXN0ZW5lciB0by4gVGhpcyBjYW4gdGFrZSB0aGUgZm9ybSBvZiBhIHNpbmdsZSBET00gbm9kZSwgYSBqUXVlcnlcblx0ICogICBjb2xsZWN0aW9uIG9mIG5vZGVzIG9yIGEgalF1ZXJ5IHNlbGVjdG9yIHdoaWNoIHdpbGwgaWRlbnRpZnkgdGhlIG5vZGUocykuXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gY29sdW1uIHRoZSBjb2x1bW4gdGhhdCBhIGNsaWNrIG9uIHRoaXMgbm9kZSB3aWxsIHNvcnQgb25cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIHNvcnQgaXMgcnVuXG5cdCAqIEByZXR1cm5zIHtEYXRhVGFibGVzLkFwaX0gdGhpc1xuXHQgKi9cblx0X2FwaV9yZWdpc3RlciggJ29yZGVyLmxpc3RlbmVyKCknLCBmdW5jdGlvbiAoIG5vZGUsIGNvbHVtbiwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRfZm5Tb3J0QXR0YWNoTGlzdGVuZXIoIHNldHRpbmdzLCBub2RlLCBjb2x1bW4sIGNhbGxiYWNrICk7XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggJ29yZGVyLmZpeGVkKCknLCBmdW5jdGlvbiAoIHNldCApIHtcblx0XHRpZiAoICEgc2V0ICkge1xuXHRcdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XHRcdHZhciBmaXhlZCA9IGN0eC5sZW5ndGggP1xuXHRcdFx0XHRjdHhbMF0uYWFTb3J0aW5nRml4ZWQgOlxuXHRcdFx0XHR1bmRlZmluZWQ7XG5cdFxuXHRcdFx0cmV0dXJuICQuaXNBcnJheSggZml4ZWQgKSA/XG5cdFx0XHRcdHsgcHJlOiBmaXhlZCB9IDpcblx0XHRcdFx0Zml4ZWQ7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBzZXR0aW5ncyApIHtcblx0XHRcdHNldHRpbmdzLmFhU29ydGluZ0ZpeGVkID0gJC5leHRlbmQoIHRydWUsIHt9LCBzZXQgKTtcblx0XHR9ICk7XG5cdH0gKTtcblx0XG5cdFxuXHQvLyBPcmRlciBieSB0aGUgc2VsZWN0ZWQgY29sdW1uKHMpXG5cdF9hcGlfcmVnaXN0ZXIoIFtcblx0XHQnY29sdW1ucygpLm9yZGVyKCknLFxuXHRcdCdjb2x1bW4oKS5vcmRlcigpJ1xuXHRdLCBmdW5jdGlvbiAoIGRpciApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFxuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBpICkge1xuXHRcdFx0dmFyIHNvcnQgPSBbXTtcblx0XG5cdFx0XHQkLmVhY2goIHRoYXRbaV0sIGZ1bmN0aW9uIChqLCBjb2wpIHtcblx0XHRcdFx0c29ydC5wdXNoKCBbIGNvbCwgZGlyIF0gKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0XHRzZXR0aW5ncy5hYVNvcnRpbmcgPSBzb3J0O1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnc2VhcmNoKCknLCBmdW5jdGlvbiAoIGlucHV0LCByZWdleCwgc21hcnQsIGNhc2VJbnNlbiApIHtcblx0XHR2YXIgY3R4ID0gdGhpcy5jb250ZXh0O1xuXHRcblx0XHRpZiAoIGlucHV0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQvLyBnZXRcblx0XHRcdHJldHVybiBjdHgubGVuZ3RoICE9PSAwID9cblx0XHRcdFx0Y3R4WzBdLm9QcmV2aW91c1NlYXJjaC5zU2VhcmNoIDpcblx0XHRcdFx0dW5kZWZpbmVkO1xuXHRcdH1cblx0XG5cdFx0Ly8gc2V0XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRpZiAoICEgc2V0dGluZ3Mub0ZlYXR1cmVzLmJGaWx0ZXIgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRfZm5GaWx0ZXJDb21wbGV0ZSggc2V0dGluZ3MsICQuZXh0ZW5kKCB7fSwgc2V0dGluZ3Mub1ByZXZpb3VzU2VhcmNoLCB7XG5cdFx0XHRcdFwic1NlYXJjaFwiOiBpbnB1dCtcIlwiLFxuXHRcdFx0XHRcImJSZWdleFwiOiAgcmVnZXggPT09IG51bGwgPyBmYWxzZSA6IHJlZ2V4LFxuXHRcdFx0XHRcImJTbWFydFwiOiAgc21hcnQgPT09IG51bGwgPyB0cnVlICA6IHNtYXJ0LFxuXHRcdFx0XHRcImJDYXNlSW5zZW5zaXRpdmVcIjogY2FzZUluc2VuID09PSBudWxsID8gdHJ1ZSA6IGNhc2VJbnNlblxuXHRcdFx0fSApLCAxICk7XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlclBsdXJhbChcblx0XHQnY29sdW1ucygpLnNlYXJjaCgpJyxcblx0XHQnY29sdW1uKCkuc2VhcmNoKCknLFxuXHRcdGZ1bmN0aW9uICggaW5wdXQsIHJlZ2V4LCBzbWFydCwgY2FzZUluc2VuICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICdjb2x1bW4nLCBmdW5jdGlvbiAoIHNldHRpbmdzLCBjb2x1bW4gKSB7XG5cdFx0XHRcdHZhciBwcmVTZWFyY2ggPSBzZXR0aW5ncy5hb1ByZVNlYXJjaENvbHM7XG5cdFxuXHRcdFx0XHRpZiAoIGlucHV0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0Ly8gZ2V0XG5cdFx0XHRcdFx0cmV0dXJuIHByZVNlYXJjaFsgY29sdW1uIF0uc1NlYXJjaDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gc2V0XG5cdFx0XHRcdGlmICggISBzZXR0aW5ncy5vRmVhdHVyZXMuYkZpbHRlciApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCQuZXh0ZW5kKCBwcmVTZWFyY2hbIGNvbHVtbiBdLCB7XG5cdFx0XHRcdFx0XCJzU2VhcmNoXCI6IGlucHV0K1wiXCIsXG5cdFx0XHRcdFx0XCJiUmVnZXhcIjogIHJlZ2V4ID09PSBudWxsID8gZmFsc2UgOiByZWdleCxcblx0XHRcdFx0XHRcImJTbWFydFwiOiAgc21hcnQgPT09IG51bGwgPyB0cnVlICA6IHNtYXJ0LFxuXHRcdFx0XHRcdFwiYkNhc2VJbnNlbnNpdGl2ZVwiOiBjYXNlSW5zZW4gPT09IG51bGwgPyB0cnVlIDogY2FzZUluc2VuXG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdF9mbkZpbHRlckNvbXBsZXRlKCBzZXR0aW5ncywgc2V0dGluZ3Mub1ByZXZpb3VzU2VhcmNoLCAxICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHQpO1xuXHRcblx0Lypcblx0ICogU3RhdGUgQVBJIG1ldGhvZHNcblx0ICovXG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnc3RhdGUoKScsIGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5jb250ZXh0Lmxlbmd0aCA/XG5cdFx0XHR0aGlzLmNvbnRleHRbMF0ub1NhdmVkU3RhdGUgOlxuXHRcdFx0bnVsbDtcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdzdGF0ZS5jbGVhcigpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIHNldHRpbmdzICkge1xuXHRcdFx0Ly8gU2F2ZSBhbiBlbXB0eSBvYmplY3Rcblx0XHRcdHNldHRpbmdzLmZuU3RhdGVTYXZlQ2FsbGJhY2suY2FsbCggc2V0dGluZ3Mub0luc3RhbmNlLCBzZXR0aW5ncywge30gKTtcblx0XHR9ICk7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnc3RhdGUubG9hZGVkKCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGggP1xuXHRcdFx0dGhpcy5jb250ZXh0WzBdLm9Mb2FkZWRTdGF0ZSA6XG5cdFx0XHRudWxsO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggJ3N0YXRlLnNhdmUoKScsIGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBzZXR0aW5ncyApIHtcblx0XHRcdF9mblNhdmVTdGF0ZSggc2V0dGluZ3MgKTtcblx0XHR9ICk7XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIFByb3ZpZGUgYSBjb21tb24gbWV0aG9kIGZvciBwbHVnLWlucyB0byBjaGVjayB0aGUgdmVyc2lvbiBvZiBEYXRhVGFibGVzIGJlaW5nXG5cdCAqIHVzZWQsIGluIG9yZGVyIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5LlxuXHQgKlxuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gVmVyc2lvbiBzdHJpbmcgdG8gY2hlY2sgZm9yLCBpbiB0aGUgZm9ybWF0IFwiWC5ZLlpcIi5cblx0ICogICAgTm90ZSB0aGF0IHRoZSBmb3JtYXRzIFwiWFwiIGFuZCBcIlguWVwiIGFyZSBhbHNvIGFjY2VwdGFibGUuXG5cdCAqICBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIHZlcnNpb24gb2YgRGF0YVRhYmxlcyBpcyBncmVhdGVyIG9yIGVxdWFsIHRvXG5cdCAqICAgIHRoZSByZXF1aXJlZCB2ZXJzaW9uLCBvciBmYWxzZSBpZiB0aGlzIHZlcnNpb24gb2YgRGF0YVRhbGVzIGlzIG5vdFxuXHQgKiAgICBzdWl0YWJsZVxuXHQgKiAgQHN0YXRpY1xuXHQgKiAgQGR0b3B0IEFQSS1TdGF0aWNcblx0ICpcblx0ICogIEBleGFtcGxlXG5cdCAqICAgIGFsZXJ0KCAkLmZuLmRhdGFUYWJsZS52ZXJzaW9uQ2hlY2soICcxLjkuMCcgKSApO1xuXHQgKi9cblx0RGF0YVRhYmxlLnZlcnNpb25DaGVjayA9IERhdGFUYWJsZS5mblZlcnNpb25DaGVjayA9IGZ1bmN0aW9uKCB2ZXJzaW9uIClcblx0e1xuXHRcdHZhciBhVGhpcyA9IERhdGFUYWJsZS52ZXJzaW9uLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGFUaGF0ID0gdmVyc2lvbi5zcGxpdCgnLicpO1xuXHRcdHZhciBpVGhpcywgaVRoYXQ7XG5cdFxuXHRcdGZvciAoIHZhciBpPTAsIGlMZW49YVRoYXQubGVuZ3RoIDsgaTxpTGVuIDsgaSsrICkge1xuXHRcdFx0aVRoaXMgPSBwYXJzZUludCggYVRoaXNbaV0sIDEwICkgfHwgMDtcblx0XHRcdGlUaGF0ID0gcGFyc2VJbnQoIGFUaGF0W2ldLCAxMCApIHx8IDA7XG5cdFxuXHRcdFx0Ly8gUGFydHMgYXJlIHRoZSBzYW1lLCBrZWVwIGNvbXBhcmluZ1xuXHRcdFx0aWYgKGlUaGlzID09PSBpVGhhdCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBQYXJ0cyBhcmUgZGlmZmVyZW50LCByZXR1cm4gaW1tZWRpYXRlbHlcblx0XHRcdHJldHVybiBpVGhpcyA+IGlUaGF0O1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIGEgYDx0YWJsZT5gIG5vZGUgaXMgYSBEYXRhVGFibGUgdGFibGUgYWxyZWFkeSBvciBub3QuXG5cdCAqXG5cdCAqICBAcGFyYW0ge25vZGV8anF1ZXJ5fHN0cmluZ30gdGFibGUgVGFibGUgbm9kZSwgalF1ZXJ5IG9iamVjdCBvciBqUXVlcnlcblx0ICogICAgICBzZWxlY3RvciBmb3IgdGhlIHRhYmxlIHRvIHRlc3QuIE5vdGUgdGhhdCBpZiBtb3JlIHRoYW4gbW9yZSB0aGFuIG9uZVxuXHQgKiAgICAgIHRhYmxlIGlzIHBhc3NlZCBvbiwgb25seSB0aGUgZmlyc3Qgd2lsbCBiZSBjaGVja2VkXG5cdCAqICBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSB0aGUgdGFibGUgZ2l2ZW4gaXMgYSBEYXRhVGFibGUsIG9yIGZhbHNlIG90aGVyd2lzZVxuXHQgKiAgQHN0YXRpY1xuXHQgKiAgQGR0b3B0IEFQSS1TdGF0aWNcblx0ICpcblx0ICogIEBleGFtcGxlXG5cdCAqICAgIGlmICggISAkLmZuLkRhdGFUYWJsZS5pc0RhdGFUYWJsZSggJyNleGFtcGxlJyApICkge1xuXHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCk7XG5cdCAqICAgIH1cblx0ICovXG5cdERhdGFUYWJsZS5pc0RhdGFUYWJsZSA9IERhdGFUYWJsZS5mbklzRGF0YVRhYmxlID0gZnVuY3Rpb24gKCB0YWJsZSApXG5cdHtcblx0XHR2YXIgdCA9ICQodGFibGUpLmdldCgwKTtcblx0XHR2YXIgaXMgPSBmYWxzZTtcblx0XG5cdFx0JC5lYWNoKCBEYXRhVGFibGUuc2V0dGluZ3MsIGZ1bmN0aW9uIChpLCBvKSB7XG5cdFx0XHR2YXIgaGVhZCA9IG8ublNjcm9sbEhlYWQgPyAkKCd0YWJsZScsIG8ublNjcm9sbEhlYWQpWzBdIDogbnVsbDtcblx0XHRcdHZhciBmb290ID0gby5uU2Nyb2xsRm9vdCA/ICQoJ3RhYmxlJywgby5uU2Nyb2xsRm9vdClbMF0gOiBudWxsO1xuXHRcblx0XHRcdGlmICggby5uVGFibGUgPT09IHQgfHwgaGVhZCA9PT0gdCB8fCBmb290ID09PSB0ICkge1xuXHRcdFx0XHRpcyA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gaXM7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIEdldCBhbGwgRGF0YVRhYmxlIHRhYmxlcyB0aGF0IGhhdmUgYmVlbiBpbml0aWFsaXNlZCAtIG9wdGlvbmFsbHkgeW91IGNhblxuXHQgKiBzZWxlY3QgdG8gZ2V0IG9ubHkgY3VycmVudGx5IHZpc2libGUgdGFibGVzLlxuXHQgKlxuXHQgKiAgQHBhcmFtIHtib29sZWFufSBbdmlzaWJsZT1mYWxzZV0gRmxhZyB0byBpbmRpY2F0ZSBpZiB5b3Ugd2FudCBhbGwgKGRlZmF1bHQpXG5cdCAqICAgIG9yIHZpc2libGUgdGFibGVzIG9ubHkuXG5cdCAqICBAcmV0dXJucyB7YXJyYXl9IEFycmF5IG9mIGB0YWJsZWAgbm9kZXMgKG5vdCBEYXRhVGFibGUgaW5zdGFuY2VzKSB3aGljaCBhcmVcblx0ICogICAgRGF0YVRhYmxlc1xuXHQgKiAgQHN0YXRpY1xuXHQgKiAgQGR0b3B0IEFQSS1TdGF0aWNcblx0ICpcblx0ICogIEBleGFtcGxlXG5cdCAqICAgICQuZWFjaCggJC5mbi5kYXRhVGFibGUudGFibGVzKHRydWUpLCBmdW5jdGlvbiAoKSB7XG5cdCAqICAgICAgJCh0YWJsZSkuRGF0YVRhYmxlKCkuY29sdW1ucy5hZGp1c3QoKTtcblx0ICogICAgfSApO1xuXHQgKi9cblx0RGF0YVRhYmxlLnRhYmxlcyA9IERhdGFUYWJsZS5mblRhYmxlcyA9IGZ1bmN0aW9uICggdmlzaWJsZSApXG5cdHtcblx0XHR2YXIgYXBpID0gZmFsc2U7XG5cdFxuXHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCB2aXNpYmxlICkgKSB7XG5cdFx0XHRhcGkgPSB2aXNpYmxlLmFwaTtcblx0XHRcdHZpc2libGUgPSB2aXNpYmxlLnZpc2libGU7XG5cdFx0fVxuXHRcblx0XHR2YXIgYSA9ICQubWFwKCBEYXRhVGFibGUuc2V0dGluZ3MsIGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRpZiAoICF2aXNpYmxlIHx8ICh2aXNpYmxlICYmICQoby5uVGFibGUpLmlzKCc6dmlzaWJsZScpKSApIHtcblx0XHRcdFx0cmV0dXJuIG8ublRhYmxlO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIGFwaSA/XG5cdFx0XHRuZXcgX0FwaSggYSApIDpcblx0XHRcdGE7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIENvbnZlcnQgZnJvbSBjYW1lbCBjYXNlIHBhcmFtZXRlcnMgdG8gSHVuZ2FyaWFuIG5vdGF0aW9uLiBUaGlzIGlzIG1hZGUgcHVibGljXG5cdCAqIGZvciB0aGUgZXh0ZW5zaW9ucyB0byBwcm92aWRlIHRoZSBzYW1lIGFiaWxpdHkgYXMgRGF0YVRhYmxlcyBjb3JlIHRvIGFjY2VwdFxuXHQgKiBlaXRoZXIgdGhlIDEuOSBzdHlsZSBIdW5nYXJpYW4gbm90YXRpb24sIG9yIHRoZSAxLjEwKyBzdHlsZSBjYW1lbENhc2Vcblx0ICogcGFyYW1ldGVycy5cblx0ICpcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBzcmMgVGhlIG1vZGVsIG9iamVjdCB3aGljaCBob2xkcyBhbGwgcGFyYW1ldGVycyB0aGF0IGNhbiBiZVxuXHQgKiAgICBtYXBwZWQuXG5cdCAqICBAcGFyYW0ge29iamVjdH0gdXNlciBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgZnJvbSBjYW1lbCBjYXNlIHRvIEh1bmdhcmlhbi5cblx0ICogIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2UgV2hlbiBzZXQgdG8gYHRydWVgLCBwcm9wZXJ0aWVzIHdoaWNoIGFscmVhZHkgaGF2ZSBhXG5cdCAqICAgIEh1bmdhcmlhbiB2YWx1ZSBpbiB0aGUgYHVzZXJgIG9iamVjdCB3aWxsIGJlIG92ZXJ3cml0dGVuLiBPdGhlcndpc2UgdGhleVxuXHQgKiAgICB3b24ndCBiZS5cblx0ICovXG5cdERhdGFUYWJsZS5jYW1lbFRvSHVuZ2FyaWFuID0gX2ZuQ2FtZWxUb0h1bmdhcmlhbjtcblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRfYXBpX3JlZ2lzdGVyKCAnJCgpJywgZnVuY3Rpb24gKCBzZWxlY3Rvciwgb3B0cyApIHtcblx0XHR2YXJcblx0XHRcdHJvd3MgICA9IHRoaXMucm93cyggb3B0cyApLm5vZGVzKCksIC8vIEdldCBhbGwgcm93c1xuXHRcdFx0anFSb3dzID0gJChyb3dzKTtcblx0XG5cdFx0cmV0dXJuICQoIFtdLmNvbmNhdChcblx0XHRcdGpxUm93cy5maWx0ZXIoIHNlbGVjdG9yICkudG9BcnJheSgpLFxuXHRcdFx0anFSb3dzLmZpbmQoIHNlbGVjdG9yICkudG9BcnJheSgpXG5cdFx0KSApO1xuXHR9ICk7XG5cdFxuXHRcblx0Ly8galF1ZXJ5IGZ1bmN0aW9ucyB0byBvcGVyYXRlIG9uIHRoZSB0YWJsZXNcblx0JC5lYWNoKCBbICdvbicsICdvbmUnLCAnb2ZmJyBdLCBmdW5jdGlvbiAoaSwga2V5KSB7XG5cdFx0X2FwaV9yZWdpc3Rlcigga2V5KycoKScsIGZ1bmN0aW9uICggLyogZXZlbnQsIGhhbmRsZXIgKi8gKSB7XG5cdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdFxuXHRcdFx0Ly8gQWRkIHRoZSBgZHRgIG5hbWVzcGFjZSBhdXRvbWF0aWNhbGx5IGlmIGl0IGlzbid0IGFscmVhZHkgcHJlc2VudFxuXHRcdFx0aWYgKCAhIGFyZ3NbMF0ubWF0Y2goL1xcLmR0XFxiLykgKSB7XG5cdFx0XHRcdGFyZ3NbMF0gKz0gJy5kdCc7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGluc3QgPSAkKCB0aGlzLnRhYmxlcygpLm5vZGVzKCkgKTtcblx0XHRcdGluc3Rba2V5XS5hcHBseSggaW5zdCwgYXJncyApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0X2FwaV9yZWdpc3RlciggJ2NsZWFyKCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHRfZm5DbGVhclRhYmxlKCBzZXR0aW5ncyApO1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdzZXR0aW5ncygpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuZXcgX0FwaSggdGhpcy5jb250ZXh0LCB0aGlzLmNvbnRleHQgKTtcblx0fSApO1xuXHRcblx0XG5cdF9hcGlfcmVnaXN0ZXIoICdpbml0KCknLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGN0eCA9IHRoaXMuY29udGV4dDtcblx0XHRyZXR1cm4gY3R4Lmxlbmd0aCA/IGN0eFswXS5vSW5pdCA6IG51bGw7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnZGF0YSgpJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZXJhdG9yKCAndGFibGUnLCBmdW5jdGlvbiAoIHNldHRpbmdzICkge1xuXHRcdFx0cmV0dXJuIF9wbHVjayggc2V0dGluZ3MuYW9EYXRhLCAnX2FEYXRhJyApO1xuXHRcdH0gKS5mbGF0dGVuKCk7XG5cdH0gKTtcblx0XG5cdFxuXHRfYXBpX3JlZ2lzdGVyKCAnZGVzdHJveSgpJywgZnVuY3Rpb24gKCByZW1vdmUgKSB7XG5cdFx0cmVtb3ZlID0gcmVtb3ZlIHx8IGZhbHNlO1xuXHRcblx0XHRyZXR1cm4gdGhpcy5pdGVyYXRvciggJ3RhYmxlJywgZnVuY3Rpb24gKCBzZXR0aW5ncyApIHtcblx0XHRcdHZhciBvcmlnICAgICAgPSBzZXR0aW5ncy5uVGFibGVXcmFwcGVyLnBhcmVudE5vZGU7XG5cdFx0XHR2YXIgY2xhc3NlcyAgID0gc2V0dGluZ3Mub0NsYXNzZXM7XG5cdFx0XHR2YXIgdGFibGUgICAgID0gc2V0dGluZ3MublRhYmxlO1xuXHRcdFx0dmFyIHRib2R5ICAgICA9IHNldHRpbmdzLm5UQm9keTtcblx0XHRcdHZhciB0aGVhZCAgICAgPSBzZXR0aW5ncy5uVEhlYWQ7XG5cdFx0XHR2YXIgdGZvb3QgICAgID0gc2V0dGluZ3MublRGb290O1xuXHRcdFx0dmFyIGpxVGFibGUgICA9ICQodGFibGUpO1xuXHRcdFx0dmFyIGpxVGJvZHkgICA9ICQodGJvZHkpO1xuXHRcdFx0dmFyIGpxV3JhcHBlciA9ICQoc2V0dGluZ3MublRhYmxlV3JhcHBlcik7XG5cdFx0XHR2YXIgcm93cyAgICAgID0gJC5tYXAoIHNldHRpbmdzLmFvRGF0YSwgZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIublRyOyB9ICk7XG5cdFx0XHR2YXIgaSwgaWVuO1xuXHRcblx0XHRcdC8vIEZsYWcgdG8gbm90ZSB0aGF0IHRoZSB0YWJsZSBpcyBjdXJyZW50bHkgYmVpbmcgZGVzdHJveWVkIC0gbm8gYWN0aW9uXG5cdFx0XHQvLyBzaG91bGQgYmUgdGFrZW5cblx0XHRcdHNldHRpbmdzLmJEZXN0cm95aW5nID0gdHJ1ZTtcblx0XG5cdFx0XHQvLyBGaXJlIG9mZiB0aGUgZGVzdHJveSBjYWxsYmFja3MgZm9yIHBsdWctaW5zIGV0Y1xuXHRcdFx0X2ZuQ2FsbGJhY2tGaXJlKCBzZXR0aW5ncywgXCJhb0Rlc3Ryb3lDYWxsYmFja1wiLCBcImRlc3Ryb3lcIiwgW3NldHRpbmdzXSApO1xuXHRcblx0XHRcdC8vIElmIG5vdCBiZWluZyByZW1vdmVkIGZyb20gdGhlIGRvY3VtZW50LCBtYWtlIGFsbCBjb2x1bW5zIHZpc2libGVcblx0XHRcdGlmICggISByZW1vdmUgKSB7XG5cdFx0XHRcdG5ldyBfQXBpKCBzZXR0aW5ncyApLmNvbHVtbnMoKS52aXNpYmxlKCB0cnVlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQmxpdHogYWxsIGBEVGAgbmFtZXNwYWNlZCBldmVudHMgKHRoZXNlIGFyZSBpbnRlcm5hbCBldmVudHMsIHRoZVxuXHRcdFx0Ly8gbG93ZXJjYXNlLCBgZHRgIGV2ZW50cyBhcmUgdXNlciBzdWJzY3JpYmVkIGFuZCB0aGV5IGFyZSByZXNwb25zaWJsZVxuXHRcdFx0Ly8gZm9yIHJlbW92aW5nIHRoZW1cblx0XHRcdGpxV3JhcHBlci51bmJpbmQoJy5EVCcpLmZpbmQoJzpub3QodGJvZHkgKiknKS51bmJpbmQoJy5EVCcpO1xuXHRcdFx0JCh3aW5kb3cpLnVuYmluZCgnLkRULScrc2V0dGluZ3Muc0luc3RhbmNlKTtcblx0XG5cdFx0XHQvLyBXaGVuIHNjcm9sbGluZyB3ZSBoYWQgdG8gYnJlYWsgdGhlIHRhYmxlIHVwIC0gcmVzdG9yZSBpdFxuXHRcdFx0aWYgKCB0YWJsZSAhPSB0aGVhZC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRqcVRhYmxlLmNoaWxkcmVuKCd0aGVhZCcpLmRldGFjaCgpO1xuXHRcdFx0XHRqcVRhYmxlLmFwcGVuZCggdGhlYWQgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHRmb290ICYmIHRhYmxlICE9IHRmb290LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGpxVGFibGUuY2hpbGRyZW4oJ3Rmb290JykuZGV0YWNoKCk7XG5cdFx0XHRcdGpxVGFibGUuYXBwZW5kKCB0Zm9vdCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHNldHRpbmdzLmFhU29ydGluZyA9IFtdO1xuXHRcdFx0c2V0dGluZ3MuYWFTb3J0aW5nRml4ZWQgPSBbXTtcblx0XHRcdF9mblNvcnRpbmdDbGFzc2VzKCBzZXR0aW5ncyApO1xuXHRcblx0XHRcdCQoIHJvd3MgKS5yZW1vdmVDbGFzcyggc2V0dGluZ3MuYXNTdHJpcGVDbGFzc2VzLmpvaW4oJyAnKSApO1xuXHRcblx0XHRcdCQoJ3RoLCB0ZCcsIHRoZWFkKS5yZW1vdmVDbGFzcyggY2xhc3Nlcy5zU29ydGFibGUrJyAnK1xuXHRcdFx0XHRjbGFzc2VzLnNTb3J0YWJsZUFzYysnICcrY2xhc3Nlcy5zU29ydGFibGVEZXNjKycgJytjbGFzc2VzLnNTb3J0YWJsZU5vbmVcblx0XHRcdCk7XG5cdFxuXHRcdFx0aWYgKCBzZXR0aW5ncy5iSlVJICkge1xuXHRcdFx0XHQkKCd0aCBzcGFuLicrY2xhc3Nlcy5zU29ydEljb24rICcsIHRkIHNwYW4uJytjbGFzc2VzLnNTb3J0SWNvbiwgdGhlYWQpLmRldGFjaCgpO1xuXHRcdFx0XHQkKCd0aCwgdGQnLCB0aGVhZCkuZWFjaCggZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciB3cmFwcGVyID0gJCgnZGl2LicrY2xhc3Nlcy5zU29ydEpVSVdyYXBwZXIsIHRoaXMpO1xuXHRcdFx0XHRcdCQodGhpcykuYXBwZW5kKCB3cmFwcGVyLmNvbnRlbnRzKCkgKTtcblx0XHRcdFx0XHR3cmFwcGVyLmRldGFjaCgpO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWRkIHRoZSBUUiBlbGVtZW50cyBiYWNrIGludG8gdGhlIHRhYmxlIGluIHRoZWlyIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRqcVRib2R5LmNoaWxkcmVuKCkuZGV0YWNoKCk7XG5cdFx0XHRqcVRib2R5LmFwcGVuZCggcm93cyApO1xuXHRcblx0XHRcdC8vIFJlbW92ZSB0aGUgRGF0YVRhYmxlcyBnZW5lcmF0ZWQgbm9kZXMsIGV2ZW50cyBhbmQgY2xhc3Nlc1xuXHRcdFx0dmFyIHJlbW92ZWRNZXRob2QgPSByZW1vdmUgPyAncmVtb3ZlJyA6ICdkZXRhY2gnO1xuXHRcdFx0anFUYWJsZVsgcmVtb3ZlZE1ldGhvZCBdKCk7XG5cdFx0XHRqcVdyYXBwZXJbIHJlbW92ZWRNZXRob2QgXSgpO1xuXHRcblx0XHRcdC8vIElmIHdlIG5lZWQgdG8gcmVhdHRhY2ggdGhlIHRhYmxlIHRvIHRoZSBkb2N1bWVudFxuXHRcdFx0aWYgKCAhIHJlbW92ZSAmJiBvcmlnICkge1xuXHRcdFx0XHQvLyBpbnNlcnRCZWZvcmUgYWN0cyBsaWtlIGFwcGVuZENoaWxkIGlmICFhcmdbMV1cblx0XHRcdFx0b3JpZy5pbnNlcnRCZWZvcmUoIHRhYmxlLCBzZXR0aW5ncy5uVGFibGVSZWluc2VydEJlZm9yZSApO1xuXHRcblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgd2lkdGggb2YgdGhlIG9yaWdpbmFsIHRhYmxlIC0gd2FzIHJlYWQgZnJvbSB0aGUgc3R5bGUgcHJvcGVydHksXG5cdFx0XHRcdC8vIHNvIHdlIGNhbiByZXN0b3JlIGRpcmVjdGx5IHRvIHRoYXRcblx0XHRcdFx0anFUYWJsZVxuXHRcdFx0XHRcdC5jc3MoICd3aWR0aCcsIHNldHRpbmdzLnNEZXN0cm95V2lkdGggKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggY2xhc3Nlcy5zVGFibGUgKTtcblx0XG5cdFx0XHRcdC8vIElmIHRoZSB3ZXJlIG9yaWdpbmFsbHkgc3RyaXBlIGNsYXNzZXMgLSB0aGVuIHdlIGFkZCB0aGVtIGJhY2sgaGVyZS5cblx0XHRcdFx0Ly8gTm90ZSB0aGlzIGlzIG5vdCBmb29sIHByb29mIChmb3IgZXhhbXBsZSBpZiBub3QgYWxsIHJvd3MgaGFkIHN0cmlwZVxuXHRcdFx0XHQvLyBjbGFzc2VzIC0gYnV0IGl0J3MgYSBnb29kIGVmZm9ydCB3aXRob3V0IGdldHRpbmcgY2FycmllZCBhd2F5XG5cdFx0XHRcdGllbiA9IHNldHRpbmdzLmFzRGVzdHJveVN0cmlwZXMubGVuZ3RoO1xuXHRcblx0XHRcdFx0aWYgKCBpZW4gKSB7XG5cdFx0XHRcdFx0anFUYm9keS5jaGlsZHJlbigpLmVhY2goIGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCBzZXR0aW5ncy5hc0Rlc3Ryb3lTdHJpcGVzW2kgJSBpZW5dICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0LyogUmVtb3ZlIHRoZSBzZXR0aW5ncyBvYmplY3QgZnJvbSB0aGUgc2V0dGluZ3MgYXJyYXkgKi9cblx0XHRcdHZhciBpZHggPSAkLmluQXJyYXkoIHNldHRpbmdzLCBEYXRhVGFibGUuc2V0dGluZ3MgKTtcblx0XHRcdGlmICggaWR4ICE9PSAtMSApIHtcblx0XHRcdFx0RGF0YVRhYmxlLnNldHRpbmdzLnNwbGljZSggaWR4LCAxICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICk7XG5cdFxuXHRcblx0Ly8gQWRkIHRoZSBgZXZlcnkoKWAgbWV0aG9kIGZvciByb3dzLCBjb2x1bW5zIGFuZCBjZWxscyBpbiBhIGNvbXBhY3QgZm9ybVxuXHQkLmVhY2goIFsgJ2NvbHVtbicsICdyb3cnLCAnY2VsbCcgXSwgZnVuY3Rpb24gKCBpLCB0eXBlICkge1xuXHRcdF9hcGlfcmVnaXN0ZXIoIHR5cGUrJ3MoKS5ldmVyeSgpJywgZnVuY3Rpb24gKCBmbiApIHtcblx0XHRcdHZhciBvcHRzID0gdGhpcy5zZWxlY3Rvci5vcHRzO1xuXHRcdFx0dmFyIGFwaSA9IHRoaXM7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuaXRlcmF0b3IoIHR5cGUsIGZ1bmN0aW9uICggc2V0dGluZ3MsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQgKSB7XG5cdFx0XHRcdC8vIFJvd3MgYW5kIGNvbHVtbnM6XG5cdFx0XHRcdC8vICBhcmcxIC0gaW5kZXhcblx0XHRcdFx0Ly8gIGFyZzIgLSB0YWJsZSBjb3VudGVyXG5cdFx0XHRcdC8vICBhcmczIC0gbG9vcCBjb3VudGVyXG5cdFx0XHRcdC8vICBhcmc0IC0gdW5kZWZpbmVkXG5cdFx0XHRcdC8vIENlbGxzOlxuXHRcdFx0XHQvLyAgYXJnMSAtIHJvdyBpbmRleFxuXHRcdFx0XHQvLyAgYXJnMiAtIGNvbHVtbiBpbmRleFxuXHRcdFx0XHQvLyAgYXJnMyAtIHRhYmxlIGNvdW50ZXJcblx0XHRcdFx0Ly8gIGFyZzQgLSBsb29wIGNvdW50ZXJcblx0XHRcdFx0Zm4uY2FsbChcblx0XHRcdFx0XHRhcGlbIHR5cGUgXShcblx0XHRcdFx0XHRcdGFyZzEsXG5cdFx0XHRcdFx0XHR0eXBlPT09J2NlbGwnID8gYXJnMiA6IG9wdHMsXG5cdFx0XHRcdFx0XHR0eXBlPT09J2NlbGwnID8gb3B0cyA6IHVuZGVmaW5lZFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0YXJnMSwgYXJnMiwgYXJnMywgYXJnNFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdC8vIGkxOG4gbWV0aG9kIGZvciBleHRlbnNpb25zIHRvIGJlIGFibGUgdG8gdXNlIHRoZSBsYW5ndWFnZSBvYmplY3QgZnJvbSB0aGVcblx0Ly8gRGF0YVRhYmxlXG5cdF9hcGlfcmVnaXN0ZXIoICdpMThuKCknLCBmdW5jdGlvbiAoIHRva2VuLCBkZWYsIHBsdXJhbCApIHtcblx0XHR2YXIgY3R4ID0gdGhpcy5jb250ZXh0WzBdO1xuXHRcdHZhciByZXNvbHZlZCA9IF9mbkdldE9iamVjdERhdGFGbiggdG9rZW4gKSggY3R4Lm9MYW5ndWFnZSApO1xuXHRcblx0XHRpZiAoIHJlc29sdmVkID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXNvbHZlZCA9IGRlZjtcblx0XHR9XG5cdFxuXHRcdGlmICggcGx1cmFsICE9PSB1bmRlZmluZWQgJiYgJC5pc1BsYWluT2JqZWN0KCByZXNvbHZlZCApICkge1xuXHRcdFx0cmVzb2x2ZWQgPSByZXNvbHZlZFsgcGx1cmFsIF0gIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJlc29sdmVkWyBwbHVyYWwgXSA6XG5cdFx0XHRcdHJlc29sdmVkLl87XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gcmVzb2x2ZWQucmVwbGFjZSggJyVkJywgcGx1cmFsICk7IC8vIG5iOiBwbHVyYWwgbWlnaHQgYmUgdW5kZWZpbmVkLFxuXHR9ICk7XG5cdC8qKlxuXHQgKiBWZXJzaW9uIHN0cmluZyBmb3IgcGx1Zy1pbnMgdG8gY2hlY2sgY29tcGF0aWJpbGl0eS4gQWxsb3dlZCBmb3JtYXQgaXNcblx0ICogYGEuYi5jLWRgIHdoZXJlOiBhOmludCwgYjppbnQsIGM6aW50LCBkOnN0cmluZyhkZXZ8YmV0YXxhbHBoYSkuIGBkYCBpcyB1c2VkXG5cdCAqIG9ubHkgZm9yIG5vbi1yZWxlYXNlIGJ1aWxkcy4gU2VlIGh0dHA6Ly9zZW12ZXIub3JnLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogIEBtZW1iZXJcblx0ICogIEB0eXBlIHN0cmluZ1xuXHQgKiAgQGRlZmF1bHQgVmVyc2lvbiBudW1iZXJcblx0ICovXG5cdERhdGFUYWJsZS52ZXJzaW9uID0gXCIxLjEwLjEyXCI7XG5cblx0LyoqXG5cdCAqIFByaXZhdGUgZGF0YSBzdG9yZSwgY29udGFpbmluZyBhbGwgb2YgdGhlIHNldHRpbmdzIG9iamVjdHMgdGhhdCBhcmVcblx0ICogY3JlYXRlZCBmb3IgdGhlIHRhYmxlcyBvbiBhIGdpdmVuIHBhZ2UuXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCB0aGUgYERhdGFUYWJsZS5zZXR0aW5nc2Agb2JqZWN0IGlzIGFsaWFzZWQgdG9cblx0ICogYGpRdWVyeS5mbi5kYXRhVGFibGVFeHRgIHRocm91Z2ggd2hpY2ggaXQgbWF5IGJlIGFjY2Vzc2VkIGFuZFxuXHQgKiBtYW5pcHVsYXRlZCwgb3IgYGpRdWVyeS5mbi5kYXRhVGFibGUuc2V0dGluZ3NgLlxuXHQgKiAgQG1lbWJlclxuXHQgKiAgQHR5cGUgYXJyYXlcblx0ICogIEBkZWZhdWx0IFtdXG5cdCAqICBAcHJpdmF0ZVxuXHQgKi9cblx0RGF0YVRhYmxlLnNldHRpbmdzID0gW107XG5cblx0LyoqXG5cdCAqIE9iamVjdCBtb2RlbHMgY29udGFpbmVyLCBmb3IgdGhlIHZhcmlvdXMgbW9kZWxzIHRoYXQgRGF0YVRhYmxlcyBoYXNcblx0ICogYXZhaWxhYmxlIHRvIGl0LiBUaGVzZSBtb2RlbHMgZGVmaW5lIHRoZSBvYmplY3RzIHRoYXQgYXJlIHVzZWQgdG8gaG9sZFxuXHQgKiB0aGUgYWN0aXZlIHN0YXRlIGFuZCBjb25maWd1cmF0aW9uIG9mIHRoZSB0YWJsZS5cblx0ICogIEBuYW1lc3BhY2Vcblx0ICovXG5cdERhdGFUYWJsZS5tb2RlbHMgPSB7fTtcblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIFRlbXBsYXRlIG9iamVjdCBmb3IgdGhlIHdheSBpbiB3aGljaCBEYXRhVGFibGVzIGhvbGRzIGluZm9ybWF0aW9uIGFib3V0XG5cdCAqIHNlYXJjaCBpbmZvcm1hdGlvbiBmb3IgdGhlIGdsb2JhbCBmaWx0ZXIgYW5kIGluZGl2aWR1YWwgY29sdW1uIGZpbHRlcnMuXG5cdCAqICBAbmFtZXNwYWNlXG5cdCAqL1xuXHREYXRhVGFibGUubW9kZWxzLm9TZWFyY2ggPSB7XG5cdFx0LyoqXG5cdFx0ICogRmxhZyB0byBpbmRpY2F0ZSBpZiB0aGUgZmlsdGVyaW5nIHNob3VsZCBiZSBjYXNlIGluc2Vuc2l0aXZlIG9yIG5vdFxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKi9cblx0XHRcImJDYXNlSW5zZW5zaXRpdmVcIjogdHJ1ZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQXBwbGllZCBzZWFyY2ggdGVybVxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgPGk+RW1wdHkgc3RyaW5nPC9pPlxuXHRcdCAqL1xuXHRcdFwic1NlYXJjaFwiOiBcIlwiLFxuXHRcblx0XHQvKipcblx0XHQgKiBGbGFnIHRvIGluZGljYXRlIGlmIHRoZSBzZWFyY2ggdGVybSBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYVxuXHRcdCAqIHJlZ3VsYXIgZXhwcmVzc2lvbiAodHJ1ZSkgb3Igbm90IChmYWxzZSkgYW5kIHRoZXJlZm9yZSBhbmQgc3BlY2lhbFxuXHRcdCAqIHJlZ2V4IGNoYXJhY3RlcnMgZXNjYXBlZC5cblx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdCAqICBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqL1xuXHRcdFwiYlJlZ2V4XCI6IGZhbHNlLFxuXHRcblx0XHQvKipcblx0XHQgKiBGbGFnIHRvIGluZGljYXRlIGlmIERhdGFUYWJsZXMgaXMgdG8gdXNlIGl0cyBzbWFydCBmaWx0ZXJpbmcgb3Igbm90LlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKi9cblx0XHRcImJTbWFydFwiOiB0cnVlXG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHQvKipcblx0ICogVGVtcGxhdGUgb2JqZWN0IGZvciB0aGUgd2F5IGluIHdoaWNoIERhdGFUYWJsZXMgaG9sZHMgaW5mb3JtYXRpb24gYWJvdXRcblx0ICogZWFjaCBpbmRpdmlkdWFsIHJvdy4gVGhpcyBpcyB0aGUgb2JqZWN0IGZvcm1hdCB1c2VkIGZvciB0aGUgc2V0dGluZ3Ncblx0ICogYW9EYXRhIGFycmF5LlxuXHQgKiAgQG5hbWVzcGFjZVxuXHQgKi9cblx0RGF0YVRhYmxlLm1vZGVscy5vUm93ID0ge1xuXHRcdC8qKlxuXHRcdCAqIFRSIGVsZW1lbnQgZm9yIHRoZSByb3dcblx0XHQgKiAgQHR5cGUgbm9kZVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJuVHJcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogQXJyYXkgb2YgVEQgZWxlbWVudHMgZm9yIGVhY2ggcm93LiBUaGlzIGlzIG51bGwgdW50aWwgdGhlIHJvdyBoYXMgYmVlblxuXHRcdCAqIGNyZWF0ZWQuXG5cdFx0ICogIEB0eXBlIGFycmF5IG5vZGVzXG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhbkNlbGxzXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGEgb2JqZWN0IGZyb20gdGhlIG9yaWdpbmFsIGRhdGEgc291cmNlIGZvciB0aGUgcm93LiBUaGlzIGlzIGVpdGhlclxuXHRcdCAqIGFuIGFycmF5IGlmIHVzaW5nIHRoZSB0cmFkaXRpb25hbCBmb3JtIG9mIERhdGFUYWJsZXMsIG9yIGFuIG9iamVjdCBpZlxuXHRcdCAqIHVzaW5nIG1EYXRhIG9wdGlvbnMuIFRoZSBleGFjdCB0eXBlIHdpbGwgZGVwZW5kIG9uIHRoZSBwYXNzZWQgaW5cblx0XHQgKiBkYXRhIGZyb20gdGhlIGRhdGEgc291cmNlLCBvciB3aWxsIGJlIGFuIGFycmF5IGlmIHVzaW5nIERPTSBhIGRhdGFcblx0XHQgKiBzb3VyY2UuXG5cdFx0ICogIEB0eXBlIGFycmF5fG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiX2FEYXRhXCI6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBTb3J0aW5nIGRhdGEgY2FjaGUgLSB0aGlzIGFycmF5IGlzIG9zdGVuc2libHkgdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZVxuXHRcdCAqIG51bWJlciBvZiBjb2x1bW5zIChhbHRob3VnaCBlYWNoIGluZGV4IGlzIGdlbmVyYXRlZCBvbmx5IGFzIGl0IGlzXG5cdFx0ICogbmVlZGVkKSwgYW5kIGhvbGRzIHRoZSBkYXRhIHRoYXQgaXMgdXNlZCBmb3Igc29ydGluZyBlYWNoIGNvbHVtbiBpbiB0aGVcblx0XHQgKiByb3cuIFdlIGRvIHRoaXMgY2FjaGUgZ2VuZXJhdGlvbiBhdCB0aGUgc3RhcnQgb2YgdGhlIHNvcnQgaW4gb3JkZXIgdGhhdFxuXHRcdCAqIHRoZSBmb3JtYXR0aW5nIG9mIHRoZSBzb3J0IGRhdGEgbmVlZCBiZSBkb25lIG9ubHkgb25jZSBmb3IgZWFjaCBjZWxsXG5cdFx0ICogcGVyIHNvcnQuIFRoaXMgYXJyYXkgc2hvdWxkIG5vdCBiZSByZWFkIGZyb20gb3Igd3JpdHRlbiB0byBieSBhbnl0aGluZ1xuXHRcdCAqIG90aGVyIHRoYW4gdGhlIG1hc3RlciBzb3J0aW5nIG1ldGhvZHMuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKiAgQHByaXZhdGVcblx0XHQgKi9cblx0XHRcIl9hU29ydERhdGFcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogUGVyIGNlbGwgZmlsdGVyaW5nIGRhdGEgY2FjaGUuIEFzIHBlciB0aGUgc29ydCBkYXRhIGNhY2hlLCB1c2VkIHRvXG5cdFx0ICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXJpbmcgaW4gRGF0YVRhYmxlc1xuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICogIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0XCJfYUZpbHRlckRhdGFcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogRmlsdGVyaW5nIGRhdGEgY2FjaGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGNlbGwgZmlsdGVyaW5nIGNhY2hlLCBidXRcblx0XHQgKiBpbiB0aGlzIGNhc2UgYSBzdHJpbmcgcmF0aGVyIHRoYW4gYW4gYXJyYXkuIFRoaXMgaXMgZWFzaWx5IGNvbXB1dGVkIHdpdGhcblx0XHQgKiBhIGpvaW4gb24gYF9hRmlsdGVyRGF0YWAsIGJ1dCBpcyBwcm92aWRlZCBhcyBhIGNhY2hlIHNvIHRoZSBqb2luIGlzbid0XG5cdFx0ICogbmVlZGVkIG9uIGV2ZXJ5IHNlYXJjaCAobWVtb3J5IHRyYWRlZCBmb3IgcGVyZm9ybWFuY2UpXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKiAgQHByaXZhdGVcblx0XHQgKi9cblx0XHRcIl9zRmlsdGVyUm93XCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhY2hlIG9mIHRoZSBjbGFzcyBuYW1lIHRoYXQgRGF0YVRhYmxlcyBoYXMgYXBwbGllZCB0byB0aGUgcm93LCBzbyB3ZVxuXHRcdCAqIGNhbiBxdWlja2x5IGxvb2sgYXQgdGhpcyB2YXJpYWJsZSByYXRoZXIgdGhhbiBuZWVkaW5nIHRvIGRvIGEgRE9NIGNoZWNrXG5cdFx0ICogb24gY2xhc3NOYW1lIGZvciB0aGUgblRyIHByb3BlcnR5LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgPGk+RW1wdHkgc3RyaW5nPC9pPlxuXHRcdCAqICBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdFwiX3NSb3dTdHJpcGVcIjogXCJcIixcblx0XG5cdFx0LyoqXG5cdFx0ICogRGVub3RlIGlmIHRoZSBvcmlnaW5hbCBkYXRhIHNvdXJjZSB3YXMgZnJvbSB0aGUgRE9NLCBvciB0aGUgZGF0YSBzb3VyY2Vcblx0XHQgKiBvYmplY3QuIFRoaXMgaXMgdXNlZCBmb3IgaW52YWxpZGF0aW5nIGRhdGEsIHNvIERhdGFUYWJsZXMgY2FuXG5cdFx0ICogYXV0b21hdGljYWxseSByZWFkIGRhdGEgZnJvbSB0aGUgb3JpZ2luYWwgc291cmNlLCB1bmxlc3MgdW5pbnN0cnVjdGVkXG5cdFx0ICogb3RoZXJ3aXNlLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqICBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdFwic3JjXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluZGV4IGluIHRoZSBhb0RhdGEgYXJyYXkuIFRoaXMgc2F2ZXMgYW4gaW5kZXhPZiBsb29rdXAgd2hlbiB3ZSBoYXZlIHRoZVxuXHRcdCAqIG9iamVjdCwgYnV0IHdhbnQgdG8ga25vdyB0aGUgaW5kZXhcblx0XHQgKiAgQHR5cGUgaW50ZWdlclxuXHRcdCAqICBAZGVmYXVsdCAtMVxuXHRcdCAqICBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdFwiaWR4XCI6IC0xXG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIFRlbXBsYXRlIG9iamVjdCBmb3IgdGhlIGNvbHVtbiBpbmZvcm1hdGlvbiBvYmplY3QgaW4gRGF0YVRhYmxlcy4gVGhpcyBvYmplY3Rcblx0ICogaXMgaGVsZCBpbiB0aGUgc2V0dGluZ3MgYW9Db2x1bW5zIGFycmF5IGFuZCBjb250YWlucyBhbGwgdGhlIGluZm9ybWF0aW9uIHRoYXRcblx0ICogRGF0YVRhYmxlcyBuZWVkcyBhYm91dCBlYWNoIGluZGl2aWR1YWwgY29sdW1uLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhpcyBvYmplY3QgaXMgcmVsYXRlZCB0byB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbn1cblx0ICogYnV0IHRoaXMgb25lIGlzIHRoZSBpbnRlcm5hbCBkYXRhIHN0b3JlIGZvciBEYXRhVGFibGVzJ3MgY2FjaGUgb2YgY29sdW1ucy5cblx0ICogSXQgc2hvdWxkIE5PVCBiZSBtYW5pcHVsYXRlZCBvdXRzaWRlIG9mIERhdGFUYWJsZXMuIEFueSBjb25maWd1cmF0aW9uIHNob3VsZFxuXHQgKiBiZSBkb25lIHRocm91Z2ggdGhlIGluaXRpYWxpc2F0aW9uIG9wdGlvbnMuXG5cdCAqICBAbmFtZXNwYWNlXG5cdCAqL1xuXHREYXRhVGFibGUubW9kZWxzLm9Db2x1bW4gPSB7XG5cdFx0LyoqXG5cdFx0ICogQ29sdW1uIGluZGV4LiBUaGlzIGNvdWxkIGJlIHdvcmtlZCBvdXQgb24tdGhlLWZseSB3aXRoICQuaW5BcnJheSwgYnV0IGl0XG5cdFx0ICogaXMgZmFzdGVyIHRvIGp1c3QgaG9sZCBpdCBhcyBhIHZhcmlhYmxlXG5cdFx0ICogIEB0eXBlIGludGVnZXJcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwiaWR4XCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEEgbGlzdCBvZiB0aGUgY29sdW1ucyB0aGF0IHNvcnRpbmcgc2hvdWxkIG9jY3VyIG9uIHdoZW4gdGhpcyBjb2x1bW5cblx0XHQgKiBpcyBzb3J0ZWQuIFRoYXQgdGhpcyBwcm9wZXJ0eSBpcyBhbiBhcnJheSBhbGxvd3MgbXVsdGktY29sdW1uIHNvcnRpbmdcblx0XHQgKiB0byBiZSBkZWZpbmVkIGZvciBhIGNvbHVtbiAoZm9yIGV4YW1wbGUgZmlyc3QgbmFtZSAvIGxhc3QgbmFtZSBjb2x1bW5zXG5cdFx0ICogd291bGQgYmVuZWZpdCBmcm9tIHRoaXMpLiBUaGUgdmFsdWVzIGFyZSBpbnRlZ2VycyBwb2ludGluZyB0byB0aGVcblx0XHQgKiBjb2x1bW5zIHRvIGJlIHNvcnRlZCBvbiAodHlwaWNhbGx5IGl0IHdpbGwgYmUgYSBzaW5nbGUgaW50ZWdlciBwb2ludGluZ1xuXHRcdCAqIGF0IGl0c2VsZiwgYnV0IHRoYXQgZG9lc24ndCBuZWVkIHRvIGJlIHRoZSBjYXNlKS5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKi9cblx0XHRcImFEYXRhU29ydFwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBEZWZpbmUgdGhlIHNvcnRpbmcgZGlyZWN0aW9ucyB0aGF0IGFyZSBhcHBsaWVkIHRvIHRoZSBjb2x1bW4sIGluIHNlcXVlbmNlXG5cdFx0ICogYXMgdGhlIGNvbHVtbiBpcyByZXBlYXRlZGx5IHNvcnRlZCB1cG9uIC0gaS5lLiB0aGUgZmlyc3QgdmFsdWUgaXMgdXNlZFxuXHRcdCAqIGFzIHRoZSBzb3J0aW5nIGRpcmVjdGlvbiB3aGVuIHRoZSBjb2x1bW4gaWYgZmlyc3Qgc29ydGVkIChjbGlja2VkIG9uKS5cblx0XHQgKiBTb3J0IGl0IGFnYWluIChjbGljayBhZ2FpbikgYW5kIGl0IHdpbGwgbW92ZSBvbiB0byB0aGUgbmV4dCBpbmRleC5cblx0XHQgKiBSZXBlYXQgdW50aWwgbG9vcC5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKi9cblx0XHRcImFzU29ydGluZ1wiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBGbGFnIHRvIGluZGljYXRlIGlmIHRoZSBjb2x1bW4gaXMgc2VhcmNoYWJsZSwgYW5kIHRodXMgc2hvdWxkIGJlIGluY2x1ZGVkXG5cdFx0ICogaW4gdGhlIGZpbHRlcmluZyBvciBub3QuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKi9cblx0XHRcImJTZWFyY2hhYmxlXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZsYWcgdG8gaW5kaWNhdGUgaWYgdGhlIGNvbHVtbiBpcyBzb3J0YWJsZSBvciBub3QuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKi9cblx0XHRcImJTb3J0YWJsZVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBGbGFnIHRvIGluZGljYXRlIGlmIHRoZSBjb2x1bW4gaXMgY3VycmVudGx5IHZpc2libGUgaW4gdGhlIHRhYmxlIG9yIG5vdFxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICovXG5cdFx0XCJiVmlzaWJsZVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBTdG9yZSBmb3IgbWFudWFsIHR5cGUgYXNzaWdubWVudCB1c2luZyB0aGUgYGNvbHVtbi50eXBlYCBvcHRpb24uIFRoaXNcblx0XHQgKiBpcyBoZWxkIGluIHN0b3JlIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZSBjb2x1bW4ncyBgc1R5cGVgIHByb3BlcnR5LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqICBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdFwiX3NNYW51YWxUeXBlXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZsYWcgdG8gaW5kaWNhdGUgaWYgSFRNTDUgZGF0YSBhdHRyaWJ1dGVzIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBkYXRhXG5cdFx0ICogc291cmNlIGZvciBmaWx0ZXJpbmcgb3Igc29ydGluZy4gVHJ1ZSBpcyBlaXRoZXIgYXJlLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICogIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0XCJfYkF0dHJTcmNcIjogZmFsc2UsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERldmVsb3BlciBkZWZpbmFibGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbmV2ZXIgYSBjZWxsIGlzIGNyZWF0ZWQgKEFqYXggc291cmNlLFxuXHRcdCAqIGV0Yykgb3IgcHJvY2Vzc2VkIGZvciBpbnB1dCAoRE9NIHNvdXJjZSkuIFRoaXMgY2FuIGJlIHVzZWQgYXMgYSBjb21wbGltZW50IHRvIG1SZW5kZXJcblx0XHQgKiBhbGxvd2luZyB5b3UgdG8gbW9kaWZ5IHRoZSBET00gZWxlbWVudCAoYWRkIGJhY2tncm91bmQgY29sb3VyIGZvciBleGFtcGxlKSB3aGVuIHRoZVxuXHRcdCAqIGVsZW1lbnQgaXMgYXZhaWxhYmxlLlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge2VsZW1lbnR9IG5UZCBUaGUgVEQgbm9kZSB0aGF0IGhhcyBiZWVuIGNyZWF0ZWRcblx0XHQgKiAgQHBhcmFtIHsqfSBzRGF0YSBUaGUgRGF0YSBmb3IgdGhlIGNlbGxcblx0XHQgKiAgQHBhcmFtIHthcnJheXxvYmplY3R9IG9EYXRhIFRoZSBkYXRhIGZvciB0aGUgd2hvbGUgcm93XG5cdFx0ICogIEBwYXJhbSB7aW50fSBpUm93IFRoZSByb3cgaW5kZXggZm9yIHRoZSBhb0RhdGEgZGF0YSBzdG9yZVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJmbkNyZWF0ZWRDZWxsXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGdldCBkYXRhIGZyb20gYSBjZWxsIGluIGEgY29sdW1uLiBZb3Ugc2hvdWxkIDxiPm5ldmVyPC9iPlxuXHRcdCAqIGFjY2VzcyBkYXRhIGRpcmVjdGx5IHRocm91Z2ggX2FEYXRhIGludGVybmFsbHkgaW4gRGF0YVRhYmxlcyAtIGFsd2F5cyB1c2Vcblx0XHQgKiB0aGUgbWV0aG9kIGF0dGFjaGVkIHRvIHRoaXMgcHJvcGVydHkuIEl0IGFsbG93cyBtRGF0YSB0byBmdW5jdGlvbiBhc1xuXHRcdCAqIHJlcXVpcmVkLiBUaGlzIGZ1bmN0aW9uIGlzIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgYnkgdGhlIGNvbHVtblxuXHRcdCAqIGluaXRpYWxpc2F0aW9uIG1ldGhvZFxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge2FycmF5fG9iamVjdH0gb0RhdGEgVGhlIGRhdGEgYXJyYXkvb2JqZWN0IGZvciB0aGUgYXJyYXlcblx0XHQgKiAgICAoaS5lLiBhb0RhdGFbXS5fYURhdGEpXG5cdFx0ICogIEBwYXJhbSB7c3RyaW5nfSBzU3BlY2lmaWMgVGhlIHNwZWNpZmljIGRhdGEgdHlwZSB5b3Ugd2FudCB0byBnZXQgLVxuXHRcdCAqICAgICdkaXNwbGF5JywgJ3R5cGUnICdmaWx0ZXInICdzb3J0J1xuXHRcdCAqICBAcmV0dXJucyB7Kn0gVGhlIGRhdGEgZm9yIHRoZSBjZWxsIGZyb20gdGhlIGdpdmVuIHJvdydzIGRhdGFcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwiZm5HZXREYXRhXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIHNldCBkYXRhIGZvciBhIGNlbGwgaW4gdGhlIGNvbHVtbi4gWW91IHNob3VsZCA8Yj5uZXZlcjwvYj5cblx0XHQgKiBzZXQgdGhlIGRhdGEgZGlyZWN0bHkgdG8gX2FEYXRhIGludGVybmFsbHkgaW4gRGF0YVRhYmxlcyAtIGFsd2F5cyB1c2Vcblx0XHQgKiB0aGlzIG1ldGhvZC4gSXQgYWxsb3dzIG1EYXRhIHRvIGZ1bmN0aW9uIGFzIHJlcXVpcmVkLiBUaGlzIGZ1bmN0aW9uXG5cdFx0ICogaXMgYXV0b21hdGljYWxseSBhc3NpZ25lZCBieSB0aGUgY29sdW1uIGluaXRpYWxpc2F0aW9uIG1ldGhvZFxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge2FycmF5fG9iamVjdH0gb0RhdGEgVGhlIGRhdGEgYXJyYXkvb2JqZWN0IGZvciB0aGUgYXJyYXlcblx0XHQgKiAgICAoaS5lLiBhb0RhdGFbXS5fYURhdGEpXG5cdFx0ICogIEBwYXJhbSB7Kn0gc1ZhbHVlIFZhbHVlIHRvIHNldFxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJmblNldERhdGFcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogUHJvcGVydHkgdG8gcmVhZCB0aGUgdmFsdWUgZm9yIHRoZSBjZWxscyBpbiB0aGUgY29sdW1uIGZyb20gdGhlIGRhdGFcblx0XHQgKiBzb3VyY2UgYXJyYXkgLyBvYmplY3QuIElmIG51bGwsIHRoZW4gdGhlIGRlZmF1bHQgY29udGVudCBpcyB1c2VkLCBpZiBhXG5cdFx0ICogZnVuY3Rpb24gaXMgZ2l2ZW4gdGhlbiB0aGUgcmV0dXJuIGZyb20gdGhlIGZ1bmN0aW9uIGlzIHVzZWQuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9ufGludHxzdHJpbmd8bnVsbFxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJtRGF0YVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBQYXJ0bmVyIHByb3BlcnR5IHRvIG1EYXRhIHdoaWNoIGlzIHVzZWQgKG9ubHkgd2hlbiBkZWZpbmVkKSB0byBnZXRcblx0XHQgKiB0aGUgZGF0YSAtIGkuZS4gaXQgaXMgYmFzaWNhbGx5IHRoZSBzYW1lIGFzIG1EYXRhLCBidXQgd2l0aG91dCB0aGVcblx0XHQgKiAnc2V0JyBvcHRpb24sIGFuZCBhbHNvIHRoZSBkYXRhIGZlZCB0byBpdCBpcyB0aGUgcmVzdWx0IGZyb20gbURhdGEuXG5cdFx0ICogVGhpcyBpcyB0aGUgcmVuZGVyaW5nIG1ldGhvZCB0byBtYXRjaCB0aGUgZGF0YSBtZXRob2Qgb2YgbURhdGEuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9ufGludHxzdHJpbmd8bnVsbFxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJtUmVuZGVyXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFVuaXF1ZSBoZWFkZXIgVEgvVEQgZWxlbWVudCBmb3IgdGhpcyBjb2x1bW4gLSB0aGlzIGlzIHdoYXQgdGhlIHNvcnRpbmdcblx0XHQgKiBsaXN0ZW5lciBpcyBhdHRhY2hlZCB0byAoaWYgc29ydGluZyBpcyBlbmFibGVkLilcblx0XHQgKiAgQHR5cGUgbm9kZVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJuVGhcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogVW5pcXVlIGZvb3RlciBUSC9URCBlbGVtZW50IGZvciB0aGlzIGNvbHVtbiAoaWYgdGhlcmUgaXMgb25lKS4gTm90IHVzZWRcblx0XHQgKiBpbiBEYXRhVGFibGVzIGFzIHN1Y2gsIGJ1dCBjYW4gYmUgdXNlZCBmb3IgcGx1Zy1pbnMgdG8gcmVmZXJlbmNlIHRoZVxuXHRcdCAqIGZvb3RlciBmb3IgZWFjaCBjb2x1bW4uXG5cdFx0ICogIEB0eXBlIG5vZGVcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwiblRmXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjbGFzcyB0byBhcHBseSB0byBhbGwgVEQgZWxlbWVudHMgaW4gdGhlIHRhYmxlJ3MgVEJPRFkgZm9yIHRoZSBjb2x1bW5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcInNDbGFzc1wiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBXaGVuIERhdGFUYWJsZXMgY2FsY3VsYXRlcyB0aGUgY29sdW1uIHdpZHRocyB0byBhc3NpZ24gdG8gZWFjaCBjb2x1bW4sXG5cdFx0ICogaXQgZmluZHMgdGhlIGxvbmdlc3Qgc3RyaW5nIGluIGVhY2ggY29sdW1uIGFuZCB0aGVuIGNvbnN0cnVjdHMgYVxuXHRcdCAqIHRlbXBvcmFyeSB0YWJsZSBhbmQgcmVhZHMgdGhlIHdpZHRocyBmcm9tIHRoYXQuIFRoZSBwcm9ibGVtIHdpdGggdGhpc1xuXHRcdCAqIGlzIHRoYXQgXCJtbW1cIiBpcyBtdWNoIHdpZGVyIHRoZW4gXCJpaWlpXCIsIGJ1dCB0aGUgbGF0dGVyIGlzIGEgbG9uZ2VyXG5cdFx0ICogc3RyaW5nIC0gdGh1cyB0aGUgY2FsY3VsYXRpb24gY2FuIGdvIHdyb25nIChkb2luZyBpdCBwcm9wZXJseSBhbmQgcHV0dGluZ1xuXHRcdCAqIGl0IGludG8gYW4gRE9NIG9iamVjdCBhbmQgbWVhc3VyaW5nIHRoYXQgaXMgaG9ycmlibHkoISkgc2xvdykuIFRodXMgYXNcblx0XHQgKiBhIFwid29yayBhcm91bmRcIiB3ZSBwcm92aWRlIHRoaXMgb3B0aW9uLiBJdCB3aWxsIGFwcGVuZCBpdHMgdmFsdWUgdG8gdGhlXG5cdFx0ICogdGV4dCB0aGF0IGlzIGZvdW5kIHRvIGJlIHRoZSBsb25nZXN0IHN0cmluZyBmb3IgdGhlIGNvbHVtbiAtIGkuZS4gcGFkZGluZy5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICovXG5cdFx0XCJzQ29udGVudFBhZGRpbmdcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogQWxsb3dzIGEgZGVmYXVsdCB2YWx1ZSB0byBiZSBnaXZlbiBmb3IgYSBjb2x1bW4ncyBkYXRhLCBhbmQgd2lsbCBiZSB1c2VkXG5cdFx0ICogd2hlbmV2ZXIgYSBudWxsIGRhdGEgc291cmNlIGlzIGVuY291bnRlcmVkICh0aGlzIGNhbiBiZSBiZWNhdXNlIG1EYXRhXG5cdFx0ICogaXMgc2V0IHRvIG51bGwsIG9yIGJlY2F1c2UgdGhlIGRhdGEgc291cmNlIGl0c2VsZiBpcyBudWxsKS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcInNEZWZhdWx0Q29udGVudFwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBOYW1lIGZvciB0aGUgY29sdW1uLCBhbGxvd2luZyByZWZlcmVuY2UgdG8gdGhlIGNvbHVtbiBieSBuYW1lIGFzIHdlbGwgYXNcblx0XHQgKiBieSBpbmRleCAobmVlZHMgYSBsb29rdXAgdG8gd29yayBieSBuYW1lKS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICovXG5cdFx0XCJzTmFtZVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBDdXN0b20gc29ydGluZyBkYXRhIHR5cGUgLSBkZWZpbmVzIHdoaWNoIG9mIHRoZSBhdmFpbGFibGUgcGx1Zy1pbnMgaW5cblx0XHQgKiBhZm5Tb3J0RGF0YSB0aGUgY3VzdG9tIHNvcnRpbmcgd2lsbCB1c2UgLSBpZiBhbnkgaXMgZGVmaW5lZC5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IHN0ZFxuXHRcdCAqL1xuXHRcdFwic1NvcnREYXRhVHlwZVwiOiAnc3RkJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2xhc3MgdG8gYmUgYXBwbGllZCB0byB0aGUgaGVhZGVyIGVsZW1lbnQgd2hlbiBzb3J0aW5nIG9uIHRoaXMgY29sdW1uXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJzU29ydGluZ0NsYXNzXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsYXNzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGhlYWRlciBlbGVtZW50IHdoZW4gc29ydGluZyBvbiB0aGlzIGNvbHVtbiAtXG5cdFx0ICogd2hlbiBqUXVlcnkgVUkgdGhlbWluZyBpcyB1c2VkLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwic1NvcnRpbmdDbGFzc0pVSVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBUaXRsZSBvZiB0aGUgY29sdW1uIC0gd2hhdCBpcyBzZWVuIGluIHRoZSBUSCBlbGVtZW50IChuVGgpLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKi9cblx0XHRcInNUaXRsZVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBDb2x1bW4gc29ydGluZyBhbmQgZmlsdGVyaW5nIHR5cGVcblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcInNUeXBlXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFdpZHRoIG9mIHRoZSBjb2x1bW5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcInNXaWR0aFwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBXaWR0aCBvZiB0aGUgY29sdW1uIHdoZW4gaXQgd2FzIGZpcnN0IFwiZW5jb3VudGVyZWRcIlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwic1dpZHRoT3JpZ1wiOiBudWxsXG5cdH07XG5cdFxuXHRcblx0Lypcblx0ICogRGV2ZWxvcGVyIG5vdGU6IFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYmVsb3cgYXJlIGdpdmVuIGluIEh1bmdhcmlhblxuXHQgKiBub3RhdGlvbiwgdGhhdCB3YXMgdXNlZCBhcyB0aGUgaW50ZXJmYWNlIGZvciBEYXRhVGFibGVzIHByaW9yIHRvIHYxLjEwLCBob3dldmVyXG5cdCAqIGZyb20gdjEuMTAgb253YXJkcyB0aGUgcHJpbWFyeSBpbnRlcmZhY2UgaXMgY2FtZWwgY2FzZS4gSW4gb3JkZXIgdG8gYXZvaWRcblx0ICogYnJlYWtpbmcgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdXR0ZXJseSB3aXRoIHRoaXMgY2hhbmdlLCB0aGUgSHVuZ2FyaWFuXG5cdCAqIHZlcnNpb24gaXMgc3RpbGwsIGludGVybmFsbHkgdGhlIHByaW1hcnkgaW50ZXJmYWNlLCBidXQgaXMgaXMgbm90IGRvY3VtZW50ZWRcblx0ICogLSBoZW5jZSB0aGUgQG5hbWUgdGFncyBpbiBlYWNoIGRvYyBjb21tZW50LiBUaGlzIGFsbG93cyBhIEphdmFzY3JpcHQgZnVuY3Rpb25cblx0ICogdG8gY3JlYXRlIGEgbWFwIGZyb20gSHVuZ2FyaWFuIG5vdGF0aW9uIHRvIGNhbWVsIGNhc2UgKGdvaW5nIHRoZSBvdGhlciBkaXJlY3Rpb25cblx0ICogd291bGQgcmVxdWlyZSBlYWNoIHByb3BlcnR5IHRvIGJlIGxpc3RlZCwgd2hpY2ggd291bGQgYXQgYXJvdW5kIDNLIHRvIHRoZSBzaXplXG5cdCAqIG9mIERhdGFUYWJsZXMsIHdoaWxlIHRoaXMgbWV0aG9kIGlzIGFib3V0IGEgMC41SyBoaXQuXG5cdCAqXG5cdCAqIFVsdGltYXRlbHkgdGhpcyBkb2VzIHBhdmUgdGhlIHdheSBmb3IgSHVuZ2FyaWFuIG5vdGF0aW9uIHRvIGJlIGRyb3BwZWRcblx0ICogY29tcGxldGVseSwgYnV0IHRoYXQgaXMgYSBtYXNzaXZlIGFtb3VudCBvZiB3b3JrIGFuZCB3aWxsIGJyZWFrIGN1cnJlbnRcblx0ICogaW5zdGFsbHMgKHRoZXJlZm9yZSBpcyBvbi1ob2xkIHVudGlsIHYyKS5cblx0ICovXG5cdFxuXHQvKipcblx0ICogSW5pdGlhbGlzYXRpb24gb3B0aW9ucyB0aGF0IGNhbiBiZSBnaXZlbiB0byBEYXRhVGFibGVzIGF0IGluaXRpYWxpc2F0aW9uXG5cdCAqIHRpbWUuXG5cdCAqICBAbmFtZXNwYWNlXG5cdCAqL1xuXHREYXRhVGFibGUuZGVmYXVsdHMgPSB7XG5cdFx0LyoqXG5cdFx0ICogQW4gYXJyYXkgb2YgZGF0YSB0byB1c2UgZm9yIHRoZSB0YWJsZSwgcGFzc2VkIGluIGF0IGluaXRpYWxpc2F0aW9uIHdoaWNoXG5cdFx0ICogd2lsbCBiZSB1c2VkIGluIHByZWZlcmVuY2UgdG8gYW55IGRhdGEgd2hpY2ggaXMgYWxyZWFkeSBpbiB0aGUgRE9NLiBUaGlzIGlzXG5cdFx0ICogcGFydGljdWxhcmx5IHVzZWZ1bCBmb3IgY29uc3RydWN0aW5nIHRhYmxlcyBwdXJlbHkgaW4gSmF2YXNjcmlwdCwgZm9yXG5cdFx0ICogZXhhbXBsZSB3aXRoIGEgY3VzdG9tIEFqYXggY2FsbC5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25cblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmRhdGFcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGEgMkQgYXJyYXkgZGF0YSBzb3VyY2Vcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJkYXRhXCI6IFtcblx0XHQgKiAgICAgICAgICBbJ1RyaWRlbnQnLCAnSW50ZXJuZXQgRXhwbG9yZXIgNC4wJywgJ1dpbiA5NSsnLCA0LCAnWCddLFxuXHRcdCAqICAgICAgICAgIFsnVHJpZGVudCcsICdJbnRlcm5ldCBFeHBsb3JlciA1LjAnLCAnV2luIDk1KycsIDUsICdDJ10sXG5cdFx0ICogICAgICAgIF0sXG5cdFx0ICogICAgICAgIFwiY29sdW1uc1wiOiBbXG5cdFx0ICogICAgICAgICAgeyBcInRpdGxlXCI6IFwiRW5naW5lXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwidGl0bGVcIjogXCJCcm93c2VyXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwidGl0bGVcIjogXCJQbGF0Zm9ybVwiIH0sXG5cdFx0ICogICAgICAgICAgeyBcInRpdGxlXCI6IFwiVmVyc2lvblwiIH0sXG5cdFx0ICogICAgICAgICAgeyBcInRpdGxlXCI6IFwiR3JhZGVcIiB9XG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBhbiBhcnJheSBvZiBvYmplY3RzIGFzIGEgZGF0YSBzb3VyY2UgKGBkYXRhYClcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJkYXRhXCI6IFtcblx0XHQgKiAgICAgICAgICB7XG5cdFx0ICogICAgICAgICAgICBcImVuZ2luZVwiOiAgIFwiVHJpZGVudFwiLFxuXHRcdCAqICAgICAgICAgICAgXCJicm93c2VyXCI6ICBcIkludGVybmV0IEV4cGxvcmVyIDQuMFwiLFxuXHRcdCAqICAgICAgICAgICAgXCJwbGF0Zm9ybVwiOiBcIldpbiA5NStcIixcblx0XHQgKiAgICAgICAgICAgIFwidmVyc2lvblwiOiAgNCxcblx0XHQgKiAgICAgICAgICAgIFwiZ3JhZGVcIjogICAgXCJYXCJcblx0XHQgKiAgICAgICAgICB9LFxuXHRcdCAqICAgICAgICAgIHtcblx0XHQgKiAgICAgICAgICAgIFwiZW5naW5lXCI6ICAgXCJUcmlkZW50XCIsXG5cdFx0ICogICAgICAgICAgICBcImJyb3dzZXJcIjogIFwiSW50ZXJuZXQgRXhwbG9yZXIgNS4wXCIsXG5cdFx0ICogICAgICAgICAgICBcInBsYXRmb3JtXCI6IFwiV2luIDk1K1wiLFxuXHRcdCAqICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6ICA1LFxuXHRcdCAqICAgICAgICAgICAgXCJncmFkZVwiOiAgICBcIkNcIlxuXHRcdCAqICAgICAgICAgIH1cblx0XHQgKiAgICAgICAgXSxcblx0XHQgKiAgICAgICAgXCJjb2x1bW5zXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwidGl0bGVcIjogXCJFbmdpbmVcIiwgICBcImRhdGFcIjogXCJlbmdpbmVcIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJ0aXRsZVwiOiBcIkJyb3dzZXJcIiwgIFwiZGF0YVwiOiBcImJyb3dzZXJcIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJ0aXRsZVwiOiBcIlBsYXRmb3JtXCIsIFwiZGF0YVwiOiBcInBsYXRmb3JtXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwidGl0bGVcIjogXCJWZXJzaW9uXCIsICBcImRhdGFcIjogXCJ2ZXJzaW9uXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwidGl0bGVcIjogXCJHcmFkZVwiLCAgICBcImRhdGFcIjogXCJncmFkZVwiIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImFhRGF0YVwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogSWYgb3JkZXJpbmcgaXMgZW5hYmxlZCwgdGhlbiBEYXRhVGFibGVzIHdpbGwgcGVyZm9ybSBhIGZpcnN0IHBhc3Mgc29ydCBvblxuXHRcdCAqIGluaXRpYWxpc2F0aW9uLiBZb3UgY2FuIGRlZmluZSB3aGljaCBjb2x1bW4ocykgdGhlIHNvcnQgaXMgcGVyZm9ybWVkXG5cdFx0ICogdXBvbiwgYW5kIHRoZSBzb3J0aW5nIGRpcmVjdGlvbiwgd2l0aCB0aGlzIHZhcmlhYmxlLiBUaGUgYHNvcnRpbmdgIGFycmF5XG5cdFx0ICogc2hvdWxkIGNvbnRhaW4gYW4gYXJyYXkgZm9yIGVhY2ggY29sdW1uIHRvIGJlIHNvcnRlZCBpbml0aWFsbHkgY29udGFpbmluZ1xuXHRcdCAqIHRoZSBjb2x1bW4ncyBpbmRleCBhbmQgYSBkaXJlY3Rpb24gc3RyaW5nICgnYXNjJyBvciAnZGVzYycpLlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbWzAsJ2FzYyddXVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25cblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLm9yZGVyXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBTb3J0IGJ5IDNyZCBjb2x1bW4gZmlyc3QsIGFuZCB0aGVuIDR0aCBjb2x1bW5cblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcIm9yZGVyXCI6IFtbMiwnYXNjJ10sIFszLCdkZXNjJ11dXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogICAgLy8gTm8gaW5pdGlhbCBzb3J0aW5nXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJvcmRlclwiOiBbXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImFhU29ydGluZ1wiOiBbWzAsJ2FzYyddXSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgcGFyYW1ldGVyIGlzIGJhc2ljYWxseSBpZGVudGljYWwgdG8gdGhlIGBzb3J0aW5nYCBwYXJhbWV0ZXIsIGJ1dFxuXHRcdCAqIGNhbm5vdCBiZSBvdmVycmlkZGVuIGJ5IHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgdGFibGUuIFdoYXQgdGhpcyBtZWFuc1xuXHRcdCAqIGlzIHRoYXQgeW91IGNvdWxkIGhhdmUgYSBjb2x1bW4gKHZpc2libGUgb3IgaGlkZGVuKSB3aGljaCB0aGUgc29ydGluZ1xuXHRcdCAqIHdpbGwgYWx3YXlzIGJlIGZvcmNlZCBvbiBmaXJzdCAtIGFueSBzb3J0aW5nIGFmdGVyIHRoYXQgKGZyb20gdGhlIHVzZXIpXG5cdFx0ICogd2lsbCB0aGVuIGJlIHBlcmZvcm1lZCBhcyByZXF1aXJlZC4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBncm91cGluZyByb3dzXG5cdFx0ICogdG9nZXRoZXIuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5vcmRlckZpeGVkXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcIm9yZGVyRml4ZWRcIjogW1swLCdhc2MnXV1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9IClcblx0XHQgKi9cblx0XHRcImFhU29ydGluZ0ZpeGVkXCI6IFtdLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRGF0YVRhYmxlcyBjYW4gYmUgaW5zdHJ1Y3RlZCB0byBsb2FkIGRhdGEgdG8gZGlzcGxheSBpbiB0aGUgdGFibGUgZnJvbSBhXG5cdFx0ICogQWpheCBzb3VyY2UuIFRoaXMgb3B0aW9uIGRlZmluZXMgaG93IHRoYXQgQWpheCBjYWxsIGlzIG1hZGUgYW5kIHdoZXJlIHRvLlxuXHRcdCAqXG5cdFx0ICogVGhlIGBhamF4YCBwcm9wZXJ0eSBoYXMgdGhyZWUgZGlmZmVyZW50IG1vZGVzIG9mIG9wZXJhdGlvbiwgZGVwZW5kaW5nIG9uXG5cdFx0ICogaG93IGl0IGlzIGRlZmluZWQuIFRoZXNlIGFyZTpcblx0XHQgKlxuXHRcdCAqICogYHN0cmluZ2AgLSBTZXQgdGhlIFVSTCBmcm9tIHdoZXJlIHRoZSBkYXRhIHNob3VsZCBiZSBsb2FkZWQgZnJvbS5cblx0XHQgKiAqIGBvYmplY3RgIC0gRGVmaW5lIHByb3BlcnRpZXMgZm9yIGBqUXVlcnkuYWpheGAuXG5cdFx0ICogKiBgZnVuY3Rpb25gIC0gQ3VzdG9tIGRhdGEgZ2V0IGZ1bmN0aW9uXG5cdFx0ICpcblx0XHQgKiBgc3RyaW5nYFxuXHRcdCAqIC0tLS0tLS0tXG5cdFx0ICpcblx0XHQgKiBBcyBhIHN0cmluZywgdGhlIGBhamF4YCBwcm9wZXJ0eSBzaW1wbHkgZGVmaW5lcyB0aGUgVVJMIGZyb20gd2hpY2hcblx0XHQgKiBEYXRhVGFibGVzIHdpbGwgbG9hZCBkYXRhLlxuXHRcdCAqXG5cdFx0ICogYG9iamVjdGBcblx0XHQgKiAtLS0tLS0tLVxuXHRcdCAqXG5cdFx0ICogQXMgYW4gb2JqZWN0LCB0aGUgcGFyYW1ldGVycyBpbiB0aGUgb2JqZWN0IGFyZSBwYXNzZWQgdG9cblx0XHQgKiBbalF1ZXJ5LmFqYXhdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheC8pIGFsbG93aW5nIGZpbmUgY29udHJvbFxuXHRcdCAqIG9mIHRoZSBBamF4IHJlcXVlc3QuIERhdGFUYWJsZXMgaGFzIGEgbnVtYmVyIG9mIGRlZmF1bHQgcGFyYW1ldGVycyB3aGljaFxuXHRcdCAqIHlvdSBjYW4gb3ZlcnJpZGUgdXNpbmcgdGhpcyBvcHRpb24uIFBsZWFzZSByZWZlciB0byB0aGUgalF1ZXJ5XG5cdFx0ICogZG9jdW1lbnRhdGlvbiBmb3IgYSBmdWxsIGRlc2NyaXB0aW9uIG9mIHRoZSBvcHRpb25zIGF2YWlsYWJsZSwgYWx0aG91Z2hcblx0XHQgKiB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMgcHJvdmlkZSBhZGRpdGlvbmFsIG9wdGlvbnMgaW4gRGF0YVRhYmxlcyBvclxuXHRcdCAqIHJlcXVpcmUgc3BlY2lhbCBjb25zaWRlcmF0aW9uOlxuXHRcdCAqXG5cdFx0ICogKiBgZGF0YWAgLSBBcyB3aXRoIGpRdWVyeSwgYGRhdGFgIGNhbiBiZSBwcm92aWRlZCBhcyBhbiBvYmplY3QsIGJ1dCBpdFxuXHRcdCAqICAgY2FuIGFsc28gYmUgdXNlZCBhcyBhIGZ1bmN0aW9uIHRvIG1hbmlwdWxhdGUgdGhlIGRhdGEgRGF0YVRhYmxlcyBzZW5kc1xuXHRcdCAqICAgdG8gdGhlIHNlcnZlci4gVGhlIGZ1bmN0aW9uIHRha2VzIGEgc2luZ2xlIHBhcmFtZXRlciwgYW4gb2JqZWN0IG9mXG5cdFx0ICogICBwYXJhbWV0ZXJzIHdpdGggdGhlIHZhbHVlcyB0aGF0IERhdGFUYWJsZXMgaGFzIHJlYWRpZWQgZm9yIHNlbmRpbmcuIEFuXG5cdFx0ICogICBvYmplY3QgbWF5IGJlIHJldHVybmVkIHdoaWNoIHdpbGwgYmUgbWVyZ2VkIGludG8gdGhlIERhdGFUYWJsZXNcblx0XHQgKiAgIGRlZmF1bHRzLCBvciB5b3UgY2FuIGFkZCB0aGUgaXRlbXMgdG8gdGhlIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4gYW5kXG5cdFx0ICogICBub3QgcmV0dXJuIGFueXRoaW5nIGZyb20gdGhlIGZ1bmN0aW9uLiBUaGlzIHN1cGVyc2VkZXMgYGZuU2VydmVyUGFyYW1zYFxuXHRcdCAqICAgZnJvbSBEYXRhVGFibGVzIDEuOS0uXG5cdFx0ICpcblx0XHQgKiAqIGBkYXRhU3JjYCAtIEJ5IGRlZmF1bHQgRGF0YVRhYmxlcyB3aWxsIGxvb2sgZm9yIHRoZSBwcm9wZXJ0eSBgZGF0YWAgKG9yXG5cdFx0ICogICBgYWFEYXRhYCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIERhdGFUYWJsZXMgMS45LSkgd2hlbiBvYnRhaW5pbmcgZGF0YVxuXHRcdCAqICAgZnJvbSBhbiBBamF4IHNvdXJjZSBvciBmb3Igc2VydmVyLXNpZGUgcHJvY2Vzc2luZyAtIHRoaXMgcGFyYW1ldGVyXG5cdFx0ICogICBhbGxvd3MgdGhhdCBwcm9wZXJ0eSB0byBiZSBjaGFuZ2VkLiBZb3UgY2FuIHVzZSBKYXZhc2NyaXB0IGRvdHRlZFxuXHRcdCAqICAgb2JqZWN0IG5vdGF0aW9uIHRvIGdldCBhIGRhdGEgc291cmNlIGZvciBtdWx0aXBsZSBsZXZlbHMgb2YgbmVzdGluZywgb3Jcblx0XHQgKiAgIGl0IG15IGJlIHVzZWQgYXMgYSBmdW5jdGlvbi4gQXMgYSBmdW5jdGlvbiBpdCB0YWtlcyBhIHNpbmdsZSBwYXJhbWV0ZXIsXG5cdFx0ICogICB0aGUgSlNPTiByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIsIHdoaWNoIGNhbiBiZSBtYW5pcHVsYXRlZCBhc1xuXHRcdCAqICAgcmVxdWlyZWQsIHdpdGggdGhlIHJldHVybmVkIHZhbHVlIGJlaW5nIHRoYXQgdXNlZCBieSBEYXRhVGFibGVzIGFzIHRoZVxuXHRcdCAqICAgZGF0YSBzb3VyY2UgZm9yIHRoZSB0YWJsZS4gVGhpcyBzdXBlcnNlZGVzIGBzQWpheERhdGFQcm9wYCBmcm9tXG5cdFx0ICogICBEYXRhVGFibGVzIDEuOS0uXG5cdFx0ICpcblx0XHQgKiAqIGBzdWNjZXNzYCAtIFNob3VsZCBub3QgYmUgb3ZlcnJpZGRlbiBpdCBpcyB1c2VkIGludGVybmFsbHkgaW5cblx0XHQgKiAgIERhdGFUYWJsZXMuIFRvIG1hbmlwdWxhdGUgLyB0cmFuc2Zvcm0gdGhlIGRhdGEgcmV0dXJuZWQgYnkgdGhlIHNlcnZlclxuXHRcdCAqICAgdXNlIGBhamF4LmRhdGFTcmNgLCBvciB1c2UgYGFqYXhgIGFzIGEgZnVuY3Rpb24gKHNlZSBiZWxvdykuXG5cdFx0ICpcblx0XHQgKiBgZnVuY3Rpb25gXG5cdFx0ICogLS0tLS0tLS0tLVxuXHRcdCAqXG5cdFx0ICogQXMgYSBmdW5jdGlvbiwgbWFraW5nIHRoZSBBamF4IGNhbGwgaXMgbGVmdCB1cCB0byB5b3Vyc2VsZiBhbGxvd2luZ1xuXHRcdCAqIGNvbXBsZXRlIGNvbnRyb2wgb2YgdGhlIEFqYXggcmVxdWVzdC4gSW5kZWVkLCBpZiBkZXNpcmVkLCBhIG1ldGhvZCBvdGhlclxuXHRcdCAqIHRoYW4gQWpheCBjb3VsZCBiZSB1c2VkIHRvIG9idGFpbiB0aGUgcmVxdWlyZWQgZGF0YSwgc3VjaCBhcyBXZWIgc3RvcmFnZVxuXHRcdCAqIG9yIGFuIEFJUiBkYXRhYmFzZS5cblx0XHQgKlxuXHRcdCAqIFRoZSBmdW5jdGlvbiBpcyBnaXZlbiBmb3VyIHBhcmFtZXRlcnMgYW5kIG5vIHJldHVybiBpcyByZXF1aXJlZC4gVGhlXG5cdFx0ICogcGFyYW1ldGVycyBhcmU6XG5cdFx0ICpcblx0XHQgKiAxLiBfb2JqZWN0XyAtIERhdGEgdG8gc2VuZCB0byB0aGUgc2VydmVyXG5cdFx0ICogMi4gX2Z1bmN0aW9uXyAtIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgbXVzdCBiZSBleGVjdXRlZCB3aGVuIHRoZSByZXF1aXJlZFxuXHRcdCAqICAgIGRhdGEgaGFzIGJlZW4gb2J0YWluZWQuIFRoYXQgZGF0YSBzaG91bGQgYmUgcGFzc2VkIGludG8gdGhlIGNhbGxiYWNrXG5cdFx0ICogICAgYXMgdGhlIG9ubHkgcGFyYW1ldGVyXG5cdFx0ICogMy4gX29iamVjdF8gLSBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdCBmb3IgdGhlIHRhYmxlXG5cdFx0ICpcblx0XHQgKiBOb3RlIHRoYXQgdGhpcyBzdXBlcnNlZGVzIGBmblNlcnZlckRhdGFgIGZyb20gRGF0YVRhYmxlcyAxLjktLlxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIHN0cmluZ3xvYmplY3R8ZnVuY3Rpb25cblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25cblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmFqYXhcblx0XHQgKiAgQHNpbmNlIDEuMTAuMFxuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAgIC8vIEdldCBKU09OIGRhdGEgZnJvbSBhIGZpbGUgdmlhIEFqYXguXG5cdFx0ICogICAvLyBOb3RlIERhdGFUYWJsZXMgZXhwZWN0cyBkYXRhIGluIHRoZSBmb3JtIGB7IGRhdGE6IFsgLi4uZGF0YS4uLiBdIH1gIGJ5IGRlZmF1bHQpLlxuXHRcdCAqICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgXCJhamF4XCI6IFwiZGF0YS5qc29uXCJcblx0XHQgKiAgIH0gKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogICAvLyBHZXQgSlNPTiBkYXRhIGZyb20gYSBmaWxlIHZpYSBBamF4LCB1c2luZyBgZGF0YVNyY2AgdG8gY2hhbmdlXG5cdFx0ICogICAvLyBgZGF0YWAgdG8gYHRhYmxlRGF0YWAgKGkuZS4gYHsgdGFibGVEYXRhOiBbIC4uLmRhdGEuLi4gXSB9YClcblx0XHQgKiAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgIFwiYWpheFwiOiB7XG5cdFx0ICogICAgICAgXCJ1cmxcIjogXCJkYXRhLmpzb25cIixcblx0XHQgKiAgICAgICBcImRhdGFTcmNcIjogXCJ0YWJsZURhdGFcIlxuXHRcdCAqICAgICB9XG5cdFx0ICogICB9ICk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqICAgLy8gR2V0IEpTT04gZGF0YSBmcm9tIGEgZmlsZSB2aWEgQWpheCwgdXNpbmcgYGRhdGFTcmNgIHRvIHJlYWQgZGF0YVxuXHRcdCAqICAgLy8gZnJvbSBhIHBsYWluIGFycmF5IHJhdGhlciB0aGFuIGFuIGFycmF5IGluIGFuIG9iamVjdFxuXHRcdCAqICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgXCJhamF4XCI6IHtcblx0XHQgKiAgICAgICBcInVybFwiOiBcImRhdGEuanNvblwiLFxuXHRcdCAqICAgICAgIFwiZGF0YVNyY1wiOiBcIlwiXG5cdFx0ICogICAgIH1cblx0XHQgKiAgIH0gKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogICAvLyBNYW5pcHVsYXRlIHRoZSBkYXRhIHJldHVybmVkIGZyb20gdGhlIHNlcnZlciAtIGFkZCBhIGxpbmsgdG8gZGF0YVxuXHRcdCAqICAgLy8gKG5vdGUgdGhpcyBjYW4sIHNob3VsZCwgYmUgZG9uZSB1c2luZyBgcmVuZGVyYCBmb3IgdGhlIGNvbHVtbiAtIHRoaXNcblx0XHQgKiAgIC8vIGlzIGp1c3QgYSBzaW1wbGUgZXhhbXBsZSBvZiBob3cgdGhlIGRhdGEgY2FuIGJlIG1hbmlwdWxhdGVkKS5cblx0XHQgKiAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgIFwiYWpheFwiOiB7XG5cdFx0ICogICAgICAgXCJ1cmxcIjogXCJkYXRhLmpzb25cIixcblx0XHQgKiAgICAgICBcImRhdGFTcmNcIjogZnVuY3Rpb24gKCBqc29uICkge1xuXHRcdCAqICAgICAgICAgZm9yICggdmFyIGk9MCwgaWVuPWpzb24ubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdFx0ICogICAgICAgICAgIGpzb25baV1bMF0gPSAnPGEgaHJlZj1cIi9tZXNzYWdlLycranNvbltpXVswXSsnPlZpZXcgbWVzc2FnZTwvYT4nO1xuXHRcdCAqICAgICAgICAgfVxuXHRcdCAqICAgICAgICAgcmV0dXJuIGpzb247XG5cdFx0ICogICAgICAgfVxuXHRcdCAqICAgICB9XG5cdFx0ICogICB9ICk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqICAgLy8gQWRkIGRhdGEgdG8gdGhlIHJlcXVlc3Rcblx0XHQgKiAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgIFwiYWpheFwiOiB7XG5cdFx0ICogICAgICAgXCJ1cmxcIjogXCJkYXRhLmpzb25cIixcblx0XHQgKiAgICAgICBcImRhdGFcIjogZnVuY3Rpb24gKCBkICkge1xuXHRcdCAqICAgICAgICAgcmV0dXJuIHtcblx0XHQgKiAgICAgICAgICAgXCJleHRyYV9zZWFyY2hcIjogJCgnI2V4dHJhJykudmFsKClcblx0XHQgKiAgICAgICAgIH07XG5cdFx0ICogICAgICAgfVxuXHRcdCAqICAgICB9XG5cdFx0ICogICB9ICk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqICAgLy8gU2VuZCByZXF1ZXN0IGFzIFBPU1Rcblx0XHQgKiAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgIFwiYWpheFwiOiB7XG5cdFx0ICogICAgICAgXCJ1cmxcIjogXCJkYXRhLmpzb25cIixcblx0XHQgKiAgICAgICBcInR5cGVcIjogXCJQT1NUXCJcblx0XHQgKiAgICAgfVxuXHRcdCAqICAgfSApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAgIC8vIEdldCB0aGUgZGF0YSBmcm9tIGxvY2FsU3RvcmFnZSAoY291bGQgaW50ZXJmYWNlIHdpdGggYSBmb3JtIGZvclxuXHRcdCAqICAgLy8gYWRkaW5nLCBlZGl0aW5nIGFuZCByZW1vdmluZyByb3dzKS5cblx0XHQgKiAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgIFwiYWpheFwiOiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2ssIHNldHRpbmdzKSB7XG5cdFx0ICogICAgICAgY2FsbGJhY2soXG5cdFx0ICogICAgICAgICBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF0YVRhYmxlc0RhdGEnKSApXG5cdFx0ICogICAgICAgKTtcblx0XHQgKiAgICAgfVxuXHRcdCAqICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYWpheFwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBwYXJhbWV0ZXIgYWxsb3dzIHlvdSB0byByZWFkaWx5IHNwZWNpZnkgdGhlIGVudHJpZXMgaW4gdGhlIGxlbmd0aCBkcm9wXG5cdFx0ICogZG93biBtZW51IHRoYXQgRGF0YVRhYmxlcyBzaG93cyB3aGVuIHBhZ2luYXRpb24gaXMgZW5hYmxlZC4gSXQgY2FuIGJlXG5cdFx0ICogZWl0aGVyIGEgMUQgYXJyYXkgb2Ygb3B0aW9ucyB3aGljaCB3aWxsIGJlIHVzZWQgZm9yIGJvdGggdGhlIGRpc3BsYXllZFxuXHRcdCAqIG9wdGlvbiBhbmQgdGhlIHZhbHVlLCBvciBhIDJEIGFycmF5IHdoaWNoIHdpbGwgdXNlIHRoZSBhcnJheSBpbiB0aGUgZmlyc3Rcblx0XHQgKiBwb3NpdGlvbiBhcyB0aGUgdmFsdWUsIGFuZCB0aGUgYXJyYXkgaW4gdGhlIHNlY29uZCBwb3NpdGlvbiBhcyB0aGVcblx0XHQgKiBkaXNwbGF5ZWQgb3B0aW9ucyAodXNlZnVsIGZvciBsYW5ndWFnZSBzdHJpbmdzIHN1Y2ggYXMgJ0FsbCcpLlxuXHRcdCAqXG5cdFx0ICogTm90ZSB0aGF0IHRoZSBgcGFnZUxlbmd0aGAgcHJvcGVydHkgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHNldCB0byB0aGVcblx0XHQgKiBmaXJzdCB2YWx1ZSBnaXZlbiBpbiB0aGlzIGFycmF5LCB1bmxlc3MgYHBhZ2VMZW5ndGhgIGlzIGFsc28gcHJvdmlkZWQuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFsgMTAsIDI1LCA1MCwgMTAwIF1cblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sZW5ndGhNZW51XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImxlbmd0aE1lbnVcIjogW1sxMCwgMjUsIDUwLCAtMV0sIFsxMCwgMjUsIDUwLCBcIkFsbFwiXV1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJhTGVuZ3RoTWVudVwiOiBbIDEwLCAyNSwgNTAsIDEwMCBdLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGBjb2x1bW5zYCBvcHRpb24gaW4gdGhlIGluaXRpYWxpc2F0aW9uIHBhcmFtZXRlciBhbGxvd3MgeW91IHRvIGRlZmluZVxuXHRcdCAqIGRldGFpbHMgYWJvdXQgdGhlIHdheSBpbmRpdmlkdWFsIGNvbHVtbnMgYmVoYXZlLiBGb3IgYSBmdWxsIGxpc3Qgb2Zcblx0XHQgKiBjb2x1bW4gb3B0aW9ucyB0aGF0IGNhbiBiZSBzZXQsIHBsZWFzZSBzZWVcblx0XHQgKiB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbn0uIE5vdGUgdGhhdCBpZiB5b3UgdXNlIGBjb2x1bW5zYCB0b1xuXHRcdCAqIGRlZmluZSB5b3VyIGNvbHVtbnMsIHlvdSBtdXN0IGhhdmUgYW4gZW50cnkgaW4gdGhlIGFycmF5IGZvciBldmVyeSBzaW5nbGVcblx0XHQgKiBjb2x1bW4gdGhhdCB5b3UgaGF2ZSBpbiB5b3VyIHRhYmxlICh0aGVzZSBjYW4gYmUgbnVsbCBpZiB5b3UgZG9uJ3Qgd2hpY2hcblx0XHQgKiB0byBzcGVjaWZ5IGFueSBvcHRpb25zKS5cblx0XHQgKiAgQG1lbWJlclxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW5cblx0XHQgKi9cblx0XHRcImFvQ29sdW1uc1wiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBWZXJ5IHNpbWlsYXIgdG8gYGNvbHVtbnNgLCBgY29sdW1uRGVmc2AgYWxsb3dzIHlvdSB0byB0YXJnZXQgYSBzcGVjaWZpY1xuXHRcdCAqIGNvbHVtbiwgbXVsdGlwbGUgY29sdW1ucywgb3IgYWxsIGNvbHVtbnMsIHVzaW5nIHRoZSBgdGFyZ2V0c2AgcHJvcGVydHkgb2Zcblx0XHQgKiBlYWNoIG9iamVjdCBpbiB0aGUgYXJyYXkuIFRoaXMgYWxsb3dzIGdyZWF0IGZsZXhpYmlsaXR5IHdoZW4gY3JlYXRpbmdcblx0XHQgKiB0YWJsZXMsIGFzIHRoZSBgY29sdW1uRGVmc2AgYXJyYXlzIGNhbiBiZSBvZiBhbnkgbGVuZ3RoLCB0YXJnZXRpbmcgdGhlXG5cdFx0ICogY29sdW1ucyB5b3Ugc3BlY2lmaWNhbGx5IHdhbnQuIGBjb2x1bW5EZWZzYCBtYXkgdXNlIGFueSBvZiB0aGUgY29sdW1uXG5cdFx0ICogb3B0aW9ucyBhdmFpbGFibGU6IHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1ufSwgYnV0IGl0IF9tdXN0X1xuXHRcdCAqIGhhdmUgYHRhcmdldHNgIGRlZmluZWQgaW4gZWFjaCBvYmplY3QgaW4gdGhlIGFycmF5LiBWYWx1ZXMgaW4gdGhlIGB0YXJnZXRzYFxuXHRcdCAqIGFycmF5IG1heSBiZTpcblx0XHQgKiAgIDx1bD5cblx0XHQgKiAgICAgPGxpPmEgc3RyaW5nIC0gY2xhc3MgbmFtZSB3aWxsIGJlIG1hdGNoZWQgb24gdGhlIFRIIGZvciB0aGUgY29sdW1uPC9saT5cblx0XHQgKiAgICAgPGxpPjAgb3IgYSBwb3NpdGl2ZSBpbnRlZ2VyIC0gY29sdW1uIGluZGV4IGNvdW50aW5nIGZyb20gdGhlIGxlZnQ8L2xpPlxuXHRcdCAqICAgICA8bGk+YSBuZWdhdGl2ZSBpbnRlZ2VyIC0gY29sdW1uIGluZGV4IGNvdW50aW5nIGZyb20gdGhlIHJpZ2h0PC9saT5cblx0XHQgKiAgICAgPGxpPnRoZSBzdHJpbmcgXCJfYWxsXCIgLSBhbGwgY29sdW1ucyAoaS5lLiBhc3NpZ24gYSBkZWZhdWx0KTwvbGk+XG5cdFx0ICogICA8L3VsPlxuXHRcdCAqICBAbWVtYmVyXG5cdFx0ICpcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbkRlZnNcblx0XHQgKi9cblx0XHRcImFvQ29sdW1uRGVmc1wiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQmFzaWNhbGx5IHRoZSBzYW1lIGFzIGBzZWFyY2hgLCB0aGlzIHBhcmFtZXRlciBkZWZpbmVzIHRoZSBpbmRpdmlkdWFsIGNvbHVtblxuXHRcdCAqIGZpbHRlcmluZyBzdGF0ZSBhdCBpbml0aWFsaXNhdGlvbiB0aW1lLiBUaGUgYXJyYXkgbXVzdCBiZSBvZiB0aGUgc2FtZSBzaXplXG5cdFx0ICogYXMgdGhlIG51bWJlciBvZiBjb2x1bW5zLCBhbmQgZWFjaCBlbGVtZW50IGJlIGFuIG9iamVjdCB3aXRoIHRoZSBwYXJhbWV0ZXJzXG5cdFx0ICogYHNlYXJjaGAgYW5kIGBlc2NhcGVSZWdleGAgKHRoZSBsYXR0ZXIgaXMgb3B0aW9uYWwpLiAnbnVsbCcgaXMgYWxzb1xuXHRcdCAqIGFjY2VwdGVkIGFuZCB0aGUgZGVmYXVsdCB3aWxsIGJlIHVzZWQuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IE9wdGlvblxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuc2VhcmNoQ29sc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzZWFyY2hDb2xzXCI6IFtcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIHsgXCJzZWFyY2hcIjogXCJNeSBmaWx0ZXJcIiB9LFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgeyBcInNlYXJjaFwiOiBcIl5bMC05XVwiLCBcImVzY2FwZVJlZ2V4XCI6IGZhbHNlIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKVxuXHRcdCAqL1xuXHRcdFwiYW9TZWFyY2hDb2xzXCI6IFtdLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQW4gYXJyYXkgb2YgQ1NTIGNsYXNzZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byBkaXNwbGF5ZWQgcm93cy4gVGhpc1xuXHRcdCAqIGFycmF5IG1heSBiZSBvZiBhbnkgbGVuZ3RoLCBhbmQgRGF0YVRhYmxlcyB3aWxsIGFwcGx5IGVhY2ggY2xhc3Ncblx0XHQgKiBzZXF1ZW50aWFsbHksIGxvb3Bpbmcgd2hlbiByZXF1aXJlZC5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgbnVsbCA8aT5XaWxsIHRha2UgdGhlIHZhbHVlcyBkZXRlcm1pbmVkIGJ5IHRoZSBgb0NsYXNzZXMuc3RyaXBlKmBcblx0XHQgKiAgICBvcHRpb25zPC9pPlxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25cblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnN0cmlwZUNsYXNzZXNcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic3RyaXBlQ2xhc3Nlc1wiOiBbICdzdHJpcDEnLCAnc3RyaXAyJywgJ3N0cmlwMycgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKVxuXHRcdCAqL1xuXHRcdFwiYXNTdHJpcGVDbGFzc2VzXCI6IG51bGwsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgb3IgZGlzYWJsZSBhdXRvbWF0aWMgY29sdW1uIHdpZHRoIGNhbGN1bGF0aW9uLiBUaGlzIGNhbiBiZSBkaXNhYmxlZFxuXHRcdCAqIGFzIGFuIG9wdGltaXNhdGlvbiAoaXQgdGFrZXMgc29tZSB0aW1lIHRvIGNhbGN1bGF0ZSB0aGUgd2lkdGhzKSBpZiB0aGVcblx0XHQgKiB0YWJsZXMgd2lkdGhzIGFyZSBwYXNzZWQgaW4gdXNpbmcgYGNvbHVtbnNgLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmF1dG9XaWR0aFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiYXV0b1dpZHRoXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYkF1dG9XaWR0aFwiOiB0cnVlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRGVmZXJyZWQgcmVuZGVyaW5nIGNhbiBwcm92aWRlIERhdGFUYWJsZXMgd2l0aCBhIGh1Z2Ugc3BlZWQgYm9vc3Qgd2hlbiB5b3Vcblx0XHQgKiBhcmUgdXNpbmcgYW4gQWpheCBvciBKUyBkYXRhIHNvdXJjZSBmb3IgdGhlIHRhYmxlLiBUaGlzIG9wdGlvbiwgd2hlbiBzZXQgdG9cblx0XHQgKiB0cnVlLCB3aWxsIGNhdXNlIERhdGFUYWJsZXMgdG8gZGVmZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSB0YWJsZSBlbGVtZW50cyBmb3Jcblx0XHQgKiBlYWNoIHJvdyB1bnRpbCB0aGV5IGFyZSBuZWVkZWQgZm9yIGEgZHJhdyAtIHNhdmluZyBhIHNpZ25pZmljYW50IGFtb3VudCBvZlxuXHRcdCAqIHRpbWUuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmRlZmVyUmVuZGVyXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImFqYXhcIjogXCJzb3VyY2VzL2FycmF5cy50eHRcIixcblx0XHQgKiAgICAgICAgXCJkZWZlclJlbmRlclwiOiB0cnVlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYkRlZmVyUmVuZGVyXCI6IGZhbHNlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVwbGFjZSBhIERhdGFUYWJsZSB3aGljaCBtYXRjaGVzIHRoZSBnaXZlbiBzZWxlY3RvciBhbmQgcmVwbGFjZSBpdCB3aXRoXG5cdFx0ICogb25lIHdoaWNoIGhhcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgbmV3IGluaXRpYWxpc2F0aW9uIG9iamVjdCBwYXNzZWQuIElmIG5vXG5cdFx0ICogdGFibGUgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsIHRoZW4gdGhlIG5ldyBEYXRhVGFibGUgd2lsbCBiZSBjb25zdHJ1Y3RlZCBhc1xuXHRcdCAqIHBlciBub3JtYWwuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuZGVzdHJveVxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzcm9sbFlcIjogXCIyMDBweFwiLFxuXHRcdCAqICAgICAgICBcInBhZ2luYXRlXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgICAgIC8vIFNvbWUgdGltZSBsYXRlci4uLi5cblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiZmlsdGVyXCI6IGZhbHNlLFxuXHRcdCAqICAgICAgICBcImRlc3Ryb3lcIjogdHJ1ZVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImJEZXN0cm95XCI6IGZhbHNlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlIG9yIGRpc2FibGUgZmlsdGVyaW5nIG9mIGRhdGEuIEZpbHRlcmluZyBpbiBEYXRhVGFibGVzIGlzIFwic21hcnRcIiBpblxuXHRcdCAqIHRoYXQgaXQgYWxsb3dzIHRoZSBlbmQgdXNlciB0byBpbnB1dCBtdWx0aXBsZSB3b3JkcyAoc3BhY2Ugc2VwYXJhdGVkKSBhbmRcblx0XHQgKiB3aWxsIG1hdGNoIGEgcm93IGNvbnRhaW5pbmcgdGhvc2Ugd29yZHMsIGV2ZW4gaWYgbm90IGluIHRoZSBvcmRlciB0aGF0IHdhc1xuXHRcdCAqIHNwZWNpZmllZCAodGhpcyBhbGxvdyBtYXRjaGluZyBhY3Jvc3MgbXVsdGlwbGUgY29sdW1ucykuIE5vdGUgdGhhdCBpZiB5b3Vcblx0XHQgKiB3aXNoIHRvIHVzZSBmaWx0ZXJpbmcgaW4gRGF0YVRhYmxlcyB0aGlzIG11c3QgcmVtYWluICd0cnVlJyAtIHRvIHJlbW92ZSB0aGVcblx0XHQgKiBkZWZhdWx0IGZpbHRlcmluZyBpbnB1dCBib3ggYW5kIHJldGFpbiBmaWx0ZXJpbmcgYWJpbGl0aWVzLCBwbGVhc2UgdXNlXG5cdFx0ICoge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0cy5kb219LlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnNlYXJjaGluZ1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic2VhcmNoaW5nXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYkZpbHRlclwiOiB0cnVlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlIG9yIGRpc2FibGUgdGhlIHRhYmxlIGluZm9ybWF0aW9uIGRpc3BsYXkuIFRoaXMgc2hvd3MgaW5mb3JtYXRpb25cblx0XHQgKiBhYm91dCB0aGUgZGF0YSB0aGF0IGlzIGN1cnJlbnRseSB2aXNpYmxlIG9uIHRoZSBwYWdlLCBpbmNsdWRpbmcgaW5mb3JtYXRpb25cblx0XHQgKiBhYm91dCBmaWx0ZXJlZCBkYXRhIGlmIHRoYXQgYWN0aW9uIGlzIGJlaW5nIHBlcmZvcm1lZC5cblx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdCAqICBAZGVmYXVsdCB0cnVlXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IEZlYXR1cmVzXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5pbmZvXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJpbmZvXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYkluZm9cIjogdHJ1ZSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEVuYWJsZSBqUXVlcnkgVUkgVGhlbWVSb2xsZXIgc3VwcG9ydCAocmVxdWlyZWQgYXMgVGhlbWVSb2xsZXIgcmVxdWlyZXMgc29tZVxuXHRcdCAqIHNsaWdodGx5IGRpZmZlcmVudCBhbmQgYWRkaXRpb25hbCBtYXJrLXVwIGZyb20gd2hhdCBEYXRhVGFibGVzIGhhc1xuXHRcdCAqIHRyYWRpdGlvbmFsbHkgdXNlZCkuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmpRdWVyeVVJXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImpRdWVyeVVJXCI6IHRydWVcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJiSlF1ZXJ5VUlcIjogZmFsc2UsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBBbGxvd3MgdGhlIGVuZCB1c2VyIHRvIHNlbGVjdCB0aGUgc2l6ZSBvZiBhIGZvcm1hdHRlZCBwYWdlIGZyb20gYSBzZWxlY3Rcblx0XHQgKiBtZW51IChzaXplcyBhcmUgMTAsIDI1LCA1MCBhbmQgMTAwKS4gUmVxdWlyZXMgcGFnaW5hdGlvbiAoYHBhZ2luYXRlYCkuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBGZWF0dXJlc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMubGVuZ3RoQ2hhbmdlXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJsZW5ndGhDaGFuZ2VcIjogZmFsc2Vcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJiTGVuZ3RoQ2hhbmdlXCI6IHRydWUsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgb3IgZGlzYWJsZSBwYWdpbmF0aW9uLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnBhZ2luZ1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwicGFnaW5nXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYlBhZ2luYXRlXCI6IHRydWUsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgb3IgZGlzYWJsZSB0aGUgZGlzcGxheSBvZiBhICdwcm9jZXNzaW5nJyBpbmRpY2F0b3Igd2hlbiB0aGUgdGFibGUgaXNcblx0XHQgKiBiZWluZyBwcm9jZXNzZWQgKGUuZy4gYSBzb3J0KS4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciB0YWJsZXMgd2l0aFxuXHRcdCAqIGxhcmdlIGFtb3VudHMgb2YgZGF0YSB3aGVyZSBpdCBjYW4gdGFrZSBhIG5vdGljZWFibGUgYW1vdW50IG9mIHRpbWUgdG8gc29ydFxuXHRcdCAqIHRoZSBlbnRyaWVzLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IEZlYXR1cmVzXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5wcm9jZXNzaW5nXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJwcm9jZXNzaW5nXCI6IHRydWVcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJiUHJvY2Vzc2luZ1wiOiBmYWxzZSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIHRoZSBEYXRhVGFibGVzIG9iamVjdCBmb3IgdGhlIGdpdmVuIHNlbGVjdG9yLiBOb3RlIHRoYXQgaWYgdGhlXG5cdFx0ICogdGFibGUgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXNlZCwgdGhpcyBwYXJhbWV0ZXIgd2lsbCBjYXVzZSBEYXRhVGFibGVzXG5cdFx0ICogdG8gc2ltcGx5IHJldHVybiB0aGUgb2JqZWN0IHRoYXQgaGFzIGFscmVhZHkgYmVlbiBzZXQgdXAgLSBpdCB3aWxsIG5vdCB0YWtlXG5cdFx0ICogYWNjb3VudCBvZiBhbnkgY2hhbmdlcyB5b3UgbWlnaHQgaGF2ZSBtYWRlIHRvIHRoZSBpbml0aWFsaXNhdGlvbiBvYmplY3Rcblx0XHQgKiBwYXNzZWQgdG8gRGF0YVRhYmxlcyAoc2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byB0cnVlIGlzIGFuIGFja25vd2xlZGdlbWVudFxuXHRcdCAqIHRoYXQgeW91IHVuZGVyc3RhbmQgdGhpcykuIGBkZXN0cm95YCBjYW4gYmUgdXNlZCB0byByZWluaXRpYWxpc2UgYSB0YWJsZSBpZlxuXHRcdCAqIHlvdSBuZWVkLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IE9wdGlvbnNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnJldHJpZXZlXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICBpbml0VGFibGUoKTtcblx0XHQgKiAgICAgIHRhYmxlQWN0aW9ucygpO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICAgIGZ1bmN0aW9uIGluaXRUYWJsZSAoKVxuXHRcdCAqICAgIHtcblx0XHQgKiAgICAgIHJldHVybiAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInNjcm9sbFlcIjogXCIyMDBweFwiLFxuXHRcdCAqICAgICAgICBcInBhZ2luYXRlXCI6IGZhbHNlLFxuXHRcdCAqICAgICAgICBcInJldHJpZXZlXCI6IHRydWVcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9XG5cdFx0ICpcblx0XHQgKiAgICBmdW5jdGlvbiB0YWJsZUFjdGlvbnMgKClcblx0XHQgKiAgICB7XG5cdFx0ICogICAgICB2YXIgdGFibGUgPSBpbml0VGFibGUoKTtcblx0XHQgKiAgICAgIC8vIHBlcmZvcm0gQVBJIG9wZXJhdGlvbnMgd2l0aCBvVGFibGVcblx0XHQgKiAgICB9XG5cdFx0ICovXG5cdFx0XCJiUmV0cmlldmVcIjogZmFsc2UsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBXaGVuIHZlcnRpY2FsICh5KSBzY3JvbGxpbmcgaXMgZW5hYmxlZCwgRGF0YVRhYmxlcyB3aWxsIGZvcmNlIHRoZSBoZWlnaHQgb2Zcblx0XHQgKiB0aGUgdGFibGUncyB2aWV3cG9ydCB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGF0IGFsbCB0aW1lcyAodXNlZnVsIGZvciBsYXlvdXQpLlxuXHRcdCAqIEhvd2V2ZXIsIHRoaXMgY2FuIGxvb2sgb2RkIHdoZW4gZmlsdGVyaW5nIGRhdGEgZG93biB0byBhIHNtYWxsIGRhdGEgc2V0LFxuXHRcdCAqIGFuZCB0aGUgZm9vdGVyIGlzIGxlZnQgXCJmbG9hdGluZ1wiIGZ1cnRoZXIgZG93bi4gVGhpcyBwYXJhbWV0ZXIgKHdoZW5cblx0XHQgKiBlbmFibGVkKSB3aWxsIGNhdXNlIERhdGFUYWJsZXMgdG8gY29sbGFwc2UgdGhlIHRhYmxlJ3Mgdmlld3BvcnQgZG93biB3aGVuXG5cdFx0ICogdGhlIHJlc3VsdCBzZXQgd2lsbCBmaXQgd2l0aGluIHRoZSBnaXZlbiBZIGhlaWdodC5cblx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdCAqICBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5zY3JvbGxDb2xsYXBzZVxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzY3JvbGxZXCI6IFwiMjAwXCIsXG5cdFx0ICogICAgICAgIFwic2Nyb2xsQ29sbGFwc2VcIjogdHJ1ZVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImJTY3JvbGxDb2xsYXBzZVwiOiBmYWxzZSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENvbmZpZ3VyZSBEYXRhVGFibGVzIHRvIHVzZSBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nLiBOb3RlIHRoYXQgdGhlXG5cdFx0ICogYGFqYXhgIHBhcmFtZXRlciBtdXN0IGFsc28gYmUgZ2l2ZW4gaW4gb3JkZXIgdG8gZ2l2ZSBEYXRhVGFibGVzIGFcblx0XHQgKiBzb3VyY2UgdG8gb2J0YWluIHRoZSByZXF1aXJlZCBkYXRhIGZvciBlYWNoIGRyYXcuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQGR0b3B0IFNlcnZlci1zaWRlXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5zZXJ2ZXJTaWRlXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzZXJ2ZXJTaWRlXCI6IHRydWUsXG5cdFx0ICogICAgICAgIFwiYWpheFwiOiBcInhoci5waHBcIlxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImJTZXJ2ZXJTaWRlXCI6IGZhbHNlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlIG9yIGRpc2FibGUgc29ydGluZyBvZiBjb2x1bW5zLiBTb3J0aW5nIG9mIGluZGl2aWR1YWwgY29sdW1ucyBjYW4gYmVcblx0XHQgKiBkaXNhYmxlZCBieSB0aGUgYHNvcnRhYmxlYCBvcHRpb24gZm9yIGVhY2ggY29sdW1uLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLm9yZGVyaW5nXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJvcmRlcmluZ1wiOiBmYWxzZVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImJTb3J0XCI6IHRydWUsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgb3IgZGlzcGxheSBEYXRhVGFibGVzJyBhYmlsaXR5IHRvIHNvcnQgbXVsdGlwbGUgY29sdW1ucyBhdCB0aGVcblx0XHQgKiBzYW1lIHRpbWUgKGFjdGl2YXRlZCBieSBzaGlmdC1jbGljayBieSB0aGUgdXNlcikuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5vcmRlck11bHRpXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBEaXNhYmxlIG11bHRpcGxlIGNvbHVtbiBzb3J0aW5nIGFiaWxpdHlcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJvcmRlck11bHRpXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYlNvcnRNdWx0aVwiOiB0cnVlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQWxsb3dzIGNvbnRyb2wgb3ZlciB3aGV0aGVyIERhdGFUYWJsZXMgc2hvdWxkIHVzZSB0aGUgdG9wICh0cnVlKSB1bmlxdWVcblx0XHQgKiBjZWxsIHRoYXQgaXMgZm91bmQgZm9yIGEgc2luZ2xlIGNvbHVtbiwgb3IgdGhlIGJvdHRvbSAoZmFsc2UgLSBkZWZhdWx0KS5cblx0XHQgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHVzaW5nIGNvbXBsZXggaGVhZGVycy5cblx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdCAqICBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5vcmRlckNlbGxzVG9wXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcIm9yZGVyQ2VsbHNUb3BcIjogdHJ1ZVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImJTb3J0Q2VsbHNUb3BcIjogZmFsc2UsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgb3IgZGlzYWJsZSB0aGUgYWRkaXRpb24gb2YgdGhlIGNsYXNzZXMgYHNvcnRpbmdcXF8xYCwgYHNvcnRpbmdcXF8yYCBhbmRcblx0XHQgKiBgc29ydGluZ1xcXzNgIHRvIHRoZSBjb2x1bW5zIHdoaWNoIGFyZSBjdXJyZW50bHkgYmVpbmcgc29ydGVkIG9uLiBUaGlzIGlzXG5cdFx0ICogcHJlc2VudGVkIGFzIGEgZmVhdHVyZSBzd2l0Y2ggYXMgaXQgY2FuIGluY3JlYXNlIHByb2Nlc3NpbmcgdGltZSAod2hpbGVcblx0XHQgKiBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBhZGRlZCkgc28gZm9yIGxhcmdlIGRhdGEgc2V0cyB5b3UgbWlnaHQgd2FudCB0b1xuXHRcdCAqIHR1cm4gdGhpcyBvZmYuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBGZWF0dXJlc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMub3JkZXJDbGFzc2VzXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJvcmRlckNsYXNzZXNcIjogZmFsc2Vcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJiU29ydENsYXNzZXNcIjogdHJ1ZSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEVuYWJsZSBvciBkaXNhYmxlIHN0YXRlIHNhdmluZy4gV2hlbiBlbmFibGVkIEhUTUw1IGBsb2NhbFN0b3JhZ2VgIHdpbGwgYmVcblx0XHQgKiB1c2VkIHRvIHNhdmUgdGFibGUgZGlzcGxheSBpbmZvcm1hdGlvbiBzdWNoIGFzIHBhZ2luYXRpb24gaW5mb3JtYXRpb24sXG5cdFx0ICogZGlzcGxheSBsZW5ndGgsIGZpbHRlcmluZyBhbmQgc29ydGluZy4gQXMgc3VjaCB3aGVuIHRoZSBlbmQgdXNlciByZWxvYWRzXG5cdFx0ICogdGhlIHBhZ2UgdGhlIGRpc3BsYXkgZGlzcGxheSB3aWxsIG1hdGNoIHdoYXQgdGh5IGhhZCBwcmV2aW91c2x5IHNldCB1cC5cblx0XHQgKlxuXHRcdCAqIER1ZSB0byB0aGUgdXNlIG9mIGBsb2NhbFN0b3JhZ2VgIHRoZSBkZWZhdWx0IHN0YXRlIHNhdmluZyBpcyBub3Qgc3VwcG9ydGVkXG5cdFx0ICogaW4gSUU2IG9yIDcuIElmIHN0YXRlIHNhdmluZyBpcyByZXF1aXJlZCBpbiB0aG9zZSBicm93c2VycywgdXNlXG5cdFx0ICogYHN0YXRlU2F2ZUNhbGxiYWNrYCB0byBwcm92aWRlIGEgc3RvcmFnZSBzb2x1dGlvbiBzdWNoIGFzIGNvb2tpZXMuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnN0YXRlU2F2ZVxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uICgpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic3RhdGVTYXZlXCI6IHRydWVcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJiU3RhdGVTYXZlXCI6IGZhbHNlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhIFRSIGVsZW1lbnQgaXMgY3JlYXRlZCAoYW5kIGFsbCBURCBjaGlsZFxuXHRcdCAqIGVsZW1lbnRzIGhhdmUgYmVlbiBpbnNlcnRlZCksIG9yIHJlZ2lzdGVyZWQgaWYgdXNpbmcgYSBET00gc291cmNlLCBhbGxvd2luZ1xuXHRcdCAqIG1hbmlwdWxhdGlvbiBvZiB0aGUgVFIgZWxlbWVudCAoYWRkaW5nIGNsYXNzZXMgZXRjKS5cblx0XHQgKiAgQHR5cGUgZnVuY3Rpb25cblx0XHQgKiAgQHBhcmFtIHtub2RlfSByb3cgXCJUUlwiIGVsZW1lbnQgZm9yIHRoZSBjdXJyZW50IHJvd1xuXHRcdCAqICBAcGFyYW0ge2FycmF5fSBkYXRhIFJhdyBkYXRhIGFycmF5IGZvciB0aGlzIHJvd1xuXHRcdCAqICBAcGFyYW0ge2ludH0gZGF0YUluZGV4IFRoZSBpbmRleCBvZiB0aGlzIHJvdyBpbiB0aGUgaW50ZXJuYWwgYW9EYXRhIGFycmF5XG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IENhbGxiYWNrc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuY3JlYXRlZFJvd1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjcmVhdGVkUm93XCI6IGZ1bmN0aW9uKCByb3csIGRhdGEsIGRhdGFJbmRleCApIHtcblx0XHQgKiAgICAgICAgICAvLyBCb2xkIHRoZSBncmFkZSBmb3IgYWxsICdBJyBncmFkZSBicm93c2Vyc1xuXHRcdCAqICAgICAgICAgIGlmICggZGF0YVs0XSA9PSBcIkFcIiApXG5cdFx0ICogICAgICAgICAge1xuXHRcdCAqICAgICAgICAgICAgJCgndGQ6ZXEoNCknLCByb3cpLmh0bWwoICc8Yj5BPC9iPicgKTtcblx0XHQgKiAgICAgICAgICB9XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJmbkNyZWF0ZWRSb3dcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGV2ZXJ5ICdkcmF3JyBldmVudCwgYW5kIGFsbG93cyB5b3UgdG9cblx0XHQgKiBkeW5hbWljYWxseSBtb2RpZnkgYW55IGFzcGVjdCB5b3Ugd2FudCBhYm91dCB0aGUgY3JlYXRlZCBET00uXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBDYWxsYmFja3Ncblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmRyYXdDYWxsYmFja1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJkcmF3Q2FsbGJhY2tcIjogZnVuY3Rpb24oIHNldHRpbmdzICkge1xuXHRcdCAqICAgICAgICAgIGFsZXJ0KCAnRGF0YVRhYmxlcyBoYXMgcmVkcmF3biB0aGUgdGFibGUnICk7XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJmbkRyYXdDYWxsYmFja1wiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogSWRlbnRpY2FsIHRvIGZuSGVhZGVyQ2FsbGJhY2soKSBidXQgZm9yIHRoZSB0YWJsZSBmb290ZXIgdGhpcyBmdW5jdGlvblxuXHRcdCAqIGFsbG93cyB5b3UgdG8gbW9kaWZ5IHRoZSB0YWJsZSBmb290ZXIgb24gZXZlcnkgJ2RyYXcnIGV2ZW50LlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge25vZGV9IGZvb3QgXCJUUlwiIGVsZW1lbnQgZm9yIHRoZSBmb290ZXJcblx0XHQgKiAgQHBhcmFtIHthcnJheX0gZGF0YSBGdWxsIHRhYmxlIGRhdGEgKGFzIGRlcml2ZWQgZnJvbSB0aGUgb3JpZ2luYWwgSFRNTClcblx0XHQgKiAgQHBhcmFtIHtpbnR9IHN0YXJ0IEluZGV4IGZvciB0aGUgY3VycmVudCBkaXNwbGF5IHN0YXJ0aW5nIHBvaW50IGluIHRoZVxuXHRcdCAqICAgIGRpc3BsYXkgYXJyYXlcblx0XHQgKiAgQHBhcmFtIHtpbnR9IGVuZCBJbmRleCBmb3IgdGhlIGN1cnJlbnQgZGlzcGxheSBlbmRpbmcgcG9pbnQgaW4gdGhlXG5cdFx0ICogICAgZGlzcGxheSBhcnJheVxuXHRcdCAqICBAcGFyYW0ge2FycmF5IGludH0gZGlzcGxheSBJbmRleCBhcnJheSB0byB0cmFuc2xhdGUgdGhlIHZpc3VhbCBwb3NpdGlvblxuXHRcdCAqICAgIHRvIHRoZSBmdWxsIGRhdGEgYXJyYXlcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgQ2FsbGJhY2tzXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5mb290ZXJDYWxsYmFja1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJmb290ZXJDYWxsYmFja1wiOiBmdW5jdGlvbiggdGZvb3QsIGRhdGEsIHN0YXJ0LCBlbmQsIGRpc3BsYXkgKSB7XG5cdFx0ICogICAgICAgICAgdGZvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RoJylbMF0uaW5uZXJIVE1MID0gXCJTdGFydGluZyBpbmRleCBpcyBcIitzdGFydDtcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKVxuXHRcdCAqL1xuXHRcdFwiZm5Gb290ZXJDYWxsYmFja1wiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogV2hlbiByZW5kZXJpbmcgbGFyZ2UgbnVtYmVycyBpbiB0aGUgaW5mb3JtYXRpb24gZWxlbWVudCBmb3IgdGhlIHRhYmxlXG5cdFx0ICogKGkuZS4gXCJTaG93aW5nIDEgdG8gMTAgb2YgNTcgZW50cmllc1wiKSBEYXRhVGFibGVzIHdpbGwgcmVuZGVyIGxhcmdlIG51bWJlcnNcblx0XHQgKiB0byBoYXZlIGEgY29tbWEgc2VwYXJhdG9yIGZvciB0aGUgJ3Rob3VzYW5kcycgdW5pdHMgKGUuZy4gMSBtaWxsaW9uIGlzXG5cdFx0ICogcmVuZGVyZWQgYXMgXCIxLDAwMCwwMDBcIikgdG8gaGVscCByZWFkYWJpbGl0eSBmb3IgdGhlIGVuZCB1c2VyLiBUaGlzXG5cdFx0ICogZnVuY3Rpb24gd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBtZXRob2QgRGF0YVRhYmxlcyB1c2VzLlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAbWVtYmVyXG5cdFx0ICogIEBwYXJhbSB7aW50fSB0b0Zvcm1hdCBudW1iZXIgdG8gYmUgZm9ybWF0dGVkXG5cdFx0ICogIEByZXR1cm5zIHtzdHJpbmd9IGZvcm1hdHRlZCBzdHJpbmcgZm9yIERhdGFUYWJsZXMgdG8gc2hvdyB0aGUgbnVtYmVyXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IENhbGxiYWNrc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuZm9ybWF0TnVtYmVyXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBGb3JtYXQgYSBudW1iZXIgdXNpbmcgYSBzaW5nbGUgcXVvdGUgZm9yIHRoZSBzZXBhcmF0b3IgKG5vdGUgdGhhdFxuXHRcdCAqICAgIC8vIHRoaXMgY2FuIGFsc28gYmUgZG9uZSB3aXRoIHRoZSBsYW5ndWFnZS50aG91c2FuZHMgb3B0aW9uKVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiZm9ybWF0TnVtYmVyXCI6IGZ1bmN0aW9uICggdG9Gb3JtYXQgKSB7XG5cdFx0ICogICAgICAgICAgcmV0dXJuIHRvRm9ybWF0LnRvU3RyaW5nKCkucmVwbGFjZShcblx0XHQgKiAgICAgICAgICAgIC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIidcIlxuXHRcdCAqICAgICAgICAgICk7XG5cdFx0ICogICAgICAgIH07XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiZm5Gb3JtYXROdW1iZXJcIjogZnVuY3Rpb24gKCB0b0Zvcm1hdCApIHtcblx0XHRcdHJldHVybiB0b0Zvcm1hdC50b1N0cmluZygpLnJlcGxhY2UoXG5cdFx0XHRcdC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLFxuXHRcdFx0XHR0aGlzLm9MYW5ndWFnZS5zVGhvdXNhbmRzXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBldmVyeSAnZHJhdycgZXZlbnQsIGFuZCBhbGxvd3MgeW91IHRvXG5cdFx0ICogZHluYW1pY2FsbHkgbW9kaWZ5IHRoZSBoZWFkZXIgcm93LiBUaGlzIGNhbiBiZSB1c2VkIHRvIGNhbGN1bGF0ZSBhbmRcblx0XHQgKiBkaXNwbGF5IHVzZWZ1bCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdGFibGUuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBwYXJhbSB7bm9kZX0gaGVhZCBcIlRSXCIgZWxlbWVudCBmb3IgdGhlIGhlYWRlclxuXHRcdCAqICBAcGFyYW0ge2FycmF5fSBkYXRhIEZ1bGwgdGFibGUgZGF0YSAoYXMgZGVyaXZlZCBmcm9tIHRoZSBvcmlnaW5hbCBIVE1MKVxuXHRcdCAqICBAcGFyYW0ge2ludH0gc3RhcnQgSW5kZXggZm9yIHRoZSBjdXJyZW50IGRpc3BsYXkgc3RhcnRpbmcgcG9pbnQgaW4gdGhlXG5cdFx0ICogICAgZGlzcGxheSBhcnJheVxuXHRcdCAqICBAcGFyYW0ge2ludH0gZW5kIEluZGV4IGZvciB0aGUgY3VycmVudCBkaXNwbGF5IGVuZGluZyBwb2ludCBpbiB0aGVcblx0XHQgKiAgICBkaXNwbGF5IGFycmF5XG5cdFx0ICogIEBwYXJhbSB7YXJyYXkgaW50fSBkaXNwbGF5IEluZGV4IGFycmF5IHRvIHRyYW5zbGF0ZSB0aGUgdmlzdWFsIHBvc2l0aW9uXG5cdFx0ICogICAgdG8gdGhlIGZ1bGwgZGF0YSBhcnJheVxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBDYWxsYmFja3Ncblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmhlYWRlckNhbGxiYWNrXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImZoZWFkZXJDYWxsYmFja1wiOiBmdW5jdGlvbiggaGVhZCwgZGF0YSwgc3RhcnQsIGVuZCwgZGlzcGxheSApIHtcblx0XHQgKiAgICAgICAgICBoZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aCcpWzBdLmlubmVySFRNTCA9IFwiRGlzcGxheWluZyBcIisoZW5kLXN0YXJ0KStcIiByZWNvcmRzXCI7XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9IClcblx0XHQgKi9cblx0XHRcImZuSGVhZGVyQ2FsbGJhY2tcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBpbmZvcm1hdGlvbiBlbGVtZW50IGNhbiBiZSB1c2VkIHRvIGNvbnZleSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudFxuXHRcdCAqIHN0YXRlIG9mIHRoZSB0YWJsZS4gQWx0aG91Z2ggdGhlIGludGVybmF0aW9uYWxpc2F0aW9uIG9wdGlvbnMgcHJlc2VudGVkIGJ5XG5cdFx0ICogRGF0YVRhYmxlcyBhcmUgcXVpdGUgY2FwYWJsZSBvZiBkZWFsaW5nIHdpdGggbW9zdCBjdXN0b21pc2F0aW9ucywgdGhlcmUgbWF5XG5cdFx0ICogYmUgdGltZXMgd2hlcmUgeW91IHdpc2ggdG8gY3VzdG9taXNlIHRoZSBzdHJpbmcgZnVydGhlci4gVGhpcyBjYWxsYmFja1xuXHRcdCAqIGFsbG93cyB5b3UgdG8gZG8gZXhhY3RseSB0aGF0LlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0ICogIEBwYXJhbSB7aW50fSBzdGFydCBTdGFydGluZyBwb3NpdGlvbiBpbiBkYXRhIGZvciB0aGUgZHJhd1xuXHRcdCAqICBAcGFyYW0ge2ludH0gZW5kIEVuZCBwb3NpdGlvbiBpbiBkYXRhIGZvciB0aGUgZHJhd1xuXHRcdCAqICBAcGFyYW0ge2ludH0gbWF4IFRvdGFsIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZSAocmVnYXJkbGVzcyBvZlxuXHRcdCAqICAgIGZpbHRlcmluZylcblx0XHQgKiAgQHBhcmFtIHtpbnR9IHRvdGFsIFRvdGFsIG51bWJlciBvZiByb3dzIGluIHRoZSBkYXRhIHNldCwgYWZ0ZXIgZmlsdGVyaW5nXG5cdFx0ICogIEBwYXJhbSB7c3RyaW5nfSBwcmUgVGhlIHN0cmluZyB0aGF0IERhdGFUYWJsZXMgaGFzIGZvcm1hdHRlZCB1c2luZyBpdCdzXG5cdFx0ICogICAgb3duIHJ1bGVzXG5cdFx0ICogIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBpbmZvcm1hdGlvbiBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBDYWxsYmFja3Ncblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmluZm9DYWxsYmFja1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgIFwiaW5mb0NhbGxiYWNrXCI6IGZ1bmN0aW9uKCBzZXR0aW5ncywgc3RhcnQsIGVuZCwgbWF4LCB0b3RhbCwgcHJlICkge1xuXHRcdCAqICAgICAgICByZXR1cm4gc3RhcnQgK1wiIHRvIFwiKyBlbmQ7XG5cdFx0ICogICAgICB9XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiZm5JbmZvQ2FsbGJhY2tcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxlZCB3aGVuIHRoZSB0YWJsZSBoYXMgYmVlbiBpbml0aWFsaXNlZC4gTm9ybWFsbHkgRGF0YVRhYmxlcyB3aWxsXG5cdFx0ICogaW5pdGlhbGlzZSBzZXF1ZW50aWFsbHkgYW5kIHRoZXJlIHdpbGwgYmUgbm8gbmVlZCBmb3IgdGhpcyBmdW5jdGlvbixcblx0XHQgKiBob3dldmVyLCB0aGlzIGRvZXMgbm90IGhvbGQgdHJ1ZSB3aGVuIHVzaW5nIGV4dGVybmFsIGxhbmd1YWdlIGluZm9ybWF0aW9uXG5cdFx0ICogc2luY2UgdGhhdCBpcyBvYnRhaW5lZCB1c2luZyBhbiBhc3luYyBYSFIgY2FsbC5cblx0XHQgKiAgQHR5cGUgZnVuY3Rpb25cblx0XHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0ICogIEBwYXJhbSB7b2JqZWN0fSBqc29uIFRoZSBKU09OIG9iamVjdCByZXF1ZXN0IGZyb20gdGhlIHNlcnZlciAtIG9ubHlcblx0XHQgKiAgICBwcmVzZW50IGlmIGNsaWVudC1zaWRlIEFqYXggc291cmNlZCBkYXRhIGlzIHVzZWRcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgQ2FsbGJhY2tzXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5pbml0Q29tcGxldGVcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiaW5pdENvbXBsZXRlXCI6IGZ1bmN0aW9uKHNldHRpbmdzLCBqc29uKSB7XG5cdFx0ICogICAgICAgICAgYWxlcnQoICdEYXRhVGFibGVzIGhhcyBmaW5pc2hlZCBpdHMgaW5pdGlhbGlzYXRpb24uJyApO1xuXHRcdCAqICAgICAgICB9XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApXG5cdFx0ICovXG5cdFx0XCJmbkluaXRDb21wbGV0ZVwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FsbGVkIGF0IHRoZSB2ZXJ5IHN0YXJ0IG9mIGVhY2ggdGFibGUgZHJhdyBhbmQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZVxuXHRcdCAqIGRyYXcgYnkgcmV0dXJuaW5nIGZhbHNlLCBhbnkgb3RoZXIgcmV0dXJuIChpbmNsdWRpbmcgdW5kZWZpbmVkKSByZXN1bHRzIGluXG5cdFx0ICogdGhlIGZ1bGwgZHJhdyBvY2N1cnJpbmcpLlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgRGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0XHQgKiAgQHJldHVybnMge2Jvb2xlYW59IEZhbHNlIHdpbGwgY2FuY2VsIHRoZSBkcmF3LCBhbnl0aGluZyBlbHNlIChpbmNsdWRpbmcgbm9cblx0XHQgKiAgICByZXR1cm4pIHdpbGwgYWxsb3cgaXQgdG8gY29tcGxldGUuXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IENhbGxiYWNrc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMucHJlRHJhd0NhbGxiYWNrXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInByZURyYXdDYWxsYmFja1wiOiBmdW5jdGlvbiggc2V0dGluZ3MgKSB7XG5cdFx0ICogICAgICAgICAgaWYgKCAkKCcjdGVzdCcpLnZhbCgpID09IDEgKSB7XG5cdFx0ICogICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICogICAgICAgICAgfVxuXHRcdCAqICAgICAgICB9XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiZm5QcmVEcmF3Q2FsbGJhY2tcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byAncG9zdCBwcm9jZXNzJyBlYWNoIHJvdyBhZnRlciBpdCBoYXZlIGJlZW5cblx0XHQgKiBnZW5lcmF0ZWQgZm9yIGVhY2ggdGFibGUgZHJhdywgYnV0IGJlZm9yZSBpdCBpcyByZW5kZXJlZCBvbiBzY3JlZW4uIFRoaXNcblx0XHQgKiBmdW5jdGlvbiBtaWdodCBiZSB1c2VkIGZvciBzZXR0aW5nIHRoZSByb3cgY2xhc3MgbmFtZSBldGMuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBwYXJhbSB7bm9kZX0gcm93IFwiVFJcIiBlbGVtZW50IGZvciB0aGUgY3VycmVudCByb3dcblx0XHQgKiAgQHBhcmFtIHthcnJheX0gZGF0YSBSYXcgZGF0YSBhcnJheSBmb3IgdGhpcyByb3dcblx0XHQgKiAgQHBhcmFtIHtpbnR9IGRpc3BsYXlJbmRleCBUaGUgZGlzcGxheSBpbmRleCBmb3IgdGhlIGN1cnJlbnQgdGFibGUgZHJhd1xuXHRcdCAqICBAcGFyYW0ge2ludH0gZGlzcGxheUluZGV4RnVsbCBUaGUgaW5kZXggb2YgdGhlIGRhdGEgaW4gdGhlIGZ1bGwgbGlzdCBvZlxuXHRcdCAqICAgIHJvd3MgKGFmdGVyIGZpbHRlcmluZylcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgQ2FsbGJhY2tzXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5yb3dDYWxsYmFja1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJyb3dDYWxsYmFja1wiOiBmdW5jdGlvbiggcm93LCBkYXRhLCBkaXNwbGF5SW5kZXgsIGRpc3BsYXlJbmRleEZ1bGwgKSB7XG5cdFx0ICogICAgICAgICAgLy8gQm9sZCB0aGUgZ3JhZGUgZm9yIGFsbCAnQScgZ3JhZGUgYnJvd3NlcnNcblx0XHQgKiAgICAgICAgICBpZiAoIGRhdGFbNF0gPT0gXCJBXCIgKSB7XG5cdFx0ICogICAgICAgICAgICAkKCd0ZDplcSg0KScsIHJvdykuaHRtbCggJzxiPkE8L2I+JyApO1xuXHRcdCAqICAgICAgICAgIH1cblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImZuUm93Q2FsbGJhY2tcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIF9fRGVwcmVjYXRlZF9fIFRoZSBmdW5jdGlvbmFsaXR5IHByb3ZpZGVkIGJ5IHRoaXMgcGFyYW1ldGVyIGhhcyBub3cgYmVlblxuXHRcdCAqIHN1cGVyc2VkZWQgYnkgdGhhdCBwcm92aWRlZCB0aHJvdWdoIGBhamF4YCwgd2hpY2ggc2hvdWxkIGJlIHVzZWQgaW5zdGVhZC5cblx0XHQgKlxuXHRcdCAqIFRoaXMgcGFyYW1ldGVyIGFsbG93cyB5b3UgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgZnVuY3Rpb24gd2hpY2ggb2J0YWluc1xuXHRcdCAqIHRoZSBkYXRhIGZyb20gdGhlIHNlcnZlciBzbyBzb21ldGhpbmcgbW9yZSBzdWl0YWJsZSBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblx0XHQgKiBGb3IgZXhhbXBsZSB5b3UgY291bGQgdXNlIFBPU1QgZGF0YSwgb3IgcHVsbCBpbmZvcm1hdGlvbiBmcm9tIGEgR2VhcnMgb3Jcblx0XHQgKiBBSVIgZGF0YWJhc2UuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBtZW1iZXJcblx0XHQgKiAgQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBIVFRQIHNvdXJjZSB0byBvYnRhaW4gdGhlIGRhdGEgZnJvbSAoYGFqYXhgKVxuXHRcdCAqICBAcGFyYW0ge2FycmF5fSBkYXRhIEEga2V5L3ZhbHVlIHBhaXIgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRhdGEgdG8gc2VuZFxuXHRcdCAqICAgIHRvIHRoZSBzZXJ2ZXJcblx0XHQgKiAgQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIGNvbXBsZXRpb24gb2YgdGhlIGRhdGEgZ2V0XG5cdFx0ICogICAgcHJvY2VzcyB0aGF0IHdpbGwgZHJhdyB0aGUgZGF0YSBvbiB0aGUgcGFnZS5cblx0XHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IENhbGxiYWNrc1xuXHRcdCAqICBAZHRvcHQgU2VydmVyLXNpZGVcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnNlcnZlckRhdGFcblx0XHQgKlxuXHRcdCAqICBAZGVwcmVjYXRlZCAxLjEwLiBQbGVhc2UgdXNlIGBhamF4YCBmb3IgdGhpcyBmdW5jdGlvbmFsaXR5IG5vdy5cblx0XHQgKi9cblx0XHRcImZuU2VydmVyRGF0YVwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogX19EZXByZWNhdGVkX18gVGhlIGZ1bmN0aW9uYWxpdHkgcHJvdmlkZWQgYnkgdGhpcyBwYXJhbWV0ZXIgaGFzIG5vdyBiZWVuXG5cdFx0ICogc3VwZXJzZWRlZCBieSB0aGF0IHByb3ZpZGVkIHRocm91Z2ggYGFqYXhgLCB3aGljaCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuXHRcdCAqXG5cdFx0ICogIEl0IGlzIG9mdGVuIHVzZWZ1bCB0byBzZW5kIGV4dHJhIGRhdGEgdG8gdGhlIHNlcnZlciB3aGVuIG1ha2luZyBhbiBBamF4XG5cdFx0ICogcmVxdWVzdCAtIGZvciBleGFtcGxlIGN1c3RvbSBmaWx0ZXJpbmcgaW5mb3JtYXRpb24sIGFuZCB0aGlzIGNhbGxiYWNrXG5cdFx0ICogZnVuY3Rpb24gbWFrZXMgaXQgdHJpdmlhbCB0byBzZW5kIGV4dHJhIGluZm9ybWF0aW9uIHRvIHRoZSBzZXJ2ZXIuIFRoZVxuXHRcdCAqIHBhc3NlZCBpbiBwYXJhbWV0ZXIgaXMgdGhlIGRhdGEgc2V0IHRoYXQgaGFzIGJlZW4gY29uc3RydWN0ZWQgYnlcblx0XHQgKiBEYXRhVGFibGVzLCBhbmQgeW91IGNhbiBhZGQgdG8gdGhpcyBvciBtb2RpZnkgaXQgYXMgeW91IHJlcXVpcmUuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBwYXJhbSB7YXJyYXl9IGRhdGEgRGF0YSBhcnJheSAoYXJyYXkgb2Ygb2JqZWN0cyB3aGljaCBhcmUgbmFtZS92YWx1ZVxuXHRcdCAqICAgIHBhaXJzKSB0aGF0IGhhcyBiZWVuIGNvbnN0cnVjdGVkIGJ5IERhdGFUYWJsZXMgYW5kIHdpbGwgYmUgc2VudCB0byB0aGVcblx0XHQgKiAgICBzZXJ2ZXIuIEluIHRoZSBjYXNlIG9mIEFqYXggc291cmNlZCBkYXRhIHdpdGggc2VydmVyLXNpZGUgcHJvY2Vzc2luZ1xuXHRcdCAqICAgIHRoaXMgd2lsbCBiZSBhbiBlbXB0eSBhcnJheSwgZm9yIHNlcnZlci1zaWRlIHByb2Nlc3NpbmcgdGhlcmUgd2lsbCBiZSBhXG5cdFx0ICogICAgc2lnbmlmaWNhbnQgbnVtYmVyIG9mIHBhcmFtZXRlcnMhXG5cdFx0ICogIEByZXR1cm5zIHt1bmRlZmluZWR9IEVuc3VyZSB0aGF0IHlvdSBtb2RpZnkgdGhlIGRhdGEgYXJyYXkgcGFzc2VkIGluLFxuXHRcdCAqICAgIGFzIHRoaXMgaXMgcGFzc2VkIGJ5IHJlZmVyZW5jZS5cblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgQ2FsbGJhY2tzXG5cdFx0ICogIEBkdG9wdCBTZXJ2ZXItc2lkZVxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuc2VydmVyUGFyYW1zXG5cdFx0ICpcblx0XHQgKiAgQGRlcHJlY2F0ZWQgMS4xMC4gUGxlYXNlIHVzZSBgYWpheGAgZm9yIHRoaXMgZnVuY3Rpb25hbGl0eSBub3cuXG5cdFx0ICovXG5cdFx0XCJmblNlcnZlclBhcmFtc1wiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogTG9hZCB0aGUgdGFibGUgc3RhdGUuIFdpdGggdGhpcyBmdW5jdGlvbiB5b3UgY2FuIGRlZmluZSBmcm9tIHdoZXJlLCBhbmQgaG93LCB0aGVcblx0XHQgKiBzdGF0ZSBvZiBhIHRhYmxlIGlzIGxvYWRlZC4gQnkgZGVmYXVsdCBEYXRhVGFibGVzIHdpbGwgbG9hZCBmcm9tIGBsb2NhbFN0b3JhZ2VgXG5cdFx0ICogYnV0IHlvdSBtaWdodCB3aXNoIHRvIHVzZSBhIHNlcnZlci1zaWRlIGRhdGFiYXNlIG9yIGNvb2tpZXMuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBtZW1iZXJcblx0XHQgKiAgQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0ICogIEByZXR1cm4ge29iamVjdH0gVGhlIERhdGFUYWJsZXMgc3RhdGUgb2JqZWN0IHRvIGJlIGxvYWRlZFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBDYWxsYmFja3Ncblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnN0YXRlTG9hZENhbGxiYWNrXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInN0YXRlU2F2ZVwiOiB0cnVlLFxuXHRcdCAqICAgICAgICBcInN0YXRlTG9hZENhbGxiYWNrXCI6IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuXHRcdCAqICAgICAgICAgIHZhciBvO1xuXHRcdCAqXG5cdFx0ICogICAgICAgICAgLy8gU2VuZCBhbiBBamF4IHJlcXVlc3QgdG8gdGhlIHNlcnZlciB0byBnZXQgdGhlIGRhdGEuIE5vdGUgdGhhdFxuXHRcdCAqICAgICAgICAgIC8vIHRoaXMgaXMgYSBzeW5jaHJvbm91cyByZXF1ZXN0LlxuXHRcdCAqICAgICAgICAgICQuYWpheCgge1xuXHRcdCAqICAgICAgICAgICAgXCJ1cmxcIjogXCIvc3RhdGVfbG9hZFwiLFxuXHRcdCAqICAgICAgICAgICAgXCJhc3luY1wiOiBmYWxzZSxcblx0XHQgKiAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogXCJqc29uXCIsXG5cdFx0ICogICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKGpzb24pIHtcblx0XHQgKiAgICAgICAgICAgICAgbyA9IGpzb247XG5cdFx0ICogICAgICAgICAgICB9XG5cdFx0ICogICAgICAgICAgfSApO1xuXHRcdCAqXG5cdFx0ICogICAgICAgICAgcmV0dXJuIG87XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJmblN0YXRlTG9hZENhbGxiYWNrXCI6IGZ1bmN0aW9uICggc2V0dGluZ3MgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShcblx0XHRcdFx0XHQoc2V0dGluZ3MuaVN0YXRlRHVyYXRpb24gPT09IC0xID8gc2Vzc2lvblN0b3JhZ2UgOiBsb2NhbFN0b3JhZ2UpLmdldEl0ZW0oXG5cdFx0XHRcdFx0XHQnRGF0YVRhYmxlc18nK3NldHRpbmdzLnNJbnN0YW5jZSsnXycrbG9jYXRpb24ucGF0aG5hbWVcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH0sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayB3aGljaCBhbGxvd3MgbW9kaWZpY2F0aW9uIG9mIHRoZSBzYXZlZCBzdGF0ZSBwcmlvciB0byBsb2FkaW5nIHRoYXQgc3RhdGUuXG5cdFx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgdGFibGUgaXMgbG9hZGluZyBzdGF0ZSBmcm9tIHRoZSBzdG9yZWQgZGF0YSwgYnV0XG5cdFx0ICogcHJpb3IgdG8gdGhlIHNldHRpbmdzIG9iamVjdCBiZWluZyBtb2RpZmllZCBieSB0aGUgc2F2ZWQgc3RhdGUuIE5vdGUgdGhhdCBmb3Jcblx0XHQgKiBwbHVnLWluIGF1dGhvcnMsIHlvdSBzaG91bGQgdXNlIHRoZSBgc3RhdGVMb2FkUGFyYW1zYCBldmVudCB0byBsb2FkIHBhcmFtZXRlcnMgZm9yXG5cdFx0ICogYSBwbHVnLWluLlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgRGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0XHQgKiAgQHBhcmFtIHtvYmplY3R9IGRhdGEgVGhlIHN0YXRlIG9iamVjdCB0aGF0IGlzIHRvIGJlIGxvYWRlZFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBDYWxsYmFja3Ncblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnN0YXRlTG9hZFBhcmFtc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gUmVtb3ZlIGEgc2F2ZWQgZmlsdGVyLCBzbyBmaWx0ZXJpbmcgaXMgbmV2ZXIgbG9hZGVkXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzdGF0ZVNhdmVcIjogdHJ1ZSxcblx0XHQgKiAgICAgICAgXCJzdGF0ZUxvYWRQYXJhbXNcIjogZnVuY3Rpb24gKHNldHRpbmdzLCBkYXRhKSB7XG5cdFx0ICogICAgICAgICAgZGF0YS5vU2VhcmNoLnNTZWFyY2ggPSBcIlwiO1xuXHRcdCAqICAgICAgICB9XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gRGlzYWxsb3cgc3RhdGUgbG9hZGluZyBieSByZXR1cm5pbmcgZmFsc2Vcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInN0YXRlU2F2ZVwiOiB0cnVlLFxuXHRcdCAqICAgICAgICBcInN0YXRlTG9hZFBhcmFtc1wiOiBmdW5jdGlvbiAoc2V0dGluZ3MsIGRhdGEpIHtcblx0XHQgKiAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJmblN0YXRlTG9hZFBhcmFtc1wiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgc3RhdGUgaGFzIGJlZW4gbG9hZGVkIGZyb20gdGhlIHN0YXRlIHNhdmluZyBtZXRob2Rcblx0XHQgKiBhbmQgdGhlIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0IGhhcyBiZWVuIG1vZGlmaWVkIGFzIGEgcmVzdWx0IG9mIHRoZSBsb2FkZWQgc3RhdGUuXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqICBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGxvYWRlZFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBDYWxsYmFja3Ncblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnN0YXRlTG9hZGVkXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBTaG93IGFuIGFsZXJ0IHdpdGggdGhlIGZpbHRlcmluZyB2YWx1ZSB0aGF0IHdhcyBzYXZlZFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic3RhdGVTYXZlXCI6IHRydWUsXG5cdFx0ICogICAgICAgIFwic3RhdGVMb2FkZWRcIjogZnVuY3Rpb24gKHNldHRpbmdzLCBkYXRhKSB7XG5cdFx0ICogICAgICAgICAgYWxlcnQoICdTYXZlZCBmaWx0ZXIgd2FzOiAnK2RhdGEub1NlYXJjaC5zU2VhcmNoICk7XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJmblN0YXRlTG9hZGVkXCI6IG51bGwsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBTYXZlIHRoZSB0YWJsZSBzdGF0ZS4gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIGRlZmluZSB3aGVyZSBhbmQgaG93IHRoZSBzdGF0ZVxuXHRcdCAqIGluZm9ybWF0aW9uIGZvciB0aGUgdGFibGUgaXMgc3RvcmVkIEJ5IGRlZmF1bHQgRGF0YVRhYmxlcyB3aWxsIHVzZSBgbG9jYWxTdG9yYWdlYFxuXHRcdCAqIGJ1dCB5b3UgbWlnaHQgd2lzaCB0byB1c2UgYSBzZXJ2ZXItc2lkZSBkYXRhYmFzZSBvciBjb29raWVzLlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAbWVtYmVyXG5cdFx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqICBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgc3RhdGUgb2JqZWN0IHRvIGJlIHNhdmVkXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IENhbGxiYWNrc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuc3RhdGVTYXZlQ2FsbGJhY2tcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic3RhdGVTYXZlXCI6IHRydWUsXG5cdFx0ICogICAgICAgIFwic3RhdGVTYXZlQ2FsbGJhY2tcIjogZnVuY3Rpb24gKHNldHRpbmdzLCBkYXRhKSB7XG5cdFx0ICogICAgICAgICAgLy8gU2VuZCBhbiBBamF4IHJlcXVlc3QgdG8gdGhlIHNlcnZlciB3aXRoIHRoZSBzdGF0ZSBvYmplY3Rcblx0XHQgKiAgICAgICAgICAkLmFqYXgoIHtcblx0XHQgKiAgICAgICAgICAgIFwidXJsXCI6IFwiL3N0YXRlX3NhdmVcIixcblx0XHQgKiAgICAgICAgICAgIFwiZGF0YVwiOiBkYXRhLFxuXHRcdCAqICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiBcImpzb25cIixcblx0XHQgKiAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiUE9TVFwiXG5cdFx0ICogICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKCkge31cblx0XHQgKiAgICAgICAgICB9ICk7XG5cdFx0ICogICAgICAgIH1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJmblN0YXRlU2F2ZUNhbGxiYWNrXCI6IGZ1bmN0aW9uICggc2V0dGluZ3MsIGRhdGEgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQoc2V0dGluZ3MuaVN0YXRlRHVyYXRpb24gPT09IC0xID8gc2Vzc2lvblN0b3JhZ2UgOiBsb2NhbFN0b3JhZ2UpLnNldEl0ZW0oXG5cdFx0XHRcdFx0J0RhdGFUYWJsZXNfJytzZXR0aW5ncy5zSW5zdGFuY2UrJ18nK2xvY2F0aW9uLnBhdGhuYW1lLFxuXHRcdFx0XHRcdEpTT04uc3RyaW5naWZ5KCBkYXRhIClcblx0XHRcdFx0KTtcblx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrIHdoaWNoIGFsbG93cyBtb2RpZmljYXRpb24gb2YgdGhlIHN0YXRlIHRvIGJlIHNhdmVkLiBDYWxsZWQgd2hlbiB0aGUgdGFibGVcblx0XHQgKiBoYXMgY2hhbmdlZCBzdGF0ZSBhIG5ldyBzdGF0ZSBzYXZlIGlzIHJlcXVpcmVkLiBUaGlzIG1ldGhvZCBhbGxvd3MgbW9kaWZpY2F0aW9uIG9mXG5cdFx0ICogdGhlIHN0YXRlIHNhdmluZyBvYmplY3QgcHJpb3IgdG8gYWN0dWFsbHkgZG9pbmcgdGhlIHNhdmUsIGluY2x1ZGluZyBhZGRpdGlvbiBvclxuXHRcdCAqIG90aGVyIHN0YXRlIHByb3BlcnRpZXMgb3IgbW9kaWZpY2F0aW9uLiBOb3RlIHRoYXQgZm9yIHBsdWctaW4gYXV0aG9ycywgeW91IHNob3VsZFxuXHRcdCAqIHVzZSB0aGUgYHN0YXRlU2F2ZVBhcmFtc2AgZXZlbnQgdG8gc2F2ZSBwYXJhbWV0ZXJzIGZvciBhIHBsdWctaW4uXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqICBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgc3RhdGUgb2JqZWN0IHRvIGJlIHNhdmVkXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IENhbGxiYWNrc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuc3RhdGVTYXZlUGFyYW1zXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBSZW1vdmUgYSBzYXZlZCBmaWx0ZXIsIHNvIGZpbHRlcmluZyBpcyBuZXZlciBzYXZlZFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic3RhdGVTYXZlXCI6IHRydWUsXG5cdFx0ICogICAgICAgIFwic3RhdGVTYXZlUGFyYW1zXCI6IGZ1bmN0aW9uIChzZXR0aW5ncywgZGF0YSkge1xuXHRcdCAqICAgICAgICAgIGRhdGEub1NlYXJjaC5zU2VhcmNoID0gXCJcIjtcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImZuU3RhdGVTYXZlUGFyYW1zXCI6IG51bGwsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBEdXJhdGlvbiBmb3Igd2hpY2ggdGhlIHNhdmVkIHN0YXRlIGluZm9ybWF0aW9uIGlzIGNvbnNpZGVyZWQgdmFsaWQuIEFmdGVyIHRoaXMgcGVyaW9kXG5cdFx0ICogaGFzIGVsYXBzZWQgdGhlIHN0YXRlIHdpbGwgYmUgcmV0dXJuZWQgdG8gdGhlIGRlZmF1bHQuXG5cdFx0ICogVmFsdWUgaXMgZ2l2ZW4gaW4gc2Vjb25kcy5cblx0XHQgKiAgQHR5cGUgaW50XG5cdFx0ICogIEBkZWZhdWx0IDcyMDAgPGk+KDIgaG91cnMpPC9pPlxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5zdGF0ZUR1cmF0aW9uXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInN0YXRlRHVyYXRpb25cIjogNjAqNjAqMjQ7IC8vIDEgZGF5XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApXG5cdFx0ICovXG5cdFx0XCJpU3RhdGVEdXJhdGlvblwiOiA3MjAwLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogV2hlbiBlbmFibGVkIERhdGFUYWJsZXMgd2lsbCBub3QgbWFrZSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciBmb3IgdGhlIGZpcnN0XG5cdFx0ICogcGFnZSBkcmF3IC0gcmF0aGVyIGl0IHdpbGwgdXNlIHRoZSBkYXRhIGFscmVhZHkgb24gdGhlIHBhZ2UgKG5vIHNvcnRpbmcgZXRjXG5cdFx0ICogd2lsbCBiZSBhcHBsaWVkIHRvIGl0KSwgdGh1cyBzYXZpbmcgb24gYW4gWEhSIGF0IGxvYWQgdGltZS4gYGRlZmVyTG9hZGluZ2Bcblx0XHQgKiBpcyB1c2VkIHRvIGluZGljYXRlIHRoYXQgZGVmZXJyZWQgbG9hZGluZyBpcyByZXF1aXJlZCwgYnV0IGl0IGlzIGFsc28gdXNlZFxuXHRcdCAqIHRvIHRlbGwgRGF0YVRhYmxlcyBob3cgbWFueSByZWNvcmRzIHRoZXJlIGFyZSBpbiB0aGUgZnVsbCB0YWJsZSAoYWxsb3dpbmdcblx0XHQgKiB0aGUgaW5mb3JtYXRpb24gZWxlbWVudCBhbmQgcGFnaW5hdGlvbiB0byBiZSBkaXNwbGF5ZWQgY29ycmVjdGx5KS4gSW4gdGhlIGNhc2Vcblx0XHQgKiB3aGVyZSBhIGZpbHRlcmluZyBpcyBhcHBsaWVkIHRvIHRoZSB0YWJsZSBvbiBpbml0aWFsIGxvYWQsIHRoaXMgY2FuIGJlXG5cdFx0ICogaW5kaWNhdGVkIGJ5IGdpdmluZyB0aGUgcGFyYW1ldGVyIGFzIGFuIGFycmF5LCB3aGVyZSB0aGUgZmlyc3QgZWxlbWVudCBpc1xuXHRcdCAqIHRoZSBudW1iZXIgb2YgcmVjb3JkcyBhdmFpbGFibGUgYWZ0ZXIgZmlsdGVyaW5nIGFuZCB0aGUgc2Vjb25kIGVsZW1lbnQgaXMgdGhlXG5cdFx0ICogbnVtYmVyIG9mIHJlY29yZHMgd2l0aG91dCBmaWx0ZXJpbmcgKGFsbG93aW5nIHRoZSB0YWJsZSBpbmZvcm1hdGlvbiBlbGVtZW50XG5cdFx0ICogdG8gYmUgc2hvd24gY29ycmVjdGx5KS5cblx0XHQgKiAgQHR5cGUgaW50IHwgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5kZWZlckxvYWRpbmdcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIDU3IHJlY29yZHMgYXZhaWxhYmxlIGluIHRoZSB0YWJsZSwgbm8gZmlsdGVyaW5nIGFwcGxpZWRcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInNlcnZlclNpZGVcIjogdHJ1ZSxcblx0XHQgKiAgICAgICAgXCJhamF4XCI6IFwic2NyaXB0cy9zZXJ2ZXJfcHJvY2Vzc2luZy5waHBcIixcblx0XHQgKiAgICAgICAgXCJkZWZlckxvYWRpbmdcIjogNTdcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyA1NyByZWNvcmRzIGFmdGVyIGZpbHRlcmluZywgMTAwIHdpdGhvdXQgZmlsdGVyaW5nIChhbiBpbml0aWFsIGZpbHRlciBhcHBsaWVkKVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic2VydmVyU2lkZVwiOiB0cnVlLFxuXHRcdCAqICAgICAgICBcImFqYXhcIjogXCJzY3JpcHRzL3NlcnZlcl9wcm9jZXNzaW5nLnBocFwiLFxuXHRcdCAqICAgICAgICBcImRlZmVyTG9hZGluZ1wiOiBbIDU3LCAxMDAgXSxcblx0XHQgKiAgICAgICAgXCJzZWFyY2hcIjoge1xuXHRcdCAqICAgICAgICAgIFwic2VhcmNoXCI6IFwibXlfZmlsdGVyXCJcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImlEZWZlckxvYWRpbmdcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIE51bWJlciBvZiByb3dzIHRvIGRpc3BsYXkgb24gYSBzaW5nbGUgcGFnZSB3aGVuIHVzaW5nIHBhZ2luYXRpb24uIElmXG5cdFx0ICogZmVhdHVyZSBlbmFibGVkIChgbGVuZ3RoQ2hhbmdlYCkgdGhlbiB0aGUgZW5kIHVzZXIgd2lsbCBiZSBhYmxlIHRvIG92ZXJyaWRlXG5cdFx0ICogdGhpcyB0byBhIGN1c3RvbSBzZXR0aW5nIHVzaW5nIGEgcG9wLXVwIG1lbnUuXG5cdFx0ICogIEB0eXBlIGludFxuXHRcdCAqICBAZGVmYXVsdCAxMFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5wYWdlTGVuZ3RoXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInBhZ2VMZW5ndGhcIjogNTBcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9IClcblx0XHQgKi9cblx0XHRcImlEaXNwbGF5TGVuZ3RoXCI6IDEwLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lIHRoZSBzdGFydGluZyBwb2ludCBmb3IgZGF0YSBkaXNwbGF5IHdoZW4gdXNpbmcgRGF0YVRhYmxlcyB3aXRoXG5cdFx0ICogcGFnaW5hdGlvbi4gTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIGlzIHRoZSBudW1iZXIgb2YgcmVjb3JkcywgcmF0aGVyIHRoYW5cblx0XHQgKiB0aGUgcGFnZSBudW1iZXIsIHNvIGlmIHlvdSBoYXZlIDEwIHJlY29yZHMgcGVyIHBhZ2UgYW5kIHdhbnQgdG8gc3RhcnQgb25cblx0XHQgKiB0aGUgdGhpcmQgcGFnZSwgaXQgc2hvdWxkIGJlIFwiMjBcIi5cblx0XHQgKiAgQHR5cGUgaW50XG5cdFx0ICogIEBkZWZhdWx0IDBcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuZGlzcGxheVN0YXJ0XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImRpc3BsYXlTdGFydFwiOiAyMFxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKVxuXHRcdCAqL1xuXHRcdFwiaURpc3BsYXlTdGFydFwiOiAwLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQnkgZGVmYXVsdCBEYXRhVGFibGVzIGFsbG93cyBrZXlib2FyZCBuYXZpZ2F0aW9uIG9mIHRoZSB0YWJsZSAoc29ydGluZywgcGFnaW5nLFxuXHRcdCAqIGFuZCBmaWx0ZXJpbmcpIGJ5IGFkZGluZyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHRvIHRoZSByZXF1aXJlZCBlbGVtZW50cy4gVGhpc1xuXHRcdCAqIGFsbG93cyB5b3UgdG8gdGFiIHRocm91Z2ggdGhlIGNvbnRyb2xzIGFuZCBwcmVzcyB0aGUgZW50ZXIga2V5IHRvIGFjdGl2YXRlIHRoZW0uXG5cdFx0ICogVGhlIHRhYmluZGV4IGlzIGRlZmF1bHQgMCwgbWVhbmluZyB0aGF0IHRoZSB0YWIgZm9sbG93cyB0aGUgZmxvdyBvZiB0aGUgZG9jdW1lbnQuXG5cdFx0ICogWW91IGNhbiBvdmVycnVsZSB0aGlzIHVzaW5nIHRoaXMgcGFyYW1ldGVyIGlmIHlvdSB3aXNoLiBVc2UgYSB2YWx1ZSBvZiAtMSB0b1xuXHRcdCAqIGRpc2FibGUgYnVpbHQtaW4ga2V5Ym9hcmQgbmF2aWdhdGlvbi5cblx0XHQgKiAgQHR5cGUgaW50XG5cdFx0ICogIEBkZWZhdWx0IDBcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMudGFiSW5kZXhcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwidGFiSW5kZXhcIjogMVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImlUYWJJbmRleFwiOiAwLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2xhc3NlcyB0aGF0IERhdGFUYWJsZXMgYXNzaWducyB0byB0aGUgdmFyaW91cyBjb21wb25lbnRzIGFuZCBmZWF0dXJlc1xuXHRcdCAqIHRoYXQgaXQgYWRkcyB0byB0aGUgSFRNTCB0YWJsZS4gVGhpcyBhbGxvd3MgY2xhc3NlcyB0byBiZSBjb25maWd1cmVkXG5cdFx0ICogZHVyaW5nIGluaXRpYWxpc2F0aW9uIGluIGFkZGl0aW9uIHRvIHRocm91Z2ggdGhlIHN0YXRpY1xuXHRcdCAqIHtAbGluayBEYXRhVGFibGUuZXh0Lm9TdGRDbGFzc2VzfSBvYmplY3QpLlxuXHRcdCAqICBAbmFtZXNwYWNlXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jbGFzc2VzXG5cdFx0ICovXG5cdFx0XCJvQ2xhc3Nlc1wiOiB7fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFsbCBzdHJpbmdzIHRoYXQgRGF0YVRhYmxlcyB1c2VzIGluIHRoZSB1c2VyIGludGVyZmFjZSB0aGF0IGl0IGNyZWF0ZXNcblx0XHQgKiBhcmUgZGVmaW5lZCBpbiB0aGlzIG9iamVjdCwgYWxsb3dpbmcgeW91IHRvIG1vZGlmaWVkIHRoZW0gaW5kaXZpZHVhbGx5IG9yXG5cdFx0ICogY29tcGxldGVseSByZXBsYWNlIHRoZW0gYWxsIGFzIHJlcXVpcmVkLlxuXHRcdCAqICBAbmFtZXNwYWNlXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZVxuXHRcdCAqL1xuXHRcdFwib0xhbmd1YWdlXCI6IHtcblx0XHRcdC8qKlxuXHRcdFx0ICogU3RyaW5ncyB0aGF0IGFyZSB1c2VkIGZvciBXQUktQVJJQSBsYWJlbHMgYW5kIGNvbnRyb2xzIG9ubHkgKHRoZXNlIGFyZSBub3Rcblx0XHRcdCAqIGFjdHVhbGx5IHZpc2libGUgb24gdGhlIHBhZ2UsIGJ1dCB3aWxsIGJlIHJlYWQgYnkgc2NyZWVucmVhZGVycywgYW5kIHRodXNcblx0XHRcdCAqIG11c3QgYmUgaW50ZXJuYXRpb25hbGlzZWQgYXMgd2VsbCkuXG5cdFx0XHQgKiAgQG5hbWVzcGFjZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5hcmlhXG5cdFx0XHQgKi9cblx0XHRcdFwib0FyaWFcIjoge1xuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogQVJJQSBsYWJlbCB0aGF0IGlzIGFkZGVkIHRvIHRoZSB0YWJsZSBoZWFkZXJzIHdoZW4gdGhlIGNvbHVtbiBtYXkgYmVcblx0XHRcdFx0ICogc29ydGVkIGFzY2VuZGluZyBieSBhY3RpdmluZyB0aGUgY29sdW1uIChjbGljayBvciByZXR1cm4gd2hlbiBmb2N1c2VkKS5cblx0XHRcdFx0ICogTm90ZSB0aGF0IHRoZSBjb2x1bW4gaGVhZGVyIGlzIHByZWZpeGVkIHRvIHRoaXMgc3RyaW5nLlxuXHRcdFx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0XHRcdCAqICBAZGVmYXVsdCA6IGFjdGl2YXRlIHRvIHNvcnQgY29sdW1uIGFzY2VuZGluZ1xuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiAgQGR0b3B0IExhbmd1YWdlXG5cdFx0XHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMubGFuZ3VhZ2UuYXJpYS5zb3J0QXNjZW5kaW5nXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0XHQgKiAgICAgICAgICBcImFyaWFcIjoge1xuXHRcdFx0XHQgKiAgICAgICAgICAgIFwic29ydEFzY2VuZGluZ1wiOiBcIiAtIGNsaWNrL3JldHVybiB0byBzb3J0IGFzY2VuZGluZ1wiXG5cdFx0XHRcdCAqICAgICAgICAgIH1cblx0XHRcdFx0ICogICAgICAgIH1cblx0XHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHRcdCAqICAgIH0gKTtcblx0XHRcdFx0ICovXG5cdFx0XHRcdFwic1NvcnRBc2NlbmRpbmdcIjogXCI6IGFjdGl2YXRlIHRvIHNvcnQgY29sdW1uIGFzY2VuZGluZ1wiLFxuXHRcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIEFSSUEgbGFiZWwgdGhhdCBpcyBhZGRlZCB0byB0aGUgdGFibGUgaGVhZGVycyB3aGVuIHRoZSBjb2x1bW4gbWF5IGJlXG5cdFx0XHRcdCAqIHNvcnRlZCBkZXNjZW5kaW5nIGJ5IGFjdGl2aW5nIHRoZSBjb2x1bW4gKGNsaWNrIG9yIHJldHVybiB3aGVuIGZvY3VzZWQpLlxuXHRcdFx0XHQgKiBOb3RlIHRoYXQgdGhlIGNvbHVtbiBoZWFkZXIgaXMgcHJlZml4ZWQgdG8gdGhpcyBzdHJpbmcuXG5cdFx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdFx0ICogIEBkZWZhdWx0IDogYWN0aXZhdGUgdG8gc29ydCBjb2x1bW4gYXNjZW5kaW5nXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICBAZHRvcHQgTGFuZ3VhZ2Vcblx0XHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5hcmlhLnNvcnREZXNjZW5kaW5nXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0XHQgKiAgICAgICAgICBcImFyaWFcIjoge1xuXHRcdFx0XHQgKiAgICAgICAgICAgIFwic29ydERlc2NlbmRpbmdcIjogXCIgLSBjbGljay9yZXR1cm4gdG8gc29ydCBkZXNjZW5kaW5nXCJcblx0XHRcdFx0ICogICAgICAgICAgfVxuXHRcdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdFx0ICogICAgfSApO1xuXHRcdFx0XHQgKi9cblx0XHRcdFx0XCJzU29ydERlc2NlbmRpbmdcIjogXCI6IGFjdGl2YXRlIHRvIHNvcnQgY29sdW1uIGRlc2NlbmRpbmdcIlxuXHRcdFx0fSxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFBhZ2luYXRpb24gc3RyaW5nIHVzZWQgYnkgRGF0YVRhYmxlcyBmb3IgdGhlIGJ1aWx0LWluIHBhZ2luYXRpb25cblx0XHRcdCAqIGNvbnRyb2wgdHlwZXMuXG5cdFx0XHQgKiAgQG5hbWVzcGFjZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5wYWdpbmF0ZVxuXHRcdFx0ICovXG5cdFx0XHRcIm9QYWdpbmF0ZVwiOiB7XG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBUZXh0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnZnVsbF9udW1iZXJzJyB0eXBlIG9mIHBhZ2luYXRpb24gZm9yIHRoZVxuXHRcdFx0XHQgKiBidXR0b24gdG8gdGFrZSB0aGUgdXNlciB0byB0aGUgZmlyc3QgcGFnZS5cblx0XHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0XHQgKiAgQGRlZmF1bHQgRmlyc3Rcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmxhbmd1YWdlLnBhZ2luYXRlLmZpcnN0XG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0XHQgKiAgICAgICAgICBcInBhZ2luYXRlXCI6IHtcblx0XHRcdFx0ICogICAgICAgICAgICBcImZpcnN0XCI6IFwiRmlyc3QgcGFnZVwiXG5cdFx0XHRcdCAqICAgICAgICAgIH1cblx0XHRcdFx0ICogICAgICAgIH1cblx0XHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHRcdCAqICAgIH0gKTtcblx0XHRcdFx0ICovXG5cdFx0XHRcdFwic0ZpcnN0XCI6IFwiRmlyc3RcIixcblx0XG5cdFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogVGV4dCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ2Z1bGxfbnVtYmVycycgdHlwZSBvZiBwYWdpbmF0aW9uIGZvciB0aGVcblx0XHRcdFx0ICogYnV0dG9uIHRvIHRha2UgdGhlIHVzZXIgdG8gdGhlIGxhc3QgcGFnZS5cblx0XHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0XHQgKiAgQGRlZmF1bHQgTGFzdFxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiAgQGR0b3B0IExhbmd1YWdlXG5cdFx0XHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMubGFuZ3VhZ2UucGFnaW5hdGUubGFzdFxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdFx0ICogICAgICAgICAgXCJwYWdpbmF0ZVwiOiB7XG5cdFx0XHRcdCAqICAgICAgICAgICAgXCJsYXN0XCI6IFwiTGFzdCBwYWdlXCJcblx0XHRcdFx0ICogICAgICAgICAgfVxuXHRcdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdFx0ICogICAgfSApO1xuXHRcdFx0XHQgKi9cblx0XHRcdFx0XCJzTGFzdFwiOiBcIkxhc3RcIixcblx0XG5cdFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogVGV4dCB0byB1c2UgZm9yIHRoZSAnbmV4dCcgcGFnaW5hdGlvbiBidXR0b24gKHRvIHRha2UgdGhlIHVzZXIgdG8gdGhlXG5cdFx0XHRcdCAqIG5leHQgcGFnZSkuXG5cdFx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdFx0ICogIEBkZWZhdWx0IE5leHRcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmxhbmd1YWdlLnBhZ2luYXRlLm5leHRcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdFx0XHQgKiAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG5cdFx0XHRcdCAqICAgICAgICAgIFwicGFnaW5hdGVcIjoge1xuXHRcdFx0XHQgKiAgICAgICAgICAgIFwibmV4dFwiOiBcIk5leHQgcGFnZVwiXG5cdFx0XHRcdCAqICAgICAgICAgIH1cblx0XHRcdFx0ICogICAgICAgIH1cblx0XHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHRcdCAqICAgIH0gKTtcblx0XHRcdFx0ICovXG5cdFx0XHRcdFwic05leHRcIjogXCJOZXh0XCIsXG5cdFxuXHRcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIFRleHQgdG8gdXNlIGZvciB0aGUgJ3ByZXZpb3VzJyBwYWdpbmF0aW9uIGJ1dHRvbiAodG8gdGFrZSB0aGUgdXNlciB0b1xuXHRcdFx0XHQgKiB0aGUgcHJldmlvdXMgcGFnZSkuXG5cdFx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdFx0ICogIEBkZWZhdWx0IFByZXZpb3VzXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqICBAZHRvcHQgTGFuZ3VhZ2Vcblx0XHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5wYWdpbmF0ZS5wcmV2aW91c1xuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdFx0ICogICAgICAgICAgXCJwYWdpbmF0ZVwiOiB7XG5cdFx0XHRcdCAqICAgICAgICAgICAgXCJwcmV2aW91c1wiOiBcIlByZXZpb3VzIHBhZ2VcIlxuXHRcdFx0XHQgKiAgICAgICAgICB9XG5cdFx0XHRcdCAqICAgICAgICB9XG5cdFx0XHRcdCAqICAgICAgfSApO1xuXHRcdFx0XHQgKiAgICB9ICk7XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRcInNQcmV2aW91c1wiOiBcIlByZXZpb3VzXCJcblx0XHRcdH0sXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBUaGlzIHN0cmluZyBpcyBzaG93biBpbiBwcmVmZXJlbmNlIHRvIGB6ZXJvUmVjb3Jkc2Agd2hlbiB0aGUgdGFibGUgaXNcblx0XHRcdCAqIGVtcHR5IG9mIGRhdGEgKHJlZ2FyZGxlc3Mgb2YgZmlsdGVyaW5nKS4gTm90ZSB0aGF0IHRoaXMgaXMgYW4gb3B0aW9uYWxcblx0XHRcdCAqIHBhcmFtZXRlciAtIGlmIGl0IGlzIG5vdCBnaXZlbiwgdGhlIHZhbHVlIG9mIGB6ZXJvUmVjb3Jkc2Agd2lsbCBiZSB1c2VkXG5cdFx0XHQgKiBpbnN0ZWFkIChlaXRoZXIgdGhlIGRlZmF1bHQgb3IgZ2l2ZW4gdmFsdWUpLlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0IE5vIGRhdGEgYXZhaWxhYmxlIGluIHRhYmxlXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5lbXB0eVRhYmxlXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHQgKiAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG5cdFx0XHQgKiAgICAgICAgICBcImVtcHR5VGFibGVcIjogXCJObyBkYXRhIGF2YWlsYWJsZSBpbiB0YWJsZVwiXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKi9cblx0XHRcdFwic0VtcHR5VGFibGVcIjogXCJObyBkYXRhIGF2YWlsYWJsZSBpbiB0YWJsZVwiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFRoaXMgc3RyaW5nIGdpdmVzIGluZm9ybWF0aW9uIHRvIHRoZSBlbmQgdXNlciBhYm91dCB0aGUgaW5mb3JtYXRpb25cblx0XHRcdCAqIHRoYXQgaXMgY3VycmVudCBvbiBkaXNwbGF5IG9uIHRoZSBwYWdlLiBUaGUgZm9sbG93aW5nIHRva2VucyBjYW4gYmVcblx0XHRcdCAqIHVzZWQgaW4gdGhlIHN0cmluZyBhbmQgd2lsbCBiZSBkeW5hbWljYWxseSByZXBsYWNlZCBhcyB0aGUgdGFibGVcblx0XHRcdCAqIGRpc3BsYXkgdXBkYXRlcy4gVGhpcyB0b2tlbnMgY2FuIGJlIHBsYWNlZCBhbnl3aGVyZSBpbiB0aGUgc3RyaW5nLCBvclxuXHRcdFx0ICogcmVtb3ZlZCBhcyBuZWVkZWQgYnkgdGhlIGxhbmd1YWdlIHJlcXVpcmVzOlxuXHRcdFx0ICpcblx0XHRcdCAqICogYFxcX1NUQVJUXFxfYCAtIERpc3BsYXkgaW5kZXggb2YgdGhlIGZpcnN0IHJlY29yZCBvbiB0aGUgY3VycmVudCBwYWdlXG5cdFx0XHQgKiAqIGBcXF9FTkRcXF9gIC0gRGlzcGxheSBpbmRleCBvZiB0aGUgbGFzdCByZWNvcmQgb24gdGhlIGN1cnJlbnQgcGFnZVxuXHRcdFx0ICogKiBgXFxfVE9UQUxcXF9gIC0gTnVtYmVyIG9mIHJlY29yZHMgaW4gdGhlIHRhYmxlIGFmdGVyIGZpbHRlcmluZ1xuXHRcdFx0ICogKiBgXFxfTUFYXFxfYCAtIE51bWJlciBvZiByZWNvcmRzIGluIHRoZSB0YWJsZSB3aXRob3V0IGZpbHRlcmluZ1xuXHRcdFx0ICogKiBgXFxfUEFHRVxcX2AgLSBDdXJyZW50IHBhZ2UgbnVtYmVyXG5cdFx0XHQgKiAqIGBcXF9QQUdFU1xcX2AgLSBUb3RhbCBudW1iZXIgb2YgcGFnZXMgb2YgZGF0YSBpbiB0aGUgdGFibGVcblx0XHRcdCAqXG5cdFx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0XHQgKiAgQGRlZmF1bHQgU2hvd2luZyBfU1RBUlRfIHRvIF9FTkRfIG9mIF9UT1RBTF8gZW50cmllc1xuXHRcdFx0ICpcblx0XHRcdCAqICBAZHRvcHQgTGFuZ3VhZ2Vcblx0XHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMubGFuZ3VhZ2UuaW5mb1xuXHRcdFx0ICpcblx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0ICogICAgICAgICAgXCJpbmZvXCI6IFwiU2hvd2luZyBwYWdlIF9QQUdFXyBvZiBfUEFHRVNfXCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzSW5mb1wiOiBcIlNob3dpbmcgX1NUQVJUXyB0byBfRU5EXyBvZiBfVE9UQUxfIGVudHJpZXNcIixcblx0XG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEaXNwbGF5IGluZm9ybWF0aW9uIHN0cmluZyBmb3Igd2hlbiB0aGUgdGFibGUgaXMgZW1wdHkuIFR5cGljYWxseSB0aGVcblx0XHRcdCAqIGZvcm1hdCBvZiB0aGlzIHN0cmluZyBzaG91bGQgbWF0Y2ggYGluZm9gLlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0IFNob3dpbmcgMCB0byAwIG9mIDAgZW50cmllc1xuXHRcdFx0ICpcblx0XHRcdCAqICBAZHRvcHQgTGFuZ3VhZ2Vcblx0XHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMubGFuZ3VhZ2UuaW5mb0VtcHR5XG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHQgKiAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG5cdFx0XHQgKiAgICAgICAgICBcImluZm9FbXB0eVwiOiBcIk5vIGVudHJpZXMgdG8gc2hvd1wiXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKi9cblx0XHRcdFwic0luZm9FbXB0eVwiOiBcIlNob3dpbmcgMCB0byAwIG9mIDAgZW50cmllc1wiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFdoZW4gYSB1c2VyIGZpbHRlcnMgdGhlIGluZm9ybWF0aW9uIGluIGEgdGFibGUsIHRoaXMgc3RyaW5nIGlzIGFwcGVuZGVkXG5cdFx0XHQgKiB0byB0aGUgaW5mb3JtYXRpb24gKGBpbmZvYCkgdG8gZ2l2ZSBhbiBpZGVhIG9mIGhvdyBzdHJvbmcgdGhlIGZpbHRlcmluZ1xuXHRcdFx0ICogaXMuIFRoZSB2YXJpYWJsZSBfTUFYXyBpcyBkeW5hbWljYWxseSB1cGRhdGVkLlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0IChmaWx0ZXJlZCBmcm9tIF9NQVhfIHRvdGFsIGVudHJpZXMpXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5pbmZvRmlsdGVyZWRcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdCAqICAgICAgICAgIFwiaW5mb0ZpbHRlcmVkXCI6IFwiIC0gZmlsdGVyaW5nIGZyb20gX01BWF8gcmVjb3Jkc1wiXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKi9cblx0XHRcdFwic0luZm9GaWx0ZXJlZFwiOiBcIihmaWx0ZXJlZCBmcm9tIF9NQVhfIHRvdGFsIGVudHJpZXMpXCIsXG5cdFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSWYgY2FuIGJlIHVzZWZ1bCB0byBhcHBlbmQgZXh0cmEgaW5mb3JtYXRpb24gdG8gdGhlIGluZm8gc3RyaW5nIGF0IHRpbWVzLFxuXHRcdFx0ICogYW5kIHRoaXMgdmFyaWFibGUgZG9lcyBleGFjdGx5IHRoYXQuIFRoaXMgaW5mb3JtYXRpb24gd2lsbCBiZSBhcHBlbmRlZCB0b1xuXHRcdFx0ICogdGhlIGBpbmZvYCAoYGluZm9FbXB0eWAgYW5kIGBpbmZvRmlsdGVyZWRgIGluIHdoYXRldmVyIGNvbWJpbmF0aW9uIHRoZXkgYXJlXG5cdFx0XHQgKiBiZWluZyB1c2VkKSBhdCBhbGwgdGltZXMuXG5cdFx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0XHQgKiAgQGRlZmF1bHQgPGk+RW1wdHkgc3RyaW5nPC9pPlxuXHRcdFx0ICpcblx0XHRcdCAqICBAZHRvcHQgTGFuZ3VhZ2Vcblx0XHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMubGFuZ3VhZ2UuaW5mb1Bvc3RGaXhcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdCAqICAgICAgICAgIFwiaW5mb1Bvc3RGaXhcIjogXCJBbGwgcmVjb3JkcyBzaG93biBhcmUgZGVyaXZlZCBmcm9tIHJlYWwgaW5mb3JtYXRpb24uXCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzSW5mb1Bvc3RGaXhcIjogXCJcIixcblx0XG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBUaGlzIGRlY2ltYWwgcGxhY2Ugb3BlcmF0b3IgaXMgYSBsaXR0bGUgZGlmZmVyZW50IGZyb20gdGhlIG90aGVyXG5cdFx0XHQgKiBsYW5ndWFnZSBvcHRpb25zIHNpbmNlIERhdGFUYWJsZXMgZG9lc24ndCBvdXRwdXQgZmxvYXRpbmcgcG9pbnRcblx0XHRcdCAqIG51bWJlcnMsIHNvIGl0IHdvbid0IGV2ZXIgdXNlIHRoaXMgZm9yIGRpc3BsYXkgb2YgYSBudW1iZXIuIFJhdGhlcixcblx0XHRcdCAqIHdoYXQgdGhpcyBwYXJhbWV0ZXIgZG9lcyBpcyBtb2RpZnkgdGhlIHNvcnQgbWV0aG9kcyBvZiB0aGUgdGFibGUgc29cblx0XHRcdCAqIHRoYXQgbnVtYmVycyB3aGljaCBhcmUgaW4gYSBmb3JtYXQgd2hpY2ggaGFzIGEgY2hhcmFjdGVyIG90aGVyIHRoYW5cblx0XHRcdCAqIGEgcGVyaW9kIChgLmApIGFzIGEgZGVjaW1hbCBwbGFjZSB3aWxsIGJlIHNvcnRlZCBudW1lcmljYWxseS5cblx0XHRcdCAqXG5cdFx0XHQgKiBOb3RlIHRoYXQgbnVtYmVycyB3aXRoIGRpZmZlcmVudCBkZWNpbWFsIHBsYWNlcyBjYW5ub3QgYmUgc2hvd24gaW5cblx0XHRcdCAqIHRoZSBzYW1lIHRhYmxlIGFuZCBzdGlsbCBiZSBzb3J0YWJsZSwgdGhlIHRhYmxlIG11c3QgYmUgY29uc2lzdGVudC5cblx0XHRcdCAqIEhvd2V2ZXIsIG11bHRpcGxlIGRpZmZlcmVudCB0YWJsZXMgb24gdGhlIHBhZ2UgY2FuIHVzZSBkaWZmZXJlbnRcblx0XHRcdCAqIGRlY2ltYWwgcGxhY2UgY2hhcmFjdGVycy5cblx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdCAqICBAZGVmYXVsdCBcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGR0b3B0IExhbmd1YWdlXG5cdFx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmxhbmd1YWdlLmRlY2ltYWxcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdCAqICAgICAgICAgIFwiZGVjaW1hbFwiOiBcIixcIlxuXHRcdFx0ICogICAgICAgICAgXCJ0aG91c2FuZHNcIjogXCIuXCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzRGVjaW1hbFwiOiBcIlwiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIERhdGFUYWJsZXMgaGFzIGEgYnVpbGQgaW4gbnVtYmVyIGZvcm1hdHRlciAoYGZvcm1hdE51bWJlcmApIHdoaWNoIGlzXG5cdFx0XHQgKiB1c2VkIHRvIGZvcm1hdCBsYXJnZSBudW1iZXJzIHRoYXQgYXJlIHVzZWQgaW4gdGhlIHRhYmxlIGluZm9ybWF0aW9uLlxuXHRcdFx0ICogQnkgZGVmYXVsdCBhIGNvbW1hIGlzIHVzZWQsIGJ1dCB0aGlzIGNhbiBiZSB0cml2aWFsbHkgY2hhbmdlZCB0byBhbnlcblx0XHRcdCAqIGNoYXJhY3RlciB5b3Ugd2lzaCB3aXRoIHRoaXMgcGFyYW1ldGVyLlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0ICxcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGR0b3B0IExhbmd1YWdlXG5cdFx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmxhbmd1YWdlLnRob3VzYW5kc1xuXHRcdFx0ICpcblx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0ICogICAgICAgICAgXCJ0aG91c2FuZHNcIjogXCInXCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzVGhvdXNhbmRzXCI6IFwiLFwiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIERldGFpbCB0aGUgYWN0aW9uIHRoYXQgd2lsbCBiZSB0YWtlbiB3aGVuIHRoZSBkcm9wIGRvd24gbWVudSBmb3IgdGhlXG5cdFx0XHQgKiBwYWdpbmF0aW9uIGxlbmd0aCBvcHRpb24gaXMgY2hhbmdlZC4gVGhlICdfTUVOVV8nIHZhcmlhYmxlIGlzIHJlcGxhY2VkXG5cdFx0XHQgKiB3aXRoIGEgZGVmYXVsdCBzZWxlY3QgbGlzdCBvZiAxMCwgMjUsIDUwIGFuZCAxMDAsIGFuZCBjYW4gYmUgcmVwbGFjZWRcblx0XHRcdCAqIHdpdGggYSBjdXN0b20gc2VsZWN0IGJveCBpZiByZXF1aXJlZC5cblx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdCAqICBAZGVmYXVsdCBTaG93IF9NRU5VXyBlbnRyaWVzXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5sZW5ndGhNZW51XG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAvLyBMYW5ndWFnZSBjaGFuZ2Ugb25seVxuXHRcdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0ICogICAgICAgICAgXCJsZW5ndGhNZW51XCI6IFwiRGlzcGxheSBfTUVOVV8gcmVjb3Jkc1wiXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAvLyBMYW5ndWFnZSBhbmQgb3B0aW9ucyBjaGFuZ2Vcblx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdCAqICAgICAgICAgIFwibGVuZ3RoTWVudVwiOiAnRGlzcGxheSA8c2VsZWN0PicrXG5cdFx0XHQgKiAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiMTBcIj4xMDwvb3B0aW9uPicrXG5cdFx0XHQgKiAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiMjBcIj4yMDwvb3B0aW9uPicrXG5cdFx0XHQgKiAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiMzBcIj4zMDwvb3B0aW9uPicrXG5cdFx0XHQgKiAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiNDBcIj40MDwvb3B0aW9uPicrXG5cdFx0XHQgKiAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiNTBcIj41MDwvb3B0aW9uPicrXG5cdFx0XHQgKiAgICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiLTFcIj5BbGw8L29wdGlvbj4nK1xuXHRcdFx0ICogICAgICAgICAgICAnPC9zZWxlY3Q+IHJlY29yZHMnXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKi9cblx0XHRcdFwic0xlbmd0aE1lbnVcIjogXCJTaG93IF9NRU5VXyBlbnRyaWVzXCIsXG5cdFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogV2hlbiB1c2luZyBBamF4IHNvdXJjZWQgZGF0YSBhbmQgZHVyaW5nIHRoZSBmaXJzdCBkcmF3IHdoZW4gRGF0YVRhYmxlcyBpc1xuXHRcdFx0ICogZ2F0aGVyaW5nIHRoZSBkYXRhLCB0aGlzIG1lc3NhZ2UgaXMgc2hvd24gaW4gYW4gZW1wdHkgcm93IGluIHRoZSB0YWJsZSB0b1xuXHRcdFx0ICogaW5kaWNhdGUgdG8gdGhlIGVuZCB1c2VyIHRoZSB0aGUgZGF0YSBpcyBiZWluZyBsb2FkZWQuIE5vdGUgdGhhdCB0aGlzXG5cdFx0XHQgKiBwYXJhbWV0ZXIgaXMgbm90IHVzZWQgd2hlbiBsb2FkaW5nIGRhdGEgYnkgc2VydmVyLXNpZGUgcHJvY2Vzc2luZywganVzdFxuXHRcdFx0ICogQWpheCBzb3VyY2VkIGRhdGEgd2l0aCBjbGllbnQtc2lkZSBwcm9jZXNzaW5nLlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0IExvYWRpbmcuLi5cblx0XHRcdCAqXG5cdFx0XHQgKiAgQGR0b3B0IExhbmd1YWdlXG5cdFx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmxhbmd1YWdlLmxvYWRpbmdSZWNvcmRzXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHQgKiAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG5cdFx0XHQgKiAgICAgICAgICBcImxvYWRpbmdSZWNvcmRzXCI6IFwiUGxlYXNlIHdhaXQgLSBsb2FkaW5nLi4uXCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzTG9hZGluZ1JlY29yZHNcIjogXCJMb2FkaW5nLi4uXCIsXG5cdFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogVGV4dCB3aGljaCBpcyBkaXNwbGF5ZWQgd2hlbiB0aGUgdGFibGUgaXMgcHJvY2Vzc2luZyBhIHVzZXIgYWN0aW9uXG5cdFx0XHQgKiAodXN1YWxseSBhIHNvcnQgY29tbWFuZCBvciBzaW1pbGFyKS5cblx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdCAqICBAZGVmYXVsdCBQcm9jZXNzaW5nLi4uXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5wcm9jZXNzaW5nXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHQgKiAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG5cdFx0XHQgKiAgICAgICAgICBcInByb2Nlc3NpbmdcIjogXCJEYXRhVGFibGVzIGlzIGN1cnJlbnRseSBidXN5XCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzUHJvY2Vzc2luZ1wiOiBcIlByb2Nlc3NpbmcuLi5cIixcblx0XG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEZXRhaWxzIHRoZSBhY3Rpb25zIHRoYXQgd2lsbCBiZSB0YWtlbiB3aGVuIHRoZSB1c2VyIHR5cGVzIGludG8gdGhlXG5cdFx0XHQgKiBmaWx0ZXJpbmcgaW5wdXQgdGV4dCBib3guIFRoZSB2YXJpYWJsZSBcIl9JTlBVVF9cIiwgaWYgdXNlZCBpbiB0aGUgc3RyaW5nLFxuXHRcdFx0ICogaXMgcmVwbGFjZWQgd2l0aCB0aGUgSFRNTCB0ZXh0IGJveCBmb3IgdGhlIGZpbHRlcmluZyBpbnB1dCBhbGxvd2luZ1xuXHRcdFx0ICogY29udHJvbCBvdmVyIHdoZXJlIGl0IGFwcGVhcnMgaW4gdGhlIHN0cmluZy4gSWYgXCJfSU5QVVRfXCIgaXMgbm90IGdpdmVuXG5cdFx0XHQgKiB0aGVuIHRoZSBpbnB1dCBib3ggaXMgYXBwZW5kZWQgdG8gdGhlIHN0cmluZyBhdXRvbWF0aWNhbGx5LlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0IFNlYXJjaDpcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGR0b3B0IExhbmd1YWdlXG5cdFx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmxhbmd1YWdlLnNlYXJjaFxuXHRcdFx0ICpcblx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0ICogICAgLy8gSW5wdXQgdGV4dCBib3ggd2lsbCBiZSBhcHBlbmRlZCBhdCB0aGUgZW5kIGF1dG9tYXRpY2FsbHlcblx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdCAqICAgICAgICAgIFwic2VhcmNoXCI6IFwiRmlsdGVyIHJlY29yZHM6XCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdCAqICAgIC8vIFNwZWNpZnkgd2hlcmUgdGhlIGZpbHRlciBzaG91bGQgYXBwZWFyXG5cdFx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0XHQgKiAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG5cdFx0XHQgKiAgICAgICAgICBcInNlYXJjaFwiOiBcIkFwcGx5IGZpbHRlciBfSU5QVVRfIHRvIHRhYmxlXCJcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKiAgICAgIH0gKTtcblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0XCJzU2VhcmNoXCI6IFwiU2VhcmNoOlwiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEFzc2lnbiBhIGBwbGFjZWhvbGRlcmAgYXR0cmlidXRlIHRvIHRoZSBzZWFyY2ggYGlucHV0YCBlbGVtZW50XG5cdFx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0XHQgKiAgQGRlZmF1bHQgXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS5zZWFyY2hQbGFjZWhvbGRlclxuXHRcdFx0ICovXG5cdFx0XHRcInNTZWFyY2hQbGFjZWhvbGRlclwiOiBcIlwiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEFsbCBvZiB0aGUgbGFuZ3VhZ2UgaW5mb3JtYXRpb24gY2FuIGJlIHN0b3JlZCBpbiBhIGZpbGUgb24gdGhlXG5cdFx0XHQgKiBzZXJ2ZXItc2lkZSwgd2hpY2ggRGF0YVRhYmxlcyB3aWxsIGxvb2sgdXAgaWYgdGhpcyBwYXJhbWV0ZXIgaXMgcGFzc2VkLlxuXHRcdFx0ICogSXQgbXVzdCBzdG9yZSB0aGUgVVJMIG9mIHRoZSBsYW5ndWFnZSBmaWxlLCB3aGljaCBpcyBpbiBhIEpTT04gZm9ybWF0LFxuXHRcdFx0ICogYW5kIHRoZSBvYmplY3QgaGFzIHRoZSBzYW1lIHByb3BlcnRpZXMgYXMgdGhlIG9MYW5ndWFnZSBvYmplY3QgaW4gdGhlXG5cdFx0XHQgKiBpbml0aWFsaXNlciBvYmplY3QgKGkuZS4gdGhlIGFib3ZlIHBhcmFtZXRlcnMpLiBQbGVhc2UgcmVmZXIgdG8gb25lIG9mXG5cdFx0XHQgKiB0aGUgZXhhbXBsZSBsYW5ndWFnZSBmaWxlcyB0byBzZWUgaG93IHRoaXMgd29ya3MgaW4gYWN0aW9uLlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZWZhdWx0IDxpPkVtcHR5IHN0cmluZyAtIGkuZS4gZGlzYWJsZWQ8L2k+XG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS51cmxcblx0XHRcdCAqXG5cdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHRcdCAqICAgICAgICBcImxhbmd1YWdlXCI6IHtcblx0XHRcdCAqICAgICAgICAgIFwidXJsXCI6IFwiaHR0cDovL3d3dy5zcHJ5bWVkaWEuY28udWsvZGF0YVRhYmxlcy9sYW5nLnR4dFwiXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKi9cblx0XHRcdFwic1VybFwiOiBcIlwiLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFRleHQgc2hvd24gaW5zaWRlIHRoZSB0YWJsZSByZWNvcmRzIHdoZW4gdGhlIGlzIG5vIGluZm9ybWF0aW9uIHRvIGJlXG5cdFx0XHQgKiBkaXNwbGF5ZWQgYWZ0ZXIgZmlsdGVyaW5nLiBgZW1wdHlUYWJsZWAgaXMgc2hvd24gd2hlbiB0aGVyZSBpcyBzaW1wbHkgbm9cblx0XHRcdCAqIGluZm9ybWF0aW9uIGluIHRoZSB0YWJsZSBhdCBhbGwgKHJlZ2FyZGxlc3Mgb2YgZmlsdGVyaW5nKS5cblx0XHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHRcdCAqICBAZGVmYXVsdCBObyBtYXRjaGluZyByZWNvcmRzIGZvdW5kXG5cdFx0XHQgKlxuXHRcdFx0ICogIEBkdG9wdCBMYW5ndWFnZVxuXHRcdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5sYW5ndWFnZS56ZXJvUmVjb3Jkc1xuXHRcdFx0ICpcblx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdFx0ICogICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0ICogICAgICAgICAgXCJ6ZXJvUmVjb3Jkc1wiOiBcIk5vIHJlY29yZHMgdG8gZGlzcGxheVwiXG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICB9ICk7XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKi9cblx0XHRcdFwic1plcm9SZWNvcmRzXCI6IFwiTm8gbWF0Y2hpbmcgcmVjb3JkcyBmb3VuZFwiXG5cdFx0fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgcGFyYW1ldGVyIGFsbG93cyB5b3UgdG8gaGF2ZSBkZWZpbmUgdGhlIGdsb2JhbCBmaWx0ZXJpbmcgc3RhdGUgYXRcblx0XHQgKiBpbml0aWFsaXNhdGlvbiB0aW1lLiBBcyBhbiBvYmplY3QgdGhlIGBzZWFyY2hgIHBhcmFtZXRlciBtdXN0IGJlXG5cdFx0ICogZGVmaW5lZCwgYnV0IGFsbCBvdGhlciBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbC4gV2hlbiBgcmVnZXhgIGlzIHRydWUsXG5cdFx0ICogdGhlIHNlYXJjaCBzdHJpbmcgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcmVndWxhciBleHByZXNzaW9uLCB3aGVuIGZhbHNlXG5cdFx0ICogKGRlZmF1bHQpIGl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIHN0cmFpZ2h0IHN0cmluZy4gV2hlbiBgc21hcnRgXG5cdFx0ICogRGF0YVRhYmxlcyB3aWxsIHVzZSBpdCdzIHNtYXJ0IGZpbHRlcmluZyBtZXRob2RzICh0byB3b3JkIG1hdGNoIGF0XG5cdFx0ICogYW55IHBvaW50IGluIHRoZSBkYXRhKSwgd2hlbiBmYWxzZSB0aGlzIHdpbGwgbm90IGJlIGRvbmUuXG5cdFx0ICogIEBuYW1lc3BhY2Vcblx0XHQgKiAgQGV4dGVuZHMgRGF0YVRhYmxlLm1vZGVscy5vU2VhcmNoXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IE9wdGlvbnNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnNlYXJjaFxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzZWFyY2hcIjoge1wic2VhcmNoXCI6IFwiSW5pdGlhbCBzZWFyY2hcIn1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9IClcblx0XHQgKi9cblx0XHRcIm9TZWFyY2hcIjogJC5leHRlbmQoIHt9LCBEYXRhVGFibGUubW9kZWxzLm9TZWFyY2ggKSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIF9fRGVwcmVjYXRlZF9fIFRoZSBmdW5jdGlvbmFsaXR5IHByb3ZpZGVkIGJ5IHRoaXMgcGFyYW1ldGVyIGhhcyBub3cgYmVlblxuXHRcdCAqIHN1cGVyc2VkZWQgYnkgdGhhdCBwcm92aWRlZCB0aHJvdWdoIGBhamF4YCwgd2hpY2ggc2hvdWxkIGJlIHVzZWQgaW5zdGVhZC5cblx0XHQgKlxuXHRcdCAqIEJ5IGRlZmF1bHQgRGF0YVRhYmxlcyB3aWxsIGxvb2sgZm9yIHRoZSBwcm9wZXJ0eSBgZGF0YWAgKG9yIGBhYURhdGFgIGZvclxuXHRcdCAqIGNvbXBhdGliaWxpdHkgd2l0aCBEYXRhVGFibGVzIDEuOS0pIHdoZW4gb2J0YWluaW5nIGRhdGEgZnJvbSBhbiBBamF4XG5cdFx0ICogc291cmNlIG9yIGZvciBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIC0gdGhpcyBwYXJhbWV0ZXIgYWxsb3dzIHRoYXRcblx0XHQgKiBwcm9wZXJ0eSB0byBiZSBjaGFuZ2VkLiBZb3UgY2FuIHVzZSBKYXZhc2NyaXB0IGRvdHRlZCBvYmplY3Qgbm90YXRpb24gdG9cblx0XHQgKiBnZXQgYSBkYXRhIHNvdXJjZSBmb3IgbXVsdGlwbGUgbGV2ZWxzIG9mIG5lc3RpbmcuXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCBkYXRhXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IE9wdGlvbnNcblx0XHQgKiAgQGR0b3B0IFNlcnZlci1zaWRlXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5hamF4RGF0YVByb3Bcblx0XHQgKlxuXHRcdCAqICBAZGVwcmVjYXRlZCAxLjEwLiBQbGVhc2UgdXNlIGBhamF4YCBmb3IgdGhpcyBmdW5jdGlvbmFsaXR5IG5vdy5cblx0XHQgKi9cblx0XHRcInNBamF4RGF0YVByb3BcIjogXCJkYXRhXCIsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBfX0RlcHJlY2F0ZWRfXyBUaGUgZnVuY3Rpb25hbGl0eSBwcm92aWRlZCBieSB0aGlzIHBhcmFtZXRlciBoYXMgbm93IGJlZW5cblx0XHQgKiBzdXBlcnNlZGVkIGJ5IHRoYXQgcHJvdmlkZWQgdGhyb3VnaCBgYWpheGAsIHdoaWNoIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG5cdFx0ICpcblx0XHQgKiBZb3UgY2FuIGluc3RydWN0IERhdGFUYWJsZXMgdG8gbG9hZCBkYXRhIGZyb20gYW4gZXh0ZXJuYWxcblx0XHQgKiBzb3VyY2UgdXNpbmcgdGhpcyBwYXJhbWV0ZXIgKHVzZSBhRGF0YSBpZiB5b3Ugd2FudCB0byBwYXNzIGRhdGEgaW4geW91XG5cdFx0ICogYWxyZWFkeSBoYXZlKS4gU2ltcGx5IHByb3ZpZGUgYSB1cmwgYSBKU09OIG9iamVjdCBjYW4gYmUgb2J0YWluZWQgZnJvbS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uc1xuXHRcdCAqICBAZHRvcHQgU2VydmVyLXNpZGVcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmFqYXhTb3VyY2Vcblx0XHQgKlxuXHRcdCAqICBAZGVwcmVjYXRlZCAxLjEwLiBQbGVhc2UgdXNlIGBhamF4YCBmb3IgdGhpcyBmdW5jdGlvbmFsaXR5IG5vdy5cblx0XHQgKi9cblx0XHRcInNBamF4U291cmNlXCI6IG51bGwsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGlzIGluaXRpYWxpc2F0aW9uIHZhcmlhYmxlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBleGFjdGx5IHdoZXJlIGluIHRoZVxuXHRcdCAqIERPTSB5b3Ugd2FudCBEYXRhVGFibGVzIHRvIGluamVjdCB0aGUgdmFyaW91cyBjb250cm9scyBpdCBhZGRzIHRvIHRoZSBwYWdlXG5cdFx0ICogKGZvciBleGFtcGxlIHlvdSBtaWdodCB3YW50IHRoZSBwYWdpbmF0aW9uIGNvbnRyb2xzIGF0IHRoZSB0b3Agb2YgdGhlXG5cdFx0ICogdGFibGUpLiBESVYgZWxlbWVudHMgKHdpdGggb3Igd2l0aG91dCBhIGN1c3RvbSBjbGFzcykgY2FuIGFsc28gYmUgYWRkZWQgdG9cblx0XHQgKiBhaWQgc3R5bGluZy4gVGhlIGZvbGxvdyBzeW50YXggaXMgdXNlZDpcblx0XHQgKiAgIDx1bD5cblx0XHQgKiAgICAgPGxpPlRoZSBmb2xsb3dpbmcgb3B0aW9ucyBhcmUgYWxsb3dlZDpcblx0XHQgKiAgICAgICA8dWw+XG5cdFx0ICogICAgICAgICA8bGk+J2wnIC0gTGVuZ3RoIGNoYW5naW5nPC9saT5cblx0XHQgKiAgICAgICAgIDxsaT4nZicgLSBGaWx0ZXJpbmcgaW5wdXQ8L2xpPlxuXHRcdCAqICAgICAgICAgPGxpPid0JyAtIFRoZSB0YWJsZSE8L2xpPlxuXHRcdCAqICAgICAgICAgPGxpPidpJyAtIEluZm9ybWF0aW9uPC9saT5cblx0XHQgKiAgICAgICAgIDxsaT4ncCcgLSBQYWdpbmF0aW9uPC9saT5cblx0XHQgKiAgICAgICAgIDxsaT4ncicgLSBwUm9jZXNzaW5nPC9saT5cblx0XHQgKiAgICAgICA8L3VsPlxuXHRcdCAqICAgICA8L2xpPlxuXHRcdCAqICAgICA8bGk+VGhlIGZvbGxvd2luZyBjb25zdGFudHMgYXJlIGFsbG93ZWQ6XG5cdFx0ICogICAgICAgPHVsPlxuXHRcdCAqICAgICAgICAgPGxpPidIJyAtIGpRdWVyeVVJIHRoZW1lIFwiaGVhZGVyXCIgY2xhc3NlcyAoJ2ZnLXRvb2xiYXIgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItdGwgdWktY29ybmVyLXRyIHVpLWhlbHBlci1jbGVhcmZpeCcpPC9saT5cblx0XHQgKiAgICAgICAgIDxsaT4nRicgLSBqUXVlcnlVSSB0aGVtZSBcImZvb3RlclwiIGNsYXNzZXMgKCdmZy10b29sYmFyIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWJsIHVpLWNvcm5lci1iciB1aS1oZWxwZXItY2xlYXJmaXgnKTwvbGk+XG5cdFx0ICogICAgICAgPC91bD5cblx0XHQgKiAgICAgPC9saT5cblx0XHQgKiAgICAgPGxpPlRoZSBmb2xsb3dpbmcgc3ludGF4IGlzIGV4cGVjdGVkOlxuXHRcdCAqICAgICAgIDx1bD5cblx0XHQgKiAgICAgICAgIDxsaT4nJmx0OycgYW5kICcmZ3Q7JyAtIGRpdiBlbGVtZW50czwvbGk+XG5cdFx0ICogICAgICAgICA8bGk+JyZsdDtcImNsYXNzXCIgYW5kICcmZ3Q7JyAtIGRpdiB3aXRoIGEgY2xhc3M8L2xpPlxuXHRcdCAqICAgICAgICAgPGxpPicmbHQ7XCIjaWRcIiBhbmQgJyZndDsnIC0gZGl2IHdpdGggYW4gSUQ8L2xpPlxuXHRcdCAqICAgICAgIDwvdWw+XG5cdFx0ICogICAgIDwvbGk+XG5cdFx0ICogICAgIDxsaT5FeGFtcGxlczpcblx0XHQgKiAgICAgICA8dWw+XG5cdFx0ICogICAgICAgICA8bGk+JyZsdDtcIndyYXBwZXJcImZsaXB0Jmd0Oyc8L2xpPlxuXHRcdCAqICAgICAgICAgPGxpPicmbHQ7bGYmbHQ7dCZndDtpcCZndDsnPC9saT5cblx0XHQgKiAgICAgICA8L3VsPlxuXHRcdCAqICAgICA8L2xpPlxuXHRcdCAqICAgPC91bD5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IGxmcnRpcCA8aT4od2hlbiBgalF1ZXJ5VUlgIGlzIGZhbHNlKTwvaT4gPGI+b3I8L2I+XG5cdFx0ICogICAgPFwiSFwibGZyPnQ8XCJGXCJpcD4gPGk+KHdoZW4gYGpRdWVyeVVJYCBpcyB0cnVlKTwvaT5cblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuZG9tXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImRvbVwiOiAnJmx0O1widG9wXCJpJmd0O3J0Jmx0O1wiYm90dG9tXCJmbHAmZ3Q7Jmx0O1wiY2xlYXJcIiZndDsnXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwic0RvbVwiOiBcImxmcnRpcFwiLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogU2VhcmNoIGRlbGF5IG9wdGlvbi4gVGhpcyB3aWxsIHRocm90dGxlIGZ1bGwgdGFibGUgc2VhcmNoZXMgdGhhdCB1c2UgdGhlXG5cdFx0ICogRGF0YVRhYmxlcyBwcm92aWRlZCBzZWFyY2ggaW5wdXQgZWxlbWVudCAoaXQgZG9lcyBub3QgZWZmZWN0IGNhbGxzIHRvXG5cdFx0ICogYGR0LWFwaSBzZWFyY2goKWAsIHByb3ZpZGluZyBhIGRlbGF5IGJlZm9yZSB0aGUgc2VhcmNoIGlzIG1hZGUuXG5cdFx0ICogIEB0eXBlIGludGVnZXJcblx0XHQgKiAgQGRlZmF1bHQgMFxuXHRcdCAqXG5cdFx0ICogIEBkdG9wdCBPcHRpb25zXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5zZWFyY2hEZWxheVxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzZWFyY2hEZWxheVwiOiAyMDBcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9IClcblx0XHQgKi9cblx0XHRcInNlYXJjaERlbGF5XCI6IG51bGwsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBEYXRhVGFibGVzIGZlYXR1cmVzIGZvdXIgZGlmZmVyZW50IGJ1aWx0LWluIG9wdGlvbnMgZm9yIHRoZSBidXR0b25zIHRvXG5cdFx0ICogZGlzcGxheSBmb3IgcGFnaW5hdGlvbiBjb250cm9sOlxuXHRcdCAqXG5cdFx0ICogKiBgc2ltcGxlYCAtICdQcmV2aW91cycgYW5kICdOZXh0JyBidXR0b25zIG9ubHlcblx0XHQgKiAqICdzaW1wbGVfbnVtYmVyc2AgLSAnUHJldmlvdXMnIGFuZCAnTmV4dCcgYnV0dG9ucywgcGx1cyBwYWdlIG51bWJlcnNcblx0XHQgKiAqIGBmdWxsYCAtICdGaXJzdCcsICdQcmV2aW91cycsICdOZXh0JyBhbmQgJ0xhc3QnIGJ1dHRvbnNcblx0XHQgKiAqIGBmdWxsX251bWJlcnNgIC0gJ0ZpcnN0JywgJ1ByZXZpb3VzJywgJ05leHQnIGFuZCAnTGFzdCcgYnV0dG9ucywgcGx1c1xuXHRcdCAqICAgcGFnZSBudW1iZXJzXG5cdFx0ICogIFxuXHRcdCAqIEZ1cnRoZXIgbWV0aG9kcyBjYW4gYmUgYWRkZWQgdXNpbmcge0BsaW5rIERhdGFUYWJsZS5leHQub1BhZ2luYXRpb259LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgc2ltcGxlX251bWJlcnNcblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgT3B0aW9uc1xuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMucGFnaW5nVHlwZVxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJwYWdpbmdUeXBlXCI6IFwiZnVsbF9udW1iZXJzXCJcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9IClcblx0XHQgKi9cblx0XHRcInNQYWdpbmF0aW9uVHlwZVwiOiBcInNpbXBsZV9udW1iZXJzXCIsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgaG9yaXpvbnRhbCBzY3JvbGxpbmcuIFdoZW4gYSB0YWJsZSBpcyB0b28gd2lkZSB0byBmaXQgaW50byBhXG5cdFx0ICogY2VydGFpbiBsYXlvdXQsIG9yIHlvdSBoYXZlIGEgbGFyZ2UgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIHRhYmxlLCB5b3Vcblx0XHQgKiBjYW4gZW5hYmxlIHgtc2Nyb2xsaW5nIHRvIHNob3cgdGhlIHRhYmxlIGluIGEgdmlld3BvcnQsIHdoaWNoIGNhbiBiZVxuXHRcdCAqIHNjcm9sbGVkLiBUaGlzIHByb3BlcnR5IGNhbiBiZSBgdHJ1ZWAgd2hpY2ggd2lsbCBhbGxvdyB0aGUgdGFibGUgdG9cblx0XHQgKiBzY3JvbGwgaG9yaXpvbnRhbGx5IHdoZW4gbmVlZGVkLCBvciBhbnkgQ1NTIHVuaXQsIG9yIGEgbnVtYmVyIChpbiB3aGljaFxuXHRcdCAqIGNhc2UgaXQgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcGl4ZWwgbWVhc3VyZW1lbnQpLiBTZXR0aW5nIGFzIHNpbXBseSBgdHJ1ZWBcblx0XHQgKiBpcyByZWNvbW1lbmRlZC5cblx0XHQgKiAgQHR5cGUgYm9vbGVhbnxzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgPGk+Ymxhbmsgc3RyaW5nIC0gaS5lLiBkaXNhYmxlZDwvaT5cblx0XHQgKlxuXHRcdCAqICBAZHRvcHQgRmVhdHVyZXNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnNjcm9sbFhcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwic2Nyb2xsWFwiOiB0cnVlLFxuXHRcdCAqICAgICAgICBcInNjcm9sbENvbGxhcHNlXCI6IHRydWVcblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzU2Nyb2xsWFwiOiBcIlwiLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBwcm9wZXJ0eSBjYW4gYmUgdXNlZCB0byBmb3JjZSBhIERhdGFUYWJsZSB0byB1c2UgbW9yZSB3aWR0aCB0aGFuIGl0XG5cdFx0ICogbWlnaHQgb3RoZXJ3aXNlIGRvIHdoZW4geC1zY3JvbGxpbmcgaXMgZW5hYmxlZC4gRm9yIGV4YW1wbGUgaWYgeW91IGhhdmUgYVxuXHRcdCAqIHRhYmxlIHdoaWNoIHJlcXVpcmVzIHRvIGJlIHdlbGwgc3BhY2VkLCB0aGlzIHBhcmFtZXRlciBpcyB1c2VmdWwgZm9yXG5cdFx0ICogXCJvdmVyLXNpemluZ1wiIHRoZSB0YWJsZSwgYW5kIHRodXMgZm9yY2luZyBzY3JvbGxpbmcuIFRoaXMgcHJvcGVydHkgY2FuIGJ5XG5cdFx0ICogYW55IENTUyB1bml0LCBvciBhIG51bWJlciAoaW4gd2hpY2ggY2FzZSBpdCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBwaXhlbFxuXHRcdCAqIG1lYXN1cmVtZW50KS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IDxpPmJsYW5rIHN0cmluZyAtIGkuZS4gZGlzYWJsZWQ8L2k+XG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IE9wdGlvbnNcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnNjcm9sbFhJbm5lclxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJzY3JvbGxYXCI6IFwiMTAwJVwiLFxuXHRcdCAqICAgICAgICBcInNjcm9sbFhJbm5lclwiOiBcIjExMCVcIlxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcInNTY3JvbGxYSW5uZXJcIjogXCJcIixcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEVuYWJsZSB2ZXJ0aWNhbCBzY3JvbGxpbmcuIFZlcnRpY2FsIHNjcm9sbGluZyB3aWxsIGNvbnN0cmFpbiB0aGUgRGF0YVRhYmxlXG5cdFx0ICogdG8gdGhlIGdpdmVuIGhlaWdodCwgYW5kIGVuYWJsZSBzY3JvbGxpbmcgZm9yIGFueSBkYXRhIHdoaWNoIG92ZXJmbG93cyB0aGVcblx0XHQgKiBjdXJyZW50IHZpZXdwb3J0LiBUaGlzIGNhbiBiZSB1c2VkIGFzIGFuIGFsdGVybmF0aXZlIHRvIHBhZ2luZyB0byBkaXNwbGF5XG5cdFx0ICogYSBsb3Qgb2YgZGF0YSBpbiBhIHNtYWxsIGFyZWEgKGFsdGhvdWdoIHBhZ2luZyBhbmQgc2Nyb2xsaW5nIGNhbiBib3RoIGJlXG5cdFx0ICogZW5hYmxlZCBhdCB0aGUgc2FtZSB0aW1lKS4gVGhpcyBwcm9wZXJ0eSBjYW4gYmUgYW55IENTUyB1bml0LCBvciBhIG51bWJlclxuXHRcdCAqIChpbiB3aGljaCBjYXNlIGl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIHBpeGVsIG1lYXN1cmVtZW50KS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IDxpPmJsYW5rIHN0cmluZyAtIGkuZS4gZGlzYWJsZWQ8L2k+XG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IEZlYXR1cmVzXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5zY3JvbGxZXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcInNjcm9sbFlcIjogXCIyMDBweFwiLFxuXHRcdCAqICAgICAgICBcInBhZ2luYXRlXCI6IGZhbHNlXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwic1Njcm9sbFlcIjogXCJcIixcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIF9fRGVwcmVjYXRlZF9fIFRoZSBmdW5jdGlvbmFsaXR5IHByb3ZpZGVkIGJ5IHRoaXMgcGFyYW1ldGVyIGhhcyBub3cgYmVlblxuXHRcdCAqIHN1cGVyc2VkZWQgYnkgdGhhdCBwcm92aWRlZCB0aHJvdWdoIGBhamF4YCwgd2hpY2ggc2hvdWxkIGJlIHVzZWQgaW5zdGVhZC5cblx0XHQgKlxuXHRcdCAqIFNldCB0aGUgSFRUUCBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIG1ha2UgdGhlIEFqYXggY2FsbCBmb3Igc2VydmVyLXNpZGVcblx0XHQgKiBwcm9jZXNzaW5nIG9yIEFqYXggc291cmNlZCBkYXRhLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgR0VUXG5cdFx0ICpcblx0XHQgKiAgQGR0b3B0IE9wdGlvbnNcblx0XHQgKiAgQGR0b3B0IFNlcnZlci1zaWRlXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5zZXJ2ZXJNZXRob2Rcblx0XHQgKlxuXHRcdCAqICBAZGVwcmVjYXRlZCAxLjEwLiBQbGVhc2UgdXNlIGBhamF4YCBmb3IgdGhpcyBmdW5jdGlvbmFsaXR5IG5vdy5cblx0XHQgKi9cblx0XHRcInNTZXJ2ZXJNZXRob2RcIjogXCJHRVRcIixcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGFUYWJsZXMgbWFrZXMgdXNlIG9mIHJlbmRlcmVycyB3aGVuIGRpc3BsYXlpbmcgSFRNTCBlbGVtZW50cyBmb3Jcblx0XHQgKiBhIHRhYmxlLiBUaGVzZSByZW5kZXJlcnMgY2FuIGJlIGFkZGVkIG9yIG1vZGlmaWVkIGJ5IHBsdWctaW5zIHRvXG5cdFx0ICogZ2VuZXJhdGUgc3VpdGFibGUgbWFyay11cCBmb3IgYSBzaXRlLiBGb3IgZXhhbXBsZSB0aGUgQm9vdHN0cmFwXG5cdFx0ICogaW50ZWdyYXRpb24gcGx1Zy1pbiBmb3IgRGF0YVRhYmxlcyB1c2VzIGEgcGFnaW5nIGJ1dHRvbiByZW5kZXJlciB0b1xuXHRcdCAqIGRpc3BsYXkgcGFnaW5hdGlvbiBidXR0b25zIGluIHRoZSBtYXJrLXVwIHJlcXVpcmVkIGJ5IEJvb3RzdHJhcC5cblx0XHQgKlxuXHRcdCAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZW5kZXJlcnMgYXZhaWxhYmxlIHNlZVxuXHRcdCAqIERhdGFUYWJsZS5leHQucmVuZGVyZXJcblx0XHQgKiAgQHR5cGUgc3RyaW5nfG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICpcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnJlbmRlcmVyXG5cdFx0ICpcblx0XHQgKi9cblx0XHRcInJlbmRlcmVyXCI6IG51bGwsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXQgdGhlIGRhdGEgcHJvcGVydHkgbmFtZSB0aGF0IERhdGFUYWJsZXMgc2hvdWxkIHVzZSB0byBnZXQgYSByb3cncyBpZFxuXHRcdCAqIHRvIHNldCBhcyB0aGUgYGlkYCBwcm9wZXJ0eSBpbiB0aGUgbm9kZS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IERUX1Jvd0lkXG5cdFx0ICpcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLnJvd0lkXG5cdFx0ICovXG5cdFx0XCJyb3dJZFwiOiBcIkRUX1Jvd0lkXCJcblx0fTtcblx0XG5cdF9mbkh1bmdhcmlhbk1hcCggRGF0YVRhYmxlLmRlZmF1bHRzICk7XG5cdFxuXHRcblx0XG5cdC8qXG5cdCAqIERldmVsb3BlciBub3RlIC0gU2VlIG5vdGUgaW4gbW9kZWwuZGVmYXVsdHMuanMgYWJvdXQgdGhlIHVzZSBvZiBIdW5nYXJpYW5cblx0ICogbm90YXRpb24gYW5kIGNhbWVsIGNhc2UuXG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIENvbHVtbiBvcHRpb25zIHRoYXQgY2FuIGJlIGdpdmVuIHRvIERhdGFUYWJsZXMgYXQgaW5pdGlhbGlzYXRpb24gdGltZS5cblx0ICogIEBuYW1lc3BhY2Vcblx0ICovXG5cdERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4gPSB7XG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lIHdoaWNoIGNvbHVtbihzKSBhbiBvcmRlciB3aWxsIG9jY3VyIG9uIGZvciB0aGlzIGNvbHVtbi4gVGhpc1xuXHRcdCAqIGFsbG93cyBhIGNvbHVtbidzIG9yZGVyaW5nIHRvIHRha2UgbXVsdGlwbGUgY29sdW1ucyBpbnRvIGFjY291bnQgd2hlblxuXHRcdCAqIGRvaW5nIGEgc29ydCBvciB1c2UgdGhlIGRhdGEgZnJvbSBhIGRpZmZlcmVudCBjb2x1bW4uIEZvciBleGFtcGxlIGZpcnN0XG5cdFx0ICogbmFtZSAvIGxhc3QgbmFtZSBjb2x1bW5zIG1ha2Ugc2Vuc2UgdG8gZG8gYSBtdWx0aS1jb2x1bW4gc29ydCBvdmVyIHRoZVxuXHRcdCAqIHR3byBjb2x1bW5zLlxuXHRcdCAqICBAdHlwZSBhcnJheXxpbnRcblx0XHQgKiAgQGRlZmF1bHQgbnVsbCA8aT5UYWtlcyB0aGUgdmFsdWUgb2YgdGhlIGNvbHVtbiBpbmRleCBhdXRvbWF0aWNhbGx5PC9pPlxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4ub3JkZXJEYXRhXG5cdFx0ICogIEBkdG9wdCBDb2x1bW5zXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBgY29sdW1uRGVmc2Bcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbkRlZnNcIjogW1xuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlckRhdGFcIjogWyAwLCAxIF0sIFwidGFyZ2V0c1wiOiBbIDAgXSB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlckRhdGFcIjogWyAxLCAwIF0sIFwidGFyZ2V0c1wiOiBbIDEgXSB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlckRhdGFcIjogMiwgXCJ0YXJnZXRzXCI6IFsgMiBdIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBjb2x1bW5zYFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uc1wiOiBbXG5cdFx0ICogICAgICAgICAgeyBcIm9yZGVyRGF0YVwiOiBbIDAsIDEgXSB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlckRhdGFcIjogWyAxLCAwIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJEYXRhXCI6IDIgfSxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGxcblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImFEYXRhU29ydFwiOiBudWxsLFxuXHRcdFwiaURhdGFTb3J0XCI6IC0xLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogWW91IGNhbiBjb250cm9sIHRoZSBkZWZhdWx0IG9yZGVyaW5nIGRpcmVjdGlvbiwgYW5kIGV2ZW4gYWx0ZXIgdGhlXG5cdFx0ICogYmVoYXZpb3VyIG9mIHRoZSBzb3J0IGhhbmRsZXIgKGkuZS4gb25seSBhbGxvdyBhc2NlbmRpbmcgb3JkZXJpbmcgZXRjKVxuXHRcdCAqIHVzaW5nIHRoaXMgcGFyYW1ldGVyLlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbICdhc2MnLCAnZGVzYycgXVxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4ub3JkZXJTZXF1ZW5jZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJTZXF1ZW5jZVwiOiBbIFwiYXNjXCIgXSwgXCJ0YXJnZXRzXCI6IFsgMSBdIH0sXG5cdFx0ICogICAgICAgICAgeyBcIm9yZGVyU2VxdWVuY2VcIjogWyBcImRlc2NcIiwgXCJhc2NcIiwgXCJhc2NcIiBdLCBcInRhcmdldHNcIjogWyAyIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJTZXF1ZW5jZVwiOiBbIFwiZGVzY1wiIF0sIFwidGFyZ2V0c1wiOiBbIDMgXSB9XG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBgY29sdW1uc2Bcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgeyBcIm9yZGVyU2VxdWVuY2VcIjogWyBcImFzY1wiIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJTZXF1ZW5jZVwiOiBbIFwiZGVzY1wiLCBcImFzY1wiLCBcImFzY1wiIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJTZXF1ZW5jZVwiOiBbIFwiZGVzY1wiIF0gfSxcblx0XHQgKiAgICAgICAgICBudWxsXG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJhc1NvcnRpbmdcIjogWyAnYXNjJywgJ2Rlc2MnIF0sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBFbmFibGUgb3IgZGlzYWJsZSBmaWx0ZXJpbmcgb24gdGhlIGRhdGEgaW4gdGhpcyBjb2x1bW4uXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4uc2VhcmNoYWJsZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwic2VhcmNoYWJsZVwiOiBmYWxzZSwgXCJ0YXJnZXRzXCI6IFsgMCBdIH1cblx0XHQgKiAgICAgICAgXSB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5zXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwic2VhcmNoYWJsZVwiOiBmYWxzZSB9LFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGxcblx0XHQgKiAgICAgICAgXSB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYlNlYXJjaGFibGVcIjogdHJ1ZSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEVuYWJsZSBvciBkaXNhYmxlIG9yZGVyaW5nIG9uIHRoaXMgY29sdW1uLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKlxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uLm9yZGVyYWJsZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJhYmxlXCI6IGZhbHNlLCBcInRhcmdldHNcIjogWyAwIF0gfVxuXHRcdCAqICAgICAgICBdIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBgY29sdW1uc2Bcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlcmFibGVcIjogZmFsc2UgfSxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsXG5cdFx0ICogICAgICAgIF0gfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcImJTb3J0YWJsZVwiOiB0cnVlLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlIG9yIGRpc2FibGUgdGhlIGRpc3BsYXkgb2YgdGhpcyBjb2x1bW4uXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4udmlzaWJsZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwidmlzaWJsZVwiOiBmYWxzZSwgXCJ0YXJnZXRzXCI6IFsgMCBdIH1cblx0XHQgKiAgICAgICAgXSB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5zXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwidmlzaWJsZVwiOiBmYWxzZSB9LFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGxcblx0XHQgKiAgICAgICAgXSB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiYlZpc2libGVcIjogdHJ1ZSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIERldmVsb3BlciBkZWZpbmFibGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbmV2ZXIgYSBjZWxsIGlzIGNyZWF0ZWQgKEFqYXggc291cmNlLFxuXHRcdCAqIGV0Yykgb3IgcHJvY2Vzc2VkIGZvciBpbnB1dCAoRE9NIHNvdXJjZSkuIFRoaXMgY2FuIGJlIHVzZWQgYXMgYSBjb21wbGltZW50IHRvIG1SZW5kZXJcblx0XHQgKiBhbGxvd2luZyB5b3UgdG8gbW9kaWZ5IHRoZSBET00gZWxlbWVudCAoYWRkIGJhY2tncm91bmQgY29sb3VyIGZvciBleGFtcGxlKSB3aGVuIHRoZVxuXHRcdCAqIGVsZW1lbnQgaXMgYXZhaWxhYmxlLlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAcGFyYW0ge2VsZW1lbnR9IHRkIFRoZSBURCBub2RlIHRoYXQgaGFzIGJlZW4gY3JlYXRlZFxuXHRcdCAqICBAcGFyYW0geyp9IGNlbGxEYXRhIFRoZSBEYXRhIGZvciB0aGUgY2VsbFxuXHRcdCAqICBAcGFyYW0ge2FycmF5fG9iamVjdH0gcm93RGF0YSBUaGUgZGF0YSBmb3IgdGhlIHdob2xlIHJvd1xuXHRcdCAqICBAcGFyYW0ge2ludH0gcm93IFRoZSByb3cgaW5kZXggZm9yIHRoZSBhb0RhdGEgZGF0YSBzdG9yZVxuXHRcdCAqICBAcGFyYW0ge2ludH0gY29sIFRoZSBjb2x1bW4gaW5kZXggZm9yIGFvQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4uY3JlYXRlZENlbGxcblx0XHQgKiAgQGR0b3B0IENvbHVtbnNcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uRGVmc1wiOiBbIHtcblx0XHQgKiAgICAgICAgICBcInRhcmdldHNcIjogWzNdLFxuXHRcdCAqICAgICAgICAgIFwiY3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKHRkLCBjZWxsRGF0YSwgcm93RGF0YSwgcm93LCBjb2wpIHtcblx0XHQgKiAgICAgICAgICAgIGlmICggY2VsbERhdGEgPT0gXCIxLjdcIiApIHtcblx0XHQgKiAgICAgICAgICAgICAgJCh0ZCkuY3NzKCdjb2xvcicsICdibHVlJylcblx0XHQgKiAgICAgICAgICAgIH1cblx0XHQgKiAgICAgICAgICB9XG5cdFx0ICogICAgICAgIH0gXVxuXHRcdCAqICAgICAgfSk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwiZm5DcmVhdGVkQ2VsbFwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBwYXJhbWV0ZXIgaGFzIGJlZW4gcmVwbGFjZWQgYnkgYGRhdGFgIGluIERhdGFUYWJsZXMgdG8gZW5zdXJlIG5hbWluZ1xuXHRcdCAqIGNvbnNpc3RlbmN5LiBgZGF0YVByb3BgIGNhbiBzdGlsbCBiZSB1c2VkLCBhcyB0aGVyZSBpcyBiYWNrd2FyZHNcblx0XHQgKiBjb21wYXRpYmlsaXR5IGluIERhdGFUYWJsZXMgZm9yIHRoaXMgb3B0aW9uLCBidXQgaXQgaXMgc3Ryb25nbHlcblx0XHQgKiByZWNvbW1lbmRlZCB0aGF0IHlvdSB1c2UgYGRhdGFgIGluIHByZWZlcmVuY2UgdG8gYGRhdGFQcm9wYC5cblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbi5kYXRhUHJvcFxuXHRcdCAqL1xuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBwcm9wZXJ0eSBjYW4gYmUgdXNlZCB0byByZWFkIGRhdGEgZnJvbSBhbnkgZGF0YSBzb3VyY2UgcHJvcGVydHksXG5cdFx0ICogaW5jbHVkaW5nIGRlZXBseSBuZXN0ZWQgb2JqZWN0cyAvIHByb3BlcnRpZXMuIGBkYXRhYCBjYW4gYmUgZ2l2ZW4gaW4gYVxuXHRcdCAqIG51bWJlciBvZiBkaWZmZXJlbnQgd2F5cyB3aGljaCBlZmZlY3QgaXRzIGJlaGF2aW91cjpcblx0XHQgKlxuXHRcdCAqICogYGludGVnZXJgIC0gdHJlYXRlZCBhcyBhbiBhcnJheSBpbmRleCBmb3IgdGhlIGRhdGEgc291cmNlLiBUaGlzIGlzIHRoZVxuXHRcdCAqICAgZGVmYXVsdCB0aGF0IERhdGFUYWJsZXMgdXNlcyAoaW5jcmVtZW50YWxseSBpbmNyZWFzZWQgZm9yIGVhY2ggY29sdW1uKS5cblx0XHQgKiAqIGBzdHJpbmdgIC0gcmVhZCBhbiBvYmplY3QgcHJvcGVydHkgZnJvbSB0aGUgZGF0YSBzb3VyY2UuIFRoZXJlIGFyZVxuXHRcdCAqICAgdGhyZWUgJ3NwZWNpYWwnIG9wdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgc3RyaW5nIHRvIGFsdGVyIGhvd1xuXHRcdCAqICAgRGF0YVRhYmxlcyByZWFkcyB0aGUgZGF0YSBmcm9tIHRoZSBzb3VyY2Ugb2JqZWN0OlxuXHRcdCAqICAgICogYC5gIC0gRG90dGVkIEphdmFzY3JpcHQgbm90YXRpb24uIEp1c3QgYXMgeW91IHVzZSBhIGAuYCBpblxuXHRcdCAqICAgICAgSmF2YXNjcmlwdCB0byByZWFkIGZyb20gbmVzdGVkIG9iamVjdHMsIHNvIHRvIGNhbiB0aGUgb3B0aW9uc1xuXHRcdCAqICAgICAgc3BlY2lmaWVkIGluIGBkYXRhYC4gRm9yIGV4YW1wbGU6IGBicm93c2VyLnZlcnNpb25gIG9yXG5cdFx0ICogICAgICBgYnJvd3Nlci5uYW1lYC4gSWYgeW91ciBvYmplY3QgcGFyYW1ldGVyIG5hbWUgY29udGFpbnMgYSBwZXJpb2QsIHVzZVxuXHRcdCAqICAgICAgYFxcXFxgIHRvIGVzY2FwZSBpdCAtIGkuZS4gYGZpcnN0XFxcXC5uYW1lYC5cblx0XHQgKiAgICAqIGBbXWAgLSBBcnJheSBub3RhdGlvbi4gRGF0YVRhYmxlcyBjYW4gYXV0b21hdGljYWxseSBjb21iaW5lIGRhdGFcblx0XHQgKiAgICAgIGZyb20gYW5kIGFycmF5IHNvdXJjZSwgam9pbmluZyB0aGUgZGF0YSB3aXRoIHRoZSBjaGFyYWN0ZXJzIHByb3ZpZGVkXG5cdFx0ICogICAgICBiZXR3ZWVuIHRoZSB0d28gYnJhY2tldHMuIEZvciBleGFtcGxlOiBgbmFtZVssIF1gIHdvdWxkIHByb3ZpZGUgYVxuXHRcdCAqICAgICAgY29tbWEtc3BhY2Ugc2VwYXJhdGVkIGxpc3QgZnJvbSB0aGUgc291cmNlIGFycmF5LiBJZiBubyBjaGFyYWN0ZXJzXG5cdFx0ICogICAgICBhcmUgcHJvdmlkZWQgYmV0d2VlbiB0aGUgYnJhY2tldHMsIHRoZSBvcmlnaW5hbCBhcnJheSBzb3VyY2UgaXNcblx0XHQgKiAgICAgIHJldHVybmVkLlxuXHRcdCAqICAgICogYCgpYCAtIEZ1bmN0aW9uIG5vdGF0aW9uLiBBZGRpbmcgYCgpYCB0byB0aGUgZW5kIG9mIGEgcGFyYW1ldGVyIHdpbGxcblx0XHQgKiAgICAgIGV4ZWN1dGUgYSBmdW5jdGlvbiBvZiB0aGUgbmFtZSBnaXZlbi4gRm9yIGV4YW1wbGU6IGBicm93c2VyKClgIGZvciBhXG5cdFx0ICogICAgICBzaW1wbGUgZnVuY3Rpb24gb24gdGhlIGRhdGEgc291cmNlLCBgYnJvd3Nlci52ZXJzaW9uKClgIGZvciBhXG5cdFx0ICogICAgICBmdW5jdGlvbiBpbiBhIG5lc3RlZCBwcm9wZXJ0eSBvciBldmVuIGBicm93c2VyKCkudmVyc2lvbmAgdG8gZ2V0IGFuXG5cdFx0ICogICAgICBvYmplY3QgcHJvcGVydHkgaWYgdGhlIGZ1bmN0aW9uIGNhbGxlZCByZXR1cm5zIGFuIG9iamVjdC4gTm90ZSB0aGF0XG5cdFx0ICogICAgICBmdW5jdGlvbiBub3RhdGlvbiBpcyByZWNvbW1lbmRlZCBmb3IgdXNlIGluIGByZW5kZXJgIHJhdGhlciB0aGFuXG5cdFx0ICogICAgICBgZGF0YWAgYXMgaXQgaXMgbXVjaCBzaW1wbGVyIHRvIHVzZSBhcyBhIHJlbmRlcmVyLlxuXHRcdCAqICogYG51bGxgIC0gdXNlIHRoZSBvcmlnaW5hbCBkYXRhIHNvdXJjZSBmb3IgdGhlIHJvdyByYXRoZXIgdGhhbiBwbHVja2luZ1xuXHRcdCAqICAgZGF0YSBkaXJlY3RseSBmcm9tIGl0LiBUaGlzIGFjdGlvbiBoYXMgZWZmZWN0cyBvbiB0d28gb3RoZXJcblx0XHQgKiAgIGluaXRpYWxpc2F0aW9uIG9wdGlvbnM6XG5cdFx0ICogICAgKiBgZGVmYXVsdENvbnRlbnRgIC0gV2hlbiBudWxsIGlzIGdpdmVuIGFzIHRoZSBgZGF0YWAgb3B0aW9uIGFuZFxuXHRcdCAqICAgICAgYGRlZmF1bHRDb250ZW50YCBpcyBzcGVjaWZpZWQgZm9yIHRoZSBjb2x1bW4sIHRoZSB2YWx1ZSBkZWZpbmVkIGJ5XG5cdFx0ICogICAgICBgZGVmYXVsdENvbnRlbnRgIHdpbGwgYmUgdXNlZCBmb3IgdGhlIGNlbGwuXG5cdFx0ICogICAgKiBgcmVuZGVyYCAtIFdoZW4gbnVsbCBpcyB1c2VkIGZvciB0aGUgYGRhdGFgIG9wdGlvbiBhbmQgdGhlIGByZW5kZXJgXG5cdFx0ICogICAgICBvcHRpb24gaXMgc3BlY2lmaWVkIGZvciB0aGUgY29sdW1uLCB0aGUgd2hvbGUgZGF0YSBzb3VyY2UgZm9yIHRoZVxuXHRcdCAqICAgICAgcm93IGlzIHVzZWQgZm9yIHRoZSByZW5kZXJlci5cblx0XHQgKiAqIGBmdW5jdGlvbmAgLSB0aGUgZnVuY3Rpb24gZ2l2ZW4gd2lsbCBiZSBleGVjdXRlZCB3aGVuZXZlciBEYXRhVGFibGVzXG5cdFx0ICogICBuZWVkcyB0byBzZXQgb3IgZ2V0IHRoZSBkYXRhIGZvciBhIGNlbGwgaW4gdGhlIGNvbHVtbi4gVGhlIGZ1bmN0aW9uXG5cdFx0ICogICB0YWtlcyB0aHJlZSBwYXJhbWV0ZXJzOlxuXHRcdCAqICAgICogUGFyYW1ldGVyczpcblx0XHQgKiAgICAgICogYHthcnJheXxvYmplY3R9YCBUaGUgZGF0YSBzb3VyY2UgZm9yIHRoZSByb3dcblx0XHQgKiAgICAgICogYHtzdHJpbmd9YCBUaGUgdHlwZSBjYWxsIGRhdGEgcmVxdWVzdGVkIC0gdGhpcyB3aWxsIGJlICdzZXQnIHdoZW5cblx0XHQgKiAgICAgICAgc2V0dGluZyBkYXRhIG9yICdmaWx0ZXInLCAnZGlzcGxheScsICd0eXBlJywgJ3NvcnQnIG9yIHVuZGVmaW5lZFxuXHRcdCAqICAgICAgICB3aGVuIGdhdGhlcmluZyBkYXRhLiBOb3RlIHRoYXQgd2hlbiBgdW5kZWZpbmVkYCBpcyBnaXZlbiBmb3IgdGhlXG5cdFx0ICogICAgICAgIHR5cGUgRGF0YVRhYmxlcyBleHBlY3RzIHRvIGdldCB0aGUgcmF3IGRhdGEgZm9yIHRoZSBvYmplY3QgYmFjazxcblx0XHQgKiAgICAgICogYHsqfWAgRGF0YSB0byBzZXQgd2hlbiB0aGUgc2Vjb25kIHBhcmFtZXRlciBpcyAnc2V0Jy5cblx0XHQgKiAgICAqIFJldHVybjpcblx0XHQgKiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBmdW5jdGlvbiBpcyBub3QgcmVxdWlyZWQgd2hlbiAnc2V0JyBpc1xuXHRcdCAqICAgICAgICB0aGUgdHlwZSBvZiBjYWxsLCBidXQgb3RoZXJ3aXNlIHRoZSByZXR1cm4gaXMgd2hhdCB3aWxsIGJlIHVzZWRcblx0XHQgKiAgICAgICAgZm9yIHRoZSBkYXRhIHJlcXVlc3RlZC5cblx0XHQgKlxuXHRcdCAqIE5vdGUgdGhhdCBgZGF0YWAgaXMgYSBnZXR0ZXIgYW5kIHNldHRlciBvcHRpb24uIElmIHlvdSBqdXN0IHJlcXVpcmVcblx0XHQgKiBmb3JtYXR0aW5nIG9mIGRhdGEgZm9yIG91dHB1dCwgeW91IHdpbGwgbGlrZWx5IHdhbnQgdG8gdXNlIGByZW5kZXJgIHdoaWNoXG5cdFx0ICogaXMgc2ltcGx5IGEgZ2V0dGVyIGFuZCB0aHVzIHNpbXBsZXIgdG8gdXNlLlxuXHRcdCAqXG5cdFx0ICogTm90ZSB0aGF0IHByaW9yIHRvIERhdGFUYWJsZXMgMS45LjIgYGRhdGFgIHdhcyBjYWxsZWQgYG1EYXRhUHJvcGAuIFRoZVxuXHRcdCAqIG5hbWUgY2hhbmdlIHJlZmxlY3RzIHRoZSBmbGV4aWJpbGl0eSBvZiB0aGlzIHByb3BlcnR5IGFuZCBpcyBjb25zaXN0ZW50XG5cdFx0ICogd2l0aCB0aGUgbmFtaW5nIG9mIG1SZW5kZXIuIElmICdtRGF0YVByb3AnIGlzIGdpdmVuLCB0aGVuIGl0IHdpbGwgc3RpbGxcblx0XHQgKiBiZSB1c2VkIGJ5IERhdGFUYWJsZXMsIGFzIGl0IGF1dG9tYXRpY2FsbHkgbWFwcyB0aGUgb2xkIG5hbWUgdG8gdGhlIG5ld1xuXHRcdCAqIGlmIHJlcXVpcmVkLlxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIHN0cmluZ3xpbnR8ZnVuY3Rpb258bnVsbFxuXHRcdCAqICBAZGVmYXVsdCBudWxsIDxpPlVzZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgY29sdW1uIGluZGV4PC9pPlxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4uZGF0YVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gUmVhZCB0YWJsZSBkYXRhIGZyb20gb2JqZWN0c1xuXHRcdCAqICAgIC8vIEpTT04gc3RydWN0dXJlIGZvciBlYWNoIHJvdzpcblx0XHQgKiAgICAvLyAgIHtcblx0XHQgKiAgICAvLyAgICAgIFwiZW5naW5lXCI6IHt2YWx1ZX0sXG5cdFx0ICogICAgLy8gICAgICBcImJyb3dzZXJcIjoge3ZhbHVlfSxcblx0XHQgKiAgICAvLyAgICAgIFwicGxhdGZvcm1cIjoge3ZhbHVlfSxcblx0XHQgKiAgICAvLyAgICAgIFwidmVyc2lvblwiOiB7dmFsdWV9LFxuXHRcdCAqICAgIC8vICAgICAgXCJncmFkZVwiOiB7dmFsdWV9XG5cdFx0ICogICAgLy8gICB9XG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJhamF4U291cmNlXCI6IFwic291cmNlcy9vYmplY3RzLnR4dFwiLFxuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwiZW5naW5lXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwiZGF0YVwiOiBcImJyb3dzZXJcIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwicGxhdGZvcm1cIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwidmVyc2lvblwiIH0sXG5cdFx0ICogICAgICAgICAgeyBcImRhdGFcIjogXCJncmFkZVwiIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFJlYWQgaW5mb3JtYXRpb24gZnJvbSBkZWVwbHkgbmVzdGVkIG9iamVjdHNcblx0XHQgKiAgICAvLyBKU09OIHN0cnVjdHVyZSBmb3IgZWFjaCByb3c6XG5cdFx0ICogICAgLy8gICB7XG5cdFx0ICogICAgLy8gICAgICBcImVuZ2luZVwiOiB7dmFsdWV9LFxuXHRcdCAqICAgIC8vICAgICAgXCJicm93c2VyXCI6IHt2YWx1ZX0sXG5cdFx0ICogICAgLy8gICAgICBcInBsYXRmb3JtXCI6IHtcblx0XHQgKiAgICAvLyAgICAgICAgIFwiaW5uZXJcIjoge3ZhbHVlfVxuXHRcdCAqICAgIC8vICAgICAgfSxcblx0XHQgKiAgICAvLyAgICAgIFwiZGV0YWlsc1wiOiBbXG5cdFx0ICogICAgLy8gICAgICAgICB7dmFsdWV9LCB7dmFsdWV9XG5cdFx0ICogICAgLy8gICAgICBdXG5cdFx0ICogICAgLy8gICB9XG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJhamF4U291cmNlXCI6IFwic291cmNlcy9kZWVwLnR4dFwiLFxuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwiZW5naW5lXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwiZGF0YVwiOiBcImJyb3dzZXJcIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwicGxhdGZvcm0uaW5uZXJcIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwicGxhdGZvcm0uZGV0YWlscy4wXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwiZGF0YVwiOiBcInBsYXRmb3JtLmRldGFpbHMuMVwiIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBkYXRhYCBhcyBhIGZ1bmN0aW9uIHRvIHByb3ZpZGUgZGlmZmVyZW50IGluZm9ybWF0aW9uIGZvclxuXHRcdCAqICAgIC8vIHNvcnRpbmcsIGZpbHRlcmluZyBhbmQgZGlzcGxheS4gSW4gdGhpcyBjYXNlLCBjdXJyZW5jeSAocHJpY2UpXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFsge1xuXHRcdCAqICAgICAgICAgIFwidGFyZ2V0c1wiOiBbIDAgXSxcblx0XHQgKiAgICAgICAgICBcImRhdGFcIjogZnVuY3Rpb24gKCBzb3VyY2UsIHR5cGUsIHZhbCApIHtcblx0XHQgKiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc2V0Jykge1xuXHRcdCAqICAgICAgICAgICAgICBzb3VyY2UucHJpY2UgPSB2YWw7XG5cdFx0ICogICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBjb21wdXRlZCBkaXNsYXkgYW5kIGZpbHRlciB2YWx1ZXMgZm9yIGVmZmljaWVuY3lcblx0XHQgKiAgICAgICAgICAgICAgc291cmNlLnByaWNlX2Rpc3BsYXkgPSB2YWw9PVwiXCIgPyBcIlwiIDogXCIkXCIrbnVtYmVyRm9ybWF0KHZhbCk7XG5cdFx0ICogICAgICAgICAgICAgIHNvdXJjZS5wcmljZV9maWx0ZXIgID0gdmFsPT1cIlwiID8gXCJcIiA6IFwiJFwiK251bWJlckZvcm1hdCh2YWwpK1wiIFwiK3ZhbDtcblx0XHQgKiAgICAgICAgICAgICAgcmV0dXJuO1xuXHRcdCAqICAgICAgICAgICAgfVxuXHRcdCAqICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Rpc3BsYXknKSB7XG5cdFx0ICogICAgICAgICAgICAgIHJldHVybiBzb3VyY2UucHJpY2VfZGlzcGxheTtcblx0XHQgKiAgICAgICAgICAgIH1cblx0XHQgKiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdmaWx0ZXInKSB7XG5cdFx0ICogICAgICAgICAgICAgIHJldHVybiBzb3VyY2UucHJpY2VfZmlsdGVyO1xuXHRcdCAqICAgICAgICAgICAgfVxuXHRcdCAqICAgICAgICAgICAgLy8gJ3NvcnQnLCAndHlwZScgYW5kIHVuZGVmaW5lZCBhbGwganVzdCB1c2UgdGhlIGludGVnZXJcblx0XHQgKiAgICAgICAgICAgIHJldHVybiBzb3VyY2UucHJpY2U7XG5cdFx0ICogICAgICAgICAgfVxuXHRcdCAqICAgICAgICB9IF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBkZWZhdWx0IGNvbnRlbnRcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbkRlZnNcIjogWyB7XG5cdFx0ICogICAgICAgICAgXCJ0YXJnZXRzXCI6IFsgMCBdLFxuXHRcdCAqICAgICAgICAgIFwiZGF0YVwiOiBudWxsLFxuXHRcdCAqICAgICAgICAgIFwiZGVmYXVsdENvbnRlbnRcIjogXCJDbGljayB0byBlZGl0XCJcblx0XHQgKiAgICAgICAgfSBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYXJyYXkgbm90YXRpb24gLSBvdXRwdXR0aW5nIGEgbGlzdCBmcm9tIGFuIGFycmF5XG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFsge1xuXHRcdCAqICAgICAgICAgIFwidGFyZ2V0c1wiOiBbIDAgXSxcblx0XHQgKiAgICAgICAgICBcImRhdGFcIjogXCJuYW1lWywgXVwiXG5cdFx0ICogICAgICAgIH0gXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqL1xuXHRcdFwibURhdGFcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgcHJvcGVydHkgaXMgdGhlIHJlbmRlcmluZyBwYXJ0bmVyIHRvIGBkYXRhYCBhbmQgaXQgaXMgc3VnZ2VzdGVkIHRoYXRcblx0XHQgKiB3aGVuIHlvdSB3YW50IHRvIG1hbmlwdWxhdGUgZGF0YSBmb3IgZGlzcGxheSAoaW5jbHVkaW5nIGZpbHRlcmluZyxcblx0XHQgKiBzb3J0aW5nIGV0Yykgd2l0aG91dCBhbHRlcmluZyB0aGUgdW5kZXJseWluZyBkYXRhIGZvciB0aGUgdGFibGUsIHVzZSB0aGlzXG5cdFx0ICogcHJvcGVydHkuIGByZW5kZXJgIGNhbiBiZSBjb25zaWRlcmVkIHRvIGJlIHRoZSB0aGUgcmVhZCBvbmx5IGNvbXBhbmlvbiB0b1xuXHRcdCAqIGBkYXRhYCB3aGljaCBpcyByZWFkIC8gd3JpdGUgKHRoZW4gYXMgc3VjaCBtb3JlIGNvbXBsZXgpLiBMaWtlIGBkYXRhYFxuXHRcdCAqIHRoaXMgb3B0aW9uIGNhbiBiZSBnaXZlbiBpbiBhIG51bWJlciBvZiBkaWZmZXJlbnQgd2F5cyB0byBlZmZlY3QgaXRzXG5cdFx0ICogYmVoYXZpb3VyOlxuXHRcdCAqXG5cdFx0ICogKiBgaW50ZWdlcmAgLSB0cmVhdGVkIGFzIGFuIGFycmF5IGluZGV4IGZvciB0aGUgZGF0YSBzb3VyY2UuIFRoaXMgaXMgdGhlXG5cdFx0ICogICBkZWZhdWx0IHRoYXQgRGF0YVRhYmxlcyB1c2VzIChpbmNyZW1lbnRhbGx5IGluY3JlYXNlZCBmb3IgZWFjaCBjb2x1bW4pLlxuXHRcdCAqICogYHN0cmluZ2AgLSByZWFkIGFuIG9iamVjdCBwcm9wZXJ0eSBmcm9tIHRoZSBkYXRhIHNvdXJjZS4gVGhlcmUgYXJlXG5cdFx0ICogICB0aHJlZSAnc3BlY2lhbCcgb3B0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIGluIHRoZSBzdHJpbmcgdG8gYWx0ZXIgaG93XG5cdFx0ICogICBEYXRhVGFibGVzIHJlYWRzIHRoZSBkYXRhIGZyb20gdGhlIHNvdXJjZSBvYmplY3Q6XG5cdFx0ICogICAgKiBgLmAgLSBEb3R0ZWQgSmF2YXNjcmlwdCBub3RhdGlvbi4gSnVzdCBhcyB5b3UgdXNlIGEgYC5gIGluXG5cdFx0ICogICAgICBKYXZhc2NyaXB0IHRvIHJlYWQgZnJvbSBuZXN0ZWQgb2JqZWN0cywgc28gdG8gY2FuIHRoZSBvcHRpb25zXG5cdFx0ICogICAgICBzcGVjaWZpZWQgaW4gYGRhdGFgLiBGb3IgZXhhbXBsZTogYGJyb3dzZXIudmVyc2lvbmAgb3Jcblx0XHQgKiAgICAgIGBicm93c2VyLm5hbWVgLiBJZiB5b3VyIG9iamVjdCBwYXJhbWV0ZXIgbmFtZSBjb250YWlucyBhIHBlcmlvZCwgdXNlXG5cdFx0ICogICAgICBgXFxcXGAgdG8gZXNjYXBlIGl0IC0gaS5lLiBgZmlyc3RcXFxcLm5hbWVgLlxuXHRcdCAqICAgICogYFtdYCAtIEFycmF5IG5vdGF0aW9uLiBEYXRhVGFibGVzIGNhbiBhdXRvbWF0aWNhbGx5IGNvbWJpbmUgZGF0YVxuXHRcdCAqICAgICAgZnJvbSBhbmQgYXJyYXkgc291cmNlLCBqb2luaW5nIHRoZSBkYXRhIHdpdGggdGhlIGNoYXJhY3RlcnMgcHJvdmlkZWRcblx0XHQgKiAgICAgIGJldHdlZW4gdGhlIHR3byBicmFja2V0cy4gRm9yIGV4YW1wbGU6IGBuYW1lWywgXWAgd291bGQgcHJvdmlkZSBhXG5cdFx0ICogICAgICBjb21tYS1zcGFjZSBzZXBhcmF0ZWQgbGlzdCBmcm9tIHRoZSBzb3VyY2UgYXJyYXkuIElmIG5vIGNoYXJhY3RlcnNcblx0XHQgKiAgICAgIGFyZSBwcm92aWRlZCBiZXR3ZWVuIHRoZSBicmFja2V0cywgdGhlIG9yaWdpbmFsIGFycmF5IHNvdXJjZSBpc1xuXHRcdCAqICAgICAgcmV0dXJuZWQuXG5cdFx0ICogICAgKiBgKClgIC0gRnVuY3Rpb24gbm90YXRpb24uIEFkZGluZyBgKClgIHRvIHRoZSBlbmQgb2YgYSBwYXJhbWV0ZXIgd2lsbFxuXHRcdCAqICAgICAgZXhlY3V0ZSBhIGZ1bmN0aW9uIG9mIHRoZSBuYW1lIGdpdmVuLiBGb3IgZXhhbXBsZTogYGJyb3dzZXIoKWAgZm9yIGFcblx0XHQgKiAgICAgIHNpbXBsZSBmdW5jdGlvbiBvbiB0aGUgZGF0YSBzb3VyY2UsIGBicm93c2VyLnZlcnNpb24oKWAgZm9yIGFcblx0XHQgKiAgICAgIGZ1bmN0aW9uIGluIGEgbmVzdGVkIHByb3BlcnR5IG9yIGV2ZW4gYGJyb3dzZXIoKS52ZXJzaW9uYCB0byBnZXQgYW5cblx0XHQgKiAgICAgIG9iamVjdCBwcm9wZXJ0eSBpZiB0aGUgZnVuY3Rpb24gY2FsbGVkIHJldHVybnMgYW4gb2JqZWN0LlxuXHRcdCAqICogYG9iamVjdGAgLSB1c2UgZGlmZmVyZW50IGRhdGEgZm9yIHRoZSBkaWZmZXJlbnQgZGF0YSB0eXBlcyByZXF1ZXN0ZWQgYnlcblx0XHQgKiAgIERhdGFUYWJsZXMgKCdmaWx0ZXInLCAnZGlzcGxheScsICd0eXBlJyBvciAnc29ydCcpLiBUaGUgcHJvcGVydHkgbmFtZXNcblx0XHQgKiAgIG9mIHRoZSBvYmplY3QgaXMgdGhlIGRhdGEgdHlwZSB0aGUgcHJvcGVydHkgcmVmZXJzIHRvIGFuZCB0aGUgdmFsdWUgY2FuXG5cdFx0ICogICBkZWZpbmVkIHVzaW5nIGFuIGludGVnZXIsIHN0cmluZyBvciBmdW5jdGlvbiB1c2luZyB0aGUgc2FtZSBydWxlcyBhc1xuXHRcdCAqICAgYHJlbmRlcmAgbm9ybWFsbHkgZG9lcy4gTm90ZSB0aGF0IGFuIGBfYCBvcHRpb24gX211c3RfIGJlIHNwZWNpZmllZC5cblx0XHQgKiAgIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHlvdSBoYXZlbid0IHNwZWNpZmllZCBhIHZhbHVlIGZvclxuXHRcdCAqICAgdGhlIGRhdGEgdHlwZSByZXF1ZXN0ZWQgYnkgRGF0YVRhYmxlcy5cblx0XHQgKiAqIGBmdW5jdGlvbmAgLSB0aGUgZnVuY3Rpb24gZ2l2ZW4gd2lsbCBiZSBleGVjdXRlZCB3aGVuZXZlciBEYXRhVGFibGVzXG5cdFx0ICogICBuZWVkcyB0byBzZXQgb3IgZ2V0IHRoZSBkYXRhIGZvciBhIGNlbGwgaW4gdGhlIGNvbHVtbi4gVGhlIGZ1bmN0aW9uXG5cdFx0ICogICB0YWtlcyB0aHJlZSBwYXJhbWV0ZXJzOlxuXHRcdCAqICAgICogUGFyYW1ldGVyczpcblx0XHQgKiAgICAgICoge2FycmF5fG9iamVjdH0gVGhlIGRhdGEgc291cmNlIGZvciB0aGUgcm93IChiYXNlZCBvbiBgZGF0YWApXG5cdFx0ICogICAgICAqIHtzdHJpbmd9IFRoZSB0eXBlIGNhbGwgZGF0YSByZXF1ZXN0ZWQgLSB0aGlzIHdpbGwgYmUgJ2ZpbHRlcicsXG5cdFx0ICogICAgICAgICdkaXNwbGF5JywgJ3R5cGUnIG9yICdzb3J0Jy5cblx0XHQgKiAgICAgICoge2FycmF5fG9iamVjdH0gVGhlIGZ1bGwgZGF0YSBzb3VyY2UgZm9yIHRoZSByb3cgKG5vdCBiYXNlZCBvblxuXHRcdCAqICAgICAgICBgZGF0YWApXG5cdFx0ICogICAgKiBSZXR1cm46XG5cdFx0ICogICAgICAqIFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgZnVuY3Rpb24gaXMgd2hhdCB3aWxsIGJlIHVzZWQgZm9yIHRoZVxuXHRcdCAqICAgICAgICBkYXRhIHJlcXVlc3RlZC5cblx0XHQgKlxuXHRcdCAqICBAdHlwZSBzdHJpbmd8aW50fGZ1bmN0aW9ufG9iamVjdHxudWxsXG5cdFx0ICogIEBkZWZhdWx0IG51bGwgVXNlIHRoZSBkYXRhIHNvdXJjZSB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uLnJlbmRlclxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gQ3JlYXRlIGEgY29tbWEgc2VwYXJhdGVkIGxpc3QgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJhamF4U291cmNlXCI6IFwic291cmNlcy9kZWVwLnR4dFwiLFxuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIHsgXCJkYXRhXCI6IFwiZW5naW5lXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwiZGF0YVwiOiBcImJyb3dzZXJcIiB9LFxuXHRcdCAqICAgICAgICAgIHtcblx0XHQgKiAgICAgICAgICAgIFwiZGF0YVwiOiBcInBsYXRmb3JtXCIsXG5cdFx0ICogICAgICAgICAgICBcInJlbmRlclwiOiBcIlssIF0ubmFtZVwiXG5cdFx0ICogICAgICAgICAgfVxuXHRcdCAqICAgICAgICBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gRXhlY3V0ZSBhIGZ1bmN0aW9uIHRvIG9idGFpbiBkYXRhXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFsge1xuXHRcdCAqICAgICAgICAgIFwidGFyZ2V0c1wiOiBbIDAgXSxcblx0XHQgKiAgICAgICAgICBcImRhdGFcIjogbnVsbCwgLy8gVXNlIHRoZSBmdWxsIGRhdGEgc291cmNlIG9iamVjdCBmb3IgdGhlIHJlbmRlcmVyJ3Mgc291cmNlXG5cdFx0ICogICAgICAgICAgXCJyZW5kZXJcIjogXCJicm93c2VyTmFtZSgpXCJcblx0XHQgKiAgICAgICAgfSBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gQXMgYW4gb2JqZWN0LCBleHRyYWN0aW5nIGRpZmZlcmVudCBkYXRhIGZvciB0aGUgZGlmZmVyZW50IHR5cGVzXG5cdFx0ICogICAgLy8gVGhpcyB3b3VsZCBiZSB1c2VkIHdpdGggYSBkYXRhIHNvdXJjZSBzdWNoIGFzOlxuXHRcdCAqICAgIC8vICAgeyBcInBob25lXCI6IDU1NTIzNjgsIFwicGhvbmVfZmlsdGVyXCI6IFwiNTU1MjM2OCA1NTUtMjM2OFwiLCBcInBob25lX2Rpc3BsYXlcIjogXCI1NTUtMjM2OFwiIH1cblx0XHQgKiAgICAvLyBIZXJlIHRoZSBgcGhvbmVgIGludGVnZXIgaXMgdXNlZCBmb3Igc29ydGluZyBhbmQgdHlwZSBkZXRlY3Rpb24sIHdoaWxlIGBwaG9uZV9maWx0ZXJgXG5cdFx0ICogICAgLy8gKHdoaWNoIGhhcyBib3RoIGZvcm1zKSBpcyB1c2VkIGZvciBmaWx0ZXJpbmcgZm9yIGlmIGEgdXNlciBpbnB1dHMgZWl0aGVyIGZvcm1hdCwgd2hpbGVcblx0XHQgKiAgICAvLyB0aGUgZm9ybWF0dGVkIHBob25lIG51bWJlciBpcyB0aGUgb25lIHRoYXQgaXMgc2hvd24gaW4gdGhlIHRhYmxlLlxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uRGVmc1wiOiBbIHtcblx0XHQgKiAgICAgICAgICBcInRhcmdldHNcIjogWyAwIF0sXG5cdFx0ICogICAgICAgICAgXCJkYXRhXCI6IG51bGwsIC8vIFVzZSB0aGUgZnVsbCBkYXRhIHNvdXJjZSBvYmplY3QgZm9yIHRoZSByZW5kZXJlcidzIHNvdXJjZVxuXHRcdCAqICAgICAgICAgIFwicmVuZGVyXCI6IHtcblx0XHQgKiAgICAgICAgICAgIFwiX1wiOiBcInBob25lXCIsXG5cdFx0ICogICAgICAgICAgICBcImZpbHRlclwiOiBcInBob25lX2ZpbHRlclwiLFxuXHRcdCAqICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwicGhvbmVfZGlzcGxheVwiXG5cdFx0ICogICAgICAgICAgfVxuXHRcdCAqICAgICAgICB9IF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2UgYXMgYSBmdW5jdGlvbiB0byBjcmVhdGUgYSBsaW5rIGZyb20gdGhlIGRhdGEgc291cmNlXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFsge1xuXHRcdCAqICAgICAgICAgIFwidGFyZ2V0c1wiOiBbIDAgXSxcblx0XHQgKiAgICAgICAgICBcImRhdGFcIjogXCJkb3dubG9hZF9saW5rXCIsXG5cdFx0ICogICAgICAgICAgXCJyZW5kZXJcIjogZnVuY3Rpb24gKCBkYXRhLCB0eXBlLCBmdWxsICkge1xuXHRcdCAqICAgICAgICAgICAgcmV0dXJuICc8YSBocmVmPVwiJytkYXRhKydcIj5Eb3dubG9hZDwvYT4nO1xuXHRcdCAqICAgICAgICAgIH1cblx0XHQgKiAgICAgICAgfSBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwibVJlbmRlclwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2hhbmdlIHRoZSBjZWxsIHR5cGUgY3JlYXRlZCBmb3IgdGhlIGNvbHVtbiAtIGVpdGhlciBURCBjZWxscyBvciBUSCBjZWxscy4gVGhpc1xuXHRcdCAqIGNhbiBiZSB1c2VmdWwgYXMgVEggY2VsbHMgaGF2ZSBzZW1hbnRpYyBtZWFuaW5nIGluIHRoZSB0YWJsZSBib2R5LCBhbGxvd2luZyB0aGVtXG5cdFx0ICogdG8gYWN0IGFzIGEgaGVhZGVyIGZvciBhIHJvdyAoeW91IG1heSB3aXNoIHRvIGFkZCBzY29wZT0ncm93JyB0byB0aGUgVEggZWxlbWVudHMpLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgdGRcblx0XHQgKlxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uLmNlbGxUeXBlXG5cdFx0ICogIEBkdG9wdCBDb2x1bW5zXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBNYWtlIHRoZSBmaXJzdCBjb2x1bW4gdXNlIFRIIGNlbGxzXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFsge1xuXHRcdCAqICAgICAgICAgIFwidGFyZ2V0c1wiOiBbIDAgXSxcblx0XHQgKiAgICAgICAgICBcImNlbGxUeXBlXCI6IFwidGhcIlxuXHRcdCAqICAgICAgICB9IF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzQ2VsbFR5cGVcIjogXCJ0ZFwiLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2xhc3MgdG8gZ2l2ZSB0byBlYWNoIGNlbGwgaW4gdGhpcyBjb2x1bW4uXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCA8aT5FbXB0eSBzdHJpbmc8L2k+XG5cdFx0ICpcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbi5jbGFzc1xuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwiY2xhc3NcIjogXCJteV9jbGFzc1wiLCBcInRhcmdldHNcIjogWyAwIF0gfVxuXHRcdCAqICAgICAgICBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5zXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwiY2xhc3NcIjogXCJteV9jbGFzc1wiIH0sXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbFxuXHRcdCAqICAgICAgICBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwic0NsYXNzXCI6IFwiXCIsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFdoZW4gRGF0YVRhYmxlcyBjYWxjdWxhdGVzIHRoZSBjb2x1bW4gd2lkdGhzIHRvIGFzc2lnbiB0byBlYWNoIGNvbHVtbixcblx0XHQgKiBpdCBmaW5kcyB0aGUgbG9uZ2VzdCBzdHJpbmcgaW4gZWFjaCBjb2x1bW4gYW5kIHRoZW4gY29uc3RydWN0cyBhXG5cdFx0ICogdGVtcG9yYXJ5IHRhYmxlIGFuZCByZWFkcyB0aGUgd2lkdGhzIGZyb20gdGhhdC4gVGhlIHByb2JsZW0gd2l0aCB0aGlzXG5cdFx0ICogaXMgdGhhdCBcIm1tbVwiIGlzIG11Y2ggd2lkZXIgdGhlbiBcImlpaWlcIiwgYnV0IHRoZSBsYXR0ZXIgaXMgYSBsb25nZXJcblx0XHQgKiBzdHJpbmcgLSB0aHVzIHRoZSBjYWxjdWxhdGlvbiBjYW4gZ28gd3JvbmcgKGRvaW5nIGl0IHByb3Blcmx5IGFuZCBwdXR0aW5nXG5cdFx0ICogaXQgaW50byBhbiBET00gb2JqZWN0IGFuZCBtZWFzdXJpbmcgdGhhdCBpcyBob3JyaWJseSghKSBzbG93KS4gVGh1cyBhc1xuXHRcdCAqIGEgXCJ3b3JrIGFyb3VuZFwiIHdlIHByb3ZpZGUgdGhpcyBvcHRpb24uIEl0IHdpbGwgYXBwZW5kIGl0cyB2YWx1ZSB0byB0aGVcblx0XHQgKiB0ZXh0IHRoYXQgaXMgZm91bmQgdG8gYmUgdGhlIGxvbmdlc3Qgc3RyaW5nIGZvciB0aGUgY29sdW1uIC0gaS5lLiBwYWRkaW5nLlxuXHRcdCAqIEdlbmVyYWxseSB5b3Ugc2hvdWxkbid0IG5lZWQgdGhpcyFcblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IDxpPkVtcHR5IHN0cmluZzxpPlxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4uY29udGVudFBhZGRpbmdcblx0XHQgKiAgQGR0b3B0IENvbHVtbnNcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBjb2x1bW5zYFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uc1wiOiBbXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAge1xuXHRcdCAqICAgICAgICAgICAgXCJjb250ZW50UGFkZGluZ1wiOiBcIm1tbVwiXG5cdFx0ICogICAgICAgICAgfVxuXHRcdCAqICAgICAgICBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqL1xuXHRcdFwic0NvbnRlbnRQYWRkaW5nXCI6IFwiXCIsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBBbGxvd3MgYSBkZWZhdWx0IHZhbHVlIHRvIGJlIGdpdmVuIGZvciBhIGNvbHVtbidzIGRhdGEsIGFuZCB3aWxsIGJlIHVzZWRcblx0XHQgKiB3aGVuZXZlciBhIG51bGwgZGF0YSBzb3VyY2UgaXMgZW5jb3VudGVyZWQgKHRoaXMgY2FuIGJlIGJlY2F1c2UgYGRhdGFgXG5cdFx0ICogaXMgc2V0IHRvIG51bGwsIG9yIGJlY2F1c2UgdGhlIGRhdGEgc291cmNlIGl0c2VsZiBpcyBudWxsKS5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKlxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uLmRlZmF1bHRDb250ZW50XG5cdFx0ICogIEBkdG9wdCBDb2x1bW5zXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBgY29sdW1uRGVmc2Bcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbkRlZnNcIjogW1xuXHRcdCAqICAgICAgICAgIHtcblx0XHQgKiAgICAgICAgICAgIFwiZGF0YVwiOiBudWxsLFxuXHRcdCAqICAgICAgICAgICAgXCJkZWZhdWx0Q29udGVudFwiOiBcIkVkaXRcIixcblx0XHQgKiAgICAgICAgICAgIFwidGFyZ2V0c1wiOiBbIC0xIF1cblx0XHQgKiAgICAgICAgICB9XG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBgY29sdW1uc2Bcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIHtcblx0XHQgKiAgICAgICAgICAgIFwiZGF0YVwiOiBudWxsLFxuXHRcdCAqICAgICAgICAgICAgXCJkZWZhdWx0Q29udGVudFwiOiBcIkVkaXRcIlxuXHRcdCAqICAgICAgICAgIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRcInNEZWZhdWx0Q29udGVudFwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBwYXJhbWV0ZXIgaXMgb25seSB1c2VkIGluIERhdGFUYWJsZXMnIHNlcnZlci1zaWRlIHByb2Nlc3NpbmcuIEl0IGNhblxuXHRcdCAqIGJlIGV4Y2VwdGlvbmFsbHkgdXNlZnVsIHRvIGtub3cgd2hhdCBjb2x1bW5zIGFyZSBiZWluZyBkaXNwbGF5ZWQgb24gdGhlXG5cdFx0ICogY2xpZW50IHNpZGUsIGFuZCB0byBtYXAgdGhlc2UgdG8gZGF0YWJhc2UgZmllbGRzLiBXaGVuIGRlZmluZWQsIHRoZSBuYW1lc1xuXHRcdCAqIGFsc28gYWxsb3cgRGF0YVRhYmxlcyB0byByZW9yZGVyIGluZm9ybWF0aW9uIGZyb20gdGhlIHNlcnZlciBpZiBpdCBjb21lc1xuXHRcdCAqIGJhY2sgaW4gYW4gdW5leHBlY3RlZCBvcmRlciAoaS5lLiBpZiB5b3Ugc3dpdGNoIHlvdXIgY29sdW1ucyBhcm91bmQgb24gdGhlXG5cdFx0ICogY2xpZW50LXNpZGUsIHlvdXIgc2VydmVyLXNpZGUgY29kZSBkb2VzIG5vdCBhbHNvIG5lZWQgdXBkYXRpbmcpLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgPGk+RW1wdHkgc3RyaW5nPC9pPlxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4ubmFtZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwibmFtZVwiOiBcImVuZ2luZVwiLCBcInRhcmdldHNcIjogWyAwIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwibmFtZVwiOiBcImJyb3dzZXJcIiwgXCJ0YXJnZXRzXCI6IFsgMSBdIH0sXG5cdFx0ICogICAgICAgICAgeyBcIm5hbWVcIjogXCJwbGF0Zm9ybVwiLCBcInRhcmdldHNcIjogWyAyIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwibmFtZVwiOiBcInZlcnNpb25cIiwgXCJ0YXJnZXRzXCI6IFsgMyBdIH0sXG5cdFx0ICogICAgICAgICAgeyBcIm5hbWVcIjogXCJncmFkZVwiLCBcInRhcmdldHNcIjogWyA0IF0gfVxuXHRcdCAqICAgICAgICBdXG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfSApO1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5zXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwibmFtZVwiOiBcImVuZ2luZVwiIH0sXG5cdFx0ICogICAgICAgICAgeyBcIm5hbWVcIjogXCJicm93c2VyXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwibmFtZVwiOiBcInBsYXRmb3JtXCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwibmFtZVwiOiBcInZlcnNpb25cIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJuYW1lXCI6IFwiZ3JhZGVcIiB9XG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzTmFtZVwiOiBcIlwiLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIGRhdGEgc291cmNlIHR5cGUgZm9yIHRoZSBvcmRlcmluZyB3aGljaCBjYW4gYmUgdXNlZCB0byByZWFkXG5cdFx0ICogcmVhbC10aW1lIGluZm9ybWF0aW9uIGZyb20gdGhlIHRhYmxlICh1cGRhdGluZyB0aGUgaW50ZXJuYWxseSBjYWNoZWRcblx0XHQgKiB2ZXJzaW9uKSBwcmlvciB0byBvcmRlcmluZy4gVGhpcyBhbGxvd3Mgb3JkZXJpbmcgdG8gb2NjdXIgb24gdXNlclxuXHRcdCAqIGVkaXRhYmxlIGVsZW1lbnRzIHN1Y2ggYXMgZm9ybSBpbnB1dHMuXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCBzdGRcblx0XHQgKlxuXHRcdCAqICBAbmFtZSBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uLm9yZGVyRGF0YVR5cGVcblx0XHQgKiAgQGR0b3B0IENvbHVtbnNcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBjb2x1bW5EZWZzYFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uRGVmc1wiOiBbXG5cdFx0ICogICAgICAgICAgeyBcIm9yZGVyRGF0YVR5cGVcIjogXCJkb20tdGV4dFwiLCBcInRhcmdldHNcIjogWyAyLCAzIF0gfSxcblx0XHQgKiAgICAgICAgICB7IFwidHlwZVwiOiBcIm51bWVyaWNcIiwgXCJ0YXJnZXRzXCI6IFsgMyBdIH0sXG5cdFx0ICogICAgICAgICAgeyBcIm9yZGVyRGF0YVR5cGVcIjogXCJkb20tc2VsZWN0XCIsIFwidGFyZ2V0c1wiOiBbIDQgXSB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlckRhdGFUeXBlXCI6IFwiZG9tLWNoZWNrYm94XCIsIFwidGFyZ2V0c1wiOiBbIDUgXSB9XG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBVc2luZyBgY29sdW1uc2Bcblx0XHQgKiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0ICogICAgICAkKCcjZXhhbXBsZScpLmRhdGFUYWJsZSgge1xuXHRcdCAqICAgICAgICBcImNvbHVtbnNcIjogW1xuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJEYXRhVHlwZVwiOiBcImRvbS10ZXh0XCIgfSxcblx0XHQgKiAgICAgICAgICB7IFwib3JkZXJEYXRhVHlwZVwiOiBcImRvbS10ZXh0XCIsIFwidHlwZVwiOiBcIm51bWVyaWNcIiB9LFxuXHRcdCAqICAgICAgICAgIHsgXCJvcmRlckRhdGFUeXBlXCI6IFwiZG9tLXNlbGVjdFwiIH0sXG5cdFx0ICogICAgICAgICAgeyBcIm9yZGVyRGF0YVR5cGVcIjogXCJkb20tY2hlY2tib3hcIiB9XG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzU29ydERhdGFUeXBlXCI6IFwic3RkXCIsXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgdGl0bGUgb2YgdGhpcyBjb2x1bW4uXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCBudWxsIDxpPkRlcml2ZWQgZnJvbSB0aGUgJ1RIJyB2YWx1ZSBmb3IgdGhpcyBjb2x1bW4gaW4gdGhlXG5cdFx0ICogICAgb3JpZ2luYWwgSFRNTCB0YWJsZS48L2k+XG5cdFx0ICpcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbi50aXRsZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwidGl0bGVcIjogXCJNeSBjb2x1bW4gdGl0bGVcIiwgXCJ0YXJnZXRzXCI6IFsgMCBdIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBjb2x1bW5zYFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uc1wiOiBbXG5cdFx0ICogICAgICAgICAgeyBcInRpdGxlXCI6IFwiTXkgY29sdW1uIHRpdGxlXCIgfSxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsXG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzVGl0bGVcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSB0eXBlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBob3cgdGhlIGRhdGEgZm9yIHRoaXMgY29sdW1uIHdpbGwgYmVcblx0XHQgKiBvcmRlcmVkLiBGb3VyIHR5cGVzIChzdHJpbmcsIG51bWVyaWMsIGRhdGUgYW5kIGh0bWwgKHdoaWNoIHdpbGwgc3RyaXBcblx0XHQgKiBIVE1MIHRhZ3MgYmVmb3JlIG9yZGVyaW5nKSkgYXJlIGN1cnJlbnRseSBhdmFpbGFibGUuIE5vdGUgdGhhdCBvbmx5IGRhdGVcblx0XHQgKiBmb3JtYXRzIHVuZGVyc3Rvb2QgYnkgSmF2YXNjcmlwdCdzIERhdGUoKSBvYmplY3Qgd2lsbCBiZSBhY2NlcHRlZCBhcyB0eXBlXG5cdFx0ICogZGF0ZS4gRm9yIGV4YW1wbGU6IFwiTWFyIDI2LCAyMDA4IDU6MDMgUE1cIi4gTWF5IHRha2UgdGhlIHZhbHVlczogJ3N0cmluZycsXG5cdFx0ICogJ251bWVyaWMnLCAnZGF0ZScgb3IgJ2h0bWwnIChieSBkZWZhdWx0KS4gRnVydGhlciB0eXBlcyBjYW4gYmUgYWRkaW5nXG5cdFx0ICogdGhyb3VnaCBwbHVnLWlucy5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGwgPGk+QXV0by1kZXRlY3RlZCBmcm9tIHJhdyBkYXRhPC9pPlxuXHRcdCAqXG5cdFx0ICogIEBuYW1lIERhdGFUYWJsZS5kZWZhdWx0cy5jb2x1bW4udHlwZVxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwidHlwZVwiOiBcImh0bWxcIiwgXCJ0YXJnZXRzXCI6IFsgMCBdIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBjb2x1bW5zYFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uc1wiOiBbXG5cdFx0ICogICAgICAgICAgeyBcInR5cGVcIjogXCJodG1sXCIgfSxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsXG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzVHlwZVwiOiBudWxsLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRGVmaW5pbmcgdGhlIHdpZHRoIG9mIHRoZSBjb2x1bW4sIHRoaXMgcGFyYW1ldGVyIG1heSB0YWtlIGFueSBDU1MgdmFsdWVcblx0XHQgKiAoM2VtLCAyMHB4IGV0YykuIERhdGFUYWJsZXMgYXBwbGllcyAnc21hcnQnIHdpZHRocyB0byBjb2x1bW5zIHdoaWNoIGhhdmUgbm90XG5cdFx0ICogYmVlbiBnaXZlbiBhIHNwZWNpZmljIHdpZHRoIHRocm91Z2ggdGhpcyBpbnRlcmZhY2UgZW5zdXJpbmcgdGhhdCB0aGUgdGFibGVcblx0XHQgKiByZW1haW5zIHJlYWRhYmxlLlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbCA8aT5BdXRvbWF0aWM8L2k+XG5cdFx0ICpcblx0XHQgKiAgQG5hbWUgRGF0YVRhYmxlLmRlZmF1bHRzLmNvbHVtbi53aWR0aFxuXHRcdCAqICBAZHRvcHQgQ29sdW1uc1xuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgLy8gVXNpbmcgYGNvbHVtbkRlZnNgXG5cdFx0ICogICAgJChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCAqICAgICAgJCgnI2V4YW1wbGUnKS5kYXRhVGFibGUoIHtcblx0XHQgKiAgICAgICAgXCJjb2x1bW5EZWZzXCI6IFtcblx0XHQgKiAgICAgICAgICB7IFwid2lkdGhcIjogXCIyMCVcIiwgXCJ0YXJnZXRzXCI6IFsgMCBdIH1cblx0XHQgKiAgICAgICAgXVxuXHRcdCAqICAgICAgfSApO1xuXHRcdCAqICAgIH0gKTtcblx0XHQgKlxuXHRcdCAqICBAZXhhbXBsZVxuXHRcdCAqICAgIC8vIFVzaW5nIGBjb2x1bW5zYFxuXHRcdCAqICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICQoJyNleGFtcGxlJykuZGF0YVRhYmxlKCB7XG5cdFx0ICogICAgICAgIFwiY29sdW1uc1wiOiBbXG5cdFx0ICogICAgICAgICAgeyBcIndpZHRoXCI6IFwiMjAlXCIgfSxcblx0XHQgKiAgICAgICAgICBudWxsLFxuXHRcdCAqICAgICAgICAgIG51bGwsXG5cdFx0ICogICAgICAgICAgbnVsbCxcblx0XHQgKiAgICAgICAgICBudWxsXG5cdFx0ICogICAgICAgIF1cblx0XHQgKiAgICAgIH0gKTtcblx0XHQgKiAgICB9ICk7XG5cdFx0ICovXG5cdFx0XCJzV2lkdGhcIjogbnVsbFxuXHR9O1xuXHRcblx0X2ZuSHVuZ2FyaWFuTWFwKCBEYXRhVGFibGUuZGVmYXVsdHMuY29sdW1uICk7XG5cdFxuXHRcblx0XG5cdC8qKlxuXHQgKiBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdCAtIHRoaXMgaG9sZHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQgZm9yIGFcblx0ICogZ2l2ZW4gdGFibGUsIGluY2x1ZGluZyBjb25maWd1cmF0aW9uLCBkYXRhIGFuZCBjdXJyZW50IGFwcGxpY2F0aW9uIG9mIHRoZVxuXHQgKiB0YWJsZSBvcHRpb25zLiBEYXRhVGFibGVzIGRvZXMgbm90IGhhdmUgYSBzaW5nbGUgaW5zdGFuY2UgZm9yIGVhY2ggRGF0YVRhYmxlXG5cdCAqIHdpdGggdGhlIHNldHRpbmdzIGF0dGFjaGVkIHRvIHRoYXQgaW5zdGFuY2UsIGJ1dCByYXRoZXIgaW5zdGFuY2VzIG9mIHRoZVxuXHQgKiBEYXRhVGFibGUgXCJjbGFzc1wiIGFyZSBjcmVhdGVkIG9uLXRoZS1mbHkgYXMgbmVlZGVkICh0eXBpY2FsbHkgYnkgYVxuXHQgKiAkKCkuZGF0YVRhYmxlKCkgY2FsbCkgYW5kIHRoZSBzZXR0aW5ncyBvYmplY3QgaXMgdGhlbiBhcHBsaWVkIHRvIHRoYXRcblx0ICogaW5zdGFuY2UuXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCB0aGlzIG9iamVjdCBpcyByZWxhdGVkIHRvIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9IGJ1dCB0aGlzXG5cdCAqIG9uZSBpcyB0aGUgaW50ZXJuYWwgZGF0YSBzdG9yZSBmb3IgRGF0YVRhYmxlcydzIGNhY2hlIG9mIGNvbHVtbnMuIEl0IHNob3VsZFxuXHQgKiBOT1QgYmUgbWFuaXB1bGF0ZWQgb3V0c2lkZSBvZiBEYXRhVGFibGVzLiBBbnkgY29uZmlndXJhdGlvbiBzaG91bGQgYmUgZG9uZVxuXHQgKiB0aHJvdWdoIHRoZSBpbml0aWFsaXNhdGlvbiBvcHRpb25zLlxuXHQgKiAgQG5hbWVzcGFjZVxuXHQgKiAgQHRvZG8gUmVhbGx5IHNob3VsZCBhdHRhY2ggdGhlIHNldHRpbmdzIG9iamVjdCB0byBpbmRpdmlkdWFsIGluc3RhbmNlcyBzbyB3ZVxuXHQgKiAgICBkb24ndCBuZWVkIHRvIGNyZWF0ZSBuZXcgaW5zdGFuY2VzIG9uIGVhY2ggJCgpLmRhdGFUYWJsZSgpIGNhbGwgKGlmIHRoZVxuXHQgKiAgICB0YWJsZSBhbHJlYWR5IGV4aXN0cykuIEl0IHdvdWxkIGFsc28gc2F2ZSBwYXNzaW5nIG9TZXR0aW5ncyBhcm91bmQgYW5kXG5cdCAqICAgIGludG8gZXZlcnkgc2luZ2xlIGZ1bmN0aW9uLiBIb3dldmVyLCB0aGlzIGlzIGEgdmVyeSBzaWduaWZpY2FudFxuXHQgKiAgICBhcmNoaXRlY3R1cmUgY2hhbmdlIGZvciBEYXRhVGFibGVzIGFuZCB3aWxsIGFsbW9zdCBjZXJ0YWlubHkgYnJlYWtcblx0ICogICAgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciBpbnN0YWxsYXRpb25zLiBUaGlzIGlzIHNvbWV0aGluZyB0aGF0XG5cdCAqICAgIHdpbGwgYmUgZG9uZSBpbiAyLjAuXG5cdCAqL1xuXHREYXRhVGFibGUubW9kZWxzLm9TZXR0aW5ncyA9IHtcblx0XHQvKipcblx0XHQgKiBQcmltYXJ5IGZlYXR1cmVzIG9mIERhdGFUYWJsZXMgYW5kIHRoZWlyIGVuYWJsZW1lbnQgc3RhdGUuXG5cdFx0ICogIEBuYW1lc3BhY2Vcblx0XHQgKi9cblx0XHRcIm9GZWF0dXJlc1wiOiB7XG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBGbGFnIHRvIHNheSBpZiBEYXRhVGFibGVzIHNob3VsZCBhdXRvbWF0aWNhbGx5IHRyeSB0byBjYWxjdWxhdGUgdGhlXG5cdFx0XHQgKiBvcHRpbXVtIHRhYmxlIGFuZCBjb2x1bW5zIHdpZHRocyAodHJ1ZSkgb3Igbm90IChmYWxzZSkuXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYkF1dG9XaWR0aFwiOiBudWxsLFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogRGVsYXkgdGhlIGNyZWF0aW9uIG9mIFRSIGFuZCBURCBlbGVtZW50cyB1bnRpbCB0aGV5IGFyZSBhY3R1YWxseVxuXHRcdFx0ICogbmVlZGVkIGJ5IGEgZHJpdmVuIHBhZ2UgZHJhdy4gVGhpcyBjYW4gZ2l2ZSBhIHNpZ25pZmljYW50IHNwZWVkXG5cdFx0XHQgKiBpbmNyZWFzZSBmb3IgQWpheCBzb3VyY2UgYW5kIEphdmFzY3JpcHQgc291cmNlIGRhdGEsIGJ1dCBtYWtlcyBub1xuXHRcdFx0ICogZGlmZmVyZW5jZSBhdCBhbGwgZnJvIERPTSBhbmQgc2VydmVyLXNpZGUgcHJvY2Vzc2luZyB0YWJsZXMuXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYkRlZmVyUmVuZGVyXCI6IG51bGwsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBFbmFibGUgZmlsdGVyaW5nIG9uIHRoZSB0YWJsZSBvciBub3QuIE5vdGUgdGhhdCBpZiB0aGlzIGlzIGRpc2FibGVkXG5cdFx0XHQgKiB0aGVuIHRoZXJlIGlzIG5vIGZpbHRlcmluZyBhdCBhbGwgb24gdGhlIHRhYmxlLCBpbmNsdWRpbmcgZm5GaWx0ZXIuXG5cdFx0XHQgKiBUbyBqdXN0IHJlbW92ZSB0aGUgZmlsdGVyaW5nIGlucHV0IHVzZSBzRG9tIGFuZCByZW1vdmUgdGhlICdmJyBvcHRpb24uXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYkZpbHRlclwiOiBudWxsLFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogVGFibGUgaW5mb3JtYXRpb24gZWxlbWVudCAodGhlICdTaG93aW5nIHggb2YgeSByZWNvcmRzJyBkaXYpIGVuYWJsZVxuXHRcdFx0ICogZmxhZy5cblx0XHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHRcdCAqL1xuXHRcdFx0XCJiSW5mb1wiOiBudWxsLFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogUHJlc2VudCBhIHVzZXIgY29udHJvbCBhbGxvd2luZyB0aGUgZW5kIHVzZXIgdG8gY2hhbmdlIHRoZSBwYWdlIHNpemVcblx0XHRcdCAqIHdoZW4gcGFnaW5hdGlvbiBpcyBlbmFibGVkLlxuXHRcdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdFx0ICovXG5cdFx0XHRcImJMZW5ndGhDaGFuZ2VcIjogbnVsbCxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFBhZ2luYXRpb24gZW5hYmxlZCBvciBub3QuIE5vdGUgdGhhdCBpZiB0aGlzIGlzIGRpc2FibGVkIHRoZW4gbGVuZ3RoXG5cdFx0XHQgKiBjaGFuZ2luZyBtdXN0IGFsc28gYmUgZGlzYWJsZWQuXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYlBhZ2luYXRlXCI6IG51bGwsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBQcm9jZXNzaW5nIGluZGljYXRvciBlbmFibGUgZmxhZyB3aGVuZXZlciBEYXRhVGFibGVzIGlzIGVuYWN0aW5nIGFcblx0XHRcdCAqIHVzZXIgcmVxdWVzdCAtIHR5cGljYWxseSBhbiBBamF4IHJlcXVlc3QgZm9yIHNlcnZlci1zaWRlIHByb2Nlc3NpbmcuXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYlByb2Nlc3NpbmdcIjogbnVsbCxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFNlcnZlci1zaWRlIHByb2Nlc3NpbmcgZW5hYmxlZCBmbGFnIC0gd2hlbiBlbmFibGVkIERhdGFUYWJsZXMgd2lsbFxuXHRcdFx0ICogZ2V0IGFsbCBkYXRhIGZyb20gdGhlIHNlcnZlciBmb3IgZXZlcnkgZHJhdyAtIHRoZXJlIGlzIG5vIGZpbHRlcmluZyxcblx0XHRcdCAqIHNvcnRpbmcgb3IgcGFnaW5nIGRvbmUgb24gdGhlIGNsaWVudC1zaWRlLlxuXHRcdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdFx0ICovXG5cdFx0XHRcImJTZXJ2ZXJTaWRlXCI6IG51bGwsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTb3J0aW5nIGVuYWJsZW1lbnQgZmxhZy5cblx0XHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHRcdCAqL1xuXHRcdFx0XCJiU29ydFwiOiBudWxsLFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogTXVsdGktY29sdW1uIHNvcnRpbmdcblx0XHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHRcdCAqL1xuXHRcdFx0XCJiU29ydE11bHRpXCI6IG51bGwsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBcHBseSBhIGNsYXNzIHRvIHRoZSBjb2x1bW5zIHdoaWNoIGFyZSBiZWluZyBzb3J0ZWQgdG8gcHJvdmlkZSBhXG5cdFx0XHQgKiB2aXN1YWwgaGlnaGxpZ2h0IG9yIG5vdC4gVGhpcyBjYW4gc2xvdyB0aGluZ3MgZG93biB3aGVuIGVuYWJsZWQgc2luY2Vcblx0XHRcdCAqIHRoZXJlIGlzIGEgbG90IG9mIERPTSBpbnRlcmFjdGlvbi5cblx0XHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHRcdCAqL1xuXHRcdFx0XCJiU29ydENsYXNzZXNcIjogbnVsbCxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFN0YXRlIHNhdmluZyBlbmFibGVtZW50IGZsYWcuXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYlN0YXRlU2F2ZVwiOiBudWxsXG5cdFx0fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNjcm9sbGluZyBzZXR0aW5ncyBmb3IgYSB0YWJsZS5cblx0XHQgKiAgQG5hbWVzcGFjZVxuXHRcdCAqL1xuXHRcdFwib1Njcm9sbFwiOiB7XG5cdFx0XHQvKipcblx0XHRcdCAqIFdoZW4gdGhlIHRhYmxlIGlzIHNob3J0ZXIgaW4gaGVpZ2h0IHRoYW4gc1Njcm9sbFksIGNvbGxhcHNlIHRoZVxuXHRcdFx0ICogdGFibGUgY29udGFpbmVyIGRvd24gdG8gdGhlIGhlaWdodCBvZiB0aGUgdGFibGUgKHdoZW4gdHJ1ZSkuXG5cdFx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKi9cblx0XHRcdFwiYkNvbGxhcHNlXCI6IG51bGwsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBXaWR0aCBvZiB0aGUgc2Nyb2xsYmFyIGZvciB0aGUgd2ViLWJyb3dzZXIncyBwbGF0Zm9ybS4gQ2FsY3VsYXRlZFxuXHRcdFx0ICogZHVyaW5nIHRhYmxlIGluaXRpYWxpc2F0aW9uLlxuXHRcdFx0ICogIEB0eXBlIGludFxuXHRcdFx0ICogIEBkZWZhdWx0IDBcblx0XHRcdCAqL1xuXHRcdFx0XCJpQmFyV2lkdGhcIjogMCxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFZpZXdwb3J0IHdpZHRoIGZvciBob3Jpem9udGFsIHNjcm9sbGluZy4gSG9yaXpvbnRhbCBzY3JvbGxpbmcgaXNcblx0XHRcdCAqIGRpc2FibGVkIGlmIGFuIGVtcHR5IHN0cmluZy5cblx0XHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICovXG5cdFx0XHRcInNYXCI6IG51bGwsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBXaWR0aCB0byBleHBhbmQgdGhlIHRhYmxlIHRvIHdoZW4gdXNpbmcgeC1zY3JvbGxpbmcuIFR5cGljYWxseSB5b3Vcblx0XHRcdCAqIHNob3VsZCBub3QgbmVlZCB0byB1c2UgdGhpcy5cblx0XHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdFx0ICogIEBkZXByZWNhdGVkXG5cdFx0XHQgKi9cblx0XHRcdFwic1hJbm5lclwiOiBudWxsLFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogVmlld3BvcnQgaGVpZ2h0IGZvciB2ZXJ0aWNhbCBzY3JvbGxpbmcuIFZlcnRpY2FsIHNjcm9sbGluZyBpcyBkaXNhYmxlZFxuXHRcdFx0ICogaWYgYW4gZW1wdHkgc3RyaW5nLlxuXHRcdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0XHQgKi9cblx0XHRcdFwic1lcIjogbnVsbFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIExhbmd1YWdlIGluZm9ybWF0aW9uIGZvciB0aGUgdGFibGUuXG5cdFx0ICogIEBuYW1lc3BhY2Vcblx0XHQgKiAgQGV4dGVuZHMgRGF0YVRhYmxlLmRlZmF1bHRzLm9MYW5ndWFnZVxuXHRcdCAqL1xuXHRcdFwib0xhbmd1YWdlXCI6IHtcblx0XHRcdC8qKlxuXHRcdFx0ICogSW5mb3JtYXRpb24gY2FsbGJhY2sgZnVuY3Rpb24uIFNlZVxuXHRcdFx0ICoge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0cy5mbkluZm9DYWxsYmFja31cblx0XHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHRcdCAqL1xuXHRcdFx0XCJmbkluZm9DYWxsYmFja1wiOiBudWxsXG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQnJvd3NlciBzdXBwb3J0IHBhcmFtZXRlcnNcblx0XHQgKiAgQG5hbWVzcGFjZVxuXHRcdCAqL1xuXHRcdFwib0Jyb3dzZXJcIjoge1xuXHRcdFx0LyoqXG5cdFx0XHQgKiBJbmRpY2F0ZSBpZiB0aGUgYnJvd3NlciBpbmNvcnJlY3RseSBjYWxjdWxhdGVzIHdpZHRoOjEwMCUgaW5zaWRlIGFcblx0XHRcdCAqIHNjcm9sbGluZyBlbGVtZW50IChJRTYvNylcblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHRcdCAqL1xuXHRcdFx0XCJiU2Nyb2xsT3ZlcnNpemVcIjogZmFsc2UsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEZXRlcm1pbmUgaWYgdGhlIHZlcnRpY2FsIHNjcm9sbGJhciBpcyBvbiB0aGUgcmlnaHQgb3IgbGVmdCBvZiB0aGVcblx0XHRcdCAqIHNjcm9sbGluZyBjb250YWluZXIgLSBuZWVkZWQgZm9yIHJ0bCBsYW5ndWFnZSBsYXlvdXQsIGFsdGhvdWdoIG5vdFxuXHRcdFx0ICogYWxsIGJyb3dzZXJzIG1vdmUgdGhlIHNjcm9sbGJhciAoU2FmYXJpKS5cblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHRcdCAqL1xuXHRcdFx0XCJiU2Nyb2xsYmFyTGVmdFwiOiBmYWxzZSxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEZsYWcgZm9yIGlmIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIGlzIGZ1bGx5IHN1cHBvcnRlZCBvciBub3Rcblx0XHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHRcdCAqL1xuXHRcdFx0XCJiQm91bmRpbmdcIjogZmFsc2UsXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBCcm93c2VyIHNjcm9sbGJhciB3aWR0aFxuXHRcdFx0ICogIEB0eXBlIGludGVnZXJcblx0XHRcdCAqICBAZGVmYXVsdCAwXG5cdFx0XHQgKi9cblx0XHRcdFwiYmFyV2lkdGhcIjogMFxuXHRcdH0sXG5cdFxuXHRcblx0XHRcImFqYXhcIjogbnVsbCxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFycmF5IHJlZmVyZW5jaW5nIHRoZSBub2RlcyB3aGljaCBhcmUgdXNlZCBmb3IgdGhlIGZlYXR1cmVzLiBUaGVcblx0XHQgKiBwYXJhbWV0ZXJzIG9mIHRoaXMgb2JqZWN0IG1hdGNoIHdoYXQgaXMgYWxsb3dlZCBieSBzRG9tIC0gaS5lLlxuXHRcdCAqICAgPHVsPlxuXHRcdCAqICAgICA8bGk+J2wnIC0gTGVuZ3RoIGNoYW5naW5nPC9saT5cblx0XHQgKiAgICAgPGxpPidmJyAtIEZpbHRlcmluZyBpbnB1dDwvbGk+XG5cdFx0ICogICAgIDxsaT4ndCcgLSBUaGUgdGFibGUhPC9saT5cblx0XHQgKiAgICAgPGxpPidpJyAtIEluZm9ybWF0aW9uPC9saT5cblx0XHQgKiAgICAgPGxpPidwJyAtIFBhZ2luYXRpb248L2xpPlxuXHRcdCAqICAgICA8bGk+J3InIC0gcFJvY2Vzc2luZzwvbGk+XG5cdFx0ICogICA8L3VsPlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYWFuRmVhdHVyZXNcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0b3JlIGRhdGEgaW5mb3JtYXRpb24gLSBzZWUge0BsaW5rIERhdGFUYWJsZS5tb2RlbHMub1Jvd30gZm9yIGRldGFpbGVkXG5cdFx0ICogaW5mb3JtYXRpb24uXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0RhdGFcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFycmF5IG9mIGluZGV4ZXMgd2hpY2ggYXJlIGluIHRoZSBjdXJyZW50IGRpc3BsYXkgKGFmdGVyIGZpbHRlcmluZyBldGMpXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhaURpc3BsYXlcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFycmF5IG9mIGluZGV4ZXMgZm9yIGRpc3BsYXkgLSBubyBmaWx0ZXJpbmdcblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFpRGlzcGxheU1hc3RlclwiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogTWFwIG9mIHJvdyBpZHMgdG8gZGF0YSBpbmRleGVzXG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCB7fVxuXHRcdCAqL1xuXHRcdFwiYUlkc1wiOiB7fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBjb2x1bW4gdGhhdCBpcyBpbiB1c2Vcblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFvQ29sdW1uc1wiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRhYmxlJ3MgaGVhZGVyXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0hlYWRlclwiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRhYmxlJ3MgZm9vdGVyXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0Zvb3RlclwiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmUgdGhlIGFwcGxpZWQgZ2xvYmFsIHNlYXJjaCBpbmZvcm1hdGlvbiBpbiBjYXNlIHdlIHdhbnQgdG8gZm9yY2UgYVxuXHRcdCAqIHJlc2VhcmNoIG9yIGNvbXBhcmUgdGhlIG9sZCBzZWFyY2ggdG8gYSBuZXcgb25lLlxuXHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHQgKiAgQG5hbWVzcGFjZVxuXHRcdCAqICBAZXh0ZW5kcyBEYXRhVGFibGUubW9kZWxzLm9TZWFyY2hcblx0XHQgKi9cblx0XHRcIm9QcmV2aW91c1NlYXJjaFwiOiB7fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmUgdGhlIGFwcGxpZWQgc2VhcmNoIGZvciBlYWNoIGNvbHVtbiAtIHNlZVxuXHRcdCAqIHtAbGluayBEYXRhVGFibGUubW9kZWxzLm9TZWFyY2h9IGZvciB0aGUgZm9ybWF0IHRoYXQgaXMgdXNlZCBmb3IgdGhlXG5cdFx0ICogZmlsdGVyaW5nIGluZm9ybWF0aW9uIGZvciBlYWNoIGNvbHVtbi5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFvUHJlU2VhcmNoQ29sc1wiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU29ydGluZyB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHRhYmxlLiBOb3RlIHRoYXQgdGhlIGlubmVyIGFycmF5cyBhcmVcblx0XHQgKiB1c2VkIGluIHRoZSBmb2xsb3dpbmcgbWFubmVyOlxuXHRcdCAqIDx1bD5cblx0XHQgKiAgIDxsaT5JbmRleCAwIC0gY29sdW1uIG51bWJlcjwvbGk+XG5cdFx0ICogICA8bGk+SW5kZXggMSAtIGN1cnJlbnQgc29ydGluZyBkaXJlY3Rpb248L2xpPlxuXHRcdCAqIDwvdWw+XG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAdG9kbyBUaGVzZSBpbm5lciBhcnJheXMgc2hvdWxkIHJlYWxseSBiZSBvYmplY3RzXG5cdFx0ICovXG5cdFx0XCJhYVNvcnRpbmdcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogU29ydGluZyB0aGF0IGlzIGFsd2F5cyBhcHBsaWVkIHRvIHRoZSB0YWJsZSAoaS5lLiBwcmVmaXhlZCBpbiBmcm9udCBvZlxuXHRcdCAqIGFhU29ydGluZykuXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYWFTb3J0aW5nRml4ZWRcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsYXNzZXMgdG8gdXNlIGZvciB0aGUgc3RyaXBpbmcgb2YgYSB0YWJsZS5cblx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhc1N0cmlwZUNsYXNzZXNcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSWYgcmVzdG9yaW5nIGEgdGFibGUgLSB3ZSBzaG91bGQgcmVzdG9yZSBpdHMgc3RyaXBpbmcgY2xhc3NlcyBhcyB3ZWxsXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhc0Rlc3Ryb3lTdHJpcGVzXCI6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBJZiByZXN0b3JpbmcgYSB0YWJsZSAtIHdlIHNob3VsZCByZXN0b3JlIGl0cyB3aWR0aFxuXHRcdCAqICBAdHlwZSBpbnRcblx0XHQgKiAgQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdFwic0Rlc3Ryb3lXaWR0aFwiOiAwLFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayBmdW5jdGlvbnMgYXJyYXkgZm9yIGV2ZXJ5IHRpbWUgYSByb3cgaXMgaW5zZXJ0ZWQgKGkuZS4gb24gYSBkcmF3KS5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFvUm93Q2FsbGJhY2tcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgdGhlIGhlYWRlciBvbiBlYWNoIGRyYXcuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0hlYWRlckNhbGxiYWNrXCI6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3IgdGhlIGZvb3RlciBvbiBlYWNoIGRyYXcuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0Zvb3RlckNhbGxiYWNrXCI6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBBcnJheSBvZiBjYWxsYmFjayBmdW5jdGlvbnMgZm9yIGRyYXcgY2FsbGJhY2sgZnVuY3Rpb25zXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0RyYXdDYWxsYmFja1wiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQXJyYXkgb2YgY2FsbGJhY2sgZnVuY3Rpb25zIGZvciByb3cgY3JlYXRlZCBmdW5jdGlvblxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYW9Sb3dDcmVhdGVkQ2FsbGJhY2tcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrIGZ1bmN0aW9ucyBmb3IganVzdCBiZWZvcmUgdGhlIHRhYmxlIGlzIHJlZHJhd24uIEEgcmV0dXJuIG9mXG5cdFx0ICogZmFsc2Ugd2lsbCBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgZHJhdy5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFvUHJlRHJhd0NhbGxiYWNrXCI6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayBmdW5jdGlvbnMgZm9yIHdoZW4gdGhlIHRhYmxlIGhhcyBiZWVuIGluaXRpYWxpc2VkLlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYW9Jbml0Q29tcGxldGVcIjogW10sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsYmFja3MgZm9yIG1vZGlmeWluZyB0aGUgc2V0dGluZ3MgdG8gYmUgc3RvcmVkIGZvciBzdGF0ZSBzYXZpbmcsIHByaW9yIHRvXG5cdFx0ICogc2F2aW5nIHN0YXRlLlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYW9TdGF0ZVNhdmVQYXJhbXNcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrcyBmb3IgbW9kaWZ5aW5nIHRoZSBzZXR0aW5ncyB0aGF0IGhhdmUgYmVlbiBzdG9yZWQgZm9yIHN0YXRlIHNhdmluZ1xuXHRcdCAqIHByaW9yIHRvIHVzaW5nIHRoZSBzdG9yZWQgdmFsdWVzIHRvIHJlc3RvcmUgdGhlIHN0YXRlLlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYW9TdGF0ZUxvYWRQYXJhbXNcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrcyBmb3Igb3BlcmF0aW5nIG9uIHRoZSBzZXR0aW5ncyBvYmplY3Qgb25jZSB0aGUgc2F2ZWQgc3RhdGUgaGFzIGJlZW5cblx0XHQgKiBsb2FkZWRcblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFvU3RhdGVMb2FkZWRcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhY2hlIHRoZSB0YWJsZSBJRCBmb3IgcXVpY2sgYWNjZXNzXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCA8aT5FbXB0eSBzdHJpbmc8L2k+XG5cdFx0ICovXG5cdFx0XCJzVGFibGVJZFwiOiBcIlwiLFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgVEFCTEUgbm9kZSBmb3IgdGhlIG1haW4gdGFibGVcblx0XHQgKiAgQHR5cGUgbm9kZVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJuVGFibGVcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogUGVybWFuZW50IHJlZiB0byB0aGUgdGhlYWQgZWxlbWVudFxuXHRcdCAqICBAdHlwZSBub2RlXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcIm5USGVhZFwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBQZXJtYW5lbnQgcmVmIHRvIHRoZSB0Zm9vdCBlbGVtZW50IC0gaWYgaXQgZXhpc3RzXG5cdFx0ICogIEB0eXBlIG5vZGVcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwiblRGb290XCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFBlcm1hbmVudCByZWYgdG8gdGhlIHRib2R5IGVsZW1lbnRcblx0XHQgKiAgQHR5cGUgbm9kZVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJuVEJvZHlcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FjaGUgdGhlIHdyYXBwZXIgbm9kZSAoY29udGFpbnMgYWxsIERhdGFUYWJsZXMgY29udHJvbGxlZCBlbGVtZW50cylcblx0XHQgKiAgQHR5cGUgbm9kZVxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJuVGFibGVXcmFwcGVyXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlIGlmIHdoZW4gdXNpbmcgc2VydmVyLXNpZGUgcHJvY2Vzc2luZyB0aGUgbG9hZGluZyBvZiBkYXRhXG5cdFx0ICogc2hvdWxkIGJlIGRlZmVycmVkIHVudGlsIHRoZSBzZWNvbmQgZHJhdy5cblx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHRcImJEZWZlckxvYWRpbmdcIjogZmFsc2UsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlIGlmIGFsbCByZXF1aXJlZCBpbmZvcm1hdGlvbiBoYXMgYmVlbiByZWFkIGluXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHRcImJJbml0aWFsaXNlZFwiOiBmYWxzZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5mb3JtYXRpb24gYWJvdXQgb3BlbiByb3dzLiBFYWNoIG9iamVjdCBpbiB0aGUgYXJyYXkgaGFzIHRoZSBwYXJhbWV0ZXJzXG5cdFx0ICogJ25UcicgYW5kICduUGFyZW50J1xuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYW9PcGVuUm93c1wiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGljdGF0ZSB0aGUgcG9zaXRpb25pbmcgb2YgRGF0YVRhYmxlcycgY29udHJvbCBlbGVtZW50cyAtIHNlZVxuXHRcdCAqIHtAbGluayBEYXRhVGFibGUubW9kZWwub0luaXQuc0RvbX0uXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwic0RvbVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBTZWFyY2ggZGVsYXkgKGluIG1TKVxuXHRcdCAqICBAdHlwZSBpbnRlZ2VyXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcInNlYXJjaERlbGF5XCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFdoaWNoIHR5cGUgb2YgcGFnaW5hdGlvbiBzaG91bGQgYmUgdXNlZC5cblx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVmYXVsdCB0d29fYnV0dG9uXG5cdFx0ICovXG5cdFx0XCJzUGFnaW5hdGlvblR5cGVcIjogXCJ0d29fYnV0dG9uXCIsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBzdGF0ZSBkdXJhdGlvbiAoZm9yIGBzdGF0ZVNhdmVgKSBpbiBzZWNvbmRzLlxuXHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHQgKiAgQHR5cGUgaW50XG5cdFx0ICogIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHRcImlTdGF0ZUR1cmF0aW9uXCI6IDAsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFycmF5IG9mIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3Igc3RhdGUgc2F2aW5nLiBFYWNoIGFycmF5IGVsZW1lbnQgaXMgYW5cblx0XHQgKiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG5cdFx0ICogICA8dWw+XG5cdFx0ICogICAgIDxsaT5mdW5jdGlvbjpmbiAtIGZ1bmN0aW9uIHRvIGNhbGwuIFRha2VzIHR3byBwYXJhbWV0ZXJzLCBvU2V0dGluZ3Ncblx0XHQgKiAgICAgICBhbmQgdGhlIEpTT04gc3RyaW5nIHRvIHNhdmUgdGhhdCBoYXMgYmVlbiB0aHVzIGZhciBjcmVhdGVkLiBSZXR1cm5zXG5cdFx0ICogICAgICAgYSBKU09OIHN0cmluZyB0byBiZSBpbnNlcnRlZCBpbnRvIGEganNvbiBvYmplY3Rcblx0XHQgKiAgICAgICAoaS5lLiAnXCJwYXJhbVwiOiBbIDAsIDEsIDJdJyk8L2xpPlxuXHRcdCAqICAgICA8bGk+c3RyaW5nOnNOYW1lIC0gbmFtZSBvZiBjYWxsYmFjazwvbGk+XG5cdFx0ICogICA8L3VsPlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYW9TdGF0ZVNhdmVcIjogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFycmF5IG9mIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3Igc3RhdGUgbG9hZGluZy4gRWFjaCBhcnJheSBlbGVtZW50IGlzIGFuXG5cdFx0ICogb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuXHRcdCAqICAgPHVsPlxuXHRcdCAqICAgICA8bGk+ZnVuY3Rpb246Zm4gLSBmdW5jdGlvbiB0byBjYWxsLiBUYWtlcyB0d28gcGFyYW1ldGVycywgb1NldHRpbmdzXG5cdFx0ICogICAgICAgYW5kIHRoZSBvYmplY3Qgc3RvcmVkLiBNYXkgcmV0dXJuIGZhbHNlIHRvIGNhbmNlbCBzdGF0ZSBsb2FkaW5nPC9saT5cblx0XHQgKiAgICAgPGxpPnN0cmluZzpzTmFtZSAtIG5hbWUgb2YgY2FsbGJhY2s8L2xpPlxuXHRcdCAqICAgPC91bD5cblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFvU3RhdGVMb2FkXCI6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBTdGF0ZSB0aGF0IHdhcyBzYXZlZC4gVXNlZnVsIGZvciBiYWNrIHJlZmVyZW5jZVxuXHRcdCAqICBAdHlwZSBvYmplY3Rcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwib1NhdmVkU3RhdGVcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RhdGUgdGhhdCB3YXMgbG9hZGVkLiBVc2VmdWwgZm9yIGJhY2sgcmVmZXJlbmNlXG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJvTG9hZGVkU3RhdGVcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogU291cmNlIHVybCBmb3IgQUpBWCBkYXRhIGZvciB0aGUgdGFibGUuXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwic0FqYXhTb3VyY2VcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogUHJvcGVydHkgZnJvbSBhIGdpdmVuIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJlYWQgdGhlIHRhYmxlIGRhdGEgZnJvbS4gVGhpc1xuXHRcdCAqIGNhbiBiZSBhbiBlbXB0eSBzdHJpbmcgKHdoZW4gbm90IHNlcnZlci1zaWRlIHByb2Nlc3NpbmcpLCBpbiB3aGljaCBjYXNlXG5cdFx0ICogaXQgaXMgIGFzc3VtZWQgYW4gYW4gYXJyYXkgaXMgZ2l2ZW4gZGlyZWN0bHkuXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKi9cblx0XHRcInNBamF4RGF0YVByb3BcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogTm90ZSBpZiBkcmF3IHNob3VsZCBiZSBibG9ja2VkIHdoaWxlIGdldHRpbmcgZGF0YVxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IHRydWVcblx0XHQgKi9cblx0XHRcImJBamF4RGF0YUdldFwiOiB0cnVlLFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgbGFzdCBqUXVlcnkgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIGZvciBzZXJ2ZXItc2lkZSBkYXRhIGdhdGhlcmluZy5cblx0XHQgKiBUaGlzIGNhbiBiZSB1c2VkIGZvciB3b3JraW5nIHdpdGggdGhlIFhIUiBpbmZvcm1hdGlvbiBpbiBvbmUgb2YgdGhlXG5cdFx0ICogY2FsbGJhY2tzXG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJqcVhIUlwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBKU09OIHJldHVybmVkIGZyb20gdGhlIHNlcnZlciBpbiB0aGUgbGFzdCBBamF4IHJlcXVlc3Rcblx0XHQgKiAgQHR5cGUgb2JqZWN0XG5cdFx0ICogIEBkZWZhdWx0IHVuZGVmaW5lZFxuXHRcdCAqL1xuXHRcdFwianNvblwiOiB1bmRlZmluZWQsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGEgc3VibWl0dGVkIGFzIHBhcnQgb2YgdGhlIGxhc3QgQWpheCByZXF1ZXN0XG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCB1bmRlZmluZWRcblx0XHQgKi9cblx0XHRcIm9BamF4RGF0YVwiOiB1bmRlZmluZWQsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGdldCB0aGUgc2VydmVyLXNpZGUgZGF0YS5cblx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICovXG5cdFx0XCJmblNlcnZlckRhdGFcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogRnVuY3Rpb25zIHdoaWNoIGFyZSBjYWxsZWQgcHJpb3IgdG8gc2VuZGluZyBhbiBBamF4IHJlcXVlc3Qgc28gZXh0cmFcblx0XHQgKiBwYXJhbWV0ZXJzIGNhbiBlYXNpbHkgYmUgc2VudCB0byB0aGUgc2VydmVyXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb1NlcnZlclBhcmFtc1wiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2VuZCB0aGUgWEhSIEhUVFAgbWV0aG9kIC0gR0VUIG9yIFBPU1QgKGNvdWxkIGJlIFBVVCBvciBERUxFVEUgaWZcblx0XHQgKiByZXF1aXJlZCkuXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKi9cblx0XHRcInNTZXJ2ZXJNZXRob2RcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogRm9ybWF0IG51bWJlcnMgZm9yIGRpc3BsYXkuXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdFwiZm5Gb3JtYXROdW1iZXJcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogTGlzdCBvZiBvcHRpb25zIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHRoZSB1c2VyIHNlbGVjdGFibGUgbGVuZ3RoIG1lbnUuXG5cdFx0ICogTm90ZSB0aGF0IHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgc2V0IGJ5IHRoZSBpbml0aWFsaXNhdGlvbiByb3V0aW5lLiBUb1xuXHRcdCAqIHNldCBhIGRlZmF1bHQgdXNlIHtAbGluayBEYXRhVGFibGUuZGVmYXVsdHN9LlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqICBAZGVmYXVsdCBbXVxuXHRcdCAqL1xuXHRcdFwiYUxlbmd0aE1lbnVcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ291bnRlciBmb3IgdGhlIGRyYXdzIHRoYXQgdGhlIHRhYmxlIGRvZXMuIEFsc28gdXNlZCBhcyBhIHRyYWNrZXIgZm9yXG5cdFx0ICogc2VydmVyLXNpZGUgcHJvY2Vzc2luZ1xuXHRcdCAqICBAdHlwZSBpbnRcblx0XHQgKiAgQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdFwiaURyYXdcIjogMCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGUgaWYgYSByZWRyYXcgaXMgYmVpbmcgZG9uZSAtIHVzZWZ1bCBmb3IgQWpheFxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICovXG5cdFx0XCJiRHJhd2luZ1wiOiBmYWxzZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRHJhdyBpbmRleCAoaURyYXcpIG9mIHRoZSBsYXN0IGVycm9yIHdoZW4gcGFyc2luZyB0aGUgcmV0dXJuZWQgZGF0YVxuXHRcdCAqICBAdHlwZSBpbnRcblx0XHQgKiAgQGRlZmF1bHQgLTFcblx0XHQgKi9cblx0XHRcImlEcmF3RXJyb3JcIjogLTEsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFBhZ2luZyBkaXNwbGF5IGxlbmd0aFxuXHRcdCAqICBAdHlwZSBpbnRcblx0XHQgKiAgQGRlZmF1bHQgMTBcblx0XHQgKi9cblx0XHRcIl9pRGlzcGxheUxlbmd0aFwiOiAxMCxcblx0XG5cdFx0LyoqXG5cdFx0ICogUGFnaW5nIHN0YXJ0IHBvaW50IC0gYWlEaXNwbGF5IGluZGV4XG5cdFx0ICogIEB0eXBlIGludFxuXHRcdCAqICBAZGVmYXVsdCAwXG5cdFx0ICovXG5cdFx0XCJfaURpc3BsYXlTdGFydFwiOiAwLFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIC0gbnVtYmVyIG9mIHJlY29yZHMgaW4gdGhlIHJlc3VsdCBzZXRcblx0XHQgKiAoaS5lLiBiZWZvcmUgZmlsdGVyaW5nKSwgVXNlIGZuUmVjb3Jkc1RvdGFsIHJhdGhlciB0aGFuXG5cdFx0ICogdGhpcyBwcm9wZXJ0eSB0byBnZXQgdGhlIHZhbHVlIG9mIHRoZSBudW1iZXIgb2YgcmVjb3JkcywgcmVnYXJkbGVzcyBvZlxuXHRcdCAqIHRoZSBzZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIHNldHRpbmcuXG5cdFx0ICogIEB0eXBlIGludFxuXHRcdCAqICBAZGVmYXVsdCAwXG5cdFx0ICogIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0XCJfaVJlY29yZHNUb3RhbFwiOiAwLFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXJ2ZXItc2lkZSBwcm9jZXNzaW5nIC0gbnVtYmVyIG9mIHJlY29yZHMgaW4gdGhlIGN1cnJlbnQgZGlzcGxheSBzZXRcblx0XHQgKiAoaS5lLiBhZnRlciBmaWx0ZXJpbmcpLiBVc2UgZm5SZWNvcmRzRGlzcGxheSByYXRoZXIgdGhhblxuXHRcdCAqIHRoaXMgcHJvcGVydHkgdG8gZ2V0IHRoZSB2YWx1ZSBvZiB0aGUgbnVtYmVyIG9mIHJlY29yZHMsIHJlZ2FyZGxlc3Mgb2Zcblx0XHQgKiB0aGUgc2VydmVyLXNpZGUgcHJvY2Vzc2luZyBzZXR0aW5nLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IDBcblx0XHQgKiAgQHByaXZhdGVcblx0XHQgKi9cblx0XHRcIl9pUmVjb3Jkc0Rpc3BsYXlcIjogMCxcblx0XG5cdFx0LyoqXG5cdFx0ICogRmxhZyB0byBpbmRpY2F0ZSBpZiBqUXVlcnkgVUkgbWFya2luZyBhbmQgY2xhc3NlcyBzaG91bGQgYmUgdXNlZC5cblx0XHQgKiBOb3RlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBzZXQgYnkgdGhlIGluaXRpYWxpc2F0aW9uIHJvdXRpbmUuIFRvXG5cdFx0ICogc2V0IGEgZGVmYXVsdCB1c2Uge0BsaW5rIERhdGFUYWJsZS5kZWZhdWx0c30uXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKi9cblx0XHRcImJKVUlcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGNsYXNzZXMgdG8gdXNlIGZvciB0aGUgdGFibGVcblx0XHQgKiAgQHR5cGUgb2JqZWN0XG5cdFx0ICogIEBkZWZhdWx0IHt9XG5cdFx0ICovXG5cdFx0XCJvQ2xhc3Nlc1wiOiB7fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRmxhZyBhdHRhY2hlZCB0byB0aGUgc2V0dGluZ3Mgb2JqZWN0IHNvIHlvdSBjYW4gY2hlY2sgaW4gdGhlIGRyYXdcblx0XHQgKiBjYWxsYmFjayBpZiBmaWx0ZXJpbmcgaGFzIGJlZW4gZG9uZSBpbiB0aGUgZHJhdy4gRGVwcmVjYXRlZCBpbiBmYXZvdXIgb2Zcblx0XHQgKiBldmVudHMuXG5cdFx0ICogIEB0eXBlIGJvb2xlYW5cblx0XHQgKiAgQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiAgQGRlcHJlY2F0ZWRcblx0XHQgKi9cblx0XHRcImJGaWx0ZXJlZFwiOiBmYWxzZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRmxhZyBhdHRhY2hlZCB0byB0aGUgc2V0dGluZ3Mgb2JqZWN0IHNvIHlvdSBjYW4gY2hlY2sgaW4gdGhlIGRyYXdcblx0XHQgKiBjYWxsYmFjayBpZiBzb3J0aW5nIGhhcyBiZWVuIGRvbmUgaW4gdGhlIGRyYXcuIERlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mXG5cdFx0ICogZXZlbnRzLlxuXHRcdCAqICBAdHlwZSBib29sZWFuXG5cdFx0ICogIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICogIEBkZXByZWNhdGVkXG5cdFx0ICovXG5cdFx0XCJiU29ydGVkXCI6IGZhbHNlLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZSB0aGF0IGlmIG11bHRpcGxlIHJvd3MgYXJlIGluIHRoZSBoZWFkZXIgYW5kIHRoZXJlIGlzIG1vcmUgdGhhblxuXHRcdCAqIG9uZSB1bmlxdWUgY2VsbCBwZXIgY29sdW1uLCBpZiB0aGUgdG9wIG9uZSAodHJ1ZSkgb3IgYm90dG9tIG9uZSAoZmFsc2UpXG5cdFx0ICogc2hvdWxkIGJlIHVzZWQgZm9yIHNvcnRpbmcgLyB0aXRsZSBieSBEYXRhVGFibGVzLlxuXHRcdCAqIE5vdGUgdGhhdCB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHNldCBieSB0aGUgaW5pdGlhbGlzYXRpb24gcm91dGluZS4gVG9cblx0XHQgKiBzZXQgYSBkZWZhdWx0IHVzZSB7QGxpbmsgRGF0YVRhYmxlLmRlZmF1bHRzfS5cblx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdCAqL1xuXHRcdFwiYlNvcnRDZWxsc1RvcFwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXNhdGlvbiBvYmplY3QgdGhhdCBpcyB1c2VkIGZvciB0aGUgdGFibGVcblx0XHQgKiAgQHR5cGUgb2JqZWN0XG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcIm9Jbml0XCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERlc3Ryb3kgY2FsbGJhY2sgZnVuY3Rpb25zIC0gZm9yIHBsdWctaW5zIHRvIGF0dGFjaCB0aGVtc2VsdmVzIHRvIHRoZVxuXHRcdCAqIGRlc3Ryb3kgc28gdGhleSBjYW4gY2xlYW4gdXAgbWFya3VwIGFuZCBldmVudHMuXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICovXG5cdFx0XCJhb0Rlc3Ryb3lDYWxsYmFja1wiOiBbXSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgbnVtYmVyIG9mIHJlY29yZHMgaW4gdGhlIGN1cnJlbnQgcmVjb3JkIHNldCwgYmVmb3JlIGZpbHRlcmluZ1xuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdFwiZm5SZWNvcmRzVG90YWxcIjogZnVuY3Rpb24gKClcblx0XHR7XG5cdFx0XHRyZXR1cm4gX2ZuRGF0YVNvdXJjZSggdGhpcyApID09ICdzc3AnID9cblx0XHRcdFx0dGhpcy5faVJlY29yZHNUb3RhbCAqIDEgOlxuXHRcdFx0XHR0aGlzLmFpRGlzcGxheU1hc3Rlci5sZW5ndGg7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBudW1iZXIgb2YgcmVjb3JkcyBpbiB0aGUgY3VycmVudCByZWNvcmQgc2V0LCBhZnRlciBmaWx0ZXJpbmdcblx0XHQgKiAgQHR5cGUgZnVuY3Rpb25cblx0XHQgKi9cblx0XHRcImZuUmVjb3Jkc0Rpc3BsYXlcIjogZnVuY3Rpb24gKClcblx0XHR7XG5cdFx0XHRyZXR1cm4gX2ZuRGF0YVNvdXJjZSggdGhpcyApID09ICdzc3AnID9cblx0XHRcdFx0dGhpcy5faVJlY29yZHNEaXNwbGF5ICogMSA6XG5cdFx0XHRcdHRoaXMuYWlEaXNwbGF5Lmxlbmd0aDtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIGRpc3BsYXkgZW5kIHBvaW50IC0gYWlEaXNwbGF5IGluZGV4XG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICovXG5cdFx0XCJmbkRpc3BsYXlFbmRcIjogZnVuY3Rpb24gKClcblx0XHR7XG5cdFx0XHR2YXJcblx0XHRcdFx0bGVuICAgICAgPSB0aGlzLl9pRGlzcGxheUxlbmd0aCxcblx0XHRcdFx0c3RhcnQgICAgPSB0aGlzLl9pRGlzcGxheVN0YXJ0LFxuXHRcdFx0XHRjYWxjICAgICA9IHN0YXJ0ICsgbGVuLFxuXHRcdFx0XHRyZWNvcmRzICA9IHRoaXMuYWlEaXNwbGF5Lmxlbmd0aCxcblx0XHRcdFx0ZmVhdHVyZXMgPSB0aGlzLm9GZWF0dXJlcyxcblx0XHRcdFx0cGFnaW5hdGUgPSBmZWF0dXJlcy5iUGFnaW5hdGU7XG5cdFxuXHRcdFx0aWYgKCBmZWF0dXJlcy5iU2VydmVyU2lkZSApIHtcblx0XHRcdFx0cmV0dXJuIHBhZ2luYXRlID09PSBmYWxzZSB8fCBsZW4gPT09IC0xID9cblx0XHRcdFx0XHRzdGFydCArIHJlY29yZHMgOlxuXHRcdFx0XHRcdE1hdGgubWluKCBzdGFydCtsZW4sIHRoaXMuX2lSZWNvcmRzRGlzcGxheSApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHJldHVybiAhIHBhZ2luYXRlIHx8IGNhbGM+cmVjb3JkcyB8fCBsZW49PT0tMSA/XG5cdFx0XHRcdFx0cmVjb3JkcyA6XG5cdFx0XHRcdFx0Y2FsYztcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgRGF0YVRhYmxlcyBvYmplY3QgZm9yIHRoaXMgdGFibGVcblx0XHQgKiAgQHR5cGUgb2JqZWN0XG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcIm9JbnN0YW5jZVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgZWFjaCBpbnN0YW5jZSBvZiB0aGUgRGF0YVRhYmxlcyBvYmplY3QuIElmIHRoZXJlXG5cdFx0ICogaXMgYW4gSUQgb24gdGhlIHRhYmxlIG5vZGUsIHRoZW4gaXQgdGFrZXMgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGFuXG5cdFx0ICogaW5jcmVtZW50aW5nIGludGVybmFsIGNvdW50ZXIgaXMgdXNlZC5cblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHRcInNJbnN0YW5jZVwiOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiB0YWJpbmRleCBhdHRyaWJ1dGUgdmFsdWUgdGhhdCBpcyBhZGRlZCB0byBEYXRhVGFibGVzIGNvbnRyb2wgZWxlbWVudHMsIGFsbG93aW5nXG5cdFx0ICoga2V5Ym9hcmQgbmF2aWdhdGlvbiBvZiB0aGUgdGFibGUgYW5kIGl0cyBjb250cm9scy5cblx0XHQgKi9cblx0XHRcImlUYWJJbmRleFwiOiAwLFxuXHRcblx0XHQvKipcblx0XHQgKiBESVYgY29udGFpbmVyIGZvciB0aGUgZm9vdGVyIHNjcm9sbGluZyB0YWJsZSBpZiBzY3JvbGxpbmdcblx0XHQgKi9cblx0XHRcIm5TY3JvbGxIZWFkXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERJViBjb250YWluZXIgZm9yIHRoZSBmb290ZXIgc2Nyb2xsaW5nIHRhYmxlIGlmIHNjcm9sbGluZ1xuXHRcdCAqL1xuXHRcdFwiblNjcm9sbEZvb3RcIjogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogTGFzdCBhcHBsaWVkIHNvcnRcblx0XHQgKiAgQHR5cGUgYXJyYXlcblx0XHQgKiAgQGRlZmF1bHQgW11cblx0XHQgKi9cblx0XHRcImFMYXN0U29ydFwiOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmVkIHBsdWctaW4gaW5zdGFuY2VzXG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCB7fVxuXHRcdCAqL1xuXHRcdFwib1BsdWdpbnNcIjoge30sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGEgcm93J3MgaWQgZnJvbSB0aGUgcm93J3MgZGF0YVxuXHRcdCAqICBAdHlwZSBmdW5jdGlvblxuXHRcdCAqICBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0XCJyb3dJZEZuXCI6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGEgbG9jYXRpb24gd2hlcmUgdG8gc3RvcmUgYSByb3cncyBpZFxuXHRcdCAqICBAdHlwZSBzdHJpbmdcblx0XHQgKiAgQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdFwicm93SWRcIjogbnVsbFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBFeHRlbnNpb24gb2JqZWN0IGZvciBEYXRhVGFibGVzIHRoYXQgaXMgdXNlZCB0byBwcm92aWRlIGFsbCBleHRlbnNpb25cblx0ICogb3B0aW9ucy5cblx0ICpcblx0ICogTm90ZSB0aGF0IHRoZSBgRGF0YVRhYmxlLmV4dGAgb2JqZWN0IGlzIGF2YWlsYWJsZSB0aHJvdWdoXG5cdCAqIGBqUXVlcnkuZm4uZGF0YVRhYmxlLmV4dGAgd2hlcmUgaXQgbWF5IGJlIGFjY2Vzc2VkIGFuZCBtYW5pcHVsYXRlZC4gSXQgaXNcblx0ICogYWxzbyBhbGlhc2VkIHRvIGBqUXVlcnkuZm4uZGF0YVRhYmxlRXh0YCBmb3IgaGlzdG9yaWMgcmVhc29ucy5cblx0ICogIEBuYW1lc3BhY2Vcblx0ICogIEBleHRlbmRzIERhdGFUYWJsZS5tb2RlbHMuZXh0XG5cdCAqL1xuXHRcblx0XG5cdC8qKlxuXHQgKiBEYXRhVGFibGVzIGV4dGVuc2lvbnNcblx0ICogXG5cdCAqIFRoaXMgbmFtZXNwYWNlIGFjdHMgYXMgYSBjb2xsZWN0aW9uIGFyZWEgZm9yIHBsdWctaW5zIHRoYXQgY2FuIGJlIHVzZWQgdG9cblx0ICogZXh0ZW5kIERhdGFUYWJsZXMgY2FwYWJpbGl0aWVzLiBJbmRlZWQgbWFueSBvZiB0aGUgYnVpbGQgaW4gbWV0aG9kc1xuXHQgKiB1c2UgdGhpcyBtZXRob2QgdG8gcHJvdmlkZSB0aGVpciBvd24gY2FwYWJpbGl0aWVzIChzb3J0aW5nIG1ldGhvZHMgZm9yXG5cdCAqIGV4YW1wbGUpLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhpcyBuYW1lc3BhY2UgaXMgYWxpYXNlZCB0byBgalF1ZXJ5LmZuLmRhdGFUYWJsZUV4dGAgZm9yIGxlZ2FjeVxuXHQgKiByZWFzb25zXG5cdCAqXG5cdCAqICBAbmFtZXNwYWNlXG5cdCAqL1xuXHREYXRhVGFibGUuZXh0ID0gX2V4dCA9IHtcblx0XHQvKipcblx0XHQgKiBCdXR0b25zLiBGb3IgdXNlIHdpdGggdGhlIEJ1dHRvbnMgZXh0ZW5zaW9uIGZvciBEYXRhVGFibGVzLiBUaGlzIGlzXG5cdFx0ICogZGVmaW5lZCBoZXJlIHNvIG90aGVyIGV4dGVuc2lvbnMgY2FuIGRlZmluZSBidXR0b25zIHJlZ2FyZGxlc3Mgb2YgbG9hZFxuXHRcdCAqIG9yZGVyLiBJdCBpcyBfbm90XyB1c2VkIGJ5IERhdGFUYWJsZXMgY29yZS5cblx0XHQgKlxuXHRcdCAqICBAdHlwZSBvYmplY3Rcblx0XHQgKiAgQGRlZmF1bHQge31cblx0XHQgKi9cblx0XHRidXR0b25zOiB7fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEVsZW1lbnQgY2xhc3MgbmFtZXNcblx0XHQgKlxuXHRcdCAqICBAdHlwZSBvYmplY3Rcblx0XHQgKiAgQGRlZmF1bHQge31cblx0XHQgKi9cblx0XHRjbGFzc2VzOiB7fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGFUYWJsZXMgYnVpbGQgdHlwZSAoZXhwYW5kZWQgYnkgdGhlIGRvd25sb2FkIGJ1aWxkZXIpXG5cdFx0ICpcblx0XHQgKiAgQHR5cGUgc3RyaW5nXG5cdFx0ICovXG5cdFx0YnVpbGRlcjogXCItc291cmNlLVwiLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogRXJyb3IgcmVwb3J0aW5nLlxuXHRcdCAqIFxuXHRcdCAqIEhvdyBzaG91bGQgRGF0YVRhYmxlcyByZXBvcnQgYW4gZXJyb3IuIENhbiB0YWtlIHRoZSB2YWx1ZSAnYWxlcnQnLFxuXHRcdCAqICd0aHJvdycsICdub25lJyBvciBhIGZ1bmN0aW9uLlxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIHN0cmluZ3xmdW5jdGlvblxuXHRcdCAqICBAZGVmYXVsdCBhbGVydFxuXHRcdCAqL1xuXHRcdGVyck1vZGU6IFwiYWxlcnRcIixcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZlYXR1cmUgcGx1Zy1pbnMuXG5cdFx0ICogXG5cdFx0ICogVGhpcyBpcyBhbiBhcnJheSBvZiBvYmplY3RzIHdoaWNoIGRlc2NyaWJlIHRoZSBmZWF0dXJlIHBsdWctaW5zIHRoYXQgYXJlXG5cdFx0ICogYXZhaWxhYmxlIHRvIERhdGFUYWJsZXMuIFRoZXNlIGZlYXR1cmUgcGx1Zy1pbnMgYXJlIHRoZW4gYXZhaWxhYmxlIGZvclxuXHRcdCAqIHVzZSB0aHJvdWdoIHRoZSBgZG9tYCBpbml0aWFsaXNhdGlvbiBvcHRpb24uXG5cdFx0ICogXG5cdFx0ICogRWFjaCBmZWF0dXJlIHBsdWctaW4gaXMgZGVzY3JpYmVkIGJ5IGFuIG9iamVjdCB3aGljaCBtdXN0IGhhdmUgdGhlXG5cdFx0ICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG5cdFx0ICogXG5cdFx0ICogKiBgZm5Jbml0YCAtIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBpbml0aWFsaXNlIHRoZSBwbHVnLWluLFxuXHRcdCAqICogYGNGZWF0dXJlYCAtIGEgY2hhcmFjdGVyIHNvIHRoZSBmZWF0dXJlIGNhbiBiZSBlbmFibGVkIGJ5IHRoZSBgZG9tYFxuXHRcdCAqICAgaW5zdGlsbGF0aW9uIG9wdGlvbi4gVGhpcyBpcyBjYXNlIHNlbnNpdGl2ZS5cblx0XHQgKlxuXHRcdCAqIFRoZSBgZm5Jbml0YCBmdW5jdGlvbiBoYXMgdGhlIGZvbGxvd2luZyBpbnB1dCBwYXJhbWV0ZXJzOlxuXHRcdCAqXG5cdFx0ICogMS4gYHtvYmplY3R9YCBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdDogc2VlXG5cdFx0ICogICAge0BsaW5rIERhdGFUYWJsZS5tb2RlbHMub1NldHRpbmdzfVxuXHRcdCAqXG5cdFx0ICogQW5kIHRoZSBmb2xsb3dpbmcgcmV0dXJuIGlzIGV4cGVjdGVkOlxuXHRcdCAqIFxuXHRcdCAqICoge25vZGV8bnVsbH0gVGhlIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgeW91ciBmZWF0dXJlLiBOb3RlIHRoYXQgdGhlXG5cdFx0ICogICByZXR1cm4gbWF5IGFsc28gYmUgdm9pZCBpZiB5b3VyIHBsdWctaW4gZG9lcyBub3QgcmVxdWlyZSB0byBpbmplY3QgYW55XG5cdFx0ICogICBET00gZWxlbWVudHMgaW50byBEYXRhVGFibGVzIGNvbnRyb2wgKGBkb21gKSAtIGZvciBleGFtcGxlIHRoaXMgbWlnaHRcblx0XHQgKiAgIGJlIHVzZWZ1bCB3aGVuIGRldmVsb3BpbmcgYSBwbHVnLWluIHdoaWNoIGFsbG93cyB0YWJsZSBjb250cm9sIHZpYVxuXHRcdCAqICAga2V5Ym9hcmQgZW50cnlcblx0XHQgKlxuXHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdCAqXG5cdFx0ICogIEBleGFtcGxlXG5cdFx0ICogICAgJC5mbi5kYXRhVGFibGUuZXh0LmZlYXR1cmVzLnB1c2goIHtcblx0XHQgKiAgICAgIFwiZm5Jbml0XCI6IGZ1bmN0aW9uKCBvU2V0dGluZ3MgKSB7XG5cdFx0ICogICAgICAgIHJldHVybiBuZXcgVGFibGVUb29scyggeyBcIm9EVFNldHRpbmdzXCI6IG9TZXR0aW5ncyB9ICk7XG5cdFx0ICogICAgICB9LFxuXHRcdCAqICAgICAgXCJjRmVhdHVyZVwiOiBcIlRcIlxuXHRcdCAqICAgIH0gKTtcblx0XHQgKi9cblx0XHRmZWF0dXJlOiBbXSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJvdyBzZWFyY2hpbmcuXG5cdFx0ICogXG5cdFx0ICogVGhpcyBtZXRob2Qgb2Ygc2VhcmNoaW5nIGlzIGNvbXBsaW1lbnRhcnkgdG8gdGhlIGRlZmF1bHQgdHlwZSBiYXNlZFxuXHRcdCAqIHNlYXJjaGluZywgYW5kIGEgbG90IG1vcmUgY29tcHJlaGVuc2l2ZSBhcyBpdCBhbGxvd3MgeW91IGNvbXBsZXRlIGNvbnRyb2xcblx0XHQgKiBvdmVyIHRoZSBzZWFyY2hpbmcgbG9naWMuIEVhY2ggZWxlbWVudCBpbiB0aGlzIGFycmF5IGlzIGEgZnVuY3Rpb25cblx0XHQgKiAocGFyYW1ldGVycyBkZXNjcmliZWQgYmVsb3cpIHRoYXQgaXMgY2FsbGVkIGZvciBldmVyeSByb3cgaW4gdGhlIHRhYmxlLFxuXHRcdCAqIGFuZCB5b3VyIGxvZ2ljIGRlY2lkZXMgaWYgaXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBzZWFyY2hpbmcgZGF0YSBzZXRcblx0XHQgKiBvciBub3QuXG5cdFx0ICpcblx0XHQgKiBTZWFyY2hpbmcgZnVuY3Rpb25zIGhhdmUgdGhlIGZvbGxvd2luZyBpbnB1dCBwYXJhbWV0ZXJzOlxuXHRcdCAqXG5cdFx0ICogMS4gYHtvYmplY3R9YCBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdDogc2VlXG5cdFx0ICogICAge0BsaW5rIERhdGFUYWJsZS5tb2RlbHMub1NldHRpbmdzfVxuXHRcdCAqIDIuIGB7YXJyYXl8b2JqZWN0fWAgRGF0YSBmb3IgdGhlIHJvdyB0byBiZSBwcm9jZXNzZWQgKHNhbWUgYXMgdGhlXG5cdFx0ICogICAgb3JpZ2luYWwgZm9ybWF0IHRoYXQgd2FzIHBhc3NlZCBpbiBhcyB0aGUgZGF0YSBzb3VyY2UsIG9yIGFuIGFycmF5XG5cdFx0ICogICAgZnJvbSBhIERPTSBkYXRhIHNvdXJjZVxuXHRcdCAqIDMuIGB7aW50fWAgUm93IGluZGV4ICh7QGxpbmsgRGF0YVRhYmxlLm1vZGVscy5vU2V0dGluZ3MuYW9EYXRhfSksIHdoaWNoXG5cdFx0ICogICAgY2FuIGJlIHVzZWZ1bCB0byByZXRyaWV2ZSB0aGUgYFRSYCBlbGVtZW50IGlmIHlvdSBuZWVkIERPTSBpbnRlcmFjdGlvbi5cblx0XHQgKlxuXHRcdCAqIEFuZCB0aGUgZm9sbG93aW5nIHJldHVybiBpcyBleHBlY3RlZDpcblx0XHQgKlxuXHRcdCAqICoge2Jvb2xlYW59IEluY2x1ZGUgdGhlIHJvdyBpbiB0aGUgc2VhcmNoZWQgcmVzdWx0IHNldCAodHJ1ZSkgb3Igbm90XG5cdFx0ICogICAoZmFsc2UpXG5cdFx0ICpcblx0XHQgKiBOb3RlIHRoYXQgYXMgd2l0aCB0aGUgbWFpbiBzZWFyY2ggYWJpbGl0eSBpbiBEYXRhVGFibGVzLCB0ZWNobmljYWxseSB0aGlzXG5cdFx0ICogaXMgXCJmaWx0ZXJpbmdcIiwgc2luY2UgaXQgaXMgc3VidHJhY3RpdmUuIEhvd2V2ZXIsIGZvciBjb25zaXN0ZW5jeSBpblxuXHRcdCAqIG5hbWluZyB3ZSBjYWxsIGl0IHNlYXJjaGluZyBoZXJlLlxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICogIEBkZWZhdWx0IFtdXG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgY3VzdG9tIHNlYXJjaCBiZWluZyBhcHBsaWVkIHRvIHRoZVxuXHRcdCAqICAgIC8vIGZvdXJ0aCBjb2x1bW4gKGkuZS4gdGhlIGRhdGFbM10gaW5kZXgpIGJhc2VkIG9uIHR3byBpbnB1dCB2YWx1ZXNcblx0XHQgKiAgICAvLyBmcm9tIHRoZSBlbmQtdXNlciwgbWF0Y2hpbmcgdGhlIGRhdGEgaW4gYSBjZXJ0YWluIHJhbmdlLlxuXHRcdCAqICAgICQuZm4uZGF0YVRhYmxlLmV4dC5zZWFyY2gucHVzaChcblx0XHQgKiAgICAgIGZ1bmN0aW9uKCBzZXR0aW5ncywgZGF0YSwgZGF0YUluZGV4ICkge1xuXHRcdCAqICAgICAgICB2YXIgbWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbicpLnZhbHVlICogMTtcblx0XHQgKiAgICAgICAgdmFyIG1heCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXgnKS52YWx1ZSAqIDE7XG5cdFx0ICogICAgICAgIHZhciB2ZXJzaW9uID0gZGF0YVszXSA9PSBcIi1cIiA/IDAgOiBkYXRhWzNdKjE7XG5cdFx0ICpcblx0XHQgKiAgICAgICAgaWYgKCBtaW4gPT0gXCJcIiAmJiBtYXggPT0gXCJcIiApIHtcblx0XHQgKiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgICBlbHNlIGlmICggbWluID09IFwiXCIgJiYgdmVyc2lvbiA8IG1heCApIHtcblx0XHQgKiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgICBlbHNlIGlmICggbWluIDwgdmVyc2lvbiAmJiBcIlwiID09IG1heCApIHtcblx0XHQgKiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgKiAgICAgICAgfVxuXHRcdCAqICAgICAgICBlbHNlIGlmICggbWluIDwgdmVyc2lvbiAmJiB2ZXJzaW9uIDwgbWF4ICkge1xuXHRcdCAqICAgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAqICAgICAgICB9XG5cdFx0ICogICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgKiAgICAgIH1cblx0XHQgKiAgICApO1xuXHRcdCAqL1xuXHRcdHNlYXJjaDogW10sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBTZWxlY3RvciBleHRlbnNpb25zXG5cdFx0ICpcblx0XHQgKiBUaGUgYHNlbGVjdG9yYCBvcHRpb24gY2FuIGJlIHVzZWQgdG8gZXh0ZW5kIHRoZSBvcHRpb25zIGF2YWlsYWJsZSBmb3IgdGhlXG5cdFx0ICogc2VsZWN0b3IgbW9kaWZpZXIgb3B0aW9ucyAoYHNlbGVjdG9yLW1vZGlmaWVyYCBvYmplY3QgZGF0YSB0eXBlKSB0aGF0XG5cdFx0ICogZWFjaCBvZiB0aGUgdGhyZWUgYnVpbHQgaW4gc2VsZWN0b3IgdHlwZXMgb2ZmZXIgKHJvdywgY29sdW1uIGFuZCBjZWxsICtcblx0XHQgKiB0aGVpciBwbHVyYWwgY291bnRlcnBhcnRzKS4gRm9yIGV4YW1wbGUgdGhlIFNlbGVjdCBleHRlbnNpb24gdXNlcyB0aGlzXG5cdFx0ICogbWVjaGFuaXNtIHRvIHByb3ZpZGUgYW4gb3B0aW9uIHRvIHNlbGVjdCBvbmx5IHJvd3MsIGNvbHVtbnMgYW5kIGNlbGxzXG5cdFx0ICogdGhhdCBoYXZlIGJlZW4gbWFya2VkIGFzIHNlbGVjdGVkIGJ5IHRoZSBlbmQgdXNlciAoYHtzZWxlY3RlZDogdHJ1ZX1gKSxcblx0XHQgKiB3aGljaCBjYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBleGlzdGluZyBidWlsdCBpbiBzZWxlY3RvclxuXHRcdCAqIG9wdGlvbnMuXG5cdFx0ICpcblx0XHQgKiBFYWNoIHByb3BlcnR5IGlzIGFuIGFycmF5IHRvIHdoaWNoIGZ1bmN0aW9ucyBjYW4gYmUgcHVzaGVkLiBUaGUgZnVuY3Rpb25zXG5cdFx0ICogdGFrZSB0aHJlZSBhdHRyaWJ1dGVzOlxuXHRcdCAqXG5cdFx0ICogKiBTZXR0aW5ncyBvYmplY3QgZm9yIHRoZSBob3N0IHRhYmxlXG5cdFx0ICogKiBPcHRpb25zIG9iamVjdCAoYHNlbGVjdG9yLW1vZGlmaWVyYCBvYmplY3QgdHlwZSlcblx0XHQgKiAqIEFycmF5IG9mIHNlbGVjdGVkIGl0ZW0gaW5kZXhlc1xuXHRcdCAqXG5cdFx0ICogVGhlIHJldHVybiBpcyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0aW5nIGl0ZW0gaW5kZXhlcyBhZnRlciB0aGUgY3VzdG9tXG5cdFx0ICogc2VsZWN0b3IgaGFzIGJlZW4gYXBwbGllZC5cblx0XHQgKlxuXHRcdCAqICBAdHlwZSBvYmplY3Rcblx0XHQgKi9cblx0XHRzZWxlY3Rvcjoge1xuXHRcdFx0Y2VsbDogW10sXG5cdFx0XHRjb2x1bW46IFtdLFxuXHRcdFx0cm93OiBbXVxuXHRcdH0sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBJbnRlcm5hbCBmdW5jdGlvbnMsIGV4cG9zZWQgZm9yIHVzZWQgaW4gcGx1Zy1pbnMuXG5cdFx0ICogXG5cdFx0ICogUGxlYXNlIG5vdGUgdGhhdCB5b3Ugc2hvdWxkIG5vdCBuZWVkIHRvIHVzZSB0aGUgaW50ZXJuYWwgbWV0aG9kcyBmb3Jcblx0XHQgKiBhbnl0aGluZyBvdGhlciB0aGFuIGEgcGx1Zy1pbiAoYW5kIGV2ZW4gdGhlbiwgdHJ5IHRvIGF2b2lkIGlmIHBvc3NpYmxlKS5cblx0XHQgKiBUaGUgaW50ZXJuYWwgZnVuY3Rpb24gbWF5IGNoYW5nZSBiZXR3ZWVuIHJlbGVhc2VzLlxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqICBAZGVmYXVsdCB7fVxuXHRcdCAqL1xuXHRcdGludGVybmFsOiB7fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIExlZ2FjeSBjb25maWd1cmF0aW9uIG9wdGlvbnMuIEVuYWJsZSBhbmQgZGlzYWJsZSBsZWdhY3kgb3B0aW9ucyB0aGF0XG5cdFx0ICogYXJlIGF2YWlsYWJsZSBpbiBEYXRhVGFibGVzLlxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdCAqL1xuXHRcdGxlZ2FjeToge1xuXHRcdFx0LyoqXG5cdFx0XHQgKiBFbmFibGUgLyBkaXNhYmxlIERhdGFUYWJsZXMgMS45IGNvbXBhdGlibGUgc2VydmVyLXNpZGUgcHJvY2Vzc2luZ1xuXHRcdFx0ICogcmVxdWVzdHNcblx0XHRcdCAqXG5cdFx0XHQgKiAgQHR5cGUgYm9vbGVhblxuXHRcdFx0ICogIEBkZWZhdWx0IG51bGxcblx0XHRcdCAqL1xuXHRcdFx0YWpheDogbnVsbFxuXHRcdH0sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBQYWdpbmF0aW9uIHBsdWctaW4gbWV0aG9kcy5cblx0XHQgKiBcblx0XHQgKiBFYWNoIGVudHJ5IGluIHRoaXMgb2JqZWN0IGlzIGEgZnVuY3Rpb24gYW5kIGRlZmluZXMgd2hpY2ggYnV0dG9ucyBzaG91bGRcblx0XHQgKiBiZSBzaG93biBieSB0aGUgcGFnaW5hdGlvbiByZW5kZXJpbmcgbWV0aG9kIHRoYXQgaXMgdXNlZCBmb3IgdGhlIHRhYmxlOlxuXHRcdCAqIHtAbGluayBEYXRhVGFibGUuZXh0LnJlbmRlcmVyLnBhZ2VCdXR0b259LiBUaGUgcmVuZGVyZXIgYWRkcmVzc2VzIGhvdyB0aGVcblx0XHQgKiBidXR0b25zIGFyZSBkaXNwbGF5ZWQgaW4gdGhlIGRvY3VtZW50LCB3aGlsZSB0aGUgZnVuY3Rpb25zIGhlcmUgdGVsbCBpdFxuXHRcdCAqIHdoYXQgYnV0dG9ucyB0byBkaXNwbGF5LiBUaGlzIGlzIGRvbmUgYnkgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGJ1dHRvblxuXHRcdCAqIGRlc2NyaXB0aW9ucyAod2hhdCBlYWNoIGJ1dHRvbiB3aWxsIGRvKS5cblx0XHQgKlxuXHRcdCAqIFBhZ2luYXRpb24gdHlwZXMgKHRoZSBmb3VyIGJ1aWx0IGluIG9wdGlvbnMgYW5kIGFueSBhZGRpdGlvbmFsIHBsdWctaW5cblx0XHQgKiBvcHRpb25zIGRlZmluZWQgaGVyZSkgY2FuIGJlIHVzZWQgdGhyb3VnaCB0aGUgYHBhZ2luYXRpb25UeXBlYFxuXHRcdCAqIGluaXRpYWxpc2F0aW9uIHBhcmFtZXRlci5cblx0XHQgKlxuXHRcdCAqIFRoZSBmdW5jdGlvbnMgZGVmaW5lZCB0YWtlIHR3byBwYXJhbWV0ZXJzOlxuXHRcdCAqXG5cdFx0ICogMS4gYHtpbnR9IHBhZ2VgIFRoZSBjdXJyZW50IHBhZ2UgaW5kZXhcblx0XHQgKiAyLiBge2ludH0gcGFnZXNgIFRoZSBudW1iZXIgb2YgcGFnZXMgaW4gdGhlIHRhYmxlXG5cdFx0ICpcblx0XHQgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhbiBhcnJheSB3aGVyZSBlYWNoIGVsZW1lbnQgb2YgdGhlXG5cdFx0ICogYXJyYXkgY2FuIGJlIG9uZSBvZjpcblx0XHQgKlxuXHRcdCAqICogYGZpcnN0YCAtIEp1bXAgdG8gZmlyc3QgcGFnZSB3aGVuIGFjdGl2YXRlZFxuXHRcdCAqICogYGxhc3RgIC0gSnVtcCB0byBsYXN0IHBhZ2Ugd2hlbiBhY3RpdmF0ZWRcblx0XHQgKiAqIGBwcmV2aW91c2AgLSBTaG93IHByZXZpb3VzIHBhZ2Ugd2hlbiBhY3RpdmF0ZWRcblx0XHQgKiAqIGBuZXh0YCAtIFNob3cgbmV4dCBwYWdlIHdoZW4gYWN0aXZhdGVkXG5cdFx0ICogKiBge2ludH1gIC0gU2hvdyBwYWdlIG9mIHRoZSBpbmRleCBnaXZlblxuXHRcdCAqICogYHthcnJheX1gIC0gQSBuZXN0ZWQgYXJyYXkgY29udGFpbmluZyB0aGUgYWJvdmUgZWxlbWVudHMgdG8gYWRkIGFcblx0XHQgKiAgIGNvbnRhaW5pbmcgJ0RJVicgZWxlbWVudCAobWlnaHQgYmUgdXNlZnVsIGZvciBzdHlsaW5nKS5cblx0XHQgKlxuXHRcdCAqIE5vdGUgdGhhdCBEYXRhVGFibGVzIHYxLjktIHVzZWQgdGhpcyBvYmplY3Qgc2xpZ2h0bHkgZGlmZmVyZW50bHkgd2hlcmVieVxuXHRcdCAqIGFuIG9iamVjdCB3aXRoIHR3byBmdW5jdGlvbnMgd291bGQgYmUgZGVmaW5lZCBmb3IgZWFjaCBwbHVnLWluLiBUaGF0XG5cdFx0ICogYWJpbGl0eSBpcyBzdGlsbCBzdXBwb3J0ZWQgYnkgRGF0YVRhYmxlcyAxLjEwKyB0byBwcm92aWRlIGJhY2t3YXJkc1xuXHRcdCAqIGNvbXBhdGliaWxpdHksIGJ1dCB0aGlzIG9wdGlvbiBvZiB1c2UgaXMgbm93IGRlY3JlbWVudGVkIGFuZCBubyBsb25nZXJcblx0XHQgKiBkb2N1bWVudGVkIGluIERhdGFUYWJsZXMgMS4xMCsuXG5cdFx0ICpcblx0XHQgKiAgQHR5cGUgb2JqZWN0XG5cdFx0ICogIEBkZWZhdWx0IHt9XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBTaG93IHByZXZpb3VzLCBuZXh0IGFuZCBjdXJyZW50IHBhZ2UgYnV0dG9ucyBvbmx5XG5cdFx0ICogICAgJC5mbi5kYXRhVGFibGVFeHQub1BhZ2luYXRpb24uY3VycmVudCA9IGZ1bmN0aW9uICggcGFnZSwgcGFnZXMgKSB7XG5cdFx0ICogICAgICByZXR1cm4gWyAncHJldmlvdXMnLCBwYWdlLCAnbmV4dCcgXTtcblx0XHQgKiAgICB9O1xuXHRcdCAqL1xuXHRcdHBhZ2VyOiB7fSxcblx0XG5cdFxuXHRcdHJlbmRlcmVyOiB7XG5cdFx0XHRwYWdlQnV0dG9uOiB7fSxcblx0XHRcdGhlYWRlcjoge31cblx0XHR9LFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogT3JkZXJpbmcgcGx1Zy1pbnMgLSBjdXN0b20gZGF0YSBzb3VyY2Vcblx0XHQgKiBcblx0XHQgKiBUaGUgZXh0ZW5zaW9uIG9wdGlvbnMgZm9yIG9yZGVyaW5nIG9mIGRhdGEgYXZhaWxhYmxlIGhlcmUgaXMgY29tcGxpbWVudGFyeVxuXHRcdCAqIHRvIHRoZSBkZWZhdWx0IHR5cGUgYmFzZWQgb3JkZXJpbmcgdGhhdCBEYXRhVGFibGVzIHR5cGljYWxseSB1c2VzLiBJdFxuXHRcdCAqIGFsbG93cyBtdWNoIGdyZWF0ZXIgY29udHJvbCBvdmVyIHRoZSB0aGUgZGF0YSB0aGF0IGlzIGJlaW5nIHVzZWQgdG9cblx0XHQgKiBvcmRlciBhIGNvbHVtbiwgYnV0IGlzIG5lY2Vzc2FyaWx5IHRoZXJlZm9yZSBtb3JlIGNvbXBsZXguXG5cdFx0ICogXG5cdFx0ICogVGhpcyB0eXBlIG9mIG9yZGVyaW5nIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBkbyBvcmRlcmluZyBiYXNlZCBvbiBkYXRhXG5cdFx0ICogbGl2ZSBmcm9tIHRoZSBET00gKGZvciBleGFtcGxlIHRoZSBjb250ZW50cyBvZiBhbiAnaW5wdXQnIGVsZW1lbnQpIHJhdGhlclxuXHRcdCAqIHRoYW4ganVzdCB0aGUgc3RhdGljIHN0cmluZyB0aGF0IERhdGFUYWJsZXMga25vd3Mgb2YuXG5cdFx0ICogXG5cdFx0ICogVGhlIHdheSB0aGVzZSBwbHVnLWlucyB3b3JrIGlzIHRoYXQgeW91IGNyZWF0ZSBhbiBhcnJheSBvZiB0aGUgdmFsdWVzIHlvdVxuXHRcdCAqIHdpc2ggdG8gYmUgb3JkZXJpbmcgZm9yIHRoZSBjb2x1bW4gaW4gcXVlc3Rpb24gYW5kIHRoZW4gcmV0dXJuIHRoYXRcblx0XHQgKiBhcnJheS4gVGhlIGRhdGEgaW4gdGhlIGFycmF5IG11Y2ggYmUgaW4gdGhlIGluZGV4IG9yZGVyIG9mIHRoZSByb3dzIGluXG5cdFx0ICogdGhlIHRhYmxlIChub3QgdGhlIGN1cnJlbnRseSBvcmRlcmluZyBvcmRlciEpLiBXaGljaCBvcmRlciBkYXRhIGdhdGhlcmluZ1xuXHRcdCAqIGZ1bmN0aW9uIGlzIHJ1biBoZXJlIGRlcGVuZHMgb24gdGhlIGBkdC1pbml0IGNvbHVtbnMub3JkZXJEYXRhVHlwZWBcblx0XHQgKiBwYXJhbWV0ZXIgdGhhdCBpcyB1c2VkIGZvciB0aGUgY29sdW1uIChpZiBhbnkpLlxuXHRcdCAqXG5cdFx0ICogVGhlIGZ1bmN0aW9ucyBkZWZpbmVkIHRha2UgdHdvIHBhcmFtZXRlcnM6XG5cdFx0ICpcblx0XHQgKiAxLiBge29iamVjdH1gIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0OiBzZWVcblx0XHQgKiAgICB7QGxpbmsgRGF0YVRhYmxlLm1vZGVscy5vU2V0dGluZ3N9XG5cdFx0ICogMi4gYHtpbnR9YCBUYXJnZXQgY29sdW1uIGluZGV4XG5cdFx0ICpcblx0XHQgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhbiBhcnJheTpcblx0XHQgKlxuXHRcdCAqICogYHthcnJheX1gIERhdGEgZm9yIHRoZSBjb2x1bW4gdG8gYmUgb3JkZXJpbmcgdXBvblxuXHRcdCAqXG5cdFx0ICogIEB0eXBlIGFycmF5XG5cdFx0ICpcblx0XHQgKiAgQGV4YW1wbGVcblx0XHQgKiAgICAvLyBPcmRlcmluZyB1c2luZyBgaW5wdXRgIG5vZGUgdmFsdWVzXG5cdFx0ICogICAgJC5mbi5kYXRhVGFibGUuZXh0Lm9yZGVyWydkb20tdGV4dCddID0gZnVuY3Rpb24gICggc2V0dGluZ3MsIGNvbCApXG5cdFx0ICogICAge1xuXHRcdCAqICAgICAgcmV0dXJuIHRoaXMuYXBpKCkuY29sdW1uKCBjb2wsIHtvcmRlcjonaW5kZXgnfSApLm5vZGVzKCkubWFwKCBmdW5jdGlvbiAoIHRkLCBpICkge1xuXHRcdCAqICAgICAgICByZXR1cm4gJCgnaW5wdXQnLCB0ZCkudmFsKCk7XG5cdFx0ICogICAgICB9ICk7XG5cdFx0ICogICAgfVxuXHRcdCAqL1xuXHRcdG9yZGVyOiB7fSxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFR5cGUgYmFzZWQgcGx1Zy1pbnMuXG5cdFx0ICpcblx0XHQgKiBFYWNoIGNvbHVtbiBpbiBEYXRhVGFibGVzIGhhcyBhIHR5cGUgYXNzaWduZWQgdG8gaXQsIGVpdGhlciBieSBhdXRvbWF0aWNcblx0XHQgKiBkZXRlY3Rpb24gb3IgYnkgZGlyZWN0IGFzc2lnbm1lbnQgdXNpbmcgdGhlIGB0eXBlYCBvcHRpb24gZm9yIHRoZSBjb2x1bW4uXG5cdFx0ICogVGhlIHR5cGUgb2YgYSBjb2x1bW4gd2lsbCBlZmZlY3QgaG93IGl0IGlzIG9yZGVyaW5nIGFuZCBzZWFyY2ggKHBsdWctaW5zXG5cdFx0ICogY2FuIGFsc28gbWFrZSB1c2Ugb2YgdGhlIGNvbHVtbiB0eXBlIGlmIHJlcXVpcmVkKS5cblx0XHQgKlxuXHRcdCAqIEBuYW1lc3BhY2Vcblx0XHQgKi9cblx0XHR0eXBlOiB7XG5cdFx0XHQvKipcblx0XHRcdCAqIFR5cGUgZGV0ZWN0aW9uIGZ1bmN0aW9ucy5cblx0XHRcdCAqXG5cdFx0XHQgKiBUaGUgZnVuY3Rpb25zIGRlZmluZWQgaW4gdGhpcyBvYmplY3QgYXJlIHVzZWQgdG8gYXV0b21hdGljYWxseSBkZXRlY3Rcblx0XHRcdCAqIGEgY29sdW1uJ3MgdHlwZSwgbWFraW5nIGluaXRpYWxpc2F0aW9uIG9mIERhdGFUYWJsZXMgc3VwZXIgZWFzeSwgZXZlblxuXHRcdFx0ICogd2hlbiBjb21wbGV4IGRhdGEgaXMgaW4gdGhlIHRhYmxlLlxuXHRcdFx0ICpcblx0XHRcdCAqIFRoZSBmdW5jdGlvbnMgZGVmaW5lZCB0YWtlIHR3byBwYXJhbWV0ZXJzOlxuXHRcdFx0ICpcblx0XHQgICAgICogIDEuIGB7Kn1gIERhdGEgZnJvbSB0aGUgY29sdW1uIGNlbGwgdG8gYmUgYW5hbHlzZWRcblx0XHQgICAgICogIDIuIGB7c2V0dGluZ3N9YCBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZCB0b1xuXHRcdCAgICAgKiAgICAgcGVyZm9ybSBjb250ZXh0IHNwZWNpZmljIHR5cGUgZGV0ZWN0aW9uIC0gZm9yIGV4YW1wbGUgZGV0ZWN0aW9uXG5cdFx0ICAgICAqICAgICBiYXNlZCBvbiBsYW5ndWFnZSBzZXR0aW5ncyBzdWNoIGFzIHVzaW5nIGEgY29tbWEgZm9yIGEgZGVjaW1hbFxuXHRcdCAgICAgKiAgICAgcGxhY2UuIEdlbmVyYWxseSBzcGVha2luZyB0aGUgb3B0aW9ucyBmcm9tIHRoZSBzZXR0aW5ncyB3aWxsIG5vdFxuXHRcdCAgICAgKiAgICAgYmUgcmVxdWlyZWRcblx0XHRcdCAqXG5cdFx0XHQgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybjpcblx0XHRcdCAqXG5cdFx0XHQgKiAqIGB7c3RyaW5nfG51bGx9YCBEYXRhIHR5cGUgZGV0ZWN0ZWQsIG9yIG51bGwgaWYgdW5rbm93biAoYW5kIHRodXNcblx0XHRcdCAqICAgcGFzcyBpdCBvbiB0byB0aGUgb3RoZXIgdHlwZSBkZXRlY3Rpb24gZnVuY3Rpb25zLlxuXHRcdFx0ICpcblx0XHRcdCAqICBAdHlwZSBhcnJheVxuXHRcdFx0ICpcblx0XHRcdCAqICBAZXhhbXBsZVxuXHRcdFx0ICogICAgLy8gQ3VycmVuY3kgdHlwZSBkZXRlY3Rpb24gcGx1Zy1pbjpcblx0XHRcdCAqICAgICQuZm4uZGF0YVRhYmxlLmV4dC50eXBlLmRldGVjdC5wdXNoKFxuXHRcdFx0ICogICAgICBmdW5jdGlvbiAoIGRhdGEsIHNldHRpbmdzICkge1xuXHRcdFx0ICogICAgICAgIC8vIENoZWNrIHRoZSBudW1lcmljIHBhcnRcblx0XHRcdCAqICAgICAgICBpZiAoICEgJC5pc051bWVyaWMoIGRhdGEuc3Vic3RyaW5nKDEpICkgKSB7XG5cdFx0XHQgKiAgICAgICAgICByZXR1cm4gbnVsbDtcblx0XHRcdCAqICAgICAgICB9XG5cdFx0XHQgKlxuXHRcdFx0ICogICAgICAgIC8vIENoZWNrIHByZWZpeGVkIGJ5IGN1cnJlbmN5XG5cdFx0XHQgKiAgICAgICAgaWYgKCBkYXRhLmNoYXJBdCgwKSA9PSAnJCcgfHwgZGF0YS5jaGFyQXQoMCkgPT0gJyZwb3VuZDsnICkge1xuXHRcdFx0ICogICAgICAgICAgcmV0dXJuICdjdXJyZW5jeSc7XG5cdFx0XHQgKiAgICAgICAgfVxuXHRcdFx0ICogICAgICAgIHJldHVybiBudWxsO1xuXHRcdFx0ICogICAgICB9XG5cdFx0XHQgKiAgICApO1xuXHRcdFx0ICovXG5cdFx0XHRkZXRlY3Q6IFtdLFxuXHRcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFR5cGUgYmFzZWQgc2VhcmNoIGZvcm1hdHRpbmcuXG5cdFx0XHQgKlxuXHRcdFx0ICogVGhlIHR5cGUgYmFzZWQgc2VhcmNoaW5nIGZ1bmN0aW9ucyBjYW4gYmUgdXNlZCB0byBwcmUtZm9ybWF0IHRoZVxuXHRcdFx0ICogZGF0YSB0byBiZSBzZWFyY2ggb24uIEZvciBleGFtcGxlLCBpdCBjYW4gYmUgdXNlZCB0byBzdHJpcCBIVE1MXG5cdFx0XHQgKiB0YWdzIG9yIHRvIGRlLWZvcm1hdCB0ZWxlcGhvbmUgbnVtYmVycyBmb3IgbnVtZXJpYyBvbmx5IHNlYXJjaGluZy5cblx0XHRcdCAqXG5cdFx0XHQgKiBOb3RlIHRoYXQgaXMgYSBzZWFyY2ggaXMgbm90IGRlZmluZWQgZm9yIGEgY29sdW1uIG9mIGEgZ2l2ZW4gdHlwZSxcblx0XHRcdCAqIG5vIHNlYXJjaCBmb3JtYXR0aW5nIHdpbGwgYmUgcGVyZm9ybWVkLlxuXHRcdFx0ICogXG5cdFx0XHQgKiBQcmUtcHJvY2Vzc2luZyBvZiBzZWFyY2hpbmcgZGF0YSBwbHVnLWlucyAtIFdoZW4geW91IGFzc2lnbiB0aGUgc1R5cGVcblx0XHRcdCAqIGZvciBhIGNvbHVtbiAob3IgaGF2ZSBpdCBhdXRvbWF0aWNhbGx5IGRldGVjdGVkIGZvciB5b3UgYnkgRGF0YVRhYmxlc1xuXHRcdFx0ICogb3IgYSB0eXBlIGRldGVjdGlvbiBwbHVnLWluKSwgeW91IHdpbGwgdHlwaWNhbGx5IGJlIHVzaW5nIHRoaXMgZm9yXG5cdFx0XHQgKiBjdXN0b20gc29ydGluZywgYnV0IGl0IGNhbiBhbHNvIGJlIHVzZWQgdG8gcHJvdmlkZSBjdXN0b20gc2VhcmNoaW5nXG5cdFx0XHQgKiBieSBhbGxvd2luZyB5b3UgdG8gcHJlLXByb2Nlc3NpbmcgdGhlIGRhdGEgYW5kIHJldHVybmluZyB0aGUgZGF0YSBpblxuXHRcdFx0ICogdGhlIGZvcm1hdCB0aGF0IHNob3VsZCBiZSBzZWFyY2hlZCB1cG9uLiBUaGlzIGlzIGRvbmUgYnkgYWRkaW5nXG5cdFx0XHQgKiBmdW5jdGlvbnMgdGhpcyBvYmplY3Qgd2l0aCBhIHBhcmFtZXRlciBuYW1lIHdoaWNoIG1hdGNoZXMgdGhlIHNUeXBlXG5cdFx0XHQgKiBmb3IgdGhhdCB0YXJnZXQgY29sdW1uLiBUaGlzIGlzIHRoZSBjb3JvbGxhcnkgb2YgPGk+YWZuU29ydERhdGE8L2k+XG5cdFx0XHQgKiBmb3Igc2VhcmNoaW5nIGRhdGEuXG5cdFx0XHQgKlxuXHRcdFx0ICogVGhlIGZ1bmN0aW9ucyBkZWZpbmVkIHRha2UgYSBzaW5nbGUgcGFyYW1ldGVyOlxuXHRcdFx0ICpcblx0XHQgICAgICogIDEuIGB7Kn1gIERhdGEgZnJvbSB0aGUgY29sdW1uIGNlbGwgdG8gYmUgcHJlcGFyZWQgZm9yIHNlYXJjaGluZ1xuXHRcdFx0ICpcblx0XHRcdCAqIEVhY2ggZnVuY3Rpb24gaXMgZXhwZWN0ZWQgdG8gcmV0dXJuOlxuXHRcdFx0ICpcblx0XHRcdCAqICogYHtzdHJpbmd8bnVsbH1gIEZvcm1hdHRlZCBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHRoZSBzZWFyY2hpbmcuXG5cdFx0XHQgKlxuXHRcdFx0ICogIEB0eXBlIG9iamVjdFxuXHRcdFx0ICogIEBkZWZhdWx0IHt9XG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAkLmZuLmRhdGFUYWJsZS5leHQudHlwZS5zZWFyY2hbJ3RpdGxlLW51bWVyaWMnXSA9IGZ1bmN0aW9uICggZCApIHtcblx0XHRcdCAqICAgICAgcmV0dXJuIGQucmVwbGFjZSgvXFxuL2csXCIgXCIpLnJlcGxhY2UoIC88Lio/Pi9nLCBcIlwiICk7XG5cdFx0XHQgKiAgICB9XG5cdFx0XHQgKi9cblx0XHRcdHNlYXJjaDoge30sXG5cdFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogVHlwZSBiYXNlZCBvcmRlcmluZy5cblx0XHRcdCAqXG5cdFx0XHQgKiBUaGUgY29sdW1uIHR5cGUgdGVsbHMgRGF0YVRhYmxlcyB3aGF0IG9yZGVyaW5nIHRvIGFwcGx5IHRvIHRoZSB0YWJsZVxuXHRcdFx0ICogd2hlbiBhIGNvbHVtbiBpcyBzb3J0ZWQgdXBvbi4gVGhlIG9yZGVyIGZvciBlYWNoIHR5cGUgdGhhdCBpcyBkZWZpbmVkLFxuXHRcdFx0ICogaXMgZGVmaW5lZCBieSB0aGUgZnVuY3Rpb25zIGF2YWlsYWJsZSBpbiB0aGlzIG9iamVjdC5cblx0XHRcdCAqXG5cdFx0XHQgKiBFYWNoIG9yZGVyaW5nIG9wdGlvbiBjYW4gYmUgZGVzY3JpYmVkIGJ5IHRocmVlIHByb3BlcnRpZXMgYWRkZWQgdG9cblx0XHRcdCAqIHRoaXMgb2JqZWN0OlxuXHRcdFx0ICpcblx0XHRcdCAqICogYHt0eXBlfS1wcmVgIC0gUHJlLWZvcm1hdHRpbmcgZnVuY3Rpb25cblx0XHRcdCAqICogYHt0eXBlfS1hc2NgIC0gQXNjZW5kaW5nIG9yZGVyIGZ1bmN0aW9uXG5cdFx0XHQgKiAqIGB7dHlwZX0tZGVzY2AgLSBEZXNjZW5kaW5nIG9yZGVyIGZ1bmN0aW9uXG5cdFx0XHQgKlxuXHRcdFx0ICogQWxsIHRocmVlIGNhbiBiZSB1c2VkIHRvZ2V0aGVyLCBvbmx5IGB7dHlwZX0tcHJlYCBvciBvbmx5XG5cdFx0XHQgKiBge3R5cGV9LWFzY2AgYW5kIGB7dHlwZX0tZGVzY2AgdG9nZXRoZXIuIEl0IGlzIGdlbmVyYWxseSByZWNvbW1lbmRlZFxuXHRcdFx0ICogdGhhdCBvbmx5IGB7dHlwZX0tcHJlYCBpcyB1c2VkLCBhcyB0aGlzIHByb3ZpZGVzIHRoZSBvcHRpbWFsXG5cdFx0XHQgKiBpbXBsZW1lbnRhdGlvbiBpbiB0ZXJtcyBvZiBzcGVlZCwgYWx0aG91Z2ggdGhlIG90aGVycyBhcmUgcHJvdmlkZWRcblx0XHRcdCAqIGZvciBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgSmF2YXNjcmlwdCBzb3J0IGZ1bmN0aW9ucy5cblx0XHRcdCAqXG5cdFx0XHQgKiBge3R5cGV9LXByZWA6IEZ1bmN0aW9ucyBkZWZpbmVkIHRha2UgYSBzaW5nbGUgcGFyYW1ldGVyOlxuXHRcdFx0ICpcblx0XHQgICAgICogIDEuIGB7Kn1gIERhdGEgZnJvbSB0aGUgY29sdW1uIGNlbGwgdG8gYmUgcHJlcGFyZWQgZm9yIG9yZGVyaW5nXG5cdFx0XHQgKlxuXHRcdFx0ICogQW5kIHJldHVybjpcblx0XHRcdCAqXG5cdFx0XHQgKiAqIGB7Kn1gIERhdGEgdG8gYmUgc29ydGVkIHVwb25cblx0XHRcdCAqXG5cdFx0XHQgKiBge3R5cGV9LWFzY2AgYW5kIGB7dHlwZX0tZGVzY2A6IEZ1bmN0aW9ucyBhcmUgdHlwaWNhbCBKYXZhc2NyaXB0IHNvcnRcblx0XHRcdCAqIGZ1bmN0aW9ucywgdGFraW5nIHR3byBwYXJhbWV0ZXJzOlxuXHRcdFx0ICpcblx0XHQgICAgICogIDEuIGB7Kn1gIERhdGEgdG8gY29tcGFyZSB0byB0aGUgc2Vjb25kIHBhcmFtZXRlclxuXHRcdCAgICAgKiAgMi4gYHsqfWAgRGF0YSB0byBjb21wYXJlIHRvIHRoZSBmaXJzdCBwYXJhbWV0ZXJcblx0XHRcdCAqXG5cdFx0XHQgKiBBbmQgcmV0dXJuaW5nOlxuXHRcdFx0ICpcblx0XHRcdCAqICogYHsqfWAgT3JkZXJpbmcgbWF0Y2g6IDwwIGlmIGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgc29ydGVkIGxvd2VyXG5cdFx0XHQgKiAgIHRoYW4gdGhlIHNlY29uZCBwYXJhbWV0ZXIsID09PTAgaWYgdGhlIHR3byBwYXJhbWV0ZXJzIGFyZSBlcXVhbCBhbmRcblx0XHRcdCAqICAgPjAgaWYgdGhlIGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgc29ydGVkIGhlaWdodCB0aGFuIHRoZSBzZWNvbmRcblx0XHRcdCAqICAgcGFyYW1ldGVyLlxuXHRcdFx0ICogXG5cdFx0XHQgKiAgQHR5cGUgb2JqZWN0XG5cdFx0XHQgKiAgQGRlZmF1bHQge31cblx0XHRcdCAqXG5cdFx0XHQgKiAgQGV4YW1wbGVcblx0XHRcdCAqICAgIC8vIE51bWVyaWMgb3JkZXJpbmcgb2YgZm9ybWF0dGVkIG51bWJlcnMgd2l0aCBhIHByZS1mb3JtYXR0ZXJcblx0XHRcdCAqICAgICQuZXh0ZW5kKCAkLmZuLmRhdGFUYWJsZS5leHQudHlwZS5vcmRlciwge1xuXHRcdFx0ICogICAgICBcInN0cmluZy1wcmVcIjogZnVuY3Rpb24oeCkge1xuXHRcdFx0ICogICAgICAgIGEgPSAoYSA9PT0gXCItXCIgfHwgYSA9PT0gXCJcIikgPyAwIDogYS5yZXBsYWNlKCAvW15cXGRcXC1cXC5dL2csIFwiXCIgKTtcblx0XHRcdCAqICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCggYSApO1xuXHRcdFx0ICogICAgICB9XG5cdFx0XHQgKiAgICB9ICk7XG5cdFx0XHQgKlxuXHRcdFx0ICogIEBleGFtcGxlXG5cdFx0XHQgKiAgICAvLyBDYXNlLXNlbnNpdGl2ZSBzdHJpbmcgb3JkZXJpbmcsIHdpdGggbm8gcHJlLWZvcm1hdHRpbmcgbWV0aG9kXG5cdFx0XHQgKiAgICAkLmV4dGVuZCggJC5mbi5kYXRhVGFibGUuZXh0Lm9yZGVyLCB7XG5cdFx0XHQgKiAgICAgIFwic3RyaW5nLWNhc2UtYXNjXCI6IGZ1bmN0aW9uKHgseSkge1xuXHRcdFx0ICogICAgICAgIHJldHVybiAoKHggPCB5KSA/IC0xIDogKCh4ID4geSkgPyAxIDogMCkpO1xuXHRcdFx0ICogICAgICB9LFxuXHRcdFx0ICogICAgICBcInN0cmluZy1jYXNlLWRlc2NcIjogZnVuY3Rpb24oeCx5KSB7XG5cdFx0XHQgKiAgICAgICAgcmV0dXJuICgoeCA8IHkpID8gMSA6ICgoeCA+IHkpID8gLTEgOiAwKSk7XG5cdFx0XHQgKiAgICAgIH1cblx0XHRcdCAqICAgIH0gKTtcblx0XHRcdCAqL1xuXHRcdFx0b3JkZXI6IHt9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVW5pcXVlIERhdGFUYWJsZXMgaW5zdGFuY2UgY291bnRlclxuXHRcdCAqXG5cdFx0ICogQHR5cGUgaW50XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHRfdW5pcXVlOiAwLFxuXHRcblx0XG5cdFx0Ly9cblx0XHQvLyBEZXByZWNpYXRlZFxuXHRcdC8vIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgcmV0YWluZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmxpdHkgb25seS5cblx0XHQvLyBUaGUgc2hvdWxkIG5vdCBiZSB1c2VkIGluIG5ldyBwcm9qZWN0cyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlXG5cdFx0Ly8gdmVyc2lvblxuXHRcdC8vXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFZlcnNpb24gY2hlY2sgZnVuY3Rpb24uXG5cdFx0ICogIEB0eXBlIGZ1bmN0aW9uXG5cdFx0ICogIEBkZXByZWNpYXRlZCBTaW5jZSAxLjEwXG5cdFx0ICovXG5cdFx0Zm5WZXJzaW9uQ2hlY2s6IERhdGFUYWJsZS5mblZlcnNpb25DaGVjayxcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluZGV4IGZvciB3aGF0ICd0aGlzJyBpbmRleCBBUEkgZnVuY3Rpb25zIHNob3VsZCB1c2Vcblx0XHQgKiAgQHR5cGUgaW50XG5cdFx0ICogIEBkZXByZWNhdGVkIFNpbmNlIHYxLjEwXG5cdFx0ICovXG5cdFx0aUFwaUluZGV4OiAwLFxuXHRcblx0XG5cdFx0LyoqXG5cdFx0ICogalF1ZXJ5IFVJIGNsYXNzIGNvbnRhaW5lclxuXHRcdCAqICBAdHlwZSBvYmplY3Rcblx0XHQgKiAgQGRlcHJlY2F0ZWQgU2luY2UgdjEuMTBcblx0XHQgKi9cblx0XHRvSlVJQ2xhc3Nlczoge30sXG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBTb2Z0d2FyZSB2ZXJzaW9uXG5cdFx0ICogIEB0eXBlIHN0cmluZ1xuXHRcdCAqICBAZGVwcmVjYXRlZCBTaW5jZSB2MS4xMFxuXHRcdCAqL1xuXHRcdHNWZXJzaW9uOiBEYXRhVGFibGUudmVyc2lvblxuXHR9O1xuXHRcblx0XG5cdC8vXG5cdC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBBbGlhcyB0byBwcmUgMS4xMCBIdW5nYXJpYW4gbm90YXRpb24gY291bnRlciBwYXJ0c1xuXHQvL1xuXHQkLmV4dGVuZCggX2V4dCwge1xuXHRcdGFmbkZpbHRlcmluZzogX2V4dC5zZWFyY2gsXG5cdFx0YVR5cGVzOiAgICAgICBfZXh0LnR5cGUuZGV0ZWN0LFxuXHRcdG9mblNlYXJjaDogICAgX2V4dC50eXBlLnNlYXJjaCxcblx0XHRvU29ydDogICAgICAgIF9leHQudHlwZS5vcmRlcixcblx0XHRhZm5Tb3J0RGF0YTogIF9leHQub3JkZXIsXG5cdFx0YW9GZWF0dXJlczogICBfZXh0LmZlYXR1cmUsXG5cdFx0b0FwaTogICAgICAgICBfZXh0LmludGVybmFsLFxuXHRcdG9TdGRDbGFzc2VzOiAgX2V4dC5jbGFzc2VzLFxuXHRcdG9QYWdpbmF0aW9uOiAgX2V4dC5wYWdlclxuXHR9ICk7XG5cdFxuXHRcblx0JC5leHRlbmQoIERhdGFUYWJsZS5leHQuY2xhc3Nlcywge1xuXHRcdFwic1RhYmxlXCI6IFwiZGF0YVRhYmxlXCIsXG5cdFx0XCJzTm9Gb290ZXJcIjogXCJuby1mb290ZXJcIixcblx0XG5cdFx0LyogUGFnaW5nIGJ1dHRvbnMgKi9cblx0XHRcInNQYWdlQnV0dG9uXCI6IFwicGFnaW5hdGVfYnV0dG9uXCIsXG5cdFx0XCJzUGFnZUJ1dHRvbkFjdGl2ZVwiOiBcImN1cnJlbnRcIixcblx0XHRcInNQYWdlQnV0dG9uRGlzYWJsZWRcIjogXCJkaXNhYmxlZFwiLFxuXHRcblx0XHQvKiBTdHJpcGluZyBjbGFzc2VzICovXG5cdFx0XCJzU3RyaXBlT2RkXCI6IFwib2RkXCIsXG5cdFx0XCJzU3RyaXBlRXZlblwiOiBcImV2ZW5cIixcblx0XG5cdFx0LyogRW1wdHkgcm93ICovXG5cdFx0XCJzUm93RW1wdHlcIjogXCJkYXRhVGFibGVzX2VtcHR5XCIsXG5cdFxuXHRcdC8qIEZlYXR1cmVzICovXG5cdFx0XCJzV3JhcHBlclwiOiBcImRhdGFUYWJsZXNfd3JhcHBlclwiLFxuXHRcdFwic0ZpbHRlclwiOiBcImRhdGFUYWJsZXNfZmlsdGVyXCIsXG5cdFx0XCJzSW5mb1wiOiBcImRhdGFUYWJsZXNfaW5mb1wiLFxuXHRcdFwic1BhZ2luZ1wiOiBcImRhdGFUYWJsZXNfcGFnaW5hdGUgcGFnaW5nX1wiLCAvKiBOb3RlIHRoYXQgdGhlIHR5cGUgaXMgcG9zdGZpeGVkICovXG5cdFx0XCJzTGVuZ3RoXCI6IFwiZGF0YVRhYmxlc19sZW5ndGhcIixcblx0XHRcInNQcm9jZXNzaW5nXCI6IFwiZGF0YVRhYmxlc19wcm9jZXNzaW5nXCIsXG5cdFxuXHRcdC8qIFNvcnRpbmcgKi9cblx0XHRcInNTb3J0QXNjXCI6IFwic29ydGluZ19hc2NcIixcblx0XHRcInNTb3J0RGVzY1wiOiBcInNvcnRpbmdfZGVzY1wiLFxuXHRcdFwic1NvcnRhYmxlXCI6IFwic29ydGluZ1wiLCAvKiBTb3J0YWJsZSBpbiBib3RoIGRpcmVjdGlvbnMgKi9cblx0XHRcInNTb3J0YWJsZUFzY1wiOiBcInNvcnRpbmdfYXNjX2Rpc2FibGVkXCIsXG5cdFx0XCJzU29ydGFibGVEZXNjXCI6IFwic29ydGluZ19kZXNjX2Rpc2FibGVkXCIsXG5cdFx0XCJzU29ydGFibGVOb25lXCI6IFwic29ydGluZ19kaXNhYmxlZFwiLFxuXHRcdFwic1NvcnRDb2x1bW5cIjogXCJzb3J0aW5nX1wiLCAvKiBOb3RlIHRoYXQgYW4gaW50IGlzIHBvc3RmaXhlZCBmb3IgdGhlIHNvcnRpbmcgb3JkZXIgKi9cblx0XG5cdFx0LyogRmlsdGVyaW5nICovXG5cdFx0XCJzRmlsdGVySW5wdXRcIjogXCJcIixcblx0XG5cdFx0LyogUGFnZSBsZW5ndGggKi9cblx0XHRcInNMZW5ndGhTZWxlY3RcIjogXCJcIixcblx0XG5cdFx0LyogU2Nyb2xsaW5nICovXG5cdFx0XCJzU2Nyb2xsV3JhcHBlclwiOiBcImRhdGFUYWJsZXNfc2Nyb2xsXCIsXG5cdFx0XCJzU2Nyb2xsSGVhZFwiOiBcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZFwiLFxuXHRcdFwic1Njcm9sbEhlYWRJbm5lclwiOiBcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZElubmVyXCIsXG5cdFx0XCJzU2Nyb2xsQm9keVwiOiBcImRhdGFUYWJsZXNfc2Nyb2xsQm9keVwiLFxuXHRcdFwic1Njcm9sbEZvb3RcIjogXCJkYXRhVGFibGVzX3Njcm9sbEZvb3RcIixcblx0XHRcInNTY3JvbGxGb290SW5uZXJcIjogXCJkYXRhVGFibGVzX3Njcm9sbEZvb3RJbm5lclwiLFxuXHRcblx0XHQvKiBNaXNjICovXG5cdFx0XCJzSGVhZGVyVEhcIjogXCJcIixcblx0XHRcInNGb290ZXJUSFwiOiBcIlwiLFxuXHRcblx0XHQvLyBEZXByZWNhdGVkXG5cdFx0XCJzU29ydEpVSUFzY1wiOiBcIlwiLFxuXHRcdFwic1NvcnRKVUlEZXNjXCI6IFwiXCIsXG5cdFx0XCJzU29ydEpVSVwiOiBcIlwiLFxuXHRcdFwic1NvcnRKVUlBc2NBbGxvd2VkXCI6IFwiXCIsXG5cdFx0XCJzU29ydEpVSURlc2NBbGxvd2VkXCI6IFwiXCIsXG5cdFx0XCJzU29ydEpVSVdyYXBwZXJcIjogXCJcIixcblx0XHRcInNTb3J0SWNvblwiOiBcIlwiLFxuXHRcdFwic0pVSUhlYWRlclwiOiBcIlwiLFxuXHRcdFwic0pVSUZvb3RlclwiOiBcIlwiXG5cdH0gKTtcblx0XG5cdFxuXHQoZnVuY3Rpb24oKSB7XG5cdFxuXHQvLyBSZXVzZWQgc3RyaW5ncyBmb3IgYmV0dGVyIGNvbXByZXNzaW9uLiBDbG9zdXJlIGNvbXBpbGVyIGFwcGVhcnMgdG8gaGF2ZSBhXG5cdC8vIHdlaXJkIGVkZ2UgY2FzZSB3aGVyZSBpdCBpcyB0cnlpbmcgdG8gZXhwYW5kIHN0cmluZ3MgcmF0aGVyIHRoYW4gdXNlIHRoZVxuXHQvLyB2YXJpYWJsZSB2ZXJzaW9uLiBUaGlzIHJlc3VsdHMgaW4gYWJvdXQgMjAwIGJ5dGVzIGJlaW5nIGFkZGVkLCBmb3IgdmVyeVxuXHQvLyBsaXR0bGUgcHJlZmVyZW5jZSBiZW5lZml0IHNpbmNlIGl0IHRoaXMgcnVuIG9uIHNjcmlwdCBsb2FkIG9ubHkuXG5cdHZhciBfZW1wdHkgPSAnJztcblx0X2VtcHR5ID0gJyc7XG5cdFxuXHR2YXIgX3N0YXRlRGVmYXVsdCA9IF9lbXB0eSArICd1aS1zdGF0ZS1kZWZhdWx0Jztcblx0dmFyIF9zb3J0SWNvbiAgICAgPSBfZW1wdHkgKyAnY3NzX3JpZ2h0IHVpLWljb24gdWktaWNvbi0nO1xuXHR2YXIgX2hlYWRlckZvb3RlciA9IF9lbXB0eSArICdmZy10b29sYmFyIHVpLXRvb2xiYXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgnO1xuXHRcblx0JC5leHRlbmQoIERhdGFUYWJsZS5leHQub0pVSUNsYXNzZXMsIERhdGFUYWJsZS5leHQuY2xhc3Nlcywge1xuXHRcdC8qIEZ1bGwgbnVtYmVycyBwYWdpbmcgYnV0dG9ucyAqL1xuXHRcdFwic1BhZ2VCdXR0b25cIjogICAgICAgICBcImZnLWJ1dHRvbiB1aS1idXR0b24gXCIrX3N0YXRlRGVmYXVsdCxcblx0XHRcInNQYWdlQnV0dG9uQWN0aXZlXCI6ICAgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLFxuXHRcdFwic1BhZ2VCdXR0b25EaXNhYmxlZFwiOiBcInVpLXN0YXRlLWRpc2FibGVkXCIsXG5cdFxuXHRcdC8qIEZlYXR1cmVzICovXG5cdFx0XCJzUGFnaW5nXCI6IFwiZGF0YVRhYmxlc19wYWdpbmF0ZSBmZy1idXR0b25zZXQgdWktYnV0dG9uc2V0IGZnLWJ1dHRvbnNldC1tdWx0aSBcIitcblx0XHRcdFwidWktYnV0dG9uc2V0LW11bHRpIHBhZ2luZ19cIiwgLyogTm90ZSB0aGF0IHRoZSB0eXBlIGlzIHBvc3RmaXhlZCAqL1xuXHRcblx0XHQvKiBTb3J0aW5nICovXG5cdFx0XCJzU29ydEFzY1wiOiAgICAgICAgICAgIF9zdGF0ZURlZmF1bHQrXCIgc29ydGluZ19hc2NcIixcblx0XHRcInNTb3J0RGVzY1wiOiAgICAgICAgICAgX3N0YXRlRGVmYXVsdCtcIiBzb3J0aW5nX2Rlc2NcIixcblx0XHRcInNTb3J0YWJsZVwiOiAgICAgICAgICAgX3N0YXRlRGVmYXVsdCtcIiBzb3J0aW5nXCIsXG5cdFx0XCJzU29ydGFibGVBc2NcIjogICAgICAgIF9zdGF0ZURlZmF1bHQrXCIgc29ydGluZ19hc2NfZGlzYWJsZWRcIixcblx0XHRcInNTb3J0YWJsZURlc2NcIjogICAgICAgX3N0YXRlRGVmYXVsdCtcIiBzb3J0aW5nX2Rlc2NfZGlzYWJsZWRcIixcblx0XHRcInNTb3J0YWJsZU5vbmVcIjogICAgICAgX3N0YXRlRGVmYXVsdCtcIiBzb3J0aW5nX2Rpc2FibGVkXCIsXG5cdFx0XCJzU29ydEpVSUFzY1wiOiAgICAgICAgIF9zb3J0SWNvbitcInRyaWFuZ2xlLTEtblwiLFxuXHRcdFwic1NvcnRKVUlEZXNjXCI6ICAgICAgICBfc29ydEljb24rXCJ0cmlhbmdsZS0xLXNcIixcblx0XHRcInNTb3J0SlVJXCI6ICAgICAgICAgICAgX3NvcnRJY29uK1wiY2FyYXQtMi1uLXNcIixcblx0XHRcInNTb3J0SlVJQXNjQWxsb3dlZFwiOiAgX3NvcnRJY29uK1wiY2FyYXQtMS1uXCIsXG5cdFx0XCJzU29ydEpVSURlc2NBbGxvd2VkXCI6IF9zb3J0SWNvbitcImNhcmF0LTEtc1wiLFxuXHRcdFwic1NvcnRKVUlXcmFwcGVyXCI6ICAgICBcIkRhdGFUYWJsZXNfc29ydF93cmFwcGVyXCIsXG5cdFx0XCJzU29ydEljb25cIjogICAgICAgICAgIFwiRGF0YVRhYmxlc19zb3J0X2ljb25cIixcblx0XG5cdFx0LyogU2Nyb2xsaW5nICovXG5cdFx0XCJzU2Nyb2xsSGVhZFwiOiBcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZCBcIitfc3RhdGVEZWZhdWx0LFxuXHRcdFwic1Njcm9sbEZvb3RcIjogXCJkYXRhVGFibGVzX3Njcm9sbEZvb3QgXCIrX3N0YXRlRGVmYXVsdCxcblx0XG5cdFx0LyogTWlzYyAqL1xuXHRcdFwic0hlYWRlclRIXCI6ICBfc3RhdGVEZWZhdWx0LFxuXHRcdFwic0Zvb3RlclRIXCI6ICBfc3RhdGVEZWZhdWx0LFxuXHRcdFwic0pVSUhlYWRlclwiOiBfaGVhZGVyRm9vdGVyK1wiIHVpLWNvcm5lci10bCB1aS1jb3JuZXItdHJcIixcblx0XHRcInNKVUlGb290ZXJcIjogX2hlYWRlckZvb3RlcitcIiB1aS1jb3JuZXItYmwgdWktY29ybmVyLWJyXCJcblx0fSApO1xuXHRcblx0fSgpKTtcblx0XG5cdFxuXHRcblx0dmFyIGV4dFBhZ2luYXRpb24gPSBEYXRhVGFibGUuZXh0LnBhZ2VyO1xuXHRcblx0ZnVuY3Rpb24gX251bWJlcnMgKCBwYWdlLCBwYWdlcyApIHtcblx0XHR2YXJcblx0XHRcdG51bWJlcnMgPSBbXSxcblx0XHRcdGJ1dHRvbnMgPSBleHRQYWdpbmF0aW9uLm51bWJlcnNfbGVuZ3RoLFxuXHRcdFx0aGFsZiA9IE1hdGguZmxvb3IoIGJ1dHRvbnMgLyAyICksXG5cdFx0XHRpID0gMTtcblx0XG5cdFx0aWYgKCBwYWdlcyA8PSBidXR0b25zICkge1xuXHRcdFx0bnVtYmVycyA9IF9yYW5nZSggMCwgcGFnZXMgKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIHBhZ2UgPD0gaGFsZiApIHtcblx0XHRcdG51bWJlcnMgPSBfcmFuZ2UoIDAsIGJ1dHRvbnMtMiApO1xuXHRcdFx0bnVtYmVycy5wdXNoKCAnZWxsaXBzaXMnICk7XG5cdFx0XHRudW1iZXJzLnB1c2goIHBhZ2VzLTEgKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIHBhZ2UgPj0gcGFnZXMgLSAxIC0gaGFsZiApIHtcblx0XHRcdG51bWJlcnMgPSBfcmFuZ2UoIHBhZ2VzLShidXR0b25zLTIpLCBwYWdlcyApO1xuXHRcdFx0bnVtYmVycy5zcGxpY2UoIDAsIDAsICdlbGxpcHNpcycgKTsgLy8gbm8gdW5zaGlmdCBpbiBpZTZcblx0XHRcdG51bWJlcnMuc3BsaWNlKCAwLCAwLCAwICk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bnVtYmVycyA9IF9yYW5nZSggcGFnZS1oYWxmKzIsIHBhZ2UraGFsZi0xICk7XG5cdFx0XHRudW1iZXJzLnB1c2goICdlbGxpcHNpcycgKTtcblx0XHRcdG51bWJlcnMucHVzaCggcGFnZXMtMSApO1xuXHRcdFx0bnVtYmVycy5zcGxpY2UoIDAsIDAsICdlbGxpcHNpcycgKTtcblx0XHRcdG51bWJlcnMuc3BsaWNlKCAwLCAwLCAwICk7XG5cdFx0fVxuXHRcblx0XHRudW1iZXJzLkRUX2VsID0gJ3NwYW4nO1xuXHRcdHJldHVybiBudW1iZXJzO1xuXHR9XG5cdFxuXHRcblx0JC5leHRlbmQoIGV4dFBhZ2luYXRpb24sIHtcblx0XHRzaW1wbGU6IGZ1bmN0aW9uICggcGFnZSwgcGFnZXMgKSB7XG5cdFx0XHRyZXR1cm4gWyAncHJldmlvdXMnLCAnbmV4dCcgXTtcblx0XHR9LFxuXHRcblx0XHRmdWxsOiBmdW5jdGlvbiAoIHBhZ2UsIHBhZ2VzICkge1xuXHRcdFx0cmV0dXJuIFsgICdmaXJzdCcsICdwcmV2aW91cycsICduZXh0JywgJ2xhc3QnIF07XG5cdFx0fSxcblx0XG5cdFx0bnVtYmVyczogZnVuY3Rpb24gKCBwYWdlLCBwYWdlcyApIHtcblx0XHRcdHJldHVybiBbIF9udW1iZXJzKHBhZ2UsIHBhZ2VzKSBdO1xuXHRcdH0sXG5cdFxuXHRcdHNpbXBsZV9udW1iZXJzOiBmdW5jdGlvbiAoIHBhZ2UsIHBhZ2VzICkge1xuXHRcdFx0cmV0dXJuIFsgJ3ByZXZpb3VzJywgX251bWJlcnMocGFnZSwgcGFnZXMpLCAnbmV4dCcgXTtcblx0XHR9LFxuXHRcblx0XHRmdWxsX251bWJlcnM6IGZ1bmN0aW9uICggcGFnZSwgcGFnZXMgKSB7XG5cdFx0XHRyZXR1cm4gWyAnZmlyc3QnLCAncHJldmlvdXMnLCBfbnVtYmVycyhwYWdlLCBwYWdlcyksICduZXh0JywgJ2xhc3QnIF07XG5cdFx0fSxcblx0XG5cdFx0Ly8gRm9yIHRlc3RpbmcgYW5kIHBsdWctaW5zIHRvIHVzZVxuXHRcdF9udW1iZXJzOiBfbnVtYmVycyxcblx0XG5cdFx0Ly8gTnVtYmVyIG9mIG51bWJlciBidXR0b25zIChpbmNsdWRpbmcgZWxsaXBzaXMpIHRvIHNob3cuIF9NdXN0IGJlIG9kZCFfXG5cdFx0bnVtYmVyc19sZW5ndGg6IDdcblx0fSApO1xuXHRcblx0XG5cdCQuZXh0ZW5kKCB0cnVlLCBEYXRhVGFibGUuZXh0LnJlbmRlcmVyLCB7XG5cdFx0cGFnZUJ1dHRvbjoge1xuXHRcdFx0XzogZnVuY3Rpb24gKCBzZXR0aW5ncywgaG9zdCwgaWR4LCBidXR0b25zLCBwYWdlLCBwYWdlcyApIHtcblx0XHRcdFx0dmFyIGNsYXNzZXMgPSBzZXR0aW5ncy5vQ2xhc3Nlcztcblx0XHRcdFx0dmFyIGxhbmcgPSBzZXR0aW5ncy5vTGFuZ3VhZ2Uub1BhZ2luYXRlO1xuXHRcdFx0XHR2YXIgYXJpYSA9IHNldHRpbmdzLm9MYW5ndWFnZS5vQXJpYS5wYWdpbmF0ZSB8fCB7fTtcblx0XHRcdFx0dmFyIGJ0bkRpc3BsYXksIGJ0bkNsYXNzLCBjb3VudGVyPTA7XG5cdFxuXHRcdFx0XHR2YXIgYXR0YWNoID0gZnVuY3Rpb24oIGNvbnRhaW5lciwgYnV0dG9ucyApIHtcblx0XHRcdFx0XHR2YXIgaSwgaWVuLCBub2RlLCBidXR0b247XG5cdFx0XHRcdFx0dmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICggZSApIHtcblx0XHRcdFx0XHRcdF9mblBhZ2VDaGFuZ2UoIHNldHRpbmdzLCBlLmRhdGEuYWN0aW9uLCB0cnVlICk7XG5cdFx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdFx0Zm9yICggaT0wLCBpZW49YnV0dG9ucy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHtcblx0XHRcdFx0XHRcdGJ1dHRvbiA9IGJ1dHRvbnNbaV07XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCAkLmlzQXJyYXkoIGJ1dHRvbiApICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaW5uZXIgPSAkKCAnPCcrKGJ1dHRvbi5EVF9lbCB8fCAnZGl2JykrJy8+JyApXG5cdFx0XHRcdFx0XHRcdFx0LmFwcGVuZFRvKCBjb250YWluZXIgKTtcblx0XHRcdFx0XHRcdFx0YXR0YWNoKCBpbm5lciwgYnV0dG9uICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0YnRuRGlzcGxheSA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdGJ0bkNsYXNzID0gJyc7XG5cdFxuXHRcdFx0XHRcdFx0XHRzd2l0Y2ggKCBidXR0b24gKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnZWxsaXBzaXMnOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGFpbmVyLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJlbGxpcHNpc1wiPiYjeDIwMjY7PC9zcGFuPicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2ZpcnN0Jzpcblx0XHRcdFx0XHRcdFx0XHRcdGJ0bkRpc3BsYXkgPSBsYW5nLnNGaXJzdDtcblx0XHRcdFx0XHRcdFx0XHRcdGJ0bkNsYXNzID0gYnV0dG9uICsgKHBhZ2UgPiAwID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0JycgOiAnICcrY2xhc3Nlcy5zUGFnZUJ1dHRvbkRpc2FibGVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRjYXNlICdwcmV2aW91cyc6XG5cdFx0XHRcdFx0XHRcdFx0XHRidG5EaXNwbGF5ID0gbGFuZy5zUHJldmlvdXM7XG5cdFx0XHRcdFx0XHRcdFx0XHRidG5DbGFzcyA9IGJ1dHRvbiArIChwYWdlID4gMCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcnIDogJyAnK2NsYXNzZXMuc1BhZ2VCdXR0b25EaXNhYmxlZCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnbmV4dCc6XG5cdFx0XHRcdFx0XHRcdFx0XHRidG5EaXNwbGF5ID0gbGFuZy5zTmV4dDtcblx0XHRcdFx0XHRcdFx0XHRcdGJ0bkNsYXNzID0gYnV0dG9uICsgKHBhZ2UgPCBwYWdlcy0xID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0JycgOiAnICcrY2xhc3Nlcy5zUGFnZUJ1dHRvbkRpc2FibGVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRjYXNlICdsYXN0Jzpcblx0XHRcdFx0XHRcdFx0XHRcdGJ0bkRpc3BsYXkgPSBsYW5nLnNMYXN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnRuQ2xhc3MgPSBidXR0b24gKyAocGFnZSA8IHBhZ2VzLTEgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnJyA6ICcgJytjbGFzc2VzLnNQYWdlQnV0dG9uRGlzYWJsZWQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRidG5EaXNwbGF5ID0gYnV0dG9uICsgMTtcblx0XHRcdFx0XHRcdFx0XHRcdGJ0bkNsYXNzID0gcGFnZSA9PT0gYnV0dG9uID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5zUGFnZUJ1dHRvbkFjdGl2ZSA6ICcnO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdGlmICggYnRuRGlzcGxheSAhPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gJCgnPGE+Jywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnY2xhc3MnOiBjbGFzc2VzLnNQYWdlQnV0dG9uKycgJytidG5DbGFzcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2FyaWEtY29udHJvbHMnOiBzZXR0aW5ncy5zVGFibGVJZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2FyaWEtbGFiZWwnOiBhcmlhWyBidXR0b24gXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2RhdGEtZHQtaWR4JzogY291bnRlcixcblx0XHRcdFx0XHRcdFx0XHRcdFx0J3RhYmluZGV4Jzogc2V0dGluZ3MuaVRhYkluZGV4LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnaWQnOiBpZHggPT09IDAgJiYgdHlwZW9mIGJ1dHRvbiA9PT0gJ3N0cmluZycgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNUYWJsZUlkICsnXycrIGJ1dHRvbiA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHRcdFx0XHQuaHRtbCggYnRuRGlzcGxheSApXG5cdFx0XHRcdFx0XHRcdFx0XHQuYXBwZW5kVG8oIGNvbnRhaW5lciApO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRfZm5CaW5kQWN0aW9uKFxuXHRcdFx0XHRcdFx0XHRcdFx0bm9kZSwge2FjdGlvbjogYnV0dG9ufSwgY2xpY2tIYW5kbGVyXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0Ly8gSUU5IHRocm93cyBhbiAndW5rbm93biBlcnJvcicgaWYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpcyB1c2VkXG5cdFx0XHRcdC8vIGluc2lkZSBhbiBpZnJhbWUgb3IgZnJhbWUuIFRyeSAvIGNhdGNoIHRoZSBlcnJvci4gTm90IGdvb2QgZm9yXG5cdFx0XHRcdC8vIGFjY2Vzc2liaWxpdHksIGJ1dCBuZWl0aGVyIGFyZSBmcmFtZXMuXG5cdFx0XHRcdHZhciBhY3RpdmVFbDtcblx0XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gQmVjYXVzZSB0aGlzIGFwcHJvYWNoIGlzIGRlc3Ryb3lpbmcgYW5kIHJlY3JlYXRpbmcgdGhlIHBhZ2luZ1xuXHRcdFx0XHRcdC8vIGVsZW1lbnRzLCBmb2N1cyBpcyBsb3N0IG9uIHRoZSBzZWxlY3QgYnV0dG9uIHdoaWNoIGlzIGJhZCBmb3Jcblx0XHRcdFx0XHQvLyBhY2Nlc3NpYmlsaXR5LiBTbyB3ZSB3YW50IHRvIHJlc3RvcmUgZm9jdXMgb25jZSB0aGUgZHJhdyBoYXNcblx0XHRcdFx0XHQvLyBjb21wbGV0ZWRcblx0XHRcdFx0XHRhY3RpdmVFbCA9ICQoaG9zdCkuZmluZChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5kYXRhKCdkdC1pZHgnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaCAoZSkge31cblx0XG5cdFx0XHRcdGF0dGFjaCggJChob3N0KS5lbXB0eSgpLCBidXR0b25zICk7XG5cdFxuXHRcdFx0XHRpZiAoIGFjdGl2ZUVsICkge1xuXHRcdFx0XHRcdCQoaG9zdCkuZmluZCggJ1tkYXRhLWR0LWlkeD0nK2FjdGl2ZUVsKyddJyApLmZvY3VzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0Ly8gQnVpbHQgaW4gdHlwZSBkZXRlY3Rpb24uIFNlZSBtb2RlbC5leHQuYVR5cGVzIGZvciBpbmZvcm1hdGlvbiBhYm91dFxuXHQvLyB3aGF0IGlzIHJlcXVpcmVkIGZyb20gdGhpcyBtZXRob2RzLlxuXHQkLmV4dGVuZCggRGF0YVRhYmxlLmV4dC50eXBlLmRldGVjdCwgW1xuXHRcdC8vIFBsYWluIG51bWJlcnMgLSBmaXJzdCBzaW5jZSBWOCBkZXRlY3RzIHNvbWUgcGxhaW4gbnVtYmVycyBhcyBkYXRlc1xuXHRcdC8vIGUuZy4gRGF0ZS5wYXJzZSgnNTUnKSAoYnV0IG5vdCBhbGwsIGUuZy4gRGF0ZS5wYXJzZSgnMjInKS4uLikuXG5cdFx0ZnVuY3Rpb24gKCBkLCBzZXR0aW5ncyApXG5cdFx0e1xuXHRcdFx0dmFyIGRlY2ltYWwgPSBzZXR0aW5ncy5vTGFuZ3VhZ2Uuc0RlY2ltYWw7XG5cdFx0XHRyZXR1cm4gX2lzTnVtYmVyKCBkLCBkZWNpbWFsICkgPyAnbnVtJytkZWNpbWFsIDogbnVsbDtcblx0XHR9LFxuXHRcblx0XHQvLyBEYXRlcyAob25seSB0aG9zZSByZWNvZ25pc2VkIGJ5IHRoZSBicm93c2VyJ3MgRGF0ZS5wYXJzZSlcblx0XHRmdW5jdGlvbiAoIGQsIHNldHRpbmdzIClcblx0XHR7XG5cdFx0XHQvLyBWOCB3aWxsIHJlbW92ZSBhbnkgdW5rbm93biBjaGFyYWN0ZXJzIGF0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZVxuXHRcdFx0Ly8gZXhwcmVzc2lvbiwgbGVhZGluZyB0byBmYWxzZSBtYXRjaGVzIHN1Y2ggYXMgYCQyNDUuMTJgIG9yIGAxMCVgIGJlaW5nXG5cdFx0XHQvLyBhIHZhbGlkIGRhdGUuIFNlZSBmb3J1bSB0aHJlYWQgMTg5NDEgZm9yIGRldGFpbC5cblx0XHRcdGlmICggZCAmJiAhKGQgaW5zdGFuY2VvZiBEYXRlKSAmJiAoICEgX3JlX2RhdGVfc3RhcnQudGVzdChkKSB8fCAhIF9yZV9kYXRlX2VuZC50ZXN0KGQpICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHBhcnNlZCA9IERhdGUucGFyc2UoZCk7XG5cdFx0XHRyZXR1cm4gKHBhcnNlZCAhPT0gbnVsbCAmJiAhaXNOYU4ocGFyc2VkKSkgfHwgX2VtcHR5KGQpID8gJ2RhdGUnIDogbnVsbDtcblx0XHR9LFxuXHRcblx0XHQvLyBGb3JtYXR0ZWQgbnVtYmVyc1xuXHRcdGZ1bmN0aW9uICggZCwgc2V0dGluZ3MgKVxuXHRcdHtcblx0XHRcdHZhciBkZWNpbWFsID0gc2V0dGluZ3Mub0xhbmd1YWdlLnNEZWNpbWFsO1xuXHRcdFx0cmV0dXJuIF9pc051bWJlciggZCwgZGVjaW1hbCwgdHJ1ZSApID8gJ251bS1mbXQnK2RlY2ltYWwgOiBudWxsO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEhUTUwgbnVtZXJpY1xuXHRcdGZ1bmN0aW9uICggZCwgc2V0dGluZ3MgKVxuXHRcdHtcblx0XHRcdHZhciBkZWNpbWFsID0gc2V0dGluZ3Mub0xhbmd1YWdlLnNEZWNpbWFsO1xuXHRcdFx0cmV0dXJuIF9odG1sTnVtZXJpYyggZCwgZGVjaW1hbCApID8gJ2h0bWwtbnVtJytkZWNpbWFsIDogbnVsbDtcblx0XHR9LFxuXHRcblx0XHQvLyBIVE1MIG51bWVyaWMsIGZvcm1hdHRlZFxuXHRcdGZ1bmN0aW9uICggZCwgc2V0dGluZ3MgKVxuXHRcdHtcblx0XHRcdHZhciBkZWNpbWFsID0gc2V0dGluZ3Mub0xhbmd1YWdlLnNEZWNpbWFsO1xuXHRcdFx0cmV0dXJuIF9odG1sTnVtZXJpYyggZCwgZGVjaW1hbCwgdHJ1ZSApID8gJ2h0bWwtbnVtLWZtdCcrZGVjaW1hbCA6IG51bGw7XG5cdFx0fSxcblx0XG5cdFx0Ly8gSFRNTCAodGhpcyBpcyBzdHJpY3QgY2hlY2tpbmcgLSB0aGVyZSBtdXN0IGJlIGh0bWwpXG5cdFx0ZnVuY3Rpb24gKCBkLCBzZXR0aW5ncyApXG5cdFx0e1xuXHRcdFx0cmV0dXJuIF9lbXB0eSggZCApIHx8ICh0eXBlb2YgZCA9PT0gJ3N0cmluZycgJiYgZC5pbmRleE9mKCc8JykgIT09IC0xKSA/XG5cdFx0XHRcdCdodG1sJyA6IG51bGw7XG5cdFx0fVxuXHRdICk7XG5cdFxuXHRcblx0XG5cdC8vIEZpbHRlciBmb3JtYXR0aW5nIGZ1bmN0aW9ucy4gU2VlIG1vZGVsLmV4dC5vZm5TZWFyY2ggZm9yIGluZm9ybWF0aW9uIGFib3V0XG5cdC8vIHdoYXQgaXMgcmVxdWlyZWQgZnJvbSB0aGVzZSBtZXRob2RzLlxuXHQvLyBcblx0Ly8gTm90ZSB0aGF0IGFkZGl0aW9uYWwgc2VhcmNoIG1ldGhvZHMgYXJlIGFkZGVkIGZvciB0aGUgaHRtbCBudW1iZXJzIGFuZFxuXHQvLyBodG1sIGZvcm1hdHRlZCBudW1iZXJzIGJ5IGBfYWRkTnVtZXJpY1NvcnQoKWAgd2hlbiB3ZSBrbm93IHdoYXQgdGhlIGRlY2ltYWxcblx0Ly8gcGxhY2UgaXNcblx0XG5cdFxuXHQkLmV4dGVuZCggRGF0YVRhYmxlLmV4dC50eXBlLnNlYXJjaCwge1xuXHRcdGh0bWw6IGZ1bmN0aW9uICggZGF0YSApIHtcblx0XHRcdHJldHVybiBfZW1wdHkoZGF0YSkgP1xuXHRcdFx0XHRkYXRhIDpcblx0XHRcdFx0dHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnID9cblx0XHRcdFx0XHRkYXRhXG5cdFx0XHRcdFx0XHQucmVwbGFjZSggX3JlX25ld19saW5lcywgXCIgXCIgKVxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoIF9yZV9odG1sLCBcIlwiICkgOlxuXHRcdFx0XHRcdCcnO1xuXHRcdH0sXG5cdFxuXHRcdHN0cmluZzogZnVuY3Rpb24gKCBkYXRhICkge1xuXHRcdFx0cmV0dXJuIF9lbXB0eShkYXRhKSA/XG5cdFx0XHRcdGRhdGEgOlxuXHRcdFx0XHR0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgP1xuXHRcdFx0XHRcdGRhdGEucmVwbGFjZSggX3JlX25ld19saW5lcywgXCIgXCIgKSA6XG5cdFx0XHRcdFx0ZGF0YTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0dmFyIF9fbnVtZXJpY1JlcGxhY2UgPSBmdW5jdGlvbiAoIGQsIGRlY2ltYWxQbGFjZSwgcmUxLCByZTIgKSB7XG5cdFx0aWYgKCBkICE9PSAwICYmICghZCB8fCBkID09PSAnLScpICkge1xuXHRcdFx0cmV0dXJuIC1JbmZpbml0eTtcblx0XHR9XG5cdFxuXHRcdC8vIElmIGEgZGVjaW1hbCBwbGFjZSBvdGhlciB0aGFuIGAuYCBpcyB1c2VkLCBpdCBuZWVkcyB0byBiZSBnaXZlbiB0byB0aGVcblx0XHQvLyBmdW5jdGlvbiBzbyB3ZSBjYW4gZGV0ZWN0IGl0IGFuZCByZXBsYWNlIHdpdGggYSBgLmAgd2hpY2ggaXMgdGhlIG9ubHlcblx0XHQvLyBkZWNpbWFsIHBsYWNlIEphdmFzY3JpcHQgcmVjb2duaXNlcyAtIGl0IGlzIG5vdCBsb2NhbGUgYXdhcmUuXG5cdFx0aWYgKCBkZWNpbWFsUGxhY2UgKSB7XG5cdFx0XHRkID0gX251bVRvRGVjaW1hbCggZCwgZGVjaW1hbFBsYWNlICk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGQucmVwbGFjZSApIHtcblx0XHRcdGlmICggcmUxICkge1xuXHRcdFx0XHRkID0gZC5yZXBsYWNlKCByZTEsICcnICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCByZTIgKSB7XG5cdFx0XHRcdGQgPSBkLnJlcGxhY2UoIHJlMiwgJycgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBkICogMTtcblx0fTtcblx0XG5cdFxuXHQvLyBBZGQgdGhlIG51bWVyaWMgJ2RlZm9ybWF0dGluZycgZnVuY3Rpb25zIGZvciBzb3J0aW5nIGFuZCBzZWFyY2guIFRoaXMgaXMgZG9uZVxuXHQvLyBpbiBhIGZ1bmN0aW9uIHRvIHByb3ZpZGUgYW4gZWFzeSBhYmlsaXR5IGZvciB0aGUgbGFuZ3VhZ2Ugb3B0aW9ucyB0byBhZGRcblx0Ly8gYWRkaXRpb25hbCBtZXRob2RzIGlmIGEgbm9uLXBlcmlvZCBkZWNpbWFsIHBsYWNlIGlzIHVzZWQuXG5cdGZ1bmN0aW9uIF9hZGROdW1lcmljU29ydCAoIGRlY2ltYWxQbGFjZSApIHtcblx0XHQkLmVhY2goXG5cdFx0XHR7XG5cdFx0XHRcdC8vIFBsYWluIG51bWJlcnNcblx0XHRcdFx0XCJudW1cIjogZnVuY3Rpb24gKCBkICkge1xuXHRcdFx0XHRcdHJldHVybiBfX251bWVyaWNSZXBsYWNlKCBkLCBkZWNpbWFsUGxhY2UgKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIEZvcm1hdHRlZCBudW1iZXJzXG5cdFx0XHRcdFwibnVtLWZtdFwiOiBmdW5jdGlvbiAoIGQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9fbnVtZXJpY1JlcGxhY2UoIGQsIGRlY2ltYWxQbGFjZSwgX3JlX2Zvcm1hdHRlZF9udW1lcmljICk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBIVE1MIG51bWVyaWNcblx0XHRcdFx0XCJodG1sLW51bVwiOiBmdW5jdGlvbiAoIGQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9fbnVtZXJpY1JlcGxhY2UoIGQsIGRlY2ltYWxQbGFjZSwgX3JlX2h0bWwgKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIEhUTUwgbnVtZXJpYywgZm9ybWF0dGVkXG5cdFx0XHRcdFwiaHRtbC1udW0tZm10XCI6IGZ1bmN0aW9uICggZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gX19udW1lcmljUmVwbGFjZSggZCwgZGVjaW1hbFBsYWNlLCBfcmVfaHRtbCwgX3JlX2Zvcm1hdHRlZF9udW1lcmljICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRmdW5jdGlvbiAoIGtleSwgZm4gKSB7XG5cdFx0XHRcdC8vIEFkZCB0aGUgb3JkZXJpbmcgbWV0aG9kXG5cdFx0XHRcdF9leHQudHlwZS5vcmRlclsga2V5K2RlY2ltYWxQbGFjZSsnLXByZScgXSA9IGZuO1xuXHRcblx0XHRcdFx0Ly8gRm9yIEhUTUwgdHlwZXMgYWRkIGEgc2VhcmNoIGZvcm1hdHRlciB0aGF0IHdpbGwgc3RyaXAgdGhlIEhUTUxcblx0XHRcdFx0aWYgKCBrZXkubWF0Y2goL15odG1sXFwtLykgKSB7XG5cdFx0XHRcdFx0X2V4dC50eXBlLnNlYXJjaFsga2V5K2RlY2ltYWxQbGFjZSBdID0gX2V4dC50eXBlLnNlYXJjaC5odG1sO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXHRcblx0XG5cdC8vIERlZmF1bHQgc29ydCBtZXRob2RzXG5cdCQuZXh0ZW5kKCBfZXh0LnR5cGUub3JkZXIsIHtcblx0XHQvLyBEYXRlc1xuXHRcdFwiZGF0ZS1wcmVcIjogZnVuY3Rpb24gKCBkICkge1xuXHRcdFx0cmV0dXJuIERhdGUucGFyc2UoIGQgKSB8fCAwO1xuXHRcdH0sXG5cdFxuXHRcdC8vIGh0bWxcblx0XHRcImh0bWwtcHJlXCI6IGZ1bmN0aW9uICggYSApIHtcblx0XHRcdHJldHVybiBfZW1wdHkoYSkgP1xuXHRcdFx0XHQnJyA6XG5cdFx0XHRcdGEucmVwbGFjZSA/XG5cdFx0XHRcdFx0YS5yZXBsYWNlKCAvPC4qPz4vZywgXCJcIiApLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdGErJyc7XG5cdFx0fSxcblx0XG5cdFx0Ly8gc3RyaW5nXG5cdFx0XCJzdHJpbmctcHJlXCI6IGZ1bmN0aW9uICggYSApIHtcblx0XHRcdC8vIFRoaXMgaXMgYSBsaXR0bGUgY29tcGxleCwgYnV0IGZhc3RlciB0aGFuIGFsd2F5cyBjYWxsaW5nIHRvU3RyaW5nLFxuXHRcdFx0Ly8gaHR0cDovL2pzcGVyZi5jb20vdG9zdHJpbmctdi1jaGVja1xuXHRcdFx0cmV0dXJuIF9lbXB0eShhKSA/XG5cdFx0XHRcdCcnIDpcblx0XHRcdFx0dHlwZW9mIGEgPT09ICdzdHJpbmcnID9cblx0XHRcdFx0XHRhLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdCEgYS50b1N0cmluZyA/XG5cdFx0XHRcdFx0XHQnJyA6XG5cdFx0XHRcdFx0XHRhLnRvU3RyaW5nKCk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gc3RyaW5nLWFzYyBhbmQgLWRlc2MgYXJlIHJldGFpbmVkIG9ubHkgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgb2xkXG5cdFx0Ly8gc29ydCBtZXRob2RzXG5cdFx0XCJzdHJpbmctYXNjXCI6IGZ1bmN0aW9uICggeCwgeSApIHtcblx0XHRcdHJldHVybiAoKHggPCB5KSA/IC0xIDogKCh4ID4geSkgPyAxIDogMCkpO1xuXHRcdH0sXG5cdFxuXHRcdFwic3RyaW5nLWRlc2NcIjogZnVuY3Rpb24gKCB4LCB5ICkge1xuXHRcdFx0cmV0dXJuICgoeCA8IHkpID8gMSA6ICgoeCA+IHkpID8gLTEgOiAwKSk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0Ly8gTnVtZXJpYyBzb3J0aW5nIHR5cGVzIC0gb3JkZXIgZG9lc24ndCBtYXR0ZXIgaGVyZVxuXHRfYWRkTnVtZXJpY1NvcnQoICcnICk7XG5cdFxuXHRcblx0JC5leHRlbmQoIHRydWUsIERhdGFUYWJsZS5leHQucmVuZGVyZXIsIHtcblx0XHRoZWFkZXI6IHtcblx0XHRcdF86IGZ1bmN0aW9uICggc2V0dGluZ3MsIGNlbGwsIGNvbHVtbiwgY2xhc3NlcyApIHtcblx0XHRcdFx0Ly8gTm8gYWRkaXRpb25hbCBtYXJrLXVwIHJlcXVpcmVkXG5cdFx0XHRcdC8vIEF0dGFjaCBhIHNvcnQgbGlzdGVuZXIgdG8gdXBkYXRlIG9uIHNvcnQgLSBub3RlIHRoYXQgdXNpbmcgdGhlXG5cdFx0XHRcdC8vIGBEVGAgbmFtZXNwYWNlIHdpbGwgYWxsb3cgdGhlIGV2ZW50IHRvIGJlIHJlbW92ZWQgYXV0b21hdGljYWxseVxuXHRcdFx0XHQvLyBvbiBkZXN0cm95LCB3aGlsZSB0aGUgYGR0YCBuYW1lc3BhY2VkIGV2ZW50IGlzIHRoZSBvbmUgd2UgYXJlXG5cdFx0XHRcdC8vIGxpc3RlbmluZyBmb3Jcblx0XHRcdFx0JChzZXR0aW5ncy5uVGFibGUpLm9uKCAnb3JkZXIuZHQuRFQnLCBmdW5jdGlvbiAoIGUsIGN0eCwgc29ydGluZywgY29sdW1ucyApIHtcblx0XHRcdFx0XHRpZiAoIHNldHRpbmdzICE9PSBjdHggKSB7IC8vIG5lZWQgdG8gY2hlY2sgdGhpcyB0aGlzIGlzIHRoZSBob3N0XG5cdFx0XHRcdFx0XHRyZXR1cm47ICAgICAgICAgICAgICAgLy8gdGFibGUsIG5vdCBhIG5lc3RlZCBvbmVcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHZhciBjb2xJZHggPSBjb2x1bW4uaWR4O1xuXHRcblx0XHRcdFx0XHRjZWxsXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoXG5cdFx0XHRcdFx0XHRcdGNvbHVtbi5zU29ydGluZ0NsYXNzICsnICcrXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMuc1NvcnRBc2MgKycgJytcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5zU29ydERlc2Ncblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyggY29sdW1uc1sgY29sSWR4IF0gPT0gJ2FzYycgP1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnNTb3J0QXNjIDogY29sdW1uc1sgY29sSWR4IF0gPT0gJ2Rlc2MnID9cblx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzLnNTb3J0RGVzYyA6XG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uLnNTb3J0aW5nQ2xhc3Ncblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0anF1ZXJ5dWk6IGZ1bmN0aW9uICggc2V0dGluZ3MsIGNlbGwsIGNvbHVtbiwgY2xhc3NlcyApIHtcblx0XHRcdFx0JCgnPGRpdi8+Jylcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIGNsYXNzZXMuc1NvcnRKVUlXcmFwcGVyIClcblx0XHRcdFx0XHQuYXBwZW5kKCBjZWxsLmNvbnRlbnRzKCkgKVxuXHRcdFx0XHRcdC5hcHBlbmQoICQoJzxzcGFuLz4nKVxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKCBjbGFzc2VzLnNTb3J0SWNvbisnICcrY29sdW1uLnNTb3J0aW5nQ2xhc3NKVUkgKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQuYXBwZW5kVG8oIGNlbGwgKTtcblx0XG5cdFx0XHRcdC8vIEF0dGFjaCBhIHNvcnQgbGlzdGVuZXIgdG8gdXBkYXRlIG9uIHNvcnRcblx0XHRcdFx0JChzZXR0aW5ncy5uVGFibGUpLm9uKCAnb3JkZXIuZHQuRFQnLCBmdW5jdGlvbiAoIGUsIGN0eCwgc29ydGluZywgY29sdW1ucyApIHtcblx0XHRcdFx0XHRpZiAoIHNldHRpbmdzICE9PSBjdHggKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHR2YXIgY29sSWR4ID0gY29sdW1uLmlkeDtcblx0XG5cdFx0XHRcdFx0Y2VsbFxuXHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBjbGFzc2VzLnNTb3J0QXNjICtcIiBcIitjbGFzc2VzLnNTb3J0RGVzYyApXG5cdFx0XHRcdFx0XHQuYWRkQ2xhc3MoIGNvbHVtbnNbIGNvbElkeCBdID09ICdhc2MnID9cblx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5zU29ydEFzYyA6IGNvbHVtbnNbIGNvbElkeCBdID09ICdkZXNjJyA/XG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5zU29ydERlc2MgOlxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbi5zU29ydGluZ0NsYXNzXG5cdFx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0XHRjZWxsXG5cdFx0XHRcdFx0XHQuZmluZCggJ3NwYW4uJytjbGFzc2VzLnNTb3J0SWNvbiApXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMuc1NvcnRKVUlBc2MgK1wiIFwiK1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnNTb3J0SlVJRGVzYyArXCIgXCIrXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMuc1NvcnRKVUkgK1wiIFwiK1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnNTb3J0SlVJQXNjQWxsb3dlZCArXCIgXCIrXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMuc1NvcnRKVUlEZXNjQWxsb3dlZFxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKCBjb2x1bW5zWyBjb2xJZHggXSA9PSAnYXNjJyA/XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMuc1NvcnRKVUlBc2MgOiBjb2x1bW5zWyBjb2xJZHggXSA9PSAnZGVzYycgP1xuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXMuc1NvcnRKVUlEZXNjIDpcblx0XHRcdFx0XHRcdFx0XHRjb2x1bW4uc1NvcnRpbmdDbGFzc0pVSVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXHRcblx0Lypcblx0ICogUHVibGljIGhlbHBlciBmdW5jdGlvbnMuIFRoZXNlIGFyZW4ndCB1c2VkIGludGVybmFsbHkgYnkgRGF0YVRhYmxlcywgb3Jcblx0ICogY2FsbGVkIGJ5IGFueSBvZiB0aGUgb3B0aW9ucyBwYXNzZWQgaW50byBEYXRhVGFibGVzLCBidXQgdGhleSBjYW4gYmUgdXNlZFxuXHQgKiBleHRlcm5hbGx5IGJ5IGRldmVsb3BlcnMgd29ya2luZyB3aXRoIERhdGFUYWJsZXMuIFRoZXkgYXJlIGhlbHBlciBmdW5jdGlvbnNcblx0ICogdG8gbWFrZSB3b3JraW5nIHdpdGggRGF0YVRhYmxlcyBhIGxpdHRsZSBiaXQgZWFzaWVyLlxuXHQgKi9cblx0XG5cdHZhciBfX2h0bWxFc2NhcGVFbnRpdGllcyA9IGZ1bmN0aW9uICggZCApIHtcblx0XHRyZXR1cm4gdHlwZW9mIGQgPT09ICdzdHJpbmcnID9cblx0XHRcdGQucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykgOlxuXHRcdFx0ZDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIZWxwZXJzIGZvciBgY29sdW1ucy5yZW5kZXJgLlxuXHQgKlxuXHQgKiBUaGUgb3B0aW9ucyBkZWZpbmVkIGhlcmUgY2FuIGJlIHVzZWQgd2l0aCB0aGUgYGNvbHVtbnMucmVuZGVyYCBpbml0aWFsaXNhdGlvblxuXHQgKiBvcHRpb24gdG8gcHJvdmlkZSBhIGRpc3BsYXkgcmVuZGVyZXIuIFRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSBkZWZpbmVkOlxuXHQgKlxuXHQgKiAqIGBudW1iZXJgIC0gV2lsbCBmb3JtYXQgbnVtZXJpYyBkYXRhIChkZWZpbmVkIGJ5IGBjb2x1bW5zLmRhdGFgKSBmb3Jcblx0ICogICBkaXNwbGF5LCByZXRhaW5pbmcgdGhlIG9yaWdpbmFsIHVuZm9ybWF0dGVkIGRhdGEgZm9yIHNvcnRpbmcgYW5kIGZpbHRlcmluZy5cblx0ICogICBJdCB0YWtlcyA1IHBhcmFtZXRlcnM6XG5cdCAqICAgKiBgc3RyaW5nYCAtIFRob3VzYW5kcyBncm91cGluZyBzZXBhcmF0b3Jcblx0ICogICAqIGBzdHJpbmdgIC0gRGVjaW1hbCBwb2ludCBpbmRpY2F0b3Jcblx0ICogICAqIGBpbnRlZ2VyYCAtIE51bWJlciBvZiBkZWNpbWFsIHBvaW50cyB0byBzaG93XG5cdCAqICAgKiBgc3RyaW5nYCAob3B0aW9uYWwpIC0gUHJlZml4LlxuXHQgKiAgICogYHN0cmluZ2AgKG9wdGlvbmFsKSAtIFBvc3RmaXggKC9zdWZmaXgpLlxuXHQgKiAqIGB0ZXh0YCAtIEVzY2FwZSBIVE1MIHRvIGhlbHAgcHJldmVudCBYU1MgYXR0YWNrcy4gSXQgaGFzIG5vIG9wdGlvbmFsXG5cdCAqICAgcGFyYW1ldGVycy5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAvLyBDb2x1bW4gZGVmaW5pdGlvbiB1c2luZyB0aGUgbnVtYmVyIHJlbmRlcmVyXG5cdCAqICAge1xuXHQgKiAgICAgZGF0YTogXCJzYWxhcnlcIixcblx0ICogICAgIHJlbmRlcjogJC5mbi5kYXRhVGFibGUucmVuZGVyLm51bWJlciggJ1xcJycsICcuJywgMCwgJyQnIClcblx0ICogICB9XG5cdCAqXG5cdCAqIEBuYW1lc3BhY2Vcblx0ICovXG5cdERhdGFUYWJsZS5yZW5kZXIgPSB7XG5cdFx0bnVtYmVyOiBmdW5jdGlvbiAoIHRob3VzYW5kcywgZGVjaW1hbCwgcHJlY2lzaW9uLCBwcmVmaXgsIHBvc3RmaXggKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRkaXNwbGF5OiBmdW5jdGlvbiAoIGQgKSB7XG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgZCAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGQgIT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQ7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHR2YXIgbmVnYXRpdmUgPSBkIDwgMCA/ICctJyA6ICcnO1xuXHRcdFx0XHRcdHZhciBmbG8gPSBwYXJzZUZsb2F0KCBkICk7XG5cdFxuXHRcdFx0XHRcdC8vIElmIE5hTiB0aGVuIHRoZXJlIGlzbid0IG11Y2ggZm9ybWF0dGluZyB0aGF0IHdlIGNhbiBkbyAtIGp1c3Rcblx0XHRcdFx0XHQvLyByZXR1cm4gaW1tZWRpYXRlbHksIGVzY2FwaW5nIGFueSBIVE1MICh0aGlzIHdhcyBzdXBwb3NlZCB0b1xuXHRcdFx0XHRcdC8vIGJlIGEgbnVtYmVyIGFmdGVyIGFsbClcblx0XHRcdFx0XHRpZiAoIGlzTmFOKCBmbG8gKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBfX2h0bWxFc2NhcGVFbnRpdGllcyggZCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0ZCA9IE1hdGguYWJzKCBmbG8gKTtcblx0XG5cdFx0XHRcdFx0dmFyIGludFBhcnQgPSBwYXJzZUludCggZCwgMTAgKTtcblx0XHRcdFx0XHR2YXIgZmxvYXRQYXJ0ID0gcHJlY2lzaW9uID9cblx0XHRcdFx0XHRcdGRlY2ltYWwrKGQgLSBpbnRQYXJ0KS50b0ZpeGVkKCBwcmVjaXNpb24gKS5zdWJzdHJpbmcoIDIgKTpcblx0XHRcdFx0XHRcdCcnO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gbmVnYXRpdmUgKyAocHJlZml4fHwnJykgK1xuXHRcdFx0XHRcdFx0aW50UGFydC50b1N0cmluZygpLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHRcdC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCB0aG91c2FuZHNcblx0XHRcdFx0XHRcdCkgK1xuXHRcdFx0XHRcdFx0ZmxvYXRQYXJ0ICtcblx0XHRcdFx0XHRcdChwb3N0Zml4fHwnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFx0dGV4dDogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZGlzcGxheTogX19odG1sRXNjYXBlRW50aXRpZXNcblx0XHRcdH07XG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdC8qXG5cdCAqIFRoaXMgaXMgcmVhbGx5IGEgZ29vZCBiaXQgcnViYmlzaCB0aGlzIG1ldGhvZCBvZiBleHBvc2luZyB0aGUgaW50ZXJuYWwgbWV0aG9kc1xuXHQgKiBwdWJsaWNseS4uLiAtIFRvIGJlIGZpeGVkIGluIDIuMCB1c2luZyBtZXRob2RzIG9uIHRoZSBwcm90b3R5cGVcblx0ICovXG5cdFxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhIHdyYXBwZXIgZnVuY3Rpb24gZm9yIGV4cG9ydGluZyBhbiBpbnRlcm5hbCBmdW5jdGlvbnMgdG8gYW4gZXh0ZXJuYWwgQVBJLlxuXHQgKiAgQHBhcmFtIHtzdHJpbmd9IGZuIEFQSSBmdW5jdGlvbiBuYW1lXG5cdCAqICBAcmV0dXJucyB7ZnVuY3Rpb259IHdyYXBwZWQgZnVuY3Rpb25cblx0ICogIEBtZW1iZXJvZiBEYXRhVGFibGUjaW50ZXJuYWxcblx0ICovXG5cdGZ1bmN0aW9uIF9mbkV4dGVybkFwaUZ1bmMgKGZuKVxuXHR7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZ3MgPSBbX2ZuU2V0dGluZ3NGcm9tTm9kZSggdGhpc1tEYXRhVGFibGUuZXh0LmlBcGlJbmRleF0gKV0uY29uY2F0KFxuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIERhdGFUYWJsZS5leHQuaW50ZXJuYWxbZm5dLmFwcGx5KCB0aGlzLCBhcmdzICk7XG5cdFx0fTtcblx0fVxuXHRcblx0XG5cdC8qKlxuXHQgKiBSZWZlcmVuY2UgdG8gaW50ZXJuYWwgZnVuY3Rpb25zIGZvciB1c2UgYnkgcGx1Zy1pbiBkZXZlbG9wZXJzLiBOb3RlIHRoYXRcblx0ICogdGhlc2UgbWV0aG9kcyBhcmUgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBmdW5jdGlvbnMgYW5kIGFyZSBjb25zaWRlcmVkIHRvIGJlXG5cdCAqIHByaXZhdGUuIElmIHlvdSB1c2UgdGhlc2UgbWV0aG9kcywgYmUgYXdhcmUgdGhhdCB0aGV5IGFyZSBsaWFibGUgdG8gY2hhbmdlXG5cdCAqIGJldHdlZW4gdmVyc2lvbnMuXG5cdCAqICBAbmFtZXNwYWNlXG5cdCAqL1xuXHQkLmV4dGVuZCggRGF0YVRhYmxlLmV4dC5pbnRlcm5hbCwge1xuXHRcdF9mbkV4dGVybkFwaUZ1bmM6IF9mbkV4dGVybkFwaUZ1bmMsXG5cdFx0X2ZuQnVpbGRBamF4OiBfZm5CdWlsZEFqYXgsXG5cdFx0X2ZuQWpheFVwZGF0ZTogX2ZuQWpheFVwZGF0ZSxcblx0XHRfZm5BamF4UGFyYW1ldGVyczogX2ZuQWpheFBhcmFtZXRlcnMsXG5cdFx0X2ZuQWpheFVwZGF0ZURyYXc6IF9mbkFqYXhVcGRhdGVEcmF3LFxuXHRcdF9mbkFqYXhEYXRhU3JjOiBfZm5BamF4RGF0YVNyYyxcblx0XHRfZm5BZGRDb2x1bW46IF9mbkFkZENvbHVtbixcblx0XHRfZm5Db2x1bW5PcHRpb25zOiBfZm5Db2x1bW5PcHRpb25zLFxuXHRcdF9mbkFkanVzdENvbHVtblNpemluZzogX2ZuQWRqdXN0Q29sdW1uU2l6aW5nLFxuXHRcdF9mblZpc2libGVUb0NvbHVtbkluZGV4OiBfZm5WaXNpYmxlVG9Db2x1bW5JbmRleCxcblx0XHRfZm5Db2x1bW5JbmRleFRvVmlzaWJsZTogX2ZuQ29sdW1uSW5kZXhUb1Zpc2libGUsXG5cdFx0X2ZuVmlzYmxlQ29sdW1uczogX2ZuVmlzYmxlQ29sdW1ucyxcblx0XHRfZm5HZXRDb2x1bW5zOiBfZm5HZXRDb2x1bW5zLFxuXHRcdF9mbkNvbHVtblR5cGVzOiBfZm5Db2x1bW5UeXBlcyxcblx0XHRfZm5BcHBseUNvbHVtbkRlZnM6IF9mbkFwcGx5Q29sdW1uRGVmcyxcblx0XHRfZm5IdW5nYXJpYW5NYXA6IF9mbkh1bmdhcmlhbk1hcCxcblx0XHRfZm5DYW1lbFRvSHVuZ2FyaWFuOiBfZm5DYW1lbFRvSHVuZ2FyaWFuLFxuXHRcdF9mbkxhbmd1YWdlQ29tcGF0OiBfZm5MYW5ndWFnZUNvbXBhdCxcblx0XHRfZm5Ccm93c2VyRGV0ZWN0OiBfZm5Ccm93c2VyRGV0ZWN0LFxuXHRcdF9mbkFkZERhdGE6IF9mbkFkZERhdGEsXG5cdFx0X2ZuQWRkVHI6IF9mbkFkZFRyLFxuXHRcdF9mbk5vZGVUb0RhdGFJbmRleDogX2ZuTm9kZVRvRGF0YUluZGV4LFxuXHRcdF9mbk5vZGVUb0NvbHVtbkluZGV4OiBfZm5Ob2RlVG9Db2x1bW5JbmRleCxcblx0XHRfZm5HZXRDZWxsRGF0YTogX2ZuR2V0Q2VsbERhdGEsXG5cdFx0X2ZuU2V0Q2VsbERhdGE6IF9mblNldENlbGxEYXRhLFxuXHRcdF9mblNwbGl0T2JqTm90YXRpb246IF9mblNwbGl0T2JqTm90YXRpb24sXG5cdFx0X2ZuR2V0T2JqZWN0RGF0YUZuOiBfZm5HZXRPYmplY3REYXRhRm4sXG5cdFx0X2ZuU2V0T2JqZWN0RGF0YUZuOiBfZm5TZXRPYmplY3REYXRhRm4sXG5cdFx0X2ZuR2V0RGF0YU1hc3RlcjogX2ZuR2V0RGF0YU1hc3Rlcixcblx0XHRfZm5DbGVhclRhYmxlOiBfZm5DbGVhclRhYmxlLFxuXHRcdF9mbkRlbGV0ZUluZGV4OiBfZm5EZWxldGVJbmRleCxcblx0XHRfZm5JbnZhbGlkYXRlOiBfZm5JbnZhbGlkYXRlLFxuXHRcdF9mbkdldFJvd0VsZW1lbnRzOiBfZm5HZXRSb3dFbGVtZW50cyxcblx0XHRfZm5DcmVhdGVUcjogX2ZuQ3JlYXRlVHIsXG5cdFx0X2ZuQnVpbGRIZWFkOiBfZm5CdWlsZEhlYWQsXG5cdFx0X2ZuRHJhd0hlYWQ6IF9mbkRyYXdIZWFkLFxuXHRcdF9mbkRyYXc6IF9mbkRyYXcsXG5cdFx0X2ZuUmVEcmF3OiBfZm5SZURyYXcsXG5cdFx0X2ZuQWRkT3B0aW9uc0h0bWw6IF9mbkFkZE9wdGlvbnNIdG1sLFxuXHRcdF9mbkRldGVjdEhlYWRlcjogX2ZuRGV0ZWN0SGVhZGVyLFxuXHRcdF9mbkdldFVuaXF1ZVRoczogX2ZuR2V0VW5pcXVlVGhzLFxuXHRcdF9mbkZlYXR1cmVIdG1sRmlsdGVyOiBfZm5GZWF0dXJlSHRtbEZpbHRlcixcblx0XHRfZm5GaWx0ZXJDb21wbGV0ZTogX2ZuRmlsdGVyQ29tcGxldGUsXG5cdFx0X2ZuRmlsdGVyQ3VzdG9tOiBfZm5GaWx0ZXJDdXN0b20sXG5cdFx0X2ZuRmlsdGVyQ29sdW1uOiBfZm5GaWx0ZXJDb2x1bW4sXG5cdFx0X2ZuRmlsdGVyOiBfZm5GaWx0ZXIsXG5cdFx0X2ZuRmlsdGVyQ3JlYXRlU2VhcmNoOiBfZm5GaWx0ZXJDcmVhdGVTZWFyY2gsXG5cdFx0X2ZuRXNjYXBlUmVnZXg6IF9mbkVzY2FwZVJlZ2V4LFxuXHRcdF9mbkZpbHRlckRhdGE6IF9mbkZpbHRlckRhdGEsXG5cdFx0X2ZuRmVhdHVyZUh0bWxJbmZvOiBfZm5GZWF0dXJlSHRtbEluZm8sXG5cdFx0X2ZuVXBkYXRlSW5mbzogX2ZuVXBkYXRlSW5mbyxcblx0XHRfZm5JbmZvTWFjcm9zOiBfZm5JbmZvTWFjcm9zLFxuXHRcdF9mbkluaXRpYWxpc2U6IF9mbkluaXRpYWxpc2UsXG5cdFx0X2ZuSW5pdENvbXBsZXRlOiBfZm5Jbml0Q29tcGxldGUsXG5cdFx0X2ZuTGVuZ3RoQ2hhbmdlOiBfZm5MZW5ndGhDaGFuZ2UsXG5cdFx0X2ZuRmVhdHVyZUh0bWxMZW5ndGg6IF9mbkZlYXR1cmVIdG1sTGVuZ3RoLFxuXHRcdF9mbkZlYXR1cmVIdG1sUGFnaW5hdGU6IF9mbkZlYXR1cmVIdG1sUGFnaW5hdGUsXG5cdFx0X2ZuUGFnZUNoYW5nZTogX2ZuUGFnZUNoYW5nZSxcblx0XHRfZm5GZWF0dXJlSHRtbFByb2Nlc3Npbmc6IF9mbkZlYXR1cmVIdG1sUHJvY2Vzc2luZyxcblx0XHRfZm5Qcm9jZXNzaW5nRGlzcGxheTogX2ZuUHJvY2Vzc2luZ0Rpc3BsYXksXG5cdFx0X2ZuRmVhdHVyZUh0bWxUYWJsZTogX2ZuRmVhdHVyZUh0bWxUYWJsZSxcblx0XHRfZm5TY3JvbGxEcmF3OiBfZm5TY3JvbGxEcmF3LFxuXHRcdF9mbkFwcGx5VG9DaGlsZHJlbjogX2ZuQXBwbHlUb0NoaWxkcmVuLFxuXHRcdF9mbkNhbGN1bGF0ZUNvbHVtbldpZHRoczogX2ZuQ2FsY3VsYXRlQ29sdW1uV2lkdGhzLFxuXHRcdF9mblRocm90dGxlOiBfZm5UaHJvdHRsZSxcblx0XHRfZm5Db252ZXJ0VG9XaWR0aDogX2ZuQ29udmVydFRvV2lkdGgsXG5cdFx0X2ZuR2V0V2lkZXN0Tm9kZTogX2ZuR2V0V2lkZXN0Tm9kZSxcblx0XHRfZm5HZXRNYXhMZW5TdHJpbmc6IF9mbkdldE1heExlblN0cmluZyxcblx0XHRfZm5TdHJpbmdUb0NzczogX2ZuU3RyaW5nVG9Dc3MsXG5cdFx0X2ZuU29ydEZsYXR0ZW46IF9mblNvcnRGbGF0dGVuLFxuXHRcdF9mblNvcnQ6IF9mblNvcnQsXG5cdFx0X2ZuU29ydEFyaWE6IF9mblNvcnRBcmlhLFxuXHRcdF9mblNvcnRMaXN0ZW5lcjogX2ZuU29ydExpc3RlbmVyLFxuXHRcdF9mblNvcnRBdHRhY2hMaXN0ZW5lcjogX2ZuU29ydEF0dGFjaExpc3RlbmVyLFxuXHRcdF9mblNvcnRpbmdDbGFzc2VzOiBfZm5Tb3J0aW5nQ2xhc3Nlcyxcblx0XHRfZm5Tb3J0RGF0YTogX2ZuU29ydERhdGEsXG5cdFx0X2ZuU2F2ZVN0YXRlOiBfZm5TYXZlU3RhdGUsXG5cdFx0X2ZuTG9hZFN0YXRlOiBfZm5Mb2FkU3RhdGUsXG5cdFx0X2ZuU2V0dGluZ3NGcm9tTm9kZTogX2ZuU2V0dGluZ3NGcm9tTm9kZSxcblx0XHRfZm5Mb2c6IF9mbkxvZyxcblx0XHRfZm5NYXA6IF9mbk1hcCxcblx0XHRfZm5CaW5kQWN0aW9uOiBfZm5CaW5kQWN0aW9uLFxuXHRcdF9mbkNhbGxiYWNrUmVnOiBfZm5DYWxsYmFja1JlZyxcblx0XHRfZm5DYWxsYmFja0ZpcmU6IF9mbkNhbGxiYWNrRmlyZSxcblx0XHRfZm5MZW5ndGhPdmVyZmxvdzogX2ZuTGVuZ3RoT3ZlcmZsb3csXG5cdFx0X2ZuUmVuZGVyZXI6IF9mblJlbmRlcmVyLFxuXHRcdF9mbkRhdGFTb3VyY2U6IF9mbkRhdGFTb3VyY2UsXG5cdFx0X2ZuUm93QXR0cmlidXRlczogX2ZuUm93QXR0cmlidXRlcyxcblx0XHRfZm5DYWxjdWxhdGVFbmQ6IGZ1bmN0aW9uICgpIHt9IC8vIFVzZWQgYnkgYSBsb3Qgb2YgcGx1Zy1pbnMsIGJ1dCByZWR1bmRhbnRcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIDEuMTAsIHNvIHRoaXMgZGVhZC1lbmQgZnVuY3Rpb24gaXNcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZGVkIHRvIHByZXZlbnQgZXJyb3JzXG5cdH0gKTtcblx0XG5cblx0Ly8galF1ZXJ5IGFjY2Vzc1xuXHQkLmZuLmRhdGFUYWJsZSA9IERhdGFUYWJsZTtcblxuXHQvLyBQcm92aWRlIGFjY2VzcyB0byB0aGUgaG9zdCBqUXVlcnkgb2JqZWN0IChjaXJjdWxhciByZWZlcmVuY2UpXG5cdERhdGFUYWJsZS4kID0gJDtcblxuXHQvLyBMZWdhY3kgYWxpYXNlc1xuXHQkLmZuLmRhdGFUYWJsZVNldHRpbmdzID0gRGF0YVRhYmxlLnNldHRpbmdzO1xuXHQkLmZuLmRhdGFUYWJsZUV4dCA9IERhdGFUYWJsZS5leHQ7XG5cblx0Ly8gV2l0aCBhIGNhcGl0YWwgYERgIHdlIHJldHVybiBhIERhdGFUYWJsZXMgQVBJIGluc3RhbmNlIHJhdGhlciB0aGFuIGFcblx0Ly8galF1ZXJ5IG9iamVjdFxuXHQkLmZuLkRhdGFUYWJsZSA9IGZ1bmN0aW9uICggb3B0cyApIHtcblx0XHRyZXR1cm4gJCh0aGlzKS5kYXRhVGFibGUoIG9wdHMgKS5hcGkoKTtcblx0fTtcblxuXHQvLyBBbGwgcHJvcGVydGllcyB0aGF0IGFyZSBhdmFpbGFibGUgdG8gJC5mbi5kYXRhVGFibGUgc2hvdWxkIGFsc28gYmVcblx0Ly8gYXZhaWxhYmxlIG9uICQuZm4uRGF0YVRhYmxlXG5cdCQuZWFjaCggRGF0YVRhYmxlLCBmdW5jdGlvbiAoIHByb3AsIHZhbCApIHtcblx0XHQkLmZuLkRhdGFUYWJsZVsgcHJvcCBdID0gdmFsO1xuXHR9ICk7XG5cblxuXHQvLyBJbmZvcm1hdGlvbiBhYm91dCBldmVudHMgZmlyZWQgYnkgRGF0YVRhYmxlcyAtIGZvciBkb2N1bWVudGF0aW9uLlxuXHQvKipcblx0ICogRHJhdyBldmVudCwgZmlyZWQgd2hlbmV2ZXIgdGhlIHRhYmxlIGlzIHJlZHJhd24gb24gdGhlIHBhZ2UsIGF0IHRoZSBzYW1lXG5cdCAqIHBvaW50IGFzIGZuRHJhd0NhbGxiYWNrLiBUaGlzIG1heSBiZSB1c2VmdWwgZm9yIGJpbmRpbmcgZXZlbnRzIG9yXG5cdCAqIHBlcmZvcm1pbmcgY2FsY3VsYXRpb25zIHdoZW4gdGhlIHRhYmxlIGlzIGFsdGVyZWQgYXQgYWxsLlxuXHQgKiAgQG5hbWUgRGF0YVRhYmxlI2RyYXcuZHRcblx0ICogIEBldmVudFxuXHQgKiAgQHBhcmFtIHtldmVudH0gZSBqUXVlcnkgZXZlbnQgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gbyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdCB7QGxpbmsgRGF0YVRhYmxlLm1vZGVscy5vU2V0dGluZ3N9XG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBTZWFyY2ggZXZlbnQsIGZpcmVkIHdoZW4gdGhlIHNlYXJjaGluZyBhcHBsaWVkIHRvIHRoZSB0YWJsZSAodXNpbmcgdGhlXG5cdCAqIGJ1aWx0LWluIGdsb2JhbCBzZWFyY2gsIG9yIGNvbHVtbiBmaWx0ZXJzKSBpcyBhbHRlcmVkLlxuXHQgKiAgQG5hbWUgRGF0YVRhYmxlI3NlYXJjaC5kdFxuXHQgKiAgQGV2ZW50XG5cdCAqICBAcGFyYW0ge2V2ZW50fSBlIGpRdWVyeSBldmVudCBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0IHtAbGluayBEYXRhVGFibGUubW9kZWxzLm9TZXR0aW5nc31cblx0ICovXG5cblx0LyoqXG5cdCAqIFBhZ2UgY2hhbmdlIGV2ZW50LCBmaXJlZCB3aGVuIHRoZSBwYWdpbmcgb2YgdGhlIHRhYmxlIGlzIGFsdGVyZWQuXG5cdCAqICBAbmFtZSBEYXRhVGFibGUjcGFnZS5kdFxuXHQgKiAgQGV2ZW50XG5cdCAqICBAcGFyYW0ge2V2ZW50fSBlIGpRdWVyeSBldmVudCBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0IHtAbGluayBEYXRhVGFibGUubW9kZWxzLm9TZXR0aW5nc31cblx0ICovXG5cblx0LyoqXG5cdCAqIE9yZGVyIGV2ZW50LCBmaXJlZCB3aGVuIHRoZSBvcmRlcmluZyBhcHBsaWVkIHRvIHRoZSB0YWJsZSBpcyBhbHRlcmVkLlxuXHQgKiAgQG5hbWUgRGF0YVRhYmxlI29yZGVyLmR0XG5cdCAqICBAZXZlbnRcblx0ICogIEBwYXJhbSB7ZXZlbnR9IGUgalF1ZXJ5IGV2ZW50IG9iamVjdFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG8gRGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Qge0BsaW5rIERhdGFUYWJsZS5tb2RlbHMub1NldHRpbmdzfVxuXHQgKi9cblxuXHQvKipcblx0ICogRGF0YVRhYmxlcyBpbml0aWFsaXNhdGlvbiBjb21wbGV0ZSBldmVudCwgZmlyZWQgd2hlbiB0aGUgdGFibGUgaXMgZnVsbHlcblx0ICogZHJhd24sIGluY2x1ZGluZyBBamF4IGRhdGEgbG9hZGVkLCBpZiBBamF4IGRhdGEgaXMgcmVxdWlyZWQuXG5cdCAqICBAbmFtZSBEYXRhVGFibGUjaW5pdC5kdFxuXHQgKiAgQGV2ZW50XG5cdCAqICBAcGFyYW0ge2V2ZW50fSBlIGpRdWVyeSBldmVudCBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvU2V0dGluZ3MgRGF0YVRhYmxlcyBzZXR0aW5ncyBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBqc29uIFRoZSBKU09OIG9iamVjdCByZXF1ZXN0IGZyb20gdGhlIHNlcnZlciAtIG9ubHlcblx0ICogICAgcHJlc2VudCBpZiBjbGllbnQtc2lkZSBBamF4IHNvdXJjZWQgZGF0YSBpcyB1c2VkPC9saT48L29sPlxuXHQgKi9cblxuXHQvKipcblx0ICogU3RhdGUgc2F2ZSBldmVudCwgZmlyZWQgd2hlbiB0aGUgdGFibGUgaGFzIGNoYW5nZWQgc3RhdGUgYSBuZXcgc3RhdGUgc2F2ZVxuXHQgKiBpcyByZXF1aXJlZC4gVGhpcyBldmVudCBhbGxvd3MgbW9kaWZpY2F0aW9uIG9mIHRoZSBzdGF0ZSBzYXZpbmcgb2JqZWN0XG5cdCAqIHByaW9yIHRvIGFjdHVhbGx5IGRvaW5nIHRoZSBzYXZlLCBpbmNsdWRpbmcgYWRkaXRpb24gb3Igb3RoZXIgc3RhdGVcblx0ICogcHJvcGVydGllcyAoZm9yIHBsdWctaW5zKSBvciBtb2RpZmljYXRpb24gb2YgYSBEYXRhVGFibGVzIGNvcmUgcHJvcGVydHkuXG5cdCAqICBAbmFtZSBEYXRhVGFibGUjc3RhdGVTYXZlUGFyYW1zLmR0XG5cdCAqICBAZXZlbnRcblx0ICogIEBwYXJhbSB7ZXZlbnR9IGUgalF1ZXJ5IGV2ZW50IG9iamVjdFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IGpzb24gVGhlIHN0YXRlIGluZm9ybWF0aW9uIHRvIGJlIHNhdmVkXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBTdGF0ZSBsb2FkIGV2ZW50LCBmaXJlZCB3aGVuIHRoZSB0YWJsZSBpcyBsb2FkaW5nIHN0YXRlIGZyb20gdGhlIHN0b3JlZFxuXHQgKiBkYXRhLCBidXQgcHJpb3IgdG8gdGhlIHNldHRpbmdzIG9iamVjdCBiZWluZyBtb2RpZmllZCBieSB0aGUgc2F2ZWQgc3RhdGVcblx0ICogLSBhbGxvd2luZyBtb2RpZmljYXRpb24gb2YgdGhlIHNhdmVkIHN0YXRlIGlzIHJlcXVpcmVkIG9yIGxvYWRpbmcgb2Zcblx0ICogc3RhdGUgZm9yIGEgcGx1Zy1pbi5cblx0ICogIEBuYW1lIERhdGFUYWJsZSNzdGF0ZUxvYWRQYXJhbXMuZHRcblx0ICogIEBldmVudFxuXHQgKiAgQHBhcmFtIHtldmVudH0gZSBqUXVlcnkgZXZlbnQgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0ganNvbiBUaGUgc2F2ZWQgc3RhdGUgaW5mb3JtYXRpb25cblx0ICovXG5cblx0LyoqXG5cdCAqIFN0YXRlIGxvYWRlZCBldmVudCwgZmlyZWQgd2hlbiBzdGF0ZSBoYXMgYmVlbiBsb2FkZWQgZnJvbSBzdG9yZWQgZGF0YSBhbmRcblx0ICogdGhlIHNldHRpbmdzIG9iamVjdCBoYXMgYmVlbiBtb2RpZmllZCBieSB0aGUgbG9hZGVkIGRhdGEuXG5cdCAqICBAbmFtZSBEYXRhVGFibGUjc3RhdGVMb2FkZWQuZHRcblx0ICogIEBldmVudFxuXHQgKiAgQHBhcmFtIHtldmVudH0gZSBqUXVlcnkgZXZlbnQgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gb1NldHRpbmdzIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0ganNvbiBUaGUgc2F2ZWQgc3RhdGUgaW5mb3JtYXRpb25cblx0ICovXG5cblx0LyoqXG5cdCAqIFByb2Nlc3NpbmcgZXZlbnQsIGZpcmVkIHdoZW4gRGF0YVRhYmxlcyBpcyBkb2luZyBzb21lIGtpbmQgb2YgcHJvY2Vzc2luZ1xuXHQgKiAoYmUgaXQsIG9yZGVyLCBzZWFyY2cgb3IgYW55dGhpbmcgZWxzZSkuIEl0IGNhbiBiZSB1c2VkIHRvIGluZGljYXRlIHRvXG5cdCAqIHRoZSBlbmQgdXNlciB0aGF0IHRoZXJlIGlzIHNvbWV0aGluZyBoYXBwZW5pbmcsIG9yIHRoYXQgc29tZXRoaW5nIGhhc1xuXHQgKiBmaW5pc2hlZC5cblx0ICogIEBuYW1lIERhdGFUYWJsZSNwcm9jZXNzaW5nLmR0XG5cdCAqICBAZXZlbnRcblx0ICogIEBwYXJhbSB7ZXZlbnR9IGUgalF1ZXJ5IGV2ZW50IG9iamVjdFxuXHQgKiAgQHBhcmFtIHtvYmplY3R9IG9TZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdFxuXHQgKiAgQHBhcmFtIHtib29sZWFufSBiU2hvdyBGbGFnIGZvciBpZiBEYXRhVGFibGVzIGlzIGRvaW5nIHByb2Nlc3Npbmcgb3Igbm90XG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBBamF4IChYSFIpIGV2ZW50LCBmaXJlZCB3aGVuZXZlciBhbiBBamF4IHJlcXVlc3QgaXMgY29tcGxldGVkIGZyb20gYVxuXHQgKiByZXF1ZXN0IHRvIG1hZGUgdG8gdGhlIHNlcnZlciBmb3IgbmV3IGRhdGEuIFRoaXMgZXZlbnQgaXMgY2FsbGVkIGJlZm9yZVxuXHQgKiBEYXRhVGFibGVzIHByb2Nlc3NlZCB0aGUgcmV0dXJuZWQgZGF0YSwgc28gaXQgY2FuIGFsc28gYmUgdXNlZCB0byBwcmUtXG5cdCAqIHByb2Nlc3MgdGhlIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyLCBpZiBuZWVkZWQuXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCB0aGlzIHRyaWdnZXIgaXMgY2FsbGVkIGluIGBmblNlcnZlckRhdGFgLCBpZiB5b3Ugb3ZlcnJpZGVcblx0ICogYGZuU2VydmVyRGF0YWAgYW5kIHdoaWNoIHRvIHVzZSB0aGlzIGV2ZW50LCB5b3UgbmVlZCB0byB0cmlnZ2VyIGl0IGluIHlvdVxuXHQgKiBzdWNjZXNzIGZ1bmN0aW9uLlxuXHQgKiAgQG5hbWUgRGF0YVRhYmxlI3hoci5kdFxuXHQgKiAgQGV2ZW50XG5cdCAqICBAcGFyYW0ge2V2ZW50fSBlIGpRdWVyeSBldmVudCBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0IHtAbGluayBEYXRhVGFibGUubW9kZWxzLm9TZXR0aW5nc31cblx0ICogIEBwYXJhbSB7b2JqZWN0fSBqc29uIEpTT04gcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyXG5cdCAqXG5cdCAqICBAZXhhbXBsZVxuXHQgKiAgICAgLy8gVXNlIGEgY3VzdG9tIHByb3BlcnR5IHJldHVybmVkIGZyb20gdGhlIHNlcnZlciBpbiBhbm90aGVyIERPTSBlbGVtZW50XG5cdCAqICAgICAkKCcjdGFibGUnKS5kYXRhVGFibGUoKS5vbigneGhyLmR0JywgZnVuY3Rpb24gKGUsIHNldHRpbmdzLCBqc29uKSB7XG5cdCAqICAgICAgICQoJyNzdGF0dXMnKS5odG1sKCBqc29uLnN0YXR1cyApO1xuXHQgKiAgICAgfSApO1xuXHQgKlxuXHQgKiAgQGV4YW1wbGVcblx0ICogICAgIC8vIFByZS1wcm9jZXNzIHRoZSBkYXRhIHJldHVybmVkIGZyb20gdGhlIHNlcnZlclxuXHQgKiAgICAgJCgnI3RhYmxlJykuZGF0YVRhYmxlKCkub24oJ3hoci5kdCcsIGZ1bmN0aW9uIChlLCBzZXR0aW5ncywganNvbikge1xuXHQgKiAgICAgICBmb3IgKCB2YXIgaT0wLCBpZW49anNvbi5hYURhdGEubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7XG5cdCAqICAgICAgICAganNvbi5hYURhdGFbaV0uc3VtID0ganNvbi5hYURhdGFbaV0ub25lICsganNvbi5hYURhdGFbaV0udHdvO1xuXHQgKiAgICAgICB9XG5cdCAqICAgICAgIC8vIE5vdGUgbm8gcmV0dXJuIC0gbWFuaXB1bGF0ZSB0aGUgZGF0YSBkaXJlY3RseSBpbiB0aGUgSlNPTiBvYmplY3QuXG5cdCAqICAgICB9ICk7XG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBEZXN0cm95IGV2ZW50LCBmaXJlZCB3aGVuIHRoZSBEYXRhVGFibGUgaXMgZGVzdHJveWVkIGJ5IGNhbGxpbmcgZm5EZXN0cm95XG5cdCAqIG9yIHBhc3NpbmcgdGhlIGJEZXN0cm95OnRydWUgcGFyYW1ldGVyIGluIHRoZSBpbml0aWFsaXNhdGlvbiBvYmplY3QuIFRoaXNcblx0ICogY2FuIGJlIHVzZWQgdG8gcmVtb3ZlIGJvdW5kIGV2ZW50cywgYWRkZWQgRE9NIG5vZGVzLCBldGMuXG5cdCAqICBAbmFtZSBEYXRhVGFibGUjZGVzdHJveS5kdFxuXHQgKiAgQGV2ZW50XG5cdCAqICBAcGFyYW0ge2V2ZW50fSBlIGpRdWVyeSBldmVudCBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0IHtAbGluayBEYXRhVGFibGUubW9kZWxzLm9TZXR0aW5nc31cblx0ICovXG5cblx0LyoqXG5cdCAqIFBhZ2UgbGVuZ3RoIGNoYW5nZSBldmVudCwgZmlyZWQgd2hlbiBudW1iZXIgb2YgcmVjb3JkcyB0byBzaG93IG9uIGVhY2hcblx0ICogcGFnZSAodGhlIGxlbmd0aCkgaXMgY2hhbmdlZC5cblx0ICogIEBuYW1lIERhdGFUYWJsZSNsZW5ndGguZHRcblx0ICogIEBldmVudFxuXHQgKiAgQHBhcmFtIHtldmVudH0gZSBqUXVlcnkgZXZlbnQgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gbyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdCB7QGxpbmsgRGF0YVRhYmxlLm1vZGVscy5vU2V0dGluZ3N9XG5cdCAqICBAcGFyYW0ge2ludGVnZXJ9IGxlbiBOZXcgbGVuZ3RoXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBDb2x1bW4gc2l6aW5nIGhhcyBjaGFuZ2VkLlxuXHQgKiAgQG5hbWUgRGF0YVRhYmxlI2NvbHVtbi1zaXppbmcuZHRcblx0ICogIEBldmVudFxuXHQgKiAgQHBhcmFtIHtldmVudH0gZSBqUXVlcnkgZXZlbnQgb2JqZWN0XG5cdCAqICBAcGFyYW0ge29iamVjdH0gbyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdCB7QGxpbmsgRGF0YVRhYmxlLm1vZGVscy5vU2V0dGluZ3N9XG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBDb2x1bW4gdmlzaWJpbGl0eSBoYXMgY2hhbmdlZC5cblx0ICogIEBuYW1lIERhdGFUYWJsZSNjb2x1bW4tdmlzaWJpbGl0eS5kdFxuXHQgKiAgQGV2ZW50XG5cdCAqICBAcGFyYW0ge2V2ZW50fSBlIGpRdWVyeSBldmVudCBvYmplY3Rcblx0ICogIEBwYXJhbSB7b2JqZWN0fSBvIERhdGFUYWJsZXMgc2V0dGluZ3Mgb2JqZWN0IHtAbGluayBEYXRhVGFibGUubW9kZWxzLm9TZXR0aW5nc31cblx0ICogIEBwYXJhbSB7aW50fSBjb2x1bW4gQ29sdW1uIGluZGV4XG5cdCAqICBAcGFyYW0ge2Jvb2x9IHZpcyBgZmFsc2VgIGlmIGNvbHVtbiBub3cgaGlkZGVuLCBvciBgdHJ1ZWAgaWYgdmlzaWJsZVxuXHQgKi9cblxuXHRyZXR1cm4gJC5mbi5kYXRhVGFibGU7XG59KSk7XG4iLCIvKiEgRGF0YVRhYmxlcyBCb290c3RyYXAgMyBpbnRlZ3JhdGlvblxuICogwqkyMDExLTIwMTUgU3ByeU1lZGlhIEx0ZCAtIGRhdGF0YWJsZXMubmV0L2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIERhdGFUYWJsZXMgaW50ZWdyYXRpb24gZm9yIEJvb3RzdHJhcCAzLiBUaGlzIHJlcXVpcmVzIEJvb3RzdHJhcCAzIGFuZFxuICogRGF0YVRhYmxlcyAxLjEwIG9yIG5ld2VyLlxuICpcbiAqIFRoaXMgZmlsZSBzZXRzIHRoZSBkZWZhdWx0cyBhbmQgYWRkcyBvcHRpb25zIHRvIERhdGFUYWJsZXMgdG8gc3R5bGUgaXRzXG4gKiBjb250cm9scyB1c2luZyBCb290c3RyYXAuIFNlZSBodHRwOi8vZGF0YXRhYmxlcy5uZXQvbWFudWFsL3N0eWxpbmcvYm9vdHN0cmFwXG4gKiBmb3IgZnVydGhlciBpbmZvcm1hdGlvbi5cbiAqL1xuKGZ1bmN0aW9uKCBmYWN0b3J5ICl7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZSggWydqcXVlcnknLCAnZGF0YXRhYmxlcy5uZXQnXSwgZnVuY3Rpb24gKCAkICkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkoICQsIHdpbmRvdywgZG9jdW1lbnQgKTtcblx0XHR9ICk7XG5cdH1cblx0ZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3QsICQpIHtcblx0XHRcdGlmICggISByb290ICkge1xuXHRcdFx0XHRyb290ID0gd2luZG93O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgJCB8fCAhICQuZm4uZGF0YVRhYmxlICkge1xuXHRcdFx0XHQvLyBSZXF1aXJlIERhdGFUYWJsZXMsIHdoaWNoIGF0dGFjaGVzIHRvIGpRdWVyeSwgaW5jbHVkaW5nXG5cdFx0XHRcdC8vIGpRdWVyeSBpZiBuZWVkZWQgYW5kIGhhdmUgYSAkIHByb3BlcnR5IHNvIHdlIGNhbiBhY2Nlc3MgdGhlXG5cdFx0XHRcdC8vIGpRdWVyeSBvYmplY3QgdGhhdCBpcyB1c2VkXG5cdFx0XHRcdCQgPSByZXF1aXJlKCdkYXRhdGFibGVzLm5ldCcpKHJvb3QsICQpLiQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWN0b3J5KCAkLCByb290LCByb290LmRvY3VtZW50ICk7XG5cdFx0fTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBCcm93c2VyXG5cdFx0ZmFjdG9yeSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7XG5cdH1cbn0oZnVuY3Rpb24oICQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcbid1c2Ugc3RyaWN0JztcbnZhciBEYXRhVGFibGUgPSAkLmZuLmRhdGFUYWJsZTtcblxuXG4vKiBTZXQgdGhlIGRlZmF1bHRzIGZvciBEYXRhVGFibGVzIGluaXRpYWxpc2F0aW9uICovXG4kLmV4dGVuZCggdHJ1ZSwgRGF0YVRhYmxlLmRlZmF1bHRzLCB7XG5cdGRvbTpcblx0XHRcIjwncm93JzwnY29sLXNtLTYnbD48J2NvbC1zbS02J2Y+PlwiICtcblx0XHRcIjwncm93JzwnY29sLXNtLTEyJ3RyPj5cIiArXG5cdFx0XCI8J3Jvdyc8J2NvbC1zbS01J2k+PCdjb2wtc20tNydwPj5cIixcblx0cmVuZGVyZXI6ICdib290c3RyYXAnXG59ICk7XG5cblxuLyogRGVmYXVsdCBjbGFzcyBtb2RpZmljYXRpb24gKi9cbiQuZXh0ZW5kKCBEYXRhVGFibGUuZXh0LmNsYXNzZXMsIHtcblx0c1dyYXBwZXI6ICAgICAgXCJkYXRhVGFibGVzX3dyYXBwZXIgZm9ybS1pbmxpbmUgZHQtYm9vdHN0cmFwXCIsXG5cdHNGaWx0ZXJJbnB1dDogIFwiZm9ybS1jb250cm9sIGlucHV0LXNtXCIsXG5cdHNMZW5ndGhTZWxlY3Q6IFwiZm9ybS1jb250cm9sIGlucHV0LXNtXCIsXG5cdHNQcm9jZXNzaW5nOiAgIFwiZGF0YVRhYmxlc19wcm9jZXNzaW5nIHBhbmVsIHBhbmVsLWRlZmF1bHRcIlxufSApO1xuXG5cbi8qIEJvb3RzdHJhcCBwYWdpbmcgYnV0dG9uIHJlbmRlcmVyICovXG5EYXRhVGFibGUuZXh0LnJlbmRlcmVyLnBhZ2VCdXR0b24uYm9vdHN0cmFwID0gZnVuY3Rpb24gKCBzZXR0aW5ncywgaG9zdCwgaWR4LCBidXR0b25zLCBwYWdlLCBwYWdlcyApIHtcblx0dmFyIGFwaSAgICAgPSBuZXcgRGF0YVRhYmxlLkFwaSggc2V0dGluZ3MgKTtcblx0dmFyIGNsYXNzZXMgPSBzZXR0aW5ncy5vQ2xhc3Nlcztcblx0dmFyIGxhbmcgICAgPSBzZXR0aW5ncy5vTGFuZ3VhZ2Uub1BhZ2luYXRlO1xuXHR2YXIgYXJpYSA9IHNldHRpbmdzLm9MYW5ndWFnZS5vQXJpYS5wYWdpbmF0ZSB8fCB7fTtcblx0dmFyIGJ0bkRpc3BsYXksIGJ0bkNsYXNzLCBjb3VudGVyPTA7XG5cblx0dmFyIGF0dGFjaCA9IGZ1bmN0aW9uKCBjb250YWluZXIsIGJ1dHRvbnMgKSB7XG5cdFx0dmFyIGksIGllbiwgbm9kZSwgYnV0dG9uO1xuXHRcdHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRpZiAoICEkKGUuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgYXBpLnBhZ2UoKSAhPSBlLmRhdGEuYWN0aW9uICkge1xuXHRcdFx0XHRhcGkucGFnZSggZS5kYXRhLmFjdGlvbiApLmRyYXcoICdwYWdlJyApO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRmb3IgKCBpPTAsIGllbj1idXR0b25zLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkge1xuXHRcdFx0YnV0dG9uID0gYnV0dG9uc1tpXTtcblxuXHRcdFx0aWYgKCAkLmlzQXJyYXkoIGJ1dHRvbiApICkge1xuXHRcdFx0XHRhdHRhY2goIGNvbnRhaW5lciwgYnV0dG9uICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0YnRuRGlzcGxheSA9ICcnO1xuXHRcdFx0XHRidG5DbGFzcyA9ICcnO1xuXG5cdFx0XHRcdHN3aXRjaCAoIGJ1dHRvbiApIHtcblx0XHRcdFx0XHRjYXNlICdlbGxpcHNpcyc6XG5cdFx0XHRcdFx0XHRidG5EaXNwbGF5ID0gJyYjeDIwMjY7Jztcblx0XHRcdFx0XHRcdGJ0bkNsYXNzID0gJ2Rpc2FibGVkJztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnZmlyc3QnOlxuXHRcdFx0XHRcdFx0YnRuRGlzcGxheSA9IGxhbmcuc0ZpcnN0O1xuXHRcdFx0XHRcdFx0YnRuQ2xhc3MgPSBidXR0b24gKyAocGFnZSA+IDAgP1xuXHRcdFx0XHRcdFx0XHQnJyA6ICcgZGlzYWJsZWQnKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAncHJldmlvdXMnOlxuXHRcdFx0XHRcdFx0YnRuRGlzcGxheSA9IGxhbmcuc1ByZXZpb3VzO1xuXHRcdFx0XHRcdFx0YnRuQ2xhc3MgPSBidXR0b24gKyAocGFnZSA+IDAgP1xuXHRcdFx0XHRcdFx0XHQnJyA6ICcgZGlzYWJsZWQnKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnbmV4dCc6XG5cdFx0XHRcdFx0XHRidG5EaXNwbGF5ID0gbGFuZy5zTmV4dDtcblx0XHRcdFx0XHRcdGJ0bkNsYXNzID0gYnV0dG9uICsgKHBhZ2UgPCBwYWdlcy0xID9cblx0XHRcdFx0XHRcdFx0JycgOiAnIGRpc2FibGVkJyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ2xhc3QnOlxuXHRcdFx0XHRcdFx0YnRuRGlzcGxheSA9IGxhbmcuc0xhc3Q7XG5cdFx0XHRcdFx0XHRidG5DbGFzcyA9IGJ1dHRvbiArIChwYWdlIDwgcGFnZXMtMSA/XG5cdFx0XHRcdFx0XHRcdCcnIDogJyBkaXNhYmxlZCcpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YnRuRGlzcGxheSA9IGJ1dHRvbiArIDE7XG5cdFx0XHRcdFx0XHRidG5DbGFzcyA9IHBhZ2UgPT09IGJ1dHRvbiA/XG5cdFx0XHRcdFx0XHRcdCdhY3RpdmUnIDogJyc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggYnRuRGlzcGxheSApIHtcblx0XHRcdFx0XHRub2RlID0gJCgnPGxpPicsIHtcblx0XHRcdFx0XHRcdFx0J2NsYXNzJzogY2xhc3Nlcy5zUGFnZUJ1dHRvbisnICcrYnRuQ2xhc3MsXG5cdFx0XHRcdFx0XHRcdCdpZCc6IGlkeCA9PT0gMCAmJiB0eXBlb2YgYnV0dG9uID09PSAnc3RyaW5nJyA/XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc1RhYmxlSWQgKydfJysgYnV0dG9uIDpcblx0XHRcdFx0XHRcdFx0XHRudWxsXG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHRcdC5hcHBlbmQoICQoJzxhPicsIHtcblx0XHRcdFx0XHRcdFx0XHQnaHJlZic6ICcjJyxcblx0XHRcdFx0XHRcdFx0XHQnYXJpYS1jb250cm9scyc6IHNldHRpbmdzLnNUYWJsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdCdhcmlhLWxhYmVsJzogYXJpYVsgYnV0dG9uIF0sXG5cdFx0XHRcdFx0XHRcdFx0J2RhdGEtZHQtaWR4JzogY291bnRlcixcblx0XHRcdFx0XHRcdFx0XHQndGFiaW5kZXgnOiBzZXR0aW5ncy5pVGFiSW5kZXhcblx0XHRcdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0XHRcdC5odG1sKCBidG5EaXNwbGF5IClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdC5hcHBlbmRUbyggY29udGFpbmVyICk7XG5cblx0XHRcdFx0XHRzZXR0aW5ncy5vQXBpLl9mbkJpbmRBY3Rpb24oXG5cdFx0XHRcdFx0XHRub2RlLCB7YWN0aW9uOiBidXR0b259LCBjbGlja0hhbmRsZXJcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIElFOSB0aHJvd3MgYW4gJ3Vua25vd24gZXJyb3InIGlmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaXMgdXNlZFxuXHQvLyBpbnNpZGUgYW4gaWZyYW1lIG9yIGZyYW1lLiBcblx0dmFyIGFjdGl2ZUVsO1xuXG5cdHRyeSB7XG5cdFx0Ly8gQmVjYXVzZSB0aGlzIGFwcHJvYWNoIGlzIGRlc3Ryb3lpbmcgYW5kIHJlY3JlYXRpbmcgdGhlIHBhZ2luZ1xuXHRcdC8vIGVsZW1lbnRzLCBmb2N1cyBpcyBsb3N0IG9uIHRoZSBzZWxlY3QgYnV0dG9uIHdoaWNoIGlzIGJhZCBmb3Jcblx0XHQvLyBhY2Nlc3NpYmlsaXR5LiBTbyB3ZSB3YW50IHRvIHJlc3RvcmUgZm9jdXMgb25jZSB0aGUgZHJhdyBoYXNcblx0XHQvLyBjb21wbGV0ZWRcblx0XHRhY3RpdmVFbCA9ICQoaG9zdCkuZmluZChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5kYXRhKCdkdC1pZHgnKTtcblx0fVxuXHRjYXRjaCAoZSkge31cblxuXHRhdHRhY2goXG5cdFx0JChob3N0KS5lbXB0eSgpLmh0bWwoJzx1bCBjbGFzcz1cInBhZ2luYXRpb25cIi8+JykuY2hpbGRyZW4oJ3VsJyksXG5cdFx0YnV0dG9uc1xuXHQpO1xuXG5cdGlmICggYWN0aXZlRWwgKSB7XG5cdFx0JChob3N0KS5maW5kKCAnW2RhdGEtZHQtaWR4PScrYWN0aXZlRWwrJ10nICkuZm9jdXMoKTtcblx0fVxufTtcblxuXG5yZXR1cm4gRGF0YVRhYmxlO1xufSkpOyIsIi8vIElvbi5SYW5nZVNsaWRlciB8IHZlcnNpb24gMi4xLjQgfCBodHRwczovL2dpdGh1Yi5jb20vSW9uRGVuL2lvbi5yYW5nZVNsaWRlclxuOyhmdW5jdGlvbihnKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZnVuY3Rpb24ocSl7ZyhxLGRvY3VtZW50LHdpbmRvdyxuYXZpZ2F0b3IpfSk6ZyhqUXVlcnksZG9jdW1lbnQsd2luZG93LG5hdmlnYXRvcil9KShmdW5jdGlvbihnLHEsaCx0LHYpe3ZhciB1PTAscD1mdW5jdGlvbigpe3ZhciBhPXQudXNlckFnZW50LGI9L21zaWVcXHNcXGQrL2k7cmV0dXJuIDA8YS5zZWFyY2goYikmJihhPWIuZXhlYyhhKS50b1N0cmluZygpLGE9YS5zcGxpdChcIiBcIilbMV0sOT5hKT8oZyhcImh0bWxcIikuYWRkQ2xhc3MoXCJsdC1pZTlcIiksITApOiExfSgpO0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxkPVtdLnNsaWNlO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgYz1kLmNhbGwoYXJndW1lbnRzLDEpLGU9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2ZcbmUpe3ZhciBmPWZ1bmN0aW9uKCl7fTtmLnByb3RvdHlwZT1iLnByb3RvdHlwZTt2YXIgZj1uZXcgZixsPWIuYXBwbHkoZixjLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QobCk9PT1sP2w6Zn1yZXR1cm4gYi5hcHBseShhLGMuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBlfSk7QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihhLGIpe3ZhciBkO2lmKG51bGw9PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO3ZhciBjPU9iamVjdCh0aGlzKSxlPWMubGVuZ3RoPj4+MDtpZigwPT09ZSlyZXR1cm4tMTtkPStifHwwO0luZmluaXR5PT09TWF0aC5hYnMoZCkmJihkPTApO2lmKGQ+PWUpcmV0dXJuLTE7Zm9yKGQ9TWF0aC5tYXgoMDw9ZD9kOmUtTWF0aC5hYnMoZCksMCk7ZDxlOyl7aWYoZCBpbiBjJiZjW2RdPT09YSlyZXR1cm4gZDtkKyt9cmV0dXJuLTF9KTtcbnZhciByPWZ1bmN0aW9uKGEsYixkKXt0aGlzLlZFUlNJT049XCIyLjEuNFwiO3RoaXMuaW5wdXQ9YTt0aGlzLnBsdWdpbl9jb3VudD1kO3RoaXMub2xkX3RvPXRoaXMub2xkX2Zyb209dGhpcy51cGRhdGVfdG09dGhpcy5jYWxjX2NvdW50PXRoaXMuY3VycmVudF9wbHVnaW49MDt0aGlzLnJhZl9pZD10aGlzLm9sZF9taW5faW50ZXJ2YWw9bnVsbDt0aGlzLmlzX3VwZGF0ZT10aGlzLmlzX2tleT10aGlzLm5vX2RpYXBhc29uPXRoaXMuZm9yY2VfcmVkcmF3PXRoaXMuZHJhZ2dpbmc9ITE7dGhpcy5pc19zdGFydD0hMDt0aGlzLmlzX2NsaWNrPXRoaXMuaXNfcmVzaXplPXRoaXMuaXNfYWN0aXZlPXRoaXMuaXNfZmluaXNoPSExO3RoaXMuJGNhY2hlPXt3aW46ZyhoKSxib2R5OmcocS5ib2R5KSxpbnB1dDpnKGEpLGNvbnQ6bnVsbCxyczpudWxsLG1pbjpudWxsLG1heDpudWxsLGZyb206bnVsbCx0bzpudWxsLHNpbmdsZTpudWxsLGJhcjpudWxsLGxpbmU6bnVsbCxzX3NpbmdsZTpudWxsLHNfZnJvbTpudWxsLFxuc190bzpudWxsLHNoYWRfc2luZ2xlOm51bGwsc2hhZF9mcm9tOm51bGwsc2hhZF90bzpudWxsLGVkZ2U6bnVsbCxncmlkOm51bGwsZ3JpZF9sYWJlbHM6W119O3RoaXMuY29vcmRzPXt4X2dhcDowLHhfcG9pbnRlcjowLHdfcnM6MCx3X3JzX29sZDowLHdfaGFuZGxlOjAscF9nYXA6MCxwX2dhcF9sZWZ0OjAscF9nYXBfcmlnaHQ6MCxwX3N0ZXA6MCxwX3BvaW50ZXI6MCxwX2hhbmRsZTowLHBfc2luZ2xlX2Zha2U6MCxwX3NpbmdsZV9yZWFsOjAscF9mcm9tX2Zha2U6MCxwX2Zyb21fcmVhbDowLHBfdG9fZmFrZTowLHBfdG9fcmVhbDowLHBfYmFyX3g6MCxwX2Jhcl93OjAsZ3JpZF9nYXA6MCxiaWdfbnVtOjAsYmlnOltdLGJpZ193OltdLGJpZ19wOltdLGJpZ194OltdfTt0aGlzLmxhYmVscz17d19taW46MCx3X21heDowLHdfZnJvbTowLHdfdG86MCx3X3NpbmdsZTowLHBfbWluOjAscF9tYXg6MCxwX2Zyb21fZmFrZTowLHBfZnJvbV9sZWZ0OjAscF90b19mYWtlOjAscF90b19sZWZ0OjAsXG5wX3NpbmdsZV9mYWtlOjAscF9zaW5nbGVfbGVmdDowfTt2YXIgYz10aGlzLiRjYWNoZS5pbnB1dDthPWMucHJvcChcInZhbHVlXCIpO3ZhciBlO2Q9e3R5cGU6XCJzaW5nbGVcIixtaW46MTAsbWF4OjEwMCxmcm9tOm51bGwsdG86bnVsbCxzdGVwOjEsbWluX2ludGVydmFsOjAsbWF4X2ludGVydmFsOjAsZHJhZ19pbnRlcnZhbDohMSx2YWx1ZXM6W10scF92YWx1ZXM6W10sZnJvbV9maXhlZDohMSxmcm9tX21pbjpudWxsLGZyb21fbWF4Om51bGwsZnJvbV9zaGFkb3c6ITEsdG9fZml4ZWQ6ITEsdG9fbWluOm51bGwsdG9fbWF4Om51bGwsdG9fc2hhZG93OiExLHByZXR0aWZ5X2VuYWJsZWQ6ITAscHJldHRpZnlfc2VwYXJhdG9yOlwiIFwiLHByZXR0aWZ5Om51bGwsZm9yY2VfZWRnZXM6ITEsa2V5Ym9hcmQ6ITEsa2V5Ym9hcmRfc3RlcDo1LGdyaWQ6ITEsZ3JpZF9tYXJnaW46ITAsZ3JpZF9udW06NCxncmlkX3NuYXA6ITEsaGlkZV9taW5fbWF4OiExLGhpZGVfZnJvbV90bzohMSxwcmVmaXg6XCJcIixcbnBvc3RmaXg6XCJcIixtYXhfcG9zdGZpeDpcIlwiLGRlY29yYXRlX2JvdGg6ITAsdmFsdWVzX3NlcGFyYXRvcjpcIiBcXHUyMDE0IFwiLGlucHV0X3ZhbHVlc19zZXBhcmF0b3I6XCI7XCIsZGlzYWJsZTohMSxvblN0YXJ0Om51bGwsb25DaGFuZ2U6bnVsbCxvbkZpbmlzaDpudWxsLG9uVXBkYXRlOm51bGx9O2M9e3R5cGU6Yy5kYXRhKFwidHlwZVwiKSxtaW46Yy5kYXRhKFwibWluXCIpLG1heDpjLmRhdGEoXCJtYXhcIiksZnJvbTpjLmRhdGEoXCJmcm9tXCIpLHRvOmMuZGF0YShcInRvXCIpLHN0ZXA6Yy5kYXRhKFwic3RlcFwiKSxtaW5faW50ZXJ2YWw6Yy5kYXRhKFwibWluSW50ZXJ2YWxcIiksbWF4X2ludGVydmFsOmMuZGF0YShcIm1heEludGVydmFsXCIpLGRyYWdfaW50ZXJ2YWw6Yy5kYXRhKFwiZHJhZ0ludGVydmFsXCIpLHZhbHVlczpjLmRhdGEoXCJ2YWx1ZXNcIiksZnJvbV9maXhlZDpjLmRhdGEoXCJmcm9tRml4ZWRcIiksZnJvbV9taW46Yy5kYXRhKFwiZnJvbU1pblwiKSxmcm9tX21heDpjLmRhdGEoXCJmcm9tTWF4XCIpLGZyb21fc2hhZG93OmMuZGF0YShcImZyb21TaGFkb3dcIiksXG50b19maXhlZDpjLmRhdGEoXCJ0b0ZpeGVkXCIpLHRvX21pbjpjLmRhdGEoXCJ0b01pblwiKSx0b19tYXg6Yy5kYXRhKFwidG9NYXhcIiksdG9fc2hhZG93OmMuZGF0YShcInRvU2hhZG93XCIpLHByZXR0aWZ5X2VuYWJsZWQ6Yy5kYXRhKFwicHJldHRpZnlFbmFibGVkXCIpLHByZXR0aWZ5X3NlcGFyYXRvcjpjLmRhdGEoXCJwcmV0dGlmeVNlcGFyYXRvclwiKSxmb3JjZV9lZGdlczpjLmRhdGEoXCJmb3JjZUVkZ2VzXCIpLGtleWJvYXJkOmMuZGF0YShcImtleWJvYXJkXCIpLGtleWJvYXJkX3N0ZXA6Yy5kYXRhKFwia2V5Ym9hcmRTdGVwXCIpLGdyaWQ6Yy5kYXRhKFwiZ3JpZFwiKSxncmlkX21hcmdpbjpjLmRhdGEoXCJncmlkTWFyZ2luXCIpLGdyaWRfbnVtOmMuZGF0YShcImdyaWROdW1cIiksZ3JpZF9zbmFwOmMuZGF0YShcImdyaWRTbmFwXCIpLGhpZGVfbWluX21heDpjLmRhdGEoXCJoaWRlTWluTWF4XCIpLGhpZGVfZnJvbV90bzpjLmRhdGEoXCJoaWRlRnJvbVRvXCIpLHByZWZpeDpjLmRhdGEoXCJwcmVmaXhcIikscG9zdGZpeDpjLmRhdGEoXCJwb3N0Zml4XCIpLFxubWF4X3Bvc3RmaXg6Yy5kYXRhKFwibWF4UG9zdGZpeFwiKSxkZWNvcmF0ZV9ib3RoOmMuZGF0YShcImRlY29yYXRlQm90aFwiKSx2YWx1ZXNfc2VwYXJhdG9yOmMuZGF0YShcInZhbHVlc1NlcGFyYXRvclwiKSxpbnB1dF92YWx1ZXNfc2VwYXJhdG9yOmMuZGF0YShcImlucHV0VmFsdWVzU2VwYXJhdG9yXCIpLGRpc2FibGU6Yy5kYXRhKFwiZGlzYWJsZVwiKX07Yy52YWx1ZXM9Yy52YWx1ZXMmJmMudmFsdWVzLnNwbGl0KFwiLFwiKTtmb3IoZSBpbiBjKWMuaGFzT3duUHJvcGVydHkoZSkmJihjW2VdfHwwPT09Y1tlXXx8ZGVsZXRlIGNbZV0pO2EmJihhPWEuc3BsaXQoYy5pbnB1dF92YWx1ZXNfc2VwYXJhdG9yfHxiLmlucHV0X3ZhbHVlc19zZXBhcmF0b3J8fFwiO1wiKSxhWzBdJiZhWzBdPT0rYVswXSYmKGFbMF09K2FbMF0pLGFbMV0mJmFbMV09PSthWzFdJiYoYVsxXT0rYVsxXSksYiYmYi52YWx1ZXMmJmIudmFsdWVzLmxlbmd0aD8oZC5mcm9tPWFbMF0mJmIudmFsdWVzLmluZGV4T2YoYVswXSksZC50bz1cbmFbMV0mJmIudmFsdWVzLmluZGV4T2YoYVsxXSkpOihkLmZyb209YVswXSYmK2FbMF0sZC50bz1hWzFdJiYrYVsxXSkpO2cuZXh0ZW5kKGQsYik7Zy5leHRlbmQoZCxjKTt0aGlzLm9wdGlvbnM9ZDt0aGlzLnZhbGlkYXRlKCk7dGhpcy5yZXN1bHQ9e2lucHV0OnRoaXMuJGNhY2hlLmlucHV0LHNsaWRlcjpudWxsLG1pbjp0aGlzLm9wdGlvbnMubWluLG1heDp0aGlzLm9wdGlvbnMubWF4LGZyb206dGhpcy5vcHRpb25zLmZyb20sZnJvbV9wZXJjZW50OjAsZnJvbV92YWx1ZTpudWxsLHRvOnRoaXMub3B0aW9ucy50byx0b19wZXJjZW50OjAsdG9fdmFsdWU6bnVsbH07dGhpcy5pbml0KCl9O3IucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGEpe3RoaXMubm9fZGlhcGFzb249ITE7dGhpcy5jb29yZHMucF9zdGVwPXRoaXMuY29udmVydFRvUGVyY2VudCh0aGlzLm9wdGlvbnMuc3RlcCwhMCk7dGhpcy50YXJnZXQ9XCJiYXNlXCI7dGhpcy50b2dnbGVJbnB1dCgpO3RoaXMuYXBwZW5kKCk7dGhpcy5zZXRNaW5NYXgoKTtcbmE/KHRoaXMuZm9yY2VfcmVkcmF3PSEwLHRoaXMuY2FsYyghMCksdGhpcy5jYWxsT25VcGRhdGUoKSk6KHRoaXMuZm9yY2VfcmVkcmF3PSEwLHRoaXMuY2FsYyghMCksdGhpcy5jYWxsT25TdGFydCgpKTt0aGlzLnVwZGF0ZVNjZW5lKCl9LGFwcGVuZDpmdW5jdGlvbigpe3RoaXMuJGNhY2hlLmlucHV0LmJlZm9yZSgnPHNwYW4gY2xhc3M9XCJpcnMganMtaXJzLScrdGhpcy5wbHVnaW5fY291bnQrJ1wiPjwvc3Bhbj4nKTt0aGlzLiRjYWNoZS5pbnB1dC5wcm9wKFwicmVhZG9ubHlcIiwhMCk7dGhpcy4kY2FjaGUuY29udD10aGlzLiRjYWNoZS5pbnB1dC5wcmV2KCk7dGhpcy5yZXN1bHQuc2xpZGVyPXRoaXMuJGNhY2hlLmNvbnQ7dGhpcy4kY2FjaGUuY29udC5odG1sKCc8c3BhbiBjbGFzcz1cImlyc1wiPjxzcGFuIGNsYXNzPVwiaXJzLWxpbmVcIiB0YWJpbmRleD1cIi0xXCI+PHNwYW4gY2xhc3M9XCJpcnMtbGluZS1sZWZ0XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLWxpbmUtbWlkXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLWxpbmUtcmlnaHRcIj48L3NwYW4+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLW1pblwiPjA8L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtbWF4XCI+MTwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy1mcm9tXCI+MDwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy10b1wiPjA8L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtc2luZ2xlXCI+MDwvc3Bhbj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtZ3JpZFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy1iYXJcIj48L3NwYW4+Jyk7XG50aGlzLiRjYWNoZS5ycz10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuaXJzXCIpO3RoaXMuJGNhY2hlLm1pbj10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuaXJzLW1pblwiKTt0aGlzLiRjYWNoZS5tYXg9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1tYXhcIik7dGhpcy4kY2FjaGUuZnJvbT10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuaXJzLWZyb21cIik7dGhpcy4kY2FjaGUudG89dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy10b1wiKTt0aGlzLiRjYWNoZS5zaW5nbGU9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1zaW5nbGVcIik7dGhpcy4kY2FjaGUuYmFyPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5pcnMtYmFyXCIpO3RoaXMuJGNhY2hlLmxpbmU9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1saW5lXCIpO3RoaXMuJGNhY2hlLmdyaWQ9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1ncmlkXCIpO1wic2luZ2xlXCI9PT10aGlzLm9wdGlvbnMudHlwZT8odGhpcy4kY2FjaGUuY29udC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiaXJzLWJhci1lZGdlXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLXNoYWRvdyBzaGFkb3ctc2luZ2xlXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLXNsaWRlciBzaW5nbGVcIj48L3NwYW4+JyksXG50aGlzLiRjYWNoZS5lZGdlPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5pcnMtYmFyLWVkZ2VcIiksdGhpcy4kY2FjaGUuc19zaW5nbGU9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLnNpbmdsZVwiKSx0aGlzLiRjYWNoZS5mcm9tWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLiRjYWNoZS50b1swXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy4kY2FjaGUuc2hhZF9zaW5nbGU9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLnNoYWRvdy1zaW5nbGVcIikpOih0aGlzLiRjYWNoZS5jb250LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJpcnMtc2hhZG93IHNoYWRvdy1mcm9tXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLXNoYWRvdyBzaGFkb3ctdG9cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtc2xpZGVyIGZyb21cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtc2xpZGVyIHRvXCI+PC9zcGFuPicpLHRoaXMuJGNhY2hlLnNfZnJvbT10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuZnJvbVwiKSxcbnRoaXMuJGNhY2hlLnNfdG89dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLnRvXCIpLHRoaXMuJGNhY2hlLnNoYWRfZnJvbT10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuc2hhZG93LWZyb21cIiksdGhpcy4kY2FjaGUuc2hhZF90bz10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuc2hhZG93LXRvXCIpLHRoaXMuc2V0VG9wSGFuZGxlcigpKTt0aGlzLm9wdGlvbnMuaGlkZV9mcm9tX3RvJiYodGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuJGNhY2hlLnRvWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy4kY2FjaGUuc2luZ2xlWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpO3RoaXMuYXBwZW5kR3JpZCgpO3RoaXMub3B0aW9ucy5kaXNhYmxlPyh0aGlzLmFwcGVuZERpc2FibGVNYXNrKCksdGhpcy4kY2FjaGUuaW5wdXRbMF0uZGlzYWJsZWQ9ITApOih0aGlzLiRjYWNoZS5jb250LnJlbW92ZUNsYXNzKFwiaXJzLWRpc2FibGVkXCIpLHRoaXMuJGNhY2hlLmlucHV0WzBdLmRpc2FibGVkPVxuITEsdGhpcy5iaW5kRXZlbnRzKCkpO3RoaXMub3B0aW9ucy5kcmFnX2ludGVydmFsJiYodGhpcy4kY2FjaGUuYmFyWzBdLnN0eWxlLmN1cnNvcj1cImV3LXJlc2l6ZVwiKX0sc2V0VG9wSGFuZGxlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5tYXgsYj10aGlzLm9wdGlvbnMudG87dGhpcy5vcHRpb25zLmZyb20+dGhpcy5vcHRpb25zLm1pbiYmYj09PWE/dGhpcy4kY2FjaGUuc19mcm9tLmFkZENsYXNzKFwidHlwZV9sYXN0XCIpOmI8YSYmdGhpcy4kY2FjaGUuc190by5hZGRDbGFzcyhcInR5cGVfbGFzdFwiKX0sY2hhbmdlTGV2ZWw6ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJzaW5nbGVcIjp0aGlzLmNvb3Jkcy5wX2dhcD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9wb2ludGVyLXRoaXMuY29vcmRzLnBfc2luZ2xlX2Zha2UpO2JyZWFrO2Nhc2UgXCJmcm9tXCI6dGhpcy5jb29yZHMucF9nYXA9dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLnBfcG9pbnRlci10aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZSk7XG50aGlzLiRjYWNoZS5zX2Zyb20uYWRkQ2xhc3MoXCJzdGF0ZV9ob3ZlclwiKTt0aGlzLiRjYWNoZS5zX2Zyb20uYWRkQ2xhc3MoXCJ0eXBlX2xhc3RcIik7dGhpcy4kY2FjaGUuc190by5yZW1vdmVDbGFzcyhcInR5cGVfbGFzdFwiKTticmVhaztjYXNlIFwidG9cIjp0aGlzLmNvb3Jkcy5wX2dhcD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9wb2ludGVyLXRoaXMuY29vcmRzLnBfdG9fZmFrZSk7dGhpcy4kY2FjaGUuc190by5hZGRDbGFzcyhcInN0YXRlX2hvdmVyXCIpO3RoaXMuJGNhY2hlLnNfdG8uYWRkQ2xhc3MoXCJ0eXBlX2xhc3RcIik7dGhpcy4kY2FjaGUuc19mcm9tLnJlbW92ZUNsYXNzKFwidHlwZV9sYXN0XCIpO2JyZWFrO2Nhc2UgXCJib3RoXCI6dGhpcy5jb29yZHMucF9nYXBfbGVmdD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9wb2ludGVyLXRoaXMuY29vcmRzLnBfZnJvbV9mYWtlKSx0aGlzLmNvb3Jkcy5wX2dhcF9yaWdodD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF90b19mYWtlLVxudGhpcy5jb29yZHMucF9wb2ludGVyKSx0aGlzLiRjYWNoZS5zX3RvLnJlbW92ZUNsYXNzKFwidHlwZV9sYXN0XCIpLHRoaXMuJGNhY2hlLnNfZnJvbS5yZW1vdmVDbGFzcyhcInR5cGVfbGFzdFwiKX19LGFwcGVuZERpc2FibGVNYXNrOmZ1bmN0aW9uKCl7dGhpcy4kY2FjaGUuY29udC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiaXJzLWRpc2FibGUtbWFza1wiPjwvc3Bhbj4nKTt0aGlzLiRjYWNoZS5jb250LmFkZENsYXNzKFwiaXJzLWRpc2FibGVkXCIpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLiRjYWNoZS5jb250LnJlbW92ZSgpO3RoaXMuJGNhY2hlLmNvbnQ9bnVsbDt0aGlzLiRjYWNoZS5saW5lLm9mZihcImtleWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50KTt0aGlzLiRjYWNoZS5ib2R5Lm9mZihcInRvdWNobW92ZS5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQpO3RoaXMuJGNhY2hlLmJvZHkub2ZmKFwibW91c2Vtb3ZlLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCk7dGhpcy4kY2FjaGUud2luLm9mZihcInRvdWNoZW5kLmlyc19cIitcbnRoaXMucGx1Z2luX2NvdW50KTt0aGlzLiRjYWNoZS53aW4ub2ZmKFwibW91c2V1cC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQpO3AmJih0aGlzLiRjYWNoZS5ib2R5Lm9mZihcIm1vdXNldXAuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50KSx0aGlzLiRjYWNoZS5ib2R5Lm9mZihcIm1vdXNlbGVhdmUuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50KSk7dGhpcy4kY2FjaGUuZ3JpZF9sYWJlbHM9W107dGhpcy5jb29yZHMuYmlnPVtdO3RoaXMuY29vcmRzLmJpZ193PVtdO3RoaXMuY29vcmRzLmJpZ19wPVtdO3RoaXMuY29vcmRzLmJpZ194PVtdO2NhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmX2lkKX0sYmluZEV2ZW50czpmdW5jdGlvbigpe2lmKCF0aGlzLm5vX2RpYXBhc29uKXt0aGlzLiRjYWNoZS5ib2R5Lm9uKFwidG91Y2htb3ZlLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJNb3ZlLmJpbmQodGhpcykpO3RoaXMuJGNhY2hlLmJvZHkub24oXCJtb3VzZW1vdmUuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LFxudGhpcy5wb2ludGVyTW92ZS5iaW5kKHRoaXMpKTt0aGlzLiRjYWNoZS53aW4ub24oXCJ0b3VjaGVuZC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSk7dGhpcy4kY2FjaGUud2luLm9uKFwibW91c2V1cC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSk7dGhpcy4kY2FjaGUubGluZS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKTt0aGlzLiRjYWNoZS5saW5lLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJDbGljay5iaW5kKHRoaXMsXCJjbGlja1wiKSk7dGhpcy5vcHRpb25zLmRyYWdfaW50ZXJ2YWwmJlwiZG91YmxlXCI9PT10aGlzLm9wdGlvbnMudHlwZT8odGhpcy4kY2FjaGUuYmFyLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXG5cImJvdGhcIikpLHRoaXMuJGNhY2hlLmJhci5vbihcIm1vdXNlZG93bi5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXCJib3RoXCIpKSk6KHRoaXMuJGNhY2hlLmJhci5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5iYXIub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSk7XCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlPyh0aGlzLiRjYWNoZS5zaW5nbGUub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInNpbmdsZVwiKSksdGhpcy4kY2FjaGUuc19zaW5nbGUub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInNpbmdsZVwiKSksXG50aGlzLiRjYWNoZS5zaGFkX3NpbmdsZS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5zaW5nbGUub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwic2luZ2xlXCIpKSx0aGlzLiRjYWNoZS5zX3NpbmdsZS5vbihcIm1vdXNlZG93bi5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXCJzaW5nbGVcIikpLHRoaXMuJGNhY2hlLmVkZ2Uub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5zaGFkX3NpbmdsZS5vbihcIm1vdXNlZG93bi5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyQ2xpY2suYmluZCh0aGlzLFwiY2xpY2tcIikpKToodGhpcy4kY2FjaGUuc2luZ2xlLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrXG50aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxudWxsKSksdGhpcy4kY2FjaGUuc2luZ2xlLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxudWxsKSksdGhpcy4kY2FjaGUuZnJvbS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwiZnJvbVwiKSksdGhpcy4kY2FjaGUuc19mcm9tLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXCJmcm9tXCIpKSx0aGlzLiRjYWNoZS50by5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwidG9cIikpLHRoaXMuJGNhY2hlLnNfdG8ub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInRvXCIpKSxcbnRoaXMuJGNhY2hlLnNoYWRfZnJvbS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5zaGFkX3RvLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyQ2xpY2suYmluZCh0aGlzLFwiY2xpY2tcIikpLHRoaXMuJGNhY2hlLmZyb20ub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwiZnJvbVwiKSksdGhpcy4kY2FjaGUuc19mcm9tLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcImZyb21cIikpLHRoaXMuJGNhY2hlLnRvLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInRvXCIpKSx0aGlzLiRjYWNoZS5zX3RvLm9uKFwibW91c2Vkb3duLmlyc19cIitcbnRoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwidG9cIikpLHRoaXMuJGNhY2hlLnNoYWRfZnJvbS5vbihcIm1vdXNlZG93bi5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyQ2xpY2suYmluZCh0aGlzLFwiY2xpY2tcIikpLHRoaXMuJGNhY2hlLnNoYWRfdG8ub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSk7aWYodGhpcy5vcHRpb25zLmtleWJvYXJkKXRoaXMuJGNhY2hlLmxpbmUub24oXCJrZXlkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLmtleS5iaW5kKHRoaXMsXCJrZXlib2FyZFwiKSk7cCYmKHRoaXMuJGNhY2hlLmJvZHkub24oXCJtb3VzZXVwLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJVcC5iaW5kKHRoaXMpKSx0aGlzLiRjYWNoZS5ib2R5Lm9uKFwibW91c2VsZWF2ZS5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSkpfX0sXG5wb2ludGVyTW92ZTpmdW5jdGlvbihhKXt0aGlzLmRyYWdnaW5nJiYodGhpcy5jb29yZHMueF9wb2ludGVyPShhLnBhZ2VYfHxhLm9yaWdpbmFsRXZlbnQudG91Y2hlcyYmYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVgpLXRoaXMuY29vcmRzLnhfZ2FwLHRoaXMuY2FsYygpKX0scG9pbnRlclVwOmZ1bmN0aW9uKGEpe2lmKHRoaXMuY3VycmVudF9wbHVnaW49PT10aGlzLnBsdWdpbl9jb3VudCYmdGhpcy5pc19hY3RpdmUpe3RoaXMuaXNfYWN0aXZlPSExO3RoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5zdGF0ZV9ob3ZlclwiKS5yZW1vdmVDbGFzcyhcInN0YXRlX2hvdmVyXCIpO3RoaXMuZm9yY2VfcmVkcmF3PSEwO3AmJmcoXCIqXCIpLnByb3AoXCJ1bnNlbGVjdGFibGVcIiwhMSk7dGhpcy51cGRhdGVTY2VuZSgpO3RoaXMucmVzdG9yZU9yaWdpbmFsTWluSW50ZXJ2YWwoKTtpZihnLmNvbnRhaW5zKHRoaXMuJGNhY2hlLmNvbnRbMF0sYS50YXJnZXQpfHx0aGlzLmRyYWdnaW5nKXRoaXMuaXNfZmluaXNoPVxuITAsdGhpcy5jYWxsT25GaW5pc2goKTt0aGlzLmRyYWdnaW5nPSExfX0scG9pbnRlckRvd246ZnVuY3Rpb24oYSxiKXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGQ9Yi5wYWdlWHx8Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXMmJmIub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYOzIhPT1iLmJ1dHRvbiYmKFwiYm90aFwiPT09YSYmdGhpcy5zZXRUZW1wTWluSW50ZXJ2YWwoKSxhfHwoYT10aGlzLnRhcmdldCksdGhpcy5jdXJyZW50X3BsdWdpbj10aGlzLnBsdWdpbl9jb3VudCx0aGlzLnRhcmdldD1hLHRoaXMuZHJhZ2dpbmc9dGhpcy5pc19hY3RpdmU9ITAsdGhpcy5jb29yZHMueF9nYXA9dGhpcy4kY2FjaGUucnMub2Zmc2V0KCkubGVmdCx0aGlzLmNvb3Jkcy54X3BvaW50ZXI9ZC10aGlzLmNvb3Jkcy54X2dhcCx0aGlzLmNhbGNQb2ludGVyUGVyY2VudCgpLHRoaXMuY2hhbmdlTGV2ZWwoYSkscCYmZyhcIipcIikucHJvcChcInVuc2VsZWN0YWJsZVwiLCEwKSx0aGlzLiRjYWNoZS5saW5lLnRyaWdnZXIoXCJmb2N1c1wiKSxcbnRoaXMudXBkYXRlU2NlbmUoKSl9LHBvaW50ZXJDbGljazpmdW5jdGlvbihhLGIpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1iLnBhZ2VYfHxiLm9yaWdpbmFsRXZlbnQudG91Y2hlcyYmYi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7MiE9PWIuYnV0dG9uJiYodGhpcy5jdXJyZW50X3BsdWdpbj10aGlzLnBsdWdpbl9jb3VudCx0aGlzLnRhcmdldD1hLHRoaXMuaXNfY2xpY2s9ITAsdGhpcy5jb29yZHMueF9nYXA9dGhpcy4kY2FjaGUucnMub2Zmc2V0KCkubGVmdCx0aGlzLmNvb3Jkcy54X3BvaW50ZXI9KyhkLXRoaXMuY29vcmRzLnhfZ2FwKS50b0ZpeGVkKCksdGhpcy5mb3JjZV9yZWRyYXc9ITAsdGhpcy5jYWxjKCksdGhpcy4kY2FjaGUubGluZS50cmlnZ2VyKFwiZm9jdXNcIikpfSxrZXk6ZnVuY3Rpb24oYSxiKXtpZighKHRoaXMuY3VycmVudF9wbHVnaW4hPT10aGlzLnBsdWdpbl9jb3VudHx8Yi5hbHRLZXl8fGIuY3RybEtleXx8Yi5zaGlmdEtleXx8Yi5tZXRhS2V5KSl7c3dpdGNoKGIud2hpY2gpe2Nhc2UgODM6Y2FzZSA2NTpjYXNlIDQwOmNhc2UgMzc6Yi5wcmV2ZW50RGVmYXVsdCgpO1xudGhpcy5tb3ZlQnlLZXkoITEpO2JyZWFrO2Nhc2UgODc6Y2FzZSA2ODpjYXNlIDM4OmNhc2UgMzk6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW92ZUJ5S2V5KCEwKX1yZXR1cm4hMH19LG1vdmVCeUtleTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvb3Jkcy5wX3BvaW50ZXIsYj1hP2IrdGhpcy5vcHRpb25zLmtleWJvYXJkX3N0ZXA6Yi10aGlzLm9wdGlvbnMua2V5Ym9hcmRfc3RlcDt0aGlzLmNvb3Jkcy54X3BvaW50ZXI9dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLndfcnMvMTAwKmIpO3RoaXMuaXNfa2V5PSEwO3RoaXMuY2FsYygpfSxzZXRNaW5NYXg6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJih0aGlzLm9wdGlvbnMuaGlkZV9taW5fbWF4Pyh0aGlzLiRjYWNoZS5taW5bMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLiRjYWNoZS5tYXhbMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIik6KHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoPyh0aGlzLiRjYWNoZS5taW4uaHRtbCh0aGlzLmRlY29yYXRlKHRoaXMub3B0aW9ucy5wX3ZhbHVlc1t0aGlzLm9wdGlvbnMubWluXSkpLFxudGhpcy4kY2FjaGUubWF4Lmh0bWwodGhpcy5kZWNvcmF0ZSh0aGlzLm9wdGlvbnMucF92YWx1ZXNbdGhpcy5vcHRpb25zLm1heF0pKSk6KHRoaXMuJGNhY2hlLm1pbi5odG1sKHRoaXMuZGVjb3JhdGUodGhpcy5fcHJldHRpZnkodGhpcy5vcHRpb25zLm1pbiksdGhpcy5vcHRpb25zLm1pbikpLHRoaXMuJGNhY2hlLm1heC5odG1sKHRoaXMuZGVjb3JhdGUodGhpcy5fcHJldHRpZnkodGhpcy5vcHRpb25zLm1heCksdGhpcy5vcHRpb25zLm1heCkpKSx0aGlzLmxhYmVscy53X21pbj10aGlzLiRjYWNoZS5taW4ub3V0ZXJXaWR0aCghMSksdGhpcy5sYWJlbHMud19tYXg9dGhpcy4kY2FjaGUubWF4Lm91dGVyV2lkdGgoITEpKSl9LHNldFRlbXBNaW5JbnRlcnZhbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVzdWx0LnRvLXRoaXMucmVzdWx0LmZyb207bnVsbD09PXRoaXMub2xkX21pbl9pbnRlcnZhbCYmKHRoaXMub2xkX21pbl9pbnRlcnZhbD10aGlzLm9wdGlvbnMubWluX2ludGVydmFsKTtcbnRoaXMub3B0aW9ucy5taW5faW50ZXJ2YWw9YX0scmVzdG9yZU9yaWdpbmFsTWluSW50ZXJ2YWw6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5vbGRfbWluX2ludGVydmFsJiYodGhpcy5vcHRpb25zLm1pbl9pbnRlcnZhbD10aGlzLm9sZF9taW5faW50ZXJ2YWwsdGhpcy5vbGRfbWluX2ludGVydmFsPW51bGwpfSxjYWxjOmZ1bmN0aW9uKGEpe2lmKHRoaXMub3B0aW9ucyl7dGhpcy5jYWxjX2NvdW50Kys7aWYoMTA9PT10aGlzLmNhbGNfY291bnR8fGEpdGhpcy5jYWxjX2NvdW50PTAsdGhpcy5jb29yZHMud19ycz10aGlzLiRjYWNoZS5ycy5vdXRlcldpZHRoKCExKSx0aGlzLmNhbGNIYW5kbGVQZXJjZW50KCk7aWYodGhpcy5jb29yZHMud19ycyl7dGhpcy5jYWxjUG9pbnRlclBlcmNlbnQoKTthPXRoaXMuZ2V0SGFuZGxlWCgpO1wiY2xpY2tcIj09PXRoaXMudGFyZ2V0JiYodGhpcy5jb29yZHMucF9nYXA9dGhpcy5jb29yZHMucF9oYW5kbGUvMixhPXRoaXMuZ2V0SGFuZGxlWCgpLHRoaXMudGFyZ2V0PVxudGhpcy5vcHRpb25zLmRyYWdfaW50ZXJ2YWw/XCJib3RoX29uZVwiOnRoaXMuY2hvb3NlSGFuZGxlKGEpKTtzd2l0Y2godGhpcy50YXJnZXQpe2Nhc2UgXCJiYXNlXCI6dmFyIGI9KHRoaXMub3B0aW9ucy5tYXgtdGhpcy5vcHRpb25zLm1pbikvMTAwO2E9KHRoaXMucmVzdWx0LmZyb20tdGhpcy5vcHRpb25zLm1pbikvYjtiPSh0aGlzLnJlc3VsdC50by10aGlzLm9wdGlvbnMubWluKS9iO3RoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWw9dGhpcy50b0ZpeGVkKGEpO3RoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMudG9GaXhlZChhKTt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy50b0ZpeGVkKGIpO3RoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWw9dGhpcy5jaGVja0RpYXBhc29uKHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwsdGhpcy5vcHRpb25zLmZyb21fbWluLHRoaXMub3B0aW9ucy5mcm9tX21heCk7dGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy5jaGVja0RpYXBhc29uKHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsLFxudGhpcy5vcHRpb25zLmZyb21fbWluLHRoaXMub3B0aW9ucy5mcm9tX21heCk7dGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX3RvX3JlYWwsdGhpcy5vcHRpb25zLnRvX21pbix0aGlzLm9wdGlvbnMudG9fbWF4KTt0aGlzLmNvb3Jkcy5wX3NpbmdsZV9mYWtlPXRoaXMuY29udmVydFRvRmFrZVBlcmNlbnQodGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCk7dGhpcy5jb29yZHMucF9mcm9tX2Zha2U9dGhpcy5jb252ZXJ0VG9GYWtlUGVyY2VudCh0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCk7dGhpcy5jb29yZHMucF90b19mYWtlPXRoaXMuY29udmVydFRvRmFrZVBlcmNlbnQodGhpcy5jb29yZHMucF90b19yZWFsKTt0aGlzLnRhcmdldD1udWxsO2JyZWFrO2Nhc2UgXCJzaW5nbGVcIjppZih0aGlzLm9wdGlvbnMuZnJvbV9maXhlZClicmVhazt0aGlzLmNvb3Jkcy5wX3NpbmdsZV9yZWFsPXRoaXMuY29udmVydFRvUmVhbFBlcmNlbnQoYSk7dGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbD1cbnRoaXMuY2FsY1dpdGhTdGVwKHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwpO3RoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWw9dGhpcy5jaGVja0RpYXBhc29uKHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwsdGhpcy5vcHRpb25zLmZyb21fbWluLHRoaXMub3B0aW9ucy5mcm9tX21heCk7dGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwpO2JyZWFrO2Nhc2UgXCJmcm9tXCI6aWYodGhpcy5vcHRpb25zLmZyb21fZml4ZWQpYnJlYWs7dGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChhKTt0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNhbGNXaXRoU3RlcCh0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCk7dGhpcy5jb29yZHMucF9mcm9tX3JlYWw+dGhpcy5jb29yZHMucF90b19yZWFsJiYodGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy5jb29yZHMucF90b19yZWFsKTtcbnRoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCx0aGlzLm9wdGlvbnMuZnJvbV9taW4sdGhpcy5vcHRpb25zLmZyb21fbWF4KTt0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrTWluSW50ZXJ2YWwodGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5jb29yZHMucF90b19yZWFsLFwiZnJvbVwiKTt0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrTWF4SW50ZXJ2YWwodGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5jb29yZHMucF90b19yZWFsLFwiZnJvbVwiKTt0aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKTticmVhaztjYXNlIFwidG9cIjppZih0aGlzLm9wdGlvbnMudG9fZml4ZWQpYnJlYWs7dGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY29udmVydFRvUmVhbFBlcmNlbnQoYSk7dGhpcy5jb29yZHMucF90b19yZWFsPVxudGhpcy5jYWxjV2l0aFN0ZXAodGhpcy5jb29yZHMucF90b19yZWFsKTt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw8dGhpcy5jb29yZHMucF9mcm9tX3JlYWwmJih0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jb29yZHMucF9mcm9tX3JlYWwpO3RoaXMuY29vcmRzLnBfdG9fcmVhbD10aGlzLmNoZWNrRGlhcGFzb24odGhpcy5jb29yZHMucF90b19yZWFsLHRoaXMub3B0aW9ucy50b19taW4sdGhpcy5vcHRpb25zLnRvX21heCk7dGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY2hlY2tNaW5JbnRlcnZhbCh0aGlzLmNvb3Jkcy5wX3RvX3JlYWwsdGhpcy5jb29yZHMucF9mcm9tX3JlYWwsXCJ0b1wiKTt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jaGVja01heEludGVydmFsKHRoaXMuY29vcmRzLnBfdG9fcmVhbCx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCxcInRvXCIpO3RoaXMuY29vcmRzLnBfdG9fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfdG9fcmVhbCk7XG5icmVhaztjYXNlIFwiYm90aFwiOmlmKHRoaXMub3B0aW9ucy5mcm9tX2ZpeGVkfHx0aGlzLm9wdGlvbnMudG9fZml4ZWQpYnJlYWs7YT10aGlzLnRvRml4ZWQoYSsuMSp0aGlzLmNvb3Jkcy5wX2hhbmRsZSk7dGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChhKS10aGlzLmNvb3Jkcy5wX2dhcF9sZWZ0O3RoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2FsY1dpdGhTdGVwKHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKTt0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrRGlhcGFzb24odGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5vcHRpb25zLmZyb21fbWluLHRoaXMub3B0aW9ucy5mcm9tX21heCk7dGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy5jaGVja01pbkludGVydmFsKHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsLHRoaXMuY29vcmRzLnBfdG9fcmVhbCxcImZyb21cIik7dGhpcy5jb29yZHMucF9mcm9tX2Zha2U9dGhpcy5jb252ZXJ0VG9GYWtlUGVyY2VudCh0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCk7XG50aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChhKSt0aGlzLmNvb3Jkcy5wX2dhcF9yaWdodDt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jYWxjV2l0aFN0ZXAodGhpcy5jb29yZHMucF90b19yZWFsKTt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jaGVja0RpYXBhc29uKHRoaXMuY29vcmRzLnBfdG9fcmVhbCx0aGlzLm9wdGlvbnMudG9fbWluLHRoaXMub3B0aW9ucy50b19tYXgpO3RoaXMuY29vcmRzLnBfdG9fcmVhbD10aGlzLmNoZWNrTWluSW50ZXJ2YWwodGhpcy5jb29yZHMucF90b19yZWFsLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsLFwidG9cIik7dGhpcy5jb29yZHMucF90b19mYWtlPXRoaXMuY29udmVydFRvRmFrZVBlcmNlbnQodGhpcy5jb29yZHMucF90b19yZWFsKTticmVhaztjYXNlIFwiYm90aF9vbmVcIjppZighdGhpcy5vcHRpb25zLmZyb21fZml4ZWQmJiF0aGlzLm9wdGlvbnMudG9fZml4ZWQpe3ZhciBkPXRoaXMuY29udmVydFRvUmVhbFBlcmNlbnQoYSk7XG5hPXRoaXMucmVzdWx0LnRvX3BlcmNlbnQtdGhpcy5yZXN1bHQuZnJvbV9wZXJjZW50O3ZhciBjPWEvMixiPWQtYyxkPWQrYzswPmImJihiPTAsZD1iK2EpOzEwMDxkJiYoZD0xMDAsYj1kLWEpO3RoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2FsY1dpdGhTdGVwKGIpO3RoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCx0aGlzLm9wdGlvbnMuZnJvbV9taW4sdGhpcy5vcHRpb25zLmZyb21fbWF4KTt0aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKTt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jYWxjV2l0aFN0ZXAoZCk7dGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX3RvX3JlYWwsdGhpcy5vcHRpb25zLnRvX21pbix0aGlzLm9wdGlvbnMudG9fbWF4KTt0aGlzLmNvb3Jkcy5wX3RvX2Zha2U9XG50aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfdG9fcmVhbCl9fVwic2luZ2xlXCI9PT10aGlzLm9wdGlvbnMudHlwZT8odGhpcy5jb29yZHMucF9iYXJfeD10aGlzLmNvb3Jkcy5wX2hhbmRsZS8yLHRoaXMuY29vcmRzLnBfYmFyX3c9dGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZSx0aGlzLnJlc3VsdC5mcm9tX3BlcmNlbnQ9dGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCx0aGlzLnJlc3VsdC5mcm9tPXRoaXMuY29udmVydFRvVmFsdWUodGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCksdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgmJih0aGlzLnJlc3VsdC5mcm9tX3ZhbHVlPXRoaXMub3B0aW9ucy52YWx1ZXNbdGhpcy5yZXN1bHQuZnJvbV0pKToodGhpcy5jb29yZHMucF9iYXJfeD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9mcm9tX2Zha2UrdGhpcy5jb29yZHMucF9oYW5kbGUvMiksdGhpcy5jb29yZHMucF9iYXJfdz10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF90b19mYWtlLVxudGhpcy5jb29yZHMucF9mcm9tX2Zha2UpLHRoaXMucmVzdWx0LmZyb21fcGVyY2VudD10aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCx0aGlzLnJlc3VsdC5mcm9tPXRoaXMuY29udmVydFRvVmFsdWUodGhpcy5jb29yZHMucF9mcm9tX3JlYWwpLHRoaXMucmVzdWx0LnRvX3BlcmNlbnQ9dGhpcy5jb29yZHMucF90b19yZWFsLHRoaXMucmVzdWx0LnRvPXRoaXMuY29udmVydFRvVmFsdWUodGhpcy5jb29yZHMucF90b19yZWFsKSx0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmKHRoaXMucmVzdWx0LmZyb21fdmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlc1t0aGlzLnJlc3VsdC5mcm9tXSx0aGlzLnJlc3VsdC50b192YWx1ZT10aGlzLm9wdGlvbnMudmFsdWVzW3RoaXMucmVzdWx0LnRvXSkpO3RoaXMuY2FsY01pbk1heCgpO3RoaXMuY2FsY0xhYmVscygpfX19LGNhbGNQb2ludGVyUGVyY2VudDpmdW5jdGlvbigpe3RoaXMuY29vcmRzLndfcnM/KDA+dGhpcy5jb29yZHMueF9wb2ludGVyfHxpc05hTih0aGlzLmNvb3Jkcy54X3BvaW50ZXIpP1xudGhpcy5jb29yZHMueF9wb2ludGVyPTA6dGhpcy5jb29yZHMueF9wb2ludGVyPnRoaXMuY29vcmRzLndfcnMmJih0aGlzLmNvb3Jkcy54X3BvaW50ZXI9dGhpcy5jb29yZHMud19ycyksdGhpcy5jb29yZHMucF9wb2ludGVyPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy54X3BvaW50ZXIvdGhpcy5jb29yZHMud19ycyoxMDApKTp0aGlzLmNvb3Jkcy5wX3BvaW50ZXI9MH0sY29udmVydFRvUmVhbFBlcmNlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEvKDEwMC10aGlzLmNvb3Jkcy5wX2hhbmRsZSkqMTAwfSxjb252ZXJ0VG9GYWtlUGVyY2VudDpmdW5jdGlvbihhKXtyZXR1cm4gYS8xMDAqKDEwMC10aGlzLmNvb3Jkcy5wX2hhbmRsZSl9LGdldEhhbmRsZVg6ZnVuY3Rpb24oKXt2YXIgYT0xMDAtdGhpcy5jb29yZHMucF9oYW5kbGUsYj10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9wb2ludGVyLXRoaXMuY29vcmRzLnBfZ2FwKTswPmI/Yj0wOmI+YSYmKGI9YSk7cmV0dXJuIGJ9LGNhbGNIYW5kbGVQZXJjZW50OmZ1bmN0aW9uKCl7dGhpcy5jb29yZHMud19oYW5kbGU9XG5cInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/dGhpcy4kY2FjaGUuc19zaW5nbGUub3V0ZXJXaWR0aCghMSk6dGhpcy4kY2FjaGUuc19mcm9tLm91dGVyV2lkdGgoITEpO3RoaXMuY29vcmRzLnBfaGFuZGxlPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy53X2hhbmRsZS90aGlzLmNvb3Jkcy53X3JzKjEwMCl9LGNob29zZUhhbmRsZTpmdW5jdGlvbihhKXtyZXR1cm5cInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/XCJzaW5nbGVcIjphPj10aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCsodGhpcy5jb29yZHMucF90b19yZWFsLXRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKS8yP3RoaXMub3B0aW9ucy50b19maXhlZD9cImZyb21cIjpcInRvXCI6dGhpcy5vcHRpb25zLmZyb21fZml4ZWQ/XCJ0b1wiOlwiZnJvbVwifSxjYWxjTWluTWF4OmZ1bmN0aW9uKCl7dGhpcy5jb29yZHMud19ycyYmKHRoaXMubGFiZWxzLnBfbWluPXRoaXMubGFiZWxzLndfbWluL3RoaXMuY29vcmRzLndfcnMqMTAwLHRoaXMubGFiZWxzLnBfbWF4PVxudGhpcy5sYWJlbHMud19tYXgvdGhpcy5jb29yZHMud19ycyoxMDApfSxjYWxjTGFiZWxzOmZ1bmN0aW9uKCl7dGhpcy5jb29yZHMud19ycyYmIXRoaXMub3B0aW9ucy5oaWRlX2Zyb21fdG8mJihcInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/KHRoaXMubGFiZWxzLndfc2luZ2xlPXRoaXMuJGNhY2hlLnNpbmdsZS5vdXRlcldpZHRoKCExKSx0aGlzLmxhYmVscy5wX3NpbmdsZV9mYWtlPXRoaXMubGFiZWxzLndfc2luZ2xlL3RoaXMuY29vcmRzLndfcnMqMTAwLHRoaXMubGFiZWxzLnBfc2luZ2xlX2xlZnQ9dGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZSt0aGlzLmNvb3Jkcy5wX2hhbmRsZS8yLXRoaXMubGFiZWxzLnBfc2luZ2xlX2Zha2UvMik6KHRoaXMubGFiZWxzLndfZnJvbT10aGlzLiRjYWNoZS5mcm9tLm91dGVyV2lkdGgoITEpLHRoaXMubGFiZWxzLnBfZnJvbV9mYWtlPXRoaXMubGFiZWxzLndfZnJvbS90aGlzLmNvb3Jkcy53X3JzKjEwMCx0aGlzLmxhYmVscy5wX2Zyb21fbGVmdD1cbnRoaXMuY29vcmRzLnBfZnJvbV9mYWtlK3RoaXMuY29vcmRzLnBfaGFuZGxlLzItdGhpcy5sYWJlbHMucF9mcm9tX2Zha2UvMix0aGlzLmxhYmVscy5wX2Zyb21fbGVmdD10aGlzLnRvRml4ZWQodGhpcy5sYWJlbHMucF9mcm9tX2xlZnQpLHRoaXMubGFiZWxzLnBfZnJvbV9sZWZ0PXRoaXMuY2hlY2tFZGdlcyh0aGlzLmxhYmVscy5wX2Zyb21fbGVmdCx0aGlzLmxhYmVscy5wX2Zyb21fZmFrZSksdGhpcy5sYWJlbHMud190bz10aGlzLiRjYWNoZS50by5vdXRlcldpZHRoKCExKSx0aGlzLmxhYmVscy5wX3RvX2Zha2U9dGhpcy5sYWJlbHMud190by90aGlzLmNvb3Jkcy53X3JzKjEwMCx0aGlzLmxhYmVscy5wX3RvX2xlZnQ9dGhpcy5jb29yZHMucF90b19mYWtlK3RoaXMuY29vcmRzLnBfaGFuZGxlLzItdGhpcy5sYWJlbHMucF90b19mYWtlLzIsdGhpcy5sYWJlbHMucF90b19sZWZ0PXRoaXMudG9GaXhlZCh0aGlzLmxhYmVscy5wX3RvX2xlZnQpLHRoaXMubGFiZWxzLnBfdG9fbGVmdD1cbnRoaXMuY2hlY2tFZGdlcyh0aGlzLmxhYmVscy5wX3RvX2xlZnQsdGhpcy5sYWJlbHMucF90b19mYWtlKSx0aGlzLmxhYmVscy53X3NpbmdsZT10aGlzLiRjYWNoZS5zaW5nbGUub3V0ZXJXaWR0aCghMSksdGhpcy5sYWJlbHMucF9zaW5nbGVfZmFrZT10aGlzLmxhYmVscy53X3NpbmdsZS90aGlzLmNvb3Jkcy53X3JzKjEwMCx0aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0PSh0aGlzLmxhYmVscy5wX2Zyb21fbGVmdCt0aGlzLmxhYmVscy5wX3RvX2xlZnQrdGhpcy5sYWJlbHMucF90b19mYWtlKS8yLXRoaXMubGFiZWxzLnBfc2luZ2xlX2Zha2UvMix0aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0PXRoaXMudG9GaXhlZCh0aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0KSksdGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdD10aGlzLmNoZWNrRWRnZXModGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdCx0aGlzLmxhYmVscy5wX3NpbmdsZV9mYWtlKSl9LHVwZGF0ZVNjZW5lOmZ1bmN0aW9uKCl7dGhpcy5yYWZfaWQmJlxuKGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmX2lkKSx0aGlzLnJhZl9pZD1udWxsKTtjbGVhclRpbWVvdXQodGhpcy51cGRhdGVfdG0pO3RoaXMudXBkYXRlX3RtPW51bGw7dGhpcy5vcHRpb25zJiYodGhpcy5kcmF3SGFuZGxlcygpLHRoaXMuaXNfYWN0aXZlP3RoaXMucmFmX2lkPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVNjZW5lLmJpbmQodGhpcykpOnRoaXMudXBkYXRlX3RtPXNldFRpbWVvdXQodGhpcy51cGRhdGVTY2VuZS5iaW5kKHRoaXMpLDMwMCkpfSxkcmF3SGFuZGxlczpmdW5jdGlvbigpe3RoaXMuY29vcmRzLndfcnM9dGhpcy4kY2FjaGUucnMub3V0ZXJXaWR0aCghMSk7aWYodGhpcy5jb29yZHMud19ycyl7dGhpcy5jb29yZHMud19ycyE9PXRoaXMuY29vcmRzLndfcnNfb2xkJiYodGhpcy50YXJnZXQ9XCJiYXNlXCIsdGhpcy5pc19yZXNpemU9ITApO2lmKHRoaXMuY29vcmRzLndfcnMhPT10aGlzLmNvb3Jkcy53X3JzX29sZHx8dGhpcy5mb3JjZV9yZWRyYXcpdGhpcy5zZXRNaW5NYXgoKSxcbnRoaXMuY2FsYyghMCksdGhpcy5kcmF3TGFiZWxzKCksdGhpcy5vcHRpb25zLmdyaWQmJih0aGlzLmNhbGNHcmlkTWFyZ2luKCksdGhpcy5jYWxjR3JpZExhYmVscygpKSx0aGlzLmZvcmNlX3JlZHJhdz0hMCx0aGlzLmNvb3Jkcy53X3JzX29sZD10aGlzLmNvb3Jkcy53X3JzLHRoaXMuZHJhd1NoYWRvdygpO2lmKHRoaXMuY29vcmRzLndfcnMmJih0aGlzLmRyYWdnaW5nfHx0aGlzLmZvcmNlX3JlZHJhd3x8dGhpcy5pc19rZXkpKXtpZih0aGlzLm9sZF9mcm9tIT09dGhpcy5yZXN1bHQuZnJvbXx8dGhpcy5vbGRfdG8hPT10aGlzLnJlc3VsdC50b3x8dGhpcy5mb3JjZV9yZWRyYXd8fHRoaXMuaXNfa2V5KXt0aGlzLmRyYXdMYWJlbHMoKTt0aGlzLiRjYWNoZS5iYXJbMF0uc3R5bGUubGVmdD10aGlzLmNvb3Jkcy5wX2Jhcl94K1wiJVwiO3RoaXMuJGNhY2hlLmJhclswXS5zdHlsZS53aWR0aD10aGlzLmNvb3Jkcy5wX2Jhcl93K1wiJVwiO2lmKFwic2luZ2xlXCI9PT10aGlzLm9wdGlvbnMudHlwZSl0aGlzLiRjYWNoZS5zX3NpbmdsZVswXS5zdHlsZS5sZWZ0PVxudGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZStcIiVcIix0aGlzLiRjYWNoZS5zaW5nbGVbMF0uc3R5bGUubGVmdD10aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0K1wiJVwiLHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJ2YWx1ZVwiLHRoaXMucmVzdWx0LmZyb21fdmFsdWUpOnRoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJ2YWx1ZVwiLHRoaXMucmVzdWx0LmZyb20pLHRoaXMuJGNhY2hlLmlucHV0LmRhdGEoXCJmcm9tXCIsdGhpcy5yZXN1bHQuZnJvbSk7ZWxzZXt0aGlzLiRjYWNoZS5zX2Zyb21bMF0uc3R5bGUubGVmdD10aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZStcIiVcIjt0aGlzLiRjYWNoZS5zX3RvWzBdLnN0eWxlLmxlZnQ9dGhpcy5jb29yZHMucF90b19mYWtlK1wiJVwiO2lmKHRoaXMub2xkX2Zyb20hPT10aGlzLnJlc3VsdC5mcm9tfHx0aGlzLmZvcmNlX3JlZHJhdyl0aGlzLiRjYWNoZS5mcm9tWzBdLnN0eWxlLmxlZnQ9dGhpcy5sYWJlbHMucF9mcm9tX2xlZnQrXG5cIiVcIjtpZih0aGlzLm9sZF90byE9PXRoaXMucmVzdWx0LnRvfHx0aGlzLmZvcmNlX3JlZHJhdyl0aGlzLiRjYWNoZS50b1swXS5zdHlsZS5sZWZ0PXRoaXMubGFiZWxzLnBfdG9fbGVmdCtcIiVcIjt0aGlzLiRjYWNoZS5zaW5nbGVbMF0uc3R5bGUubGVmdD10aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0K1wiJVwiO3RoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJ2YWx1ZVwiLHRoaXMucmVzdWx0LmZyb21fdmFsdWUrdGhpcy5vcHRpb25zLmlucHV0X3ZhbHVlc19zZXBhcmF0b3IrdGhpcy5yZXN1bHQudG9fdmFsdWUpOnRoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJ2YWx1ZVwiLHRoaXMucmVzdWx0LmZyb20rdGhpcy5vcHRpb25zLmlucHV0X3ZhbHVlc19zZXBhcmF0b3IrdGhpcy5yZXN1bHQudG8pO3RoaXMuJGNhY2hlLmlucHV0LmRhdGEoXCJmcm9tXCIsdGhpcy5yZXN1bHQuZnJvbSk7dGhpcy4kY2FjaGUuaW5wdXQuZGF0YShcInRvXCIsdGhpcy5yZXN1bHQudG8pfXRoaXMub2xkX2Zyb209PT1cbnRoaXMucmVzdWx0LmZyb20mJnRoaXMub2xkX3RvPT09dGhpcy5yZXN1bHQudG98fHRoaXMuaXNfc3RhcnR8fHRoaXMuJGNhY2hlLmlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIik7dGhpcy5vbGRfZnJvbT10aGlzLnJlc3VsdC5mcm9tO3RoaXMub2xkX3RvPXRoaXMucmVzdWx0LnRvO3RoaXMuaXNfcmVzaXplfHx0aGlzLmlzX3VwZGF0ZXx8dGhpcy5pc19zdGFydHx8dGhpcy5pc19maW5pc2h8fHRoaXMuY2FsbE9uQ2hhbmdlKCk7aWYodGhpcy5pc19rZXl8fHRoaXMuaXNfY2xpY2spdGhpcy5pc19jbGljaz10aGlzLmlzX2tleT0hMSx0aGlzLmNhbGxPbkZpbmlzaCgpO3RoaXMuaXNfZmluaXNoPXRoaXMuaXNfcmVzaXplPXRoaXMuaXNfdXBkYXRlPSExfXRoaXMuZm9yY2VfcmVkcmF3PXRoaXMuaXNfY2xpY2s9dGhpcy5pc19rZXk9dGhpcy5pc19zdGFydD0hMX19fSxkcmF3TGFiZWxzOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zKXt2YXIgYT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCxcbmI9dGhpcy5vcHRpb25zLnBfdmFsdWVzLGQ7aWYoIXRoaXMub3B0aW9ucy5oaWRlX2Zyb21fdG8paWYoXCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlKWE9YT90aGlzLmRlY29yYXRlKGJbdGhpcy5yZXN1bHQuZnJvbV0pOnRoaXMuZGVjb3JhdGUodGhpcy5fcHJldHRpZnkodGhpcy5yZXN1bHQuZnJvbSksdGhpcy5yZXN1bHQuZnJvbSksdGhpcy4kY2FjaGUuc2luZ2xlLmh0bWwoYSksdGhpcy5jYWxjTGFiZWxzKCksdGhpcy4kY2FjaGUubWluWzBdLnN0eWxlLnZpc2liaWxpdHk9dGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdDx0aGlzLmxhYmVscy5wX21pbisxP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCIsdGhpcy4kY2FjaGUubWF4WzBdLnN0eWxlLnZpc2liaWxpdHk9dGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdCt0aGlzLmxhYmVscy5wX3NpbmdsZV9mYWtlPjEwMC10aGlzLmxhYmVscy5wX21heC0xP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCI7ZWxzZXthPyh0aGlzLm9wdGlvbnMuZGVjb3JhdGVfYm90aD9cbihhPXRoaXMuZGVjb3JhdGUoYlt0aGlzLnJlc3VsdC5mcm9tXSksYSs9dGhpcy5vcHRpb25zLnZhbHVlc19zZXBhcmF0b3IsYSs9dGhpcy5kZWNvcmF0ZShiW3RoaXMucmVzdWx0LnRvXSkpOmE9dGhpcy5kZWNvcmF0ZShiW3RoaXMucmVzdWx0LmZyb21dK3RoaXMub3B0aW9ucy52YWx1ZXNfc2VwYXJhdG9yK2JbdGhpcy5yZXN1bHQudG9dKSxkPXRoaXMuZGVjb3JhdGUoYlt0aGlzLnJlc3VsdC5mcm9tXSksYj10aGlzLmRlY29yYXRlKGJbdGhpcy5yZXN1bHQudG9dKSk6KHRoaXMub3B0aW9ucy5kZWNvcmF0ZV9ib3RoPyhhPXRoaXMuZGVjb3JhdGUodGhpcy5fcHJldHRpZnkodGhpcy5yZXN1bHQuZnJvbSksdGhpcy5yZXN1bHQuZnJvbSksYSs9dGhpcy5vcHRpb25zLnZhbHVlc19zZXBhcmF0b3IsYSs9dGhpcy5kZWNvcmF0ZSh0aGlzLl9wcmV0dGlmeSh0aGlzLnJlc3VsdC50byksdGhpcy5yZXN1bHQudG8pKTphPXRoaXMuZGVjb3JhdGUodGhpcy5fcHJldHRpZnkodGhpcy5yZXN1bHQuZnJvbSkrXG50aGlzLm9wdGlvbnMudmFsdWVzX3NlcGFyYXRvcit0aGlzLl9wcmV0dGlmeSh0aGlzLnJlc3VsdC50byksdGhpcy5yZXN1bHQudG8pLGQ9dGhpcy5kZWNvcmF0ZSh0aGlzLl9wcmV0dGlmeSh0aGlzLnJlc3VsdC5mcm9tKSx0aGlzLnJlc3VsdC5mcm9tKSxiPXRoaXMuZGVjb3JhdGUodGhpcy5fcHJldHRpZnkodGhpcy5yZXN1bHQudG8pLHRoaXMucmVzdWx0LnRvKSk7dGhpcy4kY2FjaGUuc2luZ2xlLmh0bWwoYSk7dGhpcy4kY2FjaGUuZnJvbS5odG1sKGQpO3RoaXMuJGNhY2hlLnRvLmh0bWwoYik7dGhpcy5jYWxjTGFiZWxzKCk7Yj1NYXRoLm1pbih0aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0LHRoaXMubGFiZWxzLnBfZnJvbV9sZWZ0KTthPXRoaXMubGFiZWxzLnBfc2luZ2xlX2xlZnQrdGhpcy5sYWJlbHMucF9zaW5nbGVfZmFrZTtkPXRoaXMubGFiZWxzLnBfdG9fbGVmdCt0aGlzLmxhYmVscy5wX3RvX2Zha2U7dmFyIGM9TWF0aC5tYXgoYSxkKTt0aGlzLmxhYmVscy5wX2Zyb21fbGVmdCtcbnRoaXMubGFiZWxzLnBfZnJvbV9mYWtlPj10aGlzLmxhYmVscy5wX3RvX2xlZnQ/KHRoaXMuJGNhY2hlLmZyb21bMF0uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuJGNhY2hlLnRvWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLiRjYWNoZS5zaW5nbGVbMF0uc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLnJlc3VsdC5mcm9tPT09dGhpcy5yZXN1bHQudG8/KFwiZnJvbVwiPT09dGhpcy50YXJnZXQ/dGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiOlwidG9cIj09PXRoaXMudGFyZ2V0P3RoaXMuJGNhY2hlLnRvWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCI6dGhpcy50YXJnZXR8fCh0aGlzLiRjYWNoZS5mcm9tWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIpLHRoaXMuJGNhY2hlLnNpbmdsZVswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsYz1kKToodGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS52aXNpYmlsaXR5PVxuXCJoaWRkZW5cIix0aGlzLiRjYWNoZS50b1swXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy4kY2FjaGUuc2luZ2xlWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsYz1NYXRoLm1heChhLGQpKSk6KHRoaXMuJGNhY2hlLmZyb21bMF0uc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLiRjYWNoZS50b1swXS5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuJGNhY2hlLnNpbmdsZVswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpO3RoaXMuJGNhY2hlLm1pblswXS5zdHlsZS52aXNpYmlsaXR5PWI8dGhpcy5sYWJlbHMucF9taW4rMT9cImhpZGRlblwiOlwidmlzaWJsZVwiO3RoaXMuJGNhY2hlLm1heFswXS5zdHlsZS52aXNpYmlsaXR5PWM+MTAwLXRoaXMubGFiZWxzLnBfbWF4LTE/XCJoaWRkZW5cIjpcInZpc2libGVcIn19fSxkcmF3U2hhZG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy4kY2FjaGUsZD1cIm51bWJlclwiPT09dHlwZW9mIGEuZnJvbV9taW4mJlxuIWlzTmFOKGEuZnJvbV9taW4pLGM9XCJudW1iZXJcIj09PXR5cGVvZiBhLmZyb21fbWF4JiYhaXNOYU4oYS5mcm9tX21heCksZT1cIm51bWJlclwiPT09dHlwZW9mIGEudG9fbWluJiYhaXNOYU4oYS50b19taW4pLGY9XCJudW1iZXJcIj09PXR5cGVvZiBhLnRvX21heCYmIWlzTmFOKGEudG9fbWF4KTtcInNpbmdsZVwiPT09YS50eXBlP2EuZnJvbV9zaGFkb3cmJihkfHxjKT8oZD10aGlzLmNvbnZlcnRUb1BlcmNlbnQoZD9hLmZyb21fbWluOmEubWluKSxjPXRoaXMuY29udmVydFRvUGVyY2VudChjP2EuZnJvbV9tYXg6YS5tYXgpLWQsZD10aGlzLnRvRml4ZWQoZC10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqZCksYz10aGlzLnRvRml4ZWQoYy10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqYyksZCs9dGhpcy5jb29yZHMucF9oYW5kbGUvMixiLnNoYWRfc2luZ2xlWzBdLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLGIuc2hhZF9zaW5nbGVbMF0uc3R5bGUubGVmdD1kK1wiJVwiLGIuc2hhZF9zaW5nbGVbMF0uc3R5bGUud2lkdGg9XG5jK1wiJVwiKTpiLnNoYWRfc2luZ2xlWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCI6KGEuZnJvbV9zaGFkb3cmJihkfHxjKT8oZD10aGlzLmNvbnZlcnRUb1BlcmNlbnQoZD9hLmZyb21fbWluOmEubWluKSxjPXRoaXMuY29udmVydFRvUGVyY2VudChjP2EuZnJvbV9tYXg6YS5tYXgpLWQsZD10aGlzLnRvRml4ZWQoZC10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqZCksYz10aGlzLnRvRml4ZWQoYy10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqYyksZCs9dGhpcy5jb29yZHMucF9oYW5kbGUvMixiLnNoYWRfZnJvbVswXS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixiLnNoYWRfZnJvbVswXS5zdHlsZS5sZWZ0PWQrXCIlXCIsYi5zaGFkX2Zyb21bMF0uc3R5bGUud2lkdGg9YytcIiVcIik6Yi5zaGFkX2Zyb21bMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixhLnRvX3NoYWRvdyYmKGV8fGYpPyhlPXRoaXMuY29udmVydFRvUGVyY2VudChlP2EudG9fbWluOmEubWluKSxhPXRoaXMuY29udmVydFRvUGVyY2VudChmP1xuYS50b19tYXg6YS5tYXgpLWUsZT10aGlzLnRvRml4ZWQoZS10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqZSksYT10aGlzLnRvRml4ZWQoYS10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqYSksZSs9dGhpcy5jb29yZHMucF9oYW5kbGUvMixiLnNoYWRfdG9bMF0uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsYi5zaGFkX3RvWzBdLnN0eWxlLmxlZnQ9ZStcIiVcIixiLnNoYWRfdG9bMF0uc3R5bGUud2lkdGg9YStcIiVcIik6Yi5zaGFkX3RvWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfSxjYWxsT25TdGFydDpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5vblN0YXJ0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpcy5vcHRpb25zLm9uU3RhcnQpdGhpcy5vcHRpb25zLm9uU3RhcnQodGhpcy5yZXN1bHQpfSxjYWxsT25DaGFuZ2U6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMub25DaGFuZ2UmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGFuZ2UpdGhpcy5vcHRpb25zLm9uQ2hhbmdlKHRoaXMucmVzdWx0KX0sXG5jYWxsT25GaW5pc2g6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMub25GaW5pc2gmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB0aGlzLm9wdGlvbnMub25GaW5pc2gpdGhpcy5vcHRpb25zLm9uRmluaXNoKHRoaXMucmVzdWx0KX0sY2FsbE9uVXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLm9uVXBkYXRlJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpcy5vcHRpb25zLm9uVXBkYXRlKXRoaXMub3B0aW9ucy5vblVwZGF0ZSh0aGlzLnJlc3VsdCl9LHRvZ2dsZUlucHV0OmZ1bmN0aW9uKCl7dGhpcy4kY2FjaGUuaW5wdXQudG9nZ2xlQ2xhc3MoXCJpcnMtaGlkZGVuLWlucHV0XCIpfSxjb252ZXJ0VG9QZXJjZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5vcHRpb25zLm1heC10aGlzLm9wdGlvbnMubWluO3JldHVybiBkP3RoaXMudG9GaXhlZCgoYj9hOmEtdGhpcy5vcHRpb25zLm1pbikvKGQvMTAwKSk6KHRoaXMubm9fZGlhcGFzb249ITAsMCl9LGNvbnZlcnRUb1ZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiPVxudGhpcy5vcHRpb25zLm1pbixkPXRoaXMub3B0aW9ucy5tYXgsYz1iLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdLGU9ZC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSxmLGwsZz0wLGs9MDtpZigwPT09YSlyZXR1cm4gdGhpcy5vcHRpb25zLm1pbjtpZigxMDA9PT1hKXJldHVybiB0aGlzLm9wdGlvbnMubWF4O2MmJihnPWY9Yy5sZW5ndGgpO2UmJihnPWw9ZS5sZW5ndGgpO2YmJmwmJihnPWY+PWw/ZjpsKTswPmImJihrPU1hdGguYWJzKGIpLGI9KyhiK2spLnRvRml4ZWQoZyksZD0rKGQraykudG9GaXhlZChnKSk7YT0oZC1iKS8xMDAqYStiOyhiPXRoaXMub3B0aW9ucy5zdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdKT9hPSthLnRvRml4ZWQoYi5sZW5ndGgpOihhLz10aGlzLm9wdGlvbnMuc3RlcCxhKj10aGlzLm9wdGlvbnMuc3RlcCxhPSthLnRvRml4ZWQoMCkpO2smJihhLT1rKTtrPWI/K2EudG9GaXhlZChiLmxlbmd0aCk6dGhpcy50b0ZpeGVkKGEpO2s8dGhpcy5vcHRpb25zLm1pbj9cbms9dGhpcy5vcHRpb25zLm1pbjprPnRoaXMub3B0aW9ucy5tYXgmJihrPXRoaXMub3B0aW9ucy5tYXgpO3JldHVybiBrfSxjYWxjV2l0aFN0ZXA6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5yb3VuZChhL3RoaXMuY29vcmRzLnBfc3RlcCkqdGhpcy5jb29yZHMucF9zdGVwOzEwMDxiJiYoYj0xMDApOzEwMD09PWEmJihiPTEwMCk7cmV0dXJuIHRoaXMudG9GaXhlZChiKX0sY2hlY2tNaW5JbnRlcnZhbDpmdW5jdGlvbihhLGIsZCl7dmFyIGM9dGhpcy5vcHRpb25zO2lmKCFjLm1pbl9pbnRlcnZhbClyZXR1cm4gYTthPXRoaXMuY29udmVydFRvVmFsdWUoYSk7Yj10aGlzLmNvbnZlcnRUb1ZhbHVlKGIpO1wiZnJvbVwiPT09ZD9iLWE8Yy5taW5faW50ZXJ2YWwmJihhPWItYy5taW5faW50ZXJ2YWwpOmEtYjxjLm1pbl9pbnRlcnZhbCYmKGE9YitjLm1pbl9pbnRlcnZhbCk7cmV0dXJuIHRoaXMuY29udmVydFRvUGVyY2VudChhKX0sY2hlY2tNYXhJbnRlcnZhbDpmdW5jdGlvbihhLGIsZCl7dmFyIGM9XG50aGlzLm9wdGlvbnM7aWYoIWMubWF4X2ludGVydmFsKXJldHVybiBhO2E9dGhpcy5jb252ZXJ0VG9WYWx1ZShhKTtiPXRoaXMuY29udmVydFRvVmFsdWUoYik7XCJmcm9tXCI9PT1kP2ItYT5jLm1heF9pbnRlcnZhbCYmKGE9Yi1jLm1heF9pbnRlcnZhbCk6YS1iPmMubWF4X2ludGVydmFsJiYoYT1iK2MubWF4X2ludGVydmFsKTtyZXR1cm4gdGhpcy5jb252ZXJ0VG9QZXJjZW50KGEpfSxjaGVja0RpYXBhc29uOmZ1bmN0aW9uKGEsYixkKXthPXRoaXMuY29udmVydFRvVmFsdWUoYSk7dmFyIGM9dGhpcy5vcHRpb25zO1wibnVtYmVyXCIhPT10eXBlb2YgYiYmKGI9Yy5taW4pO1wibnVtYmVyXCIhPT10eXBlb2YgZCYmKGQ9Yy5tYXgpO2E8YiYmKGE9Yik7YT5kJiYoYT1kKTtyZXR1cm4gdGhpcy5jb252ZXJ0VG9QZXJjZW50KGEpfSx0b0ZpeGVkOmZ1bmN0aW9uKGEpe2E9YS50b0ZpeGVkKDkpO3JldHVybithfSxfcHJldHRpZnk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5wcmV0dGlmeV9lbmFibGVkP1xudGhpcy5vcHRpb25zLnByZXR0aWZ5JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpcy5vcHRpb25zLnByZXR0aWZ5P3RoaXMub3B0aW9ucy5wcmV0dGlmeShhKTp0aGlzLnByZXR0aWZ5KGEpOmF9LHByZXR0aWZ5OmZ1bmN0aW9uKGEpe3JldHVybiBhLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxcZHsxLDN9KD89KD86XFxkXFxkXFxkKSsoPyFcXGQpKSkvZyxcIiQxXCIrdGhpcy5vcHRpb25zLnByZXR0aWZ5X3NlcGFyYXRvcil9LGNoZWNrRWRnZXM6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5vcHRpb25zLmZvcmNlX2VkZ2VzKXJldHVybiB0aGlzLnRvRml4ZWQoYSk7MD5hP2E9MDphPjEwMC1iJiYoYT0xMDAtYik7cmV0dXJuIHRoaXMudG9GaXhlZChhKX0sdmFsaWRhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLnJlc3VsdCxkPWEudmFsdWVzLGM9ZC5sZW5ndGgsZSxmO1wic3RyaW5nXCI9PT10eXBlb2YgYS5taW4mJihhLm1pbj0rYS5taW4pO1wic3RyaW5nXCI9PT10eXBlb2YgYS5tYXgmJlxuKGEubWF4PSthLm1heCk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLmZyb20mJihhLmZyb209K2EuZnJvbSk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLnRvJiYoYS50bz0rYS50byk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLnN0ZXAmJihhLnN0ZXA9K2Euc3RlcCk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLmZyb21fbWluJiYoYS5mcm9tX21pbj0rYS5mcm9tX21pbik7XCJzdHJpbmdcIj09PXR5cGVvZiBhLmZyb21fbWF4JiYoYS5mcm9tX21heD0rYS5mcm9tX21heCk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLnRvX21pbiYmKGEudG9fbWluPSthLnRvX21pbik7XCJzdHJpbmdcIj09PXR5cGVvZiBhLnRvX21heCYmKGEudG9fbWF4PSthLnRvX21heCk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLmtleWJvYXJkX3N0ZXAmJihhLmtleWJvYXJkX3N0ZXA9K2Eua2V5Ym9hcmRfc3RlcCk7XCJzdHJpbmdcIj09PXR5cGVvZiBhLmdyaWRfbnVtJiYoYS5ncmlkX251bT0rYS5ncmlkX251bSk7YS5tYXg8YS5taW4mJihhLm1heD1hLm1pbik7aWYoYylmb3IoYS5wX3ZhbHVlcz1cbltdLGEubWluPTAsYS5tYXg9Yy0xLGEuc3RlcD0xLGEuZ3JpZF9udW09YS5tYXgsYS5ncmlkX3NuYXA9ITAsZj0wO2Y8YztmKyspZT0rZFtmXSxpc05hTihlKT9lPWRbZl06KGRbZl09ZSxlPXRoaXMuX3ByZXR0aWZ5KGUpKSxhLnBfdmFsdWVzLnB1c2goZSk7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBhLmZyb218fGlzTmFOKGEuZnJvbSkpYS5mcm9tPWEubWluO2lmKFwibnVtYmVyXCIhPT10eXBlb2YgYS50b3x8aXNOYU4oYS5mcm9tKSlhLnRvPWEubWF4O2lmKFwic2luZ2xlXCI9PT1hLnR5cGUpYS5mcm9tPGEubWluJiYoYS5mcm9tPWEubWluKSxhLmZyb20+YS5tYXgmJihhLmZyb209YS5tYXgpO2Vsc2V7aWYoYS5mcm9tPGEubWlufHxhLmZyb20+YS5tYXgpYS5mcm9tPWEubWluO2lmKGEudG8+YS5tYXh8fGEudG88YS5taW4pYS50bz1hLm1heDthLmZyb20+YS50byYmKGEuZnJvbT1hLnRvKX1pZihcIm51bWJlclwiIT09dHlwZW9mIGEuc3RlcHx8aXNOYU4oYS5zdGVwKXx8IWEuc3RlcHx8MD5hLnN0ZXApYS5zdGVwPVxuMTtpZihcIm51bWJlclwiIT09dHlwZW9mIGEua2V5Ym9hcmRfc3RlcHx8aXNOYU4oYS5rZXlib2FyZF9zdGVwKXx8IWEua2V5Ym9hcmRfc3RlcHx8MD5hLmtleWJvYXJkX3N0ZXApYS5rZXlib2FyZF9zdGVwPTU7XCJudW1iZXJcIj09PXR5cGVvZiBhLmZyb21fbWluJiZhLmZyb208YS5mcm9tX21pbiYmKGEuZnJvbT1hLmZyb21fbWluKTtcIm51bWJlclwiPT09dHlwZW9mIGEuZnJvbV9tYXgmJmEuZnJvbT5hLmZyb21fbWF4JiYoYS5mcm9tPWEuZnJvbV9tYXgpO1wibnVtYmVyXCI9PT10eXBlb2YgYS50b19taW4mJmEudG88YS50b19taW4mJihhLnRvPWEudG9fbWluKTtcIm51bWJlclwiPT09dHlwZW9mIGEudG9fbWF4JiZhLmZyb20+YS50b19tYXgmJihhLnRvPWEudG9fbWF4KTtpZihiKXtiLm1pbiE9PWEubWluJiYoYi5taW49YS5taW4pO2IubWF4IT09YS5tYXgmJihiLm1heD1hLm1heCk7aWYoYi5mcm9tPGIubWlufHxiLmZyb20+Yi5tYXgpYi5mcm9tPWEuZnJvbTtpZihiLnRvPGIubWlufHxiLnRvPlxuYi5tYXgpYi50bz1hLnRvfWlmKFwibnVtYmVyXCIhPT10eXBlb2YgYS5taW5faW50ZXJ2YWx8fGlzTmFOKGEubWluX2ludGVydmFsKXx8IWEubWluX2ludGVydmFsfHwwPmEubWluX2ludGVydmFsKWEubWluX2ludGVydmFsPTA7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBhLm1heF9pbnRlcnZhbHx8aXNOYU4oYS5tYXhfaW50ZXJ2YWwpfHwhYS5tYXhfaW50ZXJ2YWx8fDA+YS5tYXhfaW50ZXJ2YWwpYS5tYXhfaW50ZXJ2YWw9MDthLm1pbl9pbnRlcnZhbCYmYS5taW5faW50ZXJ2YWw+YS5tYXgtYS5taW4mJihhLm1pbl9pbnRlcnZhbD1hLm1heC1hLm1pbik7YS5tYXhfaW50ZXJ2YWwmJmEubWF4X2ludGVydmFsPmEubWF4LWEubWluJiYoYS5tYXhfaW50ZXJ2YWw9YS5tYXgtYS5taW4pfSxkZWNvcmF0ZTpmdW5jdGlvbihhLGIpe3ZhciBkPVwiXCIsYz10aGlzLm9wdGlvbnM7Yy5wcmVmaXgmJihkKz1jLnByZWZpeCk7ZCs9YTtjLm1heF9wb3N0Zml4JiYoYy52YWx1ZXMubGVuZ3RoJiZhPT09Yy5wX3ZhbHVlc1tjLm1heF0/XG4oZCs9Yy5tYXhfcG9zdGZpeCxjLnBvc3RmaXgmJihkKz1cIiBcIikpOmI9PT1jLm1heCYmKGQrPWMubWF4X3Bvc3RmaXgsYy5wb3N0Zml4JiYoZCs9XCIgXCIpKSk7Yy5wb3N0Zml4JiYoZCs9Yy5wb3N0Zml4KTtyZXR1cm4gZH0sdXBkYXRlRnJvbTpmdW5jdGlvbigpe3RoaXMucmVzdWx0LmZyb209dGhpcy5vcHRpb25zLmZyb207dGhpcy5yZXN1bHQuZnJvbV9wZXJjZW50PXRoaXMuY29udmVydFRvUGVyY2VudCh0aGlzLnJlc3VsdC5mcm9tKTt0aGlzLm9wdGlvbnMudmFsdWVzJiYodGhpcy5yZXN1bHQuZnJvbV92YWx1ZT10aGlzLm9wdGlvbnMudmFsdWVzW3RoaXMucmVzdWx0LmZyb21dKX0sdXBkYXRlVG86ZnVuY3Rpb24oKXt0aGlzLnJlc3VsdC50bz10aGlzLm9wdGlvbnMudG87dGhpcy5yZXN1bHQudG9fcGVyY2VudD10aGlzLmNvbnZlcnRUb1BlcmNlbnQodGhpcy5yZXN1bHQudG8pO3RoaXMub3B0aW9ucy52YWx1ZXMmJih0aGlzLnJlc3VsdC50b192YWx1ZT10aGlzLm9wdGlvbnMudmFsdWVzW3RoaXMucmVzdWx0LnRvXSl9LFxudXBkYXRlUmVzdWx0OmZ1bmN0aW9uKCl7dGhpcy5yZXN1bHQubWluPXRoaXMub3B0aW9ucy5taW47dGhpcy5yZXN1bHQubWF4PXRoaXMub3B0aW9ucy5tYXg7dGhpcy51cGRhdGVGcm9tKCk7dGhpcy51cGRhdGVUbygpfSxhcHBlbmRHcmlkOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmdyaWQpe3ZhciBhPXRoaXMub3B0aW9ucyxiLGQ7Yj1hLm1heC1hLm1pbjt2YXIgYz1hLmdyaWRfbnVtLGU9MCxmPTAsZz00LGgsayxtPTAsbj1cIlwiO3RoaXMuY2FsY0dyaWRNYXJnaW4oKTthLmdyaWRfc25hcD8oYz1iL2Euc3RlcCxlPXRoaXMudG9GaXhlZChhLnN0ZXAvKGIvMTAwKSkpOmU9dGhpcy50b0ZpeGVkKDEwMC9jKTs0PGMmJihnPTMpOzc8YyYmKGc9Mik7MTQ8YyYmKGc9MSk7Mjg8YyYmKGc9MCk7Zm9yKGI9MDtiPGMrMTtiKyspe2g9ZztmPXRoaXMudG9GaXhlZChlKmIpOzEwMDxmJiYoZj0xMDAsaC09MiwwPmgmJihoPTApKTt0aGlzLmNvb3Jkcy5iaWdbYl09ZjtrPShmLWUqKGItMSkpL1xuKGgrMSk7Zm9yKGQ9MTtkPD1oJiYwIT09ZjtkKyspbT10aGlzLnRvRml4ZWQoZi1rKmQpLG4rPSc8c3BhbiBjbGFzcz1cImlycy1ncmlkLXBvbCBzbWFsbFwiIHN0eWxlPVwibGVmdDogJyttKyclXCI+PC9zcGFuPic7bis9JzxzcGFuIGNsYXNzPVwiaXJzLWdyaWQtcG9sXCIgc3R5bGU9XCJsZWZ0OiAnK2YrJyVcIj48L3NwYW4+JzttPXRoaXMuY29udmVydFRvVmFsdWUoZik7bT1hLnZhbHVlcy5sZW5ndGg/YS5wX3ZhbHVlc1ttXTp0aGlzLl9wcmV0dGlmeShtKTtuKz0nPHNwYW4gY2xhc3M9XCJpcnMtZ3JpZC10ZXh0IGpzLWdyaWQtdGV4dC0nK2IrJ1wiIHN0eWxlPVwibGVmdDogJytmKyclXCI+JyttK1wiPC9zcGFuPlwifXRoaXMuY29vcmRzLmJpZ19udW09TWF0aC5jZWlsKGMrMSk7dGhpcy4kY2FjaGUuY29udC5hZGRDbGFzcyhcImlycy13aXRoLWdyaWRcIik7dGhpcy4kY2FjaGUuZ3JpZC5odG1sKG4pO3RoaXMuY2FjaGVHcmlkTGFiZWxzKCl9fSxjYWNoZUdyaWRMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgYSxcbmIsZD10aGlzLmNvb3Jkcy5iaWdfbnVtO2ZvcihiPTA7YjxkO2IrKylhPXRoaXMuJGNhY2hlLmdyaWQuZmluZChcIi5qcy1ncmlkLXRleHQtXCIrYiksdGhpcy4kY2FjaGUuZ3JpZF9sYWJlbHMucHVzaChhKTt0aGlzLmNhbGNHcmlkTGFiZWxzKCl9LGNhbGNHcmlkTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIGEsYjtiPVtdO3ZhciBkPVtdLGM9dGhpcy5jb29yZHMuYmlnX251bTtmb3IoYT0wO2E8YzthKyspdGhpcy5jb29yZHMuYmlnX3dbYV09dGhpcy4kY2FjaGUuZ3JpZF9sYWJlbHNbYV0ub3V0ZXJXaWR0aCghMSksdGhpcy5jb29yZHMuYmlnX3BbYV09dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLmJpZ193W2FdL3RoaXMuY29vcmRzLndfcnMqMTAwKSx0aGlzLmNvb3Jkcy5iaWdfeFthXT10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMuYmlnX3BbYV0vMiksYlthXT10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMuYmlnW2FdLXRoaXMuY29vcmRzLmJpZ194W2FdKSxkW2FdPXRoaXMudG9GaXhlZChiW2FdK1xudGhpcy5jb29yZHMuYmlnX3BbYV0pO3RoaXMub3B0aW9ucy5mb3JjZV9lZGdlcyYmKGJbMF08LXRoaXMuY29vcmRzLmdyaWRfZ2FwJiYoYlswXT0tdGhpcy5jb29yZHMuZ3JpZF9nYXAsZFswXT10aGlzLnRvRml4ZWQoYlswXSt0aGlzLmNvb3Jkcy5iaWdfcFswXSksdGhpcy5jb29yZHMuYmlnX3hbMF09dGhpcy5jb29yZHMuZ3JpZF9nYXApLGRbYy0xXT4xMDArdGhpcy5jb29yZHMuZ3JpZF9nYXAmJihkW2MtMV09MTAwK3RoaXMuY29vcmRzLmdyaWRfZ2FwLGJbYy0xXT10aGlzLnRvRml4ZWQoZFtjLTFdLXRoaXMuY29vcmRzLmJpZ19wW2MtMV0pLHRoaXMuY29vcmRzLmJpZ194W2MtMV09dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLmJpZ19wW2MtMV0tdGhpcy5jb29yZHMuZ3JpZF9nYXApKSk7dGhpcy5jYWxjR3JpZENvbGxpc2lvbigyLGIsZCk7dGhpcy5jYWxjR3JpZENvbGxpc2lvbig0LGIsZCk7Zm9yKGE9MDthPGM7YSsrKWI9dGhpcy4kY2FjaGUuZ3JpZF9sYWJlbHNbYV1bMF0sXG5iLnN0eWxlLm1hcmdpbkxlZnQ9LXRoaXMuY29vcmRzLmJpZ194W2FdK1wiJVwifSxjYWxjR3JpZENvbGxpc2lvbjpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmLGc9dGhpcy5jb29yZHMuYmlnX251bTtmb3IoYz0wO2M8ZztjKz1hKXtlPWMrYS8yO2lmKGU+PWcpYnJlYWs7Zj10aGlzLiRjYWNoZS5ncmlkX2xhYmVsc1tlXVswXTtmLnN0eWxlLnZpc2liaWxpdHk9ZFtjXTw9YltlXT9cInZpc2libGVcIjpcImhpZGRlblwifX0sY2FsY0dyaWRNYXJnaW46ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZ3JpZF9tYXJnaW4mJih0aGlzLmNvb3Jkcy53X3JzPXRoaXMuJGNhY2hlLnJzLm91dGVyV2lkdGgoITEpLHRoaXMuY29vcmRzLndfcnMmJih0aGlzLmNvb3Jkcy53X2hhbmRsZT1cInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/dGhpcy4kY2FjaGUuc19zaW5nbGUub3V0ZXJXaWR0aCghMSk6dGhpcy4kY2FjaGUuc19mcm9tLm91dGVyV2lkdGgoITEpLHRoaXMuY29vcmRzLnBfaGFuZGxlPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy53X2hhbmRsZS9cbnRoaXMuY29vcmRzLndfcnMqMTAwKSx0aGlzLmNvb3Jkcy5ncmlkX2dhcD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9oYW5kbGUvMi0uMSksdGhpcy4kY2FjaGUuZ3JpZFswXS5zdHlsZS53aWR0aD10aGlzLnRvRml4ZWQoMTAwLXRoaXMuY29vcmRzLnBfaGFuZGxlKStcIiVcIix0aGlzLiRjYWNoZS5ncmlkWzBdLnN0eWxlLmxlZnQ9dGhpcy5jb29yZHMuZ3JpZF9nYXArXCIlXCIpKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMuaW5wdXQmJih0aGlzLmlzX3VwZGF0ZT0hMCx0aGlzLm9wdGlvbnMuZnJvbT10aGlzLnJlc3VsdC5mcm9tLHRoaXMub3B0aW9ucy50bz10aGlzLnJlc3VsdC50byx0aGlzLm9wdGlvbnM9Zy5leHRlbmQodGhpcy5vcHRpb25zLGEpLHRoaXMudmFsaWRhdGUoKSx0aGlzLnVwZGF0ZVJlc3VsdChhKSx0aGlzLnRvZ2dsZUlucHV0KCksdGhpcy5yZW1vdmUoKSx0aGlzLmluaXQoITApKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmlucHV0JiYodGhpcy51cGRhdGVSZXN1bHQoKSxcbnRoaXMudXBkYXRlKCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbnB1dCYmKHRoaXMudG9nZ2xlSW5wdXQoKSx0aGlzLiRjYWNoZS5pbnB1dC5wcm9wKFwicmVhZG9ubHlcIiwhMSksZy5kYXRhKHRoaXMuaW5wdXQsXCJpb25SYW5nZVNsaWRlclwiLG51bGwpLHRoaXMucmVtb3ZlKCksdGhpcy5vcHRpb25zPXRoaXMuaW5wdXQ9bnVsbCl9fTtnLmZuLmlvblJhbmdlU2xpZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtnLmRhdGEodGhpcyxcImlvblJhbmdlU2xpZGVyXCIpfHxnLmRhdGEodGhpcyxcImlvblJhbmdlU2xpZGVyXCIsbmV3IHIodGhpcyxhLHUrKykpfSl9OyhmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9W1wibXNcIixcIm1velwiLFwid2Via2l0XCIsXCJvXCJdLGQ9MDtkPGIubGVuZ3RoJiYhaC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7KytkKWgucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWhbYltkXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxoLmNhbmNlbEFuaW1hdGlvbkZyYW1lPVxuaFtiW2RdK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl18fGhbYltkXStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTtoLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KGgucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGIsZCl7dmFyIGY9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1NYXRoLm1heCgwLDE2LShmLWEpKSxwPWguc2V0VGltZW91dChmdW5jdGlvbigpe2IoZitnKX0sZyk7YT1mK2c7cmV0dXJuIHB9KTtoLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwoaC5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbihhKXtjbGVhclRpbWVvdXQoYSl9KX0pKCl9KTtcbiIsIi8qXG4gICAgVmFsaWRhdG9yIHYxLjEuMFxuICAgIChjKSBZYWlyIEV2ZW4gT3JcbiAgICBodHRwczovL2dpdGh1Yi5jb20veWFpckVPL3ZhbGlkYXRvclxuXG4gICAgTUlULXN0eWxlIGxpY2Vuc2UuXG4qL1xuXG52YXIgdmFsaWRhdG9yID0gKGZ1bmN0aW9uKCQpe1xuICAgIHZhciBtZXNzYWdlLCB0ZXN0cywgY2hlY2tGaWVsZCwgdmFsaWRhdGUsIG1hcmssIHVubWFyaywgZmllbGQsIG1pbm1heCwgZGVmYXVsdHMsXG4gICAgICAgIHZhbGlkYXRlV29yZHMsIGxlbmd0aFJhbmdlLCBsZW5ndGhMaW1pdCwgcGF0dGVybiwgYWxlcnRUeHQsIGRhdGEsXG4gICAgICAgIGVtYWlsX2lsbGVnYWxDaGFycyA9IC9bXFwoXFwpXFw8XFw+XFwsXFw7XFw6XFxcXFxcL1xcXCJcXFtcXF1dLyxcbiAgICAgICAgZW1haWxfZmlsdGVyID0gL14uK0AuK1xcLi57Miw2fSQvOyAgLy8gZXhtYXBsZSBlbWFpbCBcInN0ZXZlQHMtaS5waG90b1wiXG5cbiAgICAvKiBnZW5lcmFsIHRleHQgbWVzc2FnZXNcbiAgICAqL1xuICAgIG1lc3NhZ2UgPSB7XG4gICAgICAgIGludmFsaWQgICAgICAgICA6ICdpbnZhbGlkIGlucHV0JyxcbiAgICAgICAgY2hlY2tlZCAgICAgICAgIDogJ211c3QgYmUgY2hlY2tlZCcsXG4gICAgICAgIGVtcHR5ICAgICAgICAgICA6ICdwbGVhc2UgcHV0IHNvbWV0aGluZyBoZXJlJyxcbiAgICAgICAgbWluICAgICAgICAgICAgIDogJ2lucHV0IGlzIHRvbyBzaG9ydCcsXG4gICAgICAgIG1heCAgICAgICAgICAgICA6ICdpbnB1dCBpcyB0b28gbG9uZycsXG4gICAgICAgIG51bWJlcl9taW4gICAgICA6ICd0b28gbG93JyxcbiAgICAgICAgbnVtYmVyX21heCAgICAgIDogJ3RvbyBoaWdoJyxcbiAgICAgICAgdXJsICAgICAgICAgICAgIDogJ2ludmFsaWQgVVJMJyxcbiAgICAgICAgbnVtYmVyICAgICAgICAgIDogJ25vdCBhIG51bWJlcicsXG4gICAgICAgIGVtYWlsICAgICAgICAgICA6ICdlbWFpbCBhZGRyZXNzIGlzIGludmFsaWQnLFxuICAgICAgICBlbWFpbF9yZXBlYXQgICAgOiAnZW1haWxzIGRvIG5vdCBtYXRjaCcsXG4gICAgICAgIHBhc3N3b3JkX3JlcGVhdCA6ICdwYXNzd29yZHMgZG8gbm90IG1hdGNoJyxcbiAgICAgICAgcmVwZWF0ICAgICAgICAgIDogJ25vIG1hdGNoJyxcbiAgICAgICAgY29tcGxldGUgICAgICAgIDogJ2lucHV0IGlzIG5vdCBjb21wbGV0ZScsXG4gICAgICAgIHNlbGVjdCAgICAgICAgICA6ICdQbGVhc2Ugc2VsZWN0IGFuIG9wdGlvbidcbiAgICB9O1xuXG4gICAgaWYoIXdpbmRvdy5jb25zb2xlKXtcbiAgICAgICAgY29uc29sZT17fTtcbiAgICAgICAgY29uc29sZS5sb2c9Y29uc29sZS53YXJuPWZ1bmN0aW9uKCl7IHJldHVybjsgfVxuICAgIH1cblxuICAgIC8vIGRlZmF1bHRzXG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIGFsZXJ0cyAgOiB0cnVlLFxuICAgICAgICBjbGFzc2VzIDoge1xuXHQgICAgICAgIGl0ZW0gICAgOiAnaXRlbScsXG5cdCAgICAgICAgYWxlcnQgICA6ICdhbGVydCcsXG5cdCAgICAgICAgYmFkICAgICA6ICdiYWQnXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogVGVzdHMgZm9yIGVhY2ggdHlwZSBvZiBmaWVsZCAoaW5jbHVkaW5nIFNlbGVjdCBlbGVtZW50KVxuICAgICovXG4gICAgdGVzdHMgPSB7XG4gICAgICAgIHNhbWVBc1BsYWNlaG9sZGVyIDogZnVuY3Rpb24oYSl7XG4gICAgICAgICAgICByZXR1cm4gJC5mbi5wbGFjZWhvbGRlciAmJiBhLmF0dHIoJ3BsYWNlaG9sZGVyJykgIT09IHVuZGVmaW5lZCAmJiBkYXRhLnZhbCA9PSBhLnByb3AoJ3BsYWNlaG9sZGVyJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhc1ZhbHVlIDogZnVuY3Rpb24oYSl7XG4gICAgICAgICAgICBpZiggIWEgKXtcbiAgICAgICAgICAgICAgICBhbGVydFR4dCA9IG1lc3NhZ2UuZW1wdHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIC8vICdsaW5rZWQnIGlzIGEgc3BlY2lhbCB0ZXN0IGNhc2UgZm9yIGlucHV0cyB3aGljaCB0aGVpciB2YWx1ZXMgc2hvdWxkIGJlIGVxdWFsIHRvIGVhY2ggb3RoZXIgKGV4LiBjb25maXJtIGVtYWlsIG9yIHJldHlwZSBwYXNzd29yZClcbiAgICAgICAgbGlua2VkIDogZnVuY3Rpb24oYSxiKXtcbiAgICAgICAgICAgIGlmKCBiICE9IGEgKXtcbiAgICAgICAgICAgICAgICAvLyBjaG9vc2UgYSBzcGVjaWZpYyBtZXNzYWdlIG9yIGEgZ2VuZXJhbCBvbmVcbiAgICAgICAgICAgICAgICBhbGVydFR4dCA9IG1lc3NhZ2VbZGF0YS50eXBlICsgJ19yZXBlYXQnXSB8fCBtZXNzYWdlLm5vX21hdGNoO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbWFpbCA6IGZ1bmN0aW9uKGEpe1xuICAgICAgICAgICAgaWYgKCAhZW1haWxfZmlsdGVyLnRlc3QoIGEgKSB8fCBhLm1hdGNoKCBlbWFpbF9pbGxlZ2FsQ2hhcnMgKSApe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gYSA/IG1lc3NhZ2UuZW1haWwgOiBtZXNzYWdlLmVtcHR5O1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICAvLyBhIFwic2tpcFwiIHdpbGwgc2tpcCBzb21lIG9mIHRoZSB0ZXN0cyAobmVlZGVkIGZvciBrZXlkb3duIHZhbGlkYXRpb24pXG4gICAgICAgIHRleHQgOiBmdW5jdGlvbihhLCBza2lwKXtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBhcmUgYXQgbGVhc3QgWCBudW1iZXIgb2Ygd29yZHMsIGVhY2ggYXQgbGVhc3QgMiBjaGFycyBsb25nLlxuICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGUgJ2pvaG4gRiBrZW5lZHknIHNob3VsZCBiZSBhdCBsZWFzdCAyIHdvcmRzIGFuZCB3aWxsIHBhc3MgdmFsaWRhdGlvblxuICAgICAgICAgICAgaWYoIHZhbGlkYXRlV29yZHMgKXtcbiAgICAgICAgICAgICAgICB2YXIgd29yZHMgPSBhLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgLy8gaXRlcnJhdGUgb24gYWxsIHRoZSB3b3Jkc1xuICAgICAgICAgICAgICAgIHZhciB3b3Jkc0xlbmd0aCA9IGZ1bmN0aW9uKGxlbil7XG4gICAgICAgICAgICAgICAgICAgIGZvciggdmFyIHcgPSB3b3Jkcy5sZW5ndGg7IHctLTsgKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHdvcmRzW3ddLmxlbmd0aCA8IGxlbiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYoIHdvcmRzLmxlbmd0aCA8IHZhbGlkYXRlV29yZHMgfHwgIXdvcmRzTGVuZ3RoKDIpICl7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5jb21wbGV0ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCAhc2tpcCAmJiBsZW5ndGhSYW5nZSAmJiBhLmxlbmd0aCA8IGxlbmd0aFJhbmdlWzBdICl7XG4gICAgICAgICAgICAgICAgYWxlcnRUeHQgPSBtZXNzYWdlLm1pbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIG1heCBsZW5ndGggJiBmaWVsZCBsZW5ndGggaXMgZ3JlYXRlciB0aGFuIHRoZSBhbGxvd2VkXG4gICAgICAgICAgICBpZiggbGVuZ3RoUmFuZ2UgJiYgbGVuZ3RoUmFuZ2VbMV0gJiYgYS5sZW5ndGggPiBsZW5ndGhSYW5nZVsxXSApe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5tYXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgZmllbGQncyB2YWx1ZSBzaG91bGQgb2JleSBhbnkgbGVuZ3RoIGxpbWl0cywgYW5kIGlmIHNvLCBtYWtlIHN1cmUgdGhlIGxlbmd0aCBvZiB0aGUgdmFsdWUgaXMgYXMgc3BlY2lmaWVkXG4gICAgICAgICAgICBpZiggbGVuZ3RoTGltaXQgJiYgbGVuZ3RoTGltaXQubGVuZ3RoICl7XG4gICAgICAgICAgICAgICAgd2hpbGUoIGxlbmd0aExpbWl0Lmxlbmd0aCApe1xuICAgICAgICAgICAgICAgICAgICBpZiggbGVuZ3RoTGltaXQucG9wKCkgPT0gYS5sZW5ndGggKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5jb21wbGV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIHBhdHRlcm4gKXtcbiAgICAgICAgICAgICAgICB2YXIgcmVnZXgsIGpzUmVnZXg7XG4gICAgICAgICAgICAgICAgc3dpdGNoKCBwYXR0ZXJuICl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FscGhhbnVtZXJpYycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXggPSAvXlthLXpBLVowLTldKyQvaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdudW1lcmljJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleCA9IC9eWzAtOV0rJC9pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bob25lJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleCA9IC9eXFwrPyhbMC05XXxbLXwnICddKSskL2k7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleCA9IHBhdHRlcm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAganNSZWdleCA9IG5ldyBSZWdFeHAocmVnZXgpLnRlc3QoYSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCBhICYmICFqc1JlZ2V4IClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2goZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLCBmaWVsZCwgJ3JlZ2V4IGlzIGludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIG51bWJlciA6IGZ1bmN0aW9uKGEpe1xuICAgICAgICAgICAgLy8gaWYgbm90IG5vdCBhIG51bWJlclxuICAgICAgICAgICAgaWYoIGlzTmFOKHBhcnNlRmxvYXQoYSkpICYmICFpc0Zpbml0ZShhKSApe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5udW1iZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm90IGVub3VnaCBudW1iZXJzXG4gICAgICAgICAgICBlbHNlIGlmKCBsZW5ndGhSYW5nZSAmJiBhLmxlbmd0aCA8IGxlbmd0aFJhbmdlWzBdICl7XG4gICAgICAgICAgICAgICAgYWxlcnRUeHQgPSBtZXNzYWdlLm1pbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBtYXggbGVuZ3RoICYgZmllbGQgbGVuZ3RoIGlzIGdyZWF0ZXIgdGhhbiB0aGUgYWxsb3dlZFxuICAgICAgICAgICAgZWxzZSBpZiggbGVuZ3RoUmFuZ2UgJiYgbGVuZ3RoUmFuZ2VbMV0gJiYgYS5sZW5ndGggPiBsZW5ndGhSYW5nZVsxXSApe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5tYXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiggbWlubWF4WzBdICYmIChhfDApIDwgbWlubWF4WzBdICl7XG4gICAgICAgICAgICAgICAgYWxlcnRUeHQgPSBtZXNzYWdlLm51bWJlcl9taW47XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiggbWlubWF4WzFdICYmIChhfDApID4gbWlubWF4WzFdICl7XG4gICAgICAgICAgICAgICAgYWxlcnRUeHQgPSBtZXNzYWdlLm51bWJlcl9tYXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIERhdGUgaXMgdmFsaWRhdGVkIGluIEV1cm9wZWFuIGZvcm1hdCAoZGF5LG1vbnRoLHllYXIpXG4gICAgICAgIGRhdGUgOiBmdW5jdGlvbihhKXtcbiAgICAgICAgICAgIHZhciBkYXksIEEgPSBhLnNwbGl0KC9bLS4vXS9nKSwgaTtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5hdGl2ZSBIVE1MNSBzdXBwb3J0OlxuICAgICAgICAgICAgaWYoIGZpZWxkWzBdLnZhbHVlQXNOdW1iZXIgKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBmb3IoIGkgPSBBLmxlbmd0aDsgaS0tOyApe1xuICAgICAgICAgICAgICAgIGlmKCBpc05hTihwYXJzZUZsb2F0KGEpKSAmJiAhaXNGaW5pdGUoYSkgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgZGF5ID0gbmV3IERhdGUoQVsyXSwgQVsxXS0xLCBBWzBdKTtcbiAgICAgICAgICAgICAgICBpZiggZGF5LmdldE1vbnRoKCkrMSA9PSBBWzFdICYmIGRheS5nZXREYXRlKCkgPT0gQVswXSApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZXIpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRlIHRlc3Q6ICcsIGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1cmwgOiBmdW5jdGlvbihhKXtcbiAgICAgICAgICAgIC8vIG1pbmltYWxpc3RpYyBVUkwgdmFsaWRhdGlvblxuICAgICAgICAgICAgZnVuY3Rpb24gdGVzdFVybCh1cmwpe1xuICAgICAgICAgICAgICAgIHJldHVybiAvXihodHRwcz86XFwvXFwvKT8oW1xcd1xcZFxcLV9dK1xcLitbQS1aYS16XXsyLH0pK1xcLz8vLnRlc3QoIHVybCApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoICF0ZXN0VXJsKCBhICkgKXtcbiAgICAgICAgICAgICAgICBhbGVydFR4dCA9IGEgPyBtZXNzYWdlLnVybCA6IG1lc3NhZ2UuZW1wdHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGRlbiA6IGZ1bmN0aW9uKGEpe1xuICAgICAgICAgICAgaWYoIGxlbmd0aFJhbmdlICYmIGEubGVuZ3RoIDwgbGVuZ3RoUmFuZ2VbMF0gKXtcbiAgICAgICAgICAgICAgICBhbGVydFR4dCA9IG1lc3NhZ2UubWluO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCBwYXR0ZXJuICl7XG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4O1xuICAgICAgICAgICAgICAgIGlmKCBwYXR0ZXJuID09ICdhbHBoYW51bWVyaWMnICl7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gL15bYS16MC05XSskL2k7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhcmVnZXgudGVzdChhKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdCA6IGZ1bmN0aW9uKGEpe1xuICAgICAgICAgICAgaWYoICF0ZXN0cy5oYXNWYWx1ZShhKSApe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5zZWxlY3Q7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogbWFya3MgaW52YWxpZCBmaWVsZHNcbiAgICAqL1xuICAgIG1hcmsgPSBmdW5jdGlvbiggZmllbGQsIHRleHQgKXtcbiAgICAgICAgaWYoICF0ZXh0IHx8ICFmaWVsZCB8fCAhZmllbGQubGVuZ3RoIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBub3QgYWxyZWFkeSBtYXJrZWQgYXMgYSAnYmFkJyByZWNvcmQgYW5kIGFkZCB0aGUgJ2FsZXJ0JyBvYmplY3QuXG4gICAgICAgIC8vIGlmIGFscmVhZHkgaXMgbWFya2VkIGFzICdiYWQnLCB0aGVuIG1ha2Ugc3VyZSB0aGUgdGV4dCBpcyBzZXQgYWdhaW4gYmVjYXVzZSBpIG1pZ2h0IGNoYW5nZSBkZXBlbmRpbmcgb24gdmFsaWRhdGlvblxuICAgICAgICB2YXIgaXRlbSA9IGZpZWxkLmNsb3Nlc3QoJy4nICsgZGVmYXVsdHMuY2xhc3Nlcy5pdGVtKSxcbiAgICAgICAgICAgIHdhcm5pbmc7XG5cbiAgICAgICAgaWYoIGl0ZW0uaGFzQ2xhc3MoZGVmYXVsdHMuY2xhc3Nlcy5iYWQpICl7XG4gICAgICAgICAgICBpZiggZGVmYXVsdHMuYWxlcnRzIClcbiAgICAgICAgICAgICAgICBpdGVtLmZpbmQoJy4nK2RlZmF1bHRzLmNsYXNzZXMuYWxlcnQpLmh0bWwodGV4dCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGVsc2UgaWYoIGRlZmF1bHRzLmFsZXJ0cyApe1xuICAgICAgICAgICAgd2FybmluZyA9ICQoJzxkaXYgY2xhc3M9XCInKyBkZWZhdWx0cy5jbGFzc2VzLmFsZXJ0ICsnXCI+JykuaHRtbCggdGV4dCApO1xuICAgICAgICAgICAgaXRlbS5hcHBlbmQoIHdhcm5pbmcgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoZGVmYXVsdHMuY2xhc3Nlcy5iYWQpO1xuICAgICAgICAvLyBhIGRlbGF5IHNvIHRoZSBcImFsZXJ0XCIgY291bGQgYmUgdHJhbnNpdGlvbmVkIHZpYSBDU1NcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgaXRlbS5hZGRDbGFzcyhkZWZhdWx0cy5jbGFzc2VzLmJhZCk7XG4gICAgICAgIH0sIDApO1xuICAgIH07XG4gICAgLyogdW4tbWFya3MgaW52YWxpZCBmaWVsZHNcbiAgICAqL1xuICAgIHVubWFyayA9IGZ1bmN0aW9uKCBmaWVsZCApe1xuICAgICAgICBpZiggIWZpZWxkIHx8ICFmaWVsZC5sZW5ndGggKXtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybignbm8gXCJmaWVsZFwiIGFyZ3VtZW50LCBudWxsIG9yIERPTSBvYmplY3Qgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmaWVsZC5jbG9zZXN0KCcuJyArIGRlZmF1bHRzLmNsYXNzZXMuaXRlbSlcbiAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoZGVmYXVsdHMuY2xhc3Nlcy5iYWQpXG4gICAgICAgICAgICAgLmZpbmQoJy4nKyBkZWZhdWx0cy5jbGFzc2VzLmFsZXJ0KS5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdGVzdEJ5VHlwZSh0eXBlLCB2YWx1ZSl7XG4gICAgICAgIGlmKCB0eXBlID09ICd0ZWwnIClcbiAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuIHx8ICdwaG9uZSc7XG5cbiAgICAgICAgaWYoICF0eXBlIHx8IHR5cGUgPT0gJ3Bhc3N3b3JkJyB8fCB0eXBlID09ICd0ZWwnIHx8IHR5cGUgPT0gJ3NlYXJjaCcgfHwgdHlwZSA9PSAnZmlsZScgKVxuICAgICAgICAgICAgdHlwZSA9ICd0ZXh0JztcblxuXG4gICAgICAgIHJldHVybiB0ZXN0c1t0eXBlXSA/IHRlc3RzW3R5cGVdKHZhbHVlLCB0cnVlKSA6IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUZpZWxkRGF0YShlbCl7XG4gICAgICAgIGZpZWxkID0gJChlbCk7XG5cbiAgICAgICAgZmllbGQuZGF0YSggJ3ZhbGlkJywgdHJ1ZSApOyAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIHZhbGlkaXR5IG9mIGZpZWxkXG4gICAgICAgIGZpZWxkLmRhdGEoICd0eXBlJywgZmllbGQuYXR0cigndHlwZScpICk7ICAgLy8gZXZlcnkgZmllbGQgc3RhcnRzIGFzICd2YWxpZD10cnVlJyB1bnRpbCBwcm92ZW4gb3RoZXJ3aXNlXG4gICAgICAgIHBhdHRlcm4gPSBmaWVsZC5hdHRyKCdwYXR0ZXJuJyk7XG4gICAgfVxuXG4gICAgLyogVmFsaWRhdGlvbnMgcGVyLWNoYXJhY3RlciBrZXlwcmVzc1xuICAgICovXG4gICAgZnVuY3Rpb24ga2V5cHJlc3MoZSl7XG4gICAgICAgIHByZXBhcmVGaWVsZERhdGEodGhpcyk7XG4gICAgICAgIC8vICBTdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpXG5cbiAgICAgICAgaWYoIGUuY2hhckNvZGUgKXtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0QnlUeXBlKCB0aGlzLnR5cGUsIHRoaXMudmFsdWUgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIENoZWNrcyBhIHNpbmdsZSBmb3JtIGZpZWxkIGJ5IGl0J3MgdHlwZSBhbmQgc3BlY2lmaWMgKGN1c3RvbSkgYXR0cmlidXRlc1xuICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tGaWVsZCgpe1xuICAgICAgICAvLyBza2lwIHRlc3RpbmcgZmllbGRzIHdob20gdGhlaXIgdHlwZSBpcyBub3QgSElEREVOIGJ1dCB0aGV5IGFyZSBISURERU4gdmlhIENTUy5cbiAgICAgICAgaWYoIHRoaXMudHlwZSAhPSdoaWRkZW4nICYmICQodGhpcykuaXMoJzpoaWRkZW4nKSApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBwcmVwYXJlRmllbGREYXRhKHRoaXMpO1xuXG4gICAgICAgIGZpZWxkLmRhdGEoICd2YWwnLCBmaWVsZFswXS52YWx1ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKSApOyAgLy8gY2FjaGUgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBhbmQgdHJpbSBpdFxuICAgICAgICBkYXRhID0gZmllbGQuZGF0YSgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgZXJyb3IgbWVzc2FnZSBmb3IgdGhhdCBmaWVsZCwgaWYgbm90LCB1c2UgdGhlIGRlZmF1bHQgJ2ludmFsaWQnIG1lc3NhZ2VcbiAgICAgICAgYWxlcnRUeHQgPSBtZXNzYWdlW2ZpZWxkLnByb3AoJ25hbWUnKV0gfHwgbWVzc2FnZS5pbnZhbGlkO1xuXG4gICAgICAgIC8vIFNwZWNpYWwgdHJlYXRtZW50XG4gICAgICAgIGlmKCBmaWVsZFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInNlbGVjdFwiICl7XG4gICAgICAgICAgICBkYXRhLnR5cGUgPSAnc2VsZWN0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCBmaWVsZFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInRleHRhcmVhXCIgKXtcbiAgICAgICAgICAgIGRhdGEudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgfVxuICAgICAgICAvKiBHYXRoZXIgQ3VzdG9tIGRhdGEgYXR0cmlidXRlcyBmb3Igc3BlY2lmaWMgdmFsaWRhdGlvbjpcbiAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVXb3JkcyAgID0gZGF0YVsndmFsaWRhdGVXb3JkcyddIHx8IDA7XG4gICAgICAgIGxlbmd0aFJhbmdlICAgICA9IGRhdGFbJ3ZhbGlkYXRlTGVuZ3RoUmFuZ2UnXSA/IChkYXRhWyd2YWxpZGF0ZUxlbmd0aFJhbmdlJ10rJycpLnNwbGl0KCcsJykgOiBbMV07XG4gICAgICAgIGxlbmd0aExpbWl0ICAgICA9IGRhdGFbJ3ZhbGlkYXRlTGVuZ3RoJ10gPyAoZGF0YVsndmFsaWRhdGVMZW5ndGgnXSsnJykuc3BsaXQoJywnKSA6IGZhbHNlO1xuICAgICAgICBtaW5tYXggICAgICAgICAgPSBkYXRhWyd2YWxpZGF0ZU1pbm1heCddID8gKGRhdGFbJ3ZhbGlkYXRlTWlubWF4J10rJycpLnNwbGl0KCcsJykgOiAnJzsgLy8gZm9yIHR5cGUgJ251bWJlcicsIGRlZmluZXMgdGhlIG1pbmltdW0gYW5kL29yIG1heGltdW0gZm9yIHRoZSB2YWx1ZSBhcyBhIG51bWJlci5cblxuICAgICAgICBkYXRhLnZhbGlkID0gdGVzdHMuaGFzVmFsdWUoZGF0YS52YWwpO1xuXG4gICAgICAgIGlmKCBmaWVsZC5oYXNDbGFzcygnb3B0aW9uYWwnKSAmJiAhZGF0YS52YWxpZCApXG4gICAgICAgICAgICBkYXRhLnZhbGlkID0gdHJ1ZTtcblxuXG4gICAgICAgIC8vIGZvciBjaGVja2JveGVzXG4gICAgICAgIGlmKCBmaWVsZFswXS50eXBlID09PSBcImNoZWNrYm94XCIgKXtcbiAgICAgICAgICAgIGRhdGEudmFsaWQgPSBmaWVsZFswXS5jaGVja2VkO1xuICAgICAgICAgICAgYWxlcnRUeHQgPSBtZXNzYWdlLmNoZWNrZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBmaWVsZCBoYXMgYW55IHZhbHVlXG4gICAgICAgIGVsc2UgaWYoIGRhdGEudmFsaWQgKXtcbiAgICAgICAgICAgIC8qIFZhbGlkYXRlIHRoZSBmaWVsZCdzIHZhbHVlIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgKGFuZCBhdHRyaWJ1dGUgZXhpc3RzKVxuICAgICAgICAgICAgKiB0aGlzIGlzIG5lZWRlZCB3aGVuIGZpeGluZyB0aGUgcGxhY2Vob2xkZXJzIGZvciBvbGRlciBicm93c2VycyB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IHRoZW0uXG4gICAgICAgICAgICAqIGluIHRoaXMgY2FzZSwgbWFrZSBzdXJlIHRoZSBcInBsYWNlaG9sZGVyXCIgalF1ZXJ5IHBsdWdpbiB3YXMgZXZlbiB1c2VkIGJlZm9yZSBwcm9jZWVkaW5nXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYoIHRlc3RzLnNhbWVBc1BsYWNlaG9sZGVyKGZpZWxkKSApe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHh0ID0gbWVzc2FnZS5lbXB0eTtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZmllbGQgaXMgbGlua2VkIHRvIGFub3RoZXIgZmllbGQgKHRoZWlyIHZhbHVlcyBzaG91bGQgYmUgdGhlIHNhbWUpXG4gICAgICAgICAgICBpZiggZGF0YS52YWxpZGF0ZUxpbmtlZCApe1xuICAgICAgICAgICAgICAgIHZhciBsaW5rZWRUbyA9IGRhdGFbJ3ZhbGlkYXRlTGlua2VkJ10uaW5kZXhPZignIycpID09IDAgPyAkKGRhdGFbJ3ZhbGlkYXRlTGlua2VkJ10pIDogJCgnOmlucHV0W25hbWU9JyArIGRhdGFbJ3ZhbGlkYXRlTGlua2VkJ10gKyAnXScpO1xuICAgICAgICAgICAgICAgIGRhdGEudmFsaWQgPSB0ZXN0cy5saW5rZWQoIGRhdGEudmFsLCBsaW5rZWRUby52YWwoKSApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogdmFsaWRhdGUgYnkgdHlwZSBvZiBmaWVsZC4gdXNlICdhdHRyKCknIGlzIHByb2ZmZXJlZCB0byBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBhbmQgbm90IHdoYXQgdGhlIGJyb3dzZXJzIHNlZXMgZm9yIHVuc3VwcG9ydGVkIHR5cGVzLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVsc2UgaWYoIGRhdGEudmFsaWQgfHwgZGF0YS50eXBlID09ICdzZWxlY3QnIClcbiAgICAgICAgICAgICAgICBkYXRhLnZhbGlkID0gdGVzdEJ5VHlwZShkYXRhLnR5cGUsIGRhdGEudmFsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFyayAvIHVubWFyayB0aGUgZmllbGQsIGFuZCBzZXQgdGhlIGdlbmVyYWwgJ3N1Ym1pdCcgZmxhZyBhY2NvcmRpbmdseVxuICAgICAgICBpZiggZGF0YS52YWxpZCApXG4gICAgICAgICAgICB1bm1hcmsoIGZpZWxkICk7XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBtYXJrKCBmaWVsZCwgYWxlcnRUeHQgKTtcbiAgICAgICAgICAgIHN1Ym1pdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGEudmFsaWQ7XG4gICAgfVxuXG4gICAgLyogdmFpbGRhdGVzIGFsbCB0aGUgUkVRVUlSRUQgZmllbGRzIHByaW9yIHRvIHN1Ym1pdGluZyB0aGUgZm9ybVxuICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tBbGwoICRmb3JtICl7XG4gICAgICAgICRmb3JtID0gJCgkZm9ybSk7XG5cbiAgICAgICAgaWYoICRmb3JtLmxlbmd0aCA9PSAwICl7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2VsZW1lbnQgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBzdWJtaXQgPSB0cnVlLCAvLyBzYXZlIHRoZSBzY29wZVxuICAgICAgICAgICAgLy8gZ2V0IGFsbCB0aGUgaW5wdXQvdGV4dGFyZWFzL3NlbGVjdCBmaWVsZHMgd2hpY2ggYXJlIHJlcXVpcmVkIG9yIG9wdGlvbmFsIChtZWFuaW5nLCB0aGV5IG5lZWQgdmFsaWRhdGlvbiBvbmx5IGlmIHRoZXkgd2VyZSBmaWxsZWQpXG4gICAgICAgICAgICBmaWVsZHNUb0NoZWNrID0gJGZvcm0uZmluZCgnOmlucHV0JykuZmlsdGVyKCdbcmVxdWlyZWQ9cmVxdWlyZWRdLCAucmVxdWlyZWQsIC5vcHRpb25hbCcpLm5vdCgnW2Rpc2FibGVkPWRpc2FibGVkXScpO1xuXG4gICAgICAgIGZpZWxkc1RvQ2hlY2suZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gdXNlIGFuIEFORCBvcGVyYXRpb24sIHNvIGlmIGFueSBvZiB0aGUgZmllbGRzIHJldHVybnMgJ2ZhbHNlJyB0aGVuIHRoZSBzdWJtaXR0ZWQgcmVzdWx0IHdpbGwgYmUgYWxzbyBGQUxTRVxuICAgICAgICAgICAgc3VibWl0ID0gc3VibWl0ICogY2hlY2tGaWVsZC5hcHBseSh0aGlzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuICEhc3VibWl0OyAgLy8gY2FzdGluZyB0aGUgdmFyaWFibGUgdG8gbWFrZSBzdXJlIGl0J3MgYSBib29sZWFuXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVmYXVsdHMgICAgOiBkZWZhdWx0cyxcbiAgICAgICAgY2hlY2tGaWVsZCAgOiBjaGVja0ZpZWxkLFxuICAgICAgICBrZXlwcmVzcyAgICA6IGtleXByZXNzLFxuICAgICAgICBjaGVja0FsbCAgICA6IGNoZWNrQWxsLFxuICAgICAgICBtYXJrICAgICAgICA6IG1hcmssXG4gICAgICAgIHVubWFyayAgICAgIDogdW5tYXJrLFxuICAgICAgICBtZXNzYWdlICAgICA6IG1lc3NhZ2UsXG4gICAgICAgIHRlc3RzICAgICAgIDogdGVzdHNcbiAgICB9XG59KShqUXVlcnkpOyIsIi8qIVxuKiBQYXJzbGV5LmpzXG4qIFZlcnNpb24gMi4zLjEzIC0gYnVpbHQgVHVlLCBNYXkgMzFzdCAyMDE2LCA4OjU1IGFtXG4qIGh0dHA6Ly9wYXJzbGV5anMub3JnXG4qIEd1aWxsYXVtZSBQb3RpZXIgLSA8Z3VpbGxhdW1lQHdpc2VtYmx5LmNvbT5cbiogTWFyYy1BbmRyZSBMYWZvcnR1bmUgLSA8cGV0cm9zZWxpbnVtQG1hcmMtYW5kcmUuY2E+XG4qIE1JVCBMaWNlbnNlZFxuKi9cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxpPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9cmV0dXJuIEFycmF5LmZyb20oZSl9dmFyIF9zbGljZT1BcnJheS5wcm90b3R5cGUuc2xpY2U7IWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKFwianF1ZXJ5XCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSx0KTplLnBhcnNsZXk9dChlLmpRdWVyeSl9KHRoaXMsZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLHQpe3JldHVybiBlLnBhcnNsZXlBZGFwdGVkQ2FsbGJhY2t8fChlLnBhcnNsZXlBZGFwdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7aS51bnNoaWZ0KHRoaXMpLGUuYXBwbHkodHx8UixpKX0pLGUucGFyc2xleUFkYXB0ZWRDYWxsYmFja31mdW5jdGlvbiBpKGUpe3JldHVybiAwPT09ZS5sYXN0SW5kZXhPZihxLDApP2Uuc3Vic3RyKHEubGVuZ3RoKTplfS8qKlxuICAgKiBpbnB1dGV2ZW50IC0gQWxsZXZpYXRlIGJyb3dzZXIgYnVncyBmb3IgaW5wdXQgZXZlbnRzXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJjYW5kcmUvaW5wdXRldmVudFxuICAgKiBAdmVyc2lvbiB2MC4wLjMgLSAoYnVpbHQgVGh1LCBBcHIgMTR0aCAyMDE2LCA1OjU4IHBtKVxuICAgKiBAYXV0aG9yIE1hcmMtQW5kcmUgTGFmb3J0dW5lIDxnaXRodWJAbWFyYy1hbmRyZS5jYT5cbiAgICogQGxpY2Vuc2UgTUlUXG4gICAqL1xuZnVuY3Rpb24gbigpe3ZhciB0PXRoaXMsaT13aW5kb3d8fGdsb2JhbDtlLmV4dGVuZCh0aGlzLHtpc05hdGl2ZUV2ZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLm9yaWdpbmFsRXZlbnQmJmUub3JpZ2luYWxFdmVudC5pc1RydXN0ZWQhPT0hMX0sZmFrZUlucHV0RXZlbnQ6ZnVuY3Rpb24oaSl7dC5pc05hdGl2ZUV2ZW50KGkpJiZlKGkudGFyZ2V0KS50cmlnZ2VyKFwiaW5wdXRcIil9LG1pc2JlaGF2ZXM6ZnVuY3Rpb24oaSl7dC5pc05hdGl2ZUV2ZW50KGkpJiYodC5iZWhhdmVzT2soaSksZShkb2N1bWVudCkub24oXCJjaGFuZ2UuaW5wdXRldmVudFwiLGkuZGF0YS5zZWxlY3Rvcix0LmZha2VJbnB1dEV2ZW50KSx0LmZha2VJbnB1dEV2ZW50KGkpKX0sYmVoYXZlc09rOmZ1bmN0aW9uKGkpe3QuaXNOYXRpdmVFdmVudChpKSYmZShkb2N1bWVudCkub2ZmKFwiaW5wdXQuaW5wdXRldmVudFwiLGkuZGF0YS5zZWxlY3Rvcix0LmJlaGF2ZXNPaykub2ZmKFwiY2hhbmdlLmlucHV0ZXZlbnRcIixpLmRhdGEuc2VsZWN0b3IsdC5taXNiZWhhdmVzKX0saW5zdGFsbDpmdW5jdGlvbigpe2lmKCFpLmlucHV0RXZlbnRQYXRjaGVkKXtpLmlucHV0RXZlbnRQYXRjaGVkPVwiMC4wLjNcIjtmb3IodmFyIG49W1wic2VsZWN0XCIsJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScsJ2lucHV0W3R5cGU9XCJmaWxlXCJdJ10scj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgcz1uW3JdO2UoZG9jdW1lbnQpLm9uKFwiaW5wdXQuaW5wdXRldmVudFwiLHMse3NlbGVjdG9yOnN9LHQuYmVoYXZlc09rKS5vbihcImNoYW5nZS5pbnB1dGV2ZW50XCIscyx7c2VsZWN0b3I6c30sdC5taXNiZWhhdmVzKX19fSx1bmluc3RhbGw6ZnVuY3Rpb24oKXtkZWxldGUgaS5pbnB1dEV2ZW50UGF0Y2hlZCxlKGRvY3VtZW50KS5vZmYoXCIuaW5wdXRldmVudFwiKX19KX12YXIgcj0xLHM9e30sYT17YXR0cjpmdW5jdGlvbihlLHQsaSl7dmFyIG4scixzLGE9bmV3IFJlZ0V4cChcIl5cIit0LFwiaVwiKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgaSlpPXt9O2Vsc2UgZm9yKG4gaW4gaSlpLmhhc093blByb3BlcnR5KG4pJiZkZWxldGUgaVtuXTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGVbMF0pcmV0dXJuIGk7Zm9yKHM9ZVswXS5hdHRyaWJ1dGVzLG49cy5sZW5ndGg7bi0tOylyPXNbbl0sciYmci5zcGVjaWZpZWQmJmEudGVzdChyLm5hbWUpJiYoaVt0aGlzLmNhbWVsaXplKHIubmFtZS5zbGljZSh0Lmxlbmd0aCkpXT10aGlzLmRlc2VyaWFsaXplVmFsdWUoci52YWx1ZSkpO3JldHVybiBpfSxjaGVja0F0dHI6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlLmlzKFwiW1wiK3QraStcIl1cIil9LHNldEF0dHI6ZnVuY3Rpb24oZSx0LGksbil7ZVswXS5zZXRBdHRyaWJ1dGUodGhpcy5kYXNoZXJpemUodCtpKSxTdHJpbmcobikpfSxnZW5lcmF0ZUlEOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIityKyt9LGRlc2VyaWFsaXplVmFsdWU6ZnVuY3Rpb24odCl7dmFyIGk7dHJ5e3JldHVybiB0P1widHJ1ZVwiPT10fHwoXCJmYWxzZVwiPT10PyExOlwibnVsbFwiPT10P251bGw6aXNOYU4oaT1OdW1iZXIodCkpPy9eW1xcW1xce10vLnRlc3QodCk/ZS5wYXJzZUpTT04odCk6dDppKTp0fWNhdGNoKG4pe3JldHVybiB0fX0sY2FtZWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvLSsoLik/L2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnRvVXBwZXJDYXNlKCk6XCJcIn0pfSxkYXNoZXJpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvOjovZyxcIi9cIikucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZyxcIiQxXyQyXCIpLnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csXCIkMV8kMlwiKS5yZXBsYWNlKC9fL2csXCItXCIpLnRvTG93ZXJDYXNlKCl9LHdhcm46ZnVuY3Rpb24oKXt2YXIgZTt3aW5kb3cuY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LmNvbnNvbGUud2FybiYmKGU9d2luZG93LmNvbnNvbGUpLndhcm4uYXBwbHkoZSxhcmd1bWVudHMpfSx3YXJuT25jZTpmdW5jdGlvbihlKXtzW2VdfHwoc1tlXT0hMCx0aGlzLndhcm4uYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sX3Jlc2V0V2FybmluZ3M6ZnVuY3Rpb24oKXtzPXt9fSx0cmltU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9LG5hbWVzcGFjZUV2ZW50czpmdW5jdGlvbih0LGkpe3JldHVybiB0PXRoaXMudHJpbVN0cmluZyh0fHxcIlwiKS5zcGxpdCgvXFxzKy8pLHRbMF0/ZS5tYXAodCxmdW5jdGlvbihlKXtyZXR1cm4gZStcIi5cIitpfSkuam9pbihcIiBcIik6XCJcIn0sb2JqZWN0Q3JlYXRlOk9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoPjEpdGhyb3cgRXJyb3IoXCJTZWNvbmQgYXJndW1lbnQgbm90IHN1cHBvcnRlZFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdFwiKTtlLnByb3RvdHlwZT10O3ZhciBpPW5ldyBlO3JldHVybiBlLnByb3RvdHlwZT1udWxsLGl9fSgpfSxvPWEsbD17bmFtZXNwYWNlOlwiZGF0YS1wYXJzbGV5LVwiLGlucHV0czpcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCIsZXhjbHVkZWQ6XCJpbnB1dFt0eXBlPWJ1dHRvbl0sIGlucHV0W3R5cGU9c3VibWl0XSwgaW5wdXRbdHlwZT1yZXNldF0sIGlucHV0W3R5cGU9aGlkZGVuXVwiLHByaW9yaXR5RW5hYmxlZDohMCxtdWx0aXBsZTpudWxsLGdyb3VwOm51bGwsdWlFbmFibGVkOiEwLHZhbGlkYXRpb25UaHJlc2hvbGQ6Myxmb2N1czpcImZpcnN0XCIsdHJpZ2dlcjohMSx0cmlnZ2VyQWZ0ZXJGYWlsdXJlOlwiaW5wdXRcIixlcnJvckNsYXNzOlwicGFyc2xleS1lcnJvclwiLHN1Y2Nlc3NDbGFzczpcInBhcnNsZXktc3VjY2Vzc1wiLGNsYXNzSGFuZGxlcjpmdW5jdGlvbihlKXt9LGVycm9yc0NvbnRhaW5lcjpmdW5jdGlvbihlKXt9LGVycm9yc1dyYXBwZXI6Jzx1bCBjbGFzcz1cInBhcnNsZXktZXJyb3JzLWxpc3RcIj48L3VsPicsZXJyb3JUZW1wbGF0ZTpcIjxsaT48L2xpPlwifSx1PWZ1bmN0aW9uKCl7dGhpcy5fX2lkX189by5nZW5lcmF0ZUlEKCl9O3UucHJvdG90eXBlPXthc3luY1N1cHBvcnQ6ITAsX3BpcGVBY2NvcmRpbmdUb1ZhbGlkYXRpb25SZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9ZnVuY3Rpb24oKXt2YXIgaT1lLkRlZmVycmVkKCk7cmV0dXJuITAhPT10LnZhbGlkYXRpb25SZXN1bHQmJmkucmVqZWN0KCksaS5yZXNvbHZlKCkucHJvbWlzZSgpfTtyZXR1cm5baSxpXX0sYWN0dWFsaXplT3B0aW9uczpmdW5jdGlvbigpe3JldHVybiBvLmF0dHIodGhpcy4kZWxlbWVudCx0aGlzLm9wdGlvbnMubmFtZXNwYWNlLHRoaXMuZG9tT3B0aW9ucyksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmFjdHVhbGl6ZU9wdGlvbnMmJnRoaXMucGFyZW50LmFjdHVhbGl6ZU9wdGlvbnMoKSx0aGlzfSxfcmVzZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3RoaXMuZG9tT3B0aW9ucz1vLm9iamVjdENyZWF0ZSh0aGlzLnBhcmVudC5vcHRpb25zKSx0aGlzLm9wdGlvbnM9by5vYmplY3RDcmVhdGUodGhpcy5kb21PcHRpb25zKTtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYodGhpcy5vcHRpb25zW3RdPWVbdF0pO3RoaXMuYWN0dWFsaXplT3B0aW9ucygpfSxfbGlzdGVuZXJzOm51bGwsb246ZnVuY3Rpb24oZSx0KXt0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fTt2YXIgaT10aGlzLl9saXN0ZW5lcnNbZV09dGhpcy5fbGlzdGVuZXJzW2VdfHxbXTtyZXR1cm4gaS5wdXNoKHQpLHRoaXN9LHN1YnNjcmliZTpmdW5jdGlvbih0LGkpe2UubGlzdGVuVG8odGhpcyx0LnRvTG93ZXJDYXNlKCksaSl9LG9mZjpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW2VdO2lmKGkpaWYodClmb3IodmFyIG49aS5sZW5ndGg7bi0tOylpW25dPT09dCYmaS5zcGxpY2UobiwxKTtlbHNlIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbZV07cmV0dXJuIHRoaXN9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKHQsaSl7ZS51bnN1YnNjcmliZVRvKHRoaXMsdC50b0xvd2VyQ2FzZSgpKX0sdHJpZ2dlcjpmdW5jdGlvbihlLHQsaSl7dD10fHx0aGlzO3ZhciBuLHI9dGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbZV07aWYocilmb3IodmFyIHM9ci5sZW5ndGg7cy0tOylpZihuPXJbc10uY2FsbCh0LHQsaSksbj09PSExKXJldHVybiBuO3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC50cmlnZ2VyKGUsdCxpKTohMH0scmVzZXQ6ZnVuY3Rpb24oKXtpZihcIlBhcnNsZXlGb3JtXCIhPT10aGlzLl9fY2xhc3NfXylyZXR1cm4gdGhpcy5fcmVzZXRVSSgpLHRoaXMuX3RyaWdnZXIoXCJyZXNldFwiKTtmb3IodmFyIGU9MDtlPHRoaXMuZmllbGRzLmxlbmd0aDtlKyspdGhpcy5maWVsZHNbZV0ucmVzZXQoKTt0aGlzLl90cmlnZ2VyKFwicmVzZXRcIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLl9kZXN0cm95VUkoKSxcIlBhcnNsZXlGb3JtXCIhPT10aGlzLl9fY2xhc3NfXylyZXR1cm4gdGhpcy4kZWxlbWVudC5yZW1vdmVEYXRhKFwiUGFyc2xleVwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoXCJQYXJzbGV5RmllbGRNdWx0aXBsZVwiKSx2b2lkIHRoaXMuX3RyaWdnZXIoXCJkZXN0cm95XCIpO2Zvcih2YXIgZT0wO2U8dGhpcy5maWVsZHMubGVuZ3RoO2UrKyl0aGlzLmZpZWxkc1tlXS5kZXN0cm95KCk7dGhpcy4kZWxlbWVudC5yZW1vdmVEYXRhKFwiUGFyc2xleVwiKSx0aGlzLl90cmlnZ2VyKFwiZGVzdHJveVwiKX0sYXN5bmNJc1ZhbGlkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8ud2Fybk9uY2UoXCJhc3luY0lzVmFsaWQgaXMgZGVwcmVjYXRlZDsgcGxlYXNlIHVzZSB3aGVuVmFsaWQgaW5zdGVhZFwiKSx0aGlzLndoZW5WYWxpZCh7Z3JvdXA6ZSxmb3JjZTp0fSl9LF9maW5kUmVsYXRlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubXVsdGlwbGU/dGhpcy5wYXJlbnQuJGVsZW1lbnQuZmluZChcIltcIit0aGlzLm9wdGlvbnMubmFtZXNwYWNlKydtdWx0aXBsZT1cIicrdGhpcy5vcHRpb25zLm11bHRpcGxlKydcIl0nKTp0aGlzLiRlbGVtZW50fX07dmFyIGQ9e3N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gZX0saW50ZWdlcjpmdW5jdGlvbihlKXtpZihpc05hTihlKSl0aHJvdydSZXF1aXJlbWVudCBpcyBub3QgYW4gaW50ZWdlcjogXCInK2UrJ1wiJztyZXR1cm4gcGFyc2VJbnQoZSwxMCl9LG51bWJlcjpmdW5jdGlvbihlKXtpZihpc05hTihlKSl0aHJvdydSZXF1aXJlbWVudCBpcyBub3QgYSBudW1iZXI6IFwiJytlKydcIic7cmV0dXJuIHBhcnNlRmxvYXQoZSl9LHJlZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgaT1lKHQpO2lmKDA9PT1pLmxlbmd0aCl0aHJvdydObyBzdWNoIHJlZmVyZW5jZTogXCInK3QrJ1wiJztyZXR1cm4gaX0sXCJib29sZWFuXCI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJmYWxzZVwiIT09ZX0sb2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBvLmRlc2VyaWFsaXplVmFsdWUoZSl9LHJlZ2V4cDpmdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybi9eXFwvLipcXC8oPzpbZ2lteV0qKSQvLnRlc3QoZSk/KHQ9ZS5yZXBsYWNlKC8uKlxcLyhbZ2lteV0qKSQvLFwiJDFcIiksZT1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIl4vKC4qPykvXCIrdCtcIiRcIiksXCIkMVwiKSk6ZT1cIl5cIitlK1wiJFwiLG5ldyBSZWdFeHAoZSx0KX19LGg9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLm1hdGNoKC9eXFxzKlxcWyguKilcXF1cXHMqJC8pO2lmKCFpKXRocm93J1JlcXVpcmVtZW50IGlzIG5vdCBhbiBhcnJheTogXCInK2UrJ1wiJzt2YXIgbj1pWzFdLnNwbGl0KFwiLFwiKS5tYXAoby50cmltU3RyaW5nKTtpZihuLmxlbmd0aCE9PXQpdGhyb3dcIlJlcXVpcmVtZW50IGhhcyBcIituLmxlbmd0aCtcIiB2YWx1ZXMgd2hlbiBcIit0K1wiIGFyZSBuZWVkZWRcIjtyZXR1cm4gbn0scD1mdW5jdGlvbihlLHQpe3ZhciBpPWRbZXx8XCJzdHJpbmdcIl07aWYoIWkpdGhyb3cnVW5rbm93biByZXF1aXJlbWVudCBzcGVjaWZpY2F0aW9uOiBcIicrZSsnXCInO3JldHVybiBpKHQpfSxjPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1udWxsLHI9e307Zm9yKHZhciBzIGluIGUpaWYocyl7dmFyIGE9aShzKTtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9cChlW3NdLGEpKSxyW3NdPWF9ZWxzZSBuPXAoZVtzXSx0KTtyZXR1cm5bbixyXX0sZj1mdW5jdGlvbih0KXtlLmV4dGVuZCghMCx0aGlzLHQpfTtmLnByb3RvdHlwZT17dmFsaWRhdGU6ZnVuY3Rpb24odCxpKXtpZih0aGlzLmZuKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPjMmJihpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEsLTEpKSx0aGlzLmZuLmNhbGwodGhpcyx0LGkpO2lmKGUuaXNBcnJheSh0KSl7aWYoIXRoaXMudmFsaWRhdGVNdWx0aXBsZSl0aHJvd1wiVmFsaWRhdG9yIGBcIit0aGlzLm5hbWUrXCJgIGRvZXMgbm90IGhhbmRsZSBtdWx0aXBsZSB2YWx1ZXNcIjtyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZih0aGlzLnZhbGlkYXRlTnVtYmVyKXJldHVybiBpc05hTih0KT8hMTooYXJndW1lbnRzWzBdPXBhcnNlRmxvYXQoYXJndW1lbnRzWzBdKSx0aGlzLnZhbGlkYXRlTnVtYmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7aWYodGhpcy52YWxpZGF0ZVN0cmluZylyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhyb3dcIlZhbGlkYXRvciBgXCIrdGhpcy5uYW1lK1wiYCBvbmx5IGhhbmRsZXMgbXVsdGlwbGUgdmFsdWVzXCJ9LHBhcnNlUmVxdWlyZW1lbnRzOmZ1bmN0aW9uKHQsaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIGUuaXNBcnJheSh0KT90Olt0XTt2YXIgbj10aGlzLnJlcXVpcmVtZW50VHlwZTtpZihlLmlzQXJyYXkobikpe2Zvcih2YXIgcj1oKHQsbi5sZW5ndGgpLHM9MDtzPHIubGVuZ3RoO3MrKylyW3NdPXAobltzXSxyW3NdKTtyZXR1cm4gcn1yZXR1cm4gZS5pc1BsYWluT2JqZWN0KG4pP2Mobix0LGkpOltwKG4sdCldfSxyZXF1aXJlbWVudFR5cGU6XCJzdHJpbmdcIixwcmlvcml0eToyfTt2YXIgbT1mdW5jdGlvbihlLHQpe3RoaXMuX19jbGFzc19fPVwiUGFyc2xleVZhbGlkYXRvclJlZ2lzdHJ5XCIsdGhpcy5sb2NhbGU9XCJlblwiLHRoaXMuaW5pdChlfHx7fSx0fHx7fSl9LGc9e2VtYWlsOi9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaSxudW1iZXI6L14tPyhcXGQqXFwuKT9cXGQrKGVbLStdP1xcZCspPyQvaSxpbnRlZ2VyOi9eLT9cXGQrJC8sZGlnaXRzOi9eXFxkKyQvLGFscGhhbnVtOi9eXFx3KyQvaSx1cmw6bmV3IFJlZ0V4cChcIl4oPzooPzpodHRwcz98ZnRwKTovLyk/KD86XFxcXFMrKD86OlxcXFxTKik/QCk/KD86KD86WzEtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswMV1cXFxcZHwyMlswLTNdKSg/OlxcXFwuKD86MT9cXFxcZHsxLDJ9fDJbMC00XVxcXFxkfDI1WzAtNV0pKXsyfSg/OlxcXFwuKD86WzEtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswLTRdXFxcXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XS0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKig/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmZdezIsfSkpKSg/OjpcXFxcZHsyLDV9KT8oPzovXFxcXFMqKT8kXCIsXCJpXCIpfTtnLnJhbmdlPWcubnVtYmVyO3ZhciB2PWZ1bmN0aW9uKGUpe3ZhciB0PShcIlwiK2UpLm1hdGNoKC8oPzpcXC4oXFxkKykpPyg/OltlRV0oWystXT9cXGQrKSk/JC8pO3JldHVybiB0P01hdGgubWF4KDAsKHRbMV0/dFsxXS5sZW5ndGg6MCktKHRbMl0/K3RbMl06MCkpOjB9O20ucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKHQsaSl7dGhpcy5jYXRhbG9nPWksdGhpcy52YWxpZGF0b3JzPWUuZXh0ZW5kKHt9LHRoaXMudmFsaWRhdG9ycyk7Zm9yKHZhciBuIGluIHQpdGhpcy5hZGRWYWxpZGF0b3Iobix0W25dLmZuLHRbbl0ucHJpb3JpdHkpO3dpbmRvdy5QYXJzbGV5LnRyaWdnZXIoXCJwYXJzbGV5OnZhbGlkYXRvcjppbml0XCIpfSxzZXRMb2NhbGU6ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuY2F0YWxvZ1tlXSl0aHJvdyBuZXcgRXJyb3IoZStcIiBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBjYXRhbG9nXCIpO3JldHVybiB0aGlzLmxvY2FsZT1lLHRoaXN9LGFkZENhdGFsb2c6ZnVuY3Rpb24oZSx0LGkpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiYodGhpcy5jYXRhbG9nW2VdPXQpLCEwPT09aT90aGlzLnNldExvY2FsZShlKTp0aGlzfSxhZGRNZXNzYWdlOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5jYXRhbG9nW2VdJiYodGhpcy5jYXRhbG9nW2VdPXt9KSx0aGlzLmNhdGFsb2dbZV1bdF09aSx0aGlzfSxhZGRNZXNzYWdlczpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0KXRoaXMuYWRkTWVzc2FnZShlLGksdFtpXSk7cmV0dXJuIHRoaXN9LGFkZFZhbGlkYXRvcjpmdW5jdGlvbihlLHQsaSl7aWYodGhpcy52YWxpZGF0b3JzW2VdKW8ud2FybignVmFsaWRhdG9yIFwiJytlKydcIiBpcyBhbHJlYWR5IGRlZmluZWQuJyk7ZWxzZSBpZihsLmhhc093blByb3BlcnR5KGUpKXJldHVybiB2b2lkIG8ud2FybignXCInK2UrJ1wiIGlzIGEgcmVzdHJpY3RlZCBrZXl3b3JkIGFuZCBpcyBub3QgYSB2YWxpZCB2YWxpZGF0b3IgbmFtZS4nKTtyZXR1cm4gdGhpcy5fc2V0VmFsaWRhdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdXBkYXRlVmFsaWRhdG9yOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdGhpcy52YWxpZGF0b3JzW2VdP3RoaXMuX3NldFZhbGlkYXRvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KG8ud2FybignVmFsaWRhdG9yIFwiJytlKydcIiBpcyBub3QgYWxyZWFkeSBkZWZpbmVkLicpLHRoaXMuYWRkVmFsaWRhdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LHJlbW92ZVZhbGlkYXRvcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52YWxpZGF0b3JzW2VdfHxvLndhcm4oJ1ZhbGlkYXRvciBcIicrZSsnXCIgaXMgbm90IGRlZmluZWQuJyksZGVsZXRlIHRoaXMudmFsaWRhdG9yc1tlXSx0aGlzfSxfc2V0VmFsaWRhdG9yOmZ1bmN0aW9uKGUsdCxpKXtcIm9iamVjdFwiIT10eXBlb2YgdCYmKHQ9e2ZuOnQscHJpb3JpdHk6aX0pLHQudmFsaWRhdGV8fCh0PW5ldyBmKHQpKSx0aGlzLnZhbGlkYXRvcnNbZV09dDtmb3IodmFyIG4gaW4gdC5tZXNzYWdlc3x8e30pdGhpcy5hZGRNZXNzYWdlKG4sZSx0Lm1lc3NhZ2VzW25dKTtyZXR1cm4gdGhpc30sZ2V0RXJyb3JNZXNzYWdlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKFwidHlwZVwiPT09ZS5uYW1lKXt2YXIgaT10aGlzLmNhdGFsb2dbdGhpcy5sb2NhbGVdW2UubmFtZV18fHt9O3Q9aVtlLnJlcXVpcmVtZW50c119ZWxzZSB0PXRoaXMuZm9ybWF0TWVzc2FnZSh0aGlzLmNhdGFsb2dbdGhpcy5sb2NhbGVdW2UubmFtZV0sZS5yZXF1aXJlbWVudHMpO3JldHVybiB0fHx0aGlzLmNhdGFsb2dbdGhpcy5sb2NhbGVdLmRlZmF1bHRNZXNzYWdlfHx0aGlzLmNhdGFsb2cuZW4uZGVmYXVsdE1lc3NhZ2V9LGZvcm1hdE1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7Zm9yKHZhciBpIGluIHQpZT10aGlzLmZvcm1hdE1lc3NhZ2UoZSx0W2ldKTtyZXR1cm4gZX1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnJlcGxhY2UoLyVzL2ksdCk6XCJcIn0sdmFsaWRhdG9yczp7bm90Ymxhbms6e3ZhbGlkYXRlU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybi9cXFMvLnRlc3QoZSl9LHByaW9yaXR5OjJ9LHJlcXVpcmVkOnt2YWxpZGF0ZU11bHRpcGxlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aD4wfSx2YWxpZGF0ZVN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4vXFxTLy50ZXN0KGUpfSxwcmlvcml0eTo1MTJ9LHR5cGU6e3ZhbGlkYXRlU3RyaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdP3t9OmFyZ3VtZW50c1syXSxuPWkuc3RlcCxyPXZvaWQgMD09PW4/XCIxXCI6bixzPWkuYmFzZSxhPXZvaWQgMD09PXM/MDpzLG89Z1t0XTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJ2YWxpZGF0b3IgdHlwZSBgXCIrdCtcImAgaXMgbm90IHN1cHBvcnRlZFwiKTtpZighby50ZXN0KGUpKXJldHVybiExO2lmKFwibnVtYmVyXCI9PT10JiYhL15hbnkkL2kudGVzdChyfHxcIlwiKSl7dmFyIGw9TnVtYmVyKGUpLHU9TWF0aC5tYXgodihyKSx2KGEpKTtpZih2KGwpPnUpcmV0dXJuITE7dmFyIGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucm91bmQoZSpNYXRoLnBvdygxMCx1KSl9O2lmKChkKGwpLWQoYSkpJWQocikhPTApcmV0dXJuITF9cmV0dXJuITB9LHJlcXVpcmVtZW50VHlwZTp7XCJcIjpcInN0cmluZ1wiLHN0ZXA6XCJzdHJpbmdcIixiYXNlOlwibnVtYmVyXCJ9LHByaW9yaXR5OjI1Nn0scGF0dGVybjp7dmFsaWRhdGVTdHJpbmc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50ZXN0KGUpfSxyZXF1aXJlbWVudFR5cGU6XCJyZWdleHBcIixwcmlvcml0eTo2NH0sbWlubGVuZ3RoOnt2YWxpZGF0ZVN0cmluZzpmdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aD49dH0scmVxdWlyZW1lbnRUeXBlOlwiaW50ZWdlclwiLHByaW9yaXR5OjMwfSxtYXhsZW5ndGg6e3ZhbGlkYXRlU3RyaW5nOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPD10fSxyZXF1aXJlbWVudFR5cGU6XCJpbnRlZ2VyXCIscHJpb3JpdHk6MzB9LGxlbmd0aDp7dmFsaWRhdGVTdHJpbmc6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlLmxlbmd0aD49dCYmZS5sZW5ndGg8PWl9LHJlcXVpcmVtZW50VHlwZTpbXCJpbnRlZ2VyXCIsXCJpbnRlZ2VyXCJdLHByaW9yaXR5OjMwfSxtaW5jaGVjazp7dmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aD49dH0scmVxdWlyZW1lbnRUeXBlOlwiaW50ZWdlclwiLHByaW9yaXR5OjMwfSxtYXhjaGVjazp7dmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aDw9dH0scmVxdWlyZW1lbnRUeXBlOlwiaW50ZWdlclwiLHByaW9yaXR5OjMwfSxjaGVjazp7dmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUubGVuZ3RoPj10JiZlLmxlbmd0aDw9aX0scmVxdWlyZW1lbnRUeXBlOltcImludGVnZXJcIixcImludGVnZXJcIl0scHJpb3JpdHk6MzB9LG1pbjp7dmFsaWRhdGVOdW1iZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT49dH0scmVxdWlyZW1lbnRUeXBlOlwibnVtYmVyXCIscHJpb3JpdHk6MzB9LG1heDp7dmFsaWRhdGVOdW1iZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD49ZX0scmVxdWlyZW1lbnRUeXBlOlwibnVtYmVyXCIscHJpb3JpdHk6MzB9LHJhbmdlOnt2YWxpZGF0ZU51bWJlcjpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGU+PXQmJmk+PWV9LHJlcXVpcmVtZW50VHlwZTpbXCJudW1iZXJcIixcIm51bWJlclwiXSxwcmlvcml0eTozMH0sZXF1YWx0bzp7dmFsaWRhdGVTdHJpbmc6ZnVuY3Rpb24odCxpKXt2YXIgbj1lKGkpO3JldHVybiBuLmxlbmd0aD90PT09bi52YWwoKTp0PT09aX0scHJpb3JpdHk6MjU2fX19O3ZhciB5PXt9LF89ZnVuY3Rpb24gayhlLHQsaSl7Zm9yKHZhciBuPVtdLHI9W10scz0wO3M8ZS5sZW5ndGg7cysrKXtmb3IodmFyIGE9ITEsbz0wO288dC5sZW5ndGg7bysrKWlmKGVbc10uYXNzZXJ0Lm5hbWU9PT10W29dLmFzc2VydC5uYW1lKXthPSEwO2JyZWFrfWE/ci5wdXNoKGVbc10pOm4ucHVzaChlW3NdKX1yZXR1cm57a2VwdDpyLGFkZGVkOm4scmVtb3ZlZDppP1tdOmsodCxlLCEwKS5hZGRlZH19O3kuRm9ybT17X2FjdHVhbGl6ZVRyaWdnZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLiRlbGVtZW50Lm9uKFwic3VibWl0LlBhcnNsZXlcIixmdW5jdGlvbih0KXtlLm9uU3VibWl0VmFsaWRhdGUodCl9KSx0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suUGFyc2xleVwiLCdpbnB1dFt0eXBlPVwic3VibWl0XCJdLCBidXR0b25bdHlwZT1cInN1Ym1pdFwiXScsZnVuY3Rpb24odCl7ZS5vblN1Ym1pdEJ1dHRvbih0KX0pLCExIT09dGhpcy5vcHRpb25zLnVpRW5hYmxlZCYmdGhpcy4kZWxlbWVudC5hdHRyKFwibm92YWxpZGF0ZVwiLFwiXCIpfSxmb2N1czpmdW5jdGlvbigpe2lmKHRoaXMuX2ZvY3VzZWRGaWVsZD1udWxsLCEwPT09dGhpcy52YWxpZGF0aW9uUmVzdWx0fHxcIm5vbmVcIj09PXRoaXMub3B0aW9ucy5mb2N1cylyZXR1cm4gbnVsbDtmb3IodmFyIGU9MDtlPHRoaXMuZmllbGRzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuZmllbGRzW2VdO2lmKCEwIT09dC52YWxpZGF0aW9uUmVzdWx0JiZ0LnZhbGlkYXRpb25SZXN1bHQubGVuZ3RoPjAmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB0Lm9wdGlvbnMubm9Gb2N1cyYmKHRoaXMuX2ZvY3VzZWRGaWVsZD10LiRlbGVtZW50LFwiZmlyc3RcIj09PXRoaXMub3B0aW9ucy5mb2N1cykpYnJlYWt9cmV0dXJuIG51bGw9PT10aGlzLl9mb2N1c2VkRmllbGQ/bnVsbDp0aGlzLl9mb2N1c2VkRmllbGQuZm9jdXMoKX0sX2Rlc3Ryb3lVSTpmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub2ZmKFwiLlBhcnNsZXlcIil9fSx5LkZpZWxkPXtfcmVmbG93VUk6ZnVuY3Rpb24oKXtpZih0aGlzLl9idWlsZFVJKCksdGhpcy5fdWkpe3ZhciBlPV8odGhpcy52YWxpZGF0aW9uUmVzdWx0LHRoaXMuX3VpLmxhc3RWYWxpZGF0aW9uUmVzdWx0KTt0aGlzLl91aS5sYXN0VmFsaWRhdGlvblJlc3VsdD10aGlzLnZhbGlkYXRpb25SZXN1bHQsdGhpcy5fbWFuYWdlU3RhdHVzQ2xhc3MoKSx0aGlzLl9tYW5hZ2VFcnJvcnNNZXNzYWdlcyhlKSx0aGlzLl9hY3R1YWxpemVUcmlnZ2VycygpLCFlLmtlcHQubGVuZ3RoJiYhZS5hZGRlZC5sZW5ndGh8fHRoaXMuX2ZhaWxlZE9uY2V8fCh0aGlzLl9mYWlsZWRPbmNlPSEwLHRoaXMuX2FjdHVhbGl6ZVRyaWdnZXJzKCkpfX0sZ2V0RXJyb3JzTWVzc2FnZXM6ZnVuY3Rpb24oKXtpZighMD09PXRoaXMudmFsaWRhdGlvblJlc3VsdClyZXR1cm5bXTtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy52YWxpZGF0aW9uUmVzdWx0Lmxlbmd0aDt0KyspZS5wdXNoKHRoaXMudmFsaWRhdGlvblJlc3VsdFt0XS5lcnJvck1lc3NhZ2V8fHRoaXMuX2dldEVycm9yTWVzc2FnZSh0aGlzLnZhbGlkYXRpb25SZXN1bHRbdF0uYXNzZXJ0KSk7cmV0dXJuIGV9LGFkZEVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT97fTphcmd1bWVudHNbMV0saT10Lm1lc3NhZ2Usbj10LmFzc2VydCxyPXQudXBkYXRlQ2xhc3Mscz12b2lkIDA9PT1yPyEwOnI7dGhpcy5fYnVpbGRVSSgpLHRoaXMuX2FkZEVycm9yKGUse21lc3NhZ2U6aSxhc3NlcnQ6bn0pLHMmJnRoaXMuX2Vycm9yQ2xhc3MoKX0sdXBkYXRlRXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3t9OmFyZ3VtZW50c1sxXSxpPXQubWVzc2FnZSxuPXQuYXNzZXJ0LHI9dC51cGRhdGVDbGFzcyxzPXZvaWQgMD09PXI/ITA6cjt0aGlzLl9idWlsZFVJKCksdGhpcy5fdXBkYXRlRXJyb3IoZSx7bWVzc2FnZTppLGFzc2VydDpufSkscyYmdGhpcy5fZXJyb3JDbGFzcygpfSxyZW1vdmVFcnJvcjpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/e306YXJndW1lbnRzWzFdLGk9dC51cGRhdGVDbGFzcyxuPXZvaWQgMD09PWk/ITA6aTt0aGlzLl9idWlsZFVJKCksdGhpcy5fcmVtb3ZlRXJyb3IoZSksbiYmdGhpcy5fbWFuYWdlU3RhdHVzQ2xhc3MoKX0sX21hbmFnZVN0YXR1c0NsYXNzOmZ1bmN0aW9uKCl7dGhpcy5oYXNDb25zdHJhaW50cygpJiZ0aGlzLm5lZWRzVmFsaWRhdGlvbigpJiYhMD09PXRoaXMudmFsaWRhdGlvblJlc3VsdD90aGlzLl9zdWNjZXNzQ2xhc3MoKTp0aGlzLnZhbGlkYXRpb25SZXN1bHQubGVuZ3RoPjA/dGhpcy5fZXJyb3JDbGFzcygpOnRoaXMuX3Jlc2V0Q2xhc3MoKX0sX21hbmFnZUVycm9yc01lc3NhZ2VzOmZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuZXJyb3JzTWVzc2FnZXNEaXNhYmxlZCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMub3B0aW9ucy5lcnJvck1lc3NhZ2UpcmV0dXJuIHQuYWRkZWQubGVuZ3RofHx0LmtlcHQubGVuZ3RoPyh0aGlzLl9pbnNlcnRFcnJvcldyYXBwZXIoKSwwPT09dGhpcy5fdWkuJGVycm9yc1dyYXBwZXIuZmluZChcIi5wYXJzbGV5LWN1c3RvbS1lcnJvci1tZXNzYWdlXCIpLmxlbmd0aCYmdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIuYXBwZW5kKGUodGhpcy5vcHRpb25zLmVycm9yVGVtcGxhdGUpLmFkZENsYXNzKFwicGFyc2xleS1jdXN0b20tZXJyb3ItbWVzc2FnZVwiKSksdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIuYWRkQ2xhc3MoXCJmaWxsZWRcIikuZmluZChcIi5wYXJzbGV5LWN1c3RvbS1lcnJvci1tZXNzYWdlXCIpLmh0bWwodGhpcy5vcHRpb25zLmVycm9yTWVzc2FnZSkpOnRoaXMuX3VpLiRlcnJvcnNXcmFwcGVyLnJlbW92ZUNsYXNzKFwiZmlsbGVkXCIpLmZpbmQoXCIucGFyc2xleS1jdXN0b20tZXJyb3ItbWVzc2FnZVwiKS5yZW1vdmUoKTtmb3IodmFyIGk9MDtpPHQucmVtb3ZlZC5sZW5ndGg7aSsrKXRoaXMuX3JlbW92ZUVycm9yKHQucmVtb3ZlZFtpXS5hc3NlcnQubmFtZSk7Zm9yKGk9MDtpPHQuYWRkZWQubGVuZ3RoO2krKyl0aGlzLl9hZGRFcnJvcih0LmFkZGVkW2ldLmFzc2VydC5uYW1lLHttZXNzYWdlOnQuYWRkZWRbaV0uZXJyb3JNZXNzYWdlLGFzc2VydDp0LmFkZGVkW2ldLmFzc2VydH0pO2ZvcihpPTA7aTx0LmtlcHQubGVuZ3RoO2krKyl0aGlzLl91cGRhdGVFcnJvcih0LmtlcHRbaV0uYXNzZXJ0Lm5hbWUse21lc3NhZ2U6dC5rZXB0W2ldLmVycm9yTWVzc2FnZSxhc3NlcnQ6dC5rZXB0W2ldLmFzc2VydH0pfX0sX2FkZEVycm9yOmZ1bmN0aW9uKHQsaSl7dmFyIG49aS5tZXNzYWdlLHI9aS5hc3NlcnQ7dGhpcy5faW5zZXJ0RXJyb3JXcmFwcGVyKCksdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIuYWRkQ2xhc3MoXCJmaWxsZWRcIikuYXBwZW5kKGUodGhpcy5vcHRpb25zLmVycm9yVGVtcGxhdGUpLmFkZENsYXNzKFwicGFyc2xleS1cIit0KS5odG1sKG58fHRoaXMuX2dldEVycm9yTWVzc2FnZShyKSkpfSxfdXBkYXRlRXJyb3I6ZnVuY3Rpb24oZSx0KXt2YXIgaT10Lm1lc3NhZ2Usbj10LmFzc2VydDt0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5hZGRDbGFzcyhcImZpbGxlZFwiKS5maW5kKFwiLnBhcnNsZXktXCIrZSkuaHRtbChpfHx0aGlzLl9nZXRFcnJvck1lc3NhZ2UobikpfSxfcmVtb3ZlRXJyb3I6ZnVuY3Rpb24oZSl7dGhpcy5fdWkuJGVycm9yc1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJmaWxsZWRcIikuZmluZChcIi5wYXJzbGV5LVwiK2UpLnJlbW92ZSgpfSxfZ2V0RXJyb3JNZXNzYWdlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZStcIk1lc3NhZ2VcIjtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5vcHRpb25zW3RdP3dpbmRvdy5QYXJzbGV5LmZvcm1hdE1lc3NhZ2UodGhpcy5vcHRpb25zW3RdLGUucmVxdWlyZW1lbnRzKTp3aW5kb3cuUGFyc2xleS5nZXRFcnJvck1lc3NhZ2UoZSl9LF9idWlsZFVJOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3VpJiYhMSE9PXRoaXMub3B0aW9ucy51aUVuYWJsZWQpe3ZhciB0PXt9O3RoaXMuJGVsZW1lbnQuYXR0cih0aGlzLm9wdGlvbnMubmFtZXNwYWNlK1wiaWRcIix0aGlzLl9faWRfXyksdC4kZXJyb3JDbGFzc0hhbmRsZXI9dGhpcy5fbWFuYWdlQ2xhc3NIYW5kbGVyKCksdC5lcnJvcnNXcmFwcGVySWQ9XCJwYXJzbGV5LWlkLVwiKyh0aGlzLm9wdGlvbnMubXVsdGlwbGU/XCJtdWx0aXBsZS1cIit0aGlzLm9wdGlvbnMubXVsdGlwbGU6dGhpcy5fX2lkX18pLHQuJGVycm9yc1dyYXBwZXI9ZSh0aGlzLm9wdGlvbnMuZXJyb3JzV3JhcHBlcikuYXR0cihcImlkXCIsdC5lcnJvcnNXcmFwcGVySWQpLHQubGFzdFZhbGlkYXRpb25SZXN1bHQ9W10sdC52YWxpZGF0aW9uSW5mb3JtYXRpb25WaXNpYmxlPSExLHRoaXMuX3VpPXR9fSxfbWFuYWdlQ2xhc3NIYW5kbGVyOmZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5jbGFzc0hhbmRsZXImJmUodGhpcy5vcHRpb25zLmNsYXNzSGFuZGxlcikubGVuZ3RoKXJldHVybiBlKHRoaXMub3B0aW9ucy5jbGFzc0hhbmRsZXIpO3ZhciB0PXRoaXMub3B0aW9ucy5jbGFzc0hhbmRsZXIuY2FsbCh0aGlzLHRoaXMpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lmxlbmd0aD90OiF0aGlzLm9wdGlvbnMubXVsdGlwbGV8fHRoaXMuJGVsZW1lbnQuaXMoXCJzZWxlY3RcIik/dGhpcy4kZWxlbWVudDp0aGlzLiRlbGVtZW50LnBhcmVudCgpfSxfaW5zZXJ0RXJyb3JXcmFwcGVyOmZ1bmN0aW9uKCl7dmFyIHQ7aWYoMCE9PXRoaXMuX3VpLiRlcnJvcnNXcmFwcGVyLnBhcmVudCgpLmxlbmd0aClyZXR1cm4gdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIucGFyZW50KCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5lcnJvcnNDb250YWluZXIpe2lmKGUodGhpcy5vcHRpb25zLmVycm9yc0NvbnRhaW5lcikubGVuZ3RoKXJldHVybiBlKHRoaXMub3B0aW9ucy5lcnJvcnNDb250YWluZXIpLmFwcGVuZCh0aGlzLl91aS4kZXJyb3JzV3JhcHBlcik7by53YXJuKFwiVGhlIGVycm9ycyBjb250YWluZXIgYFwiK3RoaXMub3B0aW9ucy5lcnJvcnNDb250YWluZXIrXCJgIGRvZXMgbm90IGV4aXN0IGluIERPTVwiKX1lbHNlXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLmVycm9yc0NvbnRhaW5lciYmKHQ9dGhpcy5vcHRpb25zLmVycm9yc0NvbnRhaW5lci5jYWxsKHRoaXMsdGhpcykpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0Lmxlbmd0aClyZXR1cm4gdC5hcHBlbmQodGhpcy5fdWkuJGVycm9yc1dyYXBwZXIpO3ZhciBpPXRoaXMuJGVsZW1lbnQ7cmV0dXJuIHRoaXMub3B0aW9ucy5tdWx0aXBsZSYmKGk9aS5wYXJlbnQoKSksaS5hZnRlcih0aGlzLl91aS4kZXJyb3JzV3JhcHBlcil9LF9hY3R1YWxpemVUcmlnZ2VyczpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxpPXRoaXMuX2ZpbmRSZWxhdGVkKCk7aS5vZmYoXCIuUGFyc2xleVwiKSx0aGlzLl9mYWlsZWRPbmNlP2kub24oby5uYW1lc3BhY2VFdmVudHModGhpcy5vcHRpb25zLnRyaWdnZXJBZnRlckZhaWx1cmUsXCJQYXJzbGV5XCIpLGZ1bmN0aW9uKCl7dC52YWxpZGF0ZSgpfSk6KGU9by5uYW1lc3BhY2VFdmVudHModGhpcy5vcHRpb25zLnRyaWdnZXIsXCJQYXJzbGV5XCIpKSYmaS5vbihlLGZ1bmN0aW9uKGUpe3QuX2V2ZW50VmFsaWRhdGUoZSl9KX0sX2V2ZW50VmFsaWRhdGU6ZnVuY3Rpb24oZSl7KCEva2V5fGlucHV0Ly50ZXN0KGUudHlwZSl8fHRoaXMuX3VpJiZ0aGlzLl91aS52YWxpZGF0aW9uSW5mb3JtYXRpb25WaXNpYmxlfHwhKHRoaXMuZ2V0VmFsdWUoKS5sZW5ndGg8PXRoaXMub3B0aW9ucy52YWxpZGF0aW9uVGhyZXNob2xkKSkmJnRoaXMudmFsaWRhdGUoKX0sX3Jlc2V0VUk6ZnVuY3Rpb24oKXt0aGlzLl9mYWlsZWRPbmNlPSExLHRoaXMuX2FjdHVhbGl6ZVRyaWdnZXJzKCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuX3VpJiYodGhpcy5fdWkuJGVycm9yc1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJmaWxsZWRcIikuY2hpbGRyZW4oKS5yZW1vdmUoKSx0aGlzLl9yZXNldENsYXNzKCksdGhpcy5fdWkubGFzdFZhbGlkYXRpb25SZXN1bHQ9W10sdGhpcy5fdWkudmFsaWRhdGlvbkluZm9ybWF0aW9uVmlzaWJsZT0hMSl9LF9kZXN0cm95VUk6ZnVuY3Rpb24oKXt0aGlzLl9yZXNldFVJKCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuX3VpJiZ0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5yZW1vdmUoKSxkZWxldGUgdGhpcy5fdWl9LF9zdWNjZXNzQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl91aS52YWxpZGF0aW9uSW5mb3JtYXRpb25WaXNpYmxlPSEwLHRoaXMuX3VpLiRlcnJvckNsYXNzSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnN1Y2Nlc3NDbGFzcyl9LF9lcnJvckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fdWkudmFsaWRhdGlvbkluZm9ybWF0aW9uVmlzaWJsZT0hMCx0aGlzLl91aS4kZXJyb3JDbGFzc0hhbmRsZXIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnN1Y2Nlc3NDbGFzcykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmVycm9yQ2xhc3MpfSxfcmVzZXRDbGFzczpmdW5jdGlvbigpe3RoaXMuX3VpLiRlcnJvckNsYXNzSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuc3VjY2Vzc0NsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcyl9fTt2YXIgdz1mdW5jdGlvbih0LGksbil7dGhpcy5fX2NsYXNzX189XCJQYXJzbGV5Rm9ybVwiLHRoaXMuJGVsZW1lbnQ9ZSh0KSx0aGlzLmRvbU9wdGlvbnM9aSx0aGlzLm9wdGlvbnM9bix0aGlzLnBhcmVudD13aW5kb3cuUGFyc2xleSx0aGlzLmZpZWxkcz1bXSx0aGlzLnZhbGlkYXRpb25SZXN1bHQ9bnVsbH0sYj17cGVuZGluZzpudWxsLHJlc29sdmVkOiEwLHJlamVjdGVkOiExfTt3LnByb3RvdHlwZT17b25TdWJtaXRWYWxpZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCEwIT09ZS5wYXJzbGV5KXt2YXIgaT10aGlzLl8kc3VibWl0U291cmNlfHx0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0sIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJykuZmlyc3QoKTtpZih0aGlzLl8kc3VibWl0U291cmNlPW51bGwsdGhpcy4kZWxlbWVudC5maW5kKFwiLnBhcnNsZXktc3ludGhldGljLXN1Ym1pdC1idXR0b25cIikucHJvcChcImRpc2FibGVkXCIsITApLCFpLmlzKFwiW2Zvcm1ub3ZhbGlkYXRlXVwiKSl7dmFyIG49dGhpcy53aGVuVmFsaWRhdGUoe2V2ZW50OmV9KTtcInJlc29sdmVkXCI9PT1uLnN0YXRlKCkmJiExIT09dGhpcy5fdHJpZ2dlcihcInN1Ym1pdFwiKXx8KGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLFwicGVuZGluZ1wiPT09bi5zdGF0ZSgpJiZuLmRvbmUoZnVuY3Rpb24oKXt0Ll9zdWJtaXQoaSl9KSl9fX0sb25TdWJtaXRCdXR0b246ZnVuY3Rpb24odCl7dGhpcy5fJHN1Ym1pdFNvdXJjZT1lKHQudGFyZ2V0KX0sX3N1Ym1pdDpmdW5jdGlvbih0KXtpZighMSE9PXRoaXMuX3RyaWdnZXIoXCJzdWJtaXRcIikpe2lmKHQpe3ZhciBpPXRoaXMuJGVsZW1lbnQuZmluZChcIi5wYXJzbGV5LXN5bnRoZXRpYy1zdWJtaXQtYnV0dG9uXCIpLnByb3AoXCJkaXNhYmxlZFwiLCExKTswPT09aS5sZW5ndGgmJihpPWUoJzxpbnB1dCBjbGFzcz1cInBhcnNsZXktc3ludGhldGljLXN1Ym1pdC1idXR0b25cIiB0eXBlPVwiaGlkZGVuXCI+JykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLGkuYXR0cih7bmFtZTp0LmF0dHIoXCJuYW1lXCIpLHZhbHVlOnQuYXR0cihcInZhbHVlXCIpfSl9dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUuZXh0ZW5kKGUuRXZlbnQoXCJzdWJtaXRcIikse3BhcnNsZXk6ITB9KSl9fSx2YWxpZGF0ZTpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoPj0xJiYhZS5pc1BsYWluT2JqZWN0KHQpKXtvLndhcm5PbmNlKFwiQ2FsbGluZyB2YWxpZGF0ZSBvbiBhIHBhcnNsZXkgZm9ybSB3aXRob3V0IHBhc3NpbmcgYXJndW1lbnRzIGFzIGFuIG9iamVjdCBpcyBkZXByZWNhdGVkLlwiKTt2YXIgaT1fc2xpY2UuY2FsbChhcmd1bWVudHMpLG49aVswXSxyPWlbMV0scz1pWzJdO3Q9e2dyb3VwOm4sZm9yY2U6cixldmVudDpzfX1yZXR1cm4gYlt0aGlzLndoZW5WYWxpZGF0ZSh0KS5zdGF0ZSgpXX0sd2hlblZhbGlkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLG49YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3t9OmFyZ3VtZW50c1swXSxyPW4uZ3JvdXAscz1uLmZvcmNlLGE9bi5ldmVudDt0aGlzLnN1Ym1pdEV2ZW50PWEsYSYmKHRoaXMuc3VibWl0RXZlbnQ9ZS5leHRlbmQoe30sYSx7cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtvLndhcm5PbmNlKFwiVXNpbmcgYHRoaXMuc3VibWl0RXZlbnQucHJldmVudERlZmF1bHQoKWAgaXMgZGVwcmVjYXRlZDsgaW5zdGVhZCwgY2FsbCBgdGhpcy52YWxpZGF0aW9uUmVzdWx0ID0gZmFsc2VgXCIpLGkudmFsaWRhdGlvblJlc3VsdD0hMX19KSksdGhpcy52YWxpZGF0aW9uUmVzdWx0PSEwLHRoaXMuX3RyaWdnZXIoXCJ2YWxpZGF0ZVwiKSx0aGlzLl9yZWZyZXNoRmllbGRzKCk7dmFyIGw9dGhpcy5fd2l0aG91dFJlYWN0dWFsaXppbmdGb3JtT3B0aW9ucyhmdW5jdGlvbigpe3JldHVybiBlLm1hcChpLmZpZWxkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS53aGVuVmFsaWRhdGUoe2ZvcmNlOnMsZ3JvdXA6cn0pfSl9KTtyZXR1cm4odD1lLndoZW4uYXBwbHkoZSxfdG9Db25zdW1hYmxlQXJyYXkobCkpLmRvbmUoZnVuY3Rpb24oKXtpLl90cmlnZ2VyKFwic3VjY2Vzc1wiKX0pLmZhaWwoZnVuY3Rpb24oKXtpLnZhbGlkYXRpb25SZXN1bHQ9ITEsaS5mb2N1cygpLGkuX3RyaWdnZXIoXCJlcnJvclwiKX0pLmFsd2F5cyhmdW5jdGlvbigpe2kuX3RyaWdnZXIoXCJ2YWxpZGF0ZWRcIil9KSkucGlwZS5hcHBseSh0LF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9waXBlQWNjb3JkaW5nVG9WYWxpZGF0aW9uUmVzdWx0KCkpKX0saXNWYWxpZDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoPj0xJiYhZS5pc1BsYWluT2JqZWN0KHQpKXtvLndhcm5PbmNlKFwiQ2FsbGluZyBpc1ZhbGlkIG9uIGEgcGFyc2xleSBmb3JtIHdpdGhvdXQgcGFzc2luZyBhcmd1bWVudHMgYXMgYW4gb2JqZWN0IGlzIGRlcHJlY2F0ZWQuXCIpO3ZhciBpPV9zbGljZS5jYWxsKGFyZ3VtZW50cyksbj1pWzBdLHI9aVsxXTt0PXtncm91cDpuLGZvcmNlOnJ9fXJldHVybiBiW3RoaXMud2hlblZhbGlkKHQpLnN0YXRlKCldfSx3aGVuVmFsaWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3t9OmFyZ3VtZW50c1swXSxuPWkuZ3JvdXAscj1pLmZvcmNlO3RoaXMuX3JlZnJlc2hGaWVsZHMoKTt2YXIgcz10aGlzLl93aXRob3V0UmVhY3R1YWxpemluZ0Zvcm1PcHRpb25zKGZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKHQuZmllbGRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLndoZW5WYWxpZCh7Z3JvdXA6bixmb3JjZTpyfSl9KX0pO3JldHVybiBlLndoZW4uYXBwbHkoZSxfdG9Db25zdW1hYmxlQXJyYXkocykpfSxfcmVmcmVzaEZpZWxkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdHVhbGl6ZU9wdGlvbnMoKS5fYmluZEZpZWxkcygpfSxfYmluZEZpZWxkczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLmZpZWxkcztyZXR1cm4gdGhpcy5maWVsZHM9W10sdGhpcy5maWVsZHNNYXBwZWRCeUlkPXt9LHRoaXMuX3dpdGhvdXRSZWFjdHVhbGl6aW5nRm9ybU9wdGlvbnMoZnVuY3Rpb24oKXt0LiRlbGVtZW50LmZpbmQodC5vcHRpb25zLmlucHV0cykubm90KHQub3B0aW9ucy5leGNsdWRlZCkuZWFjaChmdW5jdGlvbihlLGkpe3ZhciBuPW5ldyB3aW5kb3cuUGFyc2xleS5GYWN0b3J5KGkse30sdCk7XCJQYXJzbGV5RmllbGRcIiE9PW4uX19jbGFzc19fJiZcIlBhcnNsZXlGaWVsZE11bHRpcGxlXCIhPT1uLl9fY2xhc3NfX3x8ITA9PT1uLm9wdGlvbnMuZXhjbHVkZWR8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LmZpZWxkc01hcHBlZEJ5SWRbbi5fX2NsYXNzX18rXCItXCIrbi5fX2lkX19dJiYodC5maWVsZHNNYXBwZWRCeUlkW24uX19jbGFzc19fK1wiLVwiK24uX19pZF9fXT1uLHQuZmllbGRzLnB1c2gobikpfSksZShpKS5ub3QodC5maWVsZHMpLmVhY2goZnVuY3Rpb24oZSx0KXt0Ll90cmlnZ2VyKFwicmVzZXRcIil9KX0pLHRoaXN9LF93aXRob3V0UmVhY3R1YWxpemluZ0Zvcm1PcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYWN0dWFsaXplT3B0aW9uczt0aGlzLmFjdHVhbGl6ZU9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIGk9ZSgpO3JldHVybiB0aGlzLmFjdHVhbGl6ZU9wdGlvbnM9dCxpfSxfdHJpZ2dlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmlnZ2VyKFwiZm9ybTpcIitlKX19O3ZhciBGPWZ1bmN0aW9uKHQsaSxuLHIscyl7aWYoIS9QYXJzbGV5RmllbGQvLnRlc3QodC5fX2NsYXNzX18pKXRocm93IG5ldyBFcnJvcihcIlBhcnNsZXlGaWVsZCBvciBQYXJzbGV5RmllbGRNdWx0aXBsZSBpbnN0YW5jZSBleHBlY3RlZFwiKTt2YXIgYT13aW5kb3cuUGFyc2xleS5fdmFsaWRhdG9yUmVnaXN0cnkudmFsaWRhdG9yc1tpXSxvPW5ldyBmKGEpO2UuZXh0ZW5kKHRoaXMse3ZhbGlkYXRvcjpvLG5hbWU6aSxyZXF1aXJlbWVudHM6bixwcmlvcml0eTpyfHx0Lm9wdGlvbnNbaStcIlByaW9yaXR5XCJdfHxvLnByaW9yaXR5LGlzRG9tQ29uc3RyYWludDohMD09PXN9KSx0aGlzLl9wYXJzZVJlcXVpcmVtZW50cyh0Lm9wdGlvbnMpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0udG9VcHBlckNhc2UoKTtyZXR1cm4gdCtlLnNsaWNlKDEpfTtGLnByb3RvdHlwZT17dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4oaT10aGlzLnZhbGlkYXRvcikudmFsaWRhdGUuYXBwbHkoaSxbZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnJlcXVpcmVtZW50TGlzdCksW3RdKSl9LF9wYXJzZVJlcXVpcmVtZW50czpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMucmVxdWlyZW1lbnRMaXN0PXRoaXMudmFsaWRhdG9yLnBhcnNlUmVxdWlyZW1lbnRzKHRoaXMucmVxdWlyZW1lbnRzLGZ1bmN0aW9uKGkpe3JldHVybiBlW3QubmFtZStDKGkpXX0pfX07dmFyICQ9ZnVuY3Rpb24odCxpLG4scil7dGhpcy5fX2NsYXNzX189XCJQYXJzbGV5RmllbGRcIix0aGlzLiRlbGVtZW50PWUodCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJih0aGlzLnBhcmVudD1yKSx0aGlzLm9wdGlvbnM9bix0aGlzLmRvbU9wdGlvbnM9aSx0aGlzLmNvbnN0cmFpbnRzPVtdLHRoaXMuY29uc3RyYWludHNCeU5hbWU9e30sdGhpcy52YWxpZGF0aW9uUmVzdWx0PSEwLHRoaXMuX2JpbmRDb25zdHJhaW50cygpfSx4PXtwZW5kaW5nOm51bGwscmVzb2x2ZWQ6ITAscmVqZWN0ZWQ6ITF9OyQucHJvdG90eXBlPXt2YWxpZGF0ZTpmdW5jdGlvbih0KXthcmd1bWVudHMubGVuZ3RoPj0xJiYhZS5pc1BsYWluT2JqZWN0KHQpJiYoby53YXJuT25jZShcIkNhbGxpbmcgdmFsaWRhdGUgb24gYSBwYXJzbGV5IGZpZWxkIHdpdGhvdXQgcGFzc2luZyBhcmd1bWVudHMgYXMgYW4gb2JqZWN0IGlzIGRlcHJlY2F0ZWQuXCIpLHQ9e29wdGlvbnM6dH0pO3ZhciBpPXRoaXMud2hlblZhbGlkYXRlKHQpO2lmKCFpKXJldHVybiEwO3N3aXRjaChpLnN0YXRlKCkpe2Nhc2VcInBlbmRpbmdcIjpyZXR1cm4gbnVsbDtjYXNlXCJyZXNvbHZlZFwiOnJldHVybiEwO2Nhc2VcInJlamVjdGVkXCI6cmV0dXJuIHRoaXMudmFsaWRhdGlvblJlc3VsdH19LHdoZW5WYWxpZGF0ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF0sbj1pLmZvcmNlLHI9aS5ncm91cDtyZXR1cm4gdGhpcy5yZWZyZXNoQ29uc3RyYWludHMoKSwhcnx8dGhpcy5faXNJbkdyb3VwKHIpPyh0aGlzLnZhbHVlPXRoaXMuZ2V0VmFsdWUoKSx0aGlzLl90cmlnZ2VyKFwidmFsaWRhdGVcIiksKGU9dGhpcy53aGVuVmFsaWQoe2ZvcmNlOm4sdmFsdWU6dGhpcy52YWx1ZSxfcmVmcmVzaGVkOiEwfSkuYWx3YXlzKGZ1bmN0aW9uKCl7dC5fcmVmbG93VUkoKX0pLmRvbmUoZnVuY3Rpb24oKXt0Ll90cmlnZ2VyKFwic3VjY2Vzc1wiKX0pLmZhaWwoZnVuY3Rpb24oKXt0Ll90cmlnZ2VyKFwiZXJyb3JcIil9KS5hbHdheXMoZnVuY3Rpb24oKXt0Ll90cmlnZ2VyKFwidmFsaWRhdGVkXCIpfSkpLnBpcGUuYXBwbHkoZSxfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fcGlwZUFjY29yZGluZ1RvVmFsaWRhdGlvblJlc3VsdCgpKSkpOnZvaWQgMH0saGFzQ29uc3RyYWludHM6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuY29uc3RyYWludHMubGVuZ3RofSxuZWVkc1ZhbGlkYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUmJihlPXRoaXMuZ2V0VmFsdWUoKSksZS5sZW5ndGh8fHRoaXMuX2lzUmVxdWlyZWQoKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMub3B0aW9ucy52YWxpZGF0ZUlmRW1wdHk/ITA6ITF9LF9pc0luR3JvdXA6ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNBcnJheSh0aGlzLm9wdGlvbnMuZ3JvdXApPy0xIT09ZS5pbkFycmF5KHQsdGhpcy5vcHRpb25zLmdyb3VwKTp0aGlzLm9wdGlvbnMuZ3JvdXA9PT10fSxpc1ZhbGlkOmZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg+PTEmJiFlLmlzUGxhaW5PYmplY3QodCkpe28ud2Fybk9uY2UoXCJDYWxsaW5nIGlzVmFsaWQgb24gYSBwYXJzbGV5IGZpZWxkIHdpdGhvdXQgcGFzc2luZyBhcmd1bWVudHMgYXMgYW4gb2JqZWN0IGlzIGRlcHJlY2F0ZWQuXCIpO3ZhciBpPV9zbGljZS5jYWxsKGFyZ3VtZW50cyksbj1pWzBdLHI9aVsxXTt0PXtmb3JjZTpuLHZhbHVlOnJ9fXZhciBzPXRoaXMud2hlblZhbGlkKHQpO3JldHVybiBzP3hbcy5zdGF0ZSgpXTohMH0sd2hlblZhbGlkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF0sbj1pLmZvcmNlLHI9dm9pZCAwPT09bj8hMTpuLHM9aS52YWx1ZSxhPWkuZ3JvdXAsbz1pLl9yZWZyZXNoZWQ7aWYob3x8dGhpcy5yZWZyZXNoQ29uc3RyYWludHMoKSwhYXx8dGhpcy5faXNJbkdyb3VwKGEpKXtpZih0aGlzLnZhbGlkYXRpb25SZXN1bHQ9ITAsIXRoaXMuaGFzQ29uc3RyYWludHMoKSlyZXR1cm4gZS53aGVuKCk7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzfHxudWxsPT09cykmJihzPXRoaXMuZ2V0VmFsdWUoKSksIXRoaXMubmVlZHNWYWxpZGF0aW9uKHMpJiYhMCE9PXIpcmV0dXJuIGUud2hlbigpO3ZhciBsPXRoaXMuX2dldEdyb3VwZWRDb25zdHJhaW50cygpLHU9W107cmV0dXJuIGUuZWFjaChsLGZ1bmN0aW9uKGksbil7dmFyIHI9ZS53aGVuLmFwcGx5KGUsX3RvQ29uc3VtYWJsZUFycmF5KGUubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3ZhbGlkYXRlQ29uc3RyYWludChzLGUpfSkpKTtyZXR1cm4gdS5wdXNoKHIpLFwicmVqZWN0ZWRcIj09PXIuc3RhdGUoKT8hMTp2b2lkIDB9KSxlLndoZW4uYXBwbHkoZSx1KX19LF92YWxpZGF0ZUNvbnN0cmFpbnQ6ZnVuY3Rpb24odCxpKXt2YXIgbj10aGlzLHI9aS52YWxpZGF0ZSh0LHRoaXMpO3JldHVybiExPT09ciYmKHI9ZS5EZWZlcnJlZCgpLnJlamVjdCgpKSxlLndoZW4ocikuZmFpbChmdW5jdGlvbihlKXtuLnZhbGlkYXRpb25SZXN1bHQgaW5zdGFuY2VvZiBBcnJheXx8KG4udmFsaWRhdGlvblJlc3VsdD1bXSksbi52YWxpZGF0aW9uUmVzdWx0LnB1c2goe2Fzc2VydDppLGVycm9yTWVzc2FnZTpcInN0cmluZ1wiPT10eXBlb2YgZSYmZX0pfSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLnZhbHVlP3RoaXMub3B0aW9ucy52YWx1ZSh0aGlzKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5vcHRpb25zLnZhbHVlP3RoaXMub3B0aW9ucy52YWx1ZTp0aGlzLiRlbGVtZW50LnZhbCgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlfHxudWxsPT09ZT9cIlwiOnRoaXMuX2hhbmRsZVdoaXRlc3BhY2UoZSl9LHJlZnJlc2hDb25zdHJhaW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdHVhbGl6ZU9wdGlvbnMoKS5fYmluZENvbnN0cmFpbnRzKCl9LGFkZENvbnN0cmFpbnQ6ZnVuY3Rpb24oZSx0LGksbil7aWYod2luZG93LlBhcnNsZXkuX3ZhbGlkYXRvclJlZ2lzdHJ5LnZhbGlkYXRvcnNbZV0pe3ZhciByPW5ldyBGKHRoaXMsZSx0LGksbik7XCJ1bmRlZmluZWRcIiE9PXRoaXMuY29uc3RyYWludHNCeU5hbWVbci5uYW1lXSYmdGhpcy5yZW1vdmVDb25zdHJhaW50KHIubmFtZSksdGhpcy5jb25zdHJhaW50cy5wdXNoKHIpLHRoaXMuY29uc3RyYWludHNCeU5hbWVbci5uYW1lXT1yfXJldHVybiB0aGlzfSxyZW1vdmVDb25zdHJhaW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7dCsrKWlmKGU9PT10aGlzLmNvbnN0cmFpbnRzW3RdLm5hbWUpe3RoaXMuY29uc3RyYWludHMuc3BsaWNlKHQsMSk7YnJlYWt9cmV0dXJuIGRlbGV0ZSB0aGlzLmNvbnN0cmFpbnRzQnlOYW1lW2VdLHRoaXN9LHVwZGF0ZUNvbnN0cmFpbnQ6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0aGlzLnJlbW92ZUNvbnN0cmFpbnQoZSkuYWRkQ29uc3RyYWludChlLHQsaSl9LF9iaW5kQ29uc3RyYWludHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD17fSxpPTA7aTx0aGlzLmNvbnN0cmFpbnRzLmxlbmd0aDtpKyspITE9PT10aGlzLmNvbnN0cmFpbnRzW2ldLmlzRG9tQ29uc3RyYWludCYmKGUucHVzaCh0aGlzLmNvbnN0cmFpbnRzW2ldKSx0W3RoaXMuY29uc3RyYWludHNbaV0ubmFtZV09dGhpcy5jb25zdHJhaW50c1tpXSk7dGhpcy5jb25zdHJhaW50cz1lLHRoaXMuY29uc3RyYWludHNCeU5hbWU9dDtmb3IodmFyIG4gaW4gdGhpcy5vcHRpb25zKXRoaXMuYWRkQ29uc3RyYWludChuLHRoaXMub3B0aW9uc1tuXSx2b2lkIDAsITApO3JldHVybiB0aGlzLl9iaW5kSHRtbDVDb25zdHJhaW50cygpfSxfYmluZEh0bWw1Q29uc3RyYWludHM6ZnVuY3Rpb24oKXsodGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcInJlcXVpcmVkXCIpfHx0aGlzLiRlbGVtZW50LmF0dHIoXCJyZXF1aXJlZFwiKSkmJnRoaXMuYWRkQ29uc3RyYWludChcInJlcXVpcmVkXCIsITAsdm9pZCAwLCEwKSxcInN0cmluZ1wiPT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwicGF0dGVyblwiKSYmdGhpcy5hZGRDb25zdHJhaW50KFwicGF0dGVyblwiLHRoaXMuJGVsZW1lbnQuYXR0cihcInBhdHRlcm5cIiksdm9pZCAwLCEwKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwibWluXCIpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwibWF4XCIpP3RoaXMuYWRkQ29uc3RyYWludChcInJhbmdlXCIsW3RoaXMuJGVsZW1lbnQuYXR0cihcIm1pblwiKSx0aGlzLiRlbGVtZW50LmF0dHIoXCJtYXhcIildLHZvaWQgMCwhMCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cihcIm1pblwiKT90aGlzLmFkZENvbnN0cmFpbnQoXCJtaW5cIix0aGlzLiRlbGVtZW50LmF0dHIoXCJtaW5cIiksdm9pZCAwLCEwKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwibWF4XCIpJiZ0aGlzLmFkZENvbnN0cmFpbnQoXCJtYXhcIix0aGlzLiRlbGVtZW50LmF0dHIoXCJtYXhcIiksdm9pZCAwLCEwKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwibWlubGVuZ3RoXCIpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwibWF4bGVuZ3RoXCIpP3RoaXMuYWRkQ29uc3RyYWludChcImxlbmd0aFwiLFt0aGlzLiRlbGVtZW50LmF0dHIoXCJtaW5sZW5ndGhcIiksdGhpcy4kZWxlbWVudC5hdHRyKFwibWF4bGVuZ3RoXCIpXSx2b2lkIDAsITApOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLiRlbGVtZW50LmF0dHIoXCJtaW5sZW5ndGhcIik/dGhpcy5hZGRDb25zdHJhaW50KFwibWlubGVuZ3RoXCIsdGhpcy4kZWxlbWVudC5hdHRyKFwibWlubGVuZ3RoXCIpLHZvaWQgMCwhMCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cihcIm1heGxlbmd0aFwiKSYmdGhpcy5hZGRDb25zdHJhaW50KFwibWF4bGVuZ3RoXCIsdGhpcy4kZWxlbWVudC5hdHRyKFwibWF4bGVuZ3RoXCIpLHZvaWQgMCwhMCk7dmFyIGU9dGhpcy4kZWxlbWVudC5hdHRyKFwidHlwZVwiKTtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT90aGlzOlwibnVtYmVyXCI9PT1lP3RoaXMuYWRkQ29uc3RyYWludChcInR5cGVcIixbXCJudW1iZXJcIix7c3RlcDp0aGlzLiRlbGVtZW50LmF0dHIoXCJzdGVwXCIpLGJhc2U6dGhpcy4kZWxlbWVudC5hdHRyKFwibWluXCIpfHx0aGlzLiRlbGVtZW50LmF0dHIoXCJ2YWx1ZVwiKX1dLHZvaWQgMCwhMCk6L14oZW1haWx8dXJsfHJhbmdlKSQvaS50ZXN0KGUpP3RoaXMuYWRkQ29uc3RyYWludChcInR5cGVcIixlLHZvaWQgMCwhMCk6dGhpc30sX2lzUmVxdWlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5jb25zdHJhaW50c0J5TmFtZS5yZXF1aXJlZD8hMTohMSE9PXRoaXMuY29uc3RyYWludHNCeU5hbWUucmVxdWlyZWQucmVxdWlyZW1lbnRzfSxfdHJpZ2dlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmlnZ2VyKFwiZmllbGQ6XCIrZSl9LF9oYW5kbGVXaGl0ZXNwYWNlOmZ1bmN0aW9uKGUpe3JldHVybiEwPT09dGhpcy5vcHRpb25zLnRyaW1WYWx1ZSYmby53YXJuT25jZSgnZGF0YS1wYXJzbGV5LXRyaW0tdmFsdWU9XCJ0cnVlXCIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBkYXRhLXBhcnNsZXktd2hpdGVzcGFjZT1cInRyaW1cIicpLFwic3F1aXNoXCI9PT10aGlzLm9wdGlvbnMud2hpdGVzcGFjZSYmKGU9ZS5yZXBsYWNlKC9cXHN7Mix9L2csXCIgXCIpKSwoXCJ0cmltXCI9PT10aGlzLm9wdGlvbnMud2hpdGVzcGFjZXx8XCJzcXVpc2hcIj09PXRoaXMub3B0aW9ucy53aGl0ZXNwYWNlfHwhMD09PXRoaXMub3B0aW9ucy50cmltVmFsdWUpJiYoZT1vLnRyaW1TdHJpbmcoZSkpLGV9LF9nZXRHcm91cGVkQ29uc3RyYWludHM6ZnVuY3Rpb24oKXtpZighMT09PXRoaXMub3B0aW9ucy5wcmlvcml0eUVuYWJsZWQpcmV0dXJuW3RoaXMuY29uc3RyYWludHNdO2Zvcih2YXIgZT1bXSx0PXt9LGk9MDtpPHRoaXMuY29uc3RyYWludHMubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5jb25zdHJhaW50c1tpXS5wcmlvcml0eTt0W25dfHxlLnB1c2godFtuXT1bXSksdFtuXS5wdXNoKHRoaXMuY29uc3RyYWludHNbaV0pfXJldHVybiBlLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdFswXS5wcmlvcml0eS1lWzBdLnByaW9yaXR5fSksZX19O3ZhciBFPSQsUD1mdW5jdGlvbigpe3RoaXMuX19jbGFzc19fPVwiUGFyc2xleUZpZWxkTXVsdGlwbGVcIn07UC5wcm90b3R5cGU9e2FkZEVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGVsZW1lbnRzLnB1c2goZSksdGhpc30scmVmcmVzaENvbnN0cmFpbnRzOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5jb25zdHJhaW50cz1bXSx0aGlzLiRlbGVtZW50LmlzKFwic2VsZWN0XCIpKXJldHVybiB0aGlzLmFjdHVhbGl6ZU9wdGlvbnMoKS5fYmluZENvbnN0cmFpbnRzKCksdGhpcztmb3IodmFyIGk9MDtpPHRoaXMuJGVsZW1lbnRzLmxlbmd0aDtpKyspaWYoZShcImh0bWxcIikuaGFzKHRoaXMuJGVsZW1lbnRzW2ldKS5sZW5ndGgpe3Q9dGhpcy4kZWxlbWVudHNbaV0uZGF0YShcIlBhcnNsZXlGaWVsZE11bHRpcGxlXCIpLnJlZnJlc2hDb25zdHJhaW50cygpLmNvbnN0cmFpbnRzO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRoaXMuYWRkQ29uc3RyYWludCh0W25dLm5hbWUsdFtuXS5yZXF1aXJlbWVudHMsdFtuXS5wcmlvcml0eSx0W25dLmlzRG9tQ29uc3RyYWludCl9ZWxzZSB0aGlzLiRlbGVtZW50cy5zcGxpY2UoaSwxKTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMudmFsdWUpcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZSh0aGlzKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5vcHRpb25zLnZhbHVlKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7aWYodGhpcy4kZWxlbWVudC5pcyhcImlucHV0W3R5cGU9cmFkaW9dXCIpKXJldHVybiB0aGlzLl9maW5kUmVsYXRlZCgpLmZpbHRlcihcIjpjaGVja2VkXCIpLnZhbCgpfHxcIlwiO2lmKHRoaXMuJGVsZW1lbnQuaXMoXCJpbnB1dFt0eXBlPWNoZWNrYm94XVwiKSl7dmFyIHQ9W107cmV0dXJuIHRoaXMuX2ZpbmRSZWxhdGVkKCkuZmlsdGVyKFwiOmNoZWNrZWRcIikuZWFjaChmdW5jdGlvbigpe3QucHVzaChlKHRoaXMpLnZhbCgpKX0pLHR9cmV0dXJuIHRoaXMuJGVsZW1lbnQuaXMoXCJzZWxlY3RcIikmJm51bGw9PT10aGlzLiRlbGVtZW50LnZhbCgpP1tdOnRoaXMuJGVsZW1lbnQudmFsKCl9LF9pbml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsZW1lbnRzPVt0aGlzLiRlbGVtZW50XSx0aGlzfX07dmFyIFY9ZnVuY3Rpb24odCxpLG4pe3RoaXMuJGVsZW1lbnQ9ZSh0KTt2YXIgcj10aGlzLiRlbGVtZW50LmRhdGEoXCJQYXJzbGV5XCIpO2lmKHIpcmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJnIucGFyZW50PT09d2luZG93LlBhcnNsZXkmJihyLnBhcmVudD1uLHIuX3Jlc2V0T3B0aW9ucyhyLm9wdGlvbnMpKSxyO2lmKCF0aGlzLiRlbGVtZW50Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBiaW5kIFBhcnNsZXkgb24gYW4gZXhpc3RpbmcgZWxlbWVudC5cIik7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJlwiUGFyc2xleUZvcm1cIiE9PW4uX19jbGFzc19fKXRocm93IG5ldyBFcnJvcihcIlBhcmVudCBpbnN0YW5jZSBtdXN0IGJlIGEgUGFyc2xleUZvcm0gaW5zdGFuY2VcIik7cmV0dXJuIHRoaXMucGFyZW50PW58fHdpbmRvdy5QYXJzbGV5LHRoaXMuaW5pdChpKX07Vi5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19jbGFzc19fPVwiUGFyc2xleVwiLHRoaXMuX192ZXJzaW9uX189XCIyLjMuMTNcIix0aGlzLl9faWRfXz1vLmdlbmVyYXRlSUQoKSx0aGlzLl9yZXNldE9wdGlvbnMoZSksdGhpcy4kZWxlbWVudC5pcyhcImZvcm1cIil8fG8uY2hlY2tBdHRyKHRoaXMuJGVsZW1lbnQsdGhpcy5vcHRpb25zLm5hbWVzcGFjZSxcInZhbGlkYXRlXCIpJiYhdGhpcy4kZWxlbWVudC5pcyh0aGlzLm9wdGlvbnMuaW5wdXRzKT90aGlzLmJpbmQoXCJwYXJzbGV5Rm9ybVwiKTp0aGlzLmlzTXVsdGlwbGUoKT90aGlzLmhhbmRsZU11bHRpcGxlKCk6dGhpcy5iaW5kKFwicGFyc2xleUZpZWxkXCIpfSxpc011bHRpcGxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsZW1lbnQuaXMoXCJpbnB1dFt0eXBlPXJhZGlvXSwgaW5wdXRbdHlwZT1jaGVja2JveF1cIil8fHRoaXMuJGVsZW1lbnQuaXMoXCJzZWxlY3RcIikmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLiRlbGVtZW50LmF0dHIoXCJtdWx0aXBsZVwiKX0saGFuZGxlTXVsdGlwbGU6ZnVuY3Rpb24oKXt2YXIgdCxpLG49dGhpcztpZih0aGlzLm9wdGlvbnMubXVsdGlwbGV8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwibmFtZVwiKSYmdGhpcy4kZWxlbWVudC5hdHRyKFwibmFtZVwiKS5sZW5ndGg/dGhpcy5vcHRpb25zLm11bHRpcGxlPXQ9dGhpcy4kZWxlbWVudC5hdHRyKFwibmFtZVwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKFwiaWRcIikmJnRoaXMuJGVsZW1lbnQuYXR0cihcImlkXCIpLmxlbmd0aCYmKHRoaXMub3B0aW9ucy5tdWx0aXBsZT10aGlzLiRlbGVtZW50LmF0dHIoXCJpZFwiKSkpLFxudGhpcy4kZWxlbWVudC5pcyhcInNlbGVjdFwiKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cihcIm11bHRpcGxlXCIpKXJldHVybiB0aGlzLm9wdGlvbnMubXVsdGlwbGU9dGhpcy5vcHRpb25zLm11bHRpcGxlfHx0aGlzLl9faWRfXyx0aGlzLmJpbmQoXCJwYXJzbGV5RmllbGRNdWx0aXBsZVwiKTtpZighdGhpcy5vcHRpb25zLm11bHRpcGxlKXJldHVybiBvLndhcm4oXCJUbyBiZSBib3VuZCBieSBQYXJzbGV5LCBhIHJhZGlvLCBhIGNoZWNrYm94IGFuZCBhIG11bHRpcGxlIHNlbGVjdCBpbnB1dCBtdXN0IGhhdmUgZWl0aGVyIGEgbmFtZSBvciBhIG11bHRpcGxlIG9wdGlvbi5cIix0aGlzLiRlbGVtZW50KSx0aGlzO3RoaXMub3B0aW9ucy5tdWx0aXBsZT10aGlzLm9wdGlvbnMubXVsdGlwbGUucmVwbGFjZSgvKDp8XFwufFxcW3xcXF18XFx7fFxcfXxcXCQpL2csXCJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJmUoJ2lucHV0W25hbWU9XCInK3QrJ1wiXScpLmVhY2goZnVuY3Rpb24odCxpKXtlKGkpLmlzKFwiaW5wdXRbdHlwZT1yYWRpb10sIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpJiZlKGkpLmF0dHIobi5vcHRpb25zLm5hbWVzcGFjZStcIm11bHRpcGxlXCIsbi5vcHRpb25zLm11bHRpcGxlKX0pO2Zvcih2YXIgcj10aGlzLl9maW5kUmVsYXRlZCgpLHM9MDtzPHIubGVuZ3RoO3MrKylpZihpPWUoci5nZXQocykpLmRhdGEoXCJQYXJzbGV5XCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpKXt0aGlzLiRlbGVtZW50LmRhdGEoXCJQYXJzbGV5RmllbGRNdWx0aXBsZVwiKXx8aS5hZGRFbGVtZW50KHRoaXMuJGVsZW1lbnQpO2JyZWFrfXJldHVybiB0aGlzLmJpbmQoXCJwYXJzbGV5RmllbGRcIiwhMCksaXx8dGhpcy5iaW5kKFwicGFyc2xleUZpZWxkTXVsdGlwbGVcIil9LGJpbmQ6ZnVuY3Rpb24odCxpKXt2YXIgbjtzd2l0Y2godCl7Y2FzZVwicGFyc2xleUZvcm1cIjpuPWUuZXh0ZW5kKG5ldyB3KHRoaXMuJGVsZW1lbnQsdGhpcy5kb21PcHRpb25zLHRoaXMub3B0aW9ucyksbmV3IHUsd2luZG93LlBhcnNsZXlFeHRlbmQpLl9iaW5kRmllbGRzKCk7YnJlYWs7Y2FzZVwicGFyc2xleUZpZWxkXCI6bj1lLmV4dGVuZChuZXcgRSh0aGlzLiRlbGVtZW50LHRoaXMuZG9tT3B0aW9ucyx0aGlzLm9wdGlvbnMsdGhpcy5wYXJlbnQpLG5ldyB1LHdpbmRvdy5QYXJzbGV5RXh0ZW5kKTticmVhaztjYXNlXCJwYXJzbGV5RmllbGRNdWx0aXBsZVwiOm49ZS5leHRlbmQobmV3IEUodGhpcy4kZWxlbWVudCx0aGlzLmRvbU9wdGlvbnMsdGhpcy5vcHRpb25zLHRoaXMucGFyZW50KSxuZXcgUCxuZXcgdSx3aW5kb3cuUGFyc2xleUV4dGVuZCkuX2luaXQoKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcih0K1wiaXMgbm90IGEgc3VwcG9ydGVkIFBhcnNsZXkgdHlwZVwiKX1yZXR1cm4gdGhpcy5vcHRpb25zLm11bHRpcGxlJiZvLnNldEF0dHIodGhpcy4kZWxlbWVudCx0aGlzLm9wdGlvbnMubmFtZXNwYWNlLFwibXVsdGlwbGVcIix0aGlzLm9wdGlvbnMubXVsdGlwbGUpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpPyh0aGlzLiRlbGVtZW50LmRhdGEoXCJQYXJzbGV5RmllbGRNdWx0aXBsZVwiLG4pLG4pOih0aGlzLiRlbGVtZW50LmRhdGEoXCJQYXJzbGV5XCIsbiksbi5fYWN0dWFsaXplVHJpZ2dlcnMoKSxuLl90cmlnZ2VyKFwiaW5pdFwiKSxuKX19O3ZhciBNPWUuZm4uanF1ZXJ5LnNwbGl0KFwiLlwiKTtpZihwYXJzZUludChNWzBdKTw9MSYmcGFyc2VJbnQoTVsxXSk8OCl0aHJvd1wiVGhlIGxvYWRlZCB2ZXJzaW9uIG9mIGpRdWVyeSBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byAxLjgueCBvciBiZXR0ZXIuXCI7TS5mb3JFYWNofHxvLndhcm4oXCJQYXJzbGV5IHJlcXVpcmVzIEVTNSB0byBydW4gcHJvcGVybHkuIFBsZWFzZSBpbmNsdWRlIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbVwiKTt2YXIgQT1lLmV4dGVuZChuZXcgdSx7JGVsZW1lbnQ6ZShkb2N1bWVudCksYWN0dWFsaXplT3B0aW9uczpudWxsLF9yZXNldE9wdGlvbnM6bnVsbCxGYWN0b3J5OlYsdmVyc2lvbjpcIjIuMy4xM1wifSk7ZS5leHRlbmQoRS5wcm90b3R5cGUseS5GaWVsZCx1LnByb3RvdHlwZSksZS5leHRlbmQody5wcm90b3R5cGUseS5Gb3JtLHUucHJvdG90eXBlKSxlLmV4dGVuZChWLnByb3RvdHlwZSx1LnByb3RvdHlwZSksZS5mbi5wYXJzbGV5PWUuZm4ucHNseT1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aD4xKXt2YXIgaT1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5wdXNoKGUodGhpcykucGFyc2xleSh0KSl9KSxpfXJldHVybiBlKHRoaXMpLmxlbmd0aD9uZXcgVih0aGlzLHQpOnZvaWQgby53YXJuKFwiWW91IG11c3QgYmluZCBQYXJzbGV5IG9uIGFuIGV4aXN0aW5nIGVsZW1lbnQuXCIpfSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LlBhcnNsZXlFeHRlbmQmJih3aW5kb3cuUGFyc2xleUV4dGVuZD17fSksQS5vcHRpb25zPWUuZXh0ZW5kKG8ub2JqZWN0Q3JlYXRlKGwpLHdpbmRvdy5QYXJzbGV5Q29uZmlnKSx3aW5kb3cuUGFyc2xleUNvbmZpZz1BLm9wdGlvbnMsd2luZG93LlBhcnNsZXk9d2luZG93LnBzbHk9QSx3aW5kb3cuUGFyc2xleVV0aWxzPW87dmFyIE89d2luZG93LlBhcnNsZXkuX3ZhbGlkYXRvclJlZ2lzdHJ5PW5ldyBtKHdpbmRvdy5QYXJzbGV5Q29uZmlnLnZhbGlkYXRvcnMsd2luZG93LlBhcnNsZXlDb25maWcuaTE4bik7d2luZG93LlBhcnNsZXlWYWxpZGF0b3I9e30sZS5lYWNoKFwic2V0TG9jYWxlIGFkZENhdGFsb2cgYWRkTWVzc2FnZSBhZGRNZXNzYWdlcyBnZXRFcnJvck1lc3NhZ2UgZm9ybWF0TWVzc2FnZSBhZGRWYWxpZGF0b3IgdXBkYXRlVmFsaWRhdG9yIHJlbW92ZVZhbGlkYXRvclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbih0LGkpe3dpbmRvdy5QYXJzbGV5W2ldPWUucHJveHkoTyxpKSx3aW5kb3cuUGFyc2xleVZhbGlkYXRvcltpXT1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBvLndhcm5PbmNlKFwiQWNjZXNzaW5nIHRoZSBtZXRob2QgJ1wiK2krXCInIHRocm91Z2ggUGFyc2xleVZhbGlkYXRvciBpcyBkZXByZWNhdGVkLiBTaW1wbHkgY2FsbCAnd2luZG93LlBhcnNsZXkuXCIraStcIiguLi4pJ1wiKSwoZT13aW5kb3cuUGFyc2xleSlbaV0uYXBwbHkoZSxhcmd1bWVudHMpfX0pLHdpbmRvdy5QYXJzbGV5LlVJPXksd2luZG93LlBhcnNsZXlVST17cmVtb3ZlRXJyb3I6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPSEwIT09aTtyZXR1cm4gby53YXJuT25jZShcIkFjY2Vzc2luZyBQYXJzbGV5VUkgaXMgZGVwcmVjYXRlZC4gQ2FsbCAncmVtb3ZlRXJyb3InIG9uIHRoZSBpbnN0YW5jZSBkaXJlY3RseS4gUGxlYXNlIGNvbW1lbnQgaW4gaXNzdWUgMTA3MyBhcyB0byB5b3VyIG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cIiksZS5yZW1vdmVFcnJvcih0LHt1cGRhdGVDbGFzczpufSl9LGdldEVycm9yc01lc3NhZ2VzOmZ1bmN0aW9uKGUpe3JldHVybiBvLndhcm5PbmNlKFwiQWNjZXNzaW5nIFBhcnNsZXlVSSBpcyBkZXByZWNhdGVkLiBDYWxsICdnZXRFcnJvcnNNZXNzYWdlcycgb24gdGhlIGluc3RhbmNlIGRpcmVjdGx5LlwiKSxlLmdldEVycm9yc01lc3NhZ2VzKCl9fSxlLmVhY2goXCJhZGRFcnJvciB1cGRhdGVFcnJvclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe3dpbmRvdy5QYXJzbGV5VUlbdF09ZnVuY3Rpb24oZSxpLG4scixzKXt2YXIgYT0hMCE9PXM7cmV0dXJuIG8ud2Fybk9uY2UoXCJBY2Nlc3NpbmcgUGFyc2xleVVJIGlzIGRlcHJlY2F0ZWQuIENhbGwgJ1wiK3QrXCInIG9uIHRoZSBpbnN0YW5jZSBkaXJlY3RseS4gUGxlYXNlIGNvbW1lbnQgaW4gaXNzdWUgMTA3MyBhcyB0byB5b3VyIG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cIiksZVt0XShpLHttZXNzYWdlOm4sYXNzZXJ0OnIsdXBkYXRlQ2xhc3M6YX0pfX0pLCExIT09d2luZG93LlBhcnNsZXlDb25maWcuYXV0b0JpbmQmJmUoZnVuY3Rpb24oKXtlKFwiW2RhdGEtcGFyc2xleS12YWxpZGF0ZV1cIikubGVuZ3RoJiZlKFwiW2RhdGEtcGFyc2xleS12YWxpZGF0ZV1cIikucGFyc2xleSgpfSk7dmFyIFI9ZSh7fSksVD1mdW5jdGlvbigpe28ud2Fybk9uY2UoXCJQYXJzbGV5J3MgcHVic3ViIG1vZHVsZSBpcyBkZXByZWNhdGVkOyB1c2UgdGhlICdvbicgYW5kICdvZmYnIG1ldGhvZHMgb24gcGFyc2xleSBpbnN0YW5jZXMgb3Igd2luZG93LlBhcnNsZXlcIil9LHE9XCJwYXJzbGV5OlwiO2UubGlzdGVuPWZ1bmN0aW9uKGUsbil7dmFyIHI7aWYoVCgpLFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmKHI9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIldyb25nIHBhcmFtZXRlcnNcIik7d2luZG93LlBhcnNsZXkub24oaShlKSx0KG4scikpfSxlLmxpc3RlblRvPWZ1bmN0aW9uKGUsbixyKXtpZihUKCksIShlIGluc3RhbmNlb2YgRXx8ZSBpbnN0YW5jZW9mIHcpKXRocm93IG5ldyBFcnJvcihcIk11c3QgZ2l2ZSBQYXJzbGV5IGluc3RhbmNlXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBufHxcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIldyb25nIHBhcmFtZXRlcnNcIik7ZS5vbihpKG4pLHQocikpfSxlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsdCl7aWYoVCgpLFwic3RyaW5nXCIhPXR5cGVvZiBlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIldyb25nIGFyZ3VtZW50c1wiKTt3aW5kb3cuUGFyc2xleS5vZmYoaShlKSx0LnBhcnNsZXlBZGFwdGVkQ2FsbGJhY2spfSxlLnVuc3Vic2NyaWJlVG89ZnVuY3Rpb24oZSx0KXtpZihUKCksIShlIGluc3RhbmNlb2YgRXx8ZSBpbnN0YW5jZW9mIHcpKXRocm93IG5ldyBFcnJvcihcIk11c3QgZ2l2ZSBQYXJzbGV5IGluc3RhbmNlXCIpO2Uub2ZmKGkodCkpfSxlLnVuc3Vic2NyaWJlQWxsPWZ1bmN0aW9uKHQpe1QoKSx3aW5kb3cuUGFyc2xleS5vZmYoaSh0KSksZShcImZvcm0saW5wdXQsdGV4dGFyZWEsc2VsZWN0XCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1lKHRoaXMpLmRhdGEoXCJQYXJzbGV5XCIpO24mJm4ub2ZmKGkodCkpfSl9LGUuZW1pdD1mdW5jdGlvbihlLHQpe3ZhciBuO1QoKTt2YXIgcj10IGluc3RhbmNlb2YgRXx8dCBpbnN0YW5jZW9mIHcscz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMscj8yOjEpO3MudW5zaGlmdChpKGUpKSxyfHwodD13aW5kb3cuUGFyc2xleSksKG49dCkudHJpZ2dlci5hcHBseShuLF90b0NvbnN1bWFibGVBcnJheShzKSl9O2UuZXh0ZW5kKCEwLEEse2FzeW5jVmFsaWRhdG9yczp7XCJkZWZhdWx0XCI6e2ZuOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz49MjAwJiZlLnN0YXR1czwzMDB9LHVybDohMX0scmV2ZXJzZTp7Zm46ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPDIwMHx8ZS5zdGF0dXM+PTMwMH0sdXJsOiExfX0sYWRkQXN5bmNWYWxpZGF0b3I6ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIEEuYXN5bmNWYWxpZGF0b3JzW2VdPXtmbjp0LHVybDppfHwhMSxvcHRpb25zOm58fHt9fSx0aGlzfX0pLEEuYWRkVmFsaWRhdG9yKFwicmVtb3RlXCIse3JlcXVpcmVtZW50VHlwZTp7XCJcIjpcInN0cmluZ1wiLHZhbGlkYXRvcjpcInN0cmluZ1wiLHJldmVyc2U6XCJib29sZWFuXCIsb3B0aW9uczpcIm9iamVjdFwifSx2YWxpZGF0ZVN0cmluZzpmdW5jdGlvbih0LGksbixyKXt2YXIgcyxhLG89e30sbD1uLnZhbGlkYXRvcnx8KCEwPT09bi5yZXZlcnNlP1wicmV2ZXJzZVwiOlwiZGVmYXVsdFwiKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQS5hc3luY1ZhbGlkYXRvcnNbbF0pdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGluZyBhbiB1bmRlZmluZWQgYXN5bmMgdmFsaWRhdG9yOiBgXCIrbCtcImBcIik7aT1BLmFzeW5jVmFsaWRhdG9yc1tsXS51cmx8fGksaS5pbmRleE9mKFwie3ZhbHVlfVwiKT4tMT9pPWkucmVwbGFjZShcInt2YWx1ZX1cIixlbmNvZGVVUklDb21wb25lbnQodCkpOm9bci4kZWxlbWVudC5hdHRyKFwibmFtZVwiKXx8ci4kZWxlbWVudC5hdHRyKFwiaWRcIildPXQ7dmFyIHU9ZS5leHRlbmQoITAsbi5vcHRpb25zfHx7fSxBLmFzeW5jVmFsaWRhdG9yc1tsXS5vcHRpb25zKTtzPWUuZXh0ZW5kKCEwLHt9LHt1cmw6aSxkYXRhOm8sdHlwZTpcIkdFVFwifSx1KSxyLnRyaWdnZXIoXCJmaWVsZDphamF4b3B0aW9uc1wiLHIscyksYT1lLnBhcmFtKHMpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBBLl9yZW1vdGVDYWNoZSYmKEEuX3JlbW90ZUNhY2hlPXt9KTt2YXIgZD1BLl9yZW1vdGVDYWNoZVthXT1BLl9yZW1vdGVDYWNoZVthXXx8ZS5hamF4KHMpLGg9ZnVuY3Rpb24oKXt2YXIgdD1BLmFzeW5jVmFsaWRhdG9yc1tsXS5mbi5jYWxsKHIsZCxpLG4pO3JldHVybiB0fHwodD1lLkRlZmVycmVkKCkucmVqZWN0KCkpLGUud2hlbih0KX07cmV0dXJuIGQudGhlbihoLGgpfSxwcmlvcml0eTotMX0pLEEub24oXCJmb3JtOnN1Ym1pdFwiLGZ1bmN0aW9uKCl7QS5fcmVtb3RlQ2FjaGU9e319KSx3aW5kb3cuUGFyc2xleUV4dGVuZC5hZGRBc3luY1ZhbGlkYXRvcj1mdW5jdGlvbigpe3JldHVybiBQYXJzbGV5VXRpbHMud2Fybk9uY2UoXCJBY2Nlc3NpbmcgdGhlIG1ldGhvZCBgYWRkQXN5bmNWYWxpZGF0b3JgIHRocm91Z2ggYW4gaW5zdGFuY2UgaXMgZGVwcmVjYXRlZC4gU2ltcGx5IGNhbGwgYFBhcnNsZXkuYWRkQXN5bmNWYWxpZGF0b3IoLi4uKWBcIiksQS5hZGRBc3luY1ZhbGlkYXRvci5hcHBseShBLGFyZ3VtZW50cyl9LEEuYWRkTWVzc2FnZXMoXCJlblwiLHtkZWZhdWx0TWVzc2FnZTpcIlRoaXMgdmFsdWUgc2VlbXMgdG8gYmUgaW52YWxpZC5cIix0eXBlOntlbWFpbDpcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIGEgdmFsaWQgZW1haWwuXCIsdXJsOlwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgYSB2YWxpZCB1cmwuXCIsbnVtYmVyOlwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgYSB2YWxpZCBudW1iZXIuXCIsaW50ZWdlcjpcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIGEgdmFsaWQgaW50ZWdlci5cIixkaWdpdHM6XCJUaGlzIHZhbHVlIHNob3VsZCBiZSBkaWdpdHMuXCIsYWxwaGFudW06XCJUaGlzIHZhbHVlIHNob3VsZCBiZSBhbHBoYW51bWVyaWMuXCJ9LG5vdGJsYW5rOlwiVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIGJsYW5rLlwiLHJlcXVpcmVkOlwiVGhpcyB2YWx1ZSBpcyByZXF1aXJlZC5cIixwYXR0ZXJuOlwiVGhpcyB2YWx1ZSBzZWVtcyB0byBiZSBpbnZhbGlkLlwiLG1pbjpcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAlcy5cIixtYXg6XCJUaGlzIHZhbHVlIHNob3VsZCBiZSBsb3dlciB0aGFuIG9yIGVxdWFsIHRvICVzLlwiLHJhbmdlOlwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgYmV0d2VlbiAlcyBhbmQgJXMuXCIsbWlubGVuZ3RoOlwiVGhpcyB2YWx1ZSBpcyB0b28gc2hvcnQuIEl0IHNob3VsZCBoYXZlICVzIGNoYXJhY3RlcnMgb3IgbW9yZS5cIixtYXhsZW5ndGg6XCJUaGlzIHZhbHVlIGlzIHRvbyBsb25nLiBJdCBzaG91bGQgaGF2ZSAlcyBjaGFyYWN0ZXJzIG9yIGZld2VyLlwiLGxlbmd0aDpcIlRoaXMgdmFsdWUgbGVuZ3RoIGlzIGludmFsaWQuIEl0IHNob3VsZCBiZSBiZXR3ZWVuICVzIGFuZCAlcyBjaGFyYWN0ZXJzIGxvbmcuXCIsbWluY2hlY2s6XCJZb3UgbXVzdCBzZWxlY3QgYXQgbGVhc3QgJXMgY2hvaWNlcy5cIixtYXhjaGVjazpcIllvdSBtdXN0IHNlbGVjdCAlcyBjaG9pY2VzIG9yIGZld2VyLlwiLGNoZWNrOlwiWW91IG11c3Qgc2VsZWN0IGJldHdlZW4gJXMgYW5kICVzIGNob2ljZXMuXCIsZXF1YWx0bzpcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIHRoZSBzYW1lLlwifSksQS5zZXRMb2NhbGUoXCJlblwiKTt2YXIgRD1uZXcgbjtELmluc3RhbGwoKTt2YXIgST1BO3JldHVybiBJfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzbGV5Lm1pbi5qcy5tYXBcbiIsIi8vISBtb21lbnQuanNcbi8vISB2ZXJzaW9uIDogMi4xMy4wXG4vLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuLy8hIGxpY2Vuc2UgOiBNSVRcbi8vISBtb21lbnRqcy5jb21cbiFmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWIoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGIpOmEubW9tZW50PWIoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoKXtyZXR1cm4gZmQuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoYSl7ZmQ9YX1mdW5jdGlvbiBjKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXJyYXl8fFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRGF0ZXx8XCJbb2JqZWN0IERhdGVdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQ9W107Zm9yKGM9MDtjPGEubGVuZ3RoOysrYylkLnB1c2goYihhW2NdLGMpKTtyZXR1cm4gZH1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIGcoYSxiKXtmb3IodmFyIGMgaW4gYilmKGIsYykmJihhW2NdPWJbY10pO3JldHVybiBmKGIsXCJ0b1N0cmluZ1wiKSYmKGEudG9TdHJpbmc9Yi50b1N0cmluZyksZihiLFwidmFsdWVPZlwiKSYmKGEudmFsdWVPZj1iLnZhbHVlT2YpLGF9ZnVuY3Rpb24gaChhLGIsYyxkKXtyZXR1cm4gSmEoYSxiLGMsZCwhMCkudXRjKCl9ZnVuY3Rpb24gaSgpe3JldHVybntlbXB0eTohMSx1bnVzZWRUb2tlbnM6W10sdW51c2VkSW5wdXQ6W10sb3ZlcmZsb3c6LTIsY2hhcnNMZWZ0T3ZlcjowLG51bGxJbnB1dDohMSxpbnZhbGlkTW9udGg6bnVsbCxpbnZhbGlkRm9ybWF0OiExLHVzZXJJbnZhbGlkYXRlZDohMSxpc286ITEscGFyc2VkRGF0ZVBhcnRzOltdLG1lcmlkaWVtOm51bGx9fWZ1bmN0aW9uIGooYSl7cmV0dXJuIG51bGw9PWEuX3BmJiYoYS5fcGY9aSgpKSxhLl9wZn1mdW5jdGlvbiBrKGEpe2lmKG51bGw9PWEuX2lzVmFsaWQpe3ZhciBiPWooYSksYz1nZC5jYWxsKGIucGFyc2VkRGF0ZVBhcnRzLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfSk7YS5faXNWYWxpZD0haXNOYU4oYS5fZC5nZXRUaW1lKCkpJiZiLm92ZXJmbG93PDAmJiFiLmVtcHR5JiYhYi5pbnZhbGlkTW9udGgmJiFiLmludmFsaWRXZWVrZGF5JiYhYi5udWxsSW5wdXQmJiFiLmludmFsaWRGb3JtYXQmJiFiLnVzZXJJbnZhbGlkYXRlZCYmKCFiLm1lcmlkaWVtfHxiLm1lcmlkaWVtJiZjKSxhLl9zdHJpY3QmJihhLl9pc1ZhbGlkPWEuX2lzVmFsaWQmJjA9PT1iLmNoYXJzTGVmdE92ZXImJjA9PT1iLnVudXNlZFRva2Vucy5sZW5ndGgmJnZvaWQgMD09PWIuYmlnSG91cil9cmV0dXJuIGEuX2lzVmFsaWR9ZnVuY3Rpb24gbChhKXt2YXIgYj1oKE5hTik7cmV0dXJuIG51bGwhPWE/ZyhqKGIpLGEpOmooYikudXNlckludmFsaWRhdGVkPSEwLGJ9ZnVuY3Rpb24gbShhKXtyZXR1cm4gdm9pZCAwPT09YX1mdW5jdGlvbiBuKGEsYil7dmFyIGMsZCxlO2lmKG0oYi5faXNBTW9tZW50T2JqZWN0KXx8KGEuX2lzQU1vbWVudE9iamVjdD1iLl9pc0FNb21lbnRPYmplY3QpLG0oYi5faSl8fChhLl9pPWIuX2kpLG0oYi5fZil8fChhLl9mPWIuX2YpLG0oYi5fbCl8fChhLl9sPWIuX2wpLG0oYi5fc3RyaWN0KXx8KGEuX3N0cmljdD1iLl9zdHJpY3QpLG0oYi5fdHptKXx8KGEuX3R6bT1iLl90em0pLG0oYi5faXNVVEMpfHwoYS5faXNVVEM9Yi5faXNVVEMpLG0oYi5fb2Zmc2V0KXx8KGEuX29mZnNldD1iLl9vZmZzZXQpLG0oYi5fcGYpfHwoYS5fcGY9aihiKSksbShiLl9sb2NhbGUpfHwoYS5fbG9jYWxlPWIuX2xvY2FsZSksaGQubGVuZ3RoPjApZm9yKGMgaW4gaGQpZD1oZFtjXSxlPWJbZF0sbShlKXx8KGFbZF09ZSk7cmV0dXJuIGF9ZnVuY3Rpb24gbyhiKXtuKHRoaXMsYiksdGhpcy5fZD1uZXcgRGF0ZShudWxsIT1iLl9kP2IuX2QuZ2V0VGltZSgpOk5hTiksaWQ9PT0hMSYmKGlkPSEwLGEudXBkYXRlT2Zmc2V0KHRoaXMpLGlkPSExKX1mdW5jdGlvbiBwKGEpe3JldHVybiBhIGluc3RhbmNlb2Ygb3x8bnVsbCE9YSYmbnVsbCE9YS5faXNBTW9tZW50T2JqZWN0fWZ1bmN0aW9uIHEoYSl7cmV0dXJuIDA+YT9NYXRoLmNlaWwoYSk6TWF0aC5mbG9vcihhKX1mdW5jdGlvbiByKGEpe3ZhciBiPSthLGM9MDtyZXR1cm4gMCE9PWImJmlzRmluaXRlKGIpJiYoYz1xKGIpKSxjfWZ1bmN0aW9uIHMoYSxiLGMpe3ZhciBkLGU9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpLGY9TWF0aC5hYnMoYS5sZW5ndGgtYi5sZW5ndGgpLGc9MDtmb3IoZD0wO2U+ZDtkKyspKGMmJmFbZF0hPT1iW2RdfHwhYyYmcihhW2RdKSE9PXIoYltkXSkpJiZnKys7cmV0dXJuIGcrZn1mdW5jdGlvbiB0KGIpe2Euc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzPT09ITEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIkRlcHJlY2F0aW9uIHdhcm5pbmc6IFwiK2IpfWZ1bmN0aW9uIHUoYixjKXt2YXIgZD0hMDtyZXR1cm4gZyhmdW5jdGlvbigpe3JldHVybiBudWxsIT1hLmRlcHJlY2F0aW9uSGFuZGxlciYmYS5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCxiKSxkJiYodChiK1wiXFxuQXJndW1lbnRzOiBcIitBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCIsIFwiKStcIlxcblwiKyhuZXcgRXJyb3IpLnN0YWNrKSxkPSExKSxjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYyl9ZnVuY3Rpb24gdihiLGMpe251bGwhPWEuZGVwcmVjYXRpb25IYW5kbGVyJiZhLmRlcHJlY2F0aW9uSGFuZGxlcihiLGMpLGpkW2JdfHwodChjKSxqZFtiXT0hMCl9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEZ1bmN0aW9ufHxcIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9ZnVuY3Rpb24geChhKXtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfWZ1bmN0aW9uIHkoYSl7dmFyIGIsYztmb3IoYyBpbiBhKWI9YVtjXSx3KGIpP3RoaXNbY109Yjp0aGlzW1wiX1wiK2NdPWI7dGhpcy5fY29uZmlnPWEsdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudD1uZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UrXCJ8XCIrL1xcZHsxLDJ9Ly5zb3VyY2UpfWZ1bmN0aW9uIHooYSxiKXt2YXIgYyxkPWcoe30sYSk7Zm9yKGMgaW4gYilmKGIsYykmJih4KGFbY10pJiZ4KGJbY10pPyhkW2NdPXt9LGcoZFtjXSxhW2NdKSxnKGRbY10sYltjXSkpOm51bGwhPWJbY10/ZFtjXT1iW2NdOmRlbGV0ZSBkW2NdKTtyZXR1cm4gZH1mdW5jdGlvbiBBKGEpe251bGwhPWEmJnRoaXMuc2V0KGEpfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGE/YS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXCJfXCIsXCItXCIpOmF9ZnVuY3Rpb24gQyhhKXtmb3IodmFyIGIsYyxkLGUsZj0wO2Y8YS5sZW5ndGg7KXtmb3IoZT1CKGFbZl0pLnNwbGl0KFwiLVwiKSxiPWUubGVuZ3RoLGM9QihhW2YrMV0pLGM9Yz9jLnNwbGl0KFwiLVwiKTpudWxsO2I+MDspe2lmKGQ9RChlLnNsaWNlKDAsYikuam9pbihcIi1cIikpKXJldHVybiBkO2lmKGMmJmMubGVuZ3RoPj1iJiZzKGUsYywhMCk+PWItMSlicmVhaztiLS19ZisrfXJldHVybiBudWxsfWZ1bmN0aW9uIEQoYSl7dmFyIGI9bnVsbDtpZighbmRbYV0mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmbW9kdWxlLmV4cG9ydHMpdHJ5e2I9bGQuX2FiYnIscmVxdWlyZShcIi4vbG9jYWxlL1wiK2EpLEUoYil9Y2F0Y2goYyl7fXJldHVybiBuZFthXX1mdW5jdGlvbiBFKGEsYil7dmFyIGM7cmV0dXJuIGEmJihjPW0oYik/SChhKTpGKGEsYiksYyYmKGxkPWMpKSxsZC5fYWJicn1mdW5jdGlvbiBGKGEsYil7cmV0dXJuIG51bGwhPT1iPyhiLmFiYnI9YSxudWxsIT1uZFthXT8odihcImRlZmluZUxvY2FsZU92ZXJyaWRlXCIsXCJ1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSBhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGVcIiksYj16KG5kW2FdLl9jb25maWcsYikpOm51bGwhPWIucGFyZW50TG9jYWxlJiYobnVsbCE9bmRbYi5wYXJlbnRMb2NhbGVdP2I9eihuZFtiLnBhcmVudExvY2FsZV0uX2NvbmZpZyxiKTp2KFwicGFyZW50TG9jYWxlVW5kZWZpbmVkXCIsXCJzcGVjaWZpZWQgcGFyZW50TG9jYWxlIGlzIG5vdCBkZWZpbmVkIHlldFwiKSksbmRbYV09bmV3IEEoYiksRShhKSxuZFthXSk6KGRlbGV0ZSBuZFthXSxudWxsKX1mdW5jdGlvbiBHKGEsYil7aWYobnVsbCE9Yil7dmFyIGM7bnVsbCE9bmRbYV0mJihiPXoobmRbYV0uX2NvbmZpZyxiKSksYz1uZXcgQShiKSxjLnBhcmVudExvY2FsZT1uZFthXSxuZFthXT1jLEUoYSl9ZWxzZSBudWxsIT1uZFthXSYmKG51bGwhPW5kW2FdLnBhcmVudExvY2FsZT9uZFthXT1uZFthXS5wYXJlbnRMb2NhbGU6bnVsbCE9bmRbYV0mJmRlbGV0ZSBuZFthXSk7cmV0dXJuIG5kW2FdfWZ1bmN0aW9uIEgoYSl7dmFyIGI7aWYoYSYmYS5fbG9jYWxlJiZhLl9sb2NhbGUuX2FiYnImJihhPWEuX2xvY2FsZS5fYWJiciksIWEpcmV0dXJuIGxkO2lmKCFjKGEpKXtpZihiPUQoYSkpcmV0dXJuIGI7YT1bYV19cmV0dXJuIEMoYSl9ZnVuY3Rpb24gSSgpe3JldHVybiBrZChuZCl9ZnVuY3Rpb24gSihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtvZFtjXT1vZFtjK1wic1wiXT1vZFtiXT1hfWZ1bmN0aW9uIEsoYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/b2RbYV18fG9kW2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIEwoYSl7dmFyIGIsYyxkPXt9O2ZvcihjIGluIGEpZihhLGMpJiYoYj1LKGMpLGImJihkW2JdPWFbY10pKTtyZXR1cm4gZH1mdW5jdGlvbiBNKGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBudWxsIT1kPyhPKHRoaXMsYixkKSxhLnVwZGF0ZU9mZnNldCh0aGlzLGMpLHRoaXMpOk4odGhpcyxiKX19ZnVuY3Rpb24gTihhLGIpe3JldHVybiBhLmlzVmFsaWQoKT9hLl9kW1wiZ2V0XCIrKGEuX2lzVVRDP1wiVVRDXCI6XCJcIikrYl0oKTpOYU59ZnVuY3Rpb24gTyhhLGIsYyl7YS5pc1ZhbGlkKCkmJmEuX2RbXCJzZXRcIisoYS5faXNVVEM/XCJVVENcIjpcIlwiKStiXShjKX1mdW5jdGlvbiBQKGEsYil7dmFyIGM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpZm9yKGMgaW4gYSl0aGlzLnNldChjLGFbY10pO2Vsc2UgaWYoYT1LKGEpLHcodGhpc1thXSkpcmV0dXJuIHRoaXNbYV0oYik7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gUShhLGIsYyl7dmFyIGQ9XCJcIitNYXRoLmFicyhhKSxlPWItZC5sZW5ndGgsZj1hPj0wO3JldHVybihmP2M/XCIrXCI6XCJcIjpcIi1cIikrTWF0aC5wb3coMTAsTWF0aC5tYXgoMCxlKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkrZH1mdW5jdGlvbiBSKGEsYixjLGQpe3ZhciBlPWQ7XCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZF0oKX0pLGEmJihzZFthXT1lKSxiJiYoc2RbYlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gUShlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxiWzFdLGJbMl0pfSksYyYmKHNkW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYSl9KX1mdW5jdGlvbiBTKGEpe3JldHVybiBhLm1hdGNoKC9cXFtbXFxzXFxTXS8pP2EucmVwbGFjZSgvXlxcW3xcXF0kL2csXCJcIik6YS5yZXBsYWNlKC9cXFxcL2csXCJcIil9ZnVuY3Rpb24gVChhKXt2YXIgYixjLGQ9YS5tYXRjaChwZCk7Zm9yKGI9MCxjPWQubGVuZ3RoO2M+YjtiKyspc2RbZFtiXV0/ZFtiXT1zZFtkW2JdXTpkW2JdPVMoZFtiXSk7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBlLGY9XCJcIjtmb3IoZT0wO2M+ZTtlKyspZis9ZFtlXWluc3RhbmNlb2YgRnVuY3Rpb24/ZFtlXS5jYWxsKGIsYSk6ZFtlXTtyZXR1cm4gZn19ZnVuY3Rpb24gVShhLGIpe3JldHVybiBhLmlzVmFsaWQoKT8oYj1WKGIsYS5sb2NhbGVEYXRhKCkpLHJkW2JdPXJkW2JdfHxUKGIpLHJkW2JdKGEpKTphLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIFYoYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBiLmxvbmdEYXRlRm9ybWF0KGEpfHxhfXZhciBkPTU7Zm9yKHFkLmxhc3RJbmRleD0wO2Q+PTAmJnFkLnRlc3QoYSk7KWE9YS5yZXBsYWNlKHFkLGMpLHFkLmxhc3RJbmRleD0wLGQtPTE7cmV0dXJuIGF9ZnVuY3Rpb24gVyhhLGIsYyl7S2RbYV09dyhiKT9iOmZ1bmN0aW9uKGEsZCl7cmV0dXJuIGEmJmM/YzpifX1mdW5jdGlvbiBYKGEsYil7cmV0dXJuIGYoS2QsYSk/S2RbYV0oYi5fc3RyaWN0LGIuX2xvY2FsZSk6bmV3IFJlZ0V4cChZKGEpKX1mdW5jdGlvbiBZKGEpe3JldHVybiBaKGEucmVwbGFjZShcIlxcXFxcIixcIlwiKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gYnx8Y3x8ZHx8ZX0pKX1mdW5jdGlvbiBaKGEpe3JldHVybiBhLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZyxcIlxcXFwkJlwiKX1mdW5jdGlvbiAkKGEsYil7dmFyIGMsZD1iO2ZvcihcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9W2FdKSxcIm51bWJlclwiPT10eXBlb2YgYiYmKGQ9ZnVuY3Rpb24oYSxjKXtjW2JdPXIoYSl9KSxjPTA7YzxhLmxlbmd0aDtjKyspTGRbYVtjXV09ZH1mdW5jdGlvbiBfKGEsYil7JChhLGZ1bmN0aW9uKGEsYyxkLGUpe2QuX3c9ZC5fd3x8e30sYihhLGQuX3csZCxlKX0pfWZ1bmN0aW9uIGFhKGEsYixjKXtudWxsIT1iJiZmKExkLGEpJiZMZFthXShiLGMuX2EsYyxhKX1mdW5jdGlvbiBiYShhLGIpe3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhhLGIrMSwwKSkuZ2V0VVRDRGF0ZSgpfWZ1bmN0aW9uIGNhKGEsYil7cmV0dXJuIGModGhpcy5fbW9udGhzKT90aGlzLl9tb250aHNbYS5tb250aCgpXTp0aGlzLl9tb250aHNbVmQudGVzdChiKT9cImZvcm1hdFwiOlwic3RhbmRhbG9uZVwiXVthLm1vbnRoKCldfWZ1bmN0aW9uIGRhKGEsYil7cmV0dXJuIGModGhpcy5fbW9udGhzU2hvcnQpP3RoaXMuX21vbnRoc1Nob3J0W2EubW9udGgoKV06dGhpcy5fbW9udGhzU2hvcnRbVmQudGVzdChiKT9cImZvcm1hdFwiOlwic3RhbmRhbG9uZVwiXVthLm1vbnRoKCldfWZ1bmN0aW9uIGVhKGEsYixjKXt2YXIgZCxlLGYsZz1hLnRvTG9jYWxlTG93ZXJDYXNlKCk7aWYoIXRoaXMuX21vbnRoc1BhcnNlKWZvcih0aGlzLl9tb250aHNQYXJzZT1bXSx0aGlzLl9sb25nTW9udGhzUGFyc2U9W10sdGhpcy5fc2hvcnRNb250aHNQYXJzZT1bXSxkPTA7MTI+ZDsrK2QpZj1oKFsyZTMsZF0pLHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbZF09dGhpcy5tb250aHNTaG9ydChmLFwiXCIpLnRvTG9jYWxlTG93ZXJDYXNlKCksdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2RdPXRoaXMubW9udGhzKGYsXCJcIikudG9Mb2NhbGVMb3dlckNhc2UoKTtyZXR1cm4gYz9cIk1NTVwiPT09Yj8oZT1tZC5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsZyksLTEhPT1lP2U6bnVsbCk6KGU9bWQuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsZyksLTEhPT1lP2U6bnVsbCk6XCJNTU1cIj09PWI/KGU9bWQuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLGcpLC0xIT09ZT9lOihlPW1kLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLGcpLC0xIT09ZT9lOm51bGwpKTooZT1tZC5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSxnKSwtMSE9PWU/ZTooZT1tZC5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsZyksLTEhPT1lP2U6bnVsbCkpfWZ1bmN0aW9uIGZhKGEsYixjKXt2YXIgZCxlLGY7aWYodGhpcy5fbW9udGhzUGFyc2VFeGFjdClyZXR1cm4gZWEuY2FsbCh0aGlzLGEsYixjKTtmb3IodGhpcy5fbW9udGhzUGFyc2V8fCh0aGlzLl9tb250aHNQYXJzZT1bXSx0aGlzLl9sb25nTW9udGhzUGFyc2U9W10sdGhpcy5fc2hvcnRNb250aHNQYXJzZT1bXSksZD0wOzEyPmQ7ZCsrKXtpZihlPWgoWzJlMyxkXSksYyYmIXRoaXMuX2xvbmdNb250aHNQYXJzZVtkXSYmKHRoaXMuX2xvbmdNb250aHNQYXJzZVtkXT1uZXcgUmVnRXhwKFwiXlwiK3RoaXMubW9udGhzKGUsXCJcIikucmVwbGFjZShcIi5cIixcIlwiKStcIiRcIixcImlcIiksdGhpcy5fc2hvcnRNb250aHNQYXJzZVtkXT1uZXcgUmVnRXhwKFwiXlwiK3RoaXMubW9udGhzU2hvcnQoZSxcIlwiKS5yZXBsYWNlKFwiLlwiLFwiXCIpK1wiJFwiLFwiaVwiKSksY3x8dGhpcy5fbW9udGhzUGFyc2VbZF18fChmPVwiXlwiK3RoaXMubW9udGhzKGUsXCJcIikrXCJ8XlwiK3RoaXMubW9udGhzU2hvcnQoZSxcIlwiKSx0aGlzLl9tb250aHNQYXJzZVtkXT1uZXcgUmVnRXhwKGYucmVwbGFjZShcIi5cIixcIlwiKSxcImlcIikpLGMmJlwiTU1NTVwiPT09YiYmdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2RdLnRlc3QoYSkpcmV0dXJuIGQ7aWYoYyYmXCJNTU1cIj09PWImJnRoaXMuX3Nob3J0TW9udGhzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZDtpZighYyYmdGhpcy5fbW9udGhzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZH19ZnVuY3Rpb24gZ2EoYSxiKXt2YXIgYztpZighYS5pc1ZhbGlkKCkpcmV0dXJuIGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpaWYoL15cXGQrJC8udGVzdChiKSliPXIoYik7ZWxzZSBpZihiPWEubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKGIpLFwibnVtYmVyXCIhPXR5cGVvZiBiKXJldHVybiBhO3JldHVybiBjPU1hdGgubWluKGEuZGF0ZSgpLGJhKGEueWVhcigpLGIpKSxhLl9kW1wic2V0XCIrKGEuX2lzVVRDP1wiVVRDXCI6XCJcIikrXCJNb250aFwiXShiLGMpLGF9ZnVuY3Rpb24gaGEoYil7cmV0dXJuIG51bGwhPWI/KGdhKHRoaXMsYiksYS51cGRhdGVPZmZzZXQodGhpcywhMCksdGhpcyk6Tih0aGlzLFwiTW9udGhcIil9ZnVuY3Rpb24gaWEoKXtyZXR1cm4gYmEodGhpcy55ZWFyKCksdGhpcy5tb250aCgpKX1mdW5jdGlvbiBqYShhKXtyZXR1cm4gdGhpcy5fbW9udGhzUGFyc2VFeGFjdD8oZih0aGlzLFwiX21vbnRoc1JlZ2V4XCIpfHxsYS5jYWxsKHRoaXMpLGE/dGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDp0aGlzLl9tb250aHNTaG9ydFJlZ2V4KTp0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4JiZhP3RoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg6dGhpcy5fbW9udGhzU2hvcnRSZWdleH1mdW5jdGlvbiBrYShhKXtyZXR1cm4gdGhpcy5fbW9udGhzUGFyc2VFeGFjdD8oZih0aGlzLFwiX21vbnRoc1JlZ2V4XCIpfHxsYS5jYWxsKHRoaXMpLGE/dGhpcy5fbW9udGhzU3RyaWN0UmVnZXg6dGhpcy5fbW9udGhzUmVnZXgpOnRoaXMuX21vbnRoc1N0cmljdFJlZ2V4JiZhP3RoaXMuX21vbnRoc1N0cmljdFJlZ2V4OnRoaXMuX21vbnRoc1JlZ2V4fWZ1bmN0aW9uIGxhKCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybiBiLmxlbmd0aC1hLmxlbmd0aH12YXIgYixjLGQ9W10sZT1bXSxmPVtdO2ZvcihiPTA7MTI+YjtiKyspYz1oKFsyZTMsYl0pLGQucHVzaCh0aGlzLm1vbnRoc1Nob3J0KGMsXCJcIikpLGUucHVzaCh0aGlzLm1vbnRocyhjLFwiXCIpKSxmLnB1c2godGhpcy5tb250aHMoYyxcIlwiKSksZi5wdXNoKHRoaXMubW9udGhzU2hvcnQoYyxcIlwiKSk7Zm9yKGQuc29ydChhKSxlLnNvcnQoYSksZi5zb3J0KGEpLGI9MDsxMj5iO2IrKylkW2JdPVooZFtiXSksZVtiXT1aKGVbYl0pLGZbYl09WihmW2JdKTt0aGlzLl9tb250aHNSZWdleD1uZXcgUmVnRXhwKFwiXihcIitmLmpvaW4oXCJ8XCIpK1wiKVwiLFwiaVwiKSx0aGlzLl9tb250aHNTaG9ydFJlZ2V4PXRoaXMuX21vbnRoc1JlZ2V4LHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4PW5ldyBSZWdFeHAoXCJeKFwiK2Uuam9pbihcInxcIikrXCIpXCIsXCJpXCIpLHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg9bmV3IFJlZ0V4cChcIl4oXCIrZC5qb2luKFwifFwiKStcIilcIixcImlcIil9ZnVuY3Rpb24gbWEoYSl7dmFyIGIsYz1hLl9hO3JldHVybiBjJiYtMj09PWooYSkub3ZlcmZsb3cmJihiPWNbTmRdPDB8fGNbTmRdPjExP05kOmNbT2RdPDF8fGNbT2RdPmJhKGNbTWRdLGNbTmRdKT9PZDpjW1BkXTwwfHxjW1BkXT4yNHx8MjQ9PT1jW1BkXSYmKDAhPT1jW1FkXXx8MCE9PWNbUmRdfHwwIT09Y1tTZF0pP1BkOmNbUWRdPDB8fGNbUWRdPjU5P1FkOmNbUmRdPDB8fGNbUmRdPjU5P1JkOmNbU2RdPDB8fGNbU2RdPjk5OT9TZDotMSxqKGEpLl9vdmVyZmxvd0RheU9mWWVhciYmKE1kPmJ8fGI+T2QpJiYoYj1PZCksaihhKS5fb3ZlcmZsb3dXZWVrcyYmLTE9PT1iJiYoYj1UZCksaihhKS5fb3ZlcmZsb3dXZWVrZGF5JiYtMT09PWImJihiPVVkKSxqKGEpLm92ZXJmbG93PWIpLGF9ZnVuY3Rpb24gbmEoYSl7dmFyIGIsYyxkLGUsZixnLGg9YS5faSxpPSRkLmV4ZWMoaCl8fF9kLmV4ZWMoaCk7aWYoaSl7Zm9yKGooYSkuaXNvPSEwLGI9MCxjPWJlLmxlbmd0aDtjPmI7YisrKWlmKGJlW2JdWzFdLmV4ZWMoaVsxXSkpe2U9YmVbYl1bMF0sZD1iZVtiXVsyXSE9PSExO2JyZWFrfWlmKG51bGw9PWUpcmV0dXJuIHZvaWQoYS5faXNWYWxpZD0hMSk7aWYoaVszXSl7Zm9yKGI9MCxjPWNlLmxlbmd0aDtjPmI7YisrKWlmKGNlW2JdWzFdLmV4ZWMoaVszXSkpe2Y9KGlbMl18fFwiIFwiKStjZVtiXVswXTticmVha31pZihudWxsPT1mKXJldHVybiB2b2lkKGEuX2lzVmFsaWQ9ITEpfWlmKCFkJiZudWxsIT1mKXJldHVybiB2b2lkKGEuX2lzVmFsaWQ9ITEpO2lmKGlbNF0pe2lmKCFhZS5leGVjKGlbNF0pKXJldHVybiB2b2lkKGEuX2lzVmFsaWQ9ITEpO2c9XCJaXCJ9YS5fZj1lKyhmfHxcIlwiKSsoZ3x8XCJcIiksQ2EoYSl9ZWxzZSBhLl9pc1ZhbGlkPSExfWZ1bmN0aW9uIG9hKGIpe3ZhciBjPWRlLmV4ZWMoYi5faSk7cmV0dXJuIG51bGwhPT1jP3ZvaWQoYi5fZD1uZXcgRGF0ZSgrY1sxXSkpOihuYShiKSx2b2lkKGIuX2lzVmFsaWQ9PT0hMSYmKGRlbGV0ZSBiLl9pc1ZhbGlkLGEuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soYikpKSl9ZnVuY3Rpb24gcGEoYSxiLGMsZCxlLGYsZyl7dmFyIGg9bmV3IERhdGUoYSxiLGMsZCxlLGYsZyk7cmV0dXJuIDEwMD5hJiZhPj0wJiZpc0Zpbml0ZShoLmdldEZ1bGxZZWFyKCkpJiZoLnNldEZ1bGxZZWFyKGEpLGh9ZnVuY3Rpb24gcWEoYSl7dmFyIGI9bmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCxhcmd1bWVudHMpKTtyZXR1cm4gMTAwPmEmJmE+PTAmJmlzRmluaXRlKGIuZ2V0VVRDRnVsbFllYXIoKSkmJmIuc2V0VVRDRnVsbFllYXIoYSksYn1mdW5jdGlvbiByYShhKXtyZXR1cm4gc2EoYSk/MzY2OjM2NX1mdW5jdGlvbiBzYShhKXtyZXR1cm4gYSU0PT09MCYmYSUxMDAhPT0wfHxhJTQwMD09PTB9ZnVuY3Rpb24gdGEoKXtyZXR1cm4gc2EodGhpcy55ZWFyKCkpfWZ1bmN0aW9uIHVhKGEsYixjKXt2YXIgZD03K2ItYyxlPSg3K3FhKGEsMCxkKS5nZXRVVENEYXkoKS1iKSU3O3JldHVybi1lK2QtMX1mdW5jdGlvbiB2YShhLGIsYyxkLGUpe3ZhciBmLGcsaD0oNytjLWQpJTcsaT11YShhLGQsZSksaj0xKzcqKGItMSkraCtpO3JldHVybiAwPj1qPyhmPWEtMSxnPXJhKGYpK2opOmo+cmEoYSk/KGY9YSsxLGc9ai1yYShhKSk6KGY9YSxnPWopLHt5ZWFyOmYsZGF5T2ZZZWFyOmd9fWZ1bmN0aW9uIHdhKGEsYixjKXt2YXIgZCxlLGY9dWEoYS55ZWFyKCksYixjKSxnPU1hdGguZmxvb3IoKGEuZGF5T2ZZZWFyKCktZi0xKS83KSsxO3JldHVybiAxPmc/KGU9YS55ZWFyKCktMSxkPWcreGEoZSxiLGMpKTpnPnhhKGEueWVhcigpLGIsYyk/KGQ9Zy14YShhLnllYXIoKSxiLGMpLGU9YS55ZWFyKCkrMSk6KGU9YS55ZWFyKCksZD1nKSx7d2VlazpkLHllYXI6ZX19ZnVuY3Rpb24geGEoYSxiLGMpe3ZhciBkPXVhKGEsYixjKSxlPXVhKGErMSxiLGMpO3JldHVybihyYShhKS1kK2UpLzd9ZnVuY3Rpb24geWEoYSxiLGMpe3JldHVybiBudWxsIT1hP2E6bnVsbCE9Yj9iOmN9ZnVuY3Rpb24gemEoYil7dmFyIGM9bmV3IERhdGUoYS5ub3coKSk7cmV0dXJuIGIuX3VzZVVUQz9bYy5nZXRVVENGdWxsWWVhcigpLGMuZ2V0VVRDTW9udGgoKSxjLmdldFVUQ0RhdGUoKV06W2MuZ2V0RnVsbFllYXIoKSxjLmdldE1vbnRoKCksYy5nZXREYXRlKCldfWZ1bmN0aW9uIEFhKGEpe3ZhciBiLGMsZCxlLGY9W107aWYoIWEuX2Qpe2ZvcihkPXphKGEpLGEuX3cmJm51bGw9PWEuX2FbT2RdJiZudWxsPT1hLl9hW05kXSYmQmEoYSksYS5fZGF5T2ZZZWFyJiYoZT15YShhLl9hW01kXSxkW01kXSksYS5fZGF5T2ZZZWFyPnJhKGUpJiYoaihhKS5fb3ZlcmZsb3dEYXlPZlllYXI9ITApLGM9cWEoZSwwLGEuX2RheU9mWWVhciksYS5fYVtOZF09Yy5nZXRVVENNb250aCgpLGEuX2FbT2RdPWMuZ2V0VVRDRGF0ZSgpKSxiPTA7Mz5iJiZudWxsPT1hLl9hW2JdOysrYilhLl9hW2JdPWZbYl09ZFtiXTtmb3IoOzc+YjtiKyspYS5fYVtiXT1mW2JdPW51bGw9PWEuX2FbYl0/Mj09PWI/MTowOmEuX2FbYl07MjQ9PT1hLl9hW1BkXSYmMD09PWEuX2FbUWRdJiYwPT09YS5fYVtSZF0mJjA9PT1hLl9hW1NkXSYmKGEuX25leHREYXk9ITAsYS5fYVtQZF09MCksYS5fZD0oYS5fdXNlVVRDP3FhOnBhKS5hcHBseShudWxsLGYpLG51bGwhPWEuX3R6bSYmYS5fZC5zZXRVVENNaW51dGVzKGEuX2QuZ2V0VVRDTWludXRlcygpLWEuX3R6bSksYS5fbmV4dERheSYmKGEuX2FbUGRdPTI0KX19ZnVuY3Rpb24gQmEoYSl7dmFyIGIsYyxkLGUsZixnLGgsaTtiPWEuX3csbnVsbCE9Yi5HR3x8bnVsbCE9Yi5XfHxudWxsIT1iLkU/KGY9MSxnPTQsYz15YShiLkdHLGEuX2FbTWRdLHdhKEthKCksMSw0KS55ZWFyKSxkPXlhKGIuVywxKSxlPXlhKGIuRSwxKSwoMT5lfHxlPjcpJiYoaT0hMCkpOihmPWEuX2xvY2FsZS5fd2Vlay5kb3csZz1hLl9sb2NhbGUuX3dlZWsuZG95LGM9eWEoYi5nZyxhLl9hW01kXSx3YShLYSgpLGYsZykueWVhciksZD15YShiLncsMSksbnVsbCE9Yi5kPyhlPWIuZCwoMD5lfHxlPjYpJiYoaT0hMCkpOm51bGwhPWIuZT8oZT1iLmUrZiwoYi5lPDB8fGIuZT42KSYmKGk9ITApKTplPWYpLDE+ZHx8ZD54YShjLGYsZyk/aihhKS5fb3ZlcmZsb3dXZWVrcz0hMDpudWxsIT1pP2ooYSkuX292ZXJmbG93V2Vla2RheT0hMDooaD12YShjLGQsZSxmLGcpLGEuX2FbTWRdPWgueWVhcixhLl9kYXlPZlllYXI9aC5kYXlPZlllYXIpfWZ1bmN0aW9uIENhKGIpe2lmKGIuX2Y9PT1hLklTT184NjAxKXJldHVybiB2b2lkIG5hKGIpO2IuX2E9W10saihiKS5lbXB0eT0hMDt2YXIgYyxkLGUsZixnLGg9XCJcIitiLl9pLGk9aC5sZW5ndGgsaz0wO2ZvcihlPVYoYi5fZixiLl9sb2NhbGUpLm1hdGNoKHBkKXx8W10sYz0wO2M8ZS5sZW5ndGg7YysrKWY9ZVtjXSxkPShoLm1hdGNoKFgoZixiKSl8fFtdKVswXSxkJiYoZz1oLnN1YnN0cigwLGguaW5kZXhPZihkKSksZy5sZW5ndGg+MCYmaihiKS51bnVzZWRJbnB1dC5wdXNoKGcpLGg9aC5zbGljZShoLmluZGV4T2YoZCkrZC5sZW5ndGgpLGsrPWQubGVuZ3RoKSxzZFtmXT8oZD9qKGIpLmVtcHR5PSExOmooYikudW51c2VkVG9rZW5zLnB1c2goZiksYWEoZixkLGIpKTpiLl9zdHJpY3QmJiFkJiZqKGIpLnVudXNlZFRva2Vucy5wdXNoKGYpO2ooYikuY2hhcnNMZWZ0T3Zlcj1pLWssaC5sZW5ndGg+MCYmaihiKS51bnVzZWRJbnB1dC5wdXNoKGgpLGooYikuYmlnSG91cj09PSEwJiZiLl9hW1BkXTw9MTImJmIuX2FbUGRdPjAmJihqKGIpLmJpZ0hvdXI9dm9pZCAwKSxqKGIpLnBhcnNlZERhdGVQYXJ0cz1iLl9hLnNsaWNlKDApLGooYikubWVyaWRpZW09Yi5fbWVyaWRpZW0sYi5fYVtQZF09RGEoYi5fbG9jYWxlLGIuX2FbUGRdLGIuX21lcmlkaWVtKSxBYShiKSxtYShiKX1mdW5jdGlvbiBEYShhLGIsYyl7dmFyIGQ7cmV0dXJuIG51bGw9PWM/YjpudWxsIT1hLm1lcmlkaWVtSG91cj9hLm1lcmlkaWVtSG91cihiLGMpOm51bGwhPWEuaXNQTT8oZD1hLmlzUE0oYyksZCYmMTI+YiYmKGIrPTEyKSxkfHwxMiE9PWJ8fChiPTApLGIpOmJ9ZnVuY3Rpb24gRWEoYSl7dmFyIGIsYyxkLGUsZjtpZigwPT09YS5fZi5sZW5ndGgpcmV0dXJuIGooYSkuaW52YWxpZEZvcm1hdD0hMCx2b2lkKGEuX2Q9bmV3IERhdGUoTmFOKSk7Zm9yKGU9MDtlPGEuX2YubGVuZ3RoO2UrKylmPTAsYj1uKHt9LGEpLG51bGwhPWEuX3VzZVVUQyYmKGIuX3VzZVVUQz1hLl91c2VVVEMpLGIuX2Y9YS5fZltlXSxDYShiKSxrKGIpJiYoZis9aihiKS5jaGFyc0xlZnRPdmVyLGYrPTEwKmooYikudW51c2VkVG9rZW5zLmxlbmd0aCxqKGIpLnNjb3JlPWYsKG51bGw9PWR8fGQ+ZikmJihkPWYsYz1iKSk7ZyhhLGN8fGIpfWZ1bmN0aW9uIEZhKGEpe2lmKCFhLl9kKXt2YXIgYj1MKGEuX2kpO2EuX2E9ZShbYi55ZWFyLGIubW9udGgsYi5kYXl8fGIuZGF0ZSxiLmhvdXIsYi5taW51dGUsYi5zZWNvbmQsYi5taWxsaXNlY29uZF0sZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnBhcnNlSW50KGEsMTApfSksQWEoYSl9fWZ1bmN0aW9uIEdhKGEpe3ZhciBiPW5ldyBvKG1hKEhhKGEpKSk7cmV0dXJuIGIuX25leHREYXkmJihiLmFkZCgxLFwiZFwiKSxiLl9uZXh0RGF5PXZvaWQgMCksYn1mdW5jdGlvbiBIYShhKXt2YXIgYj1hLl9pLGU9YS5fZjtyZXR1cm4gYS5fbG9jYWxlPWEuX2xvY2FsZXx8SChhLl9sKSxudWxsPT09Ynx8dm9pZCAwPT09ZSYmXCJcIj09PWI/bCh7bnVsbElucHV0OiEwfSk6KFwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYS5faT1iPWEuX2xvY2FsZS5wcmVwYXJzZShiKSkscChiKT9uZXcgbyhtYShiKSk6KGMoZSk/RWEoYSk6ZT9DYShhKTpkKGIpP2EuX2Q9YjpJYShhKSxrKGEpfHwoYS5fZD1udWxsKSxhKSl9ZnVuY3Rpb24gSWEoYil7dmFyIGY9Yi5faTt2b2lkIDA9PT1mP2IuX2Q9bmV3IERhdGUoYS5ub3coKSk6ZChmKT9iLl9kPW5ldyBEYXRlKGYudmFsdWVPZigpKTpcInN0cmluZ1wiPT10eXBlb2YgZj9vYShiKTpjKGYpPyhiLl9hPWUoZi5zbGljZSgwKSxmdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VJbnQoYSwxMCl9KSxBYShiKSk6XCJvYmplY3RcIj09dHlwZW9mIGY/RmEoYik6XCJudW1iZXJcIj09dHlwZW9mIGY/Yi5fZD1uZXcgRGF0ZShmKTphLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGIpfWZ1bmN0aW9uIEphKGEsYixjLGQsZSl7dmFyIGY9e307cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBjJiYoZD1jLGM9dm9pZCAwKSxmLl9pc0FNb21lbnRPYmplY3Q9ITAsZi5fdXNlVVRDPWYuX2lzVVRDPWUsZi5fbD1jLGYuX2k9YSxmLl9mPWIsZi5fc3RyaWN0PWQsR2EoZil9ZnVuY3Rpb24gS2EoYSxiLGMsZCl7cmV0dXJuIEphKGEsYixjLGQsITEpfWZ1bmN0aW9uIExhKGEsYil7dmFyIGQsZTtpZigxPT09Yi5sZW5ndGgmJmMoYlswXSkmJihiPWJbMF0pLCFiLmxlbmd0aClyZXR1cm4gS2EoKTtmb3IoZD1iWzBdLGU9MTtlPGIubGVuZ3RoOysrZSkoIWJbZV0uaXNWYWxpZCgpfHxiW2VdW2FdKGQpKSYmKGQ9YltlXSk7cmV0dXJuIGR9ZnVuY3Rpb24gTWEoKXt2YXIgYT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gTGEoXCJpc0JlZm9yZVwiLGEpfWZ1bmN0aW9uIE5hKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIExhKFwiaXNBZnRlclwiLGEpfWZ1bmN0aW9uIE9hKGEpe3ZhciBiPUwoYSksYz1iLnllYXJ8fDAsZD1iLnF1YXJ0ZXJ8fDAsZT1iLm1vbnRofHwwLGY9Yi53ZWVrfHwwLGc9Yi5kYXl8fDAsaD1iLmhvdXJ8fDAsaT1iLm1pbnV0ZXx8MCxqPWIuc2Vjb25kfHwwLGs9Yi5taWxsaXNlY29uZHx8MDt0aGlzLl9taWxsaXNlY29uZHM9K2srMWUzKmorNmU0KmkrMWUzKmgqNjAqNjAsdGhpcy5fZGF5cz0rZys3KmYsdGhpcy5fbW9udGhzPStlKzMqZCsxMipjLHRoaXMuX2RhdGE9e30sdGhpcy5fbG9jYWxlPUgoKSx0aGlzLl9idWJibGUoKX1mdW5jdGlvbiBQYShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIE9hfWZ1bmN0aW9uIFFhKGEsYil7UihhLDAsMCxmdW5jdGlvbigpe3ZhciBhPXRoaXMudXRjT2Zmc2V0KCksYz1cIitcIjtyZXR1cm4gMD5hJiYoYT0tYSxjPVwiLVwiKSxjK1Eofn4oYS82MCksMikrYitRKH5+YSU2MCwyKX0pfWZ1bmN0aW9uIFJhKGEsYil7dmFyIGM9KGJ8fFwiXCIpLm1hdGNoKGEpfHxbXSxkPWNbYy5sZW5ndGgtMV18fFtdLGU9KGQrXCJcIikubWF0Y2goaWUpfHxbXCItXCIsMCwwXSxmPSsoNjAqZVsxXSkrcihlWzJdKTtyZXR1cm5cIitcIj09PWVbMF0/ZjotZn1mdW5jdGlvbiBTYShiLGMpe3ZhciBlLGY7cmV0dXJuIGMuX2lzVVRDPyhlPWMuY2xvbmUoKSxmPShwKGIpfHxkKGIpP2IudmFsdWVPZigpOkthKGIpLnZhbHVlT2YoKSktZS52YWx1ZU9mKCksZS5fZC5zZXRUaW1lKGUuX2QudmFsdWVPZigpK2YpLGEudXBkYXRlT2Zmc2V0KGUsITEpLGUpOkthKGIpLmxvY2FsKCl9ZnVuY3Rpb24gVGEoYSl7cmV0dXJuIDE1Ki1NYXRoLnJvdW5kKGEuX2QuZ2V0VGltZXpvbmVPZmZzZXQoKS8xNSl9ZnVuY3Rpb24gVWEoYixjKXt2YXIgZCxlPXRoaXMuX29mZnNldHx8MDtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/bnVsbCE9Yj8oXCJzdHJpbmdcIj09dHlwZW9mIGI/Yj1SYShIZCxiKTpNYXRoLmFicyhiKTwxNiYmKGI9NjAqYiksIXRoaXMuX2lzVVRDJiZjJiYoZD1UYSh0aGlzKSksdGhpcy5fb2Zmc2V0PWIsdGhpcy5faXNVVEM9ITAsbnVsbCE9ZCYmdGhpcy5hZGQoZCxcIm1cIiksZSE9PWImJighY3x8dGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz9qYih0aGlzLGRiKGItZSxcIm1cIiksMSwhMSk6dGhpcy5fY2hhbmdlSW5Qcm9ncmVzc3x8KHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M9ITAsYS51cGRhdGVPZmZzZXQodGhpcywhMCksdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz1udWxsKSksdGhpcyk6dGhpcy5faXNVVEM/ZTpUYSh0aGlzKTpudWxsIT1iP3RoaXM6TmFOfWZ1bmN0aW9uIFZhKGEsYil7cmV0dXJuIG51bGwhPWE/KFwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT0tYSksdGhpcy51dGNPZmZzZXQoYSxiKSx0aGlzKTotdGhpcy51dGNPZmZzZXQoKX1mdW5jdGlvbiBXYShhKXtyZXR1cm4gdGhpcy51dGNPZmZzZXQoMCxhKX1mdW5jdGlvbiBYYShhKXtyZXR1cm4gdGhpcy5faXNVVEMmJih0aGlzLnV0Y09mZnNldCgwLGEpLHRoaXMuX2lzVVRDPSExLGEmJnRoaXMuc3VidHJhY3QoVGEodGhpcyksXCJtXCIpKSx0aGlzfWZ1bmN0aW9uIFlhKCl7cmV0dXJuIHRoaXMuX3R6bT90aGlzLnV0Y09mZnNldCh0aGlzLl90em0pOlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLl9pJiZ0aGlzLnV0Y09mZnNldChSYShHZCx0aGlzLl9pKSksdGhpc31mdW5jdGlvbiBaYShhKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/KGE9YT9LYShhKS51dGNPZmZzZXQoKTowLCh0aGlzLnV0Y09mZnNldCgpLWEpJTYwPT09MCk6ITF9ZnVuY3Rpb24gJGEoKXtyZXR1cm4gdGhpcy51dGNPZmZzZXQoKT50aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCl8fHRoaXMudXRjT2Zmc2V0KCk+dGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpfWZ1bmN0aW9uIF9hKCl7aWYoIW0odGhpcy5faXNEU1RTaGlmdGVkKSlyZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO3ZhciBhPXt9O2lmKG4oYSx0aGlzKSxhPUhhKGEpLGEuX2Epe3ZhciBiPWEuX2lzVVRDP2goYS5fYSk6S2EoYS5fYSk7dGhpcy5faXNEU1RTaGlmdGVkPXRoaXMuaXNWYWxpZCgpJiZzKGEuX2EsYi50b0FycmF5KCkpPjB9ZWxzZSB0aGlzLl9pc0RTVFNoaWZ0ZWQ9ITE7cmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZH1mdW5jdGlvbiBhYigpe3JldHVybiB0aGlzLmlzVmFsaWQoKT8hdGhpcy5faXNVVEM6ITF9ZnVuY3Rpb24gYmIoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/dGhpcy5faXNVVEM6ITF9ZnVuY3Rpb24gY2IoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/dGhpcy5faXNVVEMmJjA9PT10aGlzLl9vZmZzZXQ6ITF9ZnVuY3Rpb24gZGIoYSxiKXt2YXIgYyxkLGUsZz1hLGg9bnVsbDtyZXR1cm4gUGEoYSk/Zz17bXM6YS5fbWlsbGlzZWNvbmRzLGQ6YS5fZGF5cyxNOmEuX21vbnRoc306XCJudW1iZXJcIj09dHlwZW9mIGE/KGc9e30sYj9nW2JdPWE6Zy5taWxsaXNlY29uZHM9YSk6KGg9amUuZXhlYyhhKSk/KGM9XCItXCI9PT1oWzFdPy0xOjEsZz17eTowLGQ6cihoW09kXSkqYyxoOnIoaFtQZF0pKmMsbTpyKGhbUWRdKSpjLHM6cihoW1JkXSkqYyxtczpyKGhbU2RdKSpjfSk6KGg9a2UuZXhlYyhhKSk/KGM9XCItXCI9PT1oWzFdPy0xOjEsZz17eTplYihoWzJdLGMpLE06ZWIoaFszXSxjKSx3OmViKGhbNF0sYyksZDplYihoWzVdLGMpLGg6ZWIoaFs2XSxjKSxtOmViKGhbN10sYyksczplYihoWzhdLGMpfSk6bnVsbD09Zz9nPXt9Olwib2JqZWN0XCI9PXR5cGVvZiBnJiYoXCJmcm9tXCJpbiBnfHxcInRvXCJpbiBnKSYmKGU9Z2IoS2EoZy5mcm9tKSxLYShnLnRvKSksZz17fSxnLm1zPWUubWlsbGlzZWNvbmRzLGcuTT1lLm1vbnRocyksZD1uZXcgT2EoZyksUGEoYSkmJmYoYSxcIl9sb2NhbGVcIikmJihkLl9sb2NhbGU9YS5fbG9jYWxlKSxkfWZ1bmN0aW9uIGViKGEsYil7dmFyIGM9YSYmcGFyc2VGbG9hdChhLnJlcGxhY2UoXCIsXCIsXCIuXCIpKTtyZXR1cm4oaXNOYU4oYyk/MDpjKSpifWZ1bmN0aW9uIGZiKGEsYil7dmFyIGM9e21pbGxpc2Vjb25kczowLG1vbnRoczowfTtyZXR1cm4gYy5tb250aHM9Yi5tb250aCgpLWEubW9udGgoKSsxMiooYi55ZWFyKCktYS55ZWFyKCkpLGEuY2xvbmUoKS5hZGQoYy5tb250aHMsXCJNXCIpLmlzQWZ0ZXIoYikmJi0tYy5tb250aHMsYy5taWxsaXNlY29uZHM9K2ItK2EuY2xvbmUoKS5hZGQoYy5tb250aHMsXCJNXCIpLGN9ZnVuY3Rpb24gZ2IoYSxiKXt2YXIgYztyZXR1cm4gYS5pc1ZhbGlkKCkmJmIuaXNWYWxpZCgpPyhiPVNhKGIsYSksYS5pc0JlZm9yZShiKT9jPWZiKGEsYik6KGM9ZmIoYixhKSxjLm1pbGxpc2Vjb25kcz0tYy5taWxsaXNlY29uZHMsYy5tb250aHM9LWMubW9udGhzKSxjKTp7bWlsbGlzZWNvbmRzOjAsbW9udGhzOjB9fWZ1bmN0aW9uIGhiKGEpe3JldHVybiAwPmE/LTEqTWF0aC5yb3VuZCgtMSphKTpNYXRoLnJvdW5kKGEpfWZ1bmN0aW9uIGliKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGUsZjtyZXR1cm4gbnVsbD09PWR8fGlzTmFOKCtkKXx8KHYoYixcIm1vbWVudCgpLlwiK2IrXCIocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuXCIrYitcIihudW1iZXIsIHBlcmlvZCkuXCIpLGY9YyxjPWQsZD1mKSxjPVwic3RyaW5nXCI9PXR5cGVvZiBjPytjOmMsZT1kYihjLGQpLGpiKHRoaXMsZSxhKSx0aGlzfX1mdW5jdGlvbiBqYihiLGMsZCxlKXt2YXIgZj1jLl9taWxsaXNlY29uZHMsZz1oYihjLl9kYXlzKSxoPWhiKGMuX21vbnRocyk7Yi5pc1ZhbGlkKCkmJihlPW51bGw9PWU/ITA6ZSxmJiZiLl9kLnNldFRpbWUoYi5fZC52YWx1ZU9mKCkrZipkKSxnJiZPKGIsXCJEYXRlXCIsTihiLFwiRGF0ZVwiKStnKmQpLGgmJmdhKGIsTihiLFwiTW9udGhcIikraCpkKSxlJiZhLnVwZGF0ZU9mZnNldChiLGd8fGgpKX1mdW5jdGlvbiBrYihhLGIpe3ZhciBjPWF8fEthKCksZD1TYShjLHRoaXMpLnN0YXJ0T2YoXCJkYXlcIiksZT10aGlzLmRpZmYoZCxcImRheXNcIiwhMCksZj0tNj5lP1wic2FtZUVsc2VcIjotMT5lP1wibGFzdFdlZWtcIjowPmU/XCJsYXN0RGF5XCI6MT5lP1wic2FtZURheVwiOjI+ZT9cIm5leHREYXlcIjo3PmU/XCJuZXh0V2Vla1wiOlwic2FtZUVsc2VcIixnPWImJih3KGJbZl0pP2JbZl0oKTpiW2ZdKTtyZXR1cm4gdGhpcy5mb3JtYXQoZ3x8dGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZix0aGlzLEthKGMpKSl9ZnVuY3Rpb24gbGIoKXtyZXR1cm4gbmV3IG8odGhpcyl9ZnVuY3Rpb24gbWIoYSxiKXt2YXIgYz1wKGEpP2E6S2EoYSk7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiZjLmlzVmFsaWQoKT8oYj1LKG0oYik/XCJtaWxsaXNlY29uZFwiOmIpLFwibWlsbGlzZWNvbmRcIj09PWI/dGhpcy52YWx1ZU9mKCk+Yy52YWx1ZU9mKCk6Yy52YWx1ZU9mKCk8dGhpcy5jbG9uZSgpLnN0YXJ0T2YoYikudmFsdWVPZigpKTohMX1mdW5jdGlvbiBuYihhLGIpe3ZhciBjPXAoYSk/YTpLYShhKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJmMuaXNWYWxpZCgpPyhiPUsobShiKT9cIm1pbGxpc2Vjb25kXCI6YiksXCJtaWxsaXNlY29uZFwiPT09Yj90aGlzLnZhbHVlT2YoKTxjLnZhbHVlT2YoKTp0aGlzLmNsb25lKCkuZW5kT2YoYikudmFsdWVPZigpPGMudmFsdWVPZigpKTohMX1mdW5jdGlvbiBvYihhLGIsYyxkKXtyZXR1cm4gZD1kfHxcIigpXCIsKFwiKFwiPT09ZFswXT90aGlzLmlzQWZ0ZXIoYSxjKTohdGhpcy5pc0JlZm9yZShhLGMpKSYmKFwiKVwiPT09ZFsxXT90aGlzLmlzQmVmb3JlKGIsYyk6IXRoaXMuaXNBZnRlcihiLGMpKX1mdW5jdGlvbiBwYihhLGIpe3ZhciBjLGQ9cChhKT9hOkthKGEpO3JldHVybiB0aGlzLmlzVmFsaWQoKSYmZC5pc1ZhbGlkKCk/KGI9SyhifHxcIm1pbGxpc2Vjb25kXCIpLFwibWlsbGlzZWNvbmRcIj09PWI/dGhpcy52YWx1ZU9mKCk9PT1kLnZhbHVlT2YoKTooYz1kLnZhbHVlT2YoKSx0aGlzLmNsb25lKCkuc3RhcnRPZihiKS52YWx1ZU9mKCk8PWMmJmM8PXRoaXMuY2xvbmUoKS5lbmRPZihiKS52YWx1ZU9mKCkpKTohMX1mdW5jdGlvbiBxYihhLGIpe3JldHVybiB0aGlzLmlzU2FtZShhLGIpfHx0aGlzLmlzQWZ0ZXIoYSxiKX1mdW5jdGlvbiByYihhLGIpe3JldHVybiB0aGlzLmlzU2FtZShhLGIpfHx0aGlzLmlzQmVmb3JlKGEsYil9ZnVuY3Rpb24gc2IoYSxiLGMpe3ZhciBkLGUsZixnO3JldHVybiB0aGlzLmlzVmFsaWQoKT8oZD1TYShhLHRoaXMpLGQuaXNWYWxpZCgpPyhlPTZlNCooZC51dGNPZmZzZXQoKS10aGlzLnV0Y09mZnNldCgpKSxiPUsoYiksXCJ5ZWFyXCI9PT1ifHxcIm1vbnRoXCI9PT1ifHxcInF1YXJ0ZXJcIj09PWI/KGc9dGIodGhpcyxkKSxcInF1YXJ0ZXJcIj09PWI/Zy89MzpcInllYXJcIj09PWImJihnLz0xMikpOihmPXRoaXMtZCxnPVwic2Vjb25kXCI9PT1iP2YvMWUzOlwibWludXRlXCI9PT1iP2YvNmU0OlwiaG91clwiPT09Yj9mLzM2ZTU6XCJkYXlcIj09PWI/KGYtZSkvODY0ZTU6XCJ3ZWVrXCI9PT1iPyhmLWUpLzYwNDhlNTpmKSxjP2c6cShnKSk6TmFOKTpOYU59ZnVuY3Rpb24gdGIoYSxiKXt2YXIgYyxkLGU9MTIqKGIueWVhcigpLWEueWVhcigpKSsoYi5tb250aCgpLWEubW9udGgoKSksZj1hLmNsb25lKCkuYWRkKGUsXCJtb250aHNcIik7cmV0dXJuIDA+Yi1mPyhjPWEuY2xvbmUoKS5hZGQoZS0xLFwibW9udGhzXCIpLGQ9KGItZikvKGYtYykpOihjPWEuY2xvbmUoKS5hZGQoZSsxLFwibW9udGhzXCIpLGQ9KGItZikvKGMtZikpLC0oZStkKXx8MH1mdW5jdGlvbiB1Yigpe3JldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKFwiZW5cIikuZm9ybWF0KFwiZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlpcIil9ZnVuY3Rpb24gdmIoKXt2YXIgYT10aGlzLmNsb25lKCkudXRjKCk7cmV0dXJuIDA8YS55ZWFyKCkmJmEueWVhcigpPD05OTk5P3coRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpP3RoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTpVKGEsXCJZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdXCIpOlUoYSxcIllZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXVwiKX1mdW5jdGlvbiB3YihiKXtifHwoYj10aGlzLmlzVXRjKCk/YS5kZWZhdWx0Rm9ybWF0VXRjOmEuZGVmYXVsdEZvcm1hdCk7dmFyIGM9VSh0aGlzLGIpO3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KGMpfWZ1bmN0aW9uIHhiKGEsYil7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiYocChhKSYmYS5pc1ZhbGlkKCl8fEthKGEpLmlzVmFsaWQoKSk/ZGIoe3RvOnRoaXMsZnJvbTphfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCFiKTp0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIHliKGEpe3JldHVybiB0aGlzLmZyb20oS2EoKSxhKX1mdW5jdGlvbiB6YihhLGIpe3JldHVybiB0aGlzLmlzVmFsaWQoKSYmKHAoYSkmJmEuaXNWYWxpZCgpfHxLYShhKS5pc1ZhbGlkKCkpP2RiKHtmcm9tOnRoaXMsdG86YX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghYik6dGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKX1mdW5jdGlvbiBBYihhKXtyZXR1cm4gdGhpcy50byhLYSgpLGEpfWZ1bmN0aW9uIEJiKGEpe3ZhciBiO3JldHVybiB2b2lkIDA9PT1hP3RoaXMuX2xvY2FsZS5fYWJicjooYj1IKGEpLG51bGwhPWImJih0aGlzLl9sb2NhbGU9YiksdGhpcyl9ZnVuY3Rpb24gQ2IoKXtyZXR1cm4gdGhpcy5fbG9jYWxlfWZ1bmN0aW9uIERiKGEpe3N3aXRjaChhPUsoYSkpe2Nhc2VcInllYXJcIjp0aGlzLm1vbnRoKDApO2Nhc2VcInF1YXJ0ZXJcIjpjYXNlXCJtb250aFwiOnRoaXMuZGF0ZSgxKTtjYXNlXCJ3ZWVrXCI6Y2FzZVwiaXNvV2Vla1wiOmNhc2VcImRheVwiOmNhc2VcImRhdGVcIjp0aGlzLmhvdXJzKDApO2Nhc2VcImhvdXJcIjp0aGlzLm1pbnV0ZXMoMCk7Y2FzZVwibWludXRlXCI6dGhpcy5zZWNvbmRzKDApO2Nhc2VcInNlY29uZFwiOnRoaXMubWlsbGlzZWNvbmRzKDApfXJldHVyblwid2Vla1wiPT09YSYmdGhpcy53ZWVrZGF5KDApLFwiaXNvV2Vla1wiPT09YSYmdGhpcy5pc29XZWVrZGF5KDEpLFwicXVhcnRlclwiPT09YSYmdGhpcy5tb250aCgzKk1hdGguZmxvb3IodGhpcy5tb250aCgpLzMpKSx0aGlzfWZ1bmN0aW9uIEViKGEpe3JldHVybiBhPUsoYSksdm9pZCAwPT09YXx8XCJtaWxsaXNlY29uZFwiPT09YT90aGlzOihcImRhdGVcIj09PWEmJihhPVwiZGF5XCIpLHRoaXMuc3RhcnRPZihhKS5hZGQoMSxcImlzb1dlZWtcIj09PWE/XCJ3ZWVrXCI6YSkuc3VidHJhY3QoMSxcIm1zXCIpKX1mdW5jdGlvbiBGYigpe3JldHVybiB0aGlzLl9kLnZhbHVlT2YoKS02ZTQqKHRoaXMuX29mZnNldHx8MCl9ZnVuY3Rpb24gR2IoKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfWZ1bmN0aW9uIEhiKCl7cmV0dXJuIHRoaXMuX29mZnNldD9uZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk6dGhpcy5fZH1mdW5jdGlvbiBJYigpe3ZhciBhPXRoaXM7cmV0dXJuW2EueWVhcigpLGEubW9udGgoKSxhLmRhdGUoKSxhLmhvdXIoKSxhLm1pbnV0ZSgpLGEuc2Vjb25kKCksYS5taWxsaXNlY29uZCgpXX1mdW5jdGlvbiBKYigpe3ZhciBhPXRoaXM7cmV0dXJue3llYXJzOmEueWVhcigpLG1vbnRoczphLm1vbnRoKCksZGF0ZTphLmRhdGUoKSxob3VyczphLmhvdXJzKCksbWludXRlczphLm1pbnV0ZXMoKSxzZWNvbmRzOmEuc2Vjb25kcygpLG1pbGxpc2Vjb25kczphLm1pbGxpc2Vjb25kcygpfX1mdW5jdGlvbiBLYigpe3JldHVybiB0aGlzLmlzVmFsaWQoKT90aGlzLnRvSVNPU3RyaW5nKCk6bnVsbH1mdW5jdGlvbiBMYigpe3JldHVybiBrKHRoaXMpfWZ1bmN0aW9uIE1iKCl7cmV0dXJuIGcoe30saih0aGlzKSl9ZnVuY3Rpb24gTmIoKXtyZXR1cm4gaih0aGlzKS5vdmVyZmxvd31mdW5jdGlvbiBPYigpe3JldHVybntpbnB1dDp0aGlzLl9pLGZvcm1hdDp0aGlzLl9mLGxvY2FsZTp0aGlzLl9sb2NhbGUsaXNVVEM6dGhpcy5faXNVVEMsc3RyaWN0OnRoaXMuX3N0cmljdH19ZnVuY3Rpb24gUGIoYSxiKXtSKDAsW2EsYS5sZW5ndGhdLDAsYil9ZnVuY3Rpb24gUWIoYSl7cmV0dXJuIFViLmNhbGwodGhpcyxhLHRoaXMud2VlaygpLHRoaXMud2Vla2RheSgpLHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyx0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpfWZ1bmN0aW9uIFJiKGEpe3JldHVybiBVYi5jYWxsKHRoaXMsYSx0aGlzLmlzb1dlZWsoKSx0aGlzLmlzb1dlZWtkYXkoKSwxLDQpfWZ1bmN0aW9uIFNiKCl7cmV0dXJuIHhhKHRoaXMueWVhcigpLDEsNCl9ZnVuY3Rpb24gVGIoKXt2YXIgYT10aGlzLmxvY2FsZURhdGEoKS5fd2VlaztyZXR1cm4geGEodGhpcy55ZWFyKCksYS5kb3csYS5kb3kpfWZ1bmN0aW9uIFViKGEsYixjLGQsZSl7dmFyIGY7cmV0dXJuIG51bGw9PWE/d2EodGhpcyxkLGUpLnllYXI6KGY9eGEoYSxkLGUpLGI+ZiYmKGI9ZiksVmIuY2FsbCh0aGlzLGEsYixjLGQsZSkpfWZ1bmN0aW9uIFZiKGEsYixjLGQsZSl7dmFyIGY9dmEoYSxiLGMsZCxlKSxnPXFhKGYueWVhciwwLGYuZGF5T2ZZZWFyKTtyZXR1cm4gdGhpcy55ZWFyKGcuZ2V0VVRDRnVsbFllYXIoKSksdGhpcy5tb250aChnLmdldFVUQ01vbnRoKCkpLHRoaXMuZGF0ZShnLmdldFVUQ0RhdGUoKSksdGhpc31mdW5jdGlvbiBXYihhKXtyZXR1cm4gbnVsbD09YT9NYXRoLmNlaWwoKHRoaXMubW9udGgoKSsxKS8zKTp0aGlzLm1vbnRoKDMqKGEtMSkrdGhpcy5tb250aCgpJTMpfWZ1bmN0aW9uIFhiKGEpe3JldHVybiB3YShhLHRoaXMuX3dlZWsuZG93LHRoaXMuX3dlZWsuZG95KS53ZWVrfWZ1bmN0aW9uIFliKCl7cmV0dXJuIHRoaXMuX3dlZWsuZG93fWZ1bmN0aW9uIFpiKCl7cmV0dXJuIHRoaXMuX3dlZWsuZG95fWZ1bmN0aW9uICRiKGEpe3ZhciBiPXRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7cmV0dXJuIG51bGw9PWE/Yjp0aGlzLmFkZCg3KihhLWIpLFwiZFwiKX1mdW5jdGlvbiBfYihhKXt2YXIgYj13YSh0aGlzLDEsNCkud2VlaztyZXR1cm4gbnVsbD09YT9iOnRoaXMuYWRkKDcqKGEtYiksXCJkXCIpfWZ1bmN0aW9uIGFjKGEsYil7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGE/YTppc05hTihhKT8oYT1iLndlZWtkYXlzUGFyc2UoYSksXCJudW1iZXJcIj09dHlwZW9mIGE/YTpudWxsKTpwYXJzZUludChhLDEwKX1mdW5jdGlvbiBiYyhhLGIpe3JldHVybiBjKHRoaXMuX3dlZWtkYXlzKT90aGlzLl93ZWVrZGF5c1thLmRheSgpXTp0aGlzLl93ZWVrZGF5c1t0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGIpP1wiZm9ybWF0XCI6XCJzdGFuZGFsb25lXCJdW2EuZGF5KCldfWZ1bmN0aW9uIGNjKGEpe3JldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0W2EuZGF5KCldfWZ1bmN0aW9uIGRjKGEpe3JldHVybiB0aGlzLl93ZWVrZGF5c01pblthLmRheSgpXX1mdW5jdGlvbiBlYyhhLGIsYyl7dmFyIGQsZSxmLGc9YS50b0xvY2FsZUxvd2VyQ2FzZSgpO2lmKCF0aGlzLl93ZWVrZGF5c1BhcnNlKWZvcih0aGlzLl93ZWVrZGF5c1BhcnNlPVtdLHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZT1bXSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlPVtdLGQ9MDs3PmQ7KytkKWY9aChbMmUzLDFdKS5kYXkoZCksdGhpcy5fbWluV2Vla2RheXNQYXJzZVtkXT10aGlzLndlZWtkYXlzTWluKGYsXCJcIikudG9Mb2NhbGVMb3dlckNhc2UoKSx0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbZF09dGhpcy53ZWVrZGF5c1Nob3J0KGYsXCJcIikudG9Mb2NhbGVMb3dlckNhc2UoKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2RdPXRoaXMud2Vla2RheXMoZixcIlwiKS50b0xvY2FsZUxvd2VyQ2FzZSgpO3JldHVybiBjP1wiZGRkZFwiPT09Yj8oZT1tZC5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6bnVsbCk6XCJkZGRcIj09PWI/KGU9bWQuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6bnVsbCk6KGU9bWQuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLGcpLC0xIT09ZT9lOm51bGwpOlwiZGRkZFwiPT09Yj8oZT1tZC5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6KGU9bWQuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6KGU9bWQuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLGcpLC0xIT09ZT9lOm51bGwpKSk6XCJkZGRcIj09PWI/KGU9bWQuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6KGU9bWQuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLGcpLC0xIT09ZT9lOihlPW1kLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSxnKSwtMSE9PWU/ZTpudWxsKSkpOihlPW1kLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSxnKSwtMSE9PWU/ZTooZT1tZC5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6KGU9bWQuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksLTEhPT1lP2U6bnVsbCkpKX1mdW5jdGlvbiBmYyhhLGIsYyl7dmFyIGQsZSxmO2lmKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdClyZXR1cm4gZWMuY2FsbCh0aGlzLGEsYixjKTtmb3IodGhpcy5fd2Vla2RheXNQYXJzZXx8KHRoaXMuX3dlZWtkYXlzUGFyc2U9W10sdGhpcy5fbWluV2Vla2RheXNQYXJzZT1bXSx0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2U9W10sdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2U9W10pLGQ9MDs3PmQ7ZCsrKXtpZihlPWgoWzJlMywxXSkuZGF5KGQpLGMmJiF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtkXSYmKHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy53ZWVrZGF5cyhlLFwiXCIpLnJlcGxhY2UoXCIuXCIsXCIuP1wiKStcIiRcIixcImlcIiksdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy53ZWVrZGF5c1Nob3J0KGUsXCJcIikucmVwbGFjZShcIi5cIixcIi4/XCIpK1wiJFwiLFwiaVwiKSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy53ZWVrZGF5c01pbihlLFwiXCIpLnJlcGxhY2UoXCIuXCIsXCIuP1wiKStcIiRcIixcImlcIikpLHRoaXMuX3dlZWtkYXlzUGFyc2VbZF18fChmPVwiXlwiK3RoaXMud2Vla2RheXMoZSxcIlwiKStcInxeXCIrdGhpcy53ZWVrZGF5c1Nob3J0KGUsXCJcIikrXCJ8XlwiK3RoaXMud2Vla2RheXNNaW4oZSxcIlwiKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoZi5yZXBsYWNlKFwiLlwiLFwiXCIpLFwiaVwiKSksYyYmXCJkZGRkXCI9PT1iJiZ0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtkXS50ZXN0KGEpKXJldHVybiBkO2lmKGMmJlwiZGRkXCI9PT1iJiZ0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZDtpZihjJiZcImRkXCI9PT1iJiZ0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2RdLnRlc3QoYSkpcmV0dXJuIGQ7aWYoIWMmJnRoaXMuX3dlZWtkYXlzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZH19ZnVuY3Rpb24gZ2MoYSl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBudWxsIT1hP3RoaXM6TmFOO3ZhciBiPXRoaXMuX2lzVVRDP3RoaXMuX2QuZ2V0VVRDRGF5KCk6dGhpcy5fZC5nZXREYXkoKTtyZXR1cm4gbnVsbCE9YT8oYT1hYyhhLHRoaXMubG9jYWxlRGF0YSgpKSx0aGlzLmFkZChhLWIsXCJkXCIpKTpifWZ1bmN0aW9uIGhjKGEpe2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbnVsbCE9YT90aGlzOk5hTjt2YXIgYj0odGhpcy5kYXkoKSs3LXRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyklNztyZXR1cm4gbnVsbD09YT9iOnRoaXMuYWRkKGEtYixcImRcIil9ZnVuY3Rpb24gaWMoYSl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP251bGw9PWE/dGhpcy5kYXkoKXx8Nzp0aGlzLmRheSh0aGlzLmRheSgpJTc/YTphLTcpOm51bGwhPWE/dGhpczpOYU59ZnVuY3Rpb24gamMoYSl7cmV0dXJuIHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdD8oZih0aGlzLFwiX3dlZWtkYXlzUmVnZXhcIil8fG1jLmNhbGwodGhpcyksYT90aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4OnRoaXMuX3dlZWtkYXlzUmVnZXgpOnRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXgmJmE/dGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDp0aGlzLl93ZWVrZGF5c1JlZ2V4fWZ1bmN0aW9uIGtjKGEpe3JldHVybiB0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3Q/KGYodGhpcyxcIl93ZWVrZGF5c1JlZ2V4XCIpfHxtYy5jYWxsKHRoaXMpLGE/dGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4OnRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCk6dGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4JiZhP3RoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDp0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXh9ZnVuY3Rpb24gbGMoYSl7cmV0dXJuIHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdD8oZih0aGlzLFwiX3dlZWtkYXlzUmVnZXhcIil8fG1jLmNhbGwodGhpcyksYT90aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4OnRoaXMuX3dlZWtkYXlzTWluUmVnZXgpOnRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXgmJmE/dGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDp0aGlzLl93ZWVrZGF5c01pblJlZ2V4fWZ1bmN0aW9uIG1jKCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybiBiLmxlbmd0aC1hLmxlbmd0aH12YXIgYixjLGQsZSxmLGc9W10saT1bXSxqPVtdLGs9W107Zm9yKGI9MDs3PmI7YisrKWM9aChbMmUzLDFdKS5kYXkoYiksZD10aGlzLndlZWtkYXlzTWluKGMsXCJcIiksZT10aGlzLndlZWtkYXlzU2hvcnQoYyxcIlwiKSxmPXRoaXMud2Vla2RheXMoYyxcIlwiKSxnLnB1c2goZCksaS5wdXNoKGUpLGoucHVzaChmKSxrLnB1c2goZCksay5wdXNoKGUpLGsucHVzaChmKTtmb3IoZy5zb3J0KGEpLGkuc29ydChhKSxqLnNvcnQoYSksay5zb3J0KGEpLGI9MDs3PmI7YisrKWlbYl09WihpW2JdKSxqW2JdPVooaltiXSksa1tiXT1aKGtbYl0pO3RoaXMuX3dlZWtkYXlzUmVnZXg9bmV3IFJlZ0V4cChcIl4oXCIray5qb2luKFwifFwiKStcIilcIixcImlcIiksdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4PXRoaXMuX3dlZWtkYXlzUmVnZXgsdGhpcy5fd2Vla2RheXNNaW5SZWdleD10aGlzLl93ZWVrZGF5c1JlZ2V4LHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg9bmV3IFJlZ0V4cChcIl4oXCIrai5qb2luKFwifFwiKStcIilcIixcImlcIiksdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4PW5ldyBSZWdFeHAoXCJeKFwiK2kuam9pbihcInxcIikrXCIpXCIsXCJpXCIpLHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg9bmV3IFJlZ0V4cChcIl4oXCIrZy5qb2luKFwifFwiKStcIilcIixcImlcIil9ZnVuY3Rpb24gbmMoYSl7dmFyIGI9TWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoXCJkYXlcIiktdGhpcy5jbG9uZSgpLnN0YXJ0T2YoXCJ5ZWFyXCIpKS84NjRlNSkrMTtyZXR1cm4gbnVsbD09YT9iOnRoaXMuYWRkKGEtYixcImRcIil9ZnVuY3Rpb24gb2MoKXtyZXR1cm4gdGhpcy5ob3VycygpJTEyfHwxMn1mdW5jdGlvbiBwYygpe3JldHVybiB0aGlzLmhvdXJzKCl8fDI0fWZ1bmN0aW9uIHFjKGEsYil7UihhLDAsMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksdGhpcy5taW51dGVzKCksYil9KX1mdW5jdGlvbiByYyhhLGIpe3JldHVybiBiLl9tZXJpZGllbVBhcnNlfWZ1bmN0aW9uIHNjKGEpe3JldHVyblwicFwiPT09KGErXCJcIikudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCl9ZnVuY3Rpb24gdGMoYSxiLGMpe3JldHVybiBhPjExP2M/XCJwbVwiOlwiUE1cIjpjP1wiYW1cIjpcIkFNXCJ9ZnVuY3Rpb24gdWMoYSxiKXtiW1NkXT1yKDFlMyooXCIwLlwiK2EpKX1mdW5jdGlvbiB2Yygpe3JldHVybiB0aGlzLl9pc1VUQz9cIlVUQ1wiOlwiXCJ9ZnVuY3Rpb24gd2MoKXtyZXR1cm4gdGhpcy5faXNVVEM/XCJDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZVwiOlwiXCJ9ZnVuY3Rpb24geGMoYSl7cmV0dXJuIEthKDFlMyphKX1mdW5jdGlvbiB5Yygpe3JldHVybiBLYS5hcHBseShudWxsLGFyZ3VtZW50cykucGFyc2Vab25lKCl9ZnVuY3Rpb24gemMoYSxiLGMpe3ZhciBkPXRoaXMuX2NhbGVuZGFyW2FdO3JldHVybiB3KGQpP2QuY2FsbChiLGMpOmR9ZnVuY3Rpb24gQWMoYSl7dmFyIGI9dGhpcy5fbG9uZ0RhdGVGb3JtYXRbYV0sYz10aGlzLl9sb25nRGF0ZUZvcm1hdFthLnRvVXBwZXJDYXNlKCldO3JldHVybiBifHwhYz9iOih0aGlzLl9sb25nRGF0ZUZvcm1hdFthXT1jLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKDEpfSksdGhpcy5fbG9uZ0RhdGVGb3JtYXRbYV0pfWZ1bmN0aW9uIEJjKCl7cmV0dXJuIHRoaXMuX2ludmFsaWREYXRlfWZ1bmN0aW9uIENjKGEpe3JldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoXCIlZFwiLGEpfWZ1bmN0aW9uIERjKGEpe3JldHVybiBhfWZ1bmN0aW9uIEVjKGEsYixjLGQpe3ZhciBlPXRoaXMuX3JlbGF0aXZlVGltZVtjXTtyZXR1cm4gdyhlKT9lKGEsYixjLGQpOmUucmVwbGFjZSgvJWQvaSxhKX1mdW5jdGlvbiBGYyhhLGIpe3ZhciBjPXRoaXMuX3JlbGF0aXZlVGltZVthPjA/XCJmdXR1cmVcIjpcInBhc3RcIl07cmV0dXJuIHcoYyk/YyhiKTpjLnJlcGxhY2UoLyVzL2ksYil9ZnVuY3Rpb24gR2MoYSxiLGMsZCl7dmFyIGU9SCgpLGY9aCgpLnNldChkLGIpO3JldHVybiBlW2NdKGYsYSl9ZnVuY3Rpb24gSGMoYSxiLGMpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fFwiXCIsbnVsbCE9YilyZXR1cm4gR2MoYSxiLGMsXCJtb250aFwiKTt2YXIgZCxlPVtdO2ZvcihkPTA7MTI+ZDtkKyspZVtkXT1HYyhhLGQsYyxcIm1vbnRoXCIpO3JldHVybiBlfWZ1bmN0aW9uIEljKGEsYixjLGQpe1wiYm9vbGVhblwiPT10eXBlb2YgYT8oXCJudW1iZXJcIj09dHlwZW9mIGImJihjPWIsYj12b2lkIDApLGI9Ynx8XCJcIik6KGI9YSxjPWIsYT0hMSxcIm51bWJlclwiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYj1ifHxcIlwiKTt2YXIgZT1IKCksZj1hP2UuX3dlZWsuZG93OjA7aWYobnVsbCE9YylyZXR1cm4gR2MoYiwoYytmKSU3LGQsXCJkYXlcIik7dmFyIGcsaD1bXTtmb3IoZz0wOzc+ZztnKyspaFtnXT1HYyhiLChnK2YpJTcsZCxcImRheVwiKTtyZXR1cm4gaH1mdW5jdGlvbiBKYyhhLGIpe3JldHVybiBIYyhhLGIsXCJtb250aHNcIil9ZnVuY3Rpb24gS2MoYSxiKXtyZXR1cm4gSGMoYSxiLFwibW9udGhzU2hvcnRcIil9ZnVuY3Rpb24gTGMoYSxiLGMpe3JldHVybiBJYyhhLGIsYyxcIndlZWtkYXlzXCIpfWZ1bmN0aW9uIE1jKGEsYixjKXtyZXR1cm4gSWMoYSxiLGMsXCJ3ZWVrZGF5c1Nob3J0XCIpfWZ1bmN0aW9uIE5jKGEsYixjKXtyZXR1cm4gSWMoYSxiLGMsXCJ3ZWVrZGF5c01pblwiKX1mdW5jdGlvbiBPYygpe3ZhciBhPXRoaXMuX2RhdGE7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcz1MZSh0aGlzLl9taWxsaXNlY29uZHMpLHRoaXMuX2RheXM9TGUodGhpcy5fZGF5cyksdGhpcy5fbW9udGhzPUxlKHRoaXMuX21vbnRocyksYS5taWxsaXNlY29uZHM9TGUoYS5taWxsaXNlY29uZHMpLGEuc2Vjb25kcz1MZShhLnNlY29uZHMpLGEubWludXRlcz1MZShhLm1pbnV0ZXMpLGEuaG91cnM9TGUoYS5ob3VycyksYS5tb250aHM9TGUoYS5tb250aHMpLGEueWVhcnM9TGUoYS55ZWFycyksdGhpc31mdW5jdGlvbiBQYyhhLGIsYyxkKXt2YXIgZT1kYihiLGMpO3JldHVybiBhLl9taWxsaXNlY29uZHMrPWQqZS5fbWlsbGlzZWNvbmRzLGEuX2RheXMrPWQqZS5fZGF5cyxhLl9tb250aHMrPWQqZS5fbW9udGhzLGEuX2J1YmJsZSgpfWZ1bmN0aW9uIFFjKGEsYil7cmV0dXJuIFBjKHRoaXMsYSxiLDEpfWZ1bmN0aW9uIFJjKGEsYil7cmV0dXJuIFBjKHRoaXMsYSxiLC0xKX1mdW5jdGlvbiBTYyhhKXtyZXR1cm4gMD5hP01hdGguZmxvb3IoYSk6TWF0aC5jZWlsKGEpfWZ1bmN0aW9uIFRjKCl7dmFyIGEsYixjLGQsZSxmPXRoaXMuX21pbGxpc2Vjb25kcyxnPXRoaXMuX2RheXMsaD10aGlzLl9tb250aHMsaT10aGlzLl9kYXRhO3JldHVybiBmPj0wJiZnPj0wJiZoPj0wfHwwPj1mJiYwPj1nJiYwPj1ofHwoZis9ODY0ZTUqU2MoVmMoaCkrZyksZz0wLGg9MCksaS5taWxsaXNlY29uZHM9ZiUxZTMsYT1xKGYvMWUzKSxpLnNlY29uZHM9YSU2MCxiPXEoYS82MCksaS5taW51dGVzPWIlNjAsYz1xKGIvNjApLGkuaG91cnM9YyUyNCxnKz1xKGMvMjQpLGU9cShVYyhnKSksaCs9ZSxnLT1TYyhWYyhlKSksZD1xKGgvMTIpLGglPTEyLGkuZGF5cz1nLGkubW9udGhzPWgsaS55ZWFycz1kLHRoaXN9ZnVuY3Rpb24gVWMoYSl7cmV0dXJuIDQ4MDAqYS8xNDYwOTd9ZnVuY3Rpb24gVmMoYSl7cmV0dXJuIDE0NjA5NyphLzQ4MDB9ZnVuY3Rpb24gV2MoYSl7dmFyIGIsYyxkPXRoaXMuX21pbGxpc2Vjb25kcztpZihhPUsoYSksXCJtb250aFwiPT09YXx8XCJ5ZWFyXCI9PT1hKXJldHVybiBiPXRoaXMuX2RheXMrZC84NjRlNSxjPXRoaXMuX21vbnRocytVYyhiKSxcIm1vbnRoXCI9PT1hP2M6Yy8xMjtzd2l0Y2goYj10aGlzLl9kYXlzK01hdGgucm91bmQoVmModGhpcy5fbW9udGhzKSksYSl7Y2FzZVwid2Vla1wiOnJldHVybiBiLzcrZC82MDQ4ZTU7Y2FzZVwiZGF5XCI6cmV0dXJuIGIrZC84NjRlNTtjYXNlXCJob3VyXCI6cmV0dXJuIDI0KmIrZC8zNmU1O2Nhc2VcIm1pbnV0ZVwiOnJldHVybiAxNDQwKmIrZC82ZTQ7Y2FzZVwic2Vjb25kXCI6cmV0dXJuIDg2NDAwKmIrZC8xZTM7Y2FzZVwibWlsbGlzZWNvbmRcIjpyZXR1cm4gTWF0aC5mbG9vcig4NjRlNSpiKStkO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB1bml0IFwiK2EpfX1mdW5jdGlvbiBYYygpe3JldHVybiB0aGlzLl9taWxsaXNlY29uZHMrODY0ZTUqdGhpcy5fZGF5cyt0aGlzLl9tb250aHMlMTIqMjU5MmU2KzMxNTM2ZTYqcih0aGlzLl9tb250aHMvMTIpfWZ1bmN0aW9uIFljKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKGEpfX1mdW5jdGlvbiBaYyhhKXtcbnJldHVybiBhPUsoYSksdGhpc1thK1wic1wiXSgpfWZ1bmN0aW9uICRjKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhW2FdfX1mdW5jdGlvbiBfYygpe3JldHVybiBxKHRoaXMuZGF5cygpLzcpfWZ1bmN0aW9uIGFkKGEsYixjLGQsZSl7cmV0dXJuIGUucmVsYXRpdmVUaW1lKGJ8fDEsISFjLGEsZCl9ZnVuY3Rpb24gYmQoYSxiLGMpe3ZhciBkPWRiKGEpLmFicygpLGU9X2UoZC5hcyhcInNcIikpLGY9X2UoZC5hcyhcIm1cIikpLGc9X2UoZC5hcyhcImhcIikpLGg9X2UoZC5hcyhcImRcIikpLGk9X2UoZC5hcyhcIk1cIikpLGo9X2UoZC5hcyhcInlcIikpLGs9ZTxhZi5zJiZbXCJzXCIsZV18fDE+PWYmJltcIm1cIl18fGY8YWYubSYmW1wibW1cIixmXXx8MT49ZyYmW1wiaFwiXXx8ZzxhZi5oJiZbXCJoaFwiLGddfHwxPj1oJiZbXCJkXCJdfHxoPGFmLmQmJltcImRkXCIsaF18fDE+PWkmJltcIk1cIl18fGk8YWYuTSYmW1wiTU1cIixpXXx8MT49aiYmW1wieVwiXXx8W1wieXlcIixqXTtyZXR1cm4ga1syXT1iLGtbM109K2E+MCxrWzRdPWMsYWQuYXBwbHkobnVsbCxrKX1mdW5jdGlvbiBjZChhLGIpe3JldHVybiB2b2lkIDA9PT1hZlthXT8hMTp2b2lkIDA9PT1iP2FmW2FdOihhZlthXT1iLCEwKX1mdW5jdGlvbiBkZChhKXt2YXIgYj10aGlzLmxvY2FsZURhdGEoKSxjPWJkKHRoaXMsIWEsYik7cmV0dXJuIGEmJihjPWIucGFzdEZ1dHVyZSgrdGhpcyxjKSksYi5wb3N0Zm9ybWF0KGMpfWZ1bmN0aW9uIGVkKCl7dmFyIGEsYixjLGQ9YmYodGhpcy5fbWlsbGlzZWNvbmRzKS8xZTMsZT1iZih0aGlzLl9kYXlzKSxmPWJmKHRoaXMuX21vbnRocyk7YT1xKGQvNjApLGI9cShhLzYwKSxkJT02MCxhJT02MCxjPXEoZi8xMiksZiU9MTI7dmFyIGc9YyxoPWYsaT1lLGo9YixrPWEsbD1kLG09dGhpcy5hc1NlY29uZHMoKTtyZXR1cm4gbT8oMD5tP1wiLVwiOlwiXCIpK1wiUFwiKyhnP2crXCJZXCI6XCJcIikrKGg/aCtcIk1cIjpcIlwiKSsoaT9pK1wiRFwiOlwiXCIpKyhqfHxrfHxsP1wiVFwiOlwiXCIpKyhqP2orXCJIXCI6XCJcIikrKGs/aytcIk1cIjpcIlwiKSsobD9sK1wiU1wiOlwiXCIpOlwiUDBEXCJ9dmFyIGZkLGdkO2dkPUFycmF5LnByb3RvdHlwZS5zb21lP0FycmF5LnByb3RvdHlwZS5zb21lOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PYmplY3QodGhpcyksYz1iLmxlbmd0aD4+PjAsZD0wO2M+ZDtkKyspaWYoZCBpbiBiJiZhLmNhbGwodGhpcyxiW2RdLGQsYikpcmV0dXJuITA7cmV0dXJuITF9O3ZhciBoZD1hLm1vbWVudFByb3BlcnRpZXM9W10saWQ9ITEsamQ9e307YS5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3M9ITEsYS5kZXByZWNhdGlvbkhhbmRsZXI9bnVsbDt2YXIga2Q7a2Q9T2JqZWN0LmtleXM/T2JqZWN0LmtleXM6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoYiBpbiBhKWYoYSxiKSYmYy5wdXNoKGIpO3JldHVybiBjfTt2YXIgbGQsbWQsbmQ9e30sb2Q9e30scGQ9LyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZyxxZD0vKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLHJkPXt9LHNkPXt9LHRkPS9cXGQvLHVkPS9cXGRcXGQvLHZkPS9cXGR7M30vLHdkPS9cXGR7NH0vLHhkPS9bKy1dP1xcZHs2fS8seWQ9L1xcZFxcZD8vLHpkPS9cXGRcXGRcXGRcXGQ/LyxBZD0vXFxkXFxkXFxkXFxkXFxkXFxkPy8sQmQ9L1xcZHsxLDN9LyxDZD0vXFxkezEsNH0vLERkPS9bKy1dP1xcZHsxLDZ9LyxFZD0vXFxkKy8sRmQ9L1srLV0/XFxkKy8sR2Q9L1p8WystXVxcZFxcZDo/XFxkXFxkL2dpLEhkPS9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/L2dpLElkPS9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy8sSmQ9L1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2ksS2Q9e30sTGQ9e30sTWQ9MCxOZD0xLE9kPTIsUGQ9MyxRZD00LFJkPTUsU2Q9NixUZD03LFVkPTg7bWQ9QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/QXJyYXkucHJvdG90eXBlLmluZGV4T2Y6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGI9MDtiPHRoaXMubGVuZ3RoOysrYilpZih0aGlzW2JdPT09YSlyZXR1cm4gYjtyZXR1cm4tMX0sUihcIk1cIixbXCJNTVwiLDJdLFwiTW9cIixmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vbnRoKCkrMX0pLFIoXCJNTU1cIiwwLDAsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsYSl9KSxSKFwiTU1NTVwiLDAsMCxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsYSl9KSxKKFwibW9udGhcIixcIk1cIiksVyhcIk1cIix5ZCksVyhcIk1NXCIseWQsdWQpLFcoXCJNTU1cIixmdW5jdGlvbihhLGIpe3JldHVybiBiLm1vbnRoc1Nob3J0UmVnZXgoYSl9KSxXKFwiTU1NTVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubW9udGhzUmVnZXgoYSl9KSwkKFtcIk1cIixcIk1NXCJdLGZ1bmN0aW9uKGEsYil7YltOZF09cihhKS0xfSksJChbXCJNTU1cIixcIk1NTU1cIl0sZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Yy5fbG9jYWxlLm1vbnRoc1BhcnNlKGEsZCxjLl9zdHJpY3QpO251bGwhPWU/YltOZF09ZTpqKGMpLmludmFsaWRNb250aD1hfSk7dmFyIFZkPS9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMrKStNTU1NPy8sV2Q9XCJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyXCIuc3BsaXQoXCJfXCIpLFhkPVwiSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWNcIi5zcGxpdChcIl9cIiksWWQ9SmQsWmQ9SmQsJGQ9L15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPy8sX2Q9L15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8vLGFlPS9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LyxiZT1bW1wiWVlZWVlZLU1NLUREXCIsL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFtcIllZWVktTU0tRERcIiwvXFxkezR9LVxcZFxcZC1cXGRcXGQvXSxbXCJHR0dHLVtXXVdXLUVcIiwvXFxkezR9LVdcXGRcXGQtXFxkL10sW1wiR0dHRy1bV11XV1wiLC9cXGR7NH0tV1xcZFxcZC8sITFdLFtcIllZWVktREREXCIsL1xcZHs0fS1cXGR7M30vXSxbXCJZWVlZLU1NXCIsL1xcZHs0fS1cXGRcXGQvLCExXSxbXCJZWVlZWVlNTUREXCIsL1srLV1cXGR7MTB9L10sW1wiWVlZWU1NRERcIiwvXFxkezh9L10sW1wiR0dHR1tXXVdXRVwiLC9cXGR7NH1XXFxkezN9L10sW1wiR0dHR1tXXVdXXCIsL1xcZHs0fVdcXGR7Mn0vLCExXSxbXCJZWVlZREREXCIsL1xcZHs3fS9dXSxjZT1bW1wiSEg6bW06c3MuU1NTU1wiLC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxbXCJISDptbTpzcyxTU1NTXCIsL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxbXCJISDptbTpzc1wiLC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFtcIkhIOm1tXCIsL1xcZFxcZDpcXGRcXGQvXSxbXCJISG1tc3MuU1NTU1wiLC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sW1wiSEhtbXNzLFNTU1NcIiwvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxbXCJISG1tc3NcIiwvXFxkXFxkXFxkXFxkXFxkXFxkL10sW1wiSEhtbVwiLC9cXGRcXGRcXGRcXGQvXSxbXCJISFwiLC9cXGRcXGQvXV0sZGU9L15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTthLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrPXUoXCJtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZS4gVGhpcyBpcyBkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQwNyBmb3IgbW9yZSBpbmZvLlwiLGZ1bmN0aW9uKGEpe2EuX2Q9bmV3IERhdGUoYS5faSsoYS5fdXNlVVRDP1wiIFVUQ1wiOlwiXCIpKX0pLFIoXCJZXCIsMCwwLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy55ZWFyKCk7cmV0dXJuIDk5OTk+PWE/XCJcIithOlwiK1wiK2F9KSxSKDAsW1wiWVlcIiwyXSwwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWVhcigpJTEwMH0pLFIoMCxbXCJZWVlZXCIsNF0sMCxcInllYXJcIiksUigwLFtcIllZWVlZXCIsNV0sMCxcInllYXJcIiksUigwLFtcIllZWVlZWVwiLDYsITBdLDAsXCJ5ZWFyXCIpLEooXCJ5ZWFyXCIsXCJ5XCIpLFcoXCJZXCIsRmQpLFcoXCJZWVwiLHlkLHVkKSxXKFwiWVlZWVwiLENkLHdkKSxXKFwiWVlZWVlcIixEZCx4ZCksVyhcIllZWVlZWVwiLERkLHhkKSwkKFtcIllZWVlZXCIsXCJZWVlZWVlcIl0sTWQpLCQoXCJZWVlZXCIsZnVuY3Rpb24oYixjKXtjW01kXT0yPT09Yi5sZW5ndGg/YS5wYXJzZVR3b0RpZ2l0WWVhcihiKTpyKGIpfSksJChcIllZXCIsZnVuY3Rpb24oYixjKXtjW01kXT1hLnBhcnNlVHdvRGlnaXRZZWFyKGIpfSksJChcIllcIixmdW5jdGlvbihhLGIpe2JbTWRdPXBhcnNlSW50KGEsMTApfSksYS5wYXJzZVR3b0RpZ2l0WWVhcj1mdW5jdGlvbihhKXtyZXR1cm4gcihhKSsocihhKT42OD8xOTAwOjJlMyl9O3ZhciBlZT1NKFwiRnVsbFllYXJcIiwhMCk7YS5JU09fODYwMT1mdW5jdGlvbigpe307dmFyIGZlPXUoXCJtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE1NDhcIixmdW5jdGlvbigpe3ZhciBhPUthLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJmEuaXNWYWxpZCgpP3RoaXM+YT90aGlzOmE6bCgpfSksZ2U9dShcIm1vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OFwiLGZ1bmN0aW9uKCl7dmFyIGE9S2EuYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiB0aGlzLmlzVmFsaWQoKSYmYS5pc1ZhbGlkKCk/YT50aGlzP3RoaXM6YTpsKCl9KSxoZT1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdz9EYXRlLm5vdygpOituZXcgRGF0ZX07UWEoXCJaXCIsXCI6XCIpLFFhKFwiWlpcIixcIlwiKSxXKFwiWlwiLEhkKSxXKFwiWlpcIixIZCksJChbXCJaXCIsXCJaWlwiXSxmdW5jdGlvbihhLGIsYyl7Yy5fdXNlVVRDPSEwLGMuX3R6bT1SYShIZCxhKX0pO3ZhciBpZT0vKFtcXCtcXC1dfFxcZFxcZCkvZ2k7YS51cGRhdGVPZmZzZXQ9ZnVuY3Rpb24oKXt9O3ZhciBqZT0vXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKVxcLj8oXFxkezN9KT9cXGQqKT8kLyxrZT0vXigtKT9QKD86KC0/WzAtOSwuXSopWSk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopVyk/KD86KC0/WzAtOSwuXSopRCk/KD86VCg/OigtP1swLTksLl0qKUgpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVMpPyk/JC87ZGIuZm49T2EucHJvdG90eXBlO3ZhciBsZT1pYigxLFwiYWRkXCIpLG1lPWliKC0xLFwic3VidHJhY3RcIik7YS5kZWZhdWx0Rm9ybWF0PVwiWVlZWS1NTS1ERFRISDptbTpzc1pcIixhLmRlZmF1bHRGb3JtYXRVdGM9XCJZWVlZLU1NLUREVEhIOm1tOnNzW1pdXCI7dmFyIG5lPXUoXCJtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLlwiLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3RoaXMubG9jYWxlRGF0YSgpOnRoaXMubG9jYWxlKGEpfSk7UigwLFtcImdnXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLndlZWtZZWFyKCklMTAwfSksUigwLFtcIkdHXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzb1dlZWtZZWFyKCklMTAwfSksUGIoXCJnZ2dnXCIsXCJ3ZWVrWWVhclwiKSxQYihcImdnZ2dnXCIsXCJ3ZWVrWWVhclwiKSxQYihcIkdHR0dcIixcImlzb1dlZWtZZWFyXCIpLFBiKFwiR0dHR0dcIixcImlzb1dlZWtZZWFyXCIpLEooXCJ3ZWVrWWVhclwiLFwiZ2dcIiksSihcImlzb1dlZWtZZWFyXCIsXCJHR1wiKSxXKFwiR1wiLEZkKSxXKFwiZ1wiLEZkKSxXKFwiR0dcIix5ZCx1ZCksVyhcImdnXCIseWQsdWQpLFcoXCJHR0dHXCIsQ2Qsd2QpLFcoXCJnZ2dnXCIsQ2Qsd2QpLFcoXCJHR0dHR1wiLERkLHhkKSxXKFwiZ2dnZ2dcIixEZCx4ZCksXyhbXCJnZ2dnXCIsXCJnZ2dnZ1wiLFwiR0dHR1wiLFwiR0dHR0dcIl0sZnVuY3Rpb24oYSxiLGMsZCl7YltkLnN1YnN0cigwLDIpXT1yKGEpfSksXyhbXCJnZ1wiLFwiR0dcIl0sZnVuY3Rpb24oYixjLGQsZSl7Y1tlXT1hLnBhcnNlVHdvRGlnaXRZZWFyKGIpfSksUihcIlFcIiwwLFwiUW9cIixcInF1YXJ0ZXJcIiksSihcInF1YXJ0ZXJcIixcIlFcIiksVyhcIlFcIix0ZCksJChcIlFcIixmdW5jdGlvbihhLGIpe2JbTmRdPTMqKHIoYSktMSl9KSxSKFwid1wiLFtcInd3XCIsMl0sXCJ3b1wiLFwid2Vla1wiKSxSKFwiV1wiLFtcIldXXCIsMl0sXCJXb1wiLFwiaXNvV2Vla1wiKSxKKFwid2Vla1wiLFwid1wiKSxKKFwiaXNvV2Vla1wiLFwiV1wiKSxXKFwid1wiLHlkKSxXKFwid3dcIix5ZCx1ZCksVyhcIldcIix5ZCksVyhcIldXXCIseWQsdWQpLF8oW1wid1wiLFwid3dcIixcIldcIixcIldXXCJdLGZ1bmN0aW9uKGEsYixjLGQpe2JbZC5zdWJzdHIoMCwxKV09cihhKX0pO3ZhciBvZT17ZG93OjAsZG95OjZ9O1IoXCJEXCIsW1wiRERcIiwyXSxcIkRvXCIsXCJkYXRlXCIpLEooXCJkYXRlXCIsXCJEXCIpLFcoXCJEXCIseWQpLFcoXCJERFwiLHlkLHVkKSxXKFwiRG9cIixmdW5jdGlvbihhLGIpe3JldHVybiBhP2IuX29yZGluYWxQYXJzZTpiLl9vcmRpbmFsUGFyc2VMZW5pZW50fSksJChbXCJEXCIsXCJERFwiXSxPZCksJChcIkRvXCIsZnVuY3Rpb24oYSxiKXtiW09kXT1yKGEubWF0Y2goeWQpWzBdLDEwKX0pO3ZhciBwZT1NKFwiRGF0ZVwiLCEwKTtSKFwiZFwiLDAsXCJkb1wiLFwiZGF5XCIpLFIoXCJkZFwiLDAsMCxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcyxhKX0pLFIoXCJkZGRcIiwwLDAsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcyxhKX0pLFIoXCJkZGRkXCIsMCwwLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLGEpfSksUihcImVcIiwwLDAsXCJ3ZWVrZGF5XCIpLFIoXCJFXCIsMCwwLFwiaXNvV2Vla2RheVwiKSxKKFwiZGF5XCIsXCJkXCIpLEooXCJ3ZWVrZGF5XCIsXCJlXCIpLEooXCJpc29XZWVrZGF5XCIsXCJFXCIpLFcoXCJkXCIseWQpLFcoXCJlXCIseWQpLFcoXCJFXCIseWQpLFcoXCJkZFwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIud2Vla2RheXNNaW5SZWdleChhKX0pLFcoXCJkZGRcIixmdW5jdGlvbihhLGIpe3JldHVybiBiLndlZWtkYXlzU2hvcnRSZWdleChhKX0pLFcoXCJkZGRkXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi53ZWVrZGF5c1JlZ2V4KGEpfSksXyhbXCJkZFwiLFwiZGRkXCIsXCJkZGRkXCJdLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWMuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGEsZCxjLl9zdHJpY3QpO251bGwhPWU/Yi5kPWU6aihjKS5pbnZhbGlkV2Vla2RheT1hfSksXyhbXCJkXCIsXCJlXCIsXCJFXCJdLGZ1bmN0aW9uKGEsYixjLGQpe2JbZF09cihhKX0pO3ZhciBxZT1cIlN1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5XCIuc3BsaXQoXCJfXCIpLHJlPVwiU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0XCIuc3BsaXQoXCJfXCIpLHNlPVwiU3VfTW9fVHVfV2VfVGhfRnJfU2FcIi5zcGxpdChcIl9cIiksdGU9SmQsdWU9SmQsdmU9SmQ7UihcIkRERFwiLFtcIkRERERcIiwzXSxcIkRERG9cIixcImRheU9mWWVhclwiKSxKKFwiZGF5T2ZZZWFyXCIsXCJERERcIiksVyhcIkRERFwiLEJkKSxXKFwiRERERFwiLHZkKSwkKFtcIkRERFwiLFwiRERERFwiXSxmdW5jdGlvbihhLGIsYyl7Yy5fZGF5T2ZZZWFyPXIoYSl9KSxSKFwiSFwiLFtcIkhIXCIsMl0sMCxcImhvdXJcIiksUihcImhcIixbXCJoaFwiLDJdLDAsb2MpLFIoXCJrXCIsW1wia2tcIiwyXSwwLHBjKSxSKFwiaG1tXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuXCJcIitvYy5hcHBseSh0aGlzKStRKHRoaXMubWludXRlcygpLDIpfSksUihcImhtbXNzXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuXCJcIitvYy5hcHBseSh0aGlzKStRKHRoaXMubWludXRlcygpLDIpK1EodGhpcy5zZWNvbmRzKCksMil9KSxSKFwiSG1tXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuXCJcIit0aGlzLmhvdXJzKCkrUSh0aGlzLm1pbnV0ZXMoKSwyKX0pLFIoXCJIbW1zc1wiLDAsMCxmdW5jdGlvbigpe3JldHVyblwiXCIrdGhpcy5ob3VycygpK1EodGhpcy5taW51dGVzKCksMikrUSh0aGlzLnNlY29uZHMoKSwyKX0pLHFjKFwiYVwiLCEwKSxxYyhcIkFcIiwhMSksSihcImhvdXJcIixcImhcIiksVyhcImFcIixyYyksVyhcIkFcIixyYyksVyhcIkhcIix5ZCksVyhcImhcIix5ZCksVyhcIkhIXCIseWQsdWQpLFcoXCJoaFwiLHlkLHVkKSxXKFwiaG1tXCIsemQpLFcoXCJobW1zc1wiLEFkKSxXKFwiSG1tXCIsemQpLFcoXCJIbW1zc1wiLEFkKSwkKFtcIkhcIixcIkhIXCJdLFBkKSwkKFtcImFcIixcIkFcIl0sZnVuY3Rpb24oYSxiLGMpe2MuX2lzUG09Yy5fbG9jYWxlLmlzUE0oYSksYy5fbWVyaWRpZW09YX0pLCQoW1wiaFwiLFwiaGhcIl0sZnVuY3Rpb24oYSxiLGMpe2JbUGRdPXIoYSksaihjKS5iaWdIb3VyPSEwfSksJChcImhtbVwiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aC0yO2JbUGRdPXIoYS5zdWJzdHIoMCxkKSksYltRZF09cihhLnN1YnN0cihkKSksaihjKS5iaWdIb3VyPSEwfSksJChcImhtbXNzXCIsZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEubGVuZ3RoLTQsZT1hLmxlbmd0aC0yO2JbUGRdPXIoYS5zdWJzdHIoMCxkKSksYltRZF09cihhLnN1YnN0cihkLDIpKSxiW1JkXT1yKGEuc3Vic3RyKGUpKSxqKGMpLmJpZ0hvdXI9ITB9KSwkKFwiSG1tXCIsZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEubGVuZ3RoLTI7YltQZF09cihhLnN1YnN0cigwLGQpKSxiW1FkXT1yKGEuc3Vic3RyKGQpKX0pLCQoXCJIbW1zc1wiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aC00LGU9YS5sZW5ndGgtMjtiW1BkXT1yKGEuc3Vic3RyKDAsZCkpLGJbUWRdPXIoYS5zdWJzdHIoZCwyKSksYltSZF09cihhLnN1YnN0cihlKSl9KTt2YXIgd2U9L1thcF1cXC4/bT9cXC4/L2kseGU9TShcIkhvdXJzXCIsITApO1IoXCJtXCIsW1wibW1cIiwyXSwwLFwibWludXRlXCIpLEooXCJtaW51dGVcIixcIm1cIiksVyhcIm1cIix5ZCksVyhcIm1tXCIseWQsdWQpLCQoW1wibVwiLFwibW1cIl0sUWQpO3ZhciB5ZT1NKFwiTWludXRlc1wiLCExKTtSKFwic1wiLFtcInNzXCIsMl0sMCxcInNlY29uZFwiKSxKKFwic2Vjb25kXCIsXCJzXCIpLFcoXCJzXCIseWQpLFcoXCJzc1wiLHlkLHVkKSwkKFtcInNcIixcInNzXCJdLFJkKTt2YXIgemU9TShcIlNlY29uZHNcIiwhMSk7UihcIlNcIiwwLDAsZnVuY3Rpb24oKXtyZXR1cm5+fih0aGlzLm1pbGxpc2Vjb25kKCkvMTAwKX0pLFIoMCxbXCJTU1wiLDJdLDAsZnVuY3Rpb24oKXtyZXR1cm5+fih0aGlzLm1pbGxpc2Vjb25kKCkvMTApfSksUigwLFtcIlNTU1wiLDNdLDAsXCJtaWxsaXNlY29uZFwiKSxSKDAsW1wiU1NTU1wiLDRdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMTAqdGhpcy5taWxsaXNlY29uZCgpfSksUigwLFtcIlNTU1NTXCIsNV0sMCxmdW5jdGlvbigpe3JldHVybiAxMDAqdGhpcy5taWxsaXNlY29uZCgpfSksUigwLFtcIlNTU1NTU1wiLDZdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWUzKnRoaXMubWlsbGlzZWNvbmQoKX0pLFIoMCxbXCJTU1NTU1NTXCIsN10sMCxmdW5jdGlvbigpe3JldHVybiAxZTQqdGhpcy5taWxsaXNlY29uZCgpfSksUigwLFtcIlNTU1NTU1NTXCIsOF0sMCxmdW5jdGlvbigpe3JldHVybiAxZTUqdGhpcy5taWxsaXNlY29uZCgpfSksUigwLFtcIlNTU1NTU1NTU1wiLDldLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWU2KnRoaXMubWlsbGlzZWNvbmQoKX0pLEooXCJtaWxsaXNlY29uZFwiLFwibXNcIiksVyhcIlNcIixCZCx0ZCksVyhcIlNTXCIsQmQsdWQpLFcoXCJTU1NcIixCZCx2ZCk7dmFyIEFlO2ZvcihBZT1cIlNTU1NcIjtBZS5sZW5ndGg8PTk7QWUrPVwiU1wiKVcoQWUsRWQpO2ZvcihBZT1cIlNcIjtBZS5sZW5ndGg8PTk7QWUrPVwiU1wiKSQoQWUsdWMpO3ZhciBCZT1NKFwiTWlsbGlzZWNvbmRzXCIsITEpO1IoXCJ6XCIsMCwwLFwiem9uZUFiYnJcIiksUihcInp6XCIsMCwwLFwiem9uZU5hbWVcIik7dmFyIENlPW8ucHJvdG90eXBlO0NlLmFkZD1sZSxDZS5jYWxlbmRhcj1rYixDZS5jbG9uZT1sYixDZS5kaWZmPXNiLENlLmVuZE9mPUViLENlLmZvcm1hdD13YixDZS5mcm9tPXhiLENlLmZyb21Ob3c9eWIsQ2UudG89emIsQ2UudG9Ob3c9QWIsQ2UuZ2V0PVAsQ2UuaW52YWxpZEF0PU5iLENlLmlzQWZ0ZXI9bWIsQ2UuaXNCZWZvcmU9bmIsQ2UuaXNCZXR3ZWVuPW9iLENlLmlzU2FtZT1wYixDZS5pc1NhbWVPckFmdGVyPXFiLENlLmlzU2FtZU9yQmVmb3JlPXJiLENlLmlzVmFsaWQ9TGIsQ2UubGFuZz1uZSxDZS5sb2NhbGU9QmIsQ2UubG9jYWxlRGF0YT1DYixDZS5tYXg9Z2UsQ2UubWluPWZlLENlLnBhcnNpbmdGbGFncz1NYixDZS5zZXQ9UCxDZS5zdGFydE9mPURiLENlLnN1YnRyYWN0PW1lLENlLnRvQXJyYXk9SWIsQ2UudG9PYmplY3Q9SmIsQ2UudG9EYXRlPUhiLENlLnRvSVNPU3RyaW5nPXZiLENlLnRvSlNPTj1LYixDZS50b1N0cmluZz11YixDZS51bml4PUdiLENlLnZhbHVlT2Y9RmIsQ2UuY3JlYXRpb25EYXRhPU9iLENlLnllYXI9ZWUsQ2UuaXNMZWFwWWVhcj10YSxDZS53ZWVrWWVhcj1RYixDZS5pc29XZWVrWWVhcj1SYixDZS5xdWFydGVyPUNlLnF1YXJ0ZXJzPVdiLENlLm1vbnRoPWhhLENlLmRheXNJbk1vbnRoPWlhLENlLndlZWs9Q2Uud2Vla3M9JGIsQ2UuaXNvV2Vlaz1DZS5pc29XZWVrcz1fYixDZS53ZWVrc0luWWVhcj1UYixDZS5pc29XZWVrc0luWWVhcj1TYixDZS5kYXRlPXBlLENlLmRheT1DZS5kYXlzPWdjLENlLndlZWtkYXk9aGMsQ2UuaXNvV2Vla2RheT1pYyxDZS5kYXlPZlllYXI9bmMsQ2UuaG91cj1DZS5ob3Vycz14ZSxDZS5taW51dGU9Q2UubWludXRlcz15ZSxDZS5zZWNvbmQ9Q2Uuc2Vjb25kcz16ZSxDZS5taWxsaXNlY29uZD1DZS5taWxsaXNlY29uZHM9QmUsQ2UudXRjT2Zmc2V0PVVhLENlLnV0Yz1XYSxDZS5sb2NhbD1YYSxDZS5wYXJzZVpvbmU9WWEsQ2UuaGFzQWxpZ25lZEhvdXJPZmZzZXQ9WmEsQ2UuaXNEU1Q9JGEsQ2UuaXNEU1RTaGlmdGVkPV9hLENlLmlzTG9jYWw9YWIsQ2UuaXNVdGNPZmZzZXQ9YmIsQ2UuaXNVdGM9Y2IsQ2UuaXNVVEM9Y2IsQ2Uuem9uZUFiYnI9dmMsQ2Uuem9uZU5hbWU9d2MsQ2UuZGF0ZXM9dShcImRhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuXCIscGUpLENlLm1vbnRocz11KFwibW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkXCIsaGEpLENlLnllYXJzPXUoXCJ5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkXCIsZWUpLENlLnpvbmU9dShcIm1vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTc3OVwiLFZhKTt2YXIgRGU9Q2UsRWU9e3NhbWVEYXk6XCJbVG9kYXkgYXRdIExUXCIsbmV4dERheTpcIltUb21vcnJvdyBhdF0gTFRcIixuZXh0V2VlazpcImRkZGQgW2F0XSBMVFwiLGxhc3REYXk6XCJbWWVzdGVyZGF5IGF0XSBMVFwiLGxhc3RXZWVrOlwiW0xhc3RdIGRkZGQgW2F0XSBMVFwiLHNhbWVFbHNlOlwiTFwifSxGZT17TFRTOlwiaDptbTpzcyBBXCIsTFQ6XCJoOm1tIEFcIixMOlwiTU0vREQvWVlZWVwiLExMOlwiTU1NTSBELCBZWVlZXCIsTExMOlwiTU1NTSBELCBZWVlZIGg6bW0gQVwiLExMTEw6XCJkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBXCJ9LEdlPVwiSW52YWxpZCBkYXRlXCIsSGU9XCIlZFwiLEllPS9cXGR7MSwyfS8sSmU9e2Z1dHVyZTpcImluICVzXCIscGFzdDpcIiVzIGFnb1wiLHM6XCJhIGZldyBzZWNvbmRzXCIsbTpcImEgbWludXRlXCIsbW06XCIlZCBtaW51dGVzXCIsaDpcImFuIGhvdXJcIixoaDpcIiVkIGhvdXJzXCIsZDpcImEgZGF5XCIsZGQ6XCIlZCBkYXlzXCIsTTpcImEgbW9udGhcIixNTTpcIiVkIG1vbnRoc1wiLHk6XCJhIHllYXJcIix5eTpcIiVkIHllYXJzXCJ9LEtlPUEucHJvdG90eXBlO0tlLl9jYWxlbmRhcj1FZSxLZS5jYWxlbmRhcj16YyxLZS5fbG9uZ0RhdGVGb3JtYXQ9RmUsS2UubG9uZ0RhdGVGb3JtYXQ9QWMsS2UuX2ludmFsaWREYXRlPUdlLEtlLmludmFsaWREYXRlPUJjLEtlLl9vcmRpbmFsPUhlLEtlLm9yZGluYWw9Q2MsS2UuX29yZGluYWxQYXJzZT1JZSxLZS5wcmVwYXJzZT1EYyxLZS5wb3N0Zm9ybWF0PURjLEtlLl9yZWxhdGl2ZVRpbWU9SmUsS2UucmVsYXRpdmVUaW1lPUVjLEtlLnBhc3RGdXR1cmU9RmMsS2Uuc2V0PXksS2UubW9udGhzPWNhLEtlLl9tb250aHM9V2QsS2UubW9udGhzU2hvcnQ9ZGEsS2UuX21vbnRoc1Nob3J0PVhkLEtlLm1vbnRoc1BhcnNlPWZhLEtlLl9tb250aHNSZWdleD1aZCxLZS5tb250aHNSZWdleD1rYSxLZS5fbW9udGhzU2hvcnRSZWdleD1ZZCxLZS5tb250aHNTaG9ydFJlZ2V4PWphLEtlLndlZWs9WGIsS2UuX3dlZWs9b2UsS2UuZmlyc3REYXlPZlllYXI9WmIsS2UuZmlyc3REYXlPZldlZWs9WWIsS2Uud2Vla2RheXM9YmMsS2UuX3dlZWtkYXlzPXFlLEtlLndlZWtkYXlzTWluPWRjLEtlLl93ZWVrZGF5c01pbj1zZSxLZS53ZWVrZGF5c1Nob3J0PWNjLEtlLl93ZWVrZGF5c1Nob3J0PXJlLEtlLndlZWtkYXlzUGFyc2U9ZmMsS2UuX3dlZWtkYXlzUmVnZXg9dGUsS2Uud2Vla2RheXNSZWdleD1qYyxLZS5fd2Vla2RheXNTaG9ydFJlZ2V4PXVlLEtlLndlZWtkYXlzU2hvcnRSZWdleD1rYyxLZS5fd2Vla2RheXNNaW5SZWdleD12ZSxLZS53ZWVrZGF5c01pblJlZ2V4PWxjLEtlLmlzUE09c2MsS2UuX21lcmlkaWVtUGFyc2U9d2UsS2UubWVyaWRpZW09dGMsRShcImVuXCIse29yZGluYWxQYXJzZTovXFxkezEsMn0odGh8c3R8bmR8cmQpLyxvcmRpbmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWElMTAsYz0xPT09cihhJTEwMC8xMCk/XCJ0aFwiOjE9PT1iP1wic3RcIjoyPT09Yj9cIm5kXCI6Mz09PWI/XCJyZFwiOlwidGhcIjtyZXR1cm4gYStjfX0pLGEubGFuZz11KFwibW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC5cIixFKSxhLmxhbmdEYXRhPXUoXCJtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuXCIsSCk7dmFyIExlPU1hdGguYWJzLE1lPVljKFwibXNcIiksTmU9WWMoXCJzXCIpLE9lPVljKFwibVwiKSxQZT1ZYyhcImhcIiksUWU9WWMoXCJkXCIpLFJlPVljKFwid1wiKSxTZT1ZYyhcIk1cIiksVGU9WWMoXCJ5XCIpLFVlPSRjKFwibWlsbGlzZWNvbmRzXCIpLFZlPSRjKFwic2Vjb25kc1wiKSxXZT0kYyhcIm1pbnV0ZXNcIiksWGU9JGMoXCJob3Vyc1wiKSxZZT0kYyhcImRheXNcIiksWmU9JGMoXCJtb250aHNcIiksJGU9JGMoXCJ5ZWFyc1wiKSxfZT1NYXRoLnJvdW5kLGFmPXtzOjQ1LG06NDUsaDoyMixkOjI2LE06MTF9LGJmPU1hdGguYWJzLGNmPU9hLnByb3RvdHlwZTtjZi5hYnM9T2MsY2YuYWRkPVFjLGNmLnN1YnRyYWN0PVJjLGNmLmFzPVdjLGNmLmFzTWlsbGlzZWNvbmRzPU1lLGNmLmFzU2Vjb25kcz1OZSxjZi5hc01pbnV0ZXM9T2UsY2YuYXNIb3Vycz1QZSxjZi5hc0RheXM9UWUsY2YuYXNXZWVrcz1SZSxjZi5hc01vbnRocz1TZSxjZi5hc1llYXJzPVRlLGNmLnZhbHVlT2Y9WGMsY2YuX2J1YmJsZT1UYyxjZi5nZXQ9WmMsY2YubWlsbGlzZWNvbmRzPVVlLGNmLnNlY29uZHM9VmUsY2YubWludXRlcz1XZSxjZi5ob3Vycz1YZSxjZi5kYXlzPVllLGNmLndlZWtzPV9jLGNmLm1vbnRocz1aZSxjZi55ZWFycz0kZSxjZi5odW1hbml6ZT1kZCxjZi50b0lTT1N0cmluZz1lZCxjZi50b1N0cmluZz1lZCxjZi50b0pTT049ZWQsY2YubG9jYWxlPUJiLGNmLmxvY2FsZURhdGE9Q2IsY2YudG9Jc29TdHJpbmc9dShcInRvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpXCIsZWQpLGNmLmxhbmc9bmUsUihcIlhcIiwwLDAsXCJ1bml4XCIpLFIoXCJ4XCIsMCwwLFwidmFsdWVPZlwiKSxXKFwieFwiLEZkKSxXKFwiWFwiLElkKSwkKFwiWFwiLGZ1bmN0aW9uKGEsYixjKXtjLl9kPW5ldyBEYXRlKDFlMypwYXJzZUZsb2F0KGEsMTApKX0pLCQoXCJ4XCIsZnVuY3Rpb24oYSxiLGMpe2MuX2Q9bmV3IERhdGUocihhKSl9KSxhLnZlcnNpb249XCIyLjEzLjBcIixiKEthKSxhLmZuPURlLGEubWluPU1hLGEubWF4PU5hLGEubm93PWhlLGEudXRjPWgsYS51bml4PXhjLGEubW9udGhzPUpjLGEuaXNEYXRlPWQsYS5sb2NhbGU9RSxhLmludmFsaWQ9bCxhLmR1cmF0aW9uPWRiLGEuaXNNb21lbnQ9cCxhLndlZWtkYXlzPUxjLGEucGFyc2Vab25lPXljLGEubG9jYWxlRGF0YT1ILGEuaXNEdXJhdGlvbj1QYSxhLm1vbnRoc1Nob3J0PUtjLGEud2Vla2RheXNNaW49TmMsYS5kZWZpbmVMb2NhbGU9RixhLnVwZGF0ZUxvY2FsZT1HLGEubG9jYWxlcz1JLGEud2Vla2RheXNTaG9ydD1NYyxhLm5vcm1hbGl6ZVVuaXRzPUssYS5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQ9Y2QsYS5wcm90b3R5cGU9RGU7dmFyIGRmPWE7cmV0dXJuIGRmfSk7IiwiLyohXG4gKiBpQ2hlY2sgdjEuMC4yLCBodHRwOi8vZ2l0LmlvL2FybHplQVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFBvd2VyZnVsIGpRdWVyeSBhbmQgWmVwdG8gcGx1Z2luIGZvciBjaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zIGN1c3RvbWl6YXRpb25cbiAqXG4gKiAoYykgMjAxMyBEYW1pciBTdWx0YW5vdiwgaHR0cDovL2Zyb250ZWVkLmNvbVxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuICAvLyBDYWNoZWQgdmFyc1xuICB2YXIgX2lDaGVjayA9ICdpQ2hlY2snLFxuICAgIF9pQ2hlY2tIZWxwZXIgPSBfaUNoZWNrICsgJy1oZWxwZXInLFxuICAgIF9jaGVja2JveCA9ICdjaGVja2JveCcsXG4gICAgX3JhZGlvID0gJ3JhZGlvJyxcbiAgICBfY2hlY2tlZCA9ICdjaGVja2VkJyxcbiAgICBfdW5jaGVja2VkID0gJ3VuJyArIF9jaGVja2VkLFxuICAgIF9kaXNhYmxlZCA9ICdkaXNhYmxlZCcsYVxuICAgIF9kZXRlcm1pbmF0ZSA9ICdkZXRlcm1pbmF0ZScsXG4gICAgX2luZGV0ZXJtaW5hdGUgPSAnaW4nICsgX2RldGVybWluYXRlLFxuICAgIF91cGRhdGUgPSAndXBkYXRlJyxcbiAgICBfdHlwZSA9ICd0eXBlJyxcbiAgICBfY2xpY2sgPSAnY2xpY2snLFxuICAgIF90b3VjaCA9ICd0b3VjaGJlZ2luLmkgdG91Y2hlbmQuaScsXG4gICAgX2FkZCA9ICdhZGRDbGFzcycsXG4gICAgX3JlbW92ZSA9ICdyZW1vdmVDbGFzcycsXG4gICAgX2NhbGxiYWNrID0gJ3RyaWdnZXInLFxuICAgIF9sYWJlbCA9ICdsYWJlbCcsXG4gICAgX2N1cnNvciA9ICdjdXJzb3InLFxuICAgIF9tb2JpbGUgPSAvaXBhZHxpcGhvbmV8aXBvZHxhbmRyb2lkfGJsYWNrYmVycnl8d2luZG93cyBwaG9uZXxvcGVyYSBtaW5pfHNpbGsvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gIC8vIFBsdWdpbiBpbml0XG4gICQuZm5bX2lDaGVja10gPSBmdW5jdGlvbihvcHRpb25zLCBmaXJlKSB7XG5cbiAgICAvLyBXYWxrZXJcbiAgICB2YXIgaGFuZGxlID0gJ2lucHV0W3R5cGU9XCInICsgX2NoZWNrYm94ICsgJ1wiXSwgaW5wdXRbdHlwZT1cIicgKyBfcmFkaW8gKyAnXCJdJyxcbiAgICAgIHN0YWNrID0gJCgpLFxuICAgICAgd2Fsa2VyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcblxuICAgICAgICAgIGlmIChzZWxmLmlzKGhhbmRsZSkpIHtcbiAgICAgICAgICAgIHN0YWNrID0gc3RhY2suYWRkKHNlbGYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFjayA9IHN0YWNrLmFkZChzZWxmLmZpbmQoaGFuZGxlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgb3BlcmF0ZSB3aXRoIHNvbWUgbWV0aG9kXG4gICAgaWYgKC9eKGNoZWNrfHVuY2hlY2t8dG9nZ2xlfGluZGV0ZXJtaW5hdGV8ZGV0ZXJtaW5hdGV8ZGlzYWJsZXxlbmFibGV8dXBkYXRlfGRlc3Ryb3kpJC9pLnRlc3Qob3B0aW9ucykpIHtcblxuICAgICAgLy8gTm9ybWFsaXplIG1ldGhvZCdzIG5hbWVcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIC8vIEZpbmQgY2hlY2tib3hlcyBhbmQgcmFkaW8gYnV0dG9uc1xuICAgICAgd2Fsa2VyKHRoaXMpO1xuXG4gICAgICByZXR1cm4gc3RhY2suZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zID09ICdkZXN0cm95Jykge1xuICAgICAgICAgIHRpZHkoc2VsZiwgJ2lmRGVzdHJveWVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlcmF0ZShzZWxmLCB0cnVlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcmUgbWV0aG9kJ3MgY2FsbGJhY2tcbiAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihmaXJlKSkge1xuICAgICAgICAgIGZpcmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBDdXN0b21pemF0aW9uXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnb2JqZWN0JyB8fCAhb3B0aW9ucykge1xuXG4gICAgICAvLyBDaGVjayBpZiBhbnkgb3B0aW9ucyB3ZXJlIHBhc3NlZFxuICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe1xuICAgICAgICAgIGNoZWNrZWRDbGFzczogX2NoZWNrZWQsXG4gICAgICAgICAgZGlzYWJsZWRDbGFzczogX2Rpc2FibGVkLFxuICAgICAgICAgIGluZGV0ZXJtaW5hdGVDbGFzczogX2luZGV0ZXJtaW5hdGUsXG4gICAgICAgICAgbGFiZWxIb3ZlcjogdHJ1ZVxuICAgICAgICB9LCBvcHRpb25zKSxcblxuICAgICAgICBzZWxlY3RvciA9IHNldHRpbmdzLmhhbmRsZSxcbiAgICAgICAgaG92ZXJDbGFzcyA9IHNldHRpbmdzLmhvdmVyQ2xhc3MgfHwgJ2hvdmVyJyxcbiAgICAgICAgZm9jdXNDbGFzcyA9IHNldHRpbmdzLmZvY3VzQ2xhc3MgfHwgJ2ZvY3VzJyxcbiAgICAgICAgYWN0aXZlQ2xhc3MgPSBzZXR0aW5ncy5hY3RpdmVDbGFzcyB8fCAnYWN0aXZlJyxcbiAgICAgICAgbGFiZWxIb3ZlciA9ICEhc2V0dGluZ3MubGFiZWxIb3ZlcixcbiAgICAgICAgbGFiZWxIb3ZlckNsYXNzID0gc2V0dGluZ3MubGFiZWxIb3ZlckNsYXNzIHx8ICdob3ZlcicsXG5cbiAgICAgICAgLy8gU2V0dXAgY2xpY2thYmxlIGFyZWFcbiAgICAgICAgYXJlYSA9ICgnJyArIHNldHRpbmdzLmluY3JlYXNlQXJlYSkucmVwbGFjZSgnJScsICcnKSB8IDA7XG5cbiAgICAgIC8vIFNlbGVjdG9yIGxpbWl0XG4gICAgICBpZiAoc2VsZWN0b3IgPT0gX2NoZWNrYm94IHx8IHNlbGVjdG9yID09IF9yYWRpbykge1xuICAgICAgICBoYW5kbGUgPSAnaW5wdXRbdHlwZT1cIicgKyBzZWxlY3RvciArICdcIl0nO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGlja2FibGUgYXJlYSBsaW1pdFxuICAgICAgaWYgKGFyZWEgPCAtNTApIHtcbiAgICAgICAgYXJlYSA9IC01MDtcbiAgICAgIH1cblxuICAgICAgLy8gV2FsayBhcm91bmQgdGhlIHNlbGVjdG9yXG4gICAgICB3YWxrZXIodGhpcyk7XG5cbiAgICAgIHJldHVybiBzdGFjay5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG5cbiAgICAgICAgLy8gSWYgYWxyZWFkeSBjdXN0b21pemVkXG4gICAgICAgIHRpZHkoc2VsZik7XG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLFxuICAgICAgICAgIGlkID0gbm9kZS5pZCxcblxuICAgICAgICAgIC8vIExheWVyIHN0eWxlc1xuICAgICAgICAgIG9mZnNldCA9IC1hcmVhICsgJyUnLFxuICAgICAgICAgIHNpemUgPSAxMDAgKyAoYXJlYSAqIDIpICsgJyUnLFxuICAgICAgICAgIGxheWVyID0ge1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB0b3A6IG9mZnNldCxcbiAgICAgICAgICAgIGxlZnQ6IG9mZnNldCxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgICAgICBib3JkZXI6IDAsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8vIENob29zZSBob3cgdG8gaGlkZSBpbnB1dFxuICAgICAgICAgIGhpZGUgPSBfbW9iaWxlID8ge1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICAgICAgICAgIH0gOiBhcmVhID8gbGF5ZXIgOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gR2V0IHByb3BlciBjbGFzc1xuICAgICAgICAgIGNsYXNzTmFtZSA9IG5vZGVbX3R5cGVdID09IF9jaGVja2JveCA/IHNldHRpbmdzLmNoZWNrYm94Q2xhc3MgfHwgJ2knICsgX2NoZWNrYm94IDogc2V0dGluZ3MucmFkaW9DbGFzcyB8fCAnaScgKyBfcmFkaW8sXG5cbiAgICAgICAgICAvLyBGaW5kIGFzc2lnbmVkIGxhYmVsc1xuICAgICAgICAgIGxhYmVsID0gJChfbGFiZWwgKyAnW2Zvcj1cIicgKyBpZCArICdcIl0nKS5hZGQoc2VsZi5jbG9zZXN0KF9sYWJlbCkpLFxuXG4gICAgICAgICAgLy8gQ2hlY2sgQVJJQSBvcHRpb25cbiAgICAgICAgICBhcmlhID0gISFzZXR0aW5ncy5hcmlhLFxuXG4gICAgICAgICAgLy8gU2V0IEFSSUEgcGxhY2Vob2xkZXJcbiAgICAgICAgICBhcmlhSUQgPSBfaUNoZWNrICsgJy0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsNiksXG5cbiAgICAgICAgICAvLyBQYXJlbnQgJiBoZWxwZXJcbiAgICAgICAgICBwYXJlbnQgPSAnPGRpdiBjbGFzcz1cIicgKyBjbGFzc05hbWUgKyAnXCIgJyArIChhcmlhID8gJ3JvbGU9XCInICsgbm9kZVtfdHlwZV0gKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgICBoZWxwZXI7XG5cbiAgICAgICAgLy8gU2V0IEFSSUEgXCJsYWJlbGxlZGJ5XCJcbiAgICAgICAgaWYgKGFyaWEpIHtcbiAgICAgICAgICBsYWJlbC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGFyZW50ICs9ICdhcmlhLWxhYmVsbGVkYnk9XCInO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICAgICAgICBwYXJlbnQgKz0gdGhpcy5pZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaWQgPSBhcmlhSUQ7XG4gICAgICAgICAgICAgIHBhcmVudCArPSBhcmlhSUQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmVudCArPSAnXCInO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV3JhcCBpbnB1dFxuICAgICAgICBwYXJlbnQgPSBzZWxmLndyYXAocGFyZW50ICsgJy8+JylbX2NhbGxiYWNrXSgnaWZDcmVhdGVkJykucGFyZW50KCkuYXBwZW5kKHNldHRpbmdzLmluc2VydCk7XG5cbiAgICAgICAgLy8gTGF5ZXIgYWRkaXRpb25cbiAgICAgICAgaGVscGVyID0gJCgnPGlucyBjbGFzcz1cIicgKyBfaUNoZWNrSGVscGVyICsgJ1wiLz4nKS5jc3MobGF5ZXIpLmFwcGVuZFRvKHBhcmVudCk7XG5cbiAgICAgICAgLy8gRmluYWxpemUgY3VzdG9taXphdGlvblxuICAgICAgICBzZWxmLmRhdGEoX2lDaGVjaywge286IHNldHRpbmdzLCBzOiBzZWxmLmF0dHIoJ3N0eWxlJyl9KS5jc3MoaGlkZSk7XG4gICAgICAgICEhc2V0dGluZ3MuaW5oZXJpdENsYXNzICYmIHBhcmVudFtfYWRkXShub2RlLmNsYXNzTmFtZSB8fCAnJyk7XG4gICAgICAgICEhc2V0dGluZ3MuaW5oZXJpdElEICYmIGlkICYmIHBhcmVudC5hdHRyKCdpZCcsIF9pQ2hlY2sgKyAnLScgKyBpZCk7XG4gICAgICAgIHBhcmVudC5jc3MoJ3Bvc2l0aW9uJykgPT0gJ3N0YXRpYycgJiYgcGFyZW50LmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKTtcbiAgICAgICAgb3BlcmF0ZShzZWxmLCB0cnVlLCBfdXBkYXRlKTtcblxuICAgICAgICAvLyBMYWJlbCBldmVudHNcbiAgICAgICAgaWYgKGxhYmVsLmxlbmd0aCkge1xuICAgICAgICAgIGxhYmVsLm9uKF9jbGljayArICcuaSBtb3VzZW92ZXIuaSBtb3VzZW91dC5pICcgKyBfdG91Y2gsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGV2ZW50W190eXBlXSxcbiAgICAgICAgICAgICAgaXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgaW5wdXQgaXMgZGlzYWJsZWRcbiAgICAgICAgICAgIGlmICghbm9kZVtfZGlzYWJsZWRdKSB7XG5cbiAgICAgICAgICAgICAgLy8gQ2xpY2tcbiAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gX2NsaWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcygnYScpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wZXJhdGUoc2VsZiwgZmFsc2UsIHRydWUpO1xuXG4gICAgICAgICAgICAgIC8vIEhvdmVyIHN0YXRlXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWxIb3Zlcikge1xuXG4gICAgICAgICAgICAgICAgLy8gbW91c2VvdXR8dG91Y2hlbmRcbiAgICAgICAgICAgICAgICBpZiAoL3V0fG5kLy50ZXN0KHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICBwYXJlbnRbX3JlbW92ZV0oaG92ZXJDbGFzcyk7XG4gICAgICAgICAgICAgICAgICBpdGVtW19yZW1vdmVdKGxhYmVsSG92ZXJDbGFzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBhcmVudFtfYWRkXShob3ZlckNsYXNzKTtcbiAgICAgICAgICAgICAgICAgIGl0ZW1bX2FkZF0obGFiZWxIb3ZlckNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoX21vYmlsZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5wdXQgZXZlbnRzXG4gICAgICAgIHNlbGYub24oX2NsaWNrICsgJy5pIGZvY3VzLmkgYmx1ci5pIGtleXVwLmkga2V5ZG93bi5pIGtleXByZXNzLmknLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHZhciB0eXBlID0gZXZlbnRbX3R5cGVdLFxuICAgICAgICAgICAga2V5ID0gZXZlbnQua2V5Q29kZTtcblxuICAgICAgICAgIC8vIENsaWNrXG4gICAgICAgICAgaWYgKHR5cGUgPT0gX2NsaWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAvLyBLZXlkb3duXG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdrZXlkb3duJyAmJiBrZXkgPT0gMzIpIHtcbiAgICAgICAgICAgIGlmICghKG5vZGVbX3R5cGVdID09IF9yYWRpbyAmJiBub2RlW19jaGVja2VkXSkpIHtcbiAgICAgICAgICAgICAgaWYgKG5vZGVbX2NoZWNrZWRdKSB7XG4gICAgICAgICAgICAgICAgb2ZmKHNlbGYsIF9jaGVja2VkKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvbihzZWxmLCBfY2hlY2tlZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgLy8gS2V5dXBcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2tleXVwJyAmJiBub2RlW190eXBlXSA9PSBfcmFkaW8pIHtcbiAgICAgICAgICAgICFub2RlW19jaGVja2VkXSAmJiBvbihzZWxmLCBfY2hlY2tlZCk7XG5cbiAgICAgICAgICAvLyBGb2N1cy9ibHVyXG4gICAgICAgICAgfSBlbHNlIGlmICgvdXN8dXIvLnRlc3QodHlwZSkpIHtcbiAgICAgICAgICAgIHBhcmVudFt0eXBlID09ICdibHVyJyA/IF9yZW1vdmUgOiBfYWRkXShmb2N1c0NsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhlbHBlciBldmVudHNcbiAgICAgICAgaGVscGVyLm9uKF9jbGljayArICcgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0ICcgKyBfdG91Y2gsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBldmVudFtfdHlwZV0sXG5cbiAgICAgICAgICAgIC8vIG1vdXNlZG93bnxtb3VzZXVwXG4gICAgICAgICAgICB0b2dnbGUgPSAvd258dXAvLnRlc3QodHlwZSkgPyBhY3RpdmVDbGFzcyA6IGhvdmVyQ2xhc3M7XG5cbiAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGlucHV0IGlzIGRpc2FibGVkXG4gICAgICAgICAgaWYgKCFub2RlW19kaXNhYmxlZF0pIHtcblxuICAgICAgICAgICAgLy8gQ2xpY2tcbiAgICAgICAgICAgIGlmICh0eXBlID09IF9jbGljaykge1xuICAgICAgICAgICAgICBvcGVyYXRlKHNlbGYsIGZhbHNlLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gQWN0aXZlIGFuZCBob3ZlciBzdGF0ZXNcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgLy8gU3RhdGUgaXMgb25cbiAgICAgICAgICAgICAgaWYgKC93bnxlcnxpbi8udGVzdCh0eXBlKSkge1xuXG4gICAgICAgICAgICAgICAgLy8gbW91c2Vkb3dufG1vdXNlb3Zlcnx0b3VjaGJlZ2luXG4gICAgICAgICAgICAgICAgcGFyZW50W19hZGRdKHRvZ2dsZSk7XG5cbiAgICAgICAgICAgICAgLy8gU3RhdGUgaXMgb2ZmXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50W19yZW1vdmVdKHRvZ2dsZSArICcgJyArIGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIExhYmVsIGhvdmVyXG4gICAgICAgICAgICAgIGlmIChsYWJlbC5sZW5ndGggJiYgbGFiZWxIb3ZlciAmJiB0b2dnbGUgPT0gaG92ZXJDbGFzcykge1xuXG4gICAgICAgICAgICAgICAgLy8gbW91c2VvdXR8dG91Y2hlbmRcbiAgICAgICAgICAgICAgICBsYWJlbFsvdXR8bmQvLnRlc3QodHlwZSkgPyBfcmVtb3ZlIDogX2FkZF0obGFiZWxIb3ZlckNsYXNzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX21vYmlsZSkge1xuICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICAvLyBEbyBzb21ldGhpbmcgd2l0aCBpbnB1dHNcbiAgZnVuY3Rpb24gb3BlcmF0ZShpbnB1dCwgZGlyZWN0LCBtZXRob2QpIHtcbiAgICB2YXIgbm9kZSA9IGlucHV0WzBdLFxuICAgICAgc3RhdGUgPSAvZXIvLnRlc3QobWV0aG9kKSA/IF9pbmRldGVybWluYXRlIDogL2JsLy50ZXN0KG1ldGhvZCkgPyBfZGlzYWJsZWQgOiBfY2hlY2tlZCxcbiAgICAgIGFjdGl2ZSA9IG1ldGhvZCA9PSBfdXBkYXRlID8ge1xuICAgICAgICBjaGVja2VkOiBub2RlW19jaGVja2VkXSxcbiAgICAgICAgZGlzYWJsZWQ6IG5vZGVbX2Rpc2FibGVkXSxcbiAgICAgICAgaW5kZXRlcm1pbmF0ZTogaW5wdXQuYXR0cihfaW5kZXRlcm1pbmF0ZSkgPT0gJ3RydWUnIHx8IGlucHV0LmF0dHIoX2RldGVybWluYXRlKSA9PSAnZmFsc2UnXG4gICAgICB9IDogbm9kZVtzdGF0ZV07XG5cbiAgICAvLyBDaGVjaywgZGlzYWJsZSBvciBpbmRldGVybWluYXRlXG4gICAgaWYgKC9eKGNofGRpfGluKS8udGVzdChtZXRob2QpICYmICFhY3RpdmUpIHtcbiAgICAgIG9uKGlucHV0LCBzdGF0ZSk7XG5cbiAgICAvLyBVbmNoZWNrLCBlbmFibGUgb3IgZGV0ZXJtaW5hdGVcbiAgICB9IGVsc2UgaWYgKC9eKHVufGVufGRlKS8udGVzdChtZXRob2QpICYmIGFjdGl2ZSkge1xuICAgICAgb2ZmKGlucHV0LCBzdGF0ZSk7XG5cbiAgICAvLyBVcGRhdGVcbiAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PSBfdXBkYXRlKSB7XG5cbiAgICAgIC8vIEhhbmRsZSBzdGF0ZXNcbiAgICAgIGZvciAodmFyIGVhY2ggaW4gYWN0aXZlKSB7XG4gICAgICAgIGlmIChhY3RpdmVbZWFjaF0pIHtcbiAgICAgICAgICBvbihpbnB1dCwgZWFjaCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2ZmKGlucHV0LCBlYWNoLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICghZGlyZWN0IHx8IG1ldGhvZCA9PSAndG9nZ2xlJykge1xuXG4gICAgICAvLyBIZWxwZXIgb3IgbGFiZWwgd2FzIGNsaWNrZWRcbiAgICAgIGlmICghZGlyZWN0KSB7XG4gICAgICAgIGlucHV0W19jYWxsYmFja10oJ2lmQ2xpY2tlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBUb2dnbGUgY2hlY2tlZCBzdGF0ZVxuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBpZiAobm9kZVtfdHlwZV0gIT09IF9yYWRpbykge1xuICAgICAgICAgIG9mZihpbnB1dCwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbihpbnB1dCwgc3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBjaGVja2VkLCBkaXNhYmxlZCBvciBpbmRldGVybWluYXRlIHN0YXRlXG4gIGZ1bmN0aW9uIG9uKGlucHV0LCBzdGF0ZSwga2VlcCkge1xuICAgIHZhciBub2RlID0gaW5wdXRbMF0sXG4gICAgICBwYXJlbnQgPSBpbnB1dC5wYXJlbnQoKSxcbiAgICAgIGNoZWNrZWQgPSBzdGF0ZSA9PSBfY2hlY2tlZCxcbiAgICAgIGluZGV0ZXJtaW5hdGUgPSBzdGF0ZSA9PSBfaW5kZXRlcm1pbmF0ZSxcbiAgICAgIGRpc2FibGVkID0gc3RhdGUgPT0gX2Rpc2FibGVkLFxuICAgICAgY2FsbGJhY2sgPSBpbmRldGVybWluYXRlID8gX2RldGVybWluYXRlIDogY2hlY2tlZCA/IF91bmNoZWNrZWQgOiAnZW5hYmxlZCcsXG4gICAgICByZWd1bGFyID0gb3B0aW9uKGlucHV0LCBjYWxsYmFjayArIGNhcGl0YWxpemUobm9kZVtfdHlwZV0pKSxcbiAgICAgIHNwZWNpZmljID0gb3B0aW9uKGlucHV0LCBzdGF0ZSArIGNhcGl0YWxpemUobm9kZVtfdHlwZV0pKTtcblxuICAgIC8vIFByZXZlbnQgdW5uZWNlc3NhcnkgYWN0aW9uc1xuICAgIGlmIChub2RlW3N0YXRlXSAhPT0gdHJ1ZSkge1xuXG4gICAgICAvLyBUb2dnbGUgYXNzaWduZWQgcmFkaW8gYnV0dG9uc1xuICAgICAgaWYgKCFrZWVwICYmIHN0YXRlID09IF9jaGVja2VkICYmIG5vZGVbX3R5cGVdID09IF9yYWRpbyAmJiBub2RlLm5hbWUpIHtcbiAgICAgICAgdmFyIGZvcm0gPSBpbnB1dC5jbG9zZXN0KCdmb3JtJyksXG4gICAgICAgICAgaW5wdXRzID0gJ2lucHV0W25hbWU9XCInICsgbm9kZS5uYW1lICsgJ1wiXSc7XG5cbiAgICAgICAgaW5wdXRzID0gZm9ybS5sZW5ndGggPyBmb3JtLmZpbmQoaW5wdXRzKSA6ICQoaW5wdXRzKTtcblxuICAgICAgICBpbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcyAhPT0gbm9kZSAmJiAkKHRoaXMpLmRhdGEoX2lDaGVjaykpIHtcbiAgICAgICAgICAgIG9mZigkKHRoaXMpLCBzdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5kZXRlcm1pbmF0ZSBzdGF0ZVxuICAgICAgaWYgKGluZGV0ZXJtaW5hdGUpIHtcblxuICAgICAgICAvLyBBZGQgaW5kZXRlcm1pbmF0ZSBzdGF0ZVxuICAgICAgICBub2RlW3N0YXRlXSA9IHRydWU7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgaWYgKG5vZGVbX2NoZWNrZWRdKSB7XG4gICAgICAgICAgb2ZmKGlucHV0LCBfY2hlY2tlZCwgJ2ZvcmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgLy8gQ2hlY2tlZCBvciBkaXNhYmxlZCBzdGF0ZVxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBBZGQgY2hlY2tlZCBvciBkaXNhYmxlZCBzdGF0ZVxuICAgICAgICBpZiAoIWtlZXApIHtcbiAgICAgICAgICBub2RlW3N0YXRlXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgaW5kZXRlcm1pbmF0ZSBzdGF0ZVxuICAgICAgICBpZiAoY2hlY2tlZCAmJiBub2RlW19pbmRldGVybWluYXRlXSkge1xuICAgICAgICAgIG9mZihpbnB1dCwgX2luZGV0ZXJtaW5hdGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUcmlnZ2VyIGNhbGxiYWNrc1xuICAgICAgY2FsbGJhY2tzKGlucHV0LCBjaGVja2VkLCBzdGF0ZSwga2VlcCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHByb3BlciBjdXJzb3JcbiAgICBpZiAobm9kZVtfZGlzYWJsZWRdICYmICEhb3B0aW9uKGlucHV0LCBfY3Vyc29yLCB0cnVlKSkge1xuICAgICAgcGFyZW50LmZpbmQoJy4nICsgX2lDaGVja0hlbHBlcikuY3NzKF9jdXJzb3IsICdkZWZhdWx0Jyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHN0YXRlIGNsYXNzXG4gICAgcGFyZW50W19hZGRdKHNwZWNpZmljIHx8IG9wdGlvbihpbnB1dCwgc3RhdGUpIHx8ICcnKTtcblxuICAgIC8vIFNldCBBUklBIGF0dHJpYnV0ZVxuICAgIGlmICghIXBhcmVudC5hdHRyKCdyb2xlJykgJiYgIWluZGV0ZXJtaW5hdGUpIHtcbiAgICAgIHBhcmVudC5hdHRyKCdhcmlhLScgKyAoZGlzYWJsZWQgPyBfZGlzYWJsZWQgOiBfY2hlY2tlZCksICd0cnVlJyk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHJlZ3VsYXIgc3RhdGUgY2xhc3NcbiAgICBwYXJlbnRbX3JlbW92ZV0ocmVndWxhciB8fCBvcHRpb24oaW5wdXQsIGNhbGxiYWNrKSB8fCAnJyk7XG4gIH1cblxuICAvLyBSZW1vdmUgY2hlY2tlZCwgZGlzYWJsZWQgb3IgaW5kZXRlcm1pbmF0ZSBzdGF0ZVxuICBmdW5jdGlvbiBvZmYoaW5wdXQsIHN0YXRlLCBrZWVwKSB7XG4gICAgdmFyIG5vZGUgPSBpbnB1dFswXSxcbiAgICAgIHBhcmVudCA9IGlucHV0LnBhcmVudCgpLFxuICAgICAgY2hlY2tlZCA9IHN0YXRlID09IF9jaGVja2VkLFxuICAgICAgaW5kZXRlcm1pbmF0ZSA9IHN0YXRlID09IF9pbmRldGVybWluYXRlLFxuICAgICAgZGlzYWJsZWQgPSBzdGF0ZSA9PSBfZGlzYWJsZWQsXG4gICAgICBjYWxsYmFjayA9IGluZGV0ZXJtaW5hdGUgPyBfZGV0ZXJtaW5hdGUgOiBjaGVja2VkID8gX3VuY2hlY2tlZCA6ICdlbmFibGVkJyxcbiAgICAgIHJlZ3VsYXIgPSBvcHRpb24oaW5wdXQsIGNhbGxiYWNrICsgY2FwaXRhbGl6ZShub2RlW190eXBlXSkpLFxuICAgICAgc3BlY2lmaWMgPSBvcHRpb24oaW5wdXQsIHN0YXRlICsgY2FwaXRhbGl6ZShub2RlW190eXBlXSkpO1xuXG4gICAgLy8gUHJldmVudCB1bm5lY2Vzc2FyeSBhY3Rpb25zXG4gICAgaWYgKG5vZGVbc3RhdGVdICE9PSBmYWxzZSkge1xuXG4gICAgICAvLyBUb2dnbGUgc3RhdGVcbiAgICAgIGlmIChpbmRldGVybWluYXRlIHx8ICFrZWVwIHx8IGtlZXAgPT0gJ2ZvcmNlJykge1xuICAgICAgICBub2RlW3N0YXRlXSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBUcmlnZ2VyIGNhbGxiYWNrc1xuICAgICAgY2FsbGJhY2tzKGlucHV0LCBjaGVja2VkLCBjYWxsYmFjaywga2VlcCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHByb3BlciBjdXJzb3JcbiAgICBpZiAoIW5vZGVbX2Rpc2FibGVkXSAmJiAhIW9wdGlvbihpbnB1dCwgX2N1cnNvciwgdHJ1ZSkpIHtcbiAgICAgIHBhcmVudC5maW5kKCcuJyArIF9pQ2hlY2tIZWxwZXIpLmNzcyhfY3Vyc29yLCAncG9pbnRlcicpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBzdGF0ZSBjbGFzc1xuICAgIHBhcmVudFtfcmVtb3ZlXShzcGVjaWZpYyB8fCBvcHRpb24oaW5wdXQsIHN0YXRlKSB8fCAnJyk7XG5cbiAgICAvLyBTZXQgQVJJQSBhdHRyaWJ1dGVcbiAgICBpZiAoISFwYXJlbnQuYXR0cigncm9sZScpICYmICFpbmRldGVybWluYXRlKSB7XG4gICAgICBwYXJlbnQuYXR0cignYXJpYS0nICsgKGRpc2FibGVkID8gX2Rpc2FibGVkIDogX2NoZWNrZWQpLCAnZmFsc2UnKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVndWxhciBzdGF0ZSBjbGFzc1xuICAgIHBhcmVudFtfYWRkXShyZWd1bGFyIHx8IG9wdGlvbihpbnB1dCwgY2FsbGJhY2spIHx8ICcnKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBhbGwgdHJhY2VzXG4gIGZ1bmN0aW9uIHRpZHkoaW5wdXQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGlucHV0LmRhdGEoX2lDaGVjaykpIHtcblxuICAgICAgLy8gUmVtb3ZlIGV2ZXJ5dGhpbmcgZXhjZXB0IGlucHV0XG4gICAgICBpbnB1dC5wYXJlbnQoKS5odG1sKGlucHV0LmF0dHIoJ3N0eWxlJywgaW5wdXQuZGF0YShfaUNoZWNrKS5zIHx8ICcnKSk7XG5cbiAgICAgIC8vIENhbGxiYWNrXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgaW5wdXRbX2NhbGxiYWNrXShjYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVuYmluZCBldmVudHNcbiAgICAgIGlucHV0Lm9mZignLmknKS51bndyYXAoKTtcbiAgICAgICQoX2xhYmVsICsgJ1tmb3I9XCInICsgaW5wdXRbMF0uaWQgKyAnXCJdJykuYWRkKGlucHV0LmNsb3Nlc3QoX2xhYmVsKSkub2ZmKCcuaScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBzb21lIG9wdGlvblxuICBmdW5jdGlvbiBvcHRpb24oaW5wdXQsIHN0YXRlLCByZWd1bGFyKSB7XG4gICAgaWYgKGlucHV0LmRhdGEoX2lDaGVjaykpIHtcbiAgICAgIHJldHVybiBpbnB1dC5kYXRhKF9pQ2hlY2spLm9bc3RhdGUgKyAocmVndWxhciA/ICcnIDogJ0NsYXNzJyldO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhcGl0YWxpemUgc29tZSBzdHJpbmdcbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICB9XG5cbiAgLy8gRXhlY3V0YWJsZSBoYW5kbGVyc1xuICBmdW5jdGlvbiBjYWxsYmFja3MoaW5wdXQsIGNoZWNrZWQsIGNhbGxiYWNrLCBrZWVwKSB7XG4gICAgaWYgKCFrZWVwKSB7XG4gICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICBpbnB1dFtfY2FsbGJhY2tdKCdpZlRvZ2dsZWQnKTtcbiAgICAgIH1cblxuICAgICAgaW5wdXRbX2NhbGxiYWNrXSgnaWZDaGFuZ2VkJylbX2NhbGxiYWNrXSgnaWYnICsgY2FwaXRhbGl6ZShjYWxsYmFjaykpO1xuICAgIH1cbiAgfVxufSkod2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pO1xuIiwiLyohIGJvb3RzdHJhcC1wcm9ncmVzc2JhciB2MC45LjAgfCBDb3B5cmlnaHQgKGMpIDIwMTItMjAxNSBTdGVwaGFuIEdyb8OfIHwgTUlUIGxpY2Vuc2UgfCBodHRwOi8vd3d3Lm1pbmRkdXN0LmNvbSAqL1xuIWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKG4scyl7dGhpcy4kZWxlbWVudD10KG4pLHRoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxlLmRlZmF1bHRzLHMpfTtlLmRlZmF1bHRzPXt0cmFuc2l0aW9uX2RlbGF5OjMwMCxyZWZyZXNoX3NwZWVkOjUwLGRpc3BsYXlfdGV4dDpcIm5vbmVcIix1c2VfcGVyY2VudGFnZTohMCxwZXJjZW50X2Zvcm1hdDpmdW5jdGlvbih0KXtyZXR1cm4gdCtcIiVcIn0sYW1vdW50X2Zvcm1hdDpmdW5jdGlvbih0LGUpe3JldHVybiB0K1wiIC8gXCIrZX0sdXBkYXRlOnQubm9vcCxkb25lOnQubm9vcCxmYWlsOnQubm9vcH0sZS5wcm90b3R5cGUudHJhbnNpdGlvbj1mdW5jdGlvbigpe3ZhciBuPXRoaXMuJGVsZW1lbnQscz1uLnBhcmVudCgpLGE9dGhpcy4kYmFja190ZXh0LHI9dGhpcy4kZnJvbnRfdGV4dCxpPXRoaXMub3B0aW9ucyxvPXBhcnNlSW50KG4uYXR0cihcImRhdGEtdHJhbnNpdGlvbmdvYWxcIikpLGg9cGFyc2VJbnQobi5hdHRyKFwiYXJpYS12YWx1ZW1pblwiKSl8fDAsZD1wYXJzZUludChuLmF0dHIoXCJhcmlhLXZhbHVlbWF4XCIpKXx8MTAwLGY9cy5oYXNDbGFzcyhcInZlcnRpY2FsXCIpLHA9aS51cGRhdGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkudXBkYXRlP2kudXBkYXRlOmUuZGVmYXVsdHMudXBkYXRlLHU9aS5kb25lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmRvbmU/aS5kb25lOmUuZGVmYXVsdHMuZG9uZSxjPWkuZmFpbCYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5mYWlsP2kuZmFpbDplLmRlZmF1bHRzLmZhaWw7aWYoaXNOYU4obykpcmV0dXJuIHZvaWQgYyhcImRhdGEtdHJhbnNpdGlvbmdvYWwgbm90IHNldFwiKTt2YXIgbD1NYXRoLnJvdW5kKDEwMCooby1oKS8oZC1oKSk7aWYoXCJjZW50ZXJcIj09PWkuZGlzcGxheV90ZXh0JiYhYSYmIXIpe3RoaXMuJGJhY2tfdGV4dD1hPXQoXCI8c3Bhbj5cIikuYWRkQ2xhc3MoXCJwcm9ncmVzc2Jhci1iYWNrLXRleHRcIikucHJlcGVuZFRvKHMpLHRoaXMuJGZyb250X3RleHQ9cj10KFwiPHNwYW4+XCIpLmFkZENsYXNzKFwicHJvZ3Jlc3NiYXItZnJvbnQtdGV4dFwiKS5wcmVwZW5kVG8obik7dmFyIGc7Zj8oZz1zLmNzcyhcImhlaWdodFwiKSxhLmNzcyh7aGVpZ2h0OmcsXCJsaW5lLWhlaWdodFwiOmd9KSxyLmNzcyh7aGVpZ2h0OmcsXCJsaW5lLWhlaWdodFwiOmd9KSx0KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7Zz1zLmNzcyhcImhlaWdodFwiKSxhLmNzcyh7aGVpZ2h0OmcsXCJsaW5lLWhlaWdodFwiOmd9KSxyLmNzcyh7aGVpZ2h0OmcsXCJsaW5lLWhlaWdodFwiOmd9KX0pKTooZz1zLmNzcyhcIndpZHRoXCIpLHIuY3NzKHt3aWR0aDpnfSksdCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe2c9cy5jc3MoXCJ3aWR0aFwiKSxyLmNzcyh7d2lkdGg6Z30pfSkpfXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxlLGMsZyxfO2Y/bi5jc3MoXCJoZWlnaHRcIixsK1wiJVwiKTpuLmNzcyhcIndpZHRoXCIsbCtcIiVcIik7dmFyIHg9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtmPyhjPW4uaGVpZ2h0KCksZz1zLmhlaWdodCgpKTooYz1uLndpZHRoKCksZz1zLndpZHRoKCkpLHQ9TWF0aC5yb3VuZCgxMDAqYy9nKSxlPU1hdGgucm91bmQoaCtjL2cqKGQtaCkpLHQ+PWwmJih0PWwsZT1vLHUobiksY2xlYXJJbnRlcnZhbCh4KSksXCJub25lXCIhPT1pLmRpc3BsYXlfdGV4dCYmKF89aS51c2VfcGVyY2VudGFnZT9pLnBlcmNlbnRfZm9ybWF0KHQpOmkuYW1vdW50X2Zvcm1hdChlLGQsaCksXCJmaWxsXCI9PT1pLmRpc3BsYXlfdGV4dD9uLnRleHQoXyk6XCJjZW50ZXJcIj09PWkuZGlzcGxheV90ZXh0JiYoYS50ZXh0KF8pLHIudGV4dChfKSkpLG4uYXR0cihcImFyaWEtdmFsdWVub3dcIixlKSxwKHQsbil9LGkucmVmcmVzaF9zcGVlZCl9LGkudHJhbnNpdGlvbl9kZWxheSl9O3ZhciBuPXQuZm4ucHJvZ3Jlc3NiYXI7dC5mbi5wcm9ncmVzc2Jhcj1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHM9dCh0aGlzKSxhPXMuZGF0YShcImJzLnByb2dyZXNzYmFyXCIpLHI9XCJvYmplY3RcIj09dHlwZW9mIG4mJm47YSYmciYmdC5leHRlbmQoYS5vcHRpb25zLHIpLGF8fHMuZGF0YShcImJzLnByb2dyZXNzYmFyXCIsYT1uZXcgZSh0aGlzLHIpKSxhLnRyYW5zaXRpb24oKX0pfSx0LmZuLnByb2dyZXNzYmFyLkNvbnN0cnVjdG9yPWUsdC5mbi5wcm9ncmVzc2Jhci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZm4ucHJvZ3Jlc3NiYXI9bix0aGlzfX0od2luZG93LmpRdWVyeSk7IiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5lY2hhcnRzPWUoKTp0LmVjaGFydHM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7aWYoaVtuXSlyZXR1cm4gaVtuXS5leHBvcnRzO3ZhciBvPWlbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiB0W25dLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGUpLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgaT17fTtyZXR1cm4gZS5tPXQsZS5jPWksZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSgyKSxpKDg1KSxpKDc5KSxpKDkwKSxpKDE2NSksaSgyODMpLGkoMjcyKSxpKDI5MyksaSgyNDgpLGkoMjQ0KSxpKDI0MCksaSgyNzkpLGkoMjg4KSxpKDIyNiksaSgyMzEpLGkoMjM3KSxpKDI2OCksaSgyNjEpLGkoMzYpLGkoMTc4KSxpKDE5OCksaSgzMDgpLGkoMzA1KSxpKDIxNCksaSgxODkpLGkoMTY4KSxpKDMyMSksaSgxODQpLGkoMTgzKSxpKDMxMiksaSgxOTApLGkoMjA2KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10KXt2YXIgZT10O2lmKHQgaW5zdGFuY2VvZiBBcnJheSl7ZT1bXTtmb3IodmFyIGk9MCxvPXQubGVuZ3RoO28+aTtpKyspZVtpXT1uKHRbaV0pfWVsc2UgaWYoIUEodCkmJiFJKHQpKXtlPXt9O2Zvcih2YXIgYSBpbiB0KXQuaGFzT3duUHJvcGVydHkoYSkmJihlW2FdPW4odFthXSkpfXJldHVybiBlfXJldHVybiB0fWZ1bmN0aW9uIG8odCxlLGkpe2lmKCFNKGUpfHwhTSh0KSlyZXR1cm4gaT9uKGUpOnQ7Zm9yKHZhciBhIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHI9dFthXSxzPWVbYV07IU0ocyl8fCFNKHIpfHxiKHMpfHxiKHIpfHxJKHMpfHxJKHIpfHxBKHMpfHxBKHIpPyFpJiZhIGluIHR8fCh0W2FdPW4oZVthXSwhMCkpOm8ocixzLGkpfXJldHVybiB0fWZ1bmN0aW9uIGEodCxlKXtmb3IodmFyIGk9dFswXSxuPTEsYT10Lmxlbmd0aDthPm47bisrKWk9byhpLHRbbl0sZSk7cmV0dXJuIGl9ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pO3JldHVybiB0fWZ1bmN0aW9uIHModCxlLGkpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihpP251bGwhPWVbbl06bnVsbD09dFtuXSkmJih0W25dPWVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIGwoKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKX1mdW5jdGlvbiBoKCl7cmV0dXJuIER8fChEPUcuY3JlYXRlQ2FudmFzKCkuZ2V0Q29udGV4dChcIjJkXCIpKSxEfWZ1bmN0aW9uIHUodCxlKXtpZih0KXtpZih0LmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIGk9MCxuPXQubGVuZ3RoO24+aTtpKyspaWYodFtpXT09PWUpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gYyh0LGUpe2Z1bmN0aW9uIGkoKXt9dmFyIG49dC5wcm90b3R5cGU7aS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGk7Zm9yKHZhciBvIGluIG4pdC5wcm90b3R5cGVbb109bltvXTt0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuc3VwZXJDbGFzcz1lfWZ1bmN0aW9uIGQodCxlLGkpe3Q9XCJwcm90b3R5cGVcImluIHQ/dC5wcm90b3R5cGU6dCxlPVwicHJvdG90eXBlXCJpbiBlP2UucHJvdG90eXBlOmUscyh0LGUsaSl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gdD9cInN0cmluZ1wiPT10eXBlb2YgdD8hMTpcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGg6dm9pZCAwfWZ1bmN0aW9uIHAodCxlLGkpe2lmKHQmJmUpaWYodC5mb3JFYWNoJiZ0LmZvckVhY2g9PT1PKXQuZm9yRWFjaChlLGkpO2Vsc2UgaWYodC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBuPTAsbz10Lmxlbmd0aDtvPm47bisrKWUuY2FsbChpLHRbbl0sbix0KTtlbHNlIGZvcih2YXIgYSBpbiB0KXQuaGFzT3duUHJvcGVydHkoYSkmJmUuY2FsbChpLHRbYV0sYSx0KX1mdW5jdGlvbiBnKHQsZSxpKXtpZih0JiZlKXtpZih0Lm1hcCYmdC5tYXA9PT1OKXJldHVybiB0Lm1hcChlLGkpO2Zvcih2YXIgbj1bXSxvPTAsYT10Lmxlbmd0aDthPm87bysrKW4ucHVzaChlLmNhbGwoaSx0W29dLG8sdCkpO3JldHVybiBufX1mdW5jdGlvbiBtKHQsZSxpLG4pe2lmKHQmJmUpe2lmKHQucmVkdWNlJiZ0LnJlZHVjZT09PUIpcmV0dXJuIHQucmVkdWNlKGUsaSxuKTtmb3IodmFyIG89MCxhPXQubGVuZ3RoO2E+bztvKyspaT1lLmNhbGwobixpLHRbb10sbyx0KTtyZXR1cm4gaX19ZnVuY3Rpb24gdih0LGUsaSl7aWYodCYmZSl7aWYodC5maWx0ZXImJnQuZmlsdGVyPT09UilyZXR1cm4gdC5maWx0ZXIoZSxpKTtmb3IodmFyIG49W10sbz0wLGE9dC5sZW5ndGg7YT5vO28rKyllLmNhbGwoaSx0W29dLG8sdCkmJm4ucHVzaCh0W29dKTtyZXR1cm4gbn19ZnVuY3Rpb24geSh0LGUsaSl7aWYodCYmZSlmb3IodmFyIG49MCxvPXQubGVuZ3RoO28+bjtuKyspaWYoZS5jYWxsKGksdFtuXSxuLHQpKXJldHVybiB0W25dfWZ1bmN0aW9uIHgodCxlKXt2YXIgaT1WLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsaS5jb25jYXQoVi5jYWxsKGFyZ3VtZW50cykpKX19ZnVuY3Rpb24gXyh0KXt2YXIgZT1WLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsZS5jb25jYXQoVi5jYWxsKGFyZ3VtZW50cykpKX19ZnVuY3Rpb24gYih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT16LmNhbGwodCl9ZnVuY3Rpb24gdyh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIFModCl7cmV0dXJuXCJbb2JqZWN0IFN0cmluZ11cIj09PXouY2FsbCh0KX1mdW5jdGlvbiBNKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwiZnVuY3Rpb25cIj09PWV8fCEhdCYmXCJvYmplY3RcIj09ZX1mdW5jdGlvbiBBKHQpe3JldHVybiEha1t6LmNhbGwodCldfHx0IGluc3RhbmNlb2YgUH1mdW5jdGlvbiBJKHQpe3JldHVybiB0JiYxPT09dC5ub2RlVHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubm9kZU5hbWV9ZnVuY3Rpb24gVCh0KXtmb3IodmFyIGU9MCxpPWFyZ3VtZW50cy5sZW5ndGg7aT5lO2UrKylpZihudWxsIT1hcmd1bWVudHNbZV0pcmV0dXJuIGFyZ3VtZW50c1tlXX1mdW5jdGlvbiBMKCl7cmV0dXJuIEZ1bmN0aW9uLmNhbGwuYXBwbHkoVixhcmd1bWVudHMpfWZ1bmN0aW9uIEModCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZSl9dmFyIEQsUD1pKDE3KSxrPXtcIltvYmplY3QgRnVuY3Rpb25dXCI6MSxcIltvYmplY3QgUmVnRXhwXVwiOjEsXCJbb2JqZWN0IERhdGVdXCI6MSxcIltvYmplY3QgRXJyb3JdXCI6MSxcIltvYmplY3QgQ2FudmFzR3JhZGllbnRdXCI6MX0sej1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEU9QXJyYXkucHJvdG90eXBlLE89RS5mb3JFYWNoLFI9RS5maWx0ZXIsVj1FLnNsaWNlLE49RS5tYXAsQj1FLnJlZHVjZSxHPXtpbmhlcml0czpjLG1peGluOmQsY2xvbmU6bixtZXJnZTpvLG1lcmdlQWxsOmEsZXh0ZW5kOnIsZGVmYXVsdHM6cyxnZXRDb250ZXh0OmgsY3JlYXRlQ2FudmFzOmwsaW5kZXhPZjp1LHNsaWNlOkwsZmluZDp5LGlzQXJyYXlMaWtlOmYsZWFjaDpwLG1hcDpnLHJlZHVjZTptLGZpbHRlcjp2LGJpbmQ6eCxjdXJyeTpfLGlzQXJyYXk6Yixpc1N0cmluZzpTLGlzT2JqZWN0Ok0saXNGdW5jdGlvbjp3LGlzQnVpbGRJbk9iamVjdDpBLGlzRG9tOkkscmV0cmlldmU6VCxhc3NlcnQ6Qyxub29wOmZ1bmN0aW9uKCl7fX07dC5leHBvcnRzPUd9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiBmdW5jdGlvbihlLGksbil7ZT1lJiZlLnRvTG93ZXJDYXNlKCksQy5wcm90b3R5cGVbdF0uY2FsbCh0aGlzLGUsaSxuKX19ZnVuY3Rpb24gbygpe0MuY2FsbCh0aGlzKX1mdW5jdGlvbiBhKHQsZSxpKXtpPWl8fHt9LFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1XW2VdKSxlJiZEKEYsZnVuY3Rpb24odCl7dChlKX0pLHRoaXMuaWQsdGhpcy5ncm91cCx0aGlzLl9kb209dCx0aGlzLl96cj1BLmluaXQodCx7cmVuZGVyZXI6aS5yZW5kZXJlcnx8XCJjYW52YXNcIixkZXZpY2VQaXhlbFJhdGlvOmkuZGV2aWNlUGl4ZWxSYXRpb30pLHRoaXMuX3RoZW1lPUkuY2xvbmUoZSksdGhpcy5fY2hhcnRzVmlld3M9W10sdGhpcy5fY2hhcnRzTWFwPXt9LHRoaXMuX2NvbXBvbmVudHNWaWV3cz1bXSx0aGlzLl9jb21wb25lbnRzTWFwPXt9LHRoaXMuX2FwaT1uZXcgdih0aGlzKSx0aGlzLl9jb29yZFN5c01ncj1uZXcgeSxDLmNhbGwodGhpcyksdGhpcy5fbWVzc2FnZUNlbnRlcj1uZXcgbyx0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5yZXNpemU9SS5iaW5kKHRoaXMucmVzaXplLHRoaXMpfWZ1bmN0aW9uIHIodCxlKXt2YXIgaT10aGlzLl9tb2RlbDtpJiZpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIscXVlcnk6ZX0sZnVuY3Rpb24obixvKXt2YXIgYT10aGlzLl9jaGFydHNNYXBbbi5fX3ZpZXdJZF07YSYmYS5fX2FsaXZlJiZhW3RdKG4saSx0aGlzLl9hcGksZSl9LHRoaXMpfWZ1bmN0aW9uIHModCxlLGkpe3ZhciBuPXRoaXMuX2FwaTtEKHRoaXMuX2NvbXBvbmVudHNWaWV3cyxmdW5jdGlvbihvKXt2YXIgYT1vLl9fbW9kZWw7b1t0XShhLGUsbixpKSxwKGEsbyl9LHRoaXMpLGUuZWFjaFNlcmllcyhmdW5jdGlvbihvLGEpe3ZhciByPXRoaXMuX2NoYXJ0c01hcFtvLl9fdmlld0lkXTtyW3RdKG8sZSxuLGkpLHAobyxyKX0sdGhpcyl9ZnVuY3Rpb24gbCh0LGUpe2Zvcih2YXIgaT1cImNvbXBvbmVudFwiPT09dCxuPWk/dGhpcy5fY29tcG9uZW50c1ZpZXdzOnRoaXMuX2NoYXJ0c1ZpZXdzLG89aT90aGlzLl9jb21wb25lbnRzTWFwOnRoaXMuX2NoYXJ0c01hcCxhPXRoaXMuX3pyLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdLl9fYWxpdmU9ITE7ZVtpP1wiZWFjaENvbXBvbmVudFwiOlwiZWFjaFNlcmllc1wiXShmdW5jdGlvbih0LHIpe2lmKGkpe2lmKFwic2VyaWVzXCI9PT10KXJldHVybn1lbHNlIHI9dDt2YXIgcz1yLmlkK1wiX1wiK3IudHlwZSxsPW9bc107aWYoIWwpe3ZhciBoPV8ucGFyc2VDbGFzc1R5cGUoci50eXBlKSx1PWk/dy5nZXRDbGFzcyhoLm1haW4saC5zdWIpOlMuZ2V0Q2xhc3MoaC5zdWIpO2lmKCF1KXJldHVybjtsPW5ldyB1LGwuaW5pdChlLHRoaXMuX2FwaSksb1tzXT1sLG4ucHVzaChsKSxhLmFkZChsLmdyb3VwKX1yLl9fdmlld0lkPXMsbC5fX2FsaXZlPSEwLGwuX19pZD1zLGwuX19tb2RlbD1yfSx0aGlzKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOyl7dmFyIHM9bltyXTtzLl9fYWxpdmU/cisrOihhLnJlbW92ZShzLmdyb3VwKSxzLmRpc3Bvc2UoZSx0aGlzLl9hcGkpLG4uc3BsaWNlKHIsMSksZGVsZXRlIG9bcy5fX2lkXSl9fWZ1bmN0aW9uIGgodCxlKXtEKGssZnVuY3Rpb24oaSl7RChHW2ldfHxbXSxmdW5jdGlvbihpKXtpKHQsZSl9KX0pfWZ1bmN0aW9uIHUodCl7dmFyIGU9e307dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0KFwic3RhY2tcIiksbj10LmdldERhdGEoKTtpZihpJiZcImxpc3RcIj09PW4udHlwZSl7dmFyIG89ZVtpXTtvJiYobi5zdGFja2VkT249byksZVtpXT1ufX0pfWZ1bmN0aW9uIGModCxlKXt2YXIgaT10aGlzLl9hcGk7RChCLGZ1bmN0aW9uKG4pe24odCxpLGUpfSl9ZnVuY3Rpb24gZCh0LGUpe0QoUCxmdW5jdGlvbihpKXtEKEhbaV18fFtdLGZ1bmN0aW9uKGkpe2kodCxlKX0pfSl9ZnVuY3Rpb24gZih0LGUpe3ZhciBpPXRoaXMuX2FwaTtEKHRoaXMuX2NvbXBvbmVudHNWaWV3cyxmdW5jdGlvbihuKXt2YXIgbz1uLl9fbW9kZWw7bi5yZW5kZXIobyx0LGksZSkscChvLG4pfSx0aGlzKSxEKHRoaXMuX2NoYXJ0c1ZpZXdzLGZ1bmN0aW9uKHQpe3QuX19hbGl2ZT0hMX0sdGhpcyksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKG4sbyl7dmFyIGE9dGhpcy5fY2hhcnRzTWFwW24uX192aWV3SWRdO2EuX19hbGl2ZT0hMCxhLnJlbmRlcihuLHQsaSxlKSxhLmdyb3VwLnNpbGVudD0hIW4uZ2V0KFwic2lsZW50XCIpLHAobixhKX0sdGhpcyksRCh0aGlzLl9jaGFydHNWaWV3cyxmdW5jdGlvbihlKXtlLl9fYWxpdmV8fGUucmVtb3ZlKHQsaSl9LHRoaXMpfWZ1bmN0aW9uIHAodCxlKXt2YXIgaT10LmdldChcInpcIiksbj10LmdldChcInpsZXZlbFwiKTtlLmdyb3VwLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe251bGwhPWkmJih0Lno9aSksbnVsbCE9biYmKHQuemxldmVsPW4pfSl9ZnVuY3Rpb24gZyh0KXtmdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07blthXT1lfX12YXIgaT0wLG49MSxvPTIsYT1cIl9fY29ubmVjdFVwZGF0ZVN0YXR1c1wiO0kuZWFjaChOLGZ1bmN0aW9uKHIscyl7dC5fbWVzc2FnZUNlbnRlci5vbihzLGZ1bmN0aW9uKHIpe2lmKHFbdC5ncm91cF0mJnRbYV0hPT1pKXt2YXIgcz10Lm1ha2VBY3Rpb25Gcm9tRXZlbnQociksbD1bXTtmb3IodmFyIGggaW4gWil7dmFyIHU9WltoXTt1IT09dCYmdS5ncm91cD09PXQuZ3JvdXAmJmwucHVzaCh1KX1lKGwsaSksRChsLGZ1bmN0aW9uKHQpe3RbYV0hPT1uJiZ0LmRpc3BhdGNoQWN0aW9uKHMpfSksZShsLG8pfX0pfSl9LyohXG5cdCAqIEVDaGFydHMsIGEgamF2YXNjcmlwdCBpbnRlcmFjdGl2ZSBjaGFydCBsaWJyYXJ5LlxuXHQgKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTUsIEJhaWR1IEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogTElDRU5TRVxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vZWNvbWZlL2VjaGFydHMvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcblx0ICovXG52YXIgbT1pKDExMSksdj1pKDc4KSx5PWkoMjMpLHg9aSgxMTIpLF89aSgxMCksYj1pKDEzKSx3PWkoNTQpLFM9aSgyNiksTT1pKDMpLEE9aSg2OCksST1pKDEpLFQ9aSgyMiksTD1pKDE0KSxDPWkoMjEpLEQ9SS5lYWNoLFA9W1wiZWNoYXJ0c1wiLFwiY2hhcnRcIixcImNvbXBvbmVudFwiXSxrPVtcInRyYW5zZm9ybVwiLFwiZmlsdGVyXCIsXCJzdGF0aXN0aWNcIl07by5wcm90b3R5cGUub249bihcIm9uXCIpLG8ucHJvdG90eXBlLm9mZj1uKFwib2ZmXCIpLG8ucHJvdG90eXBlLm9uZT1uKFwib25lXCIpLEkubWl4aW4obyxDKTt2YXIgej1hLnByb3RvdHlwZTt6LmdldERvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb219LHouZ2V0WnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenJ9LHouc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9tb2RlbCYmIWV8fCh0aGlzLl9tb2RlbD1uZXcgbShudWxsLG51bGwsdGhpcy5fdGhlbWUsbmV3IHgodGhpcy5fYXBpKSkpLHRoaXMuX21vZGVsLnNldE9wdGlvbih0LEYpLEUucHJlcGFyZUFuZFVwZGF0ZS5jYWxsKHRoaXMpLCFpJiZ0aGlzLl96ci5yZWZyZXNoSW1tZWRpYXRlbHkoKX0sei5zZXRUaGVtZT1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiRUNoYXJ0cyNzZXRUaGVtZSgpIGlzIERFUFJFQ0FURUQgaW4gRUNoYXJ0cyAzLjBcIil9LHouZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LHouZ2V0T3B0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsLmdldE9wdGlvbigpfSx6LmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLmdldFdpZHRoKCl9LHouZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLmdldEhlaWdodCgpfSx6LmdldFJlbmRlcmVkQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKEwuY2FudmFzU3VwcG9ydGVkKXt0PXR8fHt9LHQucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW98fDEsdC5iYWNrZ3JvdW5kQ29sb3I9dC5iYWNrZ3JvdW5kQ29sb3J8fHRoaXMuX21vZGVsLmdldChcImJhY2tncm91bmRDb2xvclwiKTt2YXIgZT10aGlzLl96cixpPWUuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpO3JldHVybiBJLmVhY2goaSxmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24oITApfSksZS5wYWludGVyLmdldFJlbmRlcmVkQ2FudmFzKHQpfX0sei5nZXREYXRhVVJMPWZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIGU9dC5leGNsdWRlQ29tcG9uZW50cyxpPXRoaXMuX21vZGVsLG49W10sbz10aGlzO0QoZSxmdW5jdGlvbih0KXtpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOnR9LGZ1bmN0aW9uKHQpe3ZhciBlPW8uX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF07ZS5ncm91cC5pZ25vcmV8fChuLnB1c2goZSksZS5ncm91cC5pZ25vcmU9ITApfSl9KTt2YXIgYT10aGlzLmdldFJlbmRlcmVkQ2FudmFzKHQpLnRvRGF0YVVSTChcImltYWdlL1wiKyh0JiZ0LnR5cGV8fFwicG5nXCIpKTtyZXR1cm4gRChuLGZ1bmN0aW9uKHQpe3QuZ3JvdXAuaWdub3JlPSExfSksYX0sei5nZXRDb25uZWN0ZWREYXRhVVJMPWZ1bmN0aW9uKHQpe2lmKEwuY2FudmFzU3VwcG9ydGVkKXt2YXIgZT10aGlzLmdyb3VwLGk9TWF0aC5taW4sbj1NYXRoLm1heCxvPTEvMDtpZihxW2VdKXt2YXIgYT1vLHI9byxzPS1vLGw9LW8saD1bXSx1PXQmJnQucGl4ZWxSYXRpb3x8MTtmb3IodmFyIGMgaW4gWil7dmFyIGQ9WltjXTtpZihkLmdyb3VwPT09ZSl7dmFyIGY9ZC5nZXRSZW5kZXJlZENhbnZhcyhJLmNsb25lKHQpKSxwPWQuZ2V0RG9tKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YT1pKHAubGVmdCxhKSxyPWkocC50b3Ascikscz1uKHAucmlnaHQscyksbD1uKHAuYm90dG9tLGwpLGgucHVzaCh7ZG9tOmYsbGVmdDpwLmxlZnQsdG9wOnAudG9wfSl9fWEqPXUscio9dSxzKj11LGwqPXU7dmFyIGc9cy1hLG09bC1yLHY9SS5jcmVhdGVDYW52YXMoKTt2LndpZHRoPWcsdi5oZWlnaHQ9bTt2YXIgeT1BLmluaXQodik7cmV0dXJuIEQoaCxmdW5jdGlvbih0KXt2YXIgZT1uZXcgTS5JbWFnZSh7c3R5bGU6e3g6dC5sZWZ0KnUtYSx5OnQudG9wKnUtcixpbWFnZTp0LmRvbX19KTt5LmFkZChlKX0pLHkucmVmcmVzaEltbWVkaWF0ZWx5KCksdi50b0RhdGFVUkwoXCJpbWFnZS9cIisodCYmdC50eXBlfHxcInBuZ1wiKSl9cmV0dXJuIHRoaXMuZ2V0RGF0YVVSTCh0KX19O3ZhciBFPXt1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW9kZWwsaT10aGlzLl9hcGksbj10aGlzLl9jb29yZFN5c01ncjtpZihlKXtlLnJlc3RvcmVEYXRhKCksbi5jcmVhdGUodGhpcy5fbW9kZWwsdGhpcy5fYXBpKSxoLmNhbGwodGhpcyxlLGkpLHUuY2FsbCh0aGlzLGUpLG4udXBkYXRlKGUsaSksYy5jYWxsKHRoaXMsZSx0KSxkLmNhbGwodGhpcyxlLHQpLGYuY2FsbCh0aGlzLGUsdCk7dmFyIG89ZS5nZXQoXCJiYWNrZ3JvdW5kQ29sb3JcIil8fFwidHJhbnNwYXJlbnRcIixhPXRoaXMuX3pyLnBhaW50ZXI7aWYoYS5pc1NpbmdsZUNhbnZhcyYmYS5pc1NpbmdsZUNhbnZhcygpKXRoaXMuX3pyLmNvbmZpZ0xheWVyKDAse2NsZWFyQ29sb3I6b30pO2Vsc2V7aWYoIUwuY2FudmFzU3VwcG9ydGVkKXt2YXIgcj1ULnBhcnNlKG8pO289VC5zdHJpbmdpZnkocixcInJnYlwiKSwwPT09clszXSYmKG89XCJ0cmFuc3BhcmVudFwiKX1vPW8sdGhpcy5fZG9tLnN0eWxlLmJhY2tncm91bmRDb2xvcj1vfX19LHVwZGF0ZVZpZXc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW9kZWw7ZSYmKGMuY2FsbCh0aGlzLGUsdCksZC5jYWxsKHRoaXMsZSx0KSxzLmNhbGwodGhpcyxcInVwZGF0ZVZpZXdcIixlLHQpKX0sdXBkYXRlVmlzdWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vZGVsO2UmJihkLmNhbGwodGhpcyxlLHQpLHMuY2FsbCh0aGlzLFwidXBkYXRlVmlzdWFsXCIsZSx0KSl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbDtlJiYoYy5jYWxsKHRoaXMsZSx0KSxzLmNhbGwodGhpcyxcInVwZGF0ZUxheW91dFwiLGUsdCkpfSxoaWdobGlnaHQ6ZnVuY3Rpb24odCl7ci5jYWxsKHRoaXMsXCJoaWdobGlnaHRcIix0KX0sZG93bnBsYXk6ZnVuY3Rpb24odCl7ci5jYWxsKHRoaXMsXCJkb3ducGxheVwiLHQpfSxwcmVwYXJlQW5kVXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vZGVsO2wuY2FsbCh0aGlzLFwiY29tcG9uZW50XCIsZSksbC5jYWxsKHRoaXMsXCJjaGFydFwiLGUpLEUudXBkYXRlLmNhbGwodGhpcyx0KX19O3oucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5fenIucmVzaXplKCk7dmFyIHQ9dGhpcy5fbW9kZWwmJnRoaXMuX21vZGVsLnJlc2V0T3B0aW9uKFwibWVkaWFcIik7RVt0P1wicHJlcGFyZUFuZFVwZGF0ZVwiOlwidXBkYXRlXCJdLmNhbGwodGhpcyksdGhpcy5fbG9hZGluZ0ZYJiZ0aGlzLl9sb2FkaW5nRlgucmVzaXplKCl9O3ZhciBPPWkoMTEwKTt6LnNob3dMb2FkaW5nPWZ1bmN0aW9uKHQsZSl7SS5pc09iamVjdCh0KSYmKGU9dCx0PVwiZGVmYXVsdFwiKSx0aGlzLmhpZGVMb2FkaW5nKCk7dmFyIGk9Tyh0aGlzLl9hcGksZSksbj10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9aSxuLmFkZChpKX0sei5oaWRlTG9hZGluZz1mdW5jdGlvbigpe3RoaXMuX2xvYWRpbmdGWCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuX2xvYWRpbmdGWCksdGhpcy5fbG9hZGluZ0ZYPW51bGx9LHoubWFrZUFjdGlvbkZyb21FdmVudD1mdW5jdGlvbih0KXt2YXIgZT1JLmV4dGVuZCh7fSx0KTtyZXR1cm4gZS50eXBlPU5bdC50eXBlXSxlfSx6LmRpc3BhdGNoQWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Vlt0LnR5cGVdO2lmKGkpe3ZhciBuPWkuYWN0aW9uSW5mbyxvPW4udXBkYXRlfHxcInVwZGF0ZVwiLGE9W3RdLHI9ITE7dC5iYXRjaCYmKHI9ITAsYT1JLm1hcCh0LmJhdGNoLGZ1bmN0aW9uKGUpe3JldHVybiBlPUkuZGVmYXVsdHMoSS5leHRlbmQoe30sZSksdCksZS5iYXRjaD1udWxsLGV9KSk7Zm9yKHZhciBzLGw9W10saD1cImhpZ2hsaWdodFwiPT09dC50eXBlfHxcImRvd25wbGF5XCI9PT10LnR5cGUsdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgYz1hW3VdO3M9aS5hY3Rpb24oYyx0aGlzLl9tb2RlbCkscz1zfHxJLmV4dGVuZCh7fSxjKSxzLnR5cGU9bi5ldmVudHx8cy50eXBlLGwucHVzaChzKSxoJiZFW29dLmNhbGwodGhpcyxjKX1cIm5vbmVcIiE9PW8mJiFoJiZFW29dLmNhbGwodGhpcyx0KSxlfHwocz1yP3t0eXBlOm4uZXZlbnR8fHQudHlwZSxiYXRjaDpsfTpsWzBdLHRoaXMuX21lc3NhZ2VDZW50ZXIudHJpZ2dlcihzLnR5cGUscykpfX0sei5vbj1uKFwib25cIiksei5vZmY9bihcIm9mZlwiKSx6Lm9uZT1uKFwib25lXCIpO3ZhciBSPVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2VvdmVyXCIsXCJtb3VzZW91dFwiLFwibW91c2Vkb3duXCIsXCJtb3VzZXVwXCIsXCJnbG9iYWxvdXRcIl07ei5faW5pdEV2ZW50cz1mdW5jdGlvbigpe0QoUixmdW5jdGlvbih0KXt0aGlzLl96ci5vbih0LGZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuZ2V0TW9kZWwoKSxuPWUudGFyZ2V0O2lmKG4mJm51bGwhPW4uZGF0YUluZGV4KXt2YXIgbz1uLmRhdGFNb2RlbHx8aS5nZXRTZXJpZXNCeUluZGV4KG4uc2VyaWVzSW5kZXgpLGE9byYmby5nZXREYXRhUGFyYW1zKG4uZGF0YUluZGV4LG4uZGF0YVR5cGUpfHx7fTthLmV2ZW50PWUsYS50eXBlPXQsdGhpcy50cmlnZ2VyKHQsYSl9ZWxzZSBuJiZuLmV2ZW50RGF0YSYmdGhpcy50cmlnZ2VyKHQsbi5ldmVudERhdGEpfSx0aGlzKX0sdGhpcyksRChOLGZ1bmN0aW9uKHQsZSl7dGhpcy5fbWVzc2FnZUNlbnRlci5vbihlLGZ1bmN0aW9uKHQpe3RoaXMudHJpZ2dlcihlLHQpfSx0aGlzKX0sdGhpcyl9LHouaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwb3NlZH0sei5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9uKHt9LCEwKX0sei5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ9ITA7dmFyIHQ9dGhpcy5fYXBpLGU9dGhpcy5fbW9kZWw7RCh0aGlzLl9jb21wb25lbnRzVmlld3MsZnVuY3Rpb24oaSl7aS5kaXNwb3NlKGUsdCl9KSxEKHRoaXMuX2NoYXJ0c1ZpZXdzLGZ1bmN0aW9uKGkpe2kuZGlzcG9zZShlLHQpfSksdGhpcy5fenIuZGlzcG9zZSgpLGRlbGV0ZSBaW3RoaXMuaWRdfSxJLm1peGluKGEsQyk7dmFyIFY9W10sTj17fSxCPVtdLEc9e30sRj1bXSxIPXt9LFc9e30sWj17fSxxPXt9LGo9bmV3IERhdGUtMCxVPW5ldyBEYXRlLTAsWD1cIl9lY2hhcnRzX2luc3RhbmNlX1wiLFk9e3ZlcnNpb246XCIzLjEuMTBcIixkZXBlbmRlbmNpZXM6e3pyZW5kZXI6XCIzLjEuMFwifX07WS5pbml0PWZ1bmN0aW9uKHQsZSxpKXtpZihBLnZlcnNpb24ucmVwbGFjZShcIi5cIixcIlwiKS0wPFkuZGVwZW5kZW5jaWVzLnpyZW5kZXIucmVwbGFjZShcIi5cIixcIlwiKS0wKXRocm93IG5ldyBFcnJvcihcIlpSZW5kZXIgXCIrQS52ZXJzaW9uK1wiIGlzIHRvbyBvbGQgZm9yIEVDaGFydHMgXCIrWS52ZXJzaW9uK1wiLiBDdXJyZW50IHZlcnNpb24gbmVlZCBaUmVuZGVyIFwiK1kuZGVwZW5kZW5jaWVzLnpyZW5kZXIrXCIrXCIpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkluaXRpYWxpemUgZmFpbGVkOiBpbnZhbGlkIGRvbS5cIik7dmFyIG49bmV3IGEodCxlLGkpO3JldHVybiBuLmlkPVwiZWNfXCIraisrLFpbbi5pZF09bix0LnNldEF0dHJpYnV0ZSYmdC5zZXRBdHRyaWJ1dGUoWCxuLmlkKSxnKG4pLG59LFkuY29ubmVjdD1mdW5jdGlvbih0KXtpZihJLmlzQXJyYXkodCkpe3ZhciBlPXQ7dD1udWxsLEkuZWFjaChlLGZ1bmN0aW9uKGUpe251bGwhPWUuZ3JvdXAmJih0PWUuZ3JvdXApfSksdD10fHxcImdfXCIrVSsrLEkuZWFjaChlLGZ1bmN0aW9uKGUpe2UuZ3JvdXA9dH0pfXJldHVybiBxW3RdPSEwLHR9LFkuZGlzQ29ubmVjdD1mdW5jdGlvbih0KXtxW3RdPSExfSxZLmRpc3Bvc2U9ZnVuY3Rpb24odCl7SS5pc0RvbSh0KT90PVkuZ2V0SW5zdGFuY2VCeURvbSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9Wlt0XSksdCBpbnN0YW5jZW9mIGEmJiF0LmlzRGlzcG9zZWQoKSYmdC5kaXNwb3NlKCl9LFkuZ2V0SW5zdGFuY2VCeURvbT1mdW5jdGlvbih0KXt2YXIgZT10LmdldEF0dHJpYnV0ZShYKTtyZXR1cm4gWltlXX0sWS5nZXRJbnN0YW5jZUJ5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFpbdF19LFkucmVnaXN0ZXJUaGVtZT1mdW5jdGlvbih0LGUpe1dbdF09ZX0sWS5yZWdpc3RlclByZXByb2Nlc3Nvcj1mdW5jdGlvbih0KXtGLnB1c2godCl9LFkucmVnaXN0ZXJQcm9jZXNzb3I9ZnVuY3Rpb24odCxlKXtpZihJLmluZGV4T2Yoayx0KTwwKXRocm93IG5ldyBFcnJvcihcInN0YWdlIHNob3VsZCBiZSBvbmUgb2YgXCIrayk7dmFyIGk9R1t0XXx8KEdbdF09W10pO2kucHVzaChlKX0sWS5yZWdpc3RlckFjdGlvbj1mdW5jdGlvbih0LGUsaSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGk9ZSxlPVwiXCIpO3ZhciBuPUkuaXNPYmplY3QodCk/dC50eXBlOlt0LHQ9e2V2ZW50OmV9XVswXTt0LmV2ZW50PSh0LmV2ZW50fHxuKS50b0xvd2VyQ2FzZSgpLGU9dC5ldmVudCxWW25dfHwoVltuXT17YWN0aW9uOmksYWN0aW9uSW5mbzp0fSksTltlXT1ufSxZLnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbT1mdW5jdGlvbih0LGUpe3kucmVnaXN0ZXIodCxlKX0sWS5yZWdpc3RlckxheW91dD1mdW5jdGlvbih0KXtJLmluZGV4T2YoQix0KTwwJiZCLnB1c2godCl9LFkucmVnaXN0ZXJWaXN1YWxDb2Rpbmc9ZnVuY3Rpb24odCxlKXtpZihJLmluZGV4T2YoUCx0KTwwKXRocm93IG5ldyBFcnJvcihcInN0YWdlIHNob3VsZCBiZSBvbmUgb2YgXCIrUCk7dmFyIGk9SFt0XXx8KEhbdF09W10pO2kucHVzaChlKX0sWS5leHRlbmRDaGFydFZpZXc9ZnVuY3Rpb24odCl7cmV0dXJuIFMuZXh0ZW5kKHQpfSxZLmV4dGVuZENvbXBvbmVudE1vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiBfLmV4dGVuZCh0KX0sWS5leHRlbmRTZXJpZXNNb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gYi5leHRlbmQodCl9LFkuZXh0ZW5kQ29tcG9uZW50Vmlldz1mdW5jdGlvbih0KXtyZXR1cm4gdy5leHRlbmQodCl9LFkuc2V0Q2FudmFzQ3JlYXRvcj1mdW5jdGlvbih0KXtJLmNyZWF0ZUNhbnZhcz10fSxZLnJlZ2lzdGVyVmlzdWFsQ29kaW5nKFwiZWNoYXJ0c1wiLEkuY3VycnkoaSg3NCksXCJcIixcIml0ZW1TdHlsZVwiKSksWS5yZWdpc3RlclByZXByb2Nlc3NvcihpKDExOSkpLFkucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJoaWdobGlnaHRcIixldmVudDpcImhpZ2hsaWdodFwiLHVwZGF0ZTpcImhpZ2hsaWdodFwifSxJLm5vb3ApLFkucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJkb3ducGxheVwiLGV2ZW50OlwiZG93bnBsYXlcIix1cGRhdGU6XCJkb3ducGxheVwifSxJLm5vb3ApLFkuZ3JhcGhpYz1pKDMpLFkubnVtYmVyPWkoNCksWS5mb3JtYXQ9aSg5KSxZLm1hdHJpeD1pKDE5KSxZLnZlY3Rvcj1pKDUpLFkudXRpbD17fSxEKFtcIm1hcFwiLFwiZWFjaFwiLFwiZmlsdGVyXCIsXCJpbmRleE9mXCIsXCJpbmhlcml0c1wiLFwicmVkdWNlXCIsXCJmaWx0ZXJcIixcImJpbmRcIixcImN1cnJ5XCIsXCJpc0FycmF5XCIsXCJpc1N0cmluZ1wiLFwiaXNPYmplY3RcIixcImlzRnVuY3Rpb25cIixcImV4dGVuZFwiXSxmdW5jdGlvbih0KXtZLnV0aWxbdF09SVt0XX0pLHQuZXhwb3J0cz1ZfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gbnVsbCE9dCYmXCJub25lXCIhPXR9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFM/dDpfLmxpZnQodCwtLjEpfWZ1bmN0aW9uIGEodCl7aWYodC5fX2hvdmVyU3RsRGlydHkpe3ZhciBlPXQuc3R5bGUuc3Ryb2tlLGk9dC5zdHlsZS5maWxsLGE9dC5fX2hvdmVyU3RsO2EuZmlsbD1hLmZpbGx8fChuKGkpP28oaSk6bnVsbCksYS5zdHJva2U9YS5zdHJva2V8fChuKGUpP28oZSk6bnVsbCk7dmFyIHI9e307Zm9yKHZhciBzIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShzKSYmKHJbc109dC5zdHlsZVtzXSk7dC5fX25vcm1hbFN0bD1yLHQuX19ob3ZlclN0bERpcnR5PSExfX1mdW5jdGlvbiByKHQpe3QuX19pc0hvdmVyfHwoYSh0KSx0LnNldFN0eWxlKHQuX19ob3ZlclN0bCksdC56Mis9MSx0Ll9faXNIb3Zlcj0hMCl9ZnVuY3Rpb24gcyh0KXtpZih0Ll9faXNIb3Zlcil7dmFyIGU9dC5fX25vcm1hbFN0bDtlJiZ0LnNldFN0eWxlKGUpLHQuejItPTEsdC5fX2lzSG92ZXI9ITF9fWZ1bmN0aW9uIGwodCl7XCJncm91cFwiPT09dC50eXBlP3QudHJhdmVyc2UoZnVuY3Rpb24odCl7XCJncm91cFwiIT09dC50eXBlJiZyKHQpfSk6cih0KX1mdW5jdGlvbiBoKHQpe1wiZ3JvdXBcIj09PXQudHlwZT90LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe1wiZ3JvdXBcIiE9PXQudHlwZSYmcyh0KX0pOnModCl9ZnVuY3Rpb24gdSh0LGUpe3QuX19ob3ZlclN0bD10LmhvdmVyU3R5bGV8fGV8fHt9LHQuX19ob3ZlclN0bERpcnR5PSEwLHQuX19pc0hvdmVyJiZhKHQpfWZ1bmN0aW9uIGMoKXshdGhpcy5fX2lzRW1waGFzaXMmJmwodGhpcyl9ZnVuY3Rpb24gZCgpeyF0aGlzLl9faXNFbXBoYXNpcyYmaCh0aGlzKX1mdW5jdGlvbiBmKCl7dGhpcy5fX2lzRW1waGFzaXM9ITAsbCh0aGlzKX1mdW5jdGlvbiBwKCl7dGhpcy5fX2lzRW1waGFzaXM9ITEsaCh0aGlzKX1mdW5jdGlvbiBnKHQsZSxpLG4sbyxhKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiYoYT1vLG89bnVsbCk7dmFyIHI9dD9cIlVwZGF0ZVwiOlwiXCIscz1uJiZuLmdldFNoYWxsb3coXCJhbmltYXRpb25EdXJhdGlvblwiK3IpLGw9biYmbi5nZXRTaGFsbG93KFwiYW5pbWF0aW9uRWFzaW5nXCIrciksaD1uJiZuLmdldFNoYWxsb3coXCJhbmltYXRpb25EZWxheVwiK3IpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGgmJihoPWgobykpLG4mJm4uZ2V0U2hhbGxvdyhcImFuaW1hdGlvblwiKT9lLmFuaW1hdGVUbyhpLHMsaHx8MCxsLGEpOihlLmF0dHIoaSksYSYmYSgpKX12YXIgbT1pKDEpLHY9aSgxNTYpLHk9TWF0aC5yb3VuZCx4PWkoNiksXz1pKDIyKSxiPWkoMTkpLHc9aSg1KSxTPWkoMTcpLE09e307TS5Hcm91cD1pKDI3KSxNLkltYWdlPWkoNDYpLE0uVGV4dD1pKDY2KSxNLkNpcmNsZT1pKDE0NyksTS5TZWN0b3I9aSgxNTMpLE0uUmluZz1pKDE1MiksTS5Qb2x5Z29uPWkoMTQ5KSxNLlBvbHlsaW5lPWkoMTUwKSxNLlJlY3Q9aSgxNTEpLE0uTGluZT1pKDE0OCksTS5CZXppZXJDdXJ2ZT1pKDE0NiksTS5BcmM9aSgxNDUpLE0uQ29tcG91bmRQYXRoPWkoMTQwKSxNLkxpbmVhckdyYWRpZW50PWkoNzYpLE0uUmFkaWFsR3JhZGllbnQ9aSgxNDEpLE0uQm91bmRpbmdSZWN0PWkoOCksTS5leHRlbmRTaGFwZT1mdW5jdGlvbih0KXtyZXR1cm4geC5leHRlbmQodCl9LE0uZXh0ZW5kUGF0aD1mdW5jdGlvbih0LGUpe3JldHVybiB2LmV4dGVuZEZyb21TdHJpbmcodCxlKX0sTS5tYWtlUGF0aD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz12LmNyZWF0ZUZyb21TdHJpbmcodCxlKSxhPW8uZ2V0Qm91bmRpbmdSZWN0KCk7aWYoaSl7dmFyIHI9YS53aWR0aC9hLmhlaWdodDtpZihcImNlbnRlclwiPT09bil7dmFyIHMsbD1pLmhlaWdodCpyO2w8PWkud2lkdGg/cz1pLmhlaWdodDoobD1pLndpZHRoLHM9bC9yKTt2YXIgaD1pLngraS53aWR0aC8yLHU9aS55K2kuaGVpZ2h0LzI7aS54PWgtbC8yLGkueT11LXMvMixpLndpZHRoPWwsaS5oZWlnaHQ9c310aGlzLnJlc2l6ZVBhdGgobyxpKX1yZXR1cm4gb30sTS5tZXJnZVBhdGg9di5tZXJnZVBhdGgsTS5yZXNpemVQYXRoPWZ1bmN0aW9uKHQsZSl7aWYodC5hcHBseVRyYW5zZm9ybSl7dmFyIGk9dC5nZXRCb3VuZGluZ1JlY3QoKSxuPWkuY2FsY3VsYXRlVHJhbnNmb3JtKGUpO3QuYXBwbHlUcmFuc2Zvcm0obil9fSxNLnN1YlBpeGVsT3B0aW1pemVMaW5lPWZ1bmN0aW9uKHQpe3ZhciBlPU0uc3ViUGl4ZWxPcHRpbWl6ZSxpPXQuc2hhcGUsbj10LnN0eWxlLmxpbmVXaWR0aDtyZXR1cm4geSgyKmkueDEpPT09eSgyKmkueDIpJiYoaS54MT1pLngyPWUoaS54MSxuLCEwKSkseSgyKmkueTEpPT09eSgyKmkueTIpJiYoaS55MT1pLnkyPWUoaS55MSxuLCEwKSksdH0sTS5zdWJQaXhlbE9wdGltaXplUmVjdD1mdW5jdGlvbih0KXt2YXIgZT1NLnN1YlBpeGVsT3B0aW1pemUsaT10LnNoYXBlLG49dC5zdHlsZS5saW5lV2lkdGgsbz1pLngsYT1pLnkscj1pLndpZHRoLHM9aS5oZWlnaHQ7cmV0dXJuIGkueD1lKGkueCxuLCEwKSxpLnk9ZShpLnksbiwhMCksaS53aWR0aD1NYXRoLm1heChlKG8rcixuLCExKS1pLngsMD09PXI/MDoxKSxpLmhlaWdodD1NYXRoLm1heChlKGErcyxuLCExKS1pLnksMD09PXM/MDoxKSx0fSxNLnN1YlBpeGVsT3B0aW1pemU9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXkoMip0KTtyZXR1cm4obit5KGUpKSUyPT09MD9uLzI6KG4rKGk/MTotMSkpLzJ9LE0uc2V0SG92ZXJTdHlsZT1mdW5jdGlvbih0LGUpe1wiZ3JvdXBcIj09PXQudHlwZT90LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe1wiZ3JvdXBcIiE9PXQudHlwZSYmdSh0LGUpfSk6dSh0LGUpLHQub24oXCJtb3VzZW92ZXJcIixjKS5vbihcIm1vdXNlb3V0XCIsZCksdC5vbihcImVtcGhhc2lzXCIsZikub24oXCJub3JtYWxcIixwKX0sTS5zZXRUZXh0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmdldFNoYWxsb3coXCJwb3NpdGlvblwiKXx8XCJpbnNpZGVcIixvPW4uaW5kZXhPZihcImluc2lkZVwiKT49MD9cIndoaXRlXCI6aSxhPWUuZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIik7bS5leHRlbmQodCx7dGV4dERpc3RhbmNlOmUuZ2V0U2hhbGxvdyhcImRpc3RhbmNlXCIpfHw1LHRleHRGb250OmEuZ2V0Rm9udCgpLHRleHRQb3NpdGlvbjpuLHRleHRGaWxsOmEuZ2V0VGV4dENvbG9yKCl8fG99KX0sTS51cGRhdGVQcm9wcz1tLmN1cnJ5KGcsITApLE0uaW5pdFByb3BzPW0uY3VycnkoZywhMSksTS5nZXRUcmFuc2Zvcm09ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9Yi5pZGVudGl0eShbXSk7dCYmdCE9PWU7KWIubXVsKGksdC5nZXRMb2NhbFRyYW5zZm9ybSgpLGkpLHQ9dC5wYXJlbnQ7cmV0dXJuIGl9LE0uYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpJiYoZT1iLmludmVydChbXSxlKSksdy5hcHBseVRyYW5zZm9ybShbXSx0LGUpfSxNLnRyYW5zZm9ybURpcmVjdGlvbj1mdW5jdGlvbih0LGUsaSl7dmFyIG49MD09PWVbNF18fDA9PT1lWzVdfHwwPT09ZVswXT8xOk1hdGguYWJzKDIqZVs0XS9lWzBdKSxvPTA9PT1lWzRdfHwwPT09ZVs1XXx8MD09PWVbMl0/MTpNYXRoLmFicygyKmVbNF0vZVsyXSksYT1bXCJsZWZ0XCI9PT10Py1uOlwicmlnaHRcIj09PXQ/bjowLFwidG9wXCI9PT10Py1vOlwiYm90dG9tXCI9PT10P286MF07cmV0dXJuIGE9TS5hcHBseVRyYW5zZm9ybShhLGUsaSksTWF0aC5hYnMoYVswXSk+TWF0aC5hYnMoYVsxXSk/YVswXT4wP1wicmlnaHRcIjpcImxlZnRcIjphWzFdPjA/XCJib3R0b21cIjpcInRvcFwifSx0LmV4cG9ydHM9TX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0LnJlcGxhY2UoL15cXHMrLyxcIlwiKS5yZXBsYWNlKC9cXHMrJC8sXCJcIil9dmFyIG49e30sbz0xZS00O24ubGluZWFyTWFwPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWVbMV0tZVswXSxhPWlbMV0taVswXTtpZigwPT09bylyZXR1cm4gMD09PWE/aVswXTooaVswXStpWzFdKS8yO2lmKG4paWYobz4wKXtpZih0PD1lWzBdKXJldHVybiBpWzBdO2lmKHQ+PWVbMV0pcmV0dXJuIGlbMV19ZWxzZXtpZih0Pj1lWzBdKXJldHVybiBpWzBdO2lmKHQ8PWVbMV0pcmV0dXJuIGlbMV19ZWxzZXtpZih0PT09ZVswXSlyZXR1cm4gaVswXTtpZih0PT09ZVsxXSlyZXR1cm4gaVsxXX1yZXR1cm4odC1lWzBdKS9vKmEraVswXX0sbi5wYXJzZVBlcmNlbnQ9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZVwiY2VudGVyXCI6Y2FzZVwibWlkZGxlXCI6dD1cIjUwJVwiO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3BcIjp0PVwiMCVcIjticmVhaztjYXNlXCJyaWdodFwiOmNhc2VcImJvdHRvbVwiOnQ9XCIxMDAlXCJ9cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/aSh0KS5tYXRjaCgvJSQvKT9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6bnVsbD09dD9OYU46K3R9LG4ucm91bmQ9ZnVuY3Rpb24odCl7cmV0dXJuKygrdCkudG9GaXhlZCgxMCl9LG4uYXNjPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSksdH0sbi5nZXRQcmVjaXNpb249ZnVuY3Rpb24odCl7aWYoaXNOYU4odCkpcmV0dXJuIDA7Zm9yKHZhciBlPTEsaT0wO01hdGgucm91bmQodCplKS9lIT09dDspZSo9MTAsaSsrO3JldHVybiBpfSxuLmdldFBpeGVsUHJlY2lzaW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9TWF0aC5sb2csbj1NYXRoLkxOMTAsbz1NYXRoLmZsb29yKGkodFsxXS10WzBdKS9uKSxhPU1hdGgucm91bmQoaShNYXRoLmFicyhlWzFdLWVbMF0pKS9uKTtyZXR1cm4gTWF0aC5tYXgoLW8rYSwwKX0sbi5NQVhfU0FGRV9JTlRFR0VSPTkwMDcxOTkyNTQ3NDA5OTEsbi5yZW1SYWRpYW49ZnVuY3Rpb24odCl7dmFyIGU9MipNYXRoLlBJO3JldHVybih0JWUrZSklZX0sbi5pc1JhZGlhbkFyb3VuZFplcm89ZnVuY3Rpb24odCl7cmV0dXJuIHQ+LW8mJm8+dH0sbi5wYXJzZURhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlP3Q6bmV3IERhdGUoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5yZXBsYWNlKC8tL2csXCIvXCIpOk1hdGgucm91bmQodCkpfSxuLnF1YW50aXR5PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCkpfSxuLm5pY2U9ZnVuY3Rpb24odCxlKXt2YXIgaSxvPW4ucXVhbnRpdHkodCksYT10L287cmV0dXJuIGk9ZT8xLjU+YT8xOjIuNT5hPzI6ND5hPzM6Nz5hPzU6MTA6MT5hPzE6Mj5hPzI6Mz5hPzM6NT5hPzU6MTAsaSpvfSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXt2YXIgaT1cInVuZGVmaW5lZFwiPT10eXBlb2YgRmxvYXQzMkFycmF5P0FycmF5OkZsb2F0MzJBcnJheSxuPXtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaSgyKTtyZXR1cm4gblswXT10fHwwLG5bMV09ZXx8MCxufSxjb3B5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdH0sY2xvbmU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGkoMik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZX0sc2V0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFswXT1lLHRbMV09aSx0fSxhZGQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0WzBdPWVbMF0raVswXSx0WzFdPWVbMV0raVsxXSx0fSxzY2FsZUFuZEFkZDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0qbix0WzFdPWVbMV0raVsxXSpuLHR9LHN1YjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXS1pWzBdLHRbMV09ZVsxXS1pWzFdLHR9LGxlbjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMubGVuU3F1YXJlKHQpKX0sbGVuU3F1YXJlOmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdKnRbMF0rdFsxXSp0WzFdfSxtdWw6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0WzBdPWVbMF0qaVswXSx0WzFdPWVbMV0qaVsxXSx0fSxkaXY6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0WzBdPWVbMF0vaVswXSx0WzFdPWVbMV0vaVsxXSx0fSxkb3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXX0sc2NhbGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0WzBdPWVbMF0qaSx0WzFdPWVbMV0qaSx0fSxub3JtYWxpemU6ZnVuY3Rpb24odCxlKXt2YXIgaT1uLmxlbihlKTtyZXR1cm4gMD09PWk/KHRbMF09MCx0WzFdPTApOih0WzBdPWVbMF0vaSx0WzFdPWVbMV0vaSksdH0sZGlzdGFuY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5zcXJ0KCh0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pKX0sZGlzdGFuY2VTcXVhcmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4odFswXS1lWzBdKSoodFswXS1lWzBdKSsodFsxXS1lWzFdKSoodFsxXS1lWzFdKX0sbmVnYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09LWVbMF0sdFsxXT0tZVsxXSx0fSxsZXJwOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0WzBdPWVbMF0rbiooaVswXS1lWzBdKSx0WzFdPWVbMV0rbiooaVsxXS1lWzFdKSx0fSxhcHBseVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZVswXSxvPWVbMV07cmV0dXJuIHRbMF09aVswXSpuK2lbMl0qbytpWzRdLHRbMV09aVsxXSpuK2lbM10qbytpWzVdLHR9LG1pbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09TWF0aC5taW4oZVswXSxpWzBdKSx0WzFdPU1hdGgubWluKGVbMV0saVsxXSksdH0sbWF4OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFswXT1NYXRoLm1heChlWzBdLGlbMF0pLHRbMV09TWF0aC5tYXgoZVsxXSxpWzFdKSx0fX07bi5sZW5ndGg9bi5sZW4sbi5sZW5ndGhTcXVhcmU9bi5sZW5TcXVhcmUsbi5kaXN0PW4uZGlzdGFuY2Usbi5kaXN0U3F1YXJlPW4uZGlzdGFuY2VTcXVhcmUsdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXQuZmlsbDtyZXR1cm4gbnVsbCE9ZSYmXCJub25lXCIhPT1lfWZ1bmN0aW9uIG8odCl7dmFyIGU9dC5zdHJva2U7cmV0dXJuIG51bGwhPWUmJlwibm9uZVwiIT09ZSYmdC5saW5lV2lkdGg+MH1mdW5jdGlvbiBhKHQpe3IuY2FsbCh0aGlzLHQpLHRoaXMucGF0aD1uZXcgbH12YXIgcj1pKDM3KSxzPWkoMSksbD1pKDI4KSxoPWkoMTM2KSx1PShpKDE3KSxNYXRoLmFicyk7YS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmEsdHlwZTpcInBhdGhcIixfX2RpcnR5UGF0aDohMCxzdHJva2VDb250YWluVGhyZXNob2xkOjUsYnJ1c2g6ZnVuY3Rpb24odCl7dC5zYXZlKCk7dmFyIGU9dGhpcy5zdHlsZSxpPXRoaXMucGF0aCxhPW8oZSkscj1uKGUpLHM9ciYmISFlLmZpbGwuY29sb3JTdG9wcyxsPWEmJiEhZS5zdHJva2UuY29sb3JTdG9wcztpZihlLmJpbmQodCx0aGlzKSx0aGlzLnNldFRyYW5zZm9ybSh0KSx0aGlzLl9fZGlydHlQYXRoKXt2YXIgaD10aGlzLmdldEJvdW5kaW5nUmVjdCgpO3MmJih0aGlzLl9maWxsR3JhZGllbnQ9ZS5nZXRHcmFkaWVudCh0LGUuZmlsbCxoKSksbCYmKHRoaXMuX3N0cm9rZUdyYWRpZW50PWUuZ2V0R3JhZGllbnQodCxlLnN0cm9rZSxoKSl9cyYmKHQuZmlsbFN0eWxlPXRoaXMuX2ZpbGxHcmFkaWVudCksbCYmKHQuc3Ryb2tlU3R5bGU9dGhpcy5fc3Ryb2tlR3JhZGllbnQpO3ZhciB1PWUubGluZURhc2gsYz1lLmxpbmVEYXNoT2Zmc2V0LGQ9ISF0LnNldExpbmVEYXNoLGY9dGhpcy5nZXRHbG9iYWxTY2FsZSgpO2kuc2V0U2NhbGUoZlswXSxmWzFdKSx0aGlzLl9fZGlydHlQYXRofHx1JiYhZCYmYT8oaT10aGlzLnBhdGguYmVnaW5QYXRoKHQpLHUmJiFkJiYoaS5zZXRMaW5lRGFzaCh1KSxpLnNldExpbmVEYXNoT2Zmc2V0KGMpKSx0aGlzLmJ1aWxkUGF0aChpLHRoaXMuc2hhcGUpLHRoaXMuX19kaXJ0eVBhdGg9ITEpOih0LmJlZ2luUGF0aCgpLHRoaXMucGF0aC5yZWJ1aWxkUGF0aCh0KSksciYmaS5maWxsKHQpLHUmJmQmJih0LnNldExpbmVEYXNoKHUpLHQubGluZURhc2hPZmZzZXQ9YyksYSYmaS5zdHJva2UodCksbnVsbCE9ZS50ZXh0JiZ0aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpLHQucmVzdG9yZSgpfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLnN0eWxlLGk9IXQ7aWYoaSl7dmFyIGE9dGhpcy5wYXRoO3RoaXMuX19kaXJ0eVBhdGgmJihhLmJlZ2luUGF0aCgpLHRoaXMuYnVpbGRQYXRoKGEsdGhpcy5zaGFwZSkpLHQ9YS5nZXRCb3VuZGluZ1JlY3QoKX1pZih0aGlzLl9yZWN0PXQsbyhlKSl7dmFyIHI9dGhpcy5fcmVjdFdpdGhTdHJva2V8fCh0aGlzLl9yZWN0V2l0aFN0cm9rZT10LmNsb25lKCkpO2lmKHRoaXMuX19kaXJ0eXx8aSl7ci5jb3B5KHQpO3ZhciBzPWUubGluZVdpZHRoLGw9ZS5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtuKGUpfHwocz1NYXRoLm1heChzLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZCkpLGw+MWUtMTAmJihyLndpZHRoKz1zL2wsci5oZWlnaHQrPXMvbCxyLngtPXMvbC8yLHIueS09cy9sLzIpfXJldHVybiByfXJldHVybiB0fSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxhPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkscj10aGlzLnN0eWxlO2lmKHQ9aVswXSxlPWlbMV0sYS5jb250YWluKHQsZSkpe3ZhciBzPXRoaXMucGF0aC5kYXRhO2lmKG8ocikpe3ZhciBsPXIubGluZVdpZHRoLHU9ci5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtpZih1PjFlLTEwJiYobihyKXx8KGw9TWF0aC5tYXgobCx0aGlzLnN0cm9rZUNvbnRhaW5UaHJlc2hvbGQpKSxoLmNvbnRhaW5TdHJva2UocyxsL3UsdCxlKSkpcmV0dXJuITB9aWYobihyKSlyZXR1cm4gaC5jb250YWluKHMsdCxlKX1yZXR1cm4hMX0sZGlydHk6ZnVuY3Rpb24odCl7MD09PWFyZ3VtZW50cy5sZW5ndGgmJih0PSEwKSx0JiYodGhpcy5fX2RpcnR5UGF0aD10LHRoaXMuX3JlY3Q9bnVsbCksdGhpcy5fX2RpcnR5PSEwLHRoaXMuX196ciYmdGhpcy5fX3pyLnJlZnJlc2goKSx0aGlzLl9fY2xpcFRhcmdldCYmdGhpcy5fX2NsaXBUYXJnZXQuZGlydHkoKX0sYW5pbWF0ZVNoYXBlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoXCJzaGFwZVwiLHQpfSxhdHRyS1Y6ZnVuY3Rpb24odCxlKXtcInNoYXBlXCI9PT10P3RoaXMuc2V0U2hhcGUoZSk6ci5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyx0LGUpfSxzZXRTaGFwZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc2hhcGU7aWYoaSl7aWYocy5pc09iamVjdCh0KSlmb3IodmFyIG4gaW4gdClpW25dPXRbbl07ZWxzZSBpW3RdPWU7dGhpcy5kaXJ0eSghMCl9cmV0dXJuIHRoaXN9LGdldExpbmVTY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNmb3JtO3JldHVybiB0JiZ1KHRbMF0tMSk+MWUtMTAmJnUodFszXS0xKT4xZS0xMD9NYXRoLnNxcnQodSh0WzBdKnRbM10tdFsyXSp0WzFdKSk6MX19LGEuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUpe2EuY2FsbCh0aGlzLGUpLHQuc3R5bGUmJnRoaXMuc3R5bGUuZXh0ZW5kRnJvbSh0LnN0eWxlLCExKTt2YXIgaT10LnNoYXBlO2lmKGkpe3RoaXMuc2hhcGU9dGhpcy5zaGFwZXx8e307dmFyIG49dGhpcy5zaGFwZTtmb3IodmFyIG8gaW4gaSkhbi5oYXNPd25Qcm9wZXJ0eShvKSYmaS5oYXNPd25Qcm9wZXJ0eShvKSYmKG5bb109aVtvXSl9dC5pbml0JiZ0LmluaXQuY2FsbCh0aGlzLGUpfTtzLmluaGVyaXRzKGUsYSk7Zm9yKHZhciBpIGluIHQpXCJzdHlsZVwiIT09aSYmXCJzaGFwZVwiIT09aSYmKGUucHJvdG90eXBlW2ldPXRbaV0pO3JldHVybiBlfSxzLmluaGVyaXRzKGEsciksdC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDkpLG89aSg0KSxhPWkoMSkscj1bXCJ4XCIsXCJ5XCIsXCJ6XCIsXCJyYWRpdXNcIixcImFuZ2xlXCJdLHM9e307cy5jcmVhdGVOYW1lRWFjaD1mdW5jdGlvbih0LGUpe3Q9dC5zbGljZSgpO3ZhciBpPWEubWFwKHQscy5jYXBpdGFsRmlyc3QpO2U9KGV8fFtdKS5zbGljZSgpO3ZhciBuPWEubWFwKGUscy5jYXBpdGFsRmlyc3QpO3JldHVybiBmdW5jdGlvbihvLHIpe2EuZWFjaCh0LGZ1bmN0aW9uKHQsYSl7Zm9yKHZhciBzPXtuYW1lOnQsY2FwaXRhbDppW2FdfSxsPTA7bDxlLmxlbmd0aDtsKyspc1tlW2xdXT10K25bbF07by5jYWxsKHIscyl9KX19LHMuY2FwaXRhbEZpcnN0PWZ1bmN0aW9uKHQpe3JldHVybiB0P3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk6dH0scy5lYWNoQXhpc0RpbT1zLmNyZWF0ZU5hbWVFYWNoKHIsW1wiYXhpc0luZGV4XCIsXCJheGlzXCIsXCJpbmRleFwiXSkscy5ub3JtYWxpemVUb0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBhLmlzQXJyYXkodCk/dDpudWxsPT10P1tdOlt0XX0scy5jcmVhdGVMaW5rZWROb2Rlc0ZpbmRlcj1mdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBhLmluZGV4T2YoZS5ub2Rlcyx0KT49MH1mdW5jdGlvbiBvKHQsbil7dmFyIG89ITE7cmV0dXJuIGUoZnVuY3Rpb24oZSl7YS5lYWNoKGkodCxlKXx8W10sZnVuY3Rpb24odCl7bi5yZWNvcmRzW2UubmFtZV1bdF0mJihvPSEwKX0pfSksb31mdW5jdGlvbiByKHQsbil7bi5ub2Rlcy5wdXNoKHQpLGUoZnVuY3Rpb24oZSl7YS5lYWNoKGkodCxlKXx8W10sZnVuY3Rpb24odCl7bi5yZWNvcmRzW2UubmFtZV1bdF09ITB9KX0pfXJldHVybiBmdW5jdGlvbihpKXtmdW5jdGlvbiBhKHQpeyFuKHQscykmJm8odCxzKSYmKHIodCxzKSxsPSEwKX12YXIgcz17bm9kZXM6W10scmVjb3Jkczp7fX07aWYoZShmdW5jdGlvbih0KXtzLnJlY29yZHNbdC5uYW1lXT17fX0pLCFpKXJldHVybiBzO3IoaSxzKTt2YXIgbDtkbyBsPSExLHQoYSk7d2hpbGUobCk7cmV0dXJuIHN9fSxzLmRlZmF1bHRFbXBoYXNpcz1mdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBpPXQuZW1waGFzaXM9dC5lbXBoYXNpc3x8e30sbj10Lm5vcm1hbD10Lm5vcm1hbHx8e307YS5lYWNoKGUsZnVuY3Rpb24odCl7dmFyIGU9YS5yZXRyaWV2ZShpW3RdLG5bdF0pO251bGwhPWUmJihpW3RdPWUpfSl9fSxzLkxBQkVMX09QVElPTlM9W1wicG9zaXRpb25cIixcInNob3dcIixcInRleHRTdHlsZVwiLFwiZGlzdGFuY2VcIixcImZvcm1hdHRlclwiXSxzLmdldERhdGFJdGVtVmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJihudWxsPT10LnZhbHVlP3Q6dC52YWx1ZSl9LHMuY29udmVyRGF0YVZhbHVlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZSYmZS50eXBlO3JldHVyblwib3JkaW5hbFwiPT09aT90OihcInRpbWVcIiE9PWl8fGlzRmluaXRlKHQpfHxudWxsPT10fHxcIi1cIj09PXR8fCh0PStvLnBhcnNlRGF0ZSh0KSksbnVsbD09dHx8XCJcIj09PXQ/TmFOOit0KX0scy5kYXRhRm9ybWF0TWl4aW49e2dldERhdGFQYXJhbXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldERhdGEoZSksbj10aGlzLnNlcmllc0luZGV4LG89dGhpcy5uYW1lLGE9dGhpcy5nZXRSYXdWYWx1ZSh0LGUpLHI9aS5nZXRSYXdJbmRleCh0KSxzPWkuZ2V0TmFtZSh0LCEwKSxsPWkuZ2V0UmF3RGF0YUl0ZW0odCk7cmV0dXJue2NvbXBvbmVudFR5cGU6dGhpcy5tYWluVHlwZSxjb21wb25lbnRTdWJUeXBlOnRoaXMuc3ViVHlwZSxzZXJpZXNUeXBlOlwic2VyaWVzXCI9PT10aGlzLm1haW5UeXBlP3RoaXMuc3ViVHlwZTpudWxsLHNlcmllc0luZGV4Om4sc2VyaWVzTmFtZTpvLG5hbWU6cyxkYXRhSW5kZXg6cixkYXRhOmwsZGF0YVR5cGU6ZSx2YWx1ZTphLGNvbG9yOmkuZ2V0SXRlbVZpc3VhbCh0LFwiY29sb3JcIiksJHZhcnM6W1wic2VyaWVzTmFtZVwiLFwibmFtZVwiLFwidmFsdWVcIl19fSxnZXRGb3JtYXR0ZWRMYWJlbDpmdW5jdGlvbih0LGUsaSxvKXtlPWV8fFwibm9ybWFsXCI7dmFyIHI9dGhpcy5nZXREYXRhKGkpLHM9ci5nZXRJdGVtTW9kZWwodCksbD10aGlzLmdldERhdGFQYXJhbXModCxpKTtudWxsIT1vJiZhLmlzQXJyYXkobC52YWx1ZSkmJihsLnZhbHVlPWwudmFsdWVbb10pO3ZhciBoPXMuZ2V0KFtcImxhYmVsXCIsZSxcImZvcm1hdHRlclwiXSk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaD8obC5zdGF0dXM9ZSxoKGwpKTpcInN0cmluZ1wiPT10eXBlb2YgaD9uLmZvcm1hdFRwbChoLGwpOnZvaWQgMH0sZ2V0UmF3VmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldERhdGEoZSksbj1pLmdldFJhd0RhdGFJdGVtKHQpO3JldHVybiBudWxsIT1uP2EuaXNPYmplY3QobikmJiFhLmlzQXJyYXkobik/bi52YWx1ZTpuOnZvaWQgMH0sZm9ybWF0VG9vbHRpcDphLm5vb3B9LHMubWFwcGluZ1RvRXhpc3RzPWZ1bmN0aW9uKHQsZSl7ZT0oZXx8W10pLnNsaWNlKCk7dmFyIGk9YS5tYXAodHx8W10sZnVuY3Rpb24odCxlKXtyZXR1cm57ZXhpc3Q6dH19KTtyZXR1cm4gYS5lYWNoKGUsZnVuY3Rpb24odCxuKXtpZihhLmlzT2JqZWN0KHQpKWZvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcj1pW29dLmV4aXN0O2lmKCFpW29dLm9wdGlvbiYmKG51bGwhPXQuaWQmJnIuaWQ9PT10LmlkK1wiXCJ8fG51bGwhPXQubmFtZSYmIXMuaXNJZElubmVyKHQpJiYhcy5pc0lkSW5uZXIocikmJnIubmFtZT09PXQubmFtZStcIlwiKSl7aVtvXS5vcHRpb249dCxlW25dPW51bGw7YnJlYWt9fX0pLGEuZWFjaChlLGZ1bmN0aW9uKHQsZSl7aWYoYS5pc09iamVjdCh0KSl7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl0uZXhpc3Q7aWYoIWlbbl0ub3B0aW9uJiYhcy5pc0lkSW5uZXIobykmJm51bGw9PXQuaWQpe2lbbl0ub3B0aW9uPXQ7YnJlYWt9fW4+PWkubGVuZ3RoJiZpLnB1c2goe29wdGlvbjp0fSl9fSksaX0scy5pc0lkSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGEuaXNPYmplY3QodCkmJnQuaWQmJjA9PT0odC5pZCtcIlwiKS5pbmRleE9mKFwiXFx4MDBfZWNfXFx4MDBcIil9LHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSxuKXt0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9bn12YXIgbz1pKDUpLGE9aSgxOSkscj1vLmFwcGx5VHJhbnNmb3JtLHM9TWF0aC5taW4sbD1NYXRoLmFicyxoPU1hdGgubWF4O24ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpuLHVuaW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXModC54LHRoaXMueCksaT1zKHQueSx0aGlzLnkpO3RoaXMud2lkdGg9aCh0LngrdC53aWR0aCx0aGlzLngrdGhpcy53aWR0aCktZSx0aGlzLmhlaWdodD1oKHQueSt0LmhlaWdodCx0aGlzLnkrdGhpcy5oZWlnaHQpLWksdGhpcy54PWUsdGhpcy55PWl9LGFwcGx5VHJhbnNmb3JtOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT1bXTtyZXR1cm4gZnVuY3Rpb24oaSl7aSYmKHRbMF09dGhpcy54LHRbMV09dGhpcy55LGVbMF09dGhpcy54K3RoaXMud2lkdGgsZVsxXT10aGlzLnkrdGhpcy5oZWlnaHQscih0LHQsaSkscihlLGUsaSksdGhpcy54PXModFswXSxlWzBdKSx0aGlzLnk9cyh0WzFdLGVbMV0pLHRoaXMud2lkdGg9bChlWzBdLXRbMF0pLHRoaXMuaGVpZ2h0PWwoZVsxXS10WzFdKSl9fSgpLGNhbGN1bGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dC53aWR0aC9lLndpZHRoLG49dC5oZWlnaHQvZS5oZWlnaHQsbz1hLmNyZWF0ZSgpO3JldHVybiBhLnRyYW5zbGF0ZShvLG8sWy1lLngsLWUueV0pLGEuc2NhbGUobyxvLFtpLG5dKSxhLnRyYW5zbGF0ZShvLG8sW3QueCx0LnldKSxvfSxpbnRlcnNlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWUueCxuPWUueCtlLndpZHRoLG89ZS55LGE9ZS55K2UuaGVpZ2h0LHI9dC54LHM9dC54K3Qud2lkdGgsbD10LnksaD10LnkrdC5oZWlnaHQ7cmV0dXJuIShyPm58fGk+c3x8bD5hfHxvPmgpfSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gdD49aS54JiZ0PD1pLngraS53aWR0aCYmZT49aS55JiZlPD1pLnkraS5oZWlnaHR9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGNvcHk6ZnVuY3Rpb24odCl7dGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodH19LHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gaXNOYU4odCk/XCItXCI6KHQ9KHQrXCJcIikuc3BsaXQoXCIuXCIpLHRbMF0ucmVwbGFjZSgvKFxcZHsxLDN9KSg/PSg/OlxcZHszfSkrKD8hXFxkKSkvZyxcIiQxLFwiKSsodC5sZW5ndGg+MT9cIi5cIit0WzFdOlwiXCIpKX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvLSguKS9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pfWZ1bmN0aW9uIGEodCl7dmFyIGU9dC5sZW5ndGg7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/W3QsdCx0LHRdOjI9PT1lP1t0WzBdLHRbMV0sdFswXSx0WzFdXTozPT09ZT9bdFswXSx0WzFdLHRbMl0sdFsxXV06dH1mdW5jdGlvbiByKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLFwiJiMzOTtcIil9ZnVuY3Rpb24gcyh0LGUpe3JldHVyblwie1wiK3QrKG51bGw9PWU/XCJcIjplKStcIn1cIn1mdW5jdGlvbiBsKHQsZSl7Yy5pc0FycmF5KGUpfHwoZT1bZV0pO3ZhciBpPWUubGVuZ3RoO2lmKCFpKXJldHVyblwiXCI7Zm9yKHZhciBuPWVbMF0uJHZhcnMsbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1mW29dO3Q9dC5yZXBsYWNlKHMoYSkscyhhLDApKX1mb3IodmFyIHI9MDtpPnI7cisrKWZvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKXQ9dC5yZXBsYWNlKHMoZltsXSxyKSxlW3JdW25bbF1dKTtyZXR1cm4gdH1mdW5jdGlvbiBoKHQsZSl7XCJ3ZWVrXCIhPT10JiZcIm1vbnRoXCIhPT10JiZcInF1YXJ0ZXJcIiE9PXQmJlwiaGFsZi15ZWFyXCIhPT10JiZcInllYXJcIiE9PXR8fCh0PVwiTU0tZGRcXG55eXl5XCIpO3ZhciBpPWQucGFyc2VEYXRlKGUpLG49aS5nZXRGdWxsWWVhcigpLG89aS5nZXRNb250aCgpKzEsYT1pLmdldERhdGUoKSxyPWkuZ2V0SG91cnMoKSxzPWkuZ2V0TWludXRlcygpLGw9aS5nZXRTZWNvbmRzKCk7cmV0dXJuIHQ9dC5yZXBsYWNlKFwiTU1cIix1KG8pKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXCJ5eXl5XCIsbikucmVwbGFjZShcInl5XCIsbiUxMDApLnJlcGxhY2UoXCJkZFwiLHUoYSkpLnJlcGxhY2UoXCJkXCIsYSkucmVwbGFjZShcImhoXCIsdShyKSkucmVwbGFjZShcImhcIixyKS5yZXBsYWNlKFwibW1cIix1KHMpKS5yZXBsYWNlKFwibVwiLHMpLnJlcGxhY2UoXCJzc1wiLHUobCkpLnJlcGxhY2UoXCJzXCIsbCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gMTA+dD9cIjBcIit0OnR9dmFyIGM9aSgxKSxkPWkoNCksZj1bXCJhXCIsXCJiXCIsXCJjXCIsXCJkXCIsXCJlXCIsXCJmXCIsXCJnXCJdO3QuZXhwb3J0cz17bm9ybWFsaXplQ3NzQXJyYXk6YSxhZGRDb21tYXM6bix0b0NhbWVsQ2FzZTpvLGVuY29kZUhUTUw6cixmb3JtYXRUcGw6bCxmb3JtYXRUaW1lOmh9fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXt2YXIgZT1bXTtyZXR1cm4gYS5lYWNoKHUuZ2V0Q2xhc3Nlc0J5TWFpblR5cGUodCksZnVuY3Rpb24odCl7ci5hcHBseShlLHQucHJvdG90eXBlLmRlcGVuZGVuY2llc3x8W10pfSksYS5tYXAoZSxmdW5jdGlvbih0KXtyZXR1cm4gbC5wYXJzZUNsYXNzVHlwZSh0KS5tYWlufSl9dmFyIG89aSgxMiksYT1pKDEpLHI9QXJyYXkucHJvdG90eXBlLnB1c2gscz1pKDQyKSxsPWkoMjApLGg9aSgxMSksdT1vLmV4dGVuZCh7dHlwZTpcImNvbXBvbmVudFwiLGlkOlwiXCIsbmFtZTpcIlwiLG1haW5UeXBlOlwiXCIsc3ViVHlwZTpcIlwiLGNvbXBvbmVudEluZGV4OjAsZGVmYXVsdE9wdGlvbjpudWxsLGVjTW9kZWw6bnVsbCxkZXBlbmRlbnRNb2RlbHM6W10sdWlkOm51bGwsbGF5b3V0TW9kZTpudWxsLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0aGlzLm9wdGlvbix0aGlzLmVjTW9kZWwpfSxtZXJnZURlZmF1bHRBbmRUaGVtZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubGF5b3V0TW9kZSxuPWk/aC5nZXRMYXlvdXRQYXJhbXModCk6e30sbz1lLmdldFRoZW1lKCk7YS5tZXJnZSh0LG8uZ2V0KHRoaXMubWFpblR5cGUpKSxhLm1lcmdlKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLGkmJmgubWVyZ2VMYXlvdXRQYXJhbSh0LG4saSl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe2EubWVyZ2UodGhpcy5vcHRpb24sdCwhMCk7dmFyIGU9dGhpcy5sYXlvdXRNb2RlO2UmJmgubWVyZ2VMYXlvdXRQYXJhbSh0aGlzLm9wdGlvbix0LGUpfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQpe30sZ2V0RGVmYXVsdE9wdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzLmhhc093blByb3BlcnR5KFwiX19kZWZhdWx0T3B0aW9uXCIpKXtmb3IodmFyIHQ9W10sZT10aGlzLmNvbnN0cnVjdG9yO2U7KXt2YXIgaT1lLnByb3RvdHlwZS5kZWZhdWx0T3B0aW9uO2kmJnQucHVzaChpKSxlPWUuc3VwZXJDbGFzc31mb3IodmFyIG49e30sbz10Lmxlbmd0aC0xO28+PTA7by0tKW49YS5tZXJnZShuLHRbb10sITApO3RoaXMuX19kZWZhdWx0T3B0aW9uPW59cmV0dXJuIHRoaXMuX19kZWZhdWx0T3B0aW9ufX0pO2wuZW5hYmxlQ2xhc3NFeHRlbmQodSxmdW5jdGlvbih0LGUsaSxuKXthLmV4dGVuZCh0aGlzLG4pLHRoaXMudWlkPXMuZ2V0VUlEKFwiY29tcG9uZW50TW9kZWxcIil9KSxsLmVuYWJsZUNsYXNzTWFuYWdlbWVudCh1LHtyZWdpc3RlcldoZW5FeHRlbmQ6ITB9KSxzLmVuYWJsZVN1YlR5cGVEZWZhdWx0ZXIodSkscy5lbmFibGVUb3BvbG9naWNhbFRyYXZlbCh1LG4pLGEubWl4aW4odSxpKDExNSkpLHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSxuLG8pe3ZhciBhPTAscj0wO251bGw9PW4mJihuPTEvMCksbnVsbD09byYmKG89MS8wKTt2YXIgcz0wO2UuZWFjaENoaWxkKGZ1bmN0aW9uKGwsaCl7dmFyIHUsYyxkPWwucG9zaXRpb24sZj1sLmdldEJvdW5kaW5nUmVjdCgpLHA9ZS5jaGlsZEF0KGgrMSksZz1wJiZwLmdldEJvdW5kaW5nUmVjdCgpO2lmKFwiaG9yaXpvbnRhbFwiPT09dCl7dmFyIG09Zi53aWR0aCsoZz8tZy54K2YueDowKTt1PWErbSx1Pm58fGwubmV3bGluZT8oYT0wLHU9bSxyKz1zK2kscz1mLmhlaWdodCk6cz1NYXRoLm1heChzLGYuaGVpZ2h0KX1lbHNle3ZhciB2PWYuaGVpZ2h0KyhnPy1nLnkrZi55OjApO2M9cit2LGM+b3x8bC5uZXdsaW5lPyhhKz1zK2kscj0wLGM9dixzPWYud2lkdGgpOnM9TWF0aC5tYXgocyxmLndpZHRoKX1sLm5ld2xpbmV8fChkWzBdPWEsZFsxXT1yLFwiaG9yaXpvbnRhbFwiPT09dD9hPXUraTpyPWMraSl9KX12YXIgbz1pKDEpLGE9aSg4KSxyPWkoNCkscz1pKDkpLGw9ci5wYXJzZVBlcmNlbnQsaD1vLmVhY2gsdT17fSxjPVtcImxlZnRcIixcInJpZ2h0XCIsXCJ0b3BcIixcImJvdHRvbVwiLFwid2lkdGhcIixcImhlaWdodFwiXTt1LmJveD1uLHUudmJveD1vLmN1cnJ5KG4sXCJ2ZXJ0aWNhbFwiKSx1Lmhib3g9by5jdXJyeShuLFwiaG9yaXpvbnRhbFwiKSx1LmdldEF2YWlsYWJsZVNpemU9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUud2lkdGgsbz1lLmhlaWdodCxhPWwodC54LG4pLHI9bCh0LnksbyksaD1sKHQueDIsbiksdT1sKHQueTIsbyk7cmV0dXJuKGlzTmFOKGEpfHxpc05hTihwYXJzZUZsb2F0KHQueCkpKSYmKGE9MCksKGlzTmFOKGgpfHxpc05hTihwYXJzZUZsb2F0KHQueDIpKSkmJihoPW4pLChpc05hTihyKXx8aXNOYU4ocGFyc2VGbG9hdCh0LnkpKSkmJihyPTApLChpc05hTih1KXx8aXNOYU4ocGFyc2VGbG9hdCh0LnkyKSkpJiYodT1vKSxpPXMubm9ybWFsaXplQ3NzQXJyYXkoaXx8MCkse3dpZHRoOk1hdGgubWF4KGgtYS1pWzFdLWlbM10sMCksaGVpZ2h0Ok1hdGgubWF4KHUtci1pWzBdLWlbMl0sMCl9fSx1LmdldExheW91dFJlY3Q9ZnVuY3Rpb24odCxlLGkpe2k9cy5ub3JtYWxpemVDc3NBcnJheShpfHwwKTt2YXIgbj1lLndpZHRoLG89ZS5oZWlnaHQscj1sKHQubGVmdCxuKSxoPWwodC50b3AsbyksdT1sKHQucmlnaHQsbiksYz1sKHQuYm90dG9tLG8pLGQ9bCh0LndpZHRoLG4pLGY9bCh0LmhlaWdodCxvKSxwPWlbMl0raVswXSxnPWlbMV0raVszXSxtPXQuYXNwZWN0O3N3aXRjaChpc05hTihkKSYmKGQ9bi11LWctciksaXNOYU4oZikmJihmPW8tYy1wLWgpLGlzTmFOKGQpJiZpc05hTihmKSYmKG0+bi9vP2Q9LjgqbjpmPS44Km8pLG51bGwhPW0mJihpc05hTihkKSYmKGQ9bSpmKSxpc05hTihmKSYmKGY9ZC9tKSksaXNOYU4ocikmJihyPW4tdS1kLWcpLGlzTmFOKGgpJiYoaD1vLWMtZi1wKSx0LmxlZnR8fHQucmlnaHQpe2Nhc2VcImNlbnRlclwiOnI9bi8yLWQvMi1pWzNdO2JyZWFrO2Nhc2VcInJpZ2h0XCI6cj1uLWQtZ31zd2l0Y2godC50b3B8fHQuYm90dG9tKXtjYXNlXCJtaWRkbGVcIjpjYXNlXCJjZW50ZXJcIjpoPW8vMi1mLzItaVswXTticmVhaztjYXNlXCJib3R0b21cIjpoPW8tZi1wfXI9cnx8MCxoPWh8fDAsaXNOYU4oZCkmJihkPW4tci0odXx8MCkpLGlzTmFOKGYpJiYoZj1vLWgtKGN8fDApKTt2YXIgdj1uZXcgYShyK2lbM10saCtpWzBdLGQsZik7cmV0dXJuIHYubWFyZ2luPWksdn0sdS5wb3NpdGlvbkdyb3VwPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBhPXQuZ2V0Qm91bmRpbmdSZWN0KCk7ZT1vLmV4dGVuZChvLmNsb25lKGUpLHt3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodH0pLGU9dS5nZXRMYXlvdXRSZWN0KGUsaSxuKSx0LnBvc2l0aW9uPVtlLngtYS54LGUueS1hLnldfSx1Lm1lcmdlTGF5b3V0UGFyYW09ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4obil7dmFyIG89e30scz0wLGw9e30sdT0wLGM9aS5pZ25vcmVTaXplPzE6MjtpZihoKG4sZnVuY3Rpb24oZSl7bFtlXT10W2VdfSksaChuLGZ1bmN0aW9uKHQpe2EoZSx0KSYmKG9bdF09bFt0XT1lW3RdKSxyKG8sdCkmJnMrKyxyKGwsdCkmJnUrK30pLHUhPT1jJiZzKXtpZihzPj1jKXJldHVybiBvO2Zvcih2YXIgZD0wO2Q8bi5sZW5ndGg7ZCsrKXt2YXIgZj1uW2RdO2lmKCFhKG8sZikmJmEodCxmKSl7b1tmXT10W2ZdO2JyZWFrfX1yZXR1cm4gb31yZXR1cm4gbH1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gcih0LGUpe3JldHVybiBudWxsIT10W2VdJiZcImF1dG9cIiE9PXRbZV19ZnVuY3Rpb24gcyh0LGUsaSl7aCh0LGZ1bmN0aW9uKHQpe2VbdF09aVt0XX0pfSFvLmlzT2JqZWN0KGkpJiYoaT17fSk7dmFyIGw9W1wid2lkdGhcIixcImxlZnRcIixcInJpZ2h0XCJdLHU9W1wiaGVpZ2h0XCIsXCJ0b3BcIixcImJvdHRvbVwiXSxjPW4obCksZD1uKHUpO3MobCx0LGMpLHModSx0LGQpfSx1LmdldExheW91dFBhcmFtcz1mdW5jdGlvbih0KXtyZXR1cm4gdS5jb3B5TGF5b3V0UGFyYW1zKHt9LHQpfSx1LmNvcHlMYXlvdXRQYXJhbXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSYmdCYmaChjLGZ1bmN0aW9uKGkpe2UuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSksdH0sdC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpLG4pe3RoaXMucGFyZW50TW9kZWw9ZSx0aGlzLmVjTW9kZWw9aSx0aGlzLm9wdGlvbj10LHRoaXMuaW5pdCYmKGFyZ3VtZW50cy5sZW5ndGg8PTQ/dGhpcy5pbml0KHQsZSxpLG4pOnRoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXZhciBvPWkoMSksYT1pKDIwKTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixpbml0Om51bGwsbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7by5tZXJnZSh0aGlzLm9wdGlvbix0LCEwKX0sZ2V0OmZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMub3B0aW9uO1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10LnNwbGl0KFwiLlwiKSk7Zm9yKHZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5wYXJlbnRNb2RlbCxvPTA7bzx0Lmxlbmd0aCYmKCF0W29dfHwoaT1pJiZcIm9iamVjdFwiPT10eXBlb2YgaT9pW3Rbb11dOm51bGwsbnVsbCE9aSkpO28rKyk7cmV0dXJuIG51bGw9PWkmJm4mJiFlJiYoaT1uLmdldCh0KSksaX0sZ2V0U2hhbGxvdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49aSYmaVt0XSxvPXRoaXMucGFyZW50TW9kZWw7cmV0dXJuIG51bGw9PW4mJm8mJiFlJiYobj1vLmdldFNoYWxsb3codCkpLG59LGdldE1vZGVsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXQodCwhMCksbz10aGlzLnBhcmVudE1vZGVsLGE9bmV3IG4oaSxlfHxvJiZvLmdldE1vZGVsKHQpLHRoaXMuZWNNb2RlbCk7cmV0dXJuIGF9LGlzRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5vcHRpb259LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIG5ldyB0KG8uY2xvbmUodGhpcy5vcHRpb24pKX0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24odCl7YS5zZXRSZWFkT25seSh0aGlzLHQpfX0sYS5lbmFibGVDbGFzc0V4dGVuZChuKTt2YXIgcj1vLm1peGluO3IobixpKDExNykpLHIobixpKDExNCkpLHIobixpKDExOCkpLHIobixpKDExNikpLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxvPWkoOSksYT1pKDcpLHI9aSgxMCkscz1vLmVuY29kZUhUTUwsbD1vLmFkZENvbW1hcyxoPXIuZXh0ZW5kKHt0eXBlOlwic2VyaWVzLl9fYmFzZV9fXCIsc2VyaWVzSW5kZXg6MCxjb29yZGluYXRlU3lzdGVtOm51bGwsZGVmYXVsdE9wdGlvbjpudWxsLGxlZ2VuZERhdGFQcm92aWRlcjpudWxsLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5zZXJpZXNJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKSx0aGlzLl9kYXRhQmVmb3JlUHJvY2Vzc2VkPXRoaXMuZ2V0SW5pdGlhbERhdGEodCxpKSx0aGlzLl9kYXRhPXRoaXMuX2RhdGFCZWZvcmVQcm9jZXNzZWQuY2xvbmVTaGFsbG93KCl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQsZSl7bi5tZXJnZSh0LGUuZ2V0VGhlbWUoKS5nZXQodGhpcy5zdWJUeXBlKSksbi5tZXJnZSh0LHRoaXMuZ2V0RGVmYXVsdE9wdGlvbigpKSxhLmRlZmF1bHRFbXBoYXNpcyh0LmxhYmVsLGEuTEFCRUxfT1BUSU9OUyksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0LGUpe3Q9bi5tZXJnZSh0aGlzLm9wdGlvbix0LCEwKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSk7dmFyIGk9dGhpcy5nZXRJbml0aWFsRGF0YSh0LGUpO2kmJih0aGlzLl9kYXRhPWksdGhpcy5fZGF0YUJlZm9yZVByb2Nlc3NlZD1pLmNsb25lU2hhbGxvdygpKX0sZmlsbERhdGFUZXh0U3R5bGU6ZnVuY3Rpb24odCl7aWYodClmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdJiZ0W2VdLmxhYmVsJiZhLmRlZmF1bHRFbXBoYXNpcyh0W2VdLmxhYmVsLGEuTEFCRUxfT1BUSU9OUyl9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKCl7fSxnZXREYXRhOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3RoaXMuX2RhdGE6dGhpcy5fZGF0YS5nZXRMaW5rZWREYXRhKHQpfSxzZXREYXRhOmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH0sZ2V0UmF3RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhQmVmb3JlUHJvY2Vzc2VkfSxjb29yZERpbVRvRGF0YURpbTpmdW5jdGlvbih0KXtyZXR1cm5bdF19LGRhdGFEaW1Ub0Nvb3JkRGltOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxnZXRCYXNlQXhpczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdCYmdC5nZXRCYXNlQXhpcyYmdC5nZXRCYXNlQXhpcygpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLl9kYXRhLGE9dGhpcy5nZXRSYXdWYWx1ZSh0KSxyPW4uaXNBcnJheShhKT9uLm1hcChhLGwpLmpvaW4oXCIsIFwiKTpsKGEpLGg9by5nZXROYW1lKHQpLHU9by5nZXRJdGVtVmlzdWFsKHQsXCJjb2xvclwiKSxjPSc8c3BhbiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo1cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjlweDtoZWlnaHQ6OXB4O2JhY2tncm91bmQtY29sb3I6Jyt1KydcIj48L3NwYW4+JyxkPXRoaXMubmFtZTtyZXR1cm5cIlxceDAwLVwiPT09ZCYmKGQ9XCJcIiksZT9jK3ModGhpcy5uYW1lKStcIiA6IFwiK3I6KGQmJnMoZCkrXCI8YnIgLz5cIikrYysoaD9zKGgpK1wiIDogXCIrcjpyKX0scmVzdG9yZURhdGE6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPXRoaXMuX2RhdGFCZWZvcmVQcm9jZXNzZWQuY2xvbmVTaGFsbG93KCl9LGdldEF4aXNUb29sdGlwRGF0YUluZGV4Om51bGx9KTtuLm1peGluKGgsYS5kYXRhRm9ybWF0TWl4aW4pLHQuZXhwb3J0cz1ofSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7dmFyIGU9e30saT17fSxuPXQubWF0Y2goL1dlYltrS11pdFtcXC9dezAsMX0oW1xcZC5dKykvKSxvPXQubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pLGE9dC5tYXRjaCgvKGlQYWQpLipPU1xccyhbXFxkX10rKS8pLHI9dC5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pLHM9IWEmJnQubWF0Y2goLyhpUGhvbmVcXHNPUylcXHMoW1xcZF9dKykvKSxsPXQubWF0Y2goLyh3ZWJPU3xocHdPUylbXFxzXFwvXShbXFxkLl0rKS8pLGg9bCYmdC5tYXRjaCgvVG91Y2hQYWQvKSx1PXQubWF0Y2goL0tpbmRsZVxcLyhbXFxkLl0rKS8pLGM9dC5tYXRjaCgvU2lsa1xcLyhbXFxkLl9dKykvKSxkPXQubWF0Y2goLyhCbGFja0JlcnJ5KS4qVmVyc2lvblxcLyhbXFxkLl0rKS8pLGY9dC5tYXRjaCgvKEJCMTApLipWZXJzaW9uXFwvKFtcXGQuXSspLykscD10Lm1hdGNoKC8oUklNXFxzVGFibGV0XFxzT1MpXFxzKFtcXGQuXSspLyksZz10Lm1hdGNoKC9QbGF5Qm9vay8pLG09dC5tYXRjaCgvQ2hyb21lXFwvKFtcXGQuXSspLyl8fHQubWF0Y2goL0NyaU9TXFwvKFtcXGQuXSspLyksdj10Lm1hdGNoKC9GaXJlZm94XFwvKFtcXGQuXSspLykseT1uJiZ0Lm1hdGNoKC9Nb2JpbGVcXC8vKSYmIW0seD10Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpLykmJiFtLF89dC5tYXRjaCgvTVNJRVxccyhbXFxkLl0rKS8pfHx0Lm1hdGNoKC9UcmlkZW50XFwvLis/cnY6KChbXFxkLl0rKSkvKSxiPXQubWF0Y2goL0VkZ2VcXC8oW1xcZC5dKykvKTtyZXR1cm4oaS53ZWJraXQ9ISFuKSYmKGkudmVyc2lvbj1uWzFdKSxvJiYoZS5hbmRyb2lkPSEwLGUudmVyc2lvbj1vWzJdKSxzJiYhciYmKGUuaW9zPWUuaXBob25lPSEwLGUudmVyc2lvbj1zWzJdLnJlcGxhY2UoL18vZyxcIi5cIikpLGEmJihlLmlvcz1lLmlwYWQ9ITAsZS52ZXJzaW9uPWFbMl0ucmVwbGFjZSgvXy9nLFwiLlwiKSksciYmKGUuaW9zPWUuaXBvZD0hMCxlLnZlcnNpb249clszXT9yWzNdLnJlcGxhY2UoL18vZyxcIi5cIik6bnVsbCksbCYmKGUud2Vib3M9ITAsZS52ZXJzaW9uPWxbMl0pLGgmJihlLnRvdWNocGFkPSEwKSxkJiYoZS5ibGFja2JlcnJ5PSEwLGUudmVyc2lvbj1kWzJdKSxmJiYoZS5iYjEwPSEwLGUudmVyc2lvbj1mWzJdKSxwJiYoZS5yaW10YWJsZXRvcz0hMCxlLnZlcnNpb249cFsyXSksZyYmKGkucGxheWJvb2s9ITApLHUmJihlLmtpbmRsZT0hMCxlLnZlcnNpb249dVsxXSksYyYmKGkuc2lsaz0hMCxpLnZlcnNpb249Y1sxXSksIWMmJmUuYW5kcm9pZCYmdC5tYXRjaCgvS2luZGxlIEZpcmUvKSYmKGkuc2lsaz0hMCksbSYmKGkuY2hyb21lPSEwLGkudmVyc2lvbj1tWzFdKSx2JiYoaS5maXJlZm94PSEwLGkudmVyc2lvbj12WzFdKSxfJiYoaS5pZT0hMCxpLnZlcnNpb249X1sxXSkseSYmKHQubWF0Y2goL1NhZmFyaS8pfHxlLmlvcykmJihpLnNhZmFyaT0hMCkseCYmKGkud2Vidmlldz0hMCksXyYmKGkuaWU9ITAsaS52ZXJzaW9uPV9bMV0pLGImJihpLmVkZ2U9ITAsaS52ZXJzaW9uPWJbMV0pLGUudGFibGV0PSEhKGF8fGd8fG8mJiF0Lm1hdGNoKC9Nb2JpbGUvKXx8diYmdC5tYXRjaCgvVGFibGV0Lyl8fF8mJiF0Lm1hdGNoKC9QaG9uZS8pJiZ0Lm1hdGNoKC9Ub3VjaC8pKSxlLnBob25lPSEoZS50YWJsZXR8fGUuaXBvZHx8IShvfHxzfHxsfHxkfHxmfHxtJiZ0Lm1hdGNoKC9BbmRyb2lkLyl8fG0mJnQubWF0Y2goL0NyaU9TXFwvKFtcXGQuXSspLyl8fHYmJnQubWF0Y2goL01vYmlsZS8pfHxfJiZ0Lm1hdGNoKC9Ub3VjaC8pKSkse2Jyb3dzZXI6aSxvczplLG5vZGU6ITEsY2FudmFzU3VwcG9ydGVkOiEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0LHRvdWNoRXZlbnRzU3VwcG9ydGVkOlwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3cmJiFpLmllJiYhaS5lZGdlLHBvaW50ZXJFdmVudHNTdXBwb3J0ZWQ6XCJvbnBvaW50ZXJkb3duXCJpbiB3aW5kb3cmJihpLmVkZ2V8fGkuaWUmJmkudmVyc2lvbj49MTApfX12YXIgbj17fTtuPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3I/e2Jyb3dzZXI6e30sb3M6e30sbm9kZTohMCxjYW52YXNTdXBwb3J0ZWQ6ITB9OmkobmF2aWdhdG9yLnVzZXJBZ2VudCksdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gZC5pc0FycmF5KHQpfHwodD1bdF0pLHR9ZnVuY3Rpb24gbyh0LGUpe3ZhciBpPXQuZGltZW5zaW9ucyxuPW5ldyB2KGQubWFwKGksdC5nZXREaW1lbnNpb25JbmZvLHQpLHQuaG9zdE1vZGVsKTttKG4sdCk7Zm9yKHZhciBvPW4uX3N0b3JhZ2U9e30sYT10Ll9zdG9yYWdlLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIHM9aVtyXSxsPWFbc107ZC5pbmRleE9mKGUscyk+PTA/b1tzXT1uZXcgbC5jb25zdHJ1Y3RvcihhW3NdLmxlbmd0aCk6b1tzXT1hW3NdO1xufXJldHVybiBufXZhciBhPVwidW5kZWZpbmVkXCIscj1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P2U6d2luZG93LHM9dHlwZW9mIHIuRmxvYXQ2NEFycmF5PT09YT9BcnJheTpyLkZsb2F0NjRBcnJheSxsPXR5cGVvZiByLkludDMyQXJyYXk9PT1hP0FycmF5OnIuSW50MzJBcnJheSxoPXtcImZsb2F0XCI6cyxcImludFwiOmwsb3JkaW5hbDpBcnJheSxudW1iZXI6QXJyYXksdGltZTpBcnJheX0sdT1pKDEyKSxjPWkoNDgpLGQ9aSgxKSxmPWkoNykscD1kLmlzT2JqZWN0LGc9W1wic3RhY2tlZE9uXCIsXCJfbmFtZUxpc3RcIixcIl9pZExpc3RcIixcIl9yYXdEYXRhXCJdLG09ZnVuY3Rpb24odCxlKXtkLmVhY2goZy5jb25jYXQoZS5fX3dyYXBwZWRNZXRob2RzfHxbXSksZnVuY3Rpb24oaSl7ZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KSx0Ll9fd3JhcHBlZE1ldGhvZHM9ZS5fX3dyYXBwZWRNZXRob2RzfSx2PWZ1bmN0aW9uKHQsZSl7dD10fHxbXCJ4XCIsXCJ5XCJdO2Zvcih2YXIgaT17fSxuPVtdLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGEscj17fTtcInN0cmluZ1wiPT10eXBlb2YgdFtvXT8oYT10W29dLHI9e25hbWU6YSxzdGFja2FibGU6ITEsdHlwZTpcIm51bWJlclwifSk6KHI9dFtvXSxhPXIubmFtZSxyLnR5cGU9ci50eXBlfHxcIm51bWJlclwiKSxuLnB1c2goYSksaVthXT1yfXRoaXMuZGltZW5zaW9ucz1uLHRoaXMuX2RpbWVuc2lvbkluZm9zPWksdGhpcy5ob3N0TW9kZWw9ZSx0aGlzLmRhdGFUeXBlLHRoaXMuaW5kaWNlcz1bXSx0aGlzLl9zdG9yYWdlPXt9LHRoaXMuX25hbWVMaXN0PVtdLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl9vcHRpb25Nb2RlbHM9W10sdGhpcy5zdGFja2VkT249bnVsbCx0aGlzLl92aXN1YWw9e30sdGhpcy5fbGF5b3V0PXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuX2l0ZW1MYXlvdXRzPVtdLHRoaXMuX2dyYXBoaWNFbHM9W10sdGhpcy5fcmF3RGF0YSx0aGlzLl9leHRlbnR9LHk9di5wcm90b3R5cGU7eS50eXBlPVwibGlzdFwiLHkuZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0KXx8KHQ9dGhpcy5kaW1lbnNpb25zW3RdfHx0KSx0fSx5LmdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIGQuY2xvbmUodGhpcy5fZGltZW5zaW9uSW5mb3NbdGhpcy5nZXREaW1lbnNpb24odCldKX0seS5pbml0RGF0YT1mdW5jdGlvbih0LGUsaSl7aWYodD10fHxbXSwhZC5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YS5cIik7dGhpcy5fcmF3RGF0YT10O3ZhciBuPXRoaXMuX3N0b3JhZ2U9e30sbz10aGlzLmluZGljZXM9W10sYT10aGlzLmRpbWVuc2lvbnMscj10Lmxlbmd0aCxzPXRoaXMuX2RpbWVuc2lvbkluZm9zLGw9W10sdT17fTtlPWV8fFtdO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgcD1zW2FbY11dLGc9aFtwLnR5cGVdO25bYVtjXV09bmV3IGcocil9aT1pfHxmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1mLmdldERhdGFJdGVtVmFsdWUodCk7cmV0dXJuIGYuY29udmVyRGF0YVZhbHVlKGQuaXNBcnJheShvKT9vW25dOm8sc1tlXSl9O2Zvcih2YXIgbT0wO208dC5sZW5ndGg7bSsrKXtmb3IodmFyIHY9dFttXSx5PTA7eTxhLmxlbmd0aDt5Kyspe3ZhciB4PWFbeV0sXz1uW3hdO19bbV09aSh2LHgsbSx5KX1vLnB1c2gobSl9Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciBiPVwiXCI7ZVtjXXx8KGVbY109dFtjXS5uYW1lLGI9dFtjXS5pZCk7dmFyIHc9ZVtjXXx8XCJcIjshYiYmdyYmKHVbd109dVt3XXx8MCxiPXcsdVt3XT4wJiYoYis9XCJfX2VjX19cIit1W3ddKSx1W3ddKyspLGImJihsW2NdPWIpfXRoaXMuX25hbWVMaXN0PWUsdGhpcy5faWRMaXN0PWx9LHkuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRpY2VzLmxlbmd0aH0seS5nZXQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX3N0b3JhZ2Usbz10aGlzLmluZGljZXNbZV07aWYobnVsbD09bylyZXR1cm4gTmFOO3ZhciBhPW5bdF0mJm5bdF1bb107aWYoaSl7dmFyIHI9dGhpcy5fZGltZW5zaW9uSW5mb3NbdF07aWYociYmci5zdGFja2FibGUpZm9yKHZhciBzPXRoaXMuc3RhY2tlZE9uO3M7KXt2YXIgbD1zLmdldCh0LGUpOyhhPj0wJiZsPjB8fDA+PWEmJjA+bCkmJihhKz1sKSxzPXMuc3RhY2tlZE9ufX1yZXR1cm4gYX0seS5nZXRWYWx1ZXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVtdO2QuaXNBcnJheSh0KXx8KGk9ZSxlPXQsdD10aGlzLmRpbWVuc2lvbnMpO2Zvcih2YXIgbz0wLGE9dC5sZW5ndGg7YT5vO28rKyluLnB1c2godGhpcy5nZXQodFtvXSxlLGkpKTtyZXR1cm4gbn0seS5oYXNWYWx1ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kaW1lbnNpb25zLGk9dGhpcy5fZGltZW5zaW9uSW5mb3Msbj0wLG89ZS5sZW5ndGg7bz5uO24rKylpZihcIm9yZGluYWxcIiE9PWlbZVtuXV0udHlwZSYmaXNOYU4odGhpcy5nZXQoZVtuXSx0KSkpcmV0dXJuITE7cmV0dXJuITB9LHkuZ2V0RGF0YUV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3N0b3JhZ2VbdF0sbj10aGlzLmdldERpbWVuc2lvbkluZm8odCk7ZT1uJiZuLnN0YWNrYWJsZSYmZTt2YXIgbyxhPSh0aGlzLl9leHRlbnR8fCh0aGlzLl9leHRlbnQ9e30pKVt0KyEhZV07aWYoYSlyZXR1cm4gYTtpZihpKXtmb3IodmFyIHI9MS8wLHM9LSgxLzApLGw9MCxoPXRoaXMuY291bnQoKTtoPmw7bCsrKW89dGhpcy5nZXQodCxsLGUpLHI+byYmKHI9byksbz5zJiYocz1vKTtyZXR1cm4gdGhpcy5fZXh0ZW50W3QrZV09W3Isc119cmV0dXJuWzEvMCwtKDEvMCldfSx5LmdldFN1bT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3N0b3JhZ2VbdF0sbj0wO2lmKGkpZm9yKHZhciBvPTAsYT10aGlzLmNvdW50KCk7YT5vO28rKyl7dmFyIHI9dGhpcy5nZXQodCxvLGUpO2lzTmFOKHIpfHwobis9cil9cmV0dXJuIG59LHkuaW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3N0b3JhZ2Usbj1pW3RdLG89dGhpcy5pbmRpY2VzO2lmKG4pZm9yKHZhciBhPTAscj1vLmxlbmd0aDtyPmE7YSsrKXt2YXIgcz1vW2FdO2lmKG5bc109PT1lKXJldHVybiBhfXJldHVybi0xfSx5LmluZGV4T2ZOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmluZGljZXMsaT10aGlzLl9uYW1lTGlzdCxuPTAsbz1lLmxlbmd0aDtvPm47bisrKXt2YXIgYT1lW25dO2lmKGlbYV09PT10KXJldHVybiBufXJldHVybi0xfSx5LmluZGV4T2ZOZWFyZXN0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9zdG9yYWdlLG89blt0XTtpZihvKXtmb3IodmFyIGE9TnVtYmVyLk1BWF9WQUxVRSxyPS0xLHM9MCxsPXRoaXMuY291bnQoKTtsPnM7cysrKXt2YXIgaD1lLXRoaXMuZ2V0KHQscyxpKSx1PU1hdGguYWJzKGgpOyhhPnV8fHU9PT1hJiZoPjApJiYoYT11LHI9cyl9cmV0dXJuIHJ9cmV0dXJuLTF9LHkuZ2V0UmF3SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmRpY2VzW3RdO3JldHVybiBudWxsPT1lPy0xOmV9LHkuZ2V0UmF3RGF0YUl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Jhd0RhdGFbdGhpcy5nZXRSYXdJbmRleCh0KV19LHkuZ2V0TmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbmFtZUxpc3RbdGhpcy5pbmRpY2VzW3RdXXx8XCJcIn0seS5nZXRJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faWRMaXN0W3RoaXMuaW5kaWNlc1t0XV18fHRoaXMuZ2V0UmF3SW5kZXgodCkrXCJcIn0seS5lYWNoPWZ1bmN0aW9uKHQsZSxpLG8pe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihvPWksaT1lLGU9dCx0PVtdKSx0PWQubWFwKG4odCksdGhpcy5nZXREaW1lbnNpb24sdGhpcyk7dmFyIGE9W10scj10Lmxlbmd0aCxzPXRoaXMuaW5kaWNlcztvPW98fHRoaXM7Zm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspaWYoMD09PXIpZS5jYWxsKG8sbCk7ZWxzZSBpZigxPT09cillLmNhbGwobyx0aGlzLmdldCh0WzBdLGwsaSksbCk7ZWxzZXtmb3IodmFyIGg9MDtyPmg7aCsrKWFbaF09dGhpcy5nZXQodFtoXSxsLGkpO2FbaF09bCxlLmFwcGx5KG8sYSl9fSx5LmZpbHRlclNlbGY9ZnVuY3Rpb24odCxlLGksbyl7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG89aSxpPWUsZT10LHQ9W10pLHQ9ZC5tYXAobih0KSx0aGlzLmdldERpbWVuc2lvbix0aGlzKTt2YXIgYT1bXSxyPVtdLHM9dC5sZW5ndGgsbD10aGlzLmluZGljZXM7bz1vfHx0aGlzO2Zvcih2YXIgaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgdTtpZigxPT09cyl1PWUuY2FsbChvLHRoaXMuZ2V0KHRbMF0saCxpKSxoKTtlbHNle2Zvcih2YXIgYz0wO3M+YztjKyspcltjXT10aGlzLmdldCh0W2NdLGgsaSk7cltjXT1oLHU9ZS5hcHBseShvLHIpfXUmJmEucHVzaChsW2hdKX1yZXR1cm4gdGhpcy5pbmRpY2VzPWEsdGhpcy5fZXh0ZW50PXt9LHRoaXN9LHkubWFwQXJyYXk9ZnVuY3Rpb24odCxlLGksbil7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49aSxpPWUsZT10LHQ9W10pO3ZhciBvPVtdO3JldHVybiB0aGlzLmVhY2godCxmdW5jdGlvbigpe28ucHVzaChlJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGksbiksb30seS5tYXA9ZnVuY3Rpb24odCxlLGksYSl7dD1kLm1hcChuKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpO3ZhciByPW8odGhpcyx0KSxzPXIuaW5kaWNlcz10aGlzLmluZGljZXMsbD1yLl9zdG9yYWdlLGg9W107cmV0dXJuIHRoaXMuZWFjaCh0LGZ1bmN0aW9uKCl7dmFyIGk9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV0sbj1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT1uKXtcIm51bWJlclwiPT10eXBlb2YgbiYmKGhbMF09bixuPWgpO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT10W29dLHI9bFthXSx1PXNbaV07ciYmKHJbdV09bltvXSl9fX0saSxhKSxyfSx5LmRvd25TYW1wbGU9ZnVuY3Rpb24odCxlLGksbil7Zm9yKHZhciBhPW8odGhpcyxbdF0pLHI9dGhpcy5fc3RvcmFnZSxzPWEuX3N0b3JhZ2UsbD10aGlzLmluZGljZXMsaD1hLmluZGljZXM9W10sdT1bXSxjPVtdLGQ9TWF0aC5mbG9vcigxL2UpLGY9c1t0XSxwPXRoaXMuY291bnQoKSxnPTA7ZzxyW3RdLmxlbmd0aDtnKyspc1t0XVtnXT1yW3RdW2ddO2Zvcih2YXIgZz0wO3A+ZztnKz1kKXtkPnAtZyYmKGQ9cC1nLHUubGVuZ3RoPWQpO2Zvcih2YXIgbT0wO2Q+bTttKyspe3ZhciB2PWxbZyttXTt1W21dPWZbdl0sY1ttXT12fXZhciB5PWkodSksdj1jW24odSx5KXx8MF07Zlt2XT15LGgucHVzaCh2KX1yZXR1cm4gYX0seS5nZXRJdGVtTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0TW9kZWw7cmV0dXJuIHQ9dGhpcy5pbmRpY2VzW3RdLG5ldyB1KHRoaXMuX3Jhd0RhdGFbdF0sZSxlJiZlLmVjTW9kZWwpfSx5LmRpZmY9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faWRMaXN0LGk9dCYmdC5faWRMaXN0O3JldHVybiBuZXcgYyh0P3QuaW5kaWNlczpbXSx0aGlzLmluZGljZXMsZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fHQrXCJcIn0sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF18fHQrXCJcIn0pfSx5LmdldFZpc3VhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aXN1YWw7cmV0dXJuIGUmJmVbdF19LHkuc2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7aWYocCh0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnNldFZpc3VhbChpLHRbaV0pO2Vsc2UgdGhpcy5fdmlzdWFsPXRoaXMuX3Zpc3VhbHx8e30sdGhpcy5fdmlzdWFsW3RdPWV9LHkuc2V0TGF5b3V0PWZ1bmN0aW9uKHQsZSl7aWYocCh0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnNldExheW91dChpLHRbaV0pO2Vsc2UgdGhpcy5fbGF5b3V0W3RdPWV9LHkuZ2V0TGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXlvdXRbdF19LHkuZ2V0SXRlbUxheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlbUxheW91dHNbdF19LHkuc2V0SXRlbUxheW91dD1mdW5jdGlvbih0LGUsaSl7dGhpcy5faXRlbUxheW91dHNbdF09aT9kLmV4dGVuZCh0aGlzLl9pdGVtTGF5b3V0c1t0XXx8e30sZSk6ZX0seS5jbGVhckl0ZW1MYXlvdXRzPWZ1bmN0aW9uKCl7dGhpcy5faXRlbUxheW91dHMubGVuZ3RoPTB9LHkuZ2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5faXRlbVZpc3VhbHNbdF0sbz1uJiZuW2VdO3JldHVybiBudWxsIT1vfHxpP286dGhpcy5nZXRWaXN1YWwoZSl9LHkuc2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5faXRlbVZpc3VhbHNbdF18fHt9O2lmKHRoaXMuX2l0ZW1WaXN1YWxzW3RdPW4scChlKSlmb3IodmFyIG8gaW4gZSllLmhhc093blByb3BlcnR5KG8pJiYobltvXT1lW29dKTtlbHNlIG5bZV09aX07dmFyIHg9ZnVuY3Rpb24odCl7dC5zZXJpZXNJbmRleD10aGlzLnNlcmllc0luZGV4LHQuZGF0YUluZGV4PXRoaXMuZGF0YUluZGV4LHQuZGF0YVR5cGU9dGhpcy5kYXRhVHlwZX07eS5zZXRJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5ob3N0TW9kZWw7ZSYmKGUuZGF0YUluZGV4PXQsZS5kYXRhVHlwZT10aGlzLmRhdGFUeXBlLGUuc2VyaWVzSW5kZXg9aSYmaS5zZXJpZXNJbmRleCxcImdyb3VwXCI9PT1lLnR5cGUmJmUudHJhdmVyc2UoeCxlKSksdGhpcy5fZ3JhcGhpY0Vsc1t0XT1lfSx5LmdldEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dyYXBoaWNFbHNbdF19LHkuZWFjaEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCxlKXtkLmVhY2godGhpcy5fZ3JhcGhpY0VscyxmdW5jdGlvbihpLG4pe2kmJnQmJnQuY2FsbChlLGksbil9KX0seS5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24oKXt2YXIgdD1kLm1hcCh0aGlzLmRpbWVuc2lvbnMsdGhpcy5nZXREaW1lbnNpb25JbmZvLHRoaXMpLGU9bmV3IHYodCx0aGlzLmhvc3RNb2RlbCk7cmV0dXJuIGUuX3N0b3JhZ2U9dGhpcy5fc3RvcmFnZSxtKGUsdGhpcyksZS5pbmRpY2VzPXRoaXMuaW5kaWNlcy5zbGljZSgpLGV9LHkud3JhcE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdF07XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKHRoaXMuX193cmFwcGVkTWV0aG9kcz10aGlzLl9fd3JhcHBlZE1ldGhvZHN8fFtdLHRoaXMuX193cmFwcGVkTWV0aG9kcy5wdXNoKHQpLHRoaXNbdF09ZnVuY3Rpb24oKXt2YXIgdD1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5hcHBseSh0aGlzLFt0XS5jb25jYXQoZC5zbGljZShhcmd1bWVudHMpKSl9KX0seS5UUkFOU0ZFUkFCTEVfTUVUSE9EUz1bXCJjbG9uZVNoYWxsb3dcIixcImRvd25TYW1wbGVcIixcIm1hcFwiXSx5LkNIQU5HQUJMRV9NRVRIT0RTPVtcImZpbHRlclNlbGZcIl0sdC5leHBvcnRzPXZ9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0Pi13JiZ3PnR9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdD53fHwtdz50fWZ1bmN0aW9uIGEodCxlLGksbixvKXt2YXIgYT0xLW87cmV0dXJuIGEqYSooYSp0KzMqbyplKStvKm8qKG8qbiszKmEqaSl9ZnVuY3Rpb24gcih0LGUsaSxuLG8pe3ZhciBhPTEtbztyZXR1cm4gMyooKChlLXQpKmErMiooaS1lKSpvKSphKyhuLWkpKm8qbyl9ZnVuY3Rpb24gcyh0LGUsaSxvLGEscil7dmFyIHM9byszKihlLWkpLXQsbD0zKihpLTIqZSt0KSxoPTMqKGUtdCksdT10LWEsYz1sKmwtMypzKmgsZD1sKmgtOSpzKnUsZj1oKmgtMypsKnUscD0wO2lmKG4oYykmJm4oZCkpaWYobihsKSlyWzBdPTA7ZWxzZXt2YXIgZz0taC9sO2c+PTAmJjE+PWcmJihyW3ArK109Zyl9ZWxzZXt2YXIgbT1kKmQtNCpjKmY7aWYobihtKSl7dmFyIHY9ZC9jLGc9LWwvcyt2LHk9LXYvMjtnPj0wJiYxPj1nJiYocltwKytdPWcpLHk+PTAmJjE+PXkmJihyW3ArK109eSl9ZWxzZSBpZihtPjApe3ZhciB4PWIobSksdz1jKmwrMS41KnMqKC1kK3gpLFM9YypsKzEuNSpzKigtZC14KTt3PTA+dz8tXygtdyxBKTpfKHcsQSksUz0wPlM/LV8oLVMsQSk6XyhTLEEpO3ZhciBnPSgtbC0odytTKSkvKDMqcyk7Zz49MCYmMT49ZyYmKHJbcCsrXT1nKX1lbHNle3ZhciBJPSgyKmMqbC0zKnMqZCkvKDIqYihjKmMqYykpLFQ9TWF0aC5hY29zKEkpLzMsTD1iKGMpLEM9TWF0aC5jb3MoVCksZz0oLWwtMipMKkMpLygzKnMpLHk9KC1sK0wqKEMrTSpNYXRoLnNpbihUKSkpLygzKnMpLEQ9KC1sK0wqKEMtTSpNYXRoLnNpbihUKSkpLygzKnMpO2c+PTAmJjE+PWcmJihyW3ArK109ZykseT49MCYmMT49eSYmKHJbcCsrXT15KSxEPj0wJiYxPj1EJiYocltwKytdPUQpfX1yZXR1cm4gcH1mdW5jdGlvbiBsKHQsZSxpLGEscil7dmFyIHM9NippLTEyKmUrNip0LGw9OSplKzMqYS0zKnQtOSppLGg9MyplLTMqdCx1PTA7aWYobihsKSl7aWYobyhzKSl7dmFyIGM9LWgvcztjPj0wJiYxPj1jJiYoclt1KytdPWMpfX1lbHNle3ZhciBkPXMqcy00KmwqaDtpZihuKGQpKXJbMF09LXMvKDIqbCk7ZWxzZSBpZihkPjApe3ZhciBmPWIoZCksYz0oLXMrZikvKDIqbCkscD0oLXMtZikvKDIqbCk7Yz49MCYmMT49YyYmKHJbdSsrXT1jKSxwPj0wJiYxPj1wJiYoclt1KytdPXApfX1yZXR1cm4gdX1mdW5jdGlvbiBoKHQsZSxpLG4sbyxhKXt2YXIgcj0oZS10KSpvK3Qscz0oaS1lKSpvK2UsbD0obi1pKSpvK2ksaD0ocy1yKSpvK3IsdT0obC1zKSpvK3MsYz0odS1oKSpvK2g7YVswXT10LGFbMV09cixhWzJdPWgsYVszXT1jLGFbNF09YyxhWzVdPXUsYVs2XT1sLGFbN109bn1mdW5jdGlvbiB1KHQsZSxpLG4sbyxyLHMsbCxoLHUsYyl7dmFyIGQsZixwLGcsbSx2PS4wMDUseT0xLzA7SVswXT1oLElbMV09dTtmb3IodmFyIF89MDsxPl87Xys9LjA1KVRbMF09YSh0LGksbyxzLF8pLFRbMV09YShlLG4scixsLF8pLGc9eChJLFQpLHk+ZyYmKGQ9Xyx5PWcpO3k9MS8wO2Zvcih2YXIgdz0wOzMyPncmJiEoUz52KTt3KyspZj1kLXYscD1kK3YsVFswXT1hKHQsaSxvLHMsZiksVFsxXT1hKGUsbixyLGwsZiksZz14KFQsSSksZj49MCYmeT5nPyhkPWYseT1nKTooTFswXT1hKHQsaSxvLHMscCksTFsxXT1hKGUsbixyLGwscCksbT14KEwsSSksMT49cCYmeT5tPyhkPXAseT1tKTp2Kj0uNSk7cmV0dXJuIGMmJihjWzBdPWEodCxpLG8scyxkKSxjWzFdPWEoZSxuLHIsbCxkKSksYih5KX1mdW5jdGlvbiBjKHQsZSxpLG4pe3ZhciBvPTEtbjtyZXR1cm4gbyoobyp0KzIqbiplKStuKm4qaX1mdW5jdGlvbiBkKHQsZSxpLG4pe3JldHVybiAyKigoMS1uKSooZS10KStuKihpLWUpKX1mdW5jdGlvbiBmKHQsZSxpLGEscil7dmFyIHM9dC0yKmUraSxsPTIqKGUtdCksaD10LWEsdT0wO2lmKG4ocykpe2lmKG8obCkpe3ZhciBjPS1oL2w7Yz49MCYmMT49YyYmKHJbdSsrXT1jKX19ZWxzZXt2YXIgZD1sKmwtNCpzKmg7aWYobihkKSl7dmFyIGM9LWwvKDIqcyk7Yz49MCYmMT49YyYmKHJbdSsrXT1jKX1lbHNlIGlmKGQ+MCl7dmFyIGY9YihkKSxjPSgtbCtmKS8oMipzKSxwPSgtbC1mKS8oMipzKTtjPj0wJiYxPj1jJiYoclt1KytdPWMpLHA+PTAmJjE+PXAmJihyW3UrK109cCl9fXJldHVybiB1fWZ1bmN0aW9uIHAodCxlLGkpe3ZhciBuPXQraS0yKmU7cmV0dXJuIDA9PT1uPy41Oih0LWUpL259ZnVuY3Rpb24gZyh0LGUsaSxuLG8pe3ZhciBhPShlLXQpKm4rdCxyPShpLWUpKm4rZSxzPShyLWEpKm4rYTtvWzBdPXQsb1sxXT1hLG9bMl09cyxvWzNdPXMsb1s0XT1yLG9bNV09aX1mdW5jdGlvbiBtKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgaCx1PS4wMDUsZD0xLzA7SVswXT1yLElbMV09cztmb3IodmFyIGY9MDsxPmY7Zis9LjA1KXtUWzBdPWModCxpLG8sZiksVFsxXT1jKGUsbixhLGYpO3ZhciBwPXgoSSxUKTtkPnAmJihoPWYsZD1wKX1kPTEvMDtmb3IodmFyIGc9MDszMj5nJiYhKFM+dSk7ZysrKXt2YXIgbT1oLXUsdj1oK3U7VFswXT1jKHQsaSxvLG0pLFRbMV09YyhlLG4sYSxtKTt2YXIgcD14KFQsSSk7aWYobT49MCYmZD5wKWg9bSxkPXA7ZWxzZXtMWzBdPWModCxpLG8sdiksTFsxXT1jKGUsbixhLHYpO3ZhciB5PXgoTCxJKTsxPj12JiZkPnk/KGg9dixkPXkpOnUqPS41fX1yZXR1cm4gbCYmKGxbMF09Yyh0LGksbyxoKSxsWzFdPWMoZSxuLGEsaCkpLGIoZCl9dmFyIHY9aSg1KSx5PXYuY3JlYXRlLHg9di5kaXN0U3F1YXJlLF89TWF0aC5wb3csYj1NYXRoLnNxcnQsdz0xZS04LFM9MWUtNCxNPWIoMyksQT0xLzMsST15KCksVD15KCksTD15KCk7dC5leHBvcnRzPXtjdWJpY0F0OmEsY3ViaWNEZXJpdmF0aXZlQXQ6cixjdWJpY1Jvb3RBdDpzLGN1YmljRXh0cmVtYTpsLGN1YmljU3ViZGl2aWRlOmgsY3ViaWNQcm9qZWN0UG9pbnQ6dSxxdWFkcmF0aWNBdDpjLHF1YWRyYXRpY0Rlcml2YXRpdmVBdDpkLHF1YWRyYXRpY1Jvb3RBdDpmLHF1YWRyYXRpY0V4dHJlbXVtOnAscXVhZHJhdGljU3ViZGl2aWRlOmcscXVhZHJhdGljUHJvamVjdFBvaW50Om19fSxmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKHQpe3RoaXMuY29sb3JTdG9wcz10fHxbXX07aS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmksYWRkQ29sb3JTdG9wOmZ1bmN0aW9uKHQsZSl7dGhpcy5jb2xvclN0b3BzLnB1c2goe29mZnNldDp0LGNvbG9yOmV9KX19LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3ZhciBpPXQrXCI6XCIrZTtpZihoW2ldKXJldHVybiBoW2ldO2Zvcih2YXIgbj0odCtcIlwiKS5zcGxpdChcIlxcblwiKSxvPTAsYT0wLHI9bi5sZW5ndGg7cj5hO2ErKylvPU1hdGgubWF4KHAubWVhc3VyZVRleHQoblthXSxlKS53aWR0aCxvKTtyZXR1cm4gdT5jJiYodT0wLGg9e30pLHUrKyxoW2ldPW8sb31mdW5jdGlvbiBvKHQsZSxpLG8pe3ZhciBhPSgodHx8XCJcIikrXCJcIikuc3BsaXQoXCJcXG5cIikubGVuZ3RoLHI9bih0LGUpLHM9bihcIuWbvVwiLGUpLGw9YSpzLGg9bmV3IGYoMCwwLHIsbCk7c3dpdGNoKGgubGluZUhlaWdodD1zLG8pe2Nhc2VcImJvdHRvbVwiOmNhc2VcImFscGhhYmV0aWNcIjpoLnktPXM7YnJlYWs7Y2FzZVwibWlkZGxlXCI6aC55LT1zLzJ9c3dpdGNoKGkpe2Nhc2VcImVuZFwiOmNhc2VcInJpZ2h0XCI6aC54LT1oLndpZHRoO2JyZWFrO2Nhc2VcImNlbnRlclwiOmgueC09aC53aWR0aC8yfXJldHVybiBofWZ1bmN0aW9uIGEodCxlLGksbil7dmFyIG89ZS54LGE9ZS55LHI9ZS5oZWlnaHQscz1lLndpZHRoLGw9aS5oZWlnaHQsaD1yLzItbC8yLHU9XCJsZWZ0XCI7c3dpdGNoKHQpe2Nhc2VcImxlZnRcIjpvLT1uLGErPWgsdT1cInJpZ2h0XCI7YnJlYWs7Y2FzZVwicmlnaHRcIjpvKz1uK3MsYSs9aCx1PVwibGVmdFwiO2JyZWFrO2Nhc2VcInRvcFwiOm8rPXMvMixhLT1uK2wsdT1cImNlbnRlclwiO2JyZWFrO2Nhc2VcImJvdHRvbVwiOm8rPXMvMixhKz1yK24sdT1cImNlbnRlclwiO2JyZWFrO2Nhc2VcImluc2lkZVwiOm8rPXMvMixhKz1oLHU9XCJjZW50ZXJcIjticmVhaztjYXNlXCJpbnNpZGVMZWZ0XCI6bys9bixhKz1oLHU9XCJsZWZ0XCI7YnJlYWs7Y2FzZVwiaW5zaWRlUmlnaHRcIjpvKz1zLW4sYSs9aCx1PVwicmlnaHRcIjticmVhaztjYXNlXCJpbnNpZGVUb3BcIjpvKz1zLzIsYSs9bix1PVwiY2VudGVyXCI7YnJlYWs7Y2FzZVwiaW5zaWRlQm90dG9tXCI6bys9cy8yLGErPXItbC1uLHU9XCJjZW50ZXJcIjticmVhaztjYXNlXCJpbnNpZGVUb3BMZWZ0XCI6bys9bixhKz1uLHU9XCJsZWZ0XCI7YnJlYWs7Y2FzZVwiaW5zaWRlVG9wUmlnaHRcIjpvKz1zLW4sYSs9bix1PVwicmlnaHRcIjticmVhaztjYXNlXCJpbnNpZGVCb3R0b21MZWZ0XCI6bys9bixhKz1yLWwtbjticmVhaztjYXNlXCJpbnNpZGVCb3R0b21SaWdodFwiOm8rPXMtbixhKz1yLWwtbix1PVwicmlnaHRcIn1yZXR1cm57eDpvLHk6YSx0ZXh0QWxpZ246dSx0ZXh0QmFzZWxpbmU6XCJ0b3BcIn19ZnVuY3Rpb24gcih0LGUsaSxvKXtpZighaSlyZXR1cm5cIlwiO289ZC5kZWZhdWx0cyh7ZWxsaXBzaXM6XCIuLi5cIixtaW5DaGFyYWN0ZXJzOjMsbWF4SXRlcmF0aW9uczozLGNuQ2hhcldpZHRoOm4oXCLlm71cIixlKSxhc2NDaGFyV2lkdGg6bihcImFcIixlKX0sbywhMCksaS09bihvLmVsbGlwc2lzKTtmb3IodmFyIGE9KHQrXCJcIikuc3BsaXQoXCJcXG5cIikscj0wLGw9YS5sZW5ndGg7bD5yO3IrKylhW3JdPXMoYVtyXSxlLGksbyk7cmV0dXJuIGEuam9pbihcIlxcblwiKX1mdW5jdGlvbiBzKHQsZSxpLG8pe2Zvcih2YXIgYT0wOzthKyspe3ZhciByPW4odCxlKTtpZihpPnJ8fGE+PW8ubWF4SXRlcmF0aW9ucyl7dCs9by5lbGxpcHNpczticmVha312YXIgcz0wPT09YT9sKHQsaSxvKTpNYXRoLmZsb29yKHQubGVuZ3RoKmkvcik7aWYoczxvLm1pbkNoYXJhY3RlcnMpe3Q9XCJcIjticmVha310PXQuc3Vic3RyKDAscyl9cmV0dXJuIHR9ZnVuY3Rpb24gbCh0LGUsaSl7Zm9yKHZhciBuPTAsbz0wLGE9dC5sZW5ndGg7YT5vJiZlPm47bysrKXt2YXIgcj10LmNoYXJDb2RlQXQobyk7bis9cj49MCYmMTI3Pj1yP2kuYXNjQ2hhcldpZHRoOmkuY25DaGFyV2lkdGh9cmV0dXJuIG99dmFyIGg9e30sdT0wLGM9NWUzLGQ9aSgxKSxmPWkoOCkscD17Z2V0V2lkdGg6bixnZXRCb3VuZGluZ1JlY3Q6byxhZGp1c3RUZXh0UG9zaXRpb25PblJlY3Q6YSxlbGxpcHNpczpyLG1lYXN1cmVUZXh0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZC5nZXRDb250ZXh0KCk7cmV0dXJuIGkuZm9udD1lLGkubWVhc3VyZVRleHQodCl9fTt0LmV4cG9ydHM9cH0sZnVuY3Rpb24odCxlKXt2YXIgaT1cInVuZGVmaW5lZFwiPT10eXBlb2YgRmxvYXQzMkFycmF5P0FycmF5OkZsb2F0MzJBcnJheSxuPXtjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgaSg2KTtyZXR1cm4gbi5pZGVudGl0eSh0KSx0fSxpZGVudGl0eTpmdW5jdGlvbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0xLHRbNF09MCx0WzVdPTAsdH0sY29weTpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0fSxtdWw6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWVbMF0qaVswXStlWzJdKmlbMV0sbz1lWzFdKmlbMF0rZVszXSppWzFdLGE9ZVswXSppWzJdK2VbMl0qaVszXSxyPWVbMV0qaVsyXStlWzNdKmlbM10scz1lWzBdKmlbNF0rZVsyXSppWzVdK2VbNF0sbD1lWzFdKmlbNF0rZVszXSppWzVdK2VbNV07cmV0dXJuIHRbMF09bix0WzFdPW8sdFsyXT1hLHRbM109cix0WzRdPXMsdFs1XT1sLHR9LHRyYW5zbGF0ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0raVswXSx0WzVdPWVbNV0raVsxXSx0fSxyb3RhdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWVbMF0sbz1lWzJdLGE9ZVs0XSxyPWVbMV0scz1lWzNdLGw9ZVs1XSxoPU1hdGguc2luKGkpLHU9TWF0aC5jb3MoaSk7cmV0dXJuIHRbMF09bip1K3IqaCx0WzFdPS1uKmgrcip1LHRbMl09byp1K3MqaCx0WzNdPS1vKmgrdSpzLHRbNF09dSphK2gqbCx0WzVdPXUqbC1oKmEsdH0sc2NhbGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWlbMF0sbz1pWzFdO3JldHVybiB0WzBdPWVbMF0qbix0WzFdPWVbMV0qbyx0WzJdPWVbMl0qbix0WzNdPWVbM10qbyx0WzRdPWVbNF0qbix0WzVdPWVbNV0qbyx0fSxpbnZlcnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1lWzBdLG49ZVsyXSxvPWVbNF0sYT1lWzFdLHI9ZVszXSxzPWVbNV0sbD1pKnItYSpuO3JldHVybiBsPyhsPTEvbCx0WzBdPXIqbCx0WzFdPS1hKmwsdFsyXT0tbipsLHRbM109aSpsLHRbNF09KG4qcy1yKm8pKmwsdFs1XT0oYSpvLWkqcykqbCx0KTpudWxsfX07dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9YS5zbGljZShhcmd1bWVudHMsMik7cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxpKX1mdW5jdGlvbiBvKHQsZSxpKXtyZXR1cm4gdGhpcy5zdXBlckNsYXNzLnByb3RvdHlwZVtlXS5hcHBseSh0LGkpfXZhciBhPWkoMSkscj17fSxzPVwiLlwiLGw9XCJfX19FQ19fQ09NUE9ORU5UX19DT05UQUlORVJfX19cIixoPXIucGFyc2VDbGFzc1R5cGU9ZnVuY3Rpb24odCl7dmFyIGU9e21haW46XCJcIixzdWI6XCJcIn07cmV0dXJuIHQmJih0PXQuc3BsaXQocyksZS5tYWluPXRbMF18fFwiXCIsZS5zdWI9dFsxXXx8XCJcIiksZX07ci5lbmFibGVDbGFzc0V4dGVuZD1mdW5jdGlvbih0LGUpe3QuZXh0ZW5kPWZ1bmN0aW9uKGkpe3ZhciByPWZ1bmN0aW9uKCl7ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBhLmV4dGVuZChyLnByb3RvdHlwZSxpKSxyLmV4dGVuZD10aGlzLmV4dGVuZCxyLnN1cGVyQ2FsbD1uLHIuc3VwZXJBcHBseT1vLGEuaW5oZXJpdHMocix0aGlzKSxyLnN1cGVyQ2xhc3M9dGhpcyxyfX0sci5lbmFibGVDbGFzc01hbmFnZW1lbnQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPW5bdC5tYWluXTtyZXR1cm4gZSYmZVtsXXx8KGU9blt0Lm1haW5dPXt9LGVbbF09ITApLGV9ZT1lfHx7fTt2YXIgbj17fTtpZih0LnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCxlKXtpZihlKWlmKGU9aChlKSxlLnN1Yil7aWYoZS5zdWIhPT1sKXt2YXIgbz1pKGUpO29bZS5zdWJdPXR9fWVsc2V7aWYobltlLm1haW5dKXRocm93IG5ldyBFcnJvcihlLm1haW4rXCJleGlzdHMuXCIpO25bZS5tYWluXT10fXJldHVybiB0fSx0LmdldENsYXNzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1uW3RdO2lmKG8mJm9bbF0mJihvPWU/b1tlXTpudWxsKSxpJiYhbyl0aHJvdyBuZXcgRXJyb3IoXCJDb21wb25lbnQgXCIrdCtcIi5cIisoZXx8XCJcIikrXCIgbm90IGV4aXN0cy4gTG9hZCBpdCBmaXJzdC5cIik7cmV0dXJuIG99LHQuZ2V0Q2xhc3Nlc0J5TWFpblR5cGU9ZnVuY3Rpb24odCl7dD1oKHQpO3ZhciBlPVtdLGk9blt0Lm1haW5dO3JldHVybiBpJiZpW2xdP2EuZWFjaChpLGZ1bmN0aW9uKHQsaSl7aSE9PWwmJmUucHVzaCh0KX0pOmUucHVzaChpKSxlfSx0Lmhhc0NsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0PWgodCksISFuW3QubWFpbl19LHQuZ2V0QWxsQ2xhc3NNYWluVHlwZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gYS5lYWNoKG4sZnVuY3Rpb24oZSxpKXt0LnB1c2goaSl9KSx0fSx0Lmhhc1N1YlR5cGVzPWZ1bmN0aW9uKHQpe3Q9aCh0KTt2YXIgZT1uW3QubWFpbl07cmV0dXJuIGUmJmVbbF19LHQucGFyc2VDbGFzc1R5cGU9aCxlLnJlZ2lzdGVyV2hlbkV4dGVuZCl7dmFyIG89dC5leHRlbmQ7byYmKHQuZXh0ZW5kPWZ1bmN0aW9uKGUpe3ZhciBpPW8uY2FsbCh0aGlzLGUpO3JldHVybiB0LnJlZ2lzdGVyQ2xhc3MoaSxlLnR5cGUpfSl9cmV0dXJuIHR9LHIuc2V0UmVhZE9ubHk9ZnVuY3Rpb24odCxlKXt9LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLG89aSgxKSxhPW8uaW5kZXhPZixyPWZ1bmN0aW9uKCl7dGhpcy5fJGhhbmRsZXJzPXt9fTtyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cixvbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuXyRoYW5kbGVycztyZXR1cm4gZSYmdD8oblt0XXx8KG5bdF09W10pLGEoblt0XSx0KT49MD90aGlzOihuW3RdLnB1c2goe2g6ZSxvbmU6ITAsY3R4Oml8fHRoaXN9KSx0aGlzKSk6dGhpc30sb246ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuXyRoYW5kbGVycztyZXR1cm4gZSYmdD8oblt0XXx8KG5bdF09W10pLG5bdF0ucHVzaCh7aDplLG9uZTohMSxjdHg6aXx8dGhpc30pLHRoaXMpOnRoaXN9LGlzU2lsZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuXyRoYW5kbGVycztyZXR1cm4gZVt0XSYmZVt0XS5sZW5ndGh9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuXyRoYW5kbGVycztpZighdClyZXR1cm4gdGhpcy5fJGhhbmRsZXJzPXt9LHRoaXM7aWYoZSl7aWYoaVt0XSl7Zm9yKHZhciBuPVtdLG89MCxhPWlbdF0ubGVuZ3RoO2E+bztvKyspaVt0XVtvXS5oIT1lJiZuLnB1c2goaVt0XVtvXSk7aVt0XT1ufWlbdF0mJjA9PT1pW3RdLmxlbmd0aCYmZGVsZXRlIGlbdF19ZWxzZSBkZWxldGUgaVt0XTtyZXR1cm4gdGhpc30sdHJpZ2dlcjpmdW5jdGlvbih0KXtpZih0aGlzLl8kaGFuZGxlcnNbdF0pe3ZhciBlPWFyZ3VtZW50cyxpPWUubGVuZ3RoO2k+MyYmKGU9bi5jYWxsKGUsMSkpO2Zvcih2YXIgbz10aGlzLl8kaGFuZGxlcnNbdF0sYT1vLmxlbmd0aCxyPTA7YT5yOyl7c3dpdGNoKGkpe2Nhc2UgMTpvW3JdLmguY2FsbChvW3JdLmN0eCk7YnJlYWs7Y2FzZSAyOm9bcl0uaC5jYWxsKG9bcl0uY3R4LGVbMV0pO2JyZWFrO2Nhc2UgMzpvW3JdLmguY2FsbChvW3JdLmN0eCxlWzFdLGVbMl0pO2JyZWFrO2RlZmF1bHQ6b1tyXS5oLmFwcGx5KG9bcl0uY3R4LGUpfW9bcl0ub25lPyhvLnNwbGljZShyLDEpLGEtLSk6cisrfX1yZXR1cm4gdGhpc30sdHJpZ2dlcldpdGhDb250ZXh0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuXyRoYW5kbGVyc1t0XSl7dmFyIGU9YXJndW1lbnRzLGk9ZS5sZW5ndGg7aT40JiYoZT1uLmNhbGwoZSwxLGUubGVuZ3RoLTEpKTtmb3IodmFyIG89ZVtlLmxlbmd0aC0xXSxhPXRoaXMuXyRoYW5kbGVyc1t0XSxyPWEubGVuZ3RoLHM9MDtyPnM7KXtzd2l0Y2goaSl7Y2FzZSAxOmFbc10uaC5jYWxsKG8pO2JyZWFrO2Nhc2UgMjphW3NdLmguY2FsbChvLGVbMV0pO2JyZWFrO2Nhc2UgMzphW3NdLmguY2FsbChvLGVbMV0sZVsyXSk7YnJlYWs7ZGVmYXVsdDphW3NdLmguYXBwbHkobyxlKX1hW3NdLm9uZT8oYS5zcGxpY2UocywxKSxyLS0pOnMrK319cmV0dXJuIHRoaXN9fSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0PU1hdGgucm91bmQodCksMD50PzA6dD4yNTU/MjU1OnR9ZnVuY3Rpb24gbih0KXtyZXR1cm4gdD1NYXRoLnJvdW5kKHQpLDA+dD8wOnQ+MzYwPzM2MDp0fWZ1bmN0aW9uIG8odCl7cmV0dXJuIDA+dD8wOnQ+MT8xOnR9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gaSh0Lmxlbmd0aCYmXCIlXCI9PT10LmNoYXJBdCh0Lmxlbmd0aC0xKT9wYXJzZUZsb2F0KHQpLzEwMCoyNTU6cGFyc2VJbnQodCwxMCkpfWZ1bmN0aW9uIHIodCl7cmV0dXJuIG8odC5sZW5ndGgmJlwiJVwiPT09dC5jaGFyQXQodC5sZW5ndGgtMSk/cGFyc2VGbG9hdCh0KS8xMDA6cGFyc2VGbG9hdCh0KSl9ZnVuY3Rpb24gcyh0LGUsaSl7cmV0dXJuIDA+aT9pKz0xOmk+MSYmKGktPTEpLDE+NippP3QrKGUtdCkqaSo2OjE+MippP2U6Mj4zKmk/dCsoZS10KSooMi8zLWkpKjY6dH1mdW5jdGlvbiBsKHQsZSxpKXtyZXR1cm4gdCsoZS10KSppfWZ1bmN0aW9uIGgodCl7aWYodCl7dCs9XCJcIjt2YXIgZT10LnJlcGxhY2UoLyAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKGUgaW4geClyZXR1cm4geFtlXS5zbGljZSgpO2lmKFwiI1wiIT09ZS5jaGFyQXQoMCkpe3ZhciBpPWUuaW5kZXhPZihcIihcIiksbj1lLmluZGV4T2YoXCIpXCIpO2lmKC0xIT09aSYmbisxPT09ZS5sZW5ndGgpe3ZhciBvPWUuc3Vic3RyKDAsaSkscz1lLnN1YnN0cihpKzEsbi0oaSsxKSkuc3BsaXQoXCIsXCIpLGw9MTtzd2l0Y2gobyl7Y2FzZVwicmdiYVwiOmlmKDQhPT1zLmxlbmd0aClyZXR1cm47bD1yKHMucG9wKCkpO2Nhc2VcInJnYlwiOmlmKDMhPT1zLmxlbmd0aClyZXR1cm47cmV0dXJuW2Eoc1swXSksYShzWzFdKSxhKHNbMl0pLGxdO2Nhc2VcImhzbGFcIjppZig0IT09cy5sZW5ndGgpcmV0dXJuO3JldHVybiBzWzNdPXIoc1szXSksdShzKTtjYXNlXCJoc2xcIjppZigzIT09cy5sZW5ndGgpcmV0dXJuO3JldHVybiB1KHMpO2RlZmF1bHQ6cmV0dXJufX19ZWxzZXtpZig0PT09ZS5sZW5ndGgpe3ZhciBoPXBhcnNlSW50KGUuc3Vic3RyKDEpLDE2KTtpZighKGg+PTAmJjQwOTU+PWgpKXJldHVybjtyZXR1cm5bKDM4NDAmaCk+PjR8KDM4NDAmaCk+PjgsMjQwJmh8KDI0MCZoKT4+NCwxNSZofCgxNSZoKTw8NCwxXX1pZig3PT09ZS5sZW5ndGgpe3ZhciBoPXBhcnNlSW50KGUuc3Vic3RyKDEpLDE2KTtpZighKGg+PTAmJjE2Nzc3MjE1Pj1oKSlyZXR1cm47cmV0dXJuWygxNjcxMTY4MCZoKT4+MTYsKDY1MjgwJmgpPj44LDI1NSZoLDFdfX19fWZ1bmN0aW9uIHUodCl7dmFyIGU9KHBhcnNlRmxvYXQodFswXSklMzYwKzM2MCklMzYwLzM2MCxuPXIodFsxXSksbz1yKHRbMl0pLGE9LjU+PW8/byoobisxKTpvK24tbypuLGw9MipvLWEsaD1baSgyNTUqcyhsLGEsZSsxLzMpKSxpKDI1NSpzKGwsYSxlKSksaSgyNTUqcyhsLGEsZS0xLzMpKV07cmV0dXJuIDQ9PT10Lmxlbmd0aCYmKGhbM109dFszXSksaH1mdW5jdGlvbiBjKHQpe2lmKHQpe3ZhciBlLGksbj10WzBdLzI1NSxvPXRbMV0vMjU1LGE9dFsyXS8yNTUscj1NYXRoLm1pbihuLG8sYSkscz1NYXRoLm1heChuLG8sYSksbD1zLXIsaD0ocytyKS8yO2lmKDA9PT1sKWU9MCxpPTA7ZWxzZXtpPS41Pmg/bC8ocytyKTpsLygyLXMtcik7dmFyIHU9KChzLW4pLzYrbC8yKS9sLGM9KChzLW8pLzYrbC8yKS9sLGQ9KChzLWEpLzYrbC8yKS9sO249PT1zP2U9ZC1jOm89PT1zP2U9MS8zK3UtZDphPT09cyYmKGU9Mi8zK2MtdSksMD5lJiYoZSs9MSksZT4xJiYoZS09MSl9dmFyIGY9WzM2MCplLGksaF07cmV0dXJuIG51bGwhPXRbM10mJmYucHVzaCh0WzNdKSxmfX1mdW5jdGlvbiBkKHQsZSl7dmFyIGk9aCh0KTtpZihpKXtmb3IodmFyIG49MDszPm47bisrKTA+ZT9pW25dPWlbbl0qKDEtZSl8MDppW25dPSgyNTUtaVtuXSkqZStpW25dfDA7cmV0dXJuIHkoaSw0PT09aS5sZW5ndGg/XCJyZ2JhXCI6XCJyZ2JcIil9fWZ1bmN0aW9uIGYodCxlKXt2YXIgaT1oKHQpO3JldHVybiBpPygoMTw8MjQpKyhpWzBdPDwxNikrKGlbMV08PDgpKyAraVsyXSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpOnZvaWQgMH1mdW5jdGlvbiBwKHQsZSxuKXtpZihlJiZlLmxlbmd0aCYmdD49MCYmMT49dCl7bj1ufHxbMCwwLDAsMF07dmFyIG89dCooZS5sZW5ndGgtMSksYT1NYXRoLmZsb29yKG8pLHI9TWF0aC5jZWlsKG8pLHM9ZVthXSxoPWVbcl0sdT1vLWE7cmV0dXJuIG5bMF09aShsKHNbMF0saFswXSx1KSksblsxXT1pKGwoc1sxXSxoWzFdLHUpKSxuWzJdPWkobChzWzJdLGhbMl0sdSkpLG5bM109aShsKHNbM10saFszXSx1KSksbn19ZnVuY3Rpb24gZyh0LGUsbil7aWYoZSYmZS5sZW5ndGgmJnQ+PTAmJjE+PXQpe3ZhciBhPXQqKGUubGVuZ3RoLTEpLHI9TWF0aC5mbG9vcihhKSxzPU1hdGguY2VpbChhKSx1PWgoZVtyXSksYz1oKGVbc10pLGQ9YS1yLGY9eShbaShsKHVbMF0sY1swXSxkKSksaShsKHVbMV0sY1sxXSxkKSksaShsKHVbMl0sY1syXSxkKSksbyhsKHVbM10sY1szXSxkKSldLFwicmdiYVwiKTtyZXR1cm4gbj97Y29sb3I6ZixsZWZ0SW5kZXg6cixyaWdodEluZGV4OnMsdmFsdWU6YX06Zn19ZnVuY3Rpb24gbSh0LGUsaSxvKXtyZXR1cm4gdD1oKHQpLHQ/KHQ9Yyh0KSxudWxsIT1lJiYodFswXT1uKGUpKSxudWxsIT1pJiYodFsxXT1yKGkpKSxudWxsIT1vJiYodFsyXT1yKG8pKSx5KHUodCksXCJyZ2JhXCIpKTp2b2lkIDB9ZnVuY3Rpb24gdih0LGUpe3JldHVybiB0PWgodCksdCYmbnVsbCE9ZT8odFszXT1vKGUpLHkodCxcInJnYmFcIikpOnZvaWQgMH1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuXCJyZ2JcIiE9PWUmJlwiaHN2XCIhPT1lJiZcImhzbFwiIT09ZXx8KHQ9dC5zbGljZSgwLDMpKSxlK1wiKFwiK3Quam9pbihcIixcIikrXCIpXCJ9dmFyIHg9e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O3QuZXhwb3J0cz17cGFyc2U6aCxsaWZ0OmQsdG9IZXg6ZixmYXN0TWFwVG9Db2xvcjpwLG1hcFRvQ29sb3I6Zyxtb2RpZnlIU0w6bSxtb2RpZnlBbHBoYTp2LHN0cmluZ2lmeTp5fX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9W119dmFyIG49e307aS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmksY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107Zm9yKHZhciBvIGluIG4pe3ZhciBhPW5bb10uY3JlYXRlKHQsZSk7YSYmKGk9aS5jb25jYXQoYSkpfXRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zPWl9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl9jb29yZGluYXRlU3lzdGVtcyxuPTA7bjxpLmxlbmd0aDtuKyspaVtuXS51cGRhdGUmJmlbbl0udXBkYXRlKHQsZSl9fSxpLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSl7blt0XT1lfSxpLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gblt0XX0sdC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEyMyksbz1pKDM4KTtpKDEyNCksaSgxMjIpO3ZhciBhPWkoMzIpLHI9aSg0KSxzPWkoMSksbD1pKDE4KSxoPXt9O2guZ2V0U2NhbGVFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10LnNjYWxlLG49aS5nZXRFeHRlbnQoKSxvPW5bMV0tblswXTtpZihcIm9yZGluYWxcIj09PWkudHlwZSlyZXR1cm4gaXNGaW5pdGUobyk/bjpbMCwwXTt2YXIgYT1lLmdldE1pbj9lLmdldE1pbigpOmUuZ2V0KFwibWluXCIpLGw9ZS5nZXRNYXg/ZS5nZXRNYXgoKTplLmdldChcIm1heFwiKSxoPWUuZ2V0TmVlZENyb3NzWmVybz9lLmdldE5lZWRDcm9zc1plcm8oKTohZS5nZXQoXCJzY2FsZVwiKSx1PWUuZ2V0KFwiYm91bmRhcnlHYXBcIik7cy5pc0FycmF5KHUpfHwodT1bdXx8MCx1fHwwXSksdVswXT1yLnBhcnNlUGVyY2VudCh1WzBdLDEpLHVbMV09ci5wYXJzZVBlcmNlbnQodVsxXSwxKTt2YXIgYz0hMCxkPSEwO3JldHVybiBudWxsPT1hJiYoYT1uWzBdLXVbMF0qbyxjPSExKSxudWxsPT1sJiYobD1uWzFdK3VbMV0qbyxkPSExKSxcImRhdGFNaW5cIj09PWEmJihhPW5bMF0pLFwiZGF0YU1heFwiPT09bCYmKGw9blsxXSksaCYmKGE+MCYmbD4wJiYhYyYmKGE9MCksMD5hJiYwPmwmJiFkJiYobD0wKSksW2EsbF19LGgubmljZVNjYWxlRXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5zY2FsZSxuPWguZ2V0U2NhbGVFeHRlbnQodCxlKSxvPW51bGwhPShlLmdldE1pbj9lLmdldE1pbigpOmUuZ2V0KFwibWluXCIpKSxhPW51bGwhPShlLmdldE1heD9lLmdldE1heCgpOmUuZ2V0KFwibWF4XCIpKSxyPWUuZ2V0KFwic3BsaXROdW1iZXJcIik7aS5zZXRFeHRlbnQoblswXSxuWzFdKSxpLm5pY2VFeHRlbnQocixvLGEpO3ZhciBzPWUuZ2V0KFwibWluSW50ZXJ2YWxcIik7aWYoaXNGaW5pdGUocykmJiFvJiYhYSYmXCJpbnRlcnZhbFwiPT09aS50eXBlKXt2YXIgbD1pLmdldEludGVydmFsKCksdT1NYXRoLm1heChNYXRoLmFicyhsKSxzKS9sO249aS5nZXRFeHRlbnQoKSxpLnNldEV4dGVudCh1Km5bMF0sblsxXSp1KSxpLm5pY2VFeHRlbnQocil9dmFyIGw9ZS5nZXQoXCJpbnRlcnZhbFwiKTtudWxsIT1sJiZpLnNldEludGVydmFsJiZpLnNldEludGVydmFsKGwpfSxoLmNyZWF0ZVNjYWxlQnlNb2RlbD1mdW5jdGlvbih0LGUpe2lmKGU9ZXx8dC5nZXQoXCJ0eXBlXCIpKXN3aXRjaChlKXtjYXNlXCJjYXRlZ29yeVwiOnJldHVybiBuZXcgbih0LmdldENhdGVnb3JpZXMoKSxbMS8wLC0oMS8wKV0pO2Nhc2VcInZhbHVlXCI6cmV0dXJuIG5ldyBvO2RlZmF1bHQ6cmV0dXJuKGEuZ2V0Q2xhc3MoZSl8fG8pLmNyZWF0ZSh0KX19LGguaWZBeGlzQ3Jvc3NaZXJvPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0RXh0ZW50KCksaT1lWzBdLG49ZVsxXTtyZXR1cm4hKGk+MCYmbj4wfHwwPmkmJjA+bil9LGguZ2V0QXhpc0xhYmVsSW50ZXJ2YWw9ZnVuY3Rpb24odCxlLGksbil7dmFyIG8sYT0wLHI9MCxzPTE7ZS5sZW5ndGg+NDAmJihzPU1hdGgucm91bmQoZS5sZW5ndGgvNDApKTtmb3IodmFyIGg9MDtoPHQubGVuZ3RoO2grPXMpe3ZhciB1PXRbaF0sYz1sLmdldEJvdW5kaW5nUmVjdChlW2hdLGksXCJjZW50ZXJcIixcInRvcFwiKTtjW24/XCJ4XCI6XCJ5XCJdKz11LGNbbj9cIndpZHRoXCI6XCJoZWlnaHRcIl0qPTEuNSxvP28uaW50ZXJzZWN0KGMpPyhyKyssYT1NYXRoLm1heChhLHIpKTooby51bmlvbihjKSxyPTApOm89Yy5jbG9uZSgpfXJldHVybiAwPT09YSYmcz4xP3M6YSpzfSxoLmdldEZvcm1hdHRlZExhYmVscz1mdW5jdGlvbih0LGUpe3ZhciBpPXQuc2NhbGUsbj1pLmdldFRpY2tzTGFiZWxzKCksbz1pLmdldFRpY2tzKCk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/KGU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0LnJlcGxhY2UoXCJ7dmFsdWV9XCIsZSl9fShlKSxzLm1hcChuLGUpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3MubWFwKG8sZnVuY3Rpb24obixvKXtyZXR1cm4gZShcImNhdGVnb3J5XCI9PT10LnR5cGU/aS5nZXRMYWJlbChuKTpuLG8pfSx0aGlzKTpufSx0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMyksbz1pKDgpLGE9bi5leHRlbmRTaGFwZSh7dHlwZTpcInRyaWFuZ2xlXCIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPWUud2lkdGgvMixhPWUuaGVpZ2h0LzI7dC5tb3ZlVG8oaSxuLWEpLHQubGluZVRvKGkrbyxuK2EpLHQubGluZVRvKGktbyxuK2EpLHQuY2xvc2VQYXRoKCl9fSkscj1uLmV4dGVuZFNoYXBlKHt0eXBlOlwiZGlhbW9uZFwiLHNoYXBlOntjeDowLGN5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5jeCxuPWUuY3ksbz1lLndpZHRoLzIsYT1lLmhlaWdodC8yO3QubW92ZVRvKGksbi1hKSx0LmxpbmVUbyhpK28sbiksdC5saW5lVG8oaSxuK2EpLHQubGluZVRvKGktbyxuKSx0LmNsb3NlUGF0aCgpfX0pLHM9bi5leHRlbmRTaGFwZSh7dHlwZTpcInBpblwiLHNoYXBlOnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUueCxuPWUueSxvPWUud2lkdGgvNSozLGE9TWF0aC5tYXgobyxlLmhlaWdodCkscj1vLzIscz1yKnIvKGEtciksbD1uLWErcitzLGg9TWF0aC5hc2luKHMvciksdT1NYXRoLmNvcyhoKSpyLGM9TWF0aC5zaW4oaCksZD1NYXRoLmNvcyhoKTt0LmFyYyhpLGwscixNYXRoLlBJLWgsMipNYXRoLlBJK2gpO3ZhciBmPS42KnIscD0uNypyO3QuYmV6aWVyQ3VydmVUbyhpK3UtYypmLGwrcytkKmYsaSxuLXAsaSxuKSx0LmJlemllckN1cnZlVG8oaSxuLXAsaS11K2MqZixsK3MrZCpmLGktdSxsK3MpLHQuY2xvc2VQYXRoKCl9fSksbD1uLmV4dGVuZFNoYXBlKHt0eXBlOlwiYXJyb3dcIixzaGFwZTp7eDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmhlaWdodCxuPWUud2lkdGgsbz1lLngsYT1lLnkscj1uLzMqMjt0Lm1vdmVUbyhvLGEpLHQubGluZVRvKG8rcixhK2kpLHQubGluZVRvKG8sYStpLzQqMyksdC5saW5lVG8oby1yLGEraSksdC5saW5lVG8obyxhKSx0LmNsb3NlUGF0aCgpfX0pLGg9e2xpbmU6bi5MaW5lLHJlY3Q6bi5SZWN0LHJvdW5kUmVjdDpuLlJlY3Qsc3F1YXJlOm4uUmVjdCxjaXJjbGU6bi5DaXJjbGUsZGlhbW9uZDpyLHBpbjpzLGFycm93OmwsdHJpYW5nbGU6YX0sdT17bGluZTpmdW5jdGlvbih0LGUsaSxuLG8pe28ueDE9dCxvLnkxPWUrbi8yLG8ueDI9dCtpLG8ueTI9ZStuLzJ9LHJlY3Q6ZnVuY3Rpb24odCxlLGksbixvKXtvLng9dCxvLnk9ZSxvLndpZHRoPWksby5oZWlnaHQ9bn0scm91bmRSZWN0OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQsby55PWUsby53aWR0aD1pLG8uaGVpZ2h0PW4sby5yPU1hdGgubWluKGksbikvNH0sc3F1YXJlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9TWF0aC5taW4oaSxuKTtvLng9dCxvLnk9ZSxvLndpZHRoPWEsby5oZWlnaHQ9YX0sY2lyY2xlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7by5jeD10K2kvMixvLmN5PWUrbi8yLG8ucj1NYXRoLm1pbihpLG4pLzJ9LGRpYW1vbmQ6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LHBpbjpmdW5jdGlvbih0LGUsaSxuLG8pe28ueD10K2kvMixvLnk9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LGFycm93OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQraS8yLG8ueT1lK24vMixvLndpZHRoPWksby5oZWlnaHQ9bn0sdHJpYW5nbGU6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59fSxjPXt9O2Zvcih2YXIgZCBpbiBoKWNbZF09bmV3IGhbZF07dmFyIGY9bi5leHRlbmRTaGFwZSh7dHlwZTpcInN5bWJvbFwiLHNoYXBlOntzeW1ib2xUeXBlOlwiXCIseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxiZWZvcmVCcnVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10aGlzLnNoYXBlO1wicGluXCI9PT1lLnN5bWJvbFR5cGUmJlwiaW5zaWRlXCI9PT10LnRleHRQb3NpdGlvbiYmKHQudGV4dFBvc2l0aW9uPVtcIjUwJVwiLFwiNDAlXCJdLHQudGV4dEFsaWduPVwiY2VudGVyXCIsdC50ZXh0VmVydGljYWxBbGlnbj1cIm1pZGRsZVwiKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5zeW1ib2xUeXBlLG49Y1tpXTtcIm5vbmVcIiE9PWUuc3ltYm9sVHlwZSYmKG58fChpPVwicmVjdFwiLG49Y1tpXSksdVtpXShlLngsZS55LGUud2lkdGgsZS5oZWlnaHQsbi5zaGFwZSksbi5idWlsZFBhdGgodCxuLnNoYXBlKSl9fSkscD1mdW5jdGlvbih0KXtpZihcImltYWdlXCIhPT10aGlzLnR5cGUpe3ZhciBlPXRoaXMuc3R5bGUsaT10aGlzLnNoYXBlO2kmJlwibGluZVwiPT09aS5zeW1ib2xUeXBlP2Uuc3Ryb2tlPXQ6dGhpcy5fX2lzRW1wdHlCcnVzaD8oZS5zdHJva2U9dCxlLmZpbGw9XCIjZmZmXCIpOihlLmZpbGwmJihlLmZpbGw9dCksZS5zdHJva2UmJihlLnN0cm9rZT10KSksdGhpcy5kaXJ0eSgpfX0sZz17Y3JlYXRlU3ltYm9sOmZ1bmN0aW9uKHQsZSxpLGEscixzKXt2YXIgbD0wPT09dC5pbmRleE9mKFwiZW1wdHlcIik7bCYmKHQ9dC5zdWJzdHIoNSwxKS50b0xvd2VyQ2FzZSgpK3Quc3Vic3RyKDYpKTt2YXIgaDtyZXR1cm4gaD0wPT09dC5pbmRleE9mKFwiaW1hZ2U6Ly9cIik/bmV3IG4uSW1hZ2Uoe3N0eWxlOntpbWFnZTp0LnNsaWNlKDgpLHg6ZSx5Omksd2lkdGg6YSxoZWlnaHQ6cn19KTowPT09dC5pbmRleE9mKFwicGF0aDovL1wiKT9uLm1ha2VQYXRoKHQuc2xpY2UoNykse30sbmV3IG8oZSxpLGEscikpOm5ldyBmKHtzaGFwZTp7c3ltYm9sVHlwZTp0LHg6ZSx5Omksd2lkdGg6YSxoZWlnaHQ6cn19KSxoLl9faXNFbXB0eUJydXNoPWwsaC5zZXRDb2xvcj1wLGguc2V0Q29sb3IocyksaH19O3QuZXhwb3J0cz1nfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuZ3JvdXA9bmV3IHIsdGhpcy51aWQ9cy5nZXRVSUQoXCJ2aWV3Q2hhcnRcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKHQmJih0LnRyaWdnZXIoZSksXCJncm91cFwiPT09dC50eXBlKSlmb3IodmFyIGk9MDtpPHQuY2hpbGRDb3VudCgpO2krKylvKHQuY2hpbGRBdChpKSxlKX1mdW5jdGlvbiBhKHQsZSxpKXtpZihudWxsIT1lLmRhdGFJbmRleCl7dmFyIG49dC5nZXRJdGVtR3JhcGhpY0VsKGUuZGF0YUluZGV4KTtvKG4saSl9ZWxzZSBpZihlLm5hbWUpe3ZhciBhPXQuaW5kZXhPZk5hbWUoZS5uYW1lKSxuPXQuZ2V0SXRlbUdyYXBoaWNFbChhKTtvKG4saSl9ZWxzZSB0LmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQpe28odCxpKX0pfXZhciByPWkoMjcpLHM9aSg0MiksbD1pKDIwKTtuLnByb3RvdHlwZT17dHlwZTpcImNoYXJ0XCIsaW5pdDpmdW5jdGlvbih0LGUpe30scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQsZSxpLG4pe2EodC5nZXREYXRhKCksbixcImVtcGhhc2lzXCIpfSxkb3ducGxheTpmdW5jdGlvbih0LGUsaSxuKXthKHQuZ2V0RGF0YSgpLG4sXCJub3JtYWxcIil9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fTt2YXIgaD1uLnByb3RvdHlwZTtoLnVwZGF0ZVZpZXc9aC51cGRhdGVMYXlvdXQ9aC51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLGksbil7dGhpcy5yZW5kZXIodCxlLGksbil9LGwuZW5hYmxlQ2xhc3NFeHRlbmQobiksbC5lbmFibGVDbGFzc01hbmFnZW1lbnQobix7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSksdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89aSg1NSksYT1pKDgpLHI9ZnVuY3Rpb24odCl7dD10fHx7fSxvLmNhbGwodGhpcyx0KTtmb3IodmFyIGUgaW4gdCl0aGlzW2VdPXRbZV07dGhpcy5fY2hpbGRyZW49W10sdGhpcy5fX3N0b3JhZ2U9bnVsbCx0aGlzLl9fZGlydHk9ITB9O3IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpyLHR5cGU6XCJncm91cFwiLHNpbGVudDohMSxjaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5zbGljZSgpfSxjaGlsZEF0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX0sY2hpbGRPZk5hbWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NoaWxkcmVuLGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLm5hbWU9PT10KXJldHVybiBlW2ldfSxjaGlsZENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiYodGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0aGlzLl9kb0FkZCh0KSksdGhpc30sYWRkQmVmb3JlOmZ1bmN0aW9uKHQsZSl7aWYodCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmZSYmZS5wYXJlbnQ9PT10aGlzKXt2YXIgaT10aGlzLl9jaGlsZHJlbixuPWkuaW5kZXhPZihlKTtuPj0wJiYoaS5zcGxpY2UobiwwLHQpLHRoaXMuX2RvQWRkKHQpKX1yZXR1cm4gdGhpc30sX2RvQWRkOmZ1bmN0aW9uKHQpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCksdC5wYXJlbnQ9dGhpczt2YXIgZT10aGlzLl9fc3RvcmFnZSxpPXRoaXMuX196cjtlJiZlIT09dC5fX3N0b3JhZ2UmJihlLmFkZFRvTWFwKHQpLHQgaW5zdGFuY2VvZiByJiZ0LmFkZENoaWxkcmVuVG9TdG9yYWdlKGUpKSxpJiZpLnJlZnJlc2goKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX196cixpPXRoaXMuX19zdG9yYWdlLG89dGhpcy5fY2hpbGRyZW4sYT1uLmluZGV4T2Yobyx0KTtyZXR1cm4gMD5hP3RoaXM6KG8uc3BsaWNlKGEsMSksdC5wYXJlbnQ9bnVsbCxpJiYoaS5kZWxGcm9tTWFwKHQuaWQpLHQgaW5zdGFuY2VvZiByJiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UoaSkpLGUmJmUucmVmcmVzaCgpLHRoaXMpfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5fY2hpbGRyZW4sbj10aGlzLl9fc3RvcmFnZTtmb3IoZT0wO2U8aS5sZW5ndGg7ZSsrKXQ9aVtlXSxuJiYobi5kZWxGcm9tTWFwKHQuaWQpLHQgaW5zdGFuY2VvZiByJiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UobikpLHQucGFyZW50PW51bGw7cmV0dXJuIGkubGVuZ3RoPTAsdGhpc30sZWFjaENoaWxkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2NoaWxkcmVuLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTt0LmNhbGwoZSxvLG4pfXJldHVybiB0aGlzfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5fY2hpbGRyZW5baV07dC5jYWxsKGUsbiksXCJncm91cFwiPT09bi50eXBlJiZuLnRyYXZlcnNlKHQsZSl9cmV0dXJuIHRoaXN9LGFkZENoaWxkcmVuVG9TdG9yYWdlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5fY2hpbGRyZW5bZV07dC5hZGRUb01hcChpKSxpIGluc3RhbmNlb2YgciYmaS5hZGRDaGlsZHJlblRvU3RvcmFnZSh0KX19LGRlbENoaWxkcmVuRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9jaGlsZHJlbltlXTt0LmRlbEZyb21NYXAoaS5pZCksaSBpbnN0YW5jZW9mIHImJmkuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZSh0KX19LGRpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19kaXJ0eT0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCksdGhpc30sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLGk9bmV3IGEoMCwwLDAsMCksbj10fHx0aGlzLl9jaGlsZHJlbixvPVtdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIHM9bltyXTtpZighcy5pZ25vcmUmJiFzLmludmlzaWJsZSl7dmFyIGw9cy5nZXRCb3VuZGluZ1JlY3QoKSxoPXMuZ2V0TG9jYWxUcmFuc2Zvcm0obyk7aD8oaS5jb3B5KGwpLGkuYXBwbHlUcmFuc2Zvcm0oaCksZT1lfHxpLmNsb25lKCksZS51bmlvbihpKSk6KGU9ZXx8bC5jbG9uZSgpLGUudW5pb24obCkpfX1yZXR1cm4gZXx8aX19LG4uaW5oZXJpdHMocixvKSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMTYpLG89aSg1KSxhPWkoNjUpLHI9aSg4KSxzPWkoMzMpLmRldmljZVBpeGVsUmF0aW8sbD17TToxLEw6MixDOjMsUTo0LEE6NSxaOjYsUjo3fSxoPVtdLHU9W10sYz1bXSxkPVtdLGY9TWF0aC5taW4scD1NYXRoLm1heCxnPU1hdGguY29zLG09TWF0aC5zaW4sdj1NYXRoLnNxcnQseT1NYXRoLmFicyx4PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDMyQXJyYXksXz1mdW5jdGlvbigpe3RoaXMuZGF0YT1bXSx0aGlzLl9sZW49MCxcbnRoaXMuX2N0eD1udWxsLHRoaXMuX3hpPTAsdGhpcy5feWk9MCx0aGlzLl94MD0wLHRoaXMuX3kwPTAsdGhpcy5fdXg9MCx0aGlzLl91eT0wfTtfLnByb3RvdHlwZT17Y29uc3RydWN0b3I6XyxfbGluZURhc2g6bnVsbCxfZGFzaE9mZnNldDowLF9kYXNoSWR4OjAsX2Rhc2hTdW06MCxzZXRTY2FsZTpmdW5jdGlvbih0LGUpe3RoaXMuX3V4PXkoMS9zL3QpfHwwLHRoaXMuX3V5PXkoMS9zL2UpfHwwfSxnZXRDb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0eH0sYmVnaW5QYXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jdHg9dCx0JiZ0LmJlZ2luUGF0aCgpLHRoaXMuX2xlbj0wLHRoaXMuX2xpbmVEYXNoJiYodGhpcy5fbGluZURhc2g9bnVsbCx0aGlzLl9kYXNoT2Zmc2V0PTApLHRoaXN9LG1vdmVUbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZERhdGEobC5NLHQsZSksdGhpcy5fY3R4JiZ0aGlzLl9jdHgubW92ZVRvKHQsZSksdGhpcy5feDA9dCx0aGlzLl95MD1lLHRoaXMuX3hpPXQsdGhpcy5feWk9ZSx0aGlzfSxsaW5lVG86ZnVuY3Rpb24odCxlKXt2YXIgaT15KHQtdGhpcy5feGkpPnRoaXMuX3V4fHx5KGUtdGhpcy5feWkpPnRoaXMuX3V5fHwwPT09dGhpcy5fbGVuO3JldHVybiB0aGlzLmFkZERhdGEobC5MLHQsZSksdGhpcy5fY3R4JiZpJiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkTGluZVRvKHQsZSk6dGhpcy5fY3R4LmxpbmVUbyh0LGUpKSxpJiYodGhpcy5feGk9dCx0aGlzLl95aT1lKSx0aGlzfSxiZXppZXJDdXJ2ZVRvOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtyZXR1cm4gdGhpcy5hZGREYXRhKGwuQyx0LGUsaSxuLG8sYSksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLGksbixvLGEpOnRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvKHQsZSxpLG4sbyxhKSksdGhpcy5feGk9byx0aGlzLl95aT1hLHRoaXN9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMuYWRkRGF0YShsLlEsdCxlLGksbiksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkUXVhZHJhdGljVG8odCxlLGksbik6dGhpcy5fY3R4LnF1YWRyYXRpY0N1cnZlVG8odCxlLGksbikpLHRoaXMuX3hpPWksdGhpcy5feWk9bix0aGlzfSxhcmM6ZnVuY3Rpb24odCxlLGksbixvLGEpe3JldHVybiB0aGlzLmFkZERhdGEobC5BLHQsZSxpLGksbixvLW4sMCxhPzA6MSksdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjKHQsZSxpLG4sbyxhKSx0aGlzLl94aT1nKG8pKmkrdCx0aGlzLl94aT1tKG8pKmkrdCx0aGlzfSxhcmNUbzpmdW5jdGlvbih0LGUsaSxuLG8pe3JldHVybiB0aGlzLl9jdHgmJnRoaXMuX2N0eC5hcmNUbyh0LGUsaSxuLG8pLHRoaXN9LHJlY3Q6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LnJlY3QodCxlLGksbiksdGhpcy5hZGREYXRhKGwuUix0LGUsaSxuKSx0aGlzfSxjbG9zZVBhdGg6ZnVuY3Rpb24oKXt0aGlzLmFkZERhdGEobC5aKTt2YXIgdD10aGlzLl9jdHgsZT10aGlzLl94MCxpPXRoaXMuX3kwO3JldHVybiB0JiYodGhpcy5fbmVlZHNEYXNoKCkmJnRoaXMuX2Rhc2hlZExpbmVUbyhlLGkpLHQuY2xvc2VQYXRoKCkpLHRoaXMuX3hpPWUsdGhpcy5feWk9aSx0aGlzfSxmaWxsOmZ1bmN0aW9uKHQpe3QmJnQuZmlsbCgpLHRoaXMudG9TdGF0aWMoKX0sc3Ryb2tlOmZ1bmN0aW9uKHQpe3QmJnQuc3Ryb2tlKCksdGhpcy50b1N0YXRpYygpfSxzZXRMaW5lRGFzaDpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXkpe3RoaXMuX2xpbmVEYXNoPXQsdGhpcy5fZGFzaElkeD0wO2Zvcih2YXIgZT0wLGk9MDtpPHQubGVuZ3RoO2krKyllKz10W2ldO3RoaXMuX2Rhc2hTdW09ZX1yZXR1cm4gdGhpc30sc2V0TGluZURhc2hPZmZzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Rhc2hPZmZzZXQ9dCx0aGlzfSxsZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufSxzZXREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO3RoaXMuZGF0YSYmdGhpcy5kYXRhLmxlbmd0aD09ZXx8IXh8fCh0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheShlKSk7Zm9yKHZhciBpPTA7ZT5pO2krKyl0aGlzLmRhdGFbaV09dFtpXTt0aGlzLl9sZW49ZX0sYXBwZW5kUGF0aDpmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0XSk7Zm9yKHZhciBlPXQubGVuZ3RoLGk9MCxuPXRoaXMuX2xlbixvPTA7ZT5vO28rKylpKz10W29dLmxlbigpO3gmJnRoaXMuZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmKHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KG4raSkpO2Zvcih2YXIgbz0wO2U+bztvKyspZm9yKHZhciBhPXRbb10uZGF0YSxyPTA7cjxhLmxlbmd0aDtyKyspdGhpcy5kYXRhW24rK109YVtyXTt0aGlzLl9sZW49bn0sYWRkRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGE7dGhpcy5fbGVuK2FyZ3VtZW50cy5sZW5ndGg+ZS5sZW5ndGgmJih0aGlzLl9leHBhbmREYXRhKCksZT10aGlzLmRhdGEpO2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspZVt0aGlzLl9sZW4rK109YXJndW1lbnRzW2ldO3RoaXMuX3ByZXZDbWQ9dH0sX2V4cGFuZERhdGE6ZnVuY3Rpb24oKXtpZighKHRoaXMuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuX2xlbjtlKyspdFtlXT10aGlzLmRhdGFbZV07dGhpcy5kYXRhPXR9fSxfbmVlZHNEYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVEYXNofSxfZGFzaGVkTGluZVRvOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPXRoaXMuX2Rhc2hTdW0sYT10aGlzLl9kYXNoT2Zmc2V0LHI9dGhpcy5fbGluZURhc2gscz10aGlzLl9jdHgsbD10aGlzLl94aSxoPXRoaXMuX3lpLHU9dC1sLGM9ZS1oLGQ9dih1KnUrYypjKSxnPWwsbT1oLHk9ci5sZW5ndGg7Zm9yKHUvPWQsYy89ZCwwPmEmJihhPW8rYSksYSU9byxnLT1hKnUsbS09YSpjO3U+PTAmJnQ+PWd8fDA+dSYmZz50OyluPXRoaXMuX2Rhc2hJZHgsaT1yW25dLGcrPXUqaSxtKz1jKmksdGhpcy5fZGFzaElkeD0obisxKSV5LHU+MCYmbD5nfHwwPnUmJmc+bHx8c1tuJTI/XCJtb3ZlVG9cIjpcImxpbmVUb1wiXSh1Pj0wP2YoZyx0KTpwKGcsdCksYz49MD9mKG0sZSk6cChtLGUpKTt1PWctdCxjPW0tZSx0aGlzLl9kYXNoT2Zmc2V0PS12KHUqdStjKmMpfSxfZGFzaGVkQmV6aWVyVG86ZnVuY3Rpb24odCxlLGksbyxhLHIpe3ZhciBzLGwsaCx1LGMsZD10aGlzLl9kYXNoU3VtLGY9dGhpcy5fZGFzaE9mZnNldCxwPXRoaXMuX2xpbmVEYXNoLGc9dGhpcy5fY3R4LG09dGhpcy5feGkseT10aGlzLl95aSx4PW4uY3ViaWNBdCxfPTAsYj10aGlzLl9kYXNoSWR4LHc9cC5sZW5ndGgsUz0wO2ZvcigwPmYmJihmPWQrZiksZiU9ZCxzPTA7MT5zO3MrPS4xKWw9eChtLHQsaSxhLHMrLjEpLXgobSx0LGksYSxzKSxoPXgoeSxlLG8scixzKy4xKS14KHksZSxvLHIscyksXys9dihsKmwraCpoKTtmb3IoO3c+YiYmKFMrPXBbYl0sIShTPmYpKTtiKyspO2ZvcihzPShTLWYpL187MT49czspdT14KG0sdCxpLGEscyksYz14KHksZSxvLHIscyksYiUyP2cubW92ZVRvKHUsYyk6Zy5saW5lVG8odSxjKSxzKz1wW2JdL18sYj0oYisxKSV3O2IlMiE9PTAmJmcubGluZVRvKGEsciksbD1hLXUsaD1yLWMsdGhpcy5fZGFzaE9mZnNldD0tdihsKmwraCpoKX0sX2Rhc2hlZFF1YWRyYXRpY1RvOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWksYT1uO2k9KGkrMip0KS8zLG49KG4rMiplKS8zLHQ9KHRoaXMuX3hpKzIqdCkvMyxlPSh0aGlzLl95aSsyKmUpLzMsdGhpcy5fZGFzaGVkQmV6aWVyVG8odCxlLGksbixvLGEpfSx0b1N0YXRpYzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YTt0IGluc3RhbmNlb2YgQXJyYXkmJih0Lmxlbmd0aD10aGlzLl9sZW4seCYmKHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KHQpKSl9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe2hbMF09aFsxXT1jWzBdPWNbMV09TnVtYmVyLk1BWF9WQUxVRSx1WzBdPXVbMV09ZFswXT1kWzFdPS1OdW1iZXIuTUFYX1ZBTFVFO2Zvcih2YXIgdD10aGlzLmRhdGEsZT0wLGk9MCxuPTAscz0wLGY9MDtmPHQubGVuZ3RoOyl7dmFyIHA9dFtmKytdO3N3aXRjaCgxPT1mJiYoZT10W2ZdLGk9dFtmKzFdLG49ZSxzPWkpLHApe2Nhc2UgbC5NOm49dFtmKytdLHM9dFtmKytdLGU9bixpPXMsY1swXT1uLGNbMV09cyxkWzBdPW4sZFsxXT1zO2JyZWFrO2Nhc2UgbC5MOmEuZnJvbUxpbmUoZSxpLHRbZl0sdFtmKzFdLGMsZCksZT10W2YrK10saT10W2YrK107YnJlYWs7Y2FzZSBsLkM6YS5mcm9tQ3ViaWMoZSxpLHRbZisrXSx0W2YrK10sdFtmKytdLHRbZisrXSx0W2ZdLHRbZisxXSxjLGQpLGU9dFtmKytdLGk9dFtmKytdO2JyZWFrO2Nhc2UgbC5ROmEuZnJvbVF1YWRyYXRpYyhlLGksdFtmKytdLHRbZisrXSx0W2ZdLHRbZisxXSxjLGQpLGU9dFtmKytdLGk9dFtmKytdO2JyZWFrO2Nhc2UgbC5BOnZhciB2PXRbZisrXSx5PXRbZisrXSx4PXRbZisrXSxfPXRbZisrXSxiPXRbZisrXSx3PXRbZisrXStiLFM9KHRbZisrXSwxLXRbZisrXSk7MT09ZiYmKG49ZyhiKSp4K3Yscz1tKGIpKl8reSksYS5mcm9tQXJjKHYseSx4LF8sYix3LFMsYyxkKSxlPWcodykqeCt2LGk9bSh3KSpfK3k7YnJlYWs7Y2FzZSBsLlI6bj1lPXRbZisrXSxzPWk9dFtmKytdO3ZhciBNPXRbZisrXSxBPXRbZisrXTthLmZyb21MaW5lKG4scyxuK00scytBLGMsZCk7YnJlYWs7Y2FzZSBsLlo6ZT1uLGk9c31vLm1pbihoLGgsYyksby5tYXgodSx1LGQpfXJldHVybiAwPT09ZiYmKGhbMF09aFsxXT11WzBdPXVbMV09MCksbmV3IHIoaFswXSxoWzFdLHVbMF0taFswXSx1WzFdLWhbMV0pfSxyZWJ1aWxkUGF0aDpmdW5jdGlvbih0KXtmb3IodmFyIGUsaSxuLG8sYSxyLHM9dGhpcy5kYXRhLGg9dGhpcy5fdXgsdT10aGlzLl91eSxjPXRoaXMuX2xlbixkPTA7Yz5kOyl7dmFyIGY9c1tkKytdO3N3aXRjaCgxPT1kJiYobj1zW2RdLG89c1tkKzFdLGU9bixpPW8pLGYpe2Nhc2UgbC5NOmU9bj1zW2QrK10saT1vPXNbZCsrXSx0Lm1vdmVUbyhuLG8pO2JyZWFrO2Nhc2UgbC5MOmE9c1tkKytdLHI9c1tkKytdLCh5KGEtbik+aHx8eShyLW8pPnV8fGQ9PT1jLTEpJiYodC5saW5lVG8oYSxyKSxuPWEsbz1yKTticmVhaztjYXNlIGwuQzp0LmJlemllckN1cnZlVG8oc1tkKytdLHNbZCsrXSxzW2QrK10sc1tkKytdLHNbZCsrXSxzW2QrK10pLG49c1tkLTJdLG89c1tkLTFdO2JyZWFrO2Nhc2UgbC5ROnQucXVhZHJhdGljQ3VydmVUbyhzW2QrK10sc1tkKytdLHNbZCsrXSxzW2QrK10pLG49c1tkLTJdLG89c1tkLTFdO2JyZWFrO2Nhc2UgbC5BOnZhciBwPXNbZCsrXSx2PXNbZCsrXSx4PXNbZCsrXSxfPXNbZCsrXSxiPXNbZCsrXSx3PXNbZCsrXSxTPXNbZCsrXSxNPXNbZCsrXSxBPXg+Xz94Ol8sST14Pl8/MTp4L18sVD14Pl8/Xy94OjEsTD1NYXRoLmFicyh4LV8pPi4wMDEsQz1iK3c7TD8odC50cmFuc2xhdGUocCx2KSx0LnJvdGF0ZShTKSx0LnNjYWxlKEksVCksdC5hcmMoMCwwLEEsYixDLDEtTSksdC5zY2FsZSgxL0ksMS9UKSx0LnJvdGF0ZSgtUyksdC50cmFuc2xhdGUoLXAsLXYpKTp0LmFyYyhwLHYsQSxiLEMsMS1NKSwxPT1kJiYoZT1nKGIpKngrcCxpPW0oYikqXyt2KSxuPWcoQykqeCtwLG89bShDKSpfK3Y7YnJlYWs7Y2FzZSBsLlI6ZT1uPXNbZF0saT1vPXNbZCsxXSx0LnJlY3Qoc1tkKytdLHNbZCsrXSxzW2QrK10sc1tkKytdKTticmVhaztjYXNlIGwuWjp0LmNsb3NlUGF0aCgpLG49ZSxvPWl9fX19LF8uQ01EPWwsdC5leHBvcnRzPV99LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e307dC5leHBvcnRzPXtyZWdpc3RlcjpmdW5jdGlvbih0LGUpe2lbdF09ZX0sZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiBpW3RdfX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdWzFdfHwodFtlXVsxXT10W2VdWzBdKTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBpPXt9LG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9dFtvXVsxXTtpZighKGUmJm4uaW5kZXhPZihlLGEpPj0wKSl7dmFyIHI9dGhpcy5nZXRTaGFsbG93KGEpO251bGwhPXImJihpW3Rbb11bMF1dPXIpfX1yZXR1cm4gaX19fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSxuKXtpZighZSlyZXR1cm4gdDt2YXIgcz1hKGVbMF0pLGw9ci5pc0FycmF5KHMpJiZzLmxlbmd0aHx8MTtpPWl8fFtdLG49bnx8XCJleHRyYVwiO2Zvcih2YXIgaD0wO2w+aDtoKyspaWYoIXRbaF0pe3ZhciB1PWlbaF18fG4rKGgtaS5sZW5ndGgpO3RbaF09byhlLGgpP3t0eXBlOlwib3JkaW5hbFwiLG5hbWU6dX06dX1yZXR1cm4gdH1mdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKXt2YXIgbz1hKHRbaV0pO2lmKCFyLmlzQXJyYXkobykpcmV0dXJuITE7dmFyIG89b1tlXTtpZihudWxsIT1vJiZpc0Zpbml0ZShvKSlyZXR1cm4hMTtpZihyLmlzU3RyaW5nKG8pJiZcIi1cIiE9PW8pcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gci5pc0FycmF5KHQpP3Q6ci5pc09iamVjdCh0KT90LnZhbHVlOnR9dmFyIHI9aSgxKTt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLl9leHRlbnQ9WzEvMCwtKDEvMCldLHRoaXMuX2ludGVydmFsPTAsdGhpcy5pbml0JiZ0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvPWkoMjApLGE9bi5wcm90b3R5cGU7YS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sYS5jb250YWluPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtyZXR1cm4gdD49ZVswXSYmdDw9ZVsxXX0sYS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3JldHVybiBlWzFdPT09ZVswXT8uNToodC1lWzBdKS8oZVsxXS1lWzBdKX0sYS5zY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7cmV0dXJuIHQqKGVbMV0tZVswXSkrZVswXX0sYS51bmlvbkV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7dFswXTxlWzBdJiYoZVswXT10WzBdKSx0WzFdPmVbMV0mJihlWzFdPXRbMV0pfSxhLmdldEV4dGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnQuc2xpY2UoKX0sYS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9leHRlbnQ7aXNOYU4odCl8fChpWzBdPXQpLGlzTmFOKGUpfHwoaVsxXT1lKX0sYS5nZXRUaWNrc0xhYmVscz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMuZ2V0VGlja3MoKSxpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKHRoaXMuZ2V0TGFiZWwoZVtpXSkpO3JldHVybiB0fSxvLmVuYWJsZUNsYXNzRXh0ZW5kKG4pLG8uZW5hYmxlQ2xhc3NNYW5hZ2VtZW50KG4se3JlZ2lzdGVyV2hlbkV4dGVuZDohMH0pLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe3ZhciBpPTE7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKGk9TWF0aC5tYXgod2luZG93LmRldmljZVBpeGVsUmF0aW98fDEsMSkpO3ZhciBuPXtkZWJ1Z01vZGU6MCxkZXZpY2VQaXhlbFJhdGlvOml9O3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTp7bGVmdDowLHRvcDowfX1mdW5jdGlvbiBvKHQsZSl7aWYoZT1lfHx3aW5kb3cuZXZlbnQsbnVsbCE9ZS56clgpcmV0dXJuIGU7dmFyIGk9ZS50eXBlLG89aSYmaS5pbmRleE9mKFwidG91Y2hcIik+PTA7aWYobyl7dmFyIGE9XCJ0b3VjaGVuZFwiIT1pP2UudGFyZ2V0VG91Y2hlc1swXTplLmNoYW5nZWRUb3VjaGVzWzBdO2lmKGEpe3ZhciByPW4odCk7ZS56clg9YS5jbGllbnRYLXIubGVmdCxlLnpyWT1hLmNsaWVudFktci50b3B9fWVsc2V7dmFyIHM9bih0KTtlLnpyWD1lLmNsaWVudFgtcy5sZWZ0LGUuenJZPWUuY2xpZW50WS1zLnRvcCxlLnpyRGVsdGE9ZS53aGVlbERlbHRhP2Uud2hlZWxEZWx0YS8xMjA6LShlLmRldGFpbHx8MCkvM31yZXR1cm4gZX1mdW5jdGlvbiBhKHQsZSxpKXtsP3QuYWRkRXZlbnRMaXN0ZW5lcihlLGkpOnQuYXR0YWNoRXZlbnQoXCJvblwiK2UsaSl9ZnVuY3Rpb24gcih0LGUsaSl7bD90LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpKTp0LmRldGFjaEV2ZW50KFwib25cIitlLGkpfXZhciBzPWkoMjEpLGw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmISF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcixoPWw/ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdC5jYW5jZWxCdWJibGU9ITB9OmZ1bmN0aW9uKHQpe3QucmV0dXJuVmFsdWU9ITEsdC5jYW5jZWxCdWJibGU9ITB9O3QuZXhwb3J0cz17bm9ybWFsaXplRXZlbnQ6byxhZGRFdmVudExpc3RlbmVyOmEscmVtb3ZlRXZlbnRMaXN0ZW5lcjpyLHN0b3A6aCxEaXNwYXRjaGVyOnN9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoJiZudWxsPT10W2VdOyllKys7cmV0dXJuIHRbZV19ZnVuY3Rpb24gbyh0KXt2YXIgZT1uKHQpO3JldHVybiBudWxsIT1lJiYhYy5pc0FycmF5KHAoZSkpfWZ1bmN0aW9uIGEodCxlLGkpe2lmKHQ9dHx8W10sIWMuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEuXCIpO3ZhciBuPWUuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSxhPW1bbl0scj1mLmdldChuKSxzPWEmJmEodCxlLGkpLGQ9cyYmcy5kaW1lbnNpb25zO2R8fChkPXImJnIuZGltZW5zaW9uc3x8W1wieFwiLFwieVwiXSxkPXUoZCx0LGQuY29uY2F0KFtcInZhbHVlXCJdKSkpO3ZhciB2LHk9cyYmcy5jYXRlZ29yeUF4aXNNb2RlbCx4PVwib3JkaW5hbFwiPT09ZFswXS50eXBlPzA6XCJvcmRpbmFsXCI9PT1kWzFdLnR5cGU/MTotMSxfPW5ldyBoKGQsZSksYj1sKHMsdCksdz15JiZvKHQpP2Z1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBuPT09eD9pOmcocCh0KSxkW25dKX06ZnVuY3Rpb24odCxlLGksbil7dmFyIG89cCh0KSxhPWcobyYmb1tuXSxkW25dKTtyZXR1cm4geD09PW4mJlwic3RyaW5nXCI9PXR5cGVvZiBhJiYodj12fHx5LmdldENhdGVnb3JpZXMoKSxhPWMuaW5kZXhPZih2LGEpLDA+YSYmIWlzTmFOKGEpJiYoYT0rYSkpLGF9O3JldHVybiBfLmluaXREYXRhKHQsYix3KSxffWZ1bmN0aW9uIHIodCl7cmV0dXJuXCJjYXRlZ29yeVwiIT09dCYmXCJ0aW1lXCIhPT10fWZ1bmN0aW9uIHModCl7cmV0dXJuXCJjYXRlZ29yeVwiPT09dD9cIm9yZGluYWxcIjpcInRpbWVcIj09PXQ/XCJ0aW1lXCI6XCJmbG9hdFwifWZ1bmN0aW9uIGwodCxlKXt2YXIgaT1bXTtpZih0JiZ0LmNhdGVnb3J5QXhpc01vZGVsKXt2YXIgbj10LmNhdGVnb3J5QXhpc01vZGVsLmdldENhdGVnb3JpZXMoKTtpZihuKXt2YXIgbz1lLmxlbmd0aDtpZihjLmlzQXJyYXkoZVswXSkmJmVbMF0ubGVuZ3RoPjEpe2k9W107Zm9yKHZhciBhPTA7bz5hO2ErKylpW2FdPW5bZVthXVt0LmNhdGVnb3J5SW5kZXh8fDBdXX1lbHNlIGk9bi5zbGljZSgwKX19cmV0dXJuIGl9dmFyIGg9aSgxNSksdT1pKDMxKSxjPWkoMSksZD1pKDcpLGY9aSgyMykscD1kLmdldERhdGFJdGVtVmFsdWUsZz1kLmNvbnZlckRhdGFWYWx1ZSxtPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsaSl7dmFyIG49aS5nZXRDb21wb25lbnQoXCJ4QXhpc1wiLGUuZ2V0KFwieEF4aXNJbmRleFwiKSksbz1pLmdldENvbXBvbmVudChcInlBeGlzXCIsZS5nZXQoXCJ5QXhpc0luZGV4XCIpKTtpZighbnx8IW8pdGhyb3cgbmV3IEVycm9yKFwiQXhpcyBvcHRpb24gbm90IGZvdW5kXCIpO3ZhciBhPW4uZ2V0KFwidHlwZVwiKSxsPW8uZ2V0KFwidHlwZVwiKSxoPVt7bmFtZTpcInhcIix0eXBlOnMoYSksc3RhY2thYmxlOnIoYSl9LHtuYW1lOlwieVwiLHR5cGU6cyhsKSxzdGFja2FibGU6cihsKX1dLGM9XCJjYXRlZ29yeVwiPT09YTtyZXR1cm4gdShoLHQsW1wieFwiLFwieVwiLFwielwiXSkse2RpbWVuc2lvbnM6aCxjYXRlZ29yeUluZGV4OmM/MDoxLGNhdGVnb3J5QXhpc01vZGVsOmM/bjpcImNhdGVnb3J5XCI9PT1sP286bnVsbH19LHBvbGFyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmdldChcInBvbGFySW5kZXhcIil8fDAsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoXCJwb2xhckluZGV4XCIpPT09bn0sYT1pLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpcImFuZ2xlQXhpc1wiLGZpbHRlcjpvfSlbMF0sbD1pLmZpbmRDb21wb25lbnRzKHttYWluVHlwZTpcInJhZGl1c0F4aXNcIixmaWx0ZXI6b30pWzBdO2lmKCFhfHwhbCl0aHJvdyBuZXcgRXJyb3IoXCJBeGlzIG9wdGlvbiBub3QgZm91bmRcIik7dmFyIGg9bC5nZXQoXCJ0eXBlXCIpLGM9YS5nZXQoXCJ0eXBlXCIpLGQ9W3tuYW1lOlwicmFkaXVzXCIsdHlwZTpzKGgpLHN0YWNrYWJsZTpyKGgpfSx7bmFtZTpcImFuZ2xlXCIsdHlwZTpzKGMpLHN0YWNrYWJsZTpyKGMpfV0sZj1cImNhdGVnb3J5XCI9PT1jO3JldHVybiB1KGQsdCxbXCJyYWRpdXNcIixcImFuZ2xlXCIsXCJ2YWx1ZVwiXSkse2RpbWVuc2lvbnM6ZCxjYXRlZ29yeUluZGV4OmY/MTowLGNhdGVnb3J5QXhpc01vZGVsOmY/YTpcImNhdGVnb3J5XCI9PT1oP2w6bnVsbH19LGdlbzpmdW5jdGlvbih0LGUsaSl7cmV0dXJue2RpbWVuc2lvbnM6dShbe25hbWU6XCJsbmdcIn0se25hbWU6XCJsYXRcIn1dLHQsW1wibG5nXCIsXCJsYXRcIixcInZhbHVlXCJdKX19fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMyksbz1pKDEpO2koNTIpLGkoOTUpLGkoMikuZXh0ZW5kQ29tcG9uZW50Vmlldyh7dHlwZTpcImdyaWRcIixyZW5kZXI6ZnVuY3Rpb24odCxlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KFwic2hvd1wiKSYmdGhpcy5ncm91cC5hZGQobmV3IG4uUmVjdCh7c2hhcGU6dC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzdHlsZTpvLmRlZmF1bHRzKHtmaWxsOnQuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpfSx0LmdldEl0ZW1TdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3Q9dHx8e30sci5jYWxsKHRoaXMsdCk7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmXCJzdHlsZVwiIT09ZSYmKHRoaXNbZV09dFtlXSk7dGhpcy5zdHlsZT1uZXcgYSh0LnN0eWxlKSx0aGlzLl9yZWN0PW51bGwsdGhpcy5fX2NsaXBQYXRocz1bXX12YXIgbz1pKDEpLGE9aSgxNDIpLHI9aSg1NSkscz1pKDY3KTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bix0eXBlOlwiZGlzcGxheWFibGVcIixfX2RpcnR5OiEwLGludmlzaWJsZTohMSx6OjAsejI6MCx6bGV2ZWw6MCxkcmFnZ2FibGU6ITEsZHJhZ2dpbmc6ITEsc2lsZW50OiExLGN1bGxpbmc6ITEsY3Vyc29yOlwicG9pbnRlclwiLHJlY3RIb3ZlcjohMSxiZWZvcmVCcnVzaDpmdW5jdGlvbih0KXt9LGFmdGVyQnJ1c2g6ZnVuY3Rpb24odCl7fSxicnVzaDpmdW5jdGlvbih0KXt9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe30sY29udGFpbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlY3RDb250YWluKHQsZSl9LHRyYXZlcnNlOmZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LHJlY3RDb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIG4uY29udGFpbihpWzBdLGlbMV0pfSxkaXJ0eTpmdW5jdGlvbigpe3RoaXMuX19kaXJ0eT0hMCx0aGlzLl9yZWN0PW51bGwsdGhpcy5fX3pyJiZ0aGlzLl9fenIucmVmcmVzaCgpfSxhbmltYXRlU3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShcInN0eWxlXCIsdCl9LGF0dHJLVjpmdW5jdGlvbih0LGUpe1wic3R5bGVcIiE9PXQ/ci5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyx0LGUpOnRoaXMuc3R5bGUuc2V0KGUpfSxzZXRTdHlsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnNldCh0LGUpLHRoaXMuZGlydHkoITEpLHRoaXN9LHVzZVN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlPW5ldyBhKHQpLHRoaXMuZGlydHkoITEpLHRoaXN9fSxvLmluaGVyaXRzKG4sciksby5taXhpbihuLHMpLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0KSxvPWkoOSksYT1pKDMyKSxyPU1hdGguZmxvb3Iscz1NYXRoLmNlaWwsbD1hLmV4dGVuZCh7dHlwZTpcImludGVydmFsXCIsX2ludGVydmFsOjAsc2V0RXh0ZW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZXh0ZW50O2lzTmFOKHQpfHwoaVswXT1wYXJzZUZsb2F0KHQpKSxpc05hTihlKXx8KGlbMV09cGFyc2VGbG9hdChlKSl9LHVuaW9uRXh0ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSksbC5wcm90b3R5cGUuc2V0RXh0ZW50LmNhbGwodGhpcyxlWzBdLGVbMV0pfSxnZXRJbnRlcnZhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnZhbHx8dGhpcy5uaWNlVGlja3MoKSx0aGlzLl9pbnRlcnZhbH0sc2V0SW50ZXJ2YWw6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJ2YWw9dCx0aGlzLl9uaWNlRXh0ZW50PXRoaXMuX2V4dGVudC5zbGljZSgpfSxnZXRUaWNrczpmdW5jdGlvbigpe3RoaXMuX2ludGVydmFsfHx0aGlzLm5pY2VUaWNrcygpO3ZhciB0PXRoaXMuX2ludGVydmFsLGU9dGhpcy5fZXh0ZW50LGk9W10sbz0xZTQ7aWYodCl7dmFyIGE9dGhpcy5fbmljZUV4dGVudDtlWzBdPGFbMF0mJmkucHVzaChlWzBdKTtmb3IodmFyIHI9YVswXTtyPD1hWzFdOylpZihpLnB1c2gocikscj1uLnJvdW5kKHIrdCksaS5sZW5ndGg+bylyZXR1cm5bXTtlWzFdPmFbMV0mJmkucHVzaChlWzFdKX1yZXR1cm4gaX0sZ2V0VGlja3NMYWJlbHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLmdldFRpY2tzKCksaT0wO2k8ZS5sZW5ndGg7aSsrKXQucHVzaCh0aGlzLmdldExhYmVsKGVbaV0pKTtyZXR1cm4gdH0sZ2V0TGFiZWw6ZnVuY3Rpb24odCl7cmV0dXJuIG8uYWRkQ29tbWFzKHQpfSxuaWNlVGlja3M6ZnVuY3Rpb24odCl7dD10fHw1O3ZhciBlPXRoaXMuX2V4dGVudCxpPWVbMV0tZVswXTtpZihpc0Zpbml0ZShpKSl7MD5pJiYoaT0taSxlLnJldmVyc2UoKSk7dmFyIG89bi5uaWNlKGkvdCwhMCksYT1bbi5yb3VuZChzKGVbMF0vbykqbyksbi5yb3VuZChyKGVbMV0vbykqbyldO3RoaXMuX2ludGVydmFsPW8sdGhpcy5fbmljZUV4dGVudD1hfX0sbmljZUV4dGVudDpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5fZXh0ZW50O2lmKG9bMF09PT1vWzFdKWlmKDAhPT1vWzBdKXt2YXIgYT1vWzBdLzI7b1swXS09YSxvWzFdKz1hfWVsc2Ugb1sxXT0xO3ZhciBsPW9bMV0tb1swXTtpc0Zpbml0ZShsKXx8KG9bMF09MCxvWzFdPTEpLHRoaXMubmljZVRpY2tzKHQpO3ZhciBoPXRoaXMuX2ludGVydmFsO2V8fChvWzBdPW4ucm91bmQocihvWzBdL2gpKmgpKSxpfHwob1sxXT1uLnJvdW5kKHMob1sxXS9oKSpoKSl9fSk7bC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGx9LHQuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXt0aGlzLmdyb3VwPW5ldyBhLkdyb3VwLHRoaXMuX3N5bWJvbEN0b3I9dHx8cn1mdW5jdGlvbiBvKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSk7cmV0dXJuIG4mJiFpc05hTihuWzBdKSYmIWlzTmFOKG5bMV0pJiYhKGkmJmkoZSkpJiZcIm5vbmVcIiE9PXQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sXCIpfXZhciBhPWkoMykscj1pKDQ3KSxzPW4ucHJvdG90eXBlO3MudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ3JvdXAsbj10Lmhvc3RNb2RlbCxyPXRoaXMuX2RhdGEscz10aGlzLl9zeW1ib2xDdG9yO3QuZGlmZihyKS5hZGQoZnVuY3Rpb24obil7dmFyIGE9dC5nZXRJdGVtTGF5b3V0KG4pO2lmKG8odCxuLGUpKXt2YXIgcj1uZXcgcyh0LG4pO3IuYXR0cihcInBvc2l0aW9uXCIsYSksdC5zZXRJdGVtR3JhcGhpY0VsKG4sciksaS5hZGQocil9fSkudXBkYXRlKGZ1bmN0aW9uKGwsaCl7dmFyIHU9ci5nZXRJdGVtR3JhcGhpY0VsKGgpLGM9dC5nZXRJdGVtTGF5b3V0KGwpO3JldHVybiBvKHQsbCxlKT8odT8odS51cGRhdGVEYXRhKHQsbCksYS51cGRhdGVQcm9wcyh1LHtwb3NpdGlvbjpjfSxuKSk6KHU9bmV3IHModCxsKSx1LmF0dHIoXCJwb3NpdGlvblwiLGMpKSxpLmFkZCh1KSx2b2lkIHQuc2V0SXRlbUdyYXBoaWNFbChsLHUpKTp2b2lkIGkucmVtb3ZlKHUpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPXIuZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZlLmZhZGVPdXQoZnVuY3Rpb24oKXtpLnJlbW92ZShlKX0pfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9dH0scy51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhO3QmJnQuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSxpKXtlLmF0dHIoXCJwb3NpdGlvblwiLHQuZ2V0SXRlbUxheW91dChpKSl9KX0scy5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxpPXRoaXMuX2RhdGE7aSYmKHQ/aS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXt0LmZhZGVPdXQoZnVuY3Rpb24oKXtlLnJlbW92ZSh0KX0pfSk6ZS5yZW1vdmVBbGwoKSl9LHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXt2YXIgZT17fTtyZXR1cm4gdShbXCJzdGFydFwiLFwiZW5kXCIsXCJzdGFydFZhbHVlXCIsXCJlbmRWYWx1ZVwiXSxmdW5jdGlvbihpKXtlW2ldPXRbaV19KSxlfWZ1bmN0aW9uIG8odCxlLGksbil7bnVsbCE9aVtlXSYmbnVsbD09aVt0XSYmKG5bdF09bnVsbCl9dmFyIGE9aSgxKSxyPWkoMTQpLHM9aSgyKSxsPWkoNyksaD1pKDE2OSksdT1hLmVhY2gsYz1sLmVhY2hBeGlzRGltLGQ9cy5leHRlbmRDb21wb25lbnRNb2RlbCh7dHlwZTpcImRhdGFab29tXCIsZGVwZW5kZW5jaWVzOltcInhBeGlzXCIsXCJ5QXhpc1wiLFwiekF4aXNcIixcInJhZGl1c0F4aXNcIixcImFuZ2xlQXhpc1wiLFwic2VyaWVzXCJdLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NCxvcmllbnQ6bnVsbCx4QXhpc0luZGV4Om51bGwseUF4aXNJbmRleDpudWxsLGFuZ2xlQXhpc0luZGV4Om51bGwscmFkaXVzQXhpc0luZGV4Om51bGwsZmlsdGVyTW9kZTpcImZpbHRlclwiLHRocm90dGxlOjEwMCxzdGFydDowLGVuZDoxMDAsc3RhcnRWYWx1ZTpudWxsLGVuZFZhbHVlOm51bGx9LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RhdGFJbnRlcnZhbEJ5QXhpcz17fSx0aGlzLl9kYXRhSW5mbz17fSx0aGlzLl9heGlzUHJveGllcz17fSx0aGlzLnRleHRTdHlsZU1vZGVsO3ZhciBvPW4odCk7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMuZG9Jbml0KG8pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT1uKHQpO2EubWVyZ2UodGhpcy5vcHRpb24sdCwhMCksdGhpcy5kb0luaXQoZSl9LGRvSW5pdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjtyLmNhbnZhc1N1cHBvcnRlZHx8KGUucmVhbHRpbWU9ITEpLG8oXCJzdGFydFwiLFwic3RhcnRWYWx1ZVwiLHQsZSksbyhcImVuZFwiLFwiZW5kVmFsdWVcIix0LGUpLHRoaXMudGV4dFN0eWxlTW9kZWw9dGhpcy5nZXRNb2RlbChcInRleHRTdHlsZVwiKSx0aGlzLl9yZXNldFRhcmdldCgpLHRoaXMuX2dpdmVBeGlzUHJveGllcygpfSxfZ2l2ZUF4aXNQcm94aWVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYXhpc1Byb3hpZXM7dGhpcy5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihlLGksbixvKXt2YXIgYT10aGlzLmRlcGVuZGVudE1vZGVsc1tlLmF4aXNdW2ldLHI9YS5fX2R6QXhpc1Byb3h5fHwoYS5fX2R6QXhpc1Byb3h5PW5ldyBoKGUubmFtZSxpLHRoaXMsbykpO3RbZS5uYW1lK1wiX1wiK2ldPXJ9LHRoaXMpfSxfcmVzZXRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPXRoaXMuX2p1ZGdlQXV0b01vZGUoKTtjKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYXhpc0luZGV4O3RbaV09bC5ub3JtYWxpemVUb0FycmF5KHRbaV0pfSx0aGlzKSxcImF4aXNJbmRleFwiPT09ZT90aGlzLl9hdXRvU2V0QXhpc0luZGV4KCk6XCJvcmllbnRcIj09PWUmJnRoaXMuX2F1dG9TZXRPcmllbnQoKX0sX2p1ZGdlQXV0b01vZGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPSExO2MoZnVuY3Rpb24oaSl7bnVsbCE9dFtpLmF4aXNJbmRleF0mJihlPSEwKX0sdGhpcyk7dmFyIGk9dC5vcmllbnQ7cmV0dXJuIG51bGw9PWkmJmU/XCJvcmllbnRcIjplP3ZvaWQgMDoobnVsbD09aSYmKHQub3JpZW50PVwiaG9yaXpvbnRhbFwiKSxcImF4aXNJbmRleFwiKX0sX2F1dG9TZXRBeGlzSW5kZXg6ZnVuY3Rpb24oKXt2YXIgdD0hMCxlPXRoaXMuZ2V0KFwib3JpZW50XCIsITApLGk9dGhpcy5vcHRpb247aWYodCl7dmFyIG49XCJ2ZXJ0aWNhbFwiPT09ZT97ZGltOlwieVwiLGF4aXNJbmRleDpcInlBeGlzSW5kZXhcIixheGlzOlwieUF4aXNcIn06e2RpbTpcInhcIixheGlzSW5kZXg6XCJ4QXhpc0luZGV4XCIsYXhpczpcInhBeGlzXCJ9O3RoaXMuZGVwZW5kZW50TW9kZWxzW24uYXhpc10ubGVuZ3RoJiYoaVtuLmF4aXNJbmRleF09WzBdLHQ9ITEpfXQmJmMoZnVuY3Rpb24oZSl7aWYodCl7dmFyIG49W10sbz10aGlzLmRlcGVuZGVudE1vZGVsc1tlLmF4aXNdO2lmKG8ubGVuZ3RoJiYhbi5sZW5ndGgpZm9yKHZhciBhPTAscj1vLmxlbmd0aDtyPmE7YSsrKVwiY2F0ZWdvcnlcIj09PW9bYV0uZ2V0KFwidHlwZVwiKSYmbi5wdXNoKGEpO2lbZS5heGlzSW5kZXhdPW4sbi5sZW5ndGgmJih0PSExKX19LHRoaXMpLHQmJnRoaXMuZWNNb2RlbC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3RoaXMuX2lzU2VyaWVzSGFzQWxsQXhlc1R5cGVPZih0LFwidmFsdWVcIikmJmMoZnVuY3Rpb24oZSl7dmFyIG49aVtlLmF4aXNJbmRleF0sbz10LmdldChlLmF4aXNJbmRleCk7YS5pbmRleE9mKG4sbyk8MCYmbi5wdXNoKG8pfSl9LHRoaXMpfSxfYXV0b1NldE9yaWVudDpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24oZSl7IXQmJih0PWUubmFtZSl9LHRoaXMpLHRoaXMub3B0aW9uLm9yaWVudD1cInlcIj09PXQ/XCJ2ZXJ0aWNhbFwiOlwiaG9yaXpvbnRhbFwifSxfaXNTZXJpZXNIYXNBbGxBeGVzVHlwZU9mOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ITA7cmV0dXJuIGMoZnVuY3Rpb24obil7dmFyIG89dC5nZXQobi5heGlzSW5kZXgpLGE9dGhpcy5kZXBlbmRlbnRNb2RlbHNbbi5heGlzXVtvXTthJiZhLmdldChcInR5cGVcIik9PT1lfHwoaT0hMSl9LHRoaXMpLGl9LGdldEZpcnN0VGFyZ2V0QXhpc01vZGVsOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGMoZnVuY3Rpb24oZSl7aWYobnVsbD09dCl7dmFyIGk9dGhpcy5nZXQoZS5heGlzSW5kZXgpO2kubGVuZ3RoJiYodD10aGlzLmRlcGVuZGVudE1vZGVsc1tlLmF4aXNdW2lbMF1dKX19LHRoaXMpLHR9LGVhY2hUYXJnZXRBeGlzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5lY01vZGVsO2MoZnVuY3Rpb24obil7dSh0aGlzLmdldChuLmF4aXNJbmRleCksZnVuY3Rpb24obyl7dC5jYWxsKGUsbixvLHRoaXMsaSl9LHRoaXMpfSx0aGlzKX0sZ2V0QXhpc1Byb3h5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2F4aXNQcm94aWVzW3QrXCJfXCIrZV19LHNldFJhd1JhbmdlOmZ1bmN0aW9uKHQpe3UoW1wic3RhcnRcIixcImVuZFwiLFwic3RhcnRWYWx1ZVwiLFwiZW5kVmFsdWVcIl0sZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25bZV09dFtlXX0sdGhpcyl9LGdldFBlcmNlbnRSYW5nZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7cmV0dXJuIHQ/dC5nZXREYXRhUGVyY2VudFdpbmRvdygpOnZvaWQgMH0sZ2V0VmFsdWVSYW5nZTpmdW5jdGlvbih0LGUpe2lmKG51bGwhPXR8fG51bGwhPWUpcmV0dXJuIHRoaXMuZ2V0QXhpc1Byb3h5KHQsZSkuZ2V0RGF0YVZhbHVlV2luZG93KCk7dmFyIGk9dGhpcy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtyZXR1cm4gaT9pLmdldERhdGFWYWx1ZVdpbmRvdygpOnZvaWQgMH0sZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYXhpc1Byb3hpZXM7Zm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSYmdFtlXS5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gdFtlXTtmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpJiYhdFtlXS5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gdFtlXX19KTt0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNTQpO3QuZXhwb3J0cz1uLmV4dGVuZCh7dHlwZTpcImRhdGFab29tXCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPWl9LGdldFRhcmdldEluZm86ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe2Zvcih2YXIgbyxhPTA7YTxpLmxlbmd0aDthKyspaWYoaVthXS5tb2RlbD09PXQpe289aVthXTticmVha31vfHxpLnB1c2gobz17bW9kZWw6dCxheGlzTW9kZWxzOltdLGNvb3JkSW5kZXg6bn0pLG8uYXhpc01vZGVscy5wdXNoKGUpfXZhciBlPXRoaXMuZGF0YVpvb21Nb2RlbCxpPXRoaXMuZWNNb2RlbCxuPVtdLG89W10sYT1bXTtyZXR1cm4gZS5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihlLHIpe3ZhciBzPWkuZ2V0Q29tcG9uZW50KGUuYXhpcyxyKTtpZihzKXthLnB1c2gocyk7dmFyIGw9cy5nZXQoXCJncmlkSW5kZXhcIiksaD1zLmdldChcInBvbGFySW5kZXhcIik7aWYobnVsbCE9bCl7dmFyIHU9aS5nZXRDb21wb25lbnQoXCJncmlkXCIsbCk7dCh1LHMsbixsKX1lbHNlIGlmKG51bGwhPWgpe3ZhciB1PWkuZ2V0Q29tcG9uZW50KFwicG9sYXJcIixoKTt0KHUscyxvLGgpfX19LHRoaXMpLHtjYXJ0ZXNpYW5zOm4scG9sYXJzOm8sYXhpc01vZGVsczphfX19KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz1pKDIwKSxhPW8ucGFyc2VDbGFzc1R5cGUscj0wLHM9e30sbD1cIl9cIjtzLmdldFVJRD1mdW5jdGlvbih0KXtyZXR1cm5bdHx8XCJcIixyKyssTWF0aC5yYW5kb20oKV0uam9pbihsKX0scy5lbmFibGVTdWJUeXBlRGVmYXVsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiB0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcj1mdW5jdGlvbih0LGkpe3Q9YSh0KSxlW3QubWFpbl09aX0sdC5kZXRlcm1pbmVTdWJUeXBlPWZ1bmN0aW9uKGksbil7dmFyIG89bi50eXBlO2lmKCFvKXt2YXIgcj1hKGkpLm1haW47dC5oYXNTdWJUeXBlcyhpKSYmZVtyXSYmKG89ZVtyXShuKSl9cmV0dXJuIG99LHR9LHMuZW5hYmxlVG9wb2xvZ2ljYWxUcmF2ZWw9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBpPXt9LHI9W107cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHMpe3ZhciBsPW8oaSxzKSxoPWwub3JpZ2luYWxEZXBzPWUocyksdT1hKGgsdCk7bC5lbnRyeUNvdW50PXUubGVuZ3RoLDA9PT1sLmVudHJ5Q291bnQmJnIucHVzaChzKSxuLmVhY2godSxmdW5jdGlvbih0KXtuLmluZGV4T2YobC5wcmVkZWNlc3Nvcix0KTwwJiZsLnByZWRlY2Vzc29yLnB1c2godCk7dmFyIGU9byhpLHQpO24uaW5kZXhPZihlLnN1Y2Nlc3Nvcix0KTwwJiZlLnN1Y2Nlc3Nvci5wdXNoKHMpfSl9KSx7Z3JhcGg6aSxub0VudHJ5TGlzdDpyfX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHRbZV18fCh0W2VdPXtwcmVkZWNlc3NvcjpbXSxzdWNjZXNzb3I6W119KSx0W2VdfWZ1bmN0aW9uIGEodCxlKXt2YXIgaT1bXTtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24odCl7bi5pbmRleE9mKGUsdCk+PTAmJmkucHVzaCh0KX0pLGl9dC50b3BvbG9naWNhbFRyYXZlbD1mdW5jdGlvbih0LGUsbyxhKXtmdW5jdGlvbiByKHQpe2hbdF0uZW50cnlDb3VudC0tLDA9PT1oW3RdLmVudHJ5Q291bnQmJnUucHVzaCh0KX1mdW5jdGlvbiBzKHQpe2NbdF09ITAscih0KX1pZih0Lmxlbmd0aCl7dmFyIGw9aShlKSxoPWwuZ3JhcGgsdT1sLm5vRW50cnlMaXN0LGM9e307Zm9yKG4uZWFjaCh0LGZ1bmN0aW9uKHQpe2NbdF09ITB9KTt1Lmxlbmd0aDspe3ZhciBkPXUucG9wKCksZj1oW2RdLHA9ISFjW2RdO3AmJihvLmNhbGwoYSxkLGYub3JpZ2luYWxEZXBzLnNsaWNlKCkpLGRlbGV0ZSBjW2RdKSxuLmVhY2goZi5zdWNjZXNzb3IscD9zOnIpfW4uZWFjaChjLGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2lyY2xlIGRlcGVuZGVuY3kgbWF5IGV4aXN0c1wiKX0pfX19LHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3ZhciBpPXRbMV0tdFswXSxuPWUsbz1pL24vMjt0WzBdKz1vLHRbMV0tPW99dmFyIG89aSg0KSxhPW8ubGluZWFyTWFwLHI9aSgxKSxzPVswLDFdLGw9ZnVuY3Rpb24odCxlLGkpe3RoaXMuZGltPXQsdGhpcy5zY2FsZT1lLHRoaXMuX2V4dGVudD1pfHxbMCwwXSx0aGlzLmludmVyc2U9ITEsdGhpcy5vbkJhbmQ9ITF9O2wucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpsLGNvbnRhaW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50LGk9TWF0aC5taW4oZVswXSxlWzFdKSxuPU1hdGgubWF4KGVbMF0sZVsxXSk7cmV0dXJuIHQ+PWkmJm4+PXR9LGNvbnRhaW5EYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW4odGhpcy5kYXRhVG9Db29yZCh0KSl9LGdldEV4dGVudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2V4dGVudC5zbGljZSgpO3JldHVybiB0fSxnZXRQaXhlbFByZWNpc2lvbjpmdW5jdGlvbih0KXtyZXR1cm4gby5nZXRQaXhlbFByZWNpc2lvbih0fHx0aGlzLnNjYWxlLmdldEV4dGVudCgpLHRoaXMuX2V4dGVudCl9LHNldEV4dGVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpWzBdPXQsaVsxXT1lfSxkYXRhVG9Db29yZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudCxvPXRoaXMuc2NhbGU7cmV0dXJuIHQ9by5ub3JtYWxpemUodCksdGhpcy5vbkJhbmQmJlwib3JkaW5hbFwiPT09by50eXBlJiYoaT1pLnNsaWNlKCksbihpLG8uY291bnQoKSkpLGEodCxzLGksZSl9LGNvb3JkVG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZXh0ZW50LG89dGhpcy5zY2FsZTt0aGlzLm9uQmFuZCYmXCJvcmRpbmFsXCI9PT1vLnR5cGUmJihpPWkuc2xpY2UoKSxuKGksby5jb3VudCgpKSk7dmFyIHI9YSh0LGkscyxlKTtyZXR1cm4gdGhpcy5zY2FsZS5zY2FsZShyKX0sZ2V0VGlja3NDb29yZHM6ZnVuY3Rpb24oKXtpZih0aGlzLm9uQmFuZCl7Zm9yKHZhciB0PXRoaXMuZ2V0QmFuZHMoKSxlPVtdLGk9MDtpPHQubGVuZ3RoO2krKyllLnB1c2godFtpXVswXSk7cmV0dXJuIHRbaS0xXSYmZS5wdXNoKHRbaS0xXVsxXSksZX1yZXR1cm4gci5tYXAodGhpcy5zY2FsZS5nZXRUaWNrcygpLHRoaXMuZGF0YVRvQ29vcmQsdGhpcyl9LGdldExhYmVsc0Nvb3JkczpmdW5jdGlvbigpe2lmKHRoaXMub25CYW5kKXtmb3IodmFyIHQsZT10aGlzLmdldEJhbmRzKCksaT1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdD1lW25dLGkucHVzaCgodFswXSt0WzFdKS8yKTtyZXR1cm4gaX1yZXR1cm4gci5tYXAodGhpcy5zY2FsZS5nZXRUaWNrcygpLHRoaXMuZGF0YVRvQ29vcmQsdGhpcyl9LGdldEJhbmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT1bXSxpPXRoaXMuc2NhbGUuY291bnQoKSxuPXRbMF0sbz10WzFdLGE9by1uLHI9MDtpPnI7cisrKWUucHVzaChbYSpyL2krbixhKihyKzEpL2krbl0pO3JldHVybiBlfSxnZXRCYW5kV2lkdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9leHRlbnQsZT10aGlzLnNjYWxlLmdldEV4dGVudCgpLGk9ZVsxXS1lWzBdKyh0aGlzLm9uQmFuZD8xOjApOzA9PT1pJiYoaT0xKTt2YXIgbj1NYXRoLmFicyh0WzFdLXRbMF0pO3JldHVybiBNYXRoLmFicyhuKS9pfX0sdC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpLG4sbyl7bi5lYWNoUmF3U2VyaWVzQnlUeXBlKHQsZnVuY3Rpb24odCl7dmFyIG89dC5nZXREYXRhKCksYT10LmdldChcInN5bWJvbFwiKXx8ZSxyPXQuZ2V0KFwic3ltYm9sU2l6ZVwiKTtvLnNldFZpc3VhbCh7bGVnZW5kU3ltYm9sOml8fGEsc3ltYm9sOmEsc3ltYm9sU2l6ZTpyfSksbi5pc1Nlcmllc0ZpbHRlcmVkKHQpfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgciYmby5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuZ2V0UmF3VmFsdWUoZSksbj10LmdldERhdGFQYXJhbXMoZSk7by5zZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xTaXplXCIscihpLG4pKX0pLG8uZWFjaChmdW5jdGlvbih0KXt2YXIgZT1vLmdldEl0ZW1Nb2RlbCh0KSxpPWUuZ2V0KFwic3ltYm9sXCIsITApLG49ZS5nZXQoXCJzeW1ib2xTaXplXCIsITApO251bGwhPWkmJm8uc2V0SXRlbVZpc3VhbCh0LFwic3ltYm9sXCIsaSksbnVsbCE9biYmby5zZXRJdGVtVmlzdWFsKHQsXCJzeW1ib2xTaXplXCIsbil9KSl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDMzKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtpZigwIT09bi5kZWJ1Z01vZGUpaWYoMT09bi5kZWJ1Z01vZGUpZm9yKHZhciB0IGluIGFyZ3VtZW50cyl0aHJvdyBuZXcgRXJyb3IoYXJndW1lbnRzW3RdKTtlbHNlIGlmKG4uZGVidWdNb2RlPjEpZm9yKHZhciB0IGluIGFyZ3VtZW50cyljb25zb2xlLmxvZyhhcmd1bWVudHNbdF0pfX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7by5jYWxsKHRoaXMsdCl9dmFyIG89aSgzNyksYT1pKDgpLHI9aSgxKSxzPWkoNjApLGw9aSgxMzkpLGg9bmV3IGwoNTApO24ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpuLHR5cGU6XCJpbWFnZVwiLGJydXNoOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5zdHlsZSxuPWkuaW1hZ2U7aWYoZT1cInN0cmluZ1wiPT10eXBlb2Ygbj90aGlzLl9pbWFnZTpuLCFlJiZuKXt2YXIgbz1oLmdldChuKTtpZighbylyZXR1cm4gZT1uZXcgSW1hZ2UsZS5vbmxvYWQ9ZnVuY3Rpb24oKXtlLm9ubG9hZD1udWxsO2Zvcih2YXIgdD0wO3Q8by5wZW5kaW5nLmxlbmd0aDt0Kyspby5wZW5kaW5nW3RdLmRpcnR5KCl9LG89e2ltYWdlOmUscGVuZGluZzpbdGhpc119LGUuc3JjPW4saC5wdXQobixvKSx2b2lkKHRoaXMuX2ltYWdlPWUpO2lmKGU9by5pbWFnZSx0aGlzLl9pbWFnZT1lLCFlLndpZHRofHwhZS5oZWlnaHQpcmV0dXJuIHZvaWQgby5wZW5kaW5nLnB1c2godGhpcyl9aWYoZSl7dmFyIGE9aS53aWR0aHx8ZS53aWR0aCxyPWkuaGVpZ2h0fHxlLmhlaWdodCxsPWkueHx8MCx1PWkueXx8MDtpZighZS53aWR0aHx8IWUuaGVpZ2h0KXJldHVybjtpZih0LnNhdmUoKSxpLmJpbmQodCksdGhpcy5zZXRUcmFuc2Zvcm0odCksaS5yJiYodC5iZWdpblBhdGgoKSxzLmJ1aWxkUGF0aCh0LGkpLHQuY2xpcCgpKSxpLnNXaWR0aCYmaS5zSGVpZ2h0KXt2YXIgYz1pLnN4fHwwLGQ9aS5zeXx8MDt0LmRyYXdJbWFnZShlLGMsZCxpLnNXaWR0aCxpLnNIZWlnaHQsbCx1LGEscil9ZWxzZSBpZihpLnN4JiZpLnN5KXt2YXIgYz1pLnN4LGQ9aS5zeSxmPWEtYyxwPXItZDt0LmRyYXdJbWFnZShlLGMsZCxmLHAsbCx1LGEscil9ZWxzZSB0LmRyYXdJbWFnZShlLGwsdSxhLHIpO251bGw9PWkud2lkdGgmJihpLndpZHRoPWEpLG51bGw9PWkuaGVpZ2h0JiYoaS5oZWlnaHQ9ciksbnVsbCE9aS50ZXh0JiZ0aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpLHQucmVzdG9yZSgpfX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtyZXR1cm4gdGhpcy5fcmVjdHx8KHRoaXMuX3JlY3Q9bmV3IGEodC54fHwwLHQueXx8MCx0LndpZHRofHwwLHQuaGVpZ2h0fHwwKSksdGhpcy5fcmVjdH19LHIuaW5oZXJpdHMobixvKSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHIuaXNBcnJheSh0KXx8KHQ9Wyt0LCt0XSksdH1mdW5jdGlvbiBvKHQsZSl7bC5Hcm91cC5jYWxsKHRoaXMpLHRoaXMudXBkYXRlRGF0YSh0LGUpfWZ1bmN0aW9uIGEodCxlKXt0aGlzLnBhcmVudC5kcmlmdCh0LGUpfXZhciByPWkoMSkscz1pKDI1KSxsPWkoMyksaD1pKDQpLHU9by5wcm90b3R5cGU7dS5fY3JlYXRlU3ltYm9sPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLnJlbW92ZUFsbCgpO3ZhciBvPWUuaG9zdE1vZGVsLHI9ZS5nZXRJdGVtVmlzdWFsKGksXCJjb2xvclwiKSxoPXMuY3JlYXRlU3ltYm9sKHQsLS41LC0uNSwxLDEscik7aC5hdHRyKHt6MjoxMDAsY3VsbGluZzohMCxzY2FsZTpbMCwwXX0pLGguZHJpZnQ9YTt2YXIgdT1uKGUuZ2V0SXRlbVZpc3VhbChpLFwic3ltYm9sU2l6ZVwiKSk7bC5pbml0UHJvcHMoaCx7c2NhbGU6dX0sbyxpKSx0aGlzLl9zeW1ib2xUeXBlPXQsdGhpcy5hZGQoaCl9LHUuc3RvcFN5bWJvbEFuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLmNoaWxkQXQoMCkuc3RvcEFuaW1hdGlvbih0KX0sdS5nZXRTY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkQXQoMCkuc2NhbGV9LHUuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5jaGlsZEF0KDApLnRyaWdnZXIoXCJlbXBoYXNpc1wiKX0sdS5kb3ducGxheT1mdW5jdGlvbigpe3RoaXMuY2hpbGRBdCgwKS50cmlnZ2VyKFwibm9ybWFsXCIpfSx1LnNldFo9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoaWxkQXQoMCk7aS56bGV2ZWw9dCxpLno9ZX0sdS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZEF0KDApO2UuZHJhZ2dhYmxlPXQsZS5jdXJzb3I9dD9cIm1vdmVcIjpcInBvaW50ZXJcIn0sdS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xcIil8fFwiY2lyY2xlXCIsbz10Lmhvc3RNb2RlbCxhPW4odC5nZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xTaXplXCIpKTtpZihpIT09dGhpcy5fc3ltYm9sVHlwZSl0aGlzLl9jcmVhdGVTeW1ib2woaSx0LGUpO2Vsc2V7dmFyIHI9dGhpcy5jaGlsZEF0KDApO2wudXBkYXRlUHJvcHMocix7c2NhbGU6YX0sbyxlKX10aGlzLl91cGRhdGVDb21tb24odCxlLGEpLHRoaXMuX3Nlcmllc01vZGVsPW99O3ZhciBjPVtcIml0ZW1TdHlsZVwiLFwibm9ybWFsXCJdLGQ9W1wiaXRlbVN0eWxlXCIsXCJlbXBoYXNpc1wiXSxmPVtcImxhYmVsXCIsXCJub3JtYWxcIl0scD1bXCJsYWJlbFwiLFwiZW1waGFzaXNcIl07dS5fdXBkYXRlQ29tbW9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLmNoaWxkQXQoMCksYT10Lmhvc3RNb2RlbCxzPXQuZ2V0SXRlbU1vZGVsKGUpLHU9cy5nZXRNb2RlbChjKSxnPXQuZ2V0SXRlbVZpc3VhbChlLFwiY29sb3JcIik7XCJpbWFnZVwiIT09by50eXBlJiZvLnVzZVN0eWxlKHtzdHJva2VOb1NjYWxlOiEwfSk7dmFyIG09by5zdHlsZSx2PXMuZ2V0TW9kZWwoZCkuZ2V0SXRlbVN0eWxlKCk7by5yb3RhdGlvbj0ocy5nZXRTaGFsbG93KFwic3ltYm9sUm90YXRlXCIpfHwwKSpNYXRoLlBJLzE4MHx8MDt2YXIgeT1zLmdldFNoYWxsb3coXCJzeW1ib2xPZmZzZXRcIik7aWYoeSl7dmFyIHg9by5wb3NpdGlvbjt4WzBdPWgucGFyc2VQZXJjZW50KHlbMF0saVswXSkseFsxXT1oLnBhcnNlUGVyY2VudCh5WzFdLGlbMV0pfW8uc2V0Q29sb3IoZyksci5leHRlbmQobSx1LmdldEl0ZW1TdHlsZShbXCJjb2xvclwiXSkpO3ZhciBfPXQuZ2V0SXRlbVZpc3VhbChlLFwib3BhY2l0eVwiKTtudWxsIT1fJiYobS5vcGFjaXR5PV8pO2Zvcih2YXIgYix3LFM9cy5nZXRNb2RlbChmKSxNPXMuZ2V0TW9kZWwocCksQT10LmRpbWVuc2lvbnMuc2xpY2UoKTtBLmxlbmd0aCYmKGI9QS5wb3AoKSx3PXQuZ2V0RGltZW5zaW9uSW5mbyhiKS50eXBlLFwib3JkaW5hbFwiPT09d3x8XCJ0aW1lXCI9PT13KTspO251bGwhPWImJlMuZ2V0KFwic2hvd1wiKT8obC5zZXRUZXh0KG0sUyxnKSxtLnRleHQ9ci5yZXRyaWV2ZShhLmdldEZvcm1hdHRlZExhYmVsKGUsXCJub3JtYWxcIiksdC5nZXQoYixlKSkpOm0udGV4dD1cIlwiLG51bGwhPWImJk0uZ2V0U2hhbGxvdyhcInNob3dcIik/KGwuc2V0VGV4dCh2LE0sZyksdi50ZXh0PXIucmV0cmlldmUoYS5nZXRGb3JtYXR0ZWRMYWJlbChlLFwiZW1waGFzaXNcIiksdC5nZXQoYixlKSkpOnYudGV4dD1cIlwiO3ZhciBJPW4odC5nZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xTaXplXCIpKTtpZihvLm9mZihcIm1vdXNlb3ZlclwiKS5vZmYoXCJtb3VzZW91dFwiKS5vZmYoXCJlbXBoYXNpc1wiKS5vZmYoXCJub3JtYWxcIiksbC5zZXRIb3ZlclN0eWxlKG8sdikscy5nZXRTaGFsbG93KFwiaG92ZXJBbmltYXRpb25cIikpe3ZhciBUPWZ1bmN0aW9uKCl7dmFyIHQ9SVsxXS9JWzBdO3RoaXMuYW5pbWF0ZVRvKHtzY2FsZTpbTWF0aC5tYXgoMS4xKklbMF0sSVswXSszKSxNYXRoLm1heCgxLjEqSVsxXSxJWzFdKzMqdCldfSw0MDAsXCJlbGFzdGljT3V0XCIpfSxMPWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRlVG8oe3NjYWxlOkl9LDQwMCxcImVsYXN0aWNPdXRcIil9O28ub24oXCJtb3VzZW92ZXJcIixUKS5vbihcIm1vdXNlb3V0XCIsTCkub24oXCJlbXBoYXNpc1wiLFQpLm9uKFwibm9ybWFsXCIsTCl9fSx1LmZhZGVPdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZEF0KDApO2Uub2ZmKFwibW91c2VvdmVyXCIpLm9mZihcIm1vdXNlb3V0XCIpLm9mZihcImVtcGhhc2lzXCIpLm9mZihcIm5vcm1hbFwiKSxlLnN0eWxlLnRleHQ9XCJcIixsLnVwZGF0ZVByb3BzKGUse3NjYWxlOlswLDBdfSx0aGlzLl9zZXJpZXNNb2RlbCx0aGlzLmRhdGFJbmRleCx0KX0sci5pbmhlcml0cyhvLGwuR3JvdXApLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHR9ZnVuY3Rpb24gbih0LGUsbixvKXt0aGlzLl9vbGQ9dCx0aGlzLl9uZXc9ZSx0aGlzLl9vbGRLZXlHZXR0ZXI9bnx8aSx0aGlzLl9uZXdLZXlHZXR0ZXI9b3x8aX1mdW5jdGlvbiBvKHQsZSxpKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89aSh0W25dKSxhPWVbb107bnVsbD09YT9lW29dPW46KGEubGVuZ3RofHwoZVtvXT1hPVthXSksYS5wdXNoKG4pKX19bi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGQ9dCx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZT10LHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlPXQsdGhpc30sZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fb2xkLGk9dGhpcy5fbmV3LG49dGhpcy5fb2xkS2V5R2V0dGVyLGE9dGhpcy5fbmV3S2V5R2V0dGVyLHI9e30scz17fTtmb3IobyhlLHIsbiksbyhpLHMsYSksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbD1uKGVbdF0pLGg9c1tsXTtpZihudWxsIT1oKXt2YXIgdT1oLmxlbmd0aDt1PygxPT09dSYmKHNbbF09bnVsbCksaD1oLnVuc2hpZnQoKSk6c1tsXT1udWxsLHRoaXMuX3VwZGF0ZSYmdGhpcy5fdXBkYXRlKGgsdCl9ZWxzZSB0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZSh0KX1mb3IodmFyIGwgaW4gcylpZihzLmhhc093blByb3BlcnR5KGwpKXt2YXIgaD1zW2xdO2lmKG51bGw9PWgpY29udGludWU7aWYoaC5sZW5ndGgpZm9yKHZhciB0PTAsdT1oLmxlbmd0aDt1PnQ7dCsrKXRoaXMuX2FkZCYmdGhpcy5fYWRkKGhbdF0pO2Vsc2UgdGhpcy5fYWRkJiZ0aGlzLl9hZGQoaCl9fX0sdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXtjb21wb25lbnRUeXBlOnQubWFpblR5cGV9O3JldHVybiBlW3QubWFpblR5cGUrXCJJbmRleFwiXT10LmNvbXBvbmVudEluZGV4LGV9ZnVuY3Rpb24gbyh0LGUsaSl7dmFyIG4sbyxhPXUoZS10LnJvdGF0aW9uKTtyZXR1cm4gYyhhKT8obz1pPjA/XCJ0b3BcIjpcImJvdHRvbVwiLG49XCJjZW50ZXJcIik6YyhhLWQpPyhvPWk+MD9cImJvdHRvbVwiOlwidG9wXCIsbj1cImNlbnRlclwiKToobz1cIm1pZGRsZVwiLG49YT4wJiZkPmE/aT4wP1wicmlnaHRcIjpcImxlZnRcIjppPjA/XCJsZWZ0XCI6XCJyaWdodFwiKSx7cm90YXRpb246YSx0ZXh0QWxpZ246bix2ZXJ0aWNhbEFsaWduOm99fWZ1bmN0aW9uIGEodCxlLGkpe3ZhciBuLG8sYT11KC10LnJvdGF0aW9uKSxyPWlbMF0+aVsxXSxzPVwic3RhcnRcIj09PWUmJiFyfHxcInN0YXJ0XCIhPT1lJiZyO3JldHVybiBjKGEtZC8yKT8obz1zP1wiYm90dG9tXCI6XCJ0b3BcIixuPVwiY2VudGVyXCIpOmMoYS0xLjUqZCk/KG89cz9cInRvcFwiOlwiYm90dG9tXCIsbj1cImNlbnRlclwiKToobz1cIm1pZGRsZVwiLG49MS41KmQ+YSYmYT5kLzI/cz9cImxlZnRcIjpcInJpZ2h0XCI6cz9cInJpZ2h0XCI6XCJsZWZ0XCIpLHtyb3RhdGlvbjphLHRleHRBbGlnbjpuLHZlcnRpY2FsQWxpZ246b319dmFyIHI9aSgxKSxzPWkoMyksbD1pKDEyKSxoPWkoNCksdT1oLnJlbVJhZGlhbixjPWguaXNSYWRpYW5Bcm91bmRaZXJvLGQ9TWF0aC5QSSxmPWZ1bmN0aW9uKHQsZSl7dGhpcy5vcHQ9ZSx0aGlzLmF4aXNNb2RlbD10LHIuZGVmYXVsdHMoZSx7bGFiZWxPZmZzZXQ6MCxuYW1lRGlyZWN0aW9uOjEsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjEsc2lsZW50OiEwfSksdGhpcy5ncm91cD1uZXcgcy5Hcm91cCh7cG9zaXRpb246ZS5wb3NpdGlvbi5zbGljZSgpLHJvdGF0aW9uOmUucm90YXRpb259KX07Zi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmYsaGFzQnVpbGRlcjpmdW5jdGlvbih0KXtyZXR1cm4hIXBbdF19LGFkZDpmdW5jdGlvbih0KXtwW3RdLmNhbGwodGhpcyl9LGdldEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXB9fTt2YXIgcD17YXhpc0xpbmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdCxlPXRoaXMuYXhpc01vZGVsO2lmKGUuZ2V0KFwiYXhpc0xpbmUuc2hvd1wiKSl7dmFyIGk9dGhpcy5heGlzTW9kZWwuYXhpcy5nZXRFeHRlbnQoKTt0aGlzLmdyb3VwLmFkZChuZXcgcy5MaW5lKHtzaGFwZTp7eDE6aVswXSx5MTowLHgyOmlbMV0seTI6MH0sc3R5bGU6ci5leHRlbmQoe2xpbmVDYXA6XCJyb3VuZFwifSxlLmdldE1vZGVsKFwiYXhpc0xpbmUubGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpKSxzdHJva2VDb250YWluVGhyZXNob2xkOnQuc3Ryb2tlQ29udGFpblRocmVzaG9sZCxzaWxlbnQ6ISF0LmF4aXNMaW5lU2lsZW50LHoyOjF9KSl9fSxheGlzVGljazpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYXhpc01vZGVsO2lmKHQuZ2V0KFwiYXhpc1RpY2suc2hvd1wiKSl7Zm9yKHZhciBlPXQuYXhpcyxpPXQuZ2V0TW9kZWwoXCJheGlzVGlja1wiKSxuPXRoaXMub3B0LG89aS5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxhPWkuZ2V0KFwibGVuZ3RoXCIpLHI9bShpLG4ubGFiZWxJbnRlcnZhbCksbD1lLmdldFRpY2tzQ29vcmRzKCksaD1bXSx1PTA7dTxsLmxlbmd0aDt1KyspaWYoIWcoZSx1LHIpKXt2YXIgYz1sW3VdO2gucHVzaChuZXcgcy5MaW5lKHMuc3ViUGl4ZWxPcHRpbWl6ZUxpbmUoe3NoYXBlOnt4MTpjLHkxOjAseDI6Yyx5MjpuLnRpY2tEaXJlY3Rpb24qYX0sc3R5bGU6e2xpbmVXaWR0aDpvLmdldChcIndpZHRoXCIpfSxzaWxlbnQ6ITB9KSkpfXRoaXMuZ3JvdXAuYWRkKHMubWVyZ2VQYXRoKGgse3N0eWxlOm8uZ2V0TGluZVN0eWxlKCksejI6MixzaWxlbnQ6ITB9KSl9fSxheGlzTGFiZWw6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGk9dCYmdC5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpLG49ZSYmZS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3JldHVybiBpJiZuPyhpLmFwcGx5VHJhbnNmb3JtKHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSksbi5hcHBseVRyYW5zZm9ybShlLmdldExvY2FsVHJhbnNmb3JtKCkpLGkuaW50ZXJzZWN0KG4pKTp2b2lkIDB9dmFyIGU9dGhpcy5heGlzTW9kZWw7aWYoZS5nZXQoXCJheGlzTGFiZWwuc2hvd1wiKSl7dmFyIGk9dGhpcy5vcHQsYT1lLmF4aXMscj1lLmdldE1vZGVsKFwiYXhpc0xhYmVsXCIpLGg9ci5nZXRNb2RlbChcInRleHRTdHlsZVwiKSx1PXIuZ2V0KFwibWFyZ2luXCIpLGM9YS5zY2FsZS5nZXRUaWNrcygpLGY9ZS5nZXRGb3JtYXR0ZWRMYWJlbHMoKSxwPWkubGFiZWxSb3RhdGlvbjtudWxsPT1wJiYocD1yLmdldChcInJvdGF0ZVwiKXx8MCkscD1wKmQvMTgwO2Zvcih2YXIgbT1vKGkscCxpLmxhYmVsRGlyZWN0aW9uKSx2PWUuZ2V0KFwiZGF0YVwiKSx5PVtdLHg9ZS5nZXQoXCJzaWxlbnRcIiksXz0wO188Yy5sZW5ndGg7XysrKWlmKCFnKGEsXyxpLmxhYmVsSW50ZXJ2YWwpKXt2YXIgYj1oO3YmJnZbX10mJnZbX10udGV4dFN0eWxlJiYoYj1uZXcgbCh2W19dLnRleHRTdHlsZSxoLGUuZWNNb2RlbCkpO3ZhciB3PWIuZ2V0VGV4dENvbG9yKCksUz1hLmRhdGFUb0Nvb3JkKGNbX10pLE09W1MsaS5sYWJlbE9mZnNldCtpLmxhYmVsRGlyZWN0aW9uKnVdLEE9YS5zY2FsZS5nZXRMYWJlbChjW19dKSxJPW5ldyBzLlRleHQoe3N0eWxlOnt0ZXh0OmZbX10sdGV4dEFsaWduOmIuZ2V0KFwiYWxpZ25cIiwhMCl8fG0udGV4dEFsaWduLHRleHRWZXJ0aWNhbEFsaWduOmIuZ2V0KFwiYmFzZWxpbmVcIiwhMCl8fG0udmVydGljYWxBbGlnbix0ZXh0Rm9udDpiLmdldEZvbnQoKSxmaWxsOlwiZnVuY3Rpb25cIj09dHlwZW9mIHc/dyhBKTp3fSxwb3NpdGlvbjpNLHJvdGF0aW9uOm0ucm90YXRpb24sc2lsZW50OngsejI6MTB9KTtJLmV2ZW50RGF0YT1uKGUpLEkuZXZlbnREYXRhLnRhcmdldFR5cGU9XCJheGlzTGFiZWxcIixJLmV2ZW50RGF0YS52YWx1ZT1BLHkucHVzaChJKSx0aGlzLmdyb3VwLmFkZChJKX1pZihcImNhdGVnb3J5XCIhPT1hLnR5cGUpe2lmKGUuZ2V0TWluP2UuZ2V0TWluKCk6ZS5nZXQoXCJtaW5cIikpe3ZhciBUPXlbMF0sTD15WzFdO3QoVCxMKSYmKFQuaWdub3JlPSEwKX1pZihlLmdldE1heD9lLmdldE1heCgpOmUuZ2V0KFwibWF4XCIpKXt2YXIgQz15W3kubGVuZ3RoLTFdLEQ9eVt5Lmxlbmd0aC0yXTt0KEQsQykmJihDLmlnbm9yZT0hMCl9fX19LGF4aXNOYW1lOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHQsZT10aGlzLmF4aXNNb2RlbCxpPXRoaXMub3B0LmF4aXNOYW1lO2lmKG51bGw9PWkmJihpPWUuZ2V0KFwibmFtZVwiKSksaSl7dmFyIHIsbD1lLmdldChcIm5hbWVMb2NhdGlvblwiKSxoPXQubmFtZURpcmVjdGlvbix1PWUuZ2V0TW9kZWwoXCJuYW1lVGV4dFN0eWxlXCIpLGM9ZS5nZXQoXCJuYW1lR2FwXCIpfHwwLGQ9dGhpcy5heGlzTW9kZWwuYXhpcy5nZXRFeHRlbnQoKSxmPWRbMF0+ZFsxXT8tMToxLHA9W1wic3RhcnRcIj09PWw/ZFswXS1mKmM6XCJlbmRcIj09PWw/ZFsxXStmKmM6KGRbMF0rZFsxXSkvMixcIm1pZGRsZVwiPT09bD90LmxhYmVsT2Zmc2V0K2gqYzowXTtyPVwibWlkZGxlXCI9PT1sP28odCx0LnJvdGF0aW9uLGgpOmEodCxsLGQpO3ZhciBnPW5ldyBzLlRleHQoe3N0eWxlOnt0ZXh0OmksdGV4dEZvbnQ6dS5nZXRGb250KCksZmlsbDp1LmdldFRleHRDb2xvcigpfHxlLmdldChcImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvclwiKSx0ZXh0QWxpZ246ci50ZXh0QWxpZ24sdGV4dFZlcnRpY2FsQWxpZ246ci52ZXJ0aWNhbEFsaWdufSxwb3NpdGlvbjpwLHJvdGF0aW9uOnIucm90YXRpb24sc2lsZW50OmUuZ2V0KFwic2lsZW50XCIpLHoyOjF9KTtnLmV2ZW50RGF0YT1uKGUpLGcuZXZlbnREYXRhLnRhcmdldFR5cGU9XCJheGlzTmFtZVwiLGcuZXZlbnREYXRhLm5hbWU9aSx0aGlzLmdyb3VwLmFkZChnKX19fSxnPWYuaWZJZ25vcmVPblRpY2s9ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG89dC5zY2FsZTtyZXR1cm5cIm9yZGluYWxcIj09PW8udHlwZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGk/KG49by5nZXRUaWNrcygpW2VdLCFpKG4sby5nZXRMYWJlbChuKSkpOmUlKGkrMSkpfSxtPWYuZ2V0SW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldChcImludGVydmFsXCIpO3JldHVybiBudWxsIT1pJiZcImF1dG9cIiE9aXx8KGk9ZSksaX07dC5leHBvcnRzPWZ9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiByLmlzT2JqZWN0KHQpJiZudWxsIT10LnZhbHVlP3QudmFsdWU6dH1mdW5jdGlvbiBvKCl7cmV0dXJuXCJjYXRlZ29yeVwiPT09dGhpcy5nZXQoXCJ0eXBlXCIpJiZyLm1hcCh0aGlzLmdldChcImRhdGFcIiksbil9ZnVuY3Rpb24gYSgpe3JldHVybiBzLmdldEZvcm1hdHRlZExhYmVscyh0aGlzLmF4aXMsdGhpcy5nZXQoXCJheGlzTGFiZWwuZm9ybWF0dGVyXCIpKX12YXIgcj1pKDEpLHM9aSgyNCk7dC5leHBvcnRzPXtnZXRGb3JtYXR0ZWRMYWJlbHM6YSxnZXRDYXRlZ29yaWVzOm99fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/XCJjYXRlZ29yeVwiOlwidmFsdWVcIil9dmFyIG89aSgxMCksYT1pKDEpLHI9aSg2Mikscz1vLmV4dGVuZCh7dHlwZTpcImNhcnRlc2lhbjJkQXhpc1wiLGF4aXM6bnVsbCxcbmluaXQ6ZnVuY3Rpb24oKXtzLnN1cGVyQXBwbHkodGhpcyxcImluaXRcIixhcmd1bWVudHMpLHRoaXMuX3Jlc2V0UmFuZ2UoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24oKXtzLnN1cGVyQXBwbHkodGhpcyxcIm1lcmdlT3B0aW9uXCIsYXJndW1lbnRzKSx0aGlzLl9yZXNldFJhbmdlKCl9LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7cy5zdXBlckFwcGx5KHRoaXMsXCJyZXN0b3JlRGF0YVwiLGFyZ3VtZW50cyksdGhpcy5fcmVzZXRSYW5nZSgpfSxzZXRSYW5nZTpmdW5jdGlvbih0LGUpe3RoaXMub3B0aW9uLnJhbmdlU3RhcnQ9dCx0aGlzLm9wdGlvbi5yYW5nZUVuZD1lfSxnZXRNaW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gbnVsbCE9dC5yYW5nZVN0YXJ0P3QucmFuZ2VTdGFydDp0Lm1pbn0sZ2V0TWF4OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIG51bGwhPXQucmFuZ2VFbmQ/dC5yYW5nZUVuZDp0Lm1heH0sZ2V0TmVlZENyb3NzWmVybzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO3JldHVybiBudWxsIT10LnJhbmdlU3RhcnR8fG51bGwhPXQucmFuZ2VFbmQ/ITE6IXQuc2NhbGV9LF9yZXNldFJhbmdlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb24ucmFuZ2VTdGFydD10aGlzLm9wdGlvbi5yYW5nZUVuZD1udWxsfX0pO2EubWVyZ2Uocy5wcm90b3R5cGUsaSg1MCkpO3ZhciBsPXtncmlkSW5kZXg6MH07cihcInhcIixzLG4sbCkscihcInlcIixzLG4sbCksdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXtyZXR1cm4gaS5nZXRDb21wb25lbnQoXCJncmlkXCIsdC5nZXQoXCJncmlkSW5kZXhcIikpPT09ZX1mdW5jdGlvbiBvKHQpe3ZhciBlLGk9dC5tb2RlbCxuPWkuZ2V0Rm9ybWF0dGVkTGFiZWxzKCksbz0xLGE9bi5sZW5ndGg7YT40MCYmKG89TWF0aC5jZWlsKGEvNDApKTtmb3IodmFyIHI9MDthPnI7cis9bylpZighdC5pc0xhYmVsSWdub3JlZChyKSl7dmFyIHM9aS5nZXRUZXh0UmVjdChuW3JdKTtlP2UudW5pb24ocyk6ZT1zfXJldHVybiBlfWZ1bmN0aW9uIGEodCxlLGkpe3RoaXMuX2Nvb3Jkc01hcD17fSx0aGlzLl9jb29yZHNMaXN0PVtdLHRoaXMuX2F4ZXNNYXA9e30sdGhpcy5fYXhlc0xpc3Q9W10sdGhpcy5faW5pdENhcnRlc2lhbih0LGUsaSksdGhpcy5fbW9kZWw9dH1mdW5jdGlvbiByKHQsZSl7dmFyIGk9dC5nZXRFeHRlbnQoKSxuPWlbMF0raVsxXTt0LnRvR2xvYmFsQ29vcmQ9XCJ4XCI9PT10LmRpbT9mdW5jdGlvbih0KXtyZXR1cm4gdCtlfTpmdW5jdGlvbih0KXtyZXR1cm4gbi10K2V9LHQudG9Mb2NhbENvb3JkPVwieFwiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQtZX06ZnVuY3Rpb24odCl7cmV0dXJuIG4tdCtlfX12YXIgcz1pKDExKSxsPWkoMjQpLGg9aSgxKSx1PWkoMTA2KSxjPWkoMTA0KSxkPWguZWFjaCxmPWwuaWZBeGlzQ3Jvc3NaZXJvLHA9bC5uaWNlU2NhbGVFeHRlbnQ7aSgxMDcpO3ZhciBnPWEucHJvdG90eXBlO2cudHlwZT1cImdyaWRcIixnLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sZy51cGRhdGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPW5bdF07Zm9yKHZhciBpIGluIGUpe3ZhciBvPWVbaV07aWYobyYmKFwiY2F0ZWdvcnlcIj09PW8udHlwZXx8IWYobykpKXJldHVybiEwfXJldHVybiExfXZhciBuPXRoaXMuX2F4ZXNNYXA7dGhpcy5fdXBkYXRlU2NhbGUodCx0aGlzLl9tb2RlbCksZChuLngsZnVuY3Rpb24odCl7cCh0LHQubW9kZWwpfSksZChuLnksZnVuY3Rpb24odCl7cCh0LHQubW9kZWwpfSksZChuLngsZnVuY3Rpb24odCl7aShcInlcIikmJih0Lm9uWmVybz0hMSl9KSxkKG4ueSxmdW5jdGlvbih0KXtpKFwieFwiKSYmKHQub25aZXJvPSExKX0pLHRoaXMucmVzaXplKHRoaXMuX21vZGVsLGUpfSxnLnJlc2l6ZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtkKGEsZnVuY3Rpb24odCl7dmFyIGU9dC5pc0hvcml6b250YWwoKSxpPWU/WzAsbi53aWR0aF06WzAsbi5oZWlnaHRdLG89dC5pbnZlcnNlPzE6MDt0LnNldEV4dGVudChpW29dLGlbMS1vXSkscih0LGU/bi54Om4ueSl9KX12YXIgbj1zLmdldExheW91dFJlY3QodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSk7dGhpcy5fcmVjdD1uO3ZhciBhPXRoaXMuX2F4ZXNMaXN0O2koKSx0LmdldChcImNvbnRhaW5MYWJlbFwiKSYmKGQoYSxmdW5jdGlvbih0KXtpZighdC5tb2RlbC5nZXQoXCJheGlzTGFiZWwuaW5zaWRlXCIpKXt2YXIgZT1vKHQpO2lmKGUpe3ZhciBpPXQuaXNIb3Jpem9udGFsKCk/XCJoZWlnaHRcIjpcIndpZHRoXCIsYT10Lm1vZGVsLmdldChcImF4aXNMYWJlbC5tYXJnaW5cIik7bltpXS09ZVtpXSthLFwidG9wXCI9PT10LnBvc2l0aW9uP24ueSs9ZS5oZWlnaHQrYTpcImxlZnRcIj09PXQucG9zaXRpb24mJihuLngrPWUud2lkdGgrYSl9fX0pLGkoKSl9LGcuZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2F4ZXNNYXBbdF07aWYobnVsbCE9aSl7aWYobnVsbD09ZSlmb3IodmFyIG4gaW4gaSlyZXR1cm4gaVtuXTtyZXR1cm4gaVtlXX19LGcuZ2V0Q2FydGVzaWFuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJ4XCIrdCtcInlcIitlO3JldHVybiB0aGlzLl9jb29yZHNNYXBbaV19LGcuX2luaXRDYXJ0ZXNpYW49ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8oaSl7cmV0dXJuIGZ1bmN0aW9uKG8saCl7aWYobihvLHQsZSkpe3ZhciB1PW8uZ2V0KFwicG9zaXRpb25cIik7XCJ4XCI9PT1pPyhcInRvcFwiIT09dSYmXCJib3R0b21cIiE9PXUmJih1PVwiYm90dG9tXCIpLGFbdV0mJih1PVwidG9wXCI9PT11P1wiYm90dG9tXCI6XCJ0b3BcIikpOihcImxlZnRcIiE9PXUmJlwicmlnaHRcIiE9PXUmJih1PVwibGVmdFwiKSxhW3VdJiYodT1cImxlZnRcIj09PXU/XCJyaWdodFwiOlwibGVmdFwiKSksYVt1XT0hMDt2YXIgZD1uZXcgYyhpLGwuY3JlYXRlU2NhbGVCeU1vZGVsKG8pLFswLDBdLG8uZ2V0KFwidHlwZVwiKSx1KSxmPVwiY2F0ZWdvcnlcIj09PWQudHlwZTtkLm9uQmFuZD1mJiZvLmdldChcImJvdW5kYXJ5R2FwXCIpLGQuaW52ZXJzZT1vLmdldChcImludmVyc2VcIiksZC5vblplcm89by5nZXQoXCJheGlzTGluZS5vblplcm9cIiksby5heGlzPWQsZC5tb2RlbD1vLGQuaW5kZXg9aCx0aGlzLl9heGVzTGlzdC5wdXNoKGQpLHJbaV1baF09ZCxzW2ldKyt9fX12YXIgYT17bGVmdDohMSxyaWdodDohMSx0b3A6ITEsYm90dG9tOiExfSxyPXt4Ont9LHk6e319LHM9e3g6MCx5OjB9O3JldHVybiBlLmVhY2hDb21wb25lbnQoXCJ4QXhpc1wiLG8oXCJ4XCIpLHRoaXMpLGUuZWFjaENvbXBvbmVudChcInlBeGlzXCIsbyhcInlcIiksdGhpcykscy54JiZzLnk/KHRoaXMuX2F4ZXNNYXA9cix2b2lkIGQoci54LGZ1bmN0aW9uKHQsZSl7ZChyLnksZnVuY3Rpb24oaSxuKXt2YXIgbz1cInhcIitlK1wieVwiK24sYT1uZXcgdShvKTthLmdyaWQ9dGhpcyx0aGlzLl9jb29yZHNNYXBbb109YSx0aGlzLl9jb29yZHNMaXN0LnB1c2goYSksYS5hZGRBeGlzKHQpLGEuYWRkQXhpcyhpKX0sdGhpcyl9LHRoaXMpKToodGhpcy5fYXhlc01hcD17fSx2b2lkKHRoaXMuX2F4ZXNMaXN0PVtdKSl9LGcuX3VwZGF0ZVNjYWxlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7ZChpLmNvb3JkRGltVG9EYXRhRGltKGUuZGltKSxmdW5jdGlvbihpKXtlLnNjYWxlLnVuaW9uRXh0ZW50KHQuZ2V0RGF0YUV4dGVudChpLFwib3JkaW5hbFwiIT09ZS5zY2FsZS50eXBlKSl9KX1oLmVhY2godGhpcy5fYXhlc0xpc3QsZnVuY3Rpb24odCl7dC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0oMS8wKSl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24obyl7aWYoXCJjYXJ0ZXNpYW4yZFwiPT09by5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpKXt2YXIgYT1vLmdldChcInhBeGlzSW5kZXhcIikscj1vLmdldChcInlBeGlzSW5kZXhcIikscz10LmdldENvbXBvbmVudChcInhBeGlzXCIsYSksbD10LmdldENvbXBvbmVudChcInlBeGlzXCIscik7aWYoIW4ocyxlLHQpfHwhbihsLGUsdCkpcmV0dXJuO3ZhciBoPXRoaXMuZ2V0Q2FydGVzaWFuKGEsciksdT1vLmdldERhdGEoKSxjPWguZ2V0QXhpcyhcInhcIiksZD1oLmdldEF4aXMoXCJ5XCIpO1wibGlzdFwiPT09dS50eXBlJiYoaSh1LGMsbyksaSh1LGQsbykpfX0sdGhpcyl9LGEuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIHQuZWFjaENvbXBvbmVudChcImdyaWRcIixmdW5jdGlvbihuLG8pe3ZhciByPW5ldyBhKG4sdCxlKTtyLm5hbWU9XCJncmlkX1wiK28sci5yZXNpemUobixlKSxuLmNvb3JkaW5hdGVTeXN0ZW09cixpLnB1c2gocil9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24oZSl7aWYoXCJjYXJ0ZXNpYW4yZFwiPT09ZS5nZXQoXCJjb29yZGluYXRlU3lzdGVtXCIpKXt2YXIgbj1lLmdldChcInhBeGlzSW5kZXhcIiksbz10LmdldENvbXBvbmVudChcInhBeGlzXCIsbiksYT1pW28uZ2V0KFwiZ3JpZEluZGV4XCIpXTtlLmNvb3JkaW5hdGVTeXN0ZW09YS5nZXRDYXJ0ZXNpYW4obixlLmdldChcInlBeGlzSW5kZXhcIikpfX0pLGl9LGEuZGltZW5zaW9ucz11LnByb3RvdHlwZS5kaW1lbnNpb25zLGkoMjMpLnJlZ2lzdGVyKFwiY2FydGVzaWFuMmRcIixhKSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGkpe2UuZWFjaFNlcmllc0J5VHlwZSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkpe3ZhciBuPWkuZGltZW5zaW9ucztlLmVhY2gobixmdW5jdGlvbih0LG4sbyl7dmFyIGE7YT1pc05hTih0KXx8aXNOYU4obik/W05hTixOYU5dOmkuZGF0YVRvUG9pbnQoW3Qsbl0pLGUuc2V0SXRlbUxheW91dChvLGEpfSwhMCl9fSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgyNyksbz1pKDQyKSxhPWkoMjApLHI9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwPW5ldyBuLHRoaXMudWlkPW8uZ2V0VUlEKFwidmlld0NvbXBvbmVudFwiKX07ci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIsaW5pdDpmdW5jdGlvbih0LGUpe30scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe30sZGlzcG9zZTpmdW5jdGlvbigpe319O3ZhciBzPXIucHJvdG90eXBlO3MudXBkYXRlVmlldz1zLnVwZGF0ZUxheW91dD1zLnVwZGF0ZVZpc3VhbD1mdW5jdGlvbih0LGUsaSxuKXt9LGEuZW5hYmxlQ2xhc3NFeHRlbmQociksYS5lbmFibGVDbGFzc01hbmFnZW1lbnQocix7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSksdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDU4KSxvPWkoMjEpLGE9aSg3Nykscj1pKDE1NCkscz1pKDEpLGw9ZnVuY3Rpb24odCl7YS5jYWxsKHRoaXMsdCksby5jYWxsKHRoaXMsdCksci5jYWxsKHRoaXMsdCksdGhpcy5pZD10LmlkfHxuKCl9O2wucHJvdG90eXBlPXt0eXBlOlwiZWxlbWVudFwiLG5hbWU6XCJcIixfX3pyOm51bGwsaWdub3JlOiExLGNsaXBQYXRoOm51bGwsZHJpZnQ6ZnVuY3Rpb24odCxlKXtzd2l0Y2godGhpcy5kcmFnZ2FibGUpe2Nhc2VcImhvcml6b250YWxcIjplPTA7YnJlYWs7Y2FzZVwidmVydGljYWxcIjp0PTB9dmFyIGk9dGhpcy50cmFuc2Zvcm07aXx8KGk9dGhpcy50cmFuc2Zvcm09WzEsMCwwLDEsMCwwXSksaVs0XSs9dCxpWzVdKz1lLHRoaXMuZGVjb21wb3NlVHJhbnNmb3JtKCksdGhpcy5kaXJ0eSgpfSxiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXt9LGFmdGVyVXBkYXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe30sYXR0cktWOmZ1bmN0aW9uKHQsZSl7aWYoXCJwb3NpdGlvblwiPT09dHx8XCJzY2FsZVwiPT09dHx8XCJvcmlnaW5cIj09PXQpe2lmKGUpe3ZhciBpPXRoaXNbdF07aXx8KGk9dGhpc1t0XT1bXSksaVswXT1lWzBdLGlbMV09ZVsxXX19ZWxzZSB0aGlzW3RdPWV9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMSx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LGF0dHI6ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLmF0dHJLVih0LGUpO2Vsc2UgaWYocy5pc09iamVjdCh0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLmF0dHJLVihpLHRbaV0pO3JldHVybiB0aGlzLmRpcnR5KCksdGhpc30sc2V0Q2xpcFBhdGg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyO2UmJnQuYWRkU2VsZlRvWnIoZSksdGhpcy5jbGlwUGF0aCYmdGhpcy5jbGlwUGF0aCE9PXQmJnRoaXMucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLmNsaXBQYXRoPXQsdC5fX3pyPWUsdC5fX2NsaXBUYXJnZXQ9dGhpcyx0aGlzLmRpcnR5KCl9LHJlbW92ZUNsaXBQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jbGlwUGF0aDt0JiYodC5fX3pyJiZ0LnJlbW92ZVNlbGZGcm9tWnIodC5fX3pyKSx0Ll9fenI9bnVsbCx0Ll9fY2xpcFRhcmdldD1udWxsLHRoaXMuY2xpcFBhdGg9bnVsbCx0aGlzLmRpcnR5KCkpfSxhZGRTZWxmVG9acjpmdW5jdGlvbih0KXt0aGlzLl9fenI9dDt2YXIgZT10aGlzLmFuaW1hdG9ycztpZihlKWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKGVbaV0pO3RoaXMuY2xpcFBhdGgmJnRoaXMuY2xpcFBhdGguYWRkU2VsZlRvWnIodCl9LHJlbW92ZVNlbGZGcm9tWnI6ZnVuY3Rpb24odCl7dGhpcy5fX3pyPW51bGw7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LmFuaW1hdGlvbi5yZW1vdmVBbmltYXRvcihlW2ldKTt0aGlzLmNsaXBQYXRoJiZ0aGlzLmNsaXBQYXRoLnJlbW92ZVNlbGZGcm9tWnIodCl9fSxzLm1peGluKGwscikscy5taXhpbihsLGEpLHMubWl4aW4obCxvKSx0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdFtlXX1mdW5jdGlvbiBvKHQsZSxpKXt0W2VdPWl9ZnVuY3Rpb24gYSh0LGUsaSl7cmV0dXJuKGUtdCkqaSt0fWZ1bmN0aW9uIHIodCxlLGkpe3JldHVybiBpPi41P2U6dH1mdW5jdGlvbiBzKHQsZSxpLG4sbyl7dmFyIHI9dC5sZW5ndGg7aWYoMT09bylmb3IodmFyIHM9MDtyPnM7cysrKW5bc109YSh0W3NdLGVbc10saSk7ZWxzZSBmb3IodmFyIGw9dFswXS5sZW5ndGgscz0wO3I+cztzKyspZm9yKHZhciBoPTA7bD5oO2grKyluW3NdW2hdPWEodFtzXVtoXSxlW3NdW2hdLGkpfWZ1bmN0aW9uIGwodCxlLGkpe3ZhciBuPXQubGVuZ3RoLG89ZS5sZW5ndGg7aWYobiE9PW8pe3ZhciBhPW4+bztpZihhKXQubGVuZ3RoPW87ZWxzZSBmb3IodmFyIHI9bjtvPnI7cisrKXQucHVzaCgxPT09aT9lW3JdOnguY2FsbChlW3JdKSl9Zm9yKHZhciBzPXRbMF0mJnRbMF0ubGVuZ3RoLHI9MDtyPHQubGVuZ3RoO3IrKylpZigxPT09aSlpc05hTih0W3JdKSYmKHRbcl09ZVtyXSk7ZWxzZSBmb3IodmFyIGw9MDtzPmw7bCsrKWlzTmFOKHRbcl1bbF0pJiYodFtyXVtsXT1lW3JdW2xdKX1mdW5jdGlvbiBoKHQsZSxpKXtpZih0PT09ZSlyZXR1cm4hMDt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7aWYoMT09PWkpe2Zvcih2YXIgbz0wO24+bztvKyspaWYodFtvXSE9PWVbb10pcmV0dXJuITF9ZWxzZSBmb3IodmFyIGE9dFswXS5sZW5ndGgsbz0wO24+bztvKyspZm9yKHZhciByPTA7YT5yO3IrKylpZih0W29dW3JdIT09ZVtvXVtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB1KHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgaD10Lmxlbmd0aDtpZigxPT1sKWZvcih2YXIgdT0wO2g+dTt1Kyspc1t1XT1jKHRbdV0sZVt1XSxpW3VdLG5bdV0sbyxhLHIpO2Vsc2UgZm9yKHZhciBkPXRbMF0ubGVuZ3RoLHU9MDtoPnU7dSsrKWZvcih2YXIgZj0wO2Q+ZjtmKyspc1t1XVtmXT1jKHRbdV1bZl0sZVt1XVtmXSxpW3VdW2ZdLG5bdV1bZl0sbyxhLHIpfWZ1bmN0aW9uIGModCxlLGksbixvLGEscil7dmFyIHM9LjUqKGktdCksbD0uNSoobi1lKTtyZXR1cm4oMiooZS1pKStzK2wpKnIrKC0zKihlLWkpLTIqcy1sKSphK3MqbytlfWZ1bmN0aW9uIGQodCl7aWYoeSh0KSl7dmFyIGU9dC5sZW5ndGg7aWYoeSh0WzBdKSl7Zm9yKHZhciBpPVtdLG49MDtlPm47bisrKWkucHVzaCh4LmNhbGwodFtuXSkpO3JldHVybiBpfXJldHVybiB4LmNhbGwodCl9cmV0dXJuIHR9ZnVuY3Rpb24gZih0KXtyZXR1cm4gdFswXT1NYXRoLmZsb29yKHRbMF0pLHRbMV09TWF0aC5mbG9vcih0WzFdKSx0WzJdPU1hdGguZmxvb3IodFsyXSksXCJyZ2JhKFwiK3Quam9pbihcIixcIikrXCIpXCJ9ZnVuY3Rpb24gcCh0LGUsaSxuLG8pe3ZhciBkPXQuX2dldHRlcixwPXQuX3NldHRlcix2PVwic3BsaW5lXCI9PT1lLHg9bi5sZW5ndGg7aWYoeCl7dmFyIF8sYj1uWzBdLnZhbHVlLHc9eShiKSxTPSExLE09ITEsQT13JiZ5KGJbMF0pPzI6MTtuLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pLF89blt4LTFdLnRpbWU7Zm9yKHZhciBJPVtdLFQ9W10sTD1uWzBdLnZhbHVlLEM9ITAsRD0wO3g+RDtEKyspe0kucHVzaChuW0RdLnRpbWUvXyk7dmFyIFA9bltEXS52YWx1ZTtpZih3JiZoKFAsTCxBKXx8IXcmJlA9PT1MfHwoQz0hMSksTD1QLFwic3RyaW5nXCI9PXR5cGVvZiBQKXt2YXIgaz1tLnBhcnNlKFApO2s/KFA9ayxTPSEwKTpNPSEwfVQucHVzaChQKX1pZighQyl7Zm9yKHZhciB6PVRbeC0xXSxEPTA7eC0xPkQ7RCsrKXc/bChUW0RdLHosQSk6IWlzTmFOKFRbRF0pfHxpc05hTih6KXx8TXx8U3x8KFRbRF09eik7dyYmbChkKHQuX3RhcmdldCxvKSx6LEEpO3ZhciBFLE8sUixWLE4sQixHPTAsRj0wO2lmKFMpdmFyIEg9WzAsMCwwLDBdO3ZhciBXPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoRj5lKXtmb3IoRT1NYXRoLm1pbihHKzEseC0xKSxpPUU7aT49MCYmIShJW2ldPD1lKTtpLS0pO2k9TWF0aC5taW4oaSx4LTIpfWVsc2V7Zm9yKGk9Rzt4PmkmJiEoSVtpXT5lKTtpKyspO2k9TWF0aC5taW4oaS0xLHgtMil9Rz1pLEY9ZTt2YXIgbj1JW2krMV0tSVtpXTtpZigwIT09bilpZihPPShlLUlbaV0pL24sdilpZihWPVRbaV0sUj1UWzA9PT1pP2k6aS0xXSxOPVRbaT54LTI/eC0xOmkrMV0sQj1UW2k+eC0zP3gtMTppKzJdLHcpdShSLFYsTixCLE8sTypPLE8qTypPLGQodCxvKSxBKTtlbHNle3ZhciBsO2lmKFMpbD11KFIsVixOLEIsTyxPKk8sTypPKk8sSCwxKSxsPWYoSCk7ZWxzZXtpZihNKXJldHVybiByKFYsTixPKTtsPWMoUixWLE4sQixPLE8qTyxPKk8qTyl9cCh0LG8sbCl9ZWxzZSBpZih3KXMoVFtpXSxUW2krMV0sTyxkKHQsbyksQSk7ZWxzZXt2YXIgbDtpZihTKXMoVFtpXSxUW2krMV0sTyxILDEpLGw9ZihIKTtlbHNle2lmKE0pcmV0dXJuIHIoVFtpXSxUW2krMV0sTyk7bD1hKFRbaV0sVFtpKzFdLE8pfXAodCxvLGwpfX0sWj1uZXcgZyh7dGFyZ2V0OnQuX3RhcmdldCxsaWZlOl8sbG9vcDp0Ll9sb29wLGRlbGF5OnQuX2RlbGF5LG9uZnJhbWU6VyxvbmRlc3Ryb3k6aX0pO3JldHVybiBlJiZcInNwbGluZVwiIT09ZSYmKFouZWFzaW5nPWUpLFp9fX12YXIgZz1pKDEzMSksbT1pKDIyKSx2PWkoMSkseT12LmlzQXJyYXlMaWtlLHg9QXJyYXkucHJvdG90eXBlLnNsaWNlLF89ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5fdHJhY2tzPXt9LHRoaXMuX3RhcmdldD10LHRoaXMuX2xvb3A9ZXx8ITEsdGhpcy5fZ2V0dGVyPWl8fG4sdGhpcy5fc2V0dGVyPWF8fG8sdGhpcy5fY2xpcENvdW50PTAsdGhpcy5fZGVsYXk9MCx0aGlzLl9kb25lTGlzdD1bXSx0aGlzLl9vbmZyYW1lTGlzdD1bXSx0aGlzLl9jbGlwTGlzdD1bXX07Xy5wcm90b3R5cGU9e3doZW46ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl90cmFja3M7Zm9yKHZhciBuIGluIGUpe2lmKCFpW25dKXtpW25dPVtdO3ZhciBvPXRoaXMuX2dldHRlcih0aGlzLl90YXJnZXQsbik7aWYobnVsbD09byljb250aW51ZTswIT09dCYmaVtuXS5wdXNoKHt0aW1lOjAsdmFsdWU6ZChvKX0pfWlbbl0ucHVzaCh7dGltZTp0LHZhbHVlOmVbbl19KX1yZXR1cm4gdGhpc30sZHVyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vbmZyYW1lTGlzdC5wdXNoKHQpLHRoaXN9LF9kb25lQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLl90cmFja3M9e30sdGhpcy5fY2xpcExpc3QubGVuZ3RoPTA7Zm9yKHZhciB0PXRoaXMuX2RvbmVMaXN0LGU9dC5sZW5ndGgsaT0wO2U+aTtpKyspdFtpXS5jYWxsKHRoaXMpfSxzdGFydDpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMsbj0wLG89ZnVuY3Rpb24oKXtuLS0sbnx8aS5fZG9uZUNhbGxiYWNrKCl9O2Zvcih2YXIgYSBpbiB0aGlzLl90cmFja3Mpe3ZhciByPXAodGhpcyx0LG8sdGhpcy5fdHJhY2tzW2FdLGEpO3ImJih0aGlzLl9jbGlwTGlzdC5wdXNoKHIpLG4rKyx0aGlzLmFuaW1hdGlvbiYmdGhpcy5hbmltYXRpb24uYWRkQ2xpcChyKSxlPXIpfWlmKGUpe3ZhciBzPWUub25mcmFtZTtlLm9uZnJhbWU9ZnVuY3Rpb24odCxlKXtzKHQsZSk7Zm9yKHZhciBuPTA7bjxpLl9vbmZyYW1lTGlzdC5sZW5ndGg7bisrKWkuX29uZnJhbWVMaXN0W25dKHQsZSl9fXJldHVybiBufHx0aGlzLl9kb25lQ2FsbGJhY2soKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jbGlwTGlzdCxpPXRoaXMuYW5pbWF0aW9uLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTt0JiZvLm9uZnJhbWUodGhpcy5fdGFyZ2V0LDEpLGkmJmkucmVtb3ZlQ2xpcChvKX1lLmxlbmd0aD0wfSxkZWxheTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsYXk9dCx0aGlzfSxkb25lOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9kb25lTGlzdC5wdXNoKHQpLHRoaXN9LGdldENsaXBzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaXBMaXN0fX0sdC5leHBvcnRzPV99LGZ1bmN0aW9uKHQsZSl7dmFyIGk9MipNYXRoLlBJO3QuZXhwb3J0cz17bm9ybWFsaXplUmFkaWFuOmZ1bmN0aW9uKHQpe3JldHVybiB0JT1pLDA+dCYmKHQrPWkpLHR9fX0sZnVuY3Rpb24odCxlKXt2YXIgaT0yMzExO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVyblwienJfXCIraSsrfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMTQ0KSxvPWkoMTQzKTt0LmV4cG9ydHM9e2J1aWxkUGF0aDpmdW5jdGlvbih0LGUsaSl7dmFyIGE9ZS5wb2ludHMscj1lLnNtb290aDtpZihhJiZhLmxlbmd0aD49Mil7aWYociYmXCJzcGxpbmVcIiE9PXIpe3ZhciBzPW8oYSxyLGksZS5zbW9vdGhDb25zdHJhaW50KTt0Lm1vdmVUbyhhWzBdWzBdLGFbMF1bMV0pO2Zvcih2YXIgbD1hLmxlbmd0aCxoPTA7KGk/bDpsLTEpPmg7aCsrKXt2YXIgdT1zWzIqaF0sYz1zWzIqaCsxXSxkPWFbKGgrMSklbF07dC5iZXppZXJDdXJ2ZVRvKHVbMF0sdVsxXSxjWzBdLGNbMV0sZFswXSxkWzFdKX19ZWxzZXtcInNwbGluZVwiPT09ciYmKGE9bihhLGkpKSx0Lm1vdmVUbyhhWzBdWzBdLGFbMF1bMV0pO2Zvcih2YXIgaD0xLGY9YS5sZW5ndGg7Zj5oO2grKyl0LmxpbmVUbyhhW2hdWzBdLGFbaF1bMV0pfWkmJnQuY2xvc2VQYXRoKCl9fX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyPWUueCxzPWUueSxsPWUud2lkdGgsaD1lLmhlaWdodCx1PWUucjswPmwmJihyKz1sLGw9LWwpLDA+aCYmKHMrPWgsaD0taCksXCJudW1iZXJcIj09dHlwZW9mIHU/aT1uPW89YT11OnUgaW5zdGFuY2VvZiBBcnJheT8xPT09dS5sZW5ndGg/aT1uPW89YT11WzBdOjI9PT11Lmxlbmd0aD8oaT1vPXVbMF0sbj1hPXVbMV0pOjM9PT11Lmxlbmd0aD8oaT11WzBdLG49YT11WzFdLG89dVsyXSk6KGk9dVswXSxuPXVbMV0sbz11WzJdLGE9dVszXSk6aT1uPW89YT0wO3ZhciBjO2krbj5sJiYoYz1pK24saSo9bC9jLG4qPWwvYyksbythPmwmJihjPW8rYSxvKj1sL2MsYSo9bC9jKSxuK28+aCYmKGM9bitvLG4qPWgvYyxvKj1oL2MpLGkrYT5oJiYoYz1pK2EsaSo9aC9jLGEqPWgvYyksdC5tb3ZlVG8ocitpLHMpLHQubGluZVRvKHIrbC1uLHMpLDAhPT1uJiZ0LnF1YWRyYXRpY0N1cnZlVG8ocitsLHMscitsLHMrbiksdC5saW5lVG8ocitsLHMraC1vKSwwIT09byYmdC5xdWFkcmF0aWNDdXJ2ZVRvKHIrbCxzK2gscitsLW8scytoKSx0LmxpbmVUbyhyK2EscytoKSwwIT09YSYmdC5xdWFkcmF0aWNDdXJ2ZVRvKHIscytoLHIscytoLWEpLHQubGluZVRvKHIscytpKSwwIT09aSYmdC5xdWFkcmF0aWNDdXJ2ZVRvKHIscyxyK2kscyl9fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dC5leHBvcnRzPXt1cGRhdGVTZWxlY3RlZE1hcDpmdW5jdGlvbih0KXt0aGlzLl9zZWxlY3RUYXJnZXRNYXA9bi5yZWR1Y2UodHx8W10sZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlLm5hbWVdPWUsdH0se30pfSxzZWxlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2VsZWN0VGFyZ2V0TWFwLGk9ZVt0XSxvPXRoaXMuZ2V0KFwic2VsZWN0ZWRNb2RlXCIpO1wic2luZ2xlXCI9PT1vJiZuLmVhY2goZSxmdW5jdGlvbih0KXt0LnNlbGVjdGVkPSExfSksaSYmKGkuc2VsZWN0ZWQ9ITApfSx1blNlbGVjdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zZWxlY3RUYXJnZXRNYXBbdF07ZSYmKGUuc2VsZWN0ZWQ9ITEpfSx0b2dnbGVTZWxlY3RlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zZWxlY3RUYXJnZXRNYXBbdF07cmV0dXJuIG51bGwhPWU/KHRoaXNbZS5zZWxlY3RlZD9cInVuU2VsZWN0XCI6XCJzZWxlY3RcIl0odCksZS5zZWxlY3RlZCk6dm9pZCAwfSxpc1NlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NlbGVjdFRhcmdldE1hcFt0XTtyZXR1cm4gZSYmZS5zZWxlY3RlZH19fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg3Miksbz1pKDEpLGE9aSgxMCkscj1pKDExKSxzPVtcInZhbHVlXCIsXCJjYXRlZ29yeVwiLFwidGltZVwiLFwibG9nXCJdO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSxsKXtvLmVhY2gocyxmdW5jdGlvbihhKXtlLmV4dGVuZCh7dHlwZTp0K1wiQXhpcy5cIithLG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKGUsbil7dmFyIHM9dGhpcy5sYXlvdXRNb2RlLGw9cz9yLmdldExheW91dFBhcmFtcyhlKTp7fSxoPW4uZ2V0VGhlbWUoKTtvLm1lcmdlKGUsaC5nZXQoYStcIkF4aXNcIikpLG8ubWVyZ2UoZSx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksZS50eXBlPWkodCxlKSxzJiZyLm1lcmdlTGF5b3V0UGFyYW0oZSxsLHMpfSxkZWZhdWx0T3B0aW9uOm8ubWVyZ2VBbGwoW3t9LG5bYStcIkF4aXNcIl0sbF0sITApfSl9KSxhLnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcih0K1wiQXhpc1wiLG8uY3VycnkoaSx0KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPWUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwibGVnZW5kXCJ9KTtpJiZpLmxlbmd0aCYmZS5lYWNoU2VyaWVzQnlUeXBlKHQsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCk7ZS5maWx0ZXJTZWxmKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lLmdldE5hbWUodCksbz0wO288aS5sZW5ndGg7bysrKWlmKCFpW29dLmlzU2VsZWN0ZWQobikpcmV0dXJuITE7cmV0dXJuITB9LHRoaXMpfSx0aGlzKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXQoXCJjb2xvclwiKSxuPTA7ZS5lYWNoUmF3U2VyaWVzQnlUeXBlKHQsZnVuY3Rpb24odCl7dmFyIG89dC5nZXQoXCJjb2xvclwiLCEwKSxhPXQuZ2V0UmF3RGF0YSgpO2lmKCFlLmlzU2VyaWVzRmlsdGVyZWQodCkpe3ZhciByPXQuZ2V0RGF0YSgpO3IuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1yLmdldEl0ZW1Nb2RlbCh0KSxzPXIuZ2V0UmF3SW5kZXgodCksbD1yLmdldEl0ZW1WaXN1YWwodCxcImNvbG9yXCIsITApO2lmKGwpYS5zZXRJdGVtVmlzdWFsKHMsXCJjb2xvclwiLGwpO2Vsc2V7dmFyIGg9bz9vW3Mlby5sZW5ndGhdOmlbKHMrbiklaS5sZW5ndGhdLHU9ZS5nZXQoXCJpdGVtU3R5bGUubm9ybWFsLmNvbG9yXCIpfHxoO2Euc2V0SXRlbVZpc3VhbChzLFwiY29sb3JcIix1KSxyLnNldEl0ZW1WaXN1YWwodCxcImNvbG9yXCIsdSl9fSl9bis9YS5jb3VudCgpfSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1KSxvPWkoMTYpLGE9e30scj1NYXRoLm1pbixzPU1hdGgubWF4LGw9TWF0aC5zaW4saD1NYXRoLmNvcyx1PW4uY3JlYXRlKCksYz1uLmNyZWF0ZSgpLGQ9bi5jcmVhdGUoKSxmPTIqTWF0aC5QSTthLmZyb21Qb2ludHM9ZnVuY3Rpb24odCxlLGkpe2lmKDAhPT10Lmxlbmd0aCl7dmFyIG4sbz10WzBdLGE9b1swXSxsPW9bMF0saD1vWzFdLHU9b1sxXTtmb3Iobj0xO248dC5sZW5ndGg7bisrKW89dFtuXSxhPXIoYSxvWzBdKSxsPXMobCxvWzBdKSxoPXIoaCxvWzFdKSx1PXModSxvWzFdKTtlWzBdPWEsZVsxXT1oLGlbMF09bCxpWzFdPXV9fSxhLmZyb21MaW5lPWZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtvWzBdPXIodCxpKSxvWzFdPXIoZSxuKSxhWzBdPXModCxpKSxhWzFdPXMoZSxuKX07dmFyIHA9W10sZz1bXTthLmZyb21DdWJpYz1mdW5jdGlvbih0LGUsaSxuLGEsbCxoLHUsYyxkKXt2YXIgZixtPW8uY3ViaWNFeHRyZW1hLHY9by5jdWJpY0F0LHk9bSh0LGksYSxoLHApO2ZvcihjWzBdPTEvMCxjWzFdPTEvMCxkWzBdPS0oMS8wKSxkWzFdPS0oMS8wKSxmPTA7eT5mO2YrKyl7dmFyIHg9dih0LGksYSxoLHBbZl0pO2NbMF09cih4LGNbMF0pLGRbMF09cyh4LGRbMF0pfWZvcih5PW0oZSxuLGwsdSxnKSxmPTA7eT5mO2YrKyl7dmFyIF89dihlLG4sbCx1LGdbZl0pO2NbMV09cihfLGNbMV0pLGRbMV09cyhfLGRbMV0pfWNbMF09cih0LGNbMF0pLGRbMF09cyh0LGRbMF0pLGNbMF09cihoLGNbMF0pLGRbMF09cyhoLGRbMF0pLGNbMV09cihlLGNbMV0pLGRbMV09cyhlLGRbMV0pLGNbMV09cih1LGNbMV0pLGRbMV09cyh1LGRbMV0pfSxhLmZyb21RdWFkcmF0aWM9ZnVuY3Rpb24odCxlLGksbixhLGwsaCx1KXt2YXIgYz1vLnF1YWRyYXRpY0V4dHJlbXVtLGQ9by5xdWFkcmF0aWNBdCxmPXMocihjKHQsaSxhKSwxKSwwKSxwPXMocihjKGUsbixsKSwxKSwwKSxnPWQodCxpLGEsZiksbT1kKGUsbixsLHApO2hbMF09cih0LGEsZyksaFsxXT1yKGUsbCxtKSx1WzBdPXModCxhLGcpLHVbMV09cyhlLGwsbSl9LGEuZnJvbUFyYz1mdW5jdGlvbih0LGUsaSxvLGEscixzLHAsZyl7dmFyIG09bi5taW4sdj1uLm1heCx5PU1hdGguYWJzKGEtcik7aWYoMWUtND55JWYmJnk+MWUtNClyZXR1cm4gcFswXT10LWkscFsxXT1lLW8sZ1swXT10K2ksdm9pZChnWzFdPWUrbyk7aWYodVswXT1oKGEpKmkrdCx1WzFdPWwoYSkqbytlLGNbMF09aChyKSppK3QsY1sxXT1sKHIpKm8rZSxtKHAsdSxjKSx2KGcsdSxjKSxhJT1mLDA+YSYmKGErPWYpLHIlPWYsMD5yJiYocis9ZiksYT5yJiYhcz9yKz1mOnI+YSYmcyYmKGErPWYpLHMpe3ZhciB4PXI7cj1hLGE9eH1mb3IodmFyIF89MDtyPl87Xys9TWF0aC5QSS8yKV8+YSYmKGRbMF09aChfKSppK3QsZFsxXT1sKF8pKm8rZSxtKHAsZCxwKSx2KGcsZCxnKSl9LHQuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgzNyksbz1pKDEpLGE9aSgxOCkscj1mdW5jdGlvbih0KXtuLmNhbGwodGhpcyx0KX07ci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIsdHlwZTpcInRleHRcIixicnVzaDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0eWxlLGk9ZS54fHwwLG49ZS55fHwwLG89ZS50ZXh0LHI9ZS5maWxsLHM9ZS5zdHJva2U7aWYobnVsbCE9byYmKG8rPVwiXCIpLG8pe2lmKHQuc2F2ZSgpLHRoaXMuc3R5bGUuYmluZCh0KSx0aGlzLnNldFRyYW5zZm9ybSh0KSxyJiYodC5maWxsU3R5bGU9cikscyYmKHQuc3Ryb2tlU3R5bGU9cyksdC5mb250PWUudGV4dEZvbnR8fGUuZm9udCx0LnRleHRBbGlnbj1lLnRleHRBbGlnbixlLnRleHRWZXJ0aWNhbEFsaWduKXt2YXIgbD1hLmdldEJvdW5kaW5nUmVjdChvLHQuZm9udCxlLnRleHRBbGlnbixcInRvcFwiKTtzd2l0Y2godC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIixlLnRleHRWZXJ0aWNhbEFsaWduKXtjYXNlXCJtaWRkbGVcIjpuLT1sLmhlaWdodC8yLWwubGluZUhlaWdodC8yO2JyZWFrO2Nhc2VcImJvdHRvbVwiOm4tPWwuaGVpZ2h0LWwubGluZUhlaWdodC8yO2JyZWFrO2RlZmF1bHQ6bis9bC5saW5lSGVpZ2h0LzJ9fWVsc2UgdC50ZXh0QmFzZWxpbmU9ZS50ZXh0QmFzZWxpbmU7Zm9yKHZhciBoPWEubWVhc3VyZVRleHQoXCLlm71cIix0LmZvbnQpLndpZHRoLHU9by5zcGxpdChcIlxcblwiKSxjPTA7Yzx1Lmxlbmd0aDtjKyspciYmdC5maWxsVGV4dCh1W2NdLGksbikscyYmdC5zdHJva2VUZXh0KHVbY10saSxuKSxuKz1oO3QucmVzdG9yZSgpfX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JlY3Qpe3ZhciB0PXRoaXMuc3R5bGUsZT10LnRleHRWZXJ0aWNhbEFsaWduLGk9YS5nZXRCb3VuZGluZ1JlY3QodC50ZXh0K1wiXCIsdC50ZXh0Rm9udHx8dC5mb250LHQudGV4dEFsaWduLGU/XCJ0b3BcIjp0LnRleHRCYXNlbGluZSk7c3dpdGNoKGUpe2Nhc2VcIm1pZGRsZVwiOmkueS09aS5oZWlnaHQvMjticmVhaztjYXNlXCJib3R0b21cIjppLnktPWkuaGVpZ2h0fWkueCs9dC54fHwwLGkueSs9dC55fHwwLHRoaXMuX3JlY3Q9aX1yZXR1cm4gdGhpcy5fcmVjdH19LG8uaW5oZXJpdHMocixuKSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90Lmxhc3RJbmRleE9mKFwiJVwiKT49MD9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6dH1mdW5jdGlvbiBvKHQsZSl7dC50cmFuc2Zvcm0oZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0pfXZhciBhPWkoMTgpLHI9aSg4KSxzPW5ldyByLGw9ZnVuY3Rpb24oKXt9O2wucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpsLGRyYXdSZWN0VGV4dDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5zdHlsZSxsPXIudGV4dDtpZihudWxsIT1sJiYobCs9XCJcIiksbCl7dmFyIGgsdSxjPXIudGV4dFBvc2l0aW9uLGQ9ci50ZXh0RGlzdGFuY2UsZj1yLnRleHRBbGlnbixwPXIudGV4dEZvbnR8fHIuZm9udCxnPXIudGV4dEJhc2VsaW5lLG09ci50ZXh0VmVydGljYWxBbGlnbjtpPWl8fGEuZ2V0Qm91bmRpbmdSZWN0KGwscCxmLGcpO3ZhciB2PXRoaXMudHJhbnNmb3JtLHk9dGhpcy5pbnZUcmFuc2Zvcm07aWYodiYmKHMuY29weShlKSxzLmFwcGx5VHJhbnNmb3JtKHYpLGU9cyxvKHQseSkpLGMgaW5zdGFuY2VvZiBBcnJheSl7aWYoaD1lLngrbihjWzBdLGUud2lkdGgpLHU9ZS55K24oY1sxXSxlLmhlaWdodCksZj1mfHxcImxlZnRcIixnPWd8fFwidG9wXCIsbSl7c3dpdGNoKG0pe2Nhc2VcIm1pZGRsZVwiOnUtPWkuaGVpZ2h0LzItaS5saW5lSGVpZ2h0LzI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6dS09aS5oZWlnaHQtaS5saW5lSGVpZ2h0LzI7YnJlYWs7ZGVmYXVsdDp1Kz1pLmxpbmVIZWlnaHQvMn1nPVwibWlkZGxlXCJ9fWVsc2V7dmFyIHg9YS5hZGp1c3RUZXh0UG9zaXRpb25PblJlY3QoYyxlLGksZCk7aD14LngsdT14LnksZj1mfHx4LnRleHRBbGlnbixnPWd8fHgudGV4dEJhc2VsaW5lfXQudGV4dEFsaWduPWYsdC50ZXh0QmFzZWxpbmU9Zzt2YXIgXz1yLnRleHRGaWxsLGI9ci50ZXh0U3Ryb2tlO18mJih0LmZpbGxTdHlsZT1fKSxiJiYodC5zdHJva2VTdHlsZT1iKSx0LmZvbnQ9cCx0LnNoYWRvd0NvbG9yPXIudGV4dFNoYWRvd0NvbG9yLHQuc2hhZG93Qmx1cj1yLnRleHRTaGFkb3dCbHVyLHQuc2hhZG93T2Zmc2V0WD1yLnRleHRTaGFkb3dPZmZzZXRYLHQuc2hhZG93T2Zmc2V0WT1yLnRleHRTaGFkb3dPZmZzZXRZO2Zvcih2YXIgdz1sLnNwbGl0KFwiXFxuXCIpLFM9MDtTPHcubGVuZ3RoO1MrKylfJiZ0LmZpbGxUZXh0KHdbU10saCx1KSxiJiZ0LnN0cm9rZVRleHQod1tTXSxoLHUpLHUrPWkubGluZUhlaWdodDt2JiZvKHQsdil9fX0sdC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe2RlbGV0ZSBjW3RdfS8qIVxuXHQgKiBaUmVuZGVyLCBhIGhpZ2ggcGVyZm9ybWFuY2UgMmQgZHJhd2luZyBsaWJyYXJ5LlxuXHQgKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMsIEJhaWR1IEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogTElDRU5TRVxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vZWNvbWZlL3pyZW5kZXIvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcblx0ICovXG52YXIgbz1pKDU4KSxhPWkoMTQpLHI9aSgxMjYpLHM9aSgxMjkpLGw9aSgxMzApLGg9IWEuY2FudmFzU3VwcG9ydGVkLHU9e2NhbnZhczppKDEyOCl9LGM9e30sZD17fTtkLnZlcnNpb249XCIzLjEuMFwiLGQuaW5pdD1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBmKG8oKSx0LGUpO3JldHVybiBjW2kuaWRdPWksaX0sZC5kaXNwb3NlPWZ1bmN0aW9uKHQpe2lmKHQpdC5kaXNwb3NlKCk7ZWxzZXtmb3IodmFyIGUgaW4gYyljW2VdLmRpc3Bvc2UoKTtjPXt9fXJldHVybiBkfSxkLmdldEluc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBjW3RdfSxkLnJlZ2lzdGVyUGFpbnRlcj1mdW5jdGlvbih0LGUpe3VbdF09ZX07dmFyIGY9ZnVuY3Rpb24odCxlLGkpe2k9aXx8e30sdGhpcy5kb209ZSx0aGlzLmlkPXQ7dmFyIG49dGhpcyxvPW5ldyBzLGM9aS5yZW5kZXJlcjtpZihoKXtpZighdS52bWwpdGhyb3cgbmV3IEVycm9yKFwiWW91IG5lZWQgdG8gcmVxdWlyZSAnenJlbmRlci92bWwvdm1sJyB0byBzdXBwb3J0IElFOFwiKTtjPVwidm1sXCJ9ZWxzZSBjJiZ1W2NdfHwoYz1cImNhbnZhc1wiKTt2YXIgZD1uZXcgdVtjXShlLG8saSk7dGhpcy5zdG9yYWdlPW8sdGhpcy5wYWludGVyPWQsYS5ub2RlfHwodGhpcy5oYW5kbGVyPW5ldyByKGQuZ2V0Vmlld3BvcnRSb290KCksbyxkKSksdGhpcy5hbmltYXRpb249bmV3IGwoe3N0YWdlOnt1cGRhdGU6ZnVuY3Rpb24oKXtuLl9uZWVkc1JlZnJlc2gmJm4ucmVmcmVzaEltbWVkaWF0ZWx5KCl9fX0pLHRoaXMuYW5pbWF0aW9uLnN0YXJ0KCksdGhpcy5fbmVlZHNSZWZyZXNoO3ZhciBmPW8uZGVsRnJvbU1hcCxwPW8uYWRkVG9NYXA7by5kZWxGcm9tTWFwPWZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0KHQpO2YuY2FsbChvLHQpLGUmJmUucmVtb3ZlU2VsZkZyb21acihuKX0sby5hZGRUb01hcD1mdW5jdGlvbih0KXtwLmNhbGwobyx0KSx0LmFkZFNlbGZUb1pyKG4pfX07Zi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmYsZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH0sYWRkOmZ1bmN0aW9uKHQpe3RoaXMuc3RvcmFnZS5hZGRSb290KHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0scmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuc3RvcmFnZS5kZWxSb290KHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0sY29uZmlnTGF5ZXI6ZnVuY3Rpb24odCxlKXt0aGlzLnBhaW50ZXIuY29uZmlnTGF5ZXIodCxlKSx0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LHJlZnJlc2hJbW1lZGlhdGVseTpmdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaCgpLHRoaXMuX25lZWRzUmVmcmVzaD0hMX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD0hMH0scmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5wYWludGVyLnJlc2l6ZSgpLHRoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLnJlc2l6ZSgpfSxjbGVhckFuaW1hdGlvbjpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uLmNsZWFyKCl9LGdldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRlci5nZXRXaWR0aCgpfSxnZXRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludGVyLmdldEhlaWdodCgpfSxwYXRoVG9JbWFnZTpmdW5jdGlvbih0LGUsaSl7dmFyIG49bygpO3JldHVybiB0aGlzLnBhaW50ZXIucGF0aFRvSW1hZ2Uobix0LGUsaSl9LHNldERlZmF1bHRDdXJzb3JTdHlsZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZXIuc2V0RGVmYXVsdEN1cnNvclN0eWxlKHQpfSxvbjpmdW5jdGlvbih0LGUsaSl7dGhpcy5oYW5kbGVyJiZ0aGlzLmhhbmRsZXIub24odCxlLGkpfSxvZmY6ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXImJnRoaXMuaGFuZGxlci5vZmYodCxlKX0sdHJpZ2dlcjpmdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLnRyaWdnZXIodCxlKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLnN0b3JhZ2UuZGVsUm9vdCgpLHRoaXMucGFpbnRlci5jbGVhcigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uc3RvcCgpLHRoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2UuZGlzcG9zZSgpLHRoaXMucGFpbnRlci5kaXNwb3NlKCksdGhpcy5oYW5kbGVyJiZ0aGlzLmhhbmRsZXIuZGlzcG9zZSgpLHRoaXMuYW5pbWF0aW9uPXRoaXMuc3RvcmFnZT10aGlzLnBhaW50ZXI9dGhpcy5oYW5kbGVyPW51bGwsbih0aGlzLmlkKX19LHQuZXhwb3J0cz1kfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgyKSxvPWkoMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7by5lYWNoKGUsZnVuY3Rpb24oZSl7ZS51cGRhdGU9XCJ1cGRhdGVWaWV3XCIsbi5yZWdpc3RlckFjdGlvbihlLGZ1bmN0aW9uKGksbil7dmFyIG89e307cmV0dXJuIG4uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJzZXJpZXNcIixzdWJUeXBlOnQscXVlcnk6aX0sZnVuY3Rpb24odCl7dFtlLm1ldGhvZF0mJnRbZS5tZXRob2RdKGkubmFtZSk7dmFyIG49dC5nZXREYXRhKCk7bi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPW4uZ2V0TmFtZShlKTtvW2ldPXQuaXNTZWxlY3RlZChpKXx8ITF9KX0pLHtuYW1lOmkubmFtZSxzZWxlY3RlZDpvfX0pfSl9fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXtpZighdC50YXJnZXR8fCF0LnRhcmdldC5kcmFnZ2FibGUpe3ZhciBlPXQub2Zmc2V0WCxpPXQub2Zmc2V0WSxuPXRoaXMucmVjdFByb3ZpZGVyJiZ0aGlzLnJlY3RQcm92aWRlcigpO24mJm4uY29udGFpbihlLGkpJiYodGhpcy5feD1lLHRoaXMuX3k9aSx0aGlzLl9kcmFnZ2luZz0hMCl9fWZ1bmN0aW9uIG8odCl7aWYodGhpcy5fZHJhZ2dpbmcmJihkLnN0b3AodC5ldmVudCksXCJwaW5jaFwiIT09dC5nZXN0dXJlRXZlbnQpKXtpZihmLmlzVGFrZW4oXCJnbG9iYWxQYW5cIix0aGlzLl96cikpcmV0dXJuO3ZhciBlPXQub2Zmc2V0WCxpPXQub2Zmc2V0WSxuPWUtdGhpcy5feCxvPWktdGhpcy5feTt0aGlzLl94PWUsdGhpcy5feT1pO3ZhciBhPXRoaXMudGFyZ2V0O2lmKGEpe3ZhciByPWEucG9zaXRpb247clswXSs9bixyWzFdKz1vLGEuZGlydHkoKX1kLnN0b3AodC5ldmVudCksdGhpcy50cmlnZ2VyKFwicGFuXCIsbixvKX19ZnVuY3Rpb24gYSh0KXt0aGlzLl9kcmFnZ2luZz0hMX1mdW5jdGlvbiByKHQpe3ZhciBlPXQud2hlZWxEZWx0YT4wPzEuMToxLzEuMTtsLmNhbGwodGhpcyx0LGUsdC5vZmZzZXRYLHQub2Zmc2V0WSl9ZnVuY3Rpb24gcyh0KXtpZighZi5pc1Rha2VuKFwiZ2xvYmFsUGFuXCIsdGhpcy5fenIpKXt2YXIgZT10LnBpbmNoU2NhbGU+MT8xLjE6MS8xLjE7bC5jYWxsKHRoaXMsdCxlLHQucGluY2hYLHQucGluY2hZKX19ZnVuY3Rpb24gbCh0LGUsaSxuKXt2YXIgbz10aGlzLnJlY3RQcm92aWRlciYmdGhpcy5yZWN0UHJvdmlkZXIoKTtpZihvJiZvLmNvbnRhaW4oaSxuKSl7ZC5zdG9wKHQuZXZlbnQpO3ZhciBhPXRoaXMudGFyZ2V0LHI9dGhpcy56b29tTGltaXQ7aWYoYSl7dmFyIHM9YS5wb3NpdGlvbixsPWEuc2NhbGUsaD10aGlzLnpvb209dGhpcy56b29tfHwxO2lmKGgqPWUscil7dmFyIHU9ci5taW58fDAsYz1yLm1heHx8MS8wO2g9TWF0aC5tYXgoTWF0aC5taW4oYyxoKSx1KX12YXIgZj1oL3RoaXMuem9vbTt0aGlzLnpvb209aCxzWzBdLT0oaS1zWzBdKSooZi0xKSxzWzFdLT0obi1zWzFdKSooZi0xKSxsWzBdKj1mLGxbMV0qPWYsYS5kaXJ0eSgpfXRoaXMudHJpZ2dlcihcInpvb21cIixlLGksbil9fWZ1bmN0aW9uIGgodCxlLGkpe3RoaXMudGFyZ2V0PWUsdGhpcy5yZWN0UHJvdmlkZXI9aSx0aGlzLnpvb21MaW1pdCx0aGlzLnpvb20sdGhpcy5fenI9dDt2YXIgbD1jLmJpbmQsaD1sKG4sdGhpcyksZD1sKG8sdGhpcyksZj1sKGEsdGhpcykscD1sKHIsdGhpcyksZz1sKHMsdGhpcyk7dS5jYWxsKHRoaXMpLHRoaXMuZW5hYmxlPWZ1bmN0aW9uKGUpe3RoaXMuZGlzYWJsZSgpLG51bGw9PWUmJihlPSEwKSxlIT09ITAmJlwibW92ZVwiIT09ZSYmXCJwYW5cIiE9PWV8fCh0Lm9uKFwibW91c2Vkb3duXCIsaCksdC5vbihcIm1vdXNlbW92ZVwiLGQpLHQub24oXCJtb3VzZXVwXCIsZikpLGUhPT0hMCYmXCJzY2FsZVwiIT09ZSYmXCJ6b29tXCIhPT1lfHwodC5vbihcIm1vdXNld2hlZWxcIixwKSx0Lm9uKFwicGluY2hcIixnKSl9LHRoaXMuZGlzYWJsZT1mdW5jdGlvbigpe3Qub2ZmKFwibW91c2Vkb3duXCIsaCksdC5vZmYoXCJtb3VzZW1vdmVcIixkKSx0Lm9mZihcIm1vdXNldXBcIixmKSx0Lm9mZihcIm1vdXNld2hlZWxcIixwKSx0Lm9mZihcInBpbmNoXCIsZyl9LHRoaXMuZGlzcG9zZT10aGlzLmRpc2FibGUsdGhpcy5pc0RyYWdnaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYWdnaW5nfSx0aGlzLmlzUGluY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGluY2hpbmd9fXZhciB1PWkoMjEpLGM9aSgxKSxkPWkoMzQpLGY9aSgxMDEpO2MubWl4aW4oaCx1KSx0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGksbixvKXtmdW5jdGlvbiBhKHQsZSxpKXt2YXIgbj1lLmxlbmd0aD9lLnNsaWNlKCk6W2UsZV07cmV0dXJuIGVbMF0+ZVsxXSYmbi5yZXZlcnNlKCksMD50JiZuWzBdK3Q8aVswXSYmKHQ9aVswXS1uWzBdKSx0PjAmJm5bMV0rdD5pWzFdJiYodD1pWzFdLW5bMV0pLHR9cmV0dXJuIHQ/KFwicmlnaWRcIj09PW4/KHQ9YSh0LGUsaSksZVswXSs9dCxlWzFdKz10KToodD1hKHQsZVtvXSxpKSxlW29dKz10LFwicHVzaFwiPT09biYmZVswXT5lWzFdJiYoZVsxLW9dPWVbb10pKSxlKTplfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz17c2hvdzohMCx6bGV2ZWw6MCx6OjAsaW52ZXJzZTohMSxuYW1lOlwiXCIsbmFtZUxvY2F0aW9uOlwiZW5kXCIsbmFtZVRleHRTdHlsZTp7fSxuYW1lR2FwOjE1LHNpbGVudDohMCxheGlzTGluZTp7c2hvdzohMCxvblplcm86ITAsbGluZVN0eWxlOntjb2xvcjpcIiMzMzNcIix3aWR0aDoxLHR5cGU6XCJzb2xpZFwifX0sYXhpc1RpY2s6e3Nob3c6ITAsaW5zaWRlOiExLGxlbmd0aDo1LGxpbmVTdHlsZTp7Y29sb3I6XCIjMzMzXCIsd2lkdGg6MX19LGF4aXNMYWJlbDp7c2hvdzohMCxpbnNpZGU6ITEscm90YXRlOjAsbWFyZ2luOjgsdGV4dFN0eWxlOntjb2xvcjpcIiMzMzNcIixmb250U2l6ZToxMn19LHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOltcIiNjY2NcIl0sd2lkdGg6MSx0eXBlOlwic29saWRcIn19LHNwbGl0QXJlYTp7c2hvdzohMSxhcmVhU3R5bGU6e2NvbG9yOltcInJnYmEoMjUwLDI1MCwyNTAsMC4zKVwiLFwicmdiYSgyMDAsMjAwLDIwMCwwLjMpXCJdfX19LGE9bi5tZXJnZSh7Ym91bmRhcnlHYXA6ITAsYXhpc1RpY2s6e2ludGVydmFsOlwiYXV0b1wifSxheGlzTGFiZWw6e2ludGVydmFsOlwiYXV0b1wifX0sbykscj1uLmRlZmF1bHRzKHtib3VuZGFyeUdhcDpbMCwwXSxzcGxpdE51bWJlcjo1fSxvKSxzPW4uZGVmYXVsdHMoe3NjYWxlOiEwLG1pbjpcImRhdGFNaW5cIixtYXg6XCJkYXRhTWF4XCJ9LHIpLGw9bi5kZWZhdWx0cyh7fSxyKTtsLnNjYWxlPSEwLHQuZXhwb3J0cz17Y2F0ZWdvcnlBeGlzOmEsdmFsdWVBeGlzOnIsdGltZUF4aXM6cyxsb2dBeGlzOmx9fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXt2YXIgZT10LnBpZWNlTGlzdDt0Lmhhc1NwZWNpYWxWaXN1YWw9ITEsYy5lYWNoKGUsZnVuY3Rpb24oZSxpKXtlLm9yaWdpbkluZGV4PWksbnVsbCE9ZS52aXN1YWwmJih0Lmhhc1NwZWNpYWxWaXN1YWw9ITApfSl9ZnVuY3Rpb24gbyh0KXt2YXIgZT10LmNhdGVnb3JpZXMsaT10LnZpc3VhbCxuPXQuY2F0ZWdvcnlNYXA9e307aWYocChlLGZ1bmN0aW9uKHQsZSl7blt0XT1lfSksIWMuaXNBcnJheShpKSl7dmFyIG89W107Yy5pc09iamVjdChpKT9wKGksZnVuY3Rpb24odCxlKXt2YXIgaT1uW2VdO29bbnVsbCE9aT9pOm1dPXR9KTpvW21dPWksaT10LnZpc3VhbD1vfWZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKW51bGw9PWlbYV0mJihkZWxldGUgbltlW2FdXSxlLnBvcCgpKX1mdW5jdGlvbiBhKHQsZSl7dmFyIGk9dC52aXN1YWwsbj1bXTtjLmlzT2JqZWN0KGkpP3AoaSxmdW5jdGlvbih0KXtuLnB1c2godCl9KTpudWxsIT1pJiZuLnB1c2goaSk7dmFyIG89e2NvbG9yOjEsc3ltYm9sOjF9O2V8fDEhPT1uLmxlbmd0aHx8dC50eXBlIGluIG98fChuWzFdPW5bMF0pLHQudmlzdWFsPW59ZnVuY3Rpb24gcih0KXtyZXR1cm57YXBwbHlWaXN1YWw6ZnVuY3Rpb24oZSxpLG4pe2U9dGhpcy5tYXBWYWx1ZVRvVmlzdWFsKGUpLG4oXCJjb2xvclwiLHQoaShcImNvbG9yXCIpLGUpKX0sbWFwVmFsdWVUb1Zpc3VhbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9ub3JtYWxpemVEYXRhKHQpLGk9dGhpcy5fZ2V0U3BlY2lmaWVkVmlzdWFsKHQpLG49dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBudWxsPT1pJiYoaT11KHRoaXMpP2godGhpcyxuLGUpOmYoZSxbMCwxXSxuLCEwKSksaX19fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdFtNYXRoLnJvdW5kKGYoZSxbMCwxXSxbMCx0Lmxlbmd0aC0xXSwhMCkpXX1mdW5jdGlvbiBsKHQsZSxpKXtpKFwiY29sb3JcIix0aGlzLm1hcFZhbHVlVG9WaXN1YWwodCkpfWZ1bmN0aW9uIGgodCxlLGkpe3JldHVybiBlW3Qub3B0aW9uLmxvb3AmJmkhPT1tP2klZS5sZW5ndGg6aV19ZnVuY3Rpb24gdSh0KXtyZXR1cm5cImNhdGVnb3J5XCI9PT10Lm9wdGlvbi5tYXBwaW5nTWV0aG9kfXZhciBjPWkoMSksZD1pKDIyKSxmPWkoNCkubGluZWFyTWFwLHA9Yy5lYWNoLGc9Yy5pc09iamVjdCxtPS0xLHY9ZnVuY3Rpb24odCl7dmFyIGU9dC5tYXBwaW5nTWV0aG9kLGk9dC50eXBlLHI9dGhpcy5vcHRpb249Yy5jbG9uZSh0KTt0aGlzLnR5cGU9aSx0aGlzLm1hcHBpbmdNZXRob2Q9ZSx0aGlzLl9ub3JtYWxpemVEYXRhPXhbZV0sdGhpcy5fZ2V0U3BlY2lmaWVkVmlzdWFsPWMuYmluZChfW2VdLHRoaXMsaSksYy5leHRlbmQodGhpcyx5W2ldKSxcInBpZWNld2lzZVwiPT09ZT8oYShyKSxuKHIpKTpcImNhdGVnb3J5XCI9PT1lP3IuY2F0ZWdvcmllcz9vKHIpOmEociwhMCk6KGMuYXNzZXJ0KHIuZGF0YUV4dGVudCksYShyKSl9O3YucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp2LGFwcGx5VmlzdWFsOm51bGwsaXNWYWx1ZUFjdGl2ZTpudWxsLG1hcFZhbHVlVG9WaXN1YWw6bnVsbCxnZXROb3JtYWxpemVyOmZ1bmN0aW9uKCl7cmV0dXJuIGMuYmluZCh0aGlzLl9ub3JtYWxpemVEYXRhLHRoaXMpfX07dmFyIHk9di52aXN1YWxIYW5kbGVycz17Y29sb3I6e2FwcGx5VmlzdWFsOmwsZ2V0Q29sb3JNYXBwZXI6ZnVuY3Rpb24oKXt2YXIgdD11KHRoaXMpP3RoaXMub3B0aW9uLnZpc3VhbDpjLm1hcCh0aGlzLm9wdGlvbi52aXN1YWwsZC5wYXJzZSk7cmV0dXJuIGMuYmluZCh1KHRoaXMpP2Z1bmN0aW9uKGUsaSl7cmV0dXJuIWkmJihlPXRoaXMuX25vcm1hbGl6ZURhdGEoZSkpLGgodGhpcyx0LGUpfTpmdW5jdGlvbihlLGksbil7dmFyIG89ISFuO3JldHVybiFpJiYoZT10aGlzLl9ub3JtYWxpemVEYXRhKGUpKSxuPWQuZmFzdE1hcFRvQ29sb3IoZSx0LG4pLG8/bjpjLnN0cmluZ2lmeShuLFwicmdiYVwiKX0sdGhpcyl9LG1hcFZhbHVlVG9WaXN1YWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsLGk9dGhpcy5fbm9ybWFsaXplRGF0YSh0KSxuPXRoaXMuX2dldFNwZWNpZmllZFZpc3VhbCh0KTtyZXR1cm4gbnVsbD09biYmKG49dSh0aGlzKT9oKHRoaXMsZSxpKTpkLm1hcFRvQ29sb3IoaSxlKSksbn19LGNvbG9ySHVlOnIoZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5tb2RpZnlIU0wodCxlKX0pLGNvbG9yU2F0dXJhdGlvbjpyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGQubW9kaWZ5SFNMKHQsbnVsbCxlKX0pLGNvbG9yTGlnaHRuZXNzOnIoZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5tb2RpZnlIU0wodCxudWxsLG51bGwsZSl9KSxjb2xvckFscGhhOnIoZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5tb2RpZnlBbHBoYSh0LGUpfSksb3BhY2l0eTp7YXBwbHlWaXN1YWw6ZnVuY3Rpb24odCxlLGkpe2koXCJvcGFjaXR5XCIsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKHQpKX0sbWFwVmFsdWVUb1Zpc3VhbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9ub3JtYWxpemVEYXRhKHQpLGk9dGhpcy5fZ2V0U3BlY2lmaWVkVmlzdWFsKHQpLG49dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBudWxsPT1pJiYoaT11KHRoaXMpP2godGhpcyxuLGUpOmYoZSxbMCwxXSxuLCEwKSksaX19LHN5bWJvbDp7YXBwbHlWaXN1YWw6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMubWFwVmFsdWVUb1Zpc3VhbCh0KTtpZihjLmlzU3RyaW5nKG4pKWkoXCJzeW1ib2xcIixuKTtlbHNlIGlmKGcobikpZm9yKHZhciBvIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShvKSYmaShvLG5bb10pfSxtYXBWYWx1ZVRvVmlzdWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX25vcm1hbGl6ZURhdGEodCksaT10aGlzLl9nZXRTcGVjaWZpZWRWaXN1YWwodCksbj10aGlzLm9wdGlvbi52aXN1YWw7cmV0dXJuIG51bGw9PWkmJihpPXUodGhpcyk/aCh0aGlzLG4sZSk6cyhuLGUpfHx7fSksaX19LHN5bWJvbFNpemU6e2FwcGx5VmlzdWFsOmZ1bmN0aW9uKHQsZSxpKXtpKFwic3ltYm9sU2l6ZVwiLHRoaXMubWFwVmFsdWVUb1Zpc3VhbCh0KSl9LG1hcFZhbHVlVG9WaXN1YWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbm9ybWFsaXplRGF0YSh0KSxpPXRoaXMuX2dldFNwZWNpZmllZFZpc3VhbCh0KSxuPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gbnVsbD09aSYmKGk9dSh0aGlzKT9oKHRoaXMsbixlKTpmKGUsWzAsMV0sbiwhMCkpLGl9fX0seD17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQsdGhpcy5vcHRpb24uZGF0YUV4dGVudCxbMCwxXSwhMCl9LHBpZWNld2lzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5waWVjZUxpc3QsaT12LmZpbmRQaWVjZUluZGV4KHQsZSk7cmV0dXJuIG51bGwhPWk/ZihpLFswLGUubGVuZ3RoLTFdLFswLDFdLCEwKTp2b2lkIDB9LGNhdGVnb3J5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmNhdGVnb3JpZXM/dGhpcy5vcHRpb24uY2F0ZWdvcnlNYXBbdF06dDtyZXR1cm4gbnVsbD09ZT9tOmV9fSxfPXtsaW5lYXI6Yy5ub29wLHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49aS5waWVjZUxpc3Q7aWYoaS5oYXNTcGVjaWFsVmlzdWFsKXt2YXIgbz12LmZpbmRQaWVjZUluZGV4KGUsbiksYT1uW29dO2lmKGEmJmEudmlzdWFsKXJldHVybiBhLnZpc3VhbFt0XX19LGNhdGVnb3J5OmMubm9vcH07di5hZGRWaXN1YWxIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7eVt0XT1lfSx2LmlzVmFsaWRUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiB5Lmhhc093blByb3BlcnR5KHQpfSx2LmVhY2hWaXN1YWw9ZnVuY3Rpb24odCxlLGkpe2MuaXNPYmplY3QodCk/Yy5lYWNoKHQsZSxpKTplLmNhbGwoaSx0KX0sdi5tYXBWaXN1YWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG89Yy5pc0FycmF5KHQpP1tdOmMuaXNPYmplY3QodCk/e306KG49ITAsbnVsbCk7cmV0dXJuIHYuZWFjaFZpc3VhbCh0LGZ1bmN0aW9uKHQsYSl7dmFyIHI9ZS5jYWxsKGksdCxhKTtuP289cjpvW2FdPXJ9KSxvfSx2LnJldHJpZXZlVmlzdWFscz1mdW5jdGlvbih0KXt2YXIgZSxpPXt9O3JldHVybiB0JiZwKHksZnVuY3Rpb24obixvKXt0Lmhhc093blByb3BlcnR5KG8pJiYoaVtvXT10W29dLGU9ITApfSksZT9pOm51bGx9LHYucHJlcGFyZVZpc3VhbFR5cGVzPWZ1bmN0aW9uKHQpe2lmKGcodCkpe3ZhciBlPVtdO3AodCxmdW5jdGlvbih0LGkpe2UucHVzaChpKX0pLHQ9ZX1lbHNle2lmKCFjLmlzQXJyYXkodCkpcmV0dXJuW107dD10LnNsaWNlKCl9cmV0dXJuIHQuc29ydChmdW5jdGlvbih0LGUpe3JldHVyblwiY29sb3JcIj09PWUmJlwiY29sb3JcIiE9PXQmJjA9PT10LmluZGV4T2YoXCJjb2xvclwiKT8xOi0xfSksdH0sdi5kZXBlbmRzT249ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbG9yXCI9PT1lPyEoIXR8fDAhPT10LmluZGV4T2YoZSkpOnQ9PT1lfSx2LmZpbmRQaWVjZUluZGV4PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTAsbj1lLmxlbmd0aDtuPmk7aSsrKXt2YXIgbz1lW2ldO2lmKG51bGwhPW8udmFsdWUmJm8udmFsdWU9PT10KXJldHVybiBpfWZvcih2YXIgaT0wLG49ZS5sZW5ndGg7bj5pO2krKyl7dmFyIG89ZVtpXSxhPW8uaW50ZXJ2YWw7aWYoYSlpZihhWzBdPT09LSgxLzApKXtpZih0PGFbMV0pcmV0dXJuIGl9ZWxzZSBpZihhWzFdPT09MS8wKXtpZihhWzBdPHQpcmV0dXJuIGl9ZWxzZSBpZihvLmludGVydmFsWzBdPD10JiZ0PD1vLmludGVydmFsWzFdKXJldHVybiBpfX0sdC5leHBvcnRzPXZ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDE3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7dmFyIG89W2UsXCJub3JtYWxcIixcImNvbG9yXCJdLGE9aS5nZXQoXCJjb2xvclwiKSxyPXQuZ2V0RGF0YSgpLHM9dC5nZXQobyl8fGFbdC5zZXJpZXNJbmRleCVhLmxlbmd0aF07ci5zZXRWaXN1YWwoXCJjb2xvclwiLHMpLGkuaXNTZXJpZXNGaWx0ZXJlZCh0KXx8KFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN8fHMgaW5zdGFuY2VvZiBufHxyLmVhY2goZnVuY3Rpb24oZSl7ci5zZXRJdGVtVmlzdWFsKGUsXCJjb2xvclwiLHModC5nZXREYXRhUGFyYW1zKGUpKSl9KSxyLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtTW9kZWwodCksaT1lLmdldChvLCEwKTtudWxsIT1pJiZyLnNldEl0ZW1WaXN1YWwodCxcImNvbG9yXCIsaSl9KSl9dD9pLmVhY2hTZXJpZXNCeVR5cGUodCxvKTppLmVhY2hTZXJpZXMobyl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSxuLG8sYSl7aWYoYT5lJiZhPm58fGU+YSYmbj5hKXJldHVybiAwO2lmKG49PT1lKXJldHVybiAwO3ZhciByPWU+bj8xOi0xLHM9KGEtZSkvKG4tZSksbD1zKihpLXQpK3Q7cmV0dXJuIGw+bz9yOjB9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxvPWkoMTcpLGE9ZnVuY3Rpb24odCxlLGksbixhKXt0aGlzLng9bnVsbD09dD8wOnQsdGhpcy55PW51bGw9PWU/MDplLHRoaXMueDI9bnVsbD09aT8xOmksdGhpcy55Mj1udWxsPT1uPzA6bixvLmNhbGwodGhpcyxhKX07YS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmEsdHlwZTpcImxpbmVhclwifSxuLmluaGVyaXRzKGEsbyksdC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0PnN8fC1zPnR9dmFyIG89aSgxOSksYT1pKDUpLHI9by5pZGVudGl0eSxzPTVlLTUsbD1mdW5jdGlvbih0KXt0PXR8fHt9LHQucG9zaXRpb258fCh0aGlzLnBvc2l0aW9uPVswLDBdKSxudWxsPT10LnJvdGF0aW9uJiYodGhpcy5yb3RhdGlvbj0wKSx0LnNjYWxlfHwodGhpcy5zY2FsZT1bMSwxXSksdGhpcy5vcmlnaW49dGhpcy5vcmlnaW58fG51bGx9LGg9bC5wcm90b3R5cGU7aC50cmFuc2Zvcm09bnVsbCxoLm5lZWRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMucm90YXRpb24pfHxuKHRoaXMucG9zaXRpb25bMF0pfHxuKHRoaXMucG9zaXRpb25bMV0pfHxuKHRoaXMuc2NhbGVbMF0tMSl8fG4odGhpcy5zY2FsZVsxXS0xKX0saC51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCxlPXQmJnQudHJhbnNmb3JtLGk9dGhpcy5uZWVkTG9jYWxUcmFuc2Zvcm0oKSxuPXRoaXMudHJhbnNmb3JtO3JldHVybiBpfHxlPyhuPW58fG8uY3JlYXRlKCksaT90aGlzLmdldExvY2FsVHJhbnNmb3JtKG4pOnIobiksZSYmKGk/by5tdWwobix0LnRyYW5zZm9ybSxuKTpvLmNvcHkobix0LnRyYW5zZm9ybSkpLHRoaXMudHJhbnNmb3JtPW4sdGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fG8uY3JlYXRlKCksdm9pZCBvLmludmVydCh0aGlzLmludlRyYW5zZm9ybSxuKSk6dm9pZChuJiZyKG4pKX0saC5nZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0KXt0PXR8fFtdLHIodCk7dmFyIGU9dGhpcy5vcmlnaW4saT10aGlzLnNjYWxlLG49dGhpcy5yb3RhdGlvbixhPXRoaXMucG9zaXRpb247cmV0dXJuIGUmJih0WzRdLT1lWzBdLHRbNV0tPWVbMV0pLG8uc2NhbGUodCx0LGkpLG4mJm8ucm90YXRlKHQsdCxuKSxlJiYodFs0XSs9ZVswXSx0WzVdKz1lWzFdKSx0WzRdKz1hWzBdLHRbNV0rPWFbMV0sdH0saC5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50cmFuc2Zvcm07ZSYmdC50cmFuc2Zvcm0oZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0pfTt2YXIgdT1bXTtoLmRlY29tcG9zZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMudHJhbnNmb3JtKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMudHJhbnNmb3JtO3QmJnQudHJhbnNmb3JtJiYoby5tdWwodSx0LmludlRyYW5zZm9ybSxlKSxlPXUpO3ZhciBpPWVbMF0qZVswXStlWzFdKmVbMV0sYT1lWzJdKmVbMl0rZVszXSplWzNdLHI9dGhpcy5wb3NpdGlvbixzPXRoaXMuc2NhbGU7bihpLTEpJiYoaT1NYXRoLnNxcnQoaSkpLG4oYS0xKSYmKGE9TWF0aC5zcXJ0KGEpKSxlWzBdPDAmJihpPS1pKSxlWzNdPDAmJihhPS1hKSxyWzBdPWVbNF0sclsxXT1lWzVdLHNbMF09aSxzWzFdPWEsdGhpcy5yb3RhdGlvbj1NYXRoLmF0YW4yKC1lWzFdL2EsZVswXS9pKX19LGguZ2V0R2xvYmFsU2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYW5zZm9ybTtpZighdClyZXR1cm5bMSwxXTt2YXIgZT1NYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSksaT1NYXRoLnNxcnQodFsyXSp0WzJdK3RbM10qdFszXSk7cmV0dXJuIHRbMF08MCYmKGU9LWUpLHRbM108MCYmKGk9LWkpLFtlLGldfSxoLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbD1mdW5jdGlvbih0LGUpe3ZhciBpPVt0LGVdLG49dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIG4mJmEuYXBwbHlUcmFuc2Zvcm0oaSxpLG4pLGl9LGgudHJhbnNmb3JtQ29vcmRUb0dsb2JhbD1mdW5jdGlvbih0LGUpe3ZhciBpPVt0LGVdLG49dGhpcy50cmFuc2Zvcm07cmV0dXJuIG4mJmEuYXBwbHlUcmFuc2Zvcm0oaSxpLG4pLGl9LHQuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtvLmVhY2goYSxmdW5jdGlvbihlKXt0aGlzW2VdPW8uYmluZCh0W2VdLHQpfSx0aGlzKX12YXIgbz1pKDEpLGE9W1wiZ2V0RG9tXCIsXCJnZXRaclwiLFwiZ2V0V2lkdGhcIixcImdldEhlaWdodFwiLFwiZGlzcGF0Y2hBY3Rpb25cIixcIm9uXCIsXCJvZmZcIixcImdldERhdGFVUkxcIixcImdldENvbm5lY3RlZERhdGFVUkxcIixcImdldE1vZGVsXCIsXCJnZXRPcHRpb25cIl07dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO2koNTIpLGkoODApLGkoODEpO3ZhciBvPWkoMTA5KSxhPWkoMik7YS5yZWdpc3RlckxheW91dChuLmN1cnJ5KG8sXCJiYXJcIikpLGEucmVnaXN0ZXJWaXN1YWxDb2RpbmcoXCJjaGFydFwiLGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZShcImJhclwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpO2Uuc2V0VmlzdWFsKFwibGVnZW5kU3ltYm9sXCIsXCJyb3VuZFJlY3RcIil9KX0pLGkoMzYpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxMyksbz1pKDM1KTt0LmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJzZXJpZXMuYmFyXCIsZGVwZW5kZW5jaWVzOltcImdyaWRcIixcInBvbGFyXCJdLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odC5kYXRhLHRoaXMsZSl9LGdldE1hcmtlclBvc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtpZihlKXt2YXIgaT1lLmRhdGFUb1BvaW50KHQpLG49dGhpcy5nZXREYXRhKCksbz1uLmdldExheW91dChcIm9mZnNldFwiKSxhPW4uZ2V0TGF5b3V0KFwic2l6ZVwiKSxyPWUuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKT8wOjE7cmV0dXJuIGlbcl0rPW8rYS8yLGl9cmV0dXJuW05hTixOYU5dfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbTpcImNhcnRlc2lhbjJkXCIsbGVnZW5kSG92ZXJMaW5rOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsYmFyTWluSGVpZ2h0OjAsaXRlbVN0eWxlOntub3JtYWw6e2JhckJvcmRlckNvbG9yOlwiI2ZmZlwiLGJhckJvcmRlcldpZHRoOjB9LGVtcGhhc2lzOntiYXJCb3JkZXJDb2xvcjpcIiNmZmZcIixiYXJCb3JkZXJXaWR0aDowfX19fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9dC53aWR0aD4wPzE6LTEsbj10LmhlaWdodD4wPzE6LTE7ZT1NYXRoLm1pbihlLE1hdGguYWJzKHQud2lkdGgpLE1hdGguYWJzKHQuaGVpZ2h0KSksdC54Kz1pKmUvMix0LnkrPW4qZS8yLHQud2lkdGgtPWkqZSx0LmhlaWdodC09biplfXZhciBvPWkoMSksYT1pKDMpO28uZXh0ZW5kKGkoMTIpLnByb3RvdHlwZSxpKDgyKSksdC5leHBvcnRzPWkoMikuZXh0ZW5kQ2hhcnRWaWV3KHt0eXBlOlwiYmFyXCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIik7cmV0dXJuXCJjYXJ0ZXNpYW4yZFwiPT09biYmdGhpcy5fcmVuZGVyT25DYXJ0ZXNpYW4odCxlLGkpLHRoaXMuZ3JvdXB9LF9yZW5kZXJPbkNhcnRlc2lhbjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gcihlLGkpe3ZhciByPWwuZ2V0SXRlbUxheW91dChlKSxzPWwuZ2V0SXRlbU1vZGVsKGUpLmdldChwKXx8MDtuKHIscyk7dmFyIGg9bmV3IGEuUmVjdCh7c2hhcGU6by5leHRlbmQoe30scil9KTtpZihmKXt2YXIgdT1oLnNoYXBlLGM9ZD9cImhlaWdodFwiOlwid2lkdGhcIixnPXt9O3VbY109MCxnW2NdPXJbY10sYVtpP1widXBkYXRlUHJvcHNcIjpcImluaXRQcm9wc1wiXShoLHtzaGFwZTpnfSx0LGUpfXJldHVybiBofXZhciBzPXRoaXMuZ3JvdXAsbD10LmdldERhdGEoKSxoPXRoaXMuX2RhdGEsdT10LmNvb3JkaW5hdGVTeXN0ZW0sYz11LmdldEJhc2VBeGlzKCksZD1jLmlzSG9yaXpvbnRhbCgpLGY9dC5nZXQoXCJhbmltYXRpb25cIikscD1bXCJpdGVtU3R5bGVcIixcIm5vcm1hbFwiLFwiYmFyQm9yZGVyV2lkdGhcIl07bC5kaWZmKGgpLmFkZChmdW5jdGlvbih0KXtpZihsLmhhc1ZhbHVlKHQpKXt2YXIgZT1yKHQpO2wuc2V0SXRlbUdyYXBoaWNFbCh0LGUpLHMuYWRkKGUpfX0pLnVwZGF0ZShmdW5jdGlvbihlLGkpe3ZhciBvPWguZ2V0SXRlbUdyYXBoaWNFbChpKTtpZighbC5oYXNWYWx1ZShlKSlyZXR1cm4gdm9pZCBzLnJlbW92ZShvKTtvfHwobz1yKGUsITApKTt2YXIgdT1sLmdldEl0ZW1MYXlvdXQoZSksYz1sLmdldEl0ZW1Nb2RlbChlKS5nZXQocCl8fDA7bih1LGMpLGEudXBkYXRlUHJvcHMobyx7c2hhcGU6dX0sdCxlKSxsLnNldEl0ZW1HcmFwaGljRWwoZSxvKSxzLmFkZChvKX0pLnJlbW92ZShmdW5jdGlvbihlKXt2YXIgaT1oLmdldEl0ZW1HcmFwaGljRWwoZSk7aSYmKGkuc3R5bGUudGV4dD1cIlwiLGEudXBkYXRlUHJvcHMoaSx7c2hhcGU6e3dpZHRoOjB9fSx0LGUsZnVuY3Rpb24oKXtzLnJlbW92ZShpKX0pKX0pLmV4ZWN1dGUoKSx0aGlzLl91cGRhdGVTdHlsZSh0LGwsZCksdGhpcy5fZGF0YT1sfSxfdXBkYXRlU3R5bGU6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGksbixvKXthLnNldFRleHQodCxlLGkpLHQudGV4dD1uLFwib3V0c2lkZVwiPT09dC50ZXh0UG9zaXRpb24mJih0LnRleHRQb3NpdGlvbj1vKX1lLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHIscyl7dmFyIGw9ZS5nZXRJdGVtTW9kZWwocyksaD1lLmdldEl0ZW1WaXN1YWwocyxcImNvbG9yXCIpLHU9ZS5nZXRJdGVtVmlzdWFsKHMsXCJvcGFjaXR5XCIpLGM9ZS5nZXRJdGVtTGF5b3V0KHMpLGQ9bC5nZXRNb2RlbChcIml0ZW1TdHlsZS5ub3JtYWxcIiksZj1sLmdldE1vZGVsKFwiaXRlbVN0eWxlLmVtcGhhc2lzXCIpLmdldEJhckl0ZW1TdHlsZSgpO3Iuc2V0U2hhcGUoXCJyXCIsZC5nZXQoXCJiYXJCb3JkZXJSYWRpdXNcIil8fDApLHIudXNlU3R5bGUoby5kZWZhdWx0cyh7ZmlsbDpoLG9wYWNpdHk6dX0sZC5nZXRCYXJJdGVtU3R5bGUoKSkpO3ZhciBwPWk/Yy5oZWlnaHQ+MD9cImJvdHRvbVwiOlwidG9wXCI6Yy53aWR0aD4wP1wibGVmdFwiOlwicmlnaHRcIixnPWwuZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWxcIiksbT1sLmdldE1vZGVsKFwibGFiZWwuZW1waGFzaXNcIiksdj1yLnN0eWxlO2cuZ2V0KFwic2hvd1wiKT9uKHYsZyxoLG8ucmV0cmlldmUodC5nZXRGb3JtYXR0ZWRMYWJlbChzLFwibm9ybWFsXCIpLHQuZ2V0UmF3VmFsdWUocykpLHApOnYudGV4dD1cIlwiLG0uZ2V0KFwic2hvd1wiKT9uKGYsbSxoLG8ucmV0cmlldmUodC5nZXRGb3JtYXR0ZWRMYWJlbChzLFwiZW1waGFzaXNcIiksdC5nZXRSYXdWYWx1ZShzKSkscCk6Zi50ZXh0PVwiXCIsYS5zZXRIb3ZlclN0eWxlKHIsZil9KX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5ncm91cDt0LmdldChcImFuaW1hdGlvblwiKT90aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUpe2Uuc3R5bGUudGV4dD1cIlwiLGEudXBkYXRlUHJvcHMoZSx7c2hhcGU6e3dpZHRoOjB9fSx0LGUuZGF0YUluZGV4LGZ1bmN0aW9uKCl7aS5yZW1vdmUoZSl9KX0pOmkucmVtb3ZlQWxsKCl9fSl9LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9e2dldEJhckl0ZW1TdHlsZTppKDMwKShbW1wiZmlsbFwiLFwiY29sb3JcIl0sW1wic3Ryb2tlXCIsXCJib3JkZXJDb2xvclwiXSxbXCJsaW5lV2lkdGhcIixcImJvcmRlcldpZHRoXCJdLFtcInN0cm9rZVwiLFwiYmFyQm9yZGVyQ29sb3JcIl0sW1wibGluZVdpZHRoXCIsXCJiYXJCb3JkZXJXaWR0aFwiXSxbXCJvcGFjaXR5XCJdLFtcInNoYWRvd0JsdXJcIl0sW1wic2hhZG93T2Zmc2V0WFwiXSxbXCJzaGFkb3dPZmZzZXRZXCJdLFtcInNoYWRvd0NvbG9yXCJdXSl9fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXtyZXR1cm5cIl9cIit0K1wiVHlwZVwifWZ1bmN0aW9uIG8odCxlLGkpe3ZhciBuPWUuZ2V0SXRlbVZpc3VhbChpLFwiY29sb3JcIiksbz1lLmdldEl0ZW1WaXN1YWwoaSx0KSxhPWUuZ2V0SXRlbVZpc3VhbChpLHQrXCJTaXplXCIpO2lmKG8mJlwibm9uZVwiIT09byl7Zi5pc0FycmF5KGEpfHwoYT1bYSxhXSk7dmFyIHI9aC5jcmVhdGVTeW1ib2wobywtYVswXS8yLC1hWzFdLzIsYVswXSxhWzFdLG4pO3JldHVybiByLm5hbWU9dCxyfX1mdW5jdGlvbiBhKHQpe3ZhciBlPW5ldyBjKHtuYW1lOlwibGluZVwifSk7cmV0dXJuIHIoZS5zaGFwZSx0KSxlfWZ1bmN0aW9uIHIodCxlKXt2YXIgaT1lWzBdLG49ZVsxXSxvPWVbMl07dC54MT1pWzBdLHQueTE9aVsxXSx0LngyPW5bMF0sdC55Mj1uWzFdLHQucGVyY2VudD0xLG8mJih0LmNweDE9b1swXSx0LmNweTE9b1sxXSl9ZnVuY3Rpb24gcygpe3ZhciB0PXRoaXMsZT10LmNoaWxkT2ZOYW1lKFwiZnJvbVN5bWJvbFwiKSxpPXQuY2hpbGRPZk5hbWUoXCJ0b1N5bWJvbFwiKSxuPXQuY2hpbGRPZk5hbWUoXCJsYWJlbFwiKTtpZihlfHxpfHwhbi5pZ25vcmUpe2Zvcih2YXIgbz0xLGE9dGhpcy5wYXJlbnQ7YTspYS5zY2FsZSYmKG8vPWEuc2NhbGVbMF0pLGE9YS5wYXJlbnQ7dmFyIHI9dC5jaGlsZE9mTmFtZShcImxpbmVcIik7aWYodGhpcy5fX2RpcnR5fHxyLl9fZGlydHkpe3ZhciBzPXIuc2hhcGUucGVyY2VudCxsPXIucG9pbnRBdCgwKSxoPXIucG9pbnRBdChzKSxjPXUuc3ViKFtdLGgsbCk7aWYodS5ub3JtYWxpemUoYyxjKSxlKXtlLmF0dHIoXCJwb3NpdGlvblwiLGwpO3ZhciBkPXIudGFuZ2VudEF0KDApO2UuYXR0cihcInJvdGF0aW9uXCIsTWF0aC5QSS8yLU1hdGguYXRhbjIoZFsxXSxkWzBdKSksZS5hdHRyKFwic2NhbGVcIixbbypzLG8qc10pfWlmKGkpe2kuYXR0cihcInBvc2l0aW9uXCIsaCk7dmFyIGQ9ci50YW5nZW50QXQoMSk7aS5hdHRyKFwicm90YXRpb25cIiwtTWF0aC5QSS8yLU1hdGguYXRhbjIoZFsxXSxkWzBdKSksaS5hdHRyKFwic2NhbGVcIixbbypzLG8qc10pfWlmKCFuLmlnbm9yZSl7bi5hdHRyKFwicG9zaXRpb25cIixoKTt2YXIgZixwLGcsbT01Km87aWYoXCJlbmRcIj09PW4uX19wb3NpdGlvbilmPVtjWzBdKm0raFswXSxjWzFdKm0raFsxXV0scD1jWzBdPi44P1wibGVmdFwiOmNbMF08LS44P1wicmlnaHRcIjpcImNlbnRlclwiLGc9Y1sxXT4uOD9cInRvcFwiOmNbMV08LS44P1wiYm90dG9tXCI6XCJtaWRkbGVcIjtlbHNlIGlmKFwibWlkZGxlXCI9PT1uLl9fcG9zaXRpb24pe3ZhciB2PXMvMixkPXIudGFuZ2VudEF0KHYpLHk9W2RbMV0sLWRbMF1dLHg9ci5wb2ludEF0KHYpO3lbMV0+MCYmKHlbMF09LXlbMF0seVsxXT0teVsxXSksZj1beFswXSt5WzBdKm0seFsxXSt5WzFdKm1dLHA9XCJjZW50ZXJcIixnPVwiYm90dG9tXCI7dmFyIF89LU1hdGguYXRhbjIoZFsxXSxkWzBdKTtoWzBdPGxbMF0mJihfPU1hdGguUEkrXyksbi5hdHRyKFwicm90YXRpb25cIixfKX1lbHNlIGY9Wy1jWzBdKm0rbFswXSwtY1sxXSptK2xbMV1dLHA9Y1swXT4uOD9cInJpZ2h0XCI6Y1swXTwtLjg/XCJsZWZ0XCI6XCJjZW50ZXJcIixnPWNbMV0+Ljg/XCJib3R0b21cIjpjWzFdPC0uOD9cInRvcFwiOlwibWlkZGxlXCI7bi5hdHRyKHtzdHlsZTp7dGV4dFZlcnRpY2FsQWxpZ246bi5fX3ZlcnRpY2FsQWxpZ258fGcsdGV4dEFsaWduOm4uX190ZXh0QWxpZ258fHB9LHBvc2l0aW9uOmYsc2NhbGU6W28sb119KX19fX1mdW5jdGlvbiBsKHQsZSl7ZC5Hcm91cC5jYWxsKHRoaXMpLHRoaXMuX2NyZWF0ZUxpbmUodCxlKX12YXIgaD1pKDI1KSx1PWkoNSksYz1pKDE2NCksZD1pKDMpLGY9aSgxKSxwPWkoNCksZz1bXCJmcm9tU3ltYm9sXCIsXCJ0b1N5bWJvbFwiXSxtPWwucHJvdG90eXBlO20uYmVmb3JlVXBkYXRlPXMsbS5fY3JlYXRlTGluZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuaG9zdE1vZGVsLHI9dC5nZXRJdGVtTGF5b3V0KGUpLHM9YShyKTtzLnNoYXBlLnBlcmNlbnQ9MCxkLmluaXRQcm9wcyhzLHtzaGFwZTp7cGVyY2VudDoxfX0saSxlKSx0aGlzLmFkZChzKTt2YXIgbD1uZXcgZC5UZXh0KHtuYW1lOlwibGFiZWxcIn0pO3RoaXMuYWRkKGwpLGYuZWFjaChnLGZ1bmN0aW9uKGkpe3ZhciBhPW8oaSx0LGUpO3RoaXMuYWRkKGEpLHRoaXNbbihpKV09dC5nZXRJdGVtVmlzdWFsKGUsaSl9LHRoaXMpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUpfSxtLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmhvc3RNb2RlbCxhPXRoaXMuY2hpbGRPZk5hbWUoXCJsaW5lXCIpLHM9dC5nZXRJdGVtTGF5b3V0KGUpLGw9e3NoYXBlOnt9fTtyKGwuc2hhcGUscyksZC51cGRhdGVQcm9wcyhhLGwsaSxlKSxmLmVhY2goZyxmdW5jdGlvbihpKXt2YXIgYT10LmdldEl0ZW1WaXN1YWwoZSxpKSxyPW4oaSk7aWYodGhpc1tyXSE9PWEpe3ZhciBzPW8oaSx0LGUpO3RoaXMucmVtb3ZlKHRoaXMuY2hpbGRPZk5hbWUoaSkpLHRoaXMuYWRkKHMpfXRoaXNbcl09YX0sdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSl9LG0uX3VwZGF0ZUNvbW1vblN0bD1mdW5jdGlvbih0LGUpe3ZhciBpPXQuaG9zdE1vZGVsLG49dGhpcy5jaGlsZE9mTmFtZShcImxpbmVcIiksbz10LmdldEl0ZW1Nb2RlbChlKSxhPW8uZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWxcIikscj1hLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLHM9by5nZXRNb2RlbChcImxhYmVsLmVtcGhhc2lzXCIpLGw9cy5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxoPXAucm91bmQoaS5nZXRSYXdWYWx1ZShlKSk7aXNOYU4oaCkmJihoPXQuZ2V0TmFtZShlKSksbi51c2VTdHlsZShmLmV4dGVuZCh7c3Ryb2tlTm9TY2FsZTohMCxmaWxsOlwibm9uZVwiLHN0cm9rZTp0LmdldEl0ZW1WaXN1YWwoZSxcImNvbG9yXCIpfSxvLmdldE1vZGVsKFwibGluZVN0eWxlLm5vcm1hbFwiKS5nZXRMaW5lU3R5bGUoKSkpLG4uaG92ZXJTdHlsZT1vLmdldE1vZGVsKFwibGluZVN0eWxlLmVtcGhhc2lzXCIpLmdldExpbmVTdHlsZSgpO3ZhciB1PXQuZ2V0SXRlbVZpc3VhbChlLFwiY29sb3JcIil8fFwiIzAwMFwiLGM9dGhpcy5jaGlsZE9mTmFtZShcImxhYmVsXCIpO2Muc2V0U3R5bGUoe3RleHQ6YS5nZXQoXCJzaG93XCIpP2YucmV0cmlldmUoaS5nZXRGb3JtYXR0ZWRMYWJlbChlLFwibm9ybWFsXCIsdC5kYXRhVHlwZSksaCk6XCJcIix0ZXh0Rm9udDpyLmdldEZvbnQoKSxmaWxsOnIuZ2V0VGV4dENvbG9yKCl8fHV9KSxjLmhvdmVyU3R5bGU9e3RleHQ6cy5nZXQoXCJzaG93XCIpP2YucmV0cmlldmUoaS5nZXRGb3JtYXR0ZWRMYWJlbChlLFwiZW1waGFzaXNcIix0LmRhdGFUeXBlKSxoKTpcIlwiLHRleHRGb250OmwuZ2V0Rm9udCgpLGZpbGw6bC5nZXRUZXh0Q29sb3IoKXx8dX0sYy5fX3RleHRBbGlnbj1yLmdldChcImFsaWduXCIpLGMuX192ZXJ0aWNhbEFsaWduPXIuZ2V0KFwiYmFzZWxpbmVcIiksYy5fX3Bvc2l0aW9uPWEuZ2V0KFwicG9zaXRpb25cIiksYy5pZ25vcmU9IWMuc3R5bGUudGV4dCYmIWMuaG92ZXJTdHlsZS50ZXh0LGQuc2V0SG92ZXJTdHlsZSh0aGlzKX0sbS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEl0ZW1MYXlvdXQoZSksbj10aGlzLmNoaWxkT2ZOYW1lKFwibGluZVwiKTtyKG4uc2hhcGUsaSksbi5kaXJ0eSghMCl9LG0uc2V0TGluZVBvaW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkT2ZOYW1lKFwibGluZVwiKTtyKGUuc2hhcGUsdCksZS5kaXJ0eSgpfSxmLmluaGVyaXRzKGwsZC5Hcm91cCksdC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiBpc05hTih0WzBdKXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4hbih0WzBdKSYmIW4odFsxXSl9ZnVuY3Rpb24gYSh0KXt0aGlzLl9jdG9yPXR8fHMsdGhpcy5ncm91cD1uZXcgci5Hcm91cH12YXIgcj1pKDMpLHM9aSg4MyksbD1hLnByb3RvdHlwZTtsLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGluZURhdGEsaT10aGlzLmdyb3VwLG49dGhpcy5fY3Rvcjt0LmRpZmYoZSkuYWRkKGZ1bmN0aW9uKGUpe2lmKG8odC5nZXRJdGVtTGF5b3V0KGUpKSl7dmFyIGE9bmV3IG4odCxlKTt0LnNldEl0ZW1HcmFwaGljRWwoZSxhKSxpLmFkZChhKX19KS51cGRhdGUoZnVuY3Rpb24oYSxyKXt2YXIgcz1lLmdldEl0ZW1HcmFwaGljRWwocik7cmV0dXJuIG8odC5nZXRJdGVtTGF5b3V0KGEpKT8ocz9zLnVwZGF0ZURhdGEodCxhKTpzPW5ldyBuKHQsYSksdC5zZXRJdGVtR3JhcGhpY0VsKGEscyksdm9pZCBpLmFkZChzKSk6dm9pZCBpLnJlbW92ZShzKX0pLnJlbW92ZShmdW5jdGlvbih0KXtpLnJlbW92ZShlLmdldEl0ZW1HcmFwaGljRWwodCkpfSkuZXhlY3V0ZSgpLHRoaXMuX2xpbmVEYXRhPXR9LGwudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGluZURhdGE7dC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbihlLGkpe2UudXBkYXRlTGF5b3V0KHQsaSl9LHRoaXMpfSxsLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LHQuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPWkoMik7aSg4NiksaSg4Nyksby5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsbi5jdXJyeShpKDQ0KSxcImxpbmVcIixcImNpcmNsZVwiLFwibGluZVwiKSksby5yZWdpc3RlckxheW91dChuLmN1cnJ5KGkoNTMpLFwibGluZVwiKSksby5yZWdpc3RlclByb2Nlc3NvcihcInN0YXRpc3RpY1wiLG4uY3VycnkoaSgxMjEpLFwibGluZVwiKSksaSgzNil9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDM1KSxvPWkoMTMpO3QuZXhwb3J0cz1vLmV4dGVuZCh7dHlwZTpcInNlcmllcy5saW5lXCIsZGVwZW5kZW5jaWVzOltcImdyaWRcIixcInBvbGFyXCJdLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odC5kYXRhLHRoaXMsZSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwiY2FydGVzaWFuMmRcIixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAseEF4aXNJbmRleDowLHlBeGlzSW5kZXg6MCxwb2xhckluZGV4OjAsY2xpcE92ZXJmbG93OiEwLGxhYmVsOntub3JtYWw6e3Bvc2l0aW9uOlwidG9wXCJ9fSxsaW5lU3R5bGU6e25vcm1hbDp7d2lkdGg6Mix0eXBlOlwic29saWRcIn19LHNtb290aDohMSxzbW9vdGhNb25vdG9uZTpudWxsLHN5bWJvbDpcImVtcHR5Q2lyY2xlXCIsc3ltYm9sU2l6ZTo0LHN5bWJvbFJvdGF0ZTpudWxsLHNob3dTeW1ib2w6ITAsc2hvd0FsbFN5bWJvbDohMSxjb25uZWN0TnVsbHM6ITEsc2FtcGxpbmc6XCJub25lXCIsYW5pbWF0aW9uRWFzaW5nOlwibGluZWFyXCJ9fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYodC5sZW5ndGg9PT1lLmxlbmd0aCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV0sbz1lW2ldO2lmKG5bMF0hPT1vWzBdfHxuWzFdIT09b1sxXSlyZXR1cm59cmV0dXJuITB9fWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dDp0Py4zOjB9ZnVuY3Rpb24gYSh0KXt2YXIgZT10LmdldEdsb2JhbEV4dGVudCgpO2lmKHQub25CYW5kKXt2YXIgaT10LmdldEJhbmRXaWR0aCgpLzItMSxuPWVbMV0+ZVswXT8xOi0xO2VbMF0rPW4qaSxlWzFdLT1uKml9cmV0dXJuIGV9ZnVuY3Rpb24gcih0KXtyZXR1cm4gdD49MD8xOi0xfWZ1bmN0aW9uIHModCxlKXt2YXIgaT10LmdldEJhc2VBeGlzKCksbj10LmdldE90aGVyQXhpcyhpKSxvPWkub25aZXJvPzA6bi5zY2FsZS5nZXRFeHRlbnQoKVswXSxhPW4uZGltLHM9XCJ4XCI9PT1hfHxcInJhZGl1c1wiPT09YT8xOjA7cmV0dXJuIGUubWFwQXJyYXkoW2FdLGZ1bmN0aW9uKG4sbCl7Zm9yKHZhciBoLHU9ZS5zdGFja2VkT247dSYmcih1LmdldChhLGwpKT09PXIobik7KXtoPXU7YnJlYWt9dmFyIGM9W107cmV0dXJuIGNbc109ZS5nZXQoaS5kaW0sbCksY1sxLXNdPWg/aC5nZXQoYSxsLCEwKTpvLHQuZGF0YVRvUG9pbnQoYyl9LCEwKX1mdW5jdGlvbiBsKHQsZSl7cmV0dXJuIG51bGwhPWUuZGF0YUluZGV4P2UuZGF0YUluZGV4Om51bGwhPWUubmFtZT90LmluZGV4T2ZOYW1lKGUubmFtZSk6dm9pZCAwfWZ1bmN0aW9uIGgodCxlLGkpe3ZhciBuPWEodC5nZXRBeGlzKFwieFwiKSksbz1hKHQuZ2V0QXhpcyhcInlcIikpLHI9dC5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpLHM9TWF0aC5taW4oblswXSxuWzFdKSxsPU1hdGgubWluKG9bMF0sb1sxXSksaD1NYXRoLm1heChuWzBdLG5bMV0pLXMsdT1NYXRoLm1heChvWzBdLG9bMV0pLWwsYz1pLmdldChcImxpbmVTdHlsZS5ub3JtYWwud2lkdGhcIil8fDIsZD1pLmdldChcImNsaXBPdmVyZmxvd1wiKT9jLzI6TWF0aC5tYXgoaCx1KTtyPyhsLT1kLHUrPTIqZCk6KHMtPWQsaCs9MipkKTt2YXIgZj1uZXcgbS5SZWN0KHtzaGFwZTp7eDpzLHk6bCx3aWR0aDpoLGhlaWdodDp1fX0pO3JldHVybiBlJiYoZi5zaGFwZVtyP1wid2lkdGhcIjpcImhlaWdodFwiXT0wLG0uaW5pdFByb3BzKGYse3NoYXBlOnt3aWR0aDpoLGhlaWdodDp1fX0saSkpLGZ9ZnVuY3Rpb24gdSh0LGUsaSl7dmFyIG49dC5nZXRBbmdsZUF4aXMoKSxvPXQuZ2V0UmFkaXVzQXhpcygpLGE9by5nZXRFeHRlbnQoKSxyPW4uZ2V0RXh0ZW50KCkscz1NYXRoLlBJLzE4MCxsPW5ldyBtLlNlY3Rvcih7c2hhcGU6e2N4OnQuY3gsY3k6dC5jeSxyMDphWzBdLHI6YVsxXSxzdGFydEFuZ2xlOi1yWzBdKnMsZW5kQW5nbGU6LXJbMV0qcyxjbG9ja3dpc2U6bi5pbnZlcnNlfX0pO3JldHVybiBlJiYobC5zaGFwZS5lbmRBbmdsZT0tclswXSpzLG0uaW5pdFByb3BzKGwse3NoYXBlOntlbmRBbmdsZTotclsxXSpzfX0saSkpLGx9ZnVuY3Rpb24gYyh0LGUsaSl7cmV0dXJuXCJwb2xhclwiPT09dC50eXBlP3UodCxlLGkpOmgodCxlLGkpfXZhciBkPWkoMSksZj1pKDM5KSxwPWkoNDcpLGc9aSg4OCksbT1pKDMpLHY9aSg4OSkseT1pKDI2KTt0LmV4cG9ydHM9eS5leHRlbmQoe3R5cGU6XCJsaW5lXCIsaW5pdDpmdW5jdGlvbigpe3ZhciB0PW5ldyBtLkdyb3VwLGU9bmV3IGY7dGhpcy5ncm91cC5hZGQoZS5ncm91cCksdGhpcy5fc3ltYm9sRHJhdz1lLHRoaXMuX2xpbmVHcm91cD10fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBhPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXRoaXMuZ3JvdXAsbD10LmdldERhdGEoKSxoPXQuZ2V0TW9kZWwoXCJsaW5lU3R5bGUubm9ybWFsXCIpLHU9dC5nZXRNb2RlbChcImFyZWFTdHlsZS5ub3JtYWxcIiksZj1sLm1hcEFycmF5KGwuZ2V0SXRlbUxheW91dCwhMCkscD1cInBvbGFyXCI9PT1hLnR5cGUsZz10aGlzLl9jb29yZFN5cyxtPXRoaXMuX3N5bWJvbERyYXcsdj10aGlzLl9wb2x5bGluZSx5PXRoaXMuX3BvbHlnb24seD10aGlzLl9saW5lR3JvdXAsXz10LmdldChcImFuaW1hdGlvblwiKSxiPSF1LmlzRW1wdHkoKSx3PXMoYSxsKSxTPXQuZ2V0KFwic2hvd1N5bWJvbFwiKSxNPVMmJiFwJiYhdC5nZXQoXCJzaG93QWxsU3ltYm9sXCIpJiZ0aGlzLl9nZXRTeW1ib2xJZ25vcmVGdW5jKGwsYSksQT10aGlzLl9kYXRhO0EmJkEuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxlKXt0Ll9fdGVtcCYmKHIucmVtb3ZlKHQpLEEuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpKX0pLFN8fG0ucmVtb3ZlKCksci5hZGQoeCksdiYmZy50eXBlPT09YS50eXBlPyhiJiYheT95PXRoaXMuX25ld1BvbHlnb24oZix3LGEsXyk6eSYmIWImJih4LnJlbW92ZSh5KSx5PXRoaXMuX3BvbHlnb249bnVsbCkseC5zZXRDbGlwUGF0aChjKGEsITEsdCkpLFMmJm0udXBkYXRlRGF0YShsLE0pLGwuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7dC5zdG9wQW5pbWF0aW9uKCEwKX0pLG4odGhpcy5fc3RhY2tlZE9uUG9pbnRzLHcpJiZuKHRoaXMuX3BvaW50cyxmKXx8KF8/dGhpcy5fdXBkYXRlQW5pbWF0aW9uKGwsdyxhLGkpOih2LnNldFNoYXBlKHtwb2ludHM6Zn0pLHkmJnkuc2V0U2hhcGUoe3BvaW50czpmLHN0YWNrZWRPblBvaW50czp3fSkpKSk6KFMmJm0udXBkYXRlRGF0YShsLE0pLHY9dGhpcy5fbmV3UG9seWxpbmUoZixhLF8pLGImJih5PXRoaXMuX25ld1BvbHlnb24oZix3LGEsXykpLHguc2V0Q2xpcFBhdGgoYyhhLCEwLHQpKSksdi51c2VTdHlsZShkLmRlZmF1bHRzKGguZ2V0TGluZVN0eWxlKCkse2ZpbGw6XCJub25lXCIsc3Ryb2tlOmwuZ2V0VmlzdWFsKFwiY29sb3JcIiksbGluZUpvaW46XCJiZXZlbFwifSkpO3ZhciBJPXQuZ2V0KFwic21vb3RoXCIpO2lmKEk9byh0LmdldChcInNtb290aFwiKSksdi5zZXRTaGFwZSh7c21vb3RoOkksc21vb3RoTW9ub3RvbmU6dC5nZXQoXCJzbW9vdGhNb25vdG9uZVwiKSxjb25uZWN0TnVsbHM6dC5nZXQoXCJjb25uZWN0TnVsbHNcIil9KSx5KXt2YXIgVD1sLnN0YWNrZWRPbixMPTA7aWYoeS51c2VTdHlsZShkLmRlZmF1bHRzKHUuZ2V0QXJlYVN0eWxlKCkse2ZpbGw6bC5nZXRWaXN1YWwoXCJjb2xvclwiKSxvcGFjaXR5Oi43LGxpbmVKb2luOlwiYmV2ZWxcIn0pKSxUKXt2YXIgQz1ULmhvc3RNb2RlbDtMPW8oQy5nZXQoXCJzbW9vdGhcIikpfXkuc2V0U2hhcGUoe3Ntb290aDpJLHN0YWNrZWRPblNtb290aDpMLHNtb290aE1vbm90b25lOnQuZ2V0KFwic21vb3RoTW9ub3RvbmVcIiksY29ubmVjdE51bGxzOnQuZ2V0KFwiY29ubmVjdE51bGxzXCIpfSl9dGhpcy5fZGF0YT1sLHRoaXMuX2Nvb3JkU3lzPWEsdGhpcy5fc3RhY2tlZE9uUG9pbnRzPXcsdGhpcy5fcG9pbnRzPWZ9LGhpZ2hsaWdodDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldERhdGEoKSxhPWwobyxuKTtpZihudWxsIT1hJiZhPj0wKXt2YXIgcj1vLmdldEl0ZW1HcmFwaGljRWwoYSk7aWYoIXIpe3ZhciBzPW8uZ2V0SXRlbUxheW91dChhKTtyPW5ldyBwKG8sYSxpKSxyLnBvc2l0aW9uPXMsci5zZXRaKHQuZ2V0KFwiemxldmVsXCIpLHQuZ2V0KFwielwiKSksci5pZ25vcmU9aXNOYU4oc1swXSl8fGlzTmFOKHNbMV0pLHIuX190ZW1wPSEwLG8uc2V0SXRlbUdyYXBoaWNFbChhLHIpLHIuc3RvcFN5bWJvbEFuaW1hdGlvbighMCksdGhpcy5ncm91cC5hZGQocil9ci5oaWdobGlnaHQoKX1lbHNlIHkucHJvdG90eXBlLmhpZ2hsaWdodC5jYWxsKHRoaXMsdCxlLGksbil9LGRvd25wbGF5OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0RGF0YSgpLGE9bChvLG4pO2lmKG51bGwhPWEmJmE+PTApe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtyJiYoci5fX3RlbXA/KG8uc2V0SXRlbUdyYXBoaWNFbChhLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKHIpKTpyLmRvd25wbGF5KCkpfWVsc2UgeS5wcm90b3R5cGUuZG93bnBsYXkuY2FsbCh0aGlzLHQsZSxpLG4pfSxfbmV3UG9seWxpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9seWxpbmU7cmV0dXJuIGUmJnRoaXMuX2xpbmVHcm91cC5yZW1vdmUoZSksZT1uZXcgdi5Qb2x5bGluZSh7c2hhcGU6e3BvaW50czp0fSxzaWxlbnQ6ITAsejI6MTB9KSx0aGlzLl9saW5lR3JvdXAuYWRkKGUpLHRoaXMuX3BvbHlsaW5lPWUsZX0sX25ld1BvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9wb2x5Z29uO3JldHVybiBpJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKGkpLGk9bmV3IHYuUG9seWdvbih7c2hhcGU6e3BvaW50czp0LHN0YWNrZWRPblBvaW50czplfSxzaWxlbnQ6ITB9KSx0aGlzLl9saW5lR3JvdXAuYWRkKGkpLHRoaXMuX3BvbHlnb249aSxpfSxfZ2V0U3ltYm9sSWdub3JlRnVuYzpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0QXhlc0J5U2NhbGUoXCJvcmRpbmFsXCIpWzBdO3JldHVybiBpJiZpLmlzTGFiZWxJZ25vcmVkP2QuYmluZChpLmlzTGFiZWxJZ25vcmVkLGkpOnZvaWQgMH0sX3VwZGF0ZUFuaW1hdGlvbjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl9wb2x5bGluZSxhPXRoaXMuX3BvbHlnb24scj10Lmhvc3RNb2RlbCxzPWcodGhpcy5fZGF0YSx0LHRoaXMuX3N0YWNrZWRPblBvaW50cyxlLHRoaXMuX2Nvb3JkU3lzLGkpO28uc2hhcGUucG9pbnRzPXMuY3VycmVudCxtLnVwZGF0ZVByb3BzKG8se3NoYXBlOntwb2ludHM6cy5uZXh0fX0sciksYSYmKGEuc2V0U2hhcGUoe3BvaW50czpzLmN1cnJlbnQsc3RhY2tlZE9uUG9pbnRzOnMuc3RhY2tlZE9uQ3VycmVudH0pLG0udXBkYXRlUHJvcHMoYSx7c2hhcGU6e3BvaW50czpzLm5leHQsc3RhY2tlZE9uUG9pbnRzOnMuc3RhY2tlZE9uTmV4dH19LHIpKTtmb3IodmFyIGw9W10saD1zLnN0YXR1cyx1PTA7dTxoLmxlbmd0aDt1Kyspe3ZhciBjPWhbdV0uY21kO2lmKFwiPVwiPT09Yyl7dmFyIGQ9dC5nZXRJdGVtR3JhcGhpY0VsKGhbdV0uaWR4MSk7ZCYmbC5wdXNoKHtlbDpkLHB0SWR4OnV9KX19by5hbmltYXRvcnMmJm8uYW5pbWF0b3JzLmxlbmd0aCYmby5hbmltYXRvcnNbMF0uZHVyaW5nKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxsLmxlbmd0aDt0Kyspe3ZhciBlPWxbdF0uZWw7ZS5hdHRyKFwicG9zaXRpb25cIixvLnNoYXBlLnBvaW50c1tsW3RdLnB0SWR4XSl9fSl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLGk9dGhpcy5fZGF0YTt0aGlzLl9saW5lR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoITApLGkmJmkuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxuKXt0Ll9fdGVtcCYmKGUucmVtb3ZlKHQpLGkuc2V0SXRlbUdyYXBoaWNFbChuLG51bGwpKX0pLHRoaXMuX3BvbHlsaW5lPXRoaXMuX3BvbHlnb249dGhpcy5fY29vcmRTeXM9dGhpcy5fcG9pbnRzPXRoaXMuX3N0YWNrZWRPblBvaW50cz10aGlzLl9kYXRhPW51bGx9fSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdD49MD8xOi0xfWZ1bmN0aW9uIG4odCxlLG4pe2Zvcih2YXIgbyxhPXQuZ2V0QmFzZUF4aXMoKSxyPXQuZ2V0T3RoZXJBeGlzKGEpLHM9YS5vblplcm8/MDpyLnNjYWxlLmdldEV4dGVudCgpWzBdLGw9ci5kaW0saD1cInhcIj09PWx8fFwicmFkaXVzXCI9PT1sPzE6MCx1PWUuc3RhY2tlZE9uLGM9ZS5nZXQobCxuKTt1JiZpKHUuZ2V0KGwsbikpPT09aShjKTspe289dTticmVha312YXIgZD1bXTtyZXR1cm4gZFtoXT1lLmdldChhLmRpbSxuKSxkWzEtaF09bz9vLmdldChsLG4sITApOnMsdC5kYXRhVG9Qb2ludChkKX1mdW5jdGlvbiBvKHQsZSl7dmFyIGk9W107cmV0dXJuIGUuZGlmZih0KS5hZGQoZnVuY3Rpb24odCl7aS5wdXNoKHtjbWQ6XCIrXCIsaWR4OnR9KX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe2kucHVzaCh7Y21kOlwiPVwiLGlkeDplLGlkeDE6dH0pfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe2kucHVzaCh7Y21kOlwiLVwiLGlkeDp0fSl9KS5leGVjdXRlKCksaX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGksYSxyLHMpe2Zvcih2YXIgbD1vKHQsZSksaD1bXSx1PVtdLGM9W10sZD1bXSxmPVtdLHA9W10sZz1bXSxtPXMuZGltZW5zaW9ucyx2PTA7djxsLmxlbmd0aDt2Kyspe3ZhciB5PWxbdl0seD0hMDtzd2l0Y2goeS5jbWQpe2Nhc2VcIj1cIjp2YXIgXz10LmdldEl0ZW1MYXlvdXQoeS5pZHgpLGI9ZS5nZXRJdGVtTGF5b3V0KHkuaWR4MSk7KGlzTmFOKF9bMF0pfHxpc05hTihfWzFdKSkmJihfPWIuc2xpY2UoKSksaC5wdXNoKF8pLHUucHVzaChiKSxjLnB1c2goaVt5LmlkeF0pLGQucHVzaChhW3kuaWR4MV0pLGcucHVzaChlLmdldFJhd0luZGV4KHkuaWR4MSkpO2JyZWFrO2Nhc2VcIitcIjp2YXIgdz15LmlkeDtoLnB1c2goci5kYXRhVG9Qb2ludChbZS5nZXQobVswXSx3LCEwKSxlLmdldChtWzFdLHcsITApXSkpLHUucHVzaChlLmdldEl0ZW1MYXlvdXQodykuc2xpY2UoKSksYy5wdXNoKG4ocixlLHcpKSxkLnB1c2goYVt3XSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgodykpO2JyZWFrO2Nhc2VcIi1cIjp2YXIgdz15LmlkeCxTPXQuZ2V0UmF3SW5kZXgodyk7UyE9PXc/KGgucHVzaCh0LmdldEl0ZW1MYXlvdXQodykpLHUucHVzaChzLmRhdGFUb1BvaW50KFt0LmdldChtWzBdLHcsITApLHQuZ2V0KG1bMV0sdywhMCldKSksYy5wdXNoKGlbd10pLGQucHVzaChuKHMsdCx3KSksZy5wdXNoKFMpKTp4PSExfXgmJihmLnB1c2goeSkscC5wdXNoKHAubGVuZ3RoKSl9cC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdbdF0tZ1tlXX0pO2Zvcih2YXIgTT1bXSxBPVtdLEk9W10sVD1bXSxMPVtdLHY9MDt2PHAubGVuZ3RoO3YrKyl7dmFyIHc9cFt2XTtNW3ZdPWhbd10sQVt2XT11W3ddLElbdl09Y1t3XSxUW3ZdPWRbd10sTFt2XT1mW3ddfXJldHVybntjdXJyZW50Ok0sbmV4dDpBLHN0YWNrZWRPbkN1cnJlbnQ6SSxzdGFja2VkT25OZXh0OlQsc3RhdHVzOkx9fX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIGlzTmFOKHRbMF0pfHxpc05hTih0WzFdKX1mdW5jdGlvbiBvKHQsZSxpLG8sYSxyLGcsbSx2LHkseCl7Zm9yKHZhciBfPTAsYj1pLHc9MDtvPnc7dysrKXt2YXIgUz1lW2JdO2lmKGI+PWF8fDA+YilicmVhaztpZihuKFMpKXtpZih4KXtiKz1yO2NvbnRpbnVlfWJyZWFrfWlmKGI9PT1pKXRbcj4wP1wibW92ZVRvXCI6XCJsaW5lVG9cIl0oU1swXSxTWzFdKSxjKGYsUyk7ZWxzZSBpZih2PjApe3ZhciBNPWIrcixBPWVbTV07aWYoeClmb3IoO0EmJm4oZVtNXSk7KU0rPXIsQT1lW01dO3ZhciBJPS41LFQ9ZVtfXSxBPWVbTV07aWYoIUF8fG4oQSkpYyhwLFMpO2Vsc2V7bihBKSYmIXgmJihBPVMpLHMuc3ViKGQsQSxUKTt2YXIgTCxDO2lmKFwieFwiPT09eXx8XCJ5XCI9PT15KXt2YXIgRD1cInhcIj09PXk/MDoxO0w9TWF0aC5hYnMoU1tEXS1UW0RdKSxDPU1hdGguYWJzKFNbRF0tQVtEXSl9ZWxzZSBMPXMuZGlzdChTLFQpLEM9cy5kaXN0KFMsQSk7ST1DLyhDK0wpLHUocCxTLGQsLXYqKDEtSSkpfWwoZixmLG0pLGgoZixmLGcpLGwocCxwLG0pLGgocCxwLGcpLHQuYmV6aWVyQ3VydmVUbyhmWzBdLGZbMV0scFswXSxwWzFdLFNbMF0sU1sxXSksdShmLFMsZCx2KkkpfWVsc2UgdC5saW5lVG8oU1swXSxTWzFdKTtfPWIsYis9cn1yZXR1cm4gd31mdW5jdGlvbiBhKHQsZSl7dmFyIGk9WzEvMCwxLzBdLG49Wy0oMS8wKSwtKDEvMCldO2lmKGUpZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXRbb107YVswXTxpWzBdJiYoaVswXT1hWzBdKSxhWzFdPGlbMV0mJihpWzFdPWFbMV0pLGFbMF0+blswXSYmKG5bMF09YVswXSksYVsxXT5uWzFdJiYoblsxXT1hWzFdKX1yZXR1cm57bWluOmU/aTpuLG1heDplP246aX19dmFyIHI9aSg2KSxzPWkoNSksbD1zLm1pbixoPXMubWF4LHU9cy5zY2FsZUFuZEFkZCxjPXMuY29weSxkPVtdLGY9W10scD1bXTt0LmV4cG9ydHM9e1BvbHlsaW5lOnIuZXh0ZW5kKHt0eXBlOlwiZWMtcG9seWxpbmVcIixzaGFwZTp7cG9pbnRzOltdLHNtb290aDowLHNtb290aENvbnN0cmFpbnQ6ITAsc21vb3RoTW9ub3RvbmU6bnVsbCxjb25uZWN0TnVsbHM6ITF9LHN0eWxlOntmaWxsOm51bGwsc3Ryb2tlOlwiIzAwMFwifSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnBvaW50cyxyPTAscz1pLmxlbmd0aCxsPWEoaSxlLnNtb290aENvbnN0cmFpbnQpO2lmKGUuY29ubmVjdE51bGxzKXtmb3IoO3M+MCYmbihpW3MtMV0pO3MtLSk7Zm9yKDtzPnImJm4oaVtyXSk7cisrKTt9Zm9yKDtzPnI7KXIrPW8odCxpLHIscyxzLDEsbC5taW4sbC5tYXgsZS5zbW9vdGgsZS5zbW9vdGhNb25vdG9uZSxlLmNvbm5lY3ROdWxscykrMX19KSxQb2x5Z29uOnIuZXh0ZW5kKHt0eXBlOlwiZWMtcG9seWdvblwiLHNoYXBlOntwb2ludHM6W10sc3RhY2tlZE9uUG9pbnRzOltdLHNtb290aDowLHN0YWNrZWRPblNtb290aDowLHNtb290aENvbnN0cmFpbnQ6ITAsc21vb3RoTW9ub3RvbmU6bnVsbCxjb25uZWN0TnVsbHM6ITF9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzLHI9ZS5zdGFja2VkT25Qb2ludHMscz0wLGw9aS5sZW5ndGgsaD1lLnNtb290aE1vbm90b25lLHU9YShpLGUuc21vb3RoQ29uc3RyYWludCksYz1hKHIsZS5zbW9vdGhDb25zdHJhaW50KTtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDtsPjAmJm4oaVtsLTFdKTtsLS0pO2Zvcig7bD5zJiZuKGlbc10pO3MrKyk7fWZvcig7bD5zOyl7dmFyIGQ9byh0LGkscyxsLGwsMSx1Lm1pbix1Lm1heCxlLnNtb290aCxoLGUuY29ubmVjdE51bGxzKTtvKHQscixzK2QtMSxkLGwsLTEsYy5taW4sYy5tYXgsZS5zdGFja2VkT25TbW9vdGgsaCxlLmNvbm5lY3ROdWxscykscys9ZCsxLHQuY2xvc2VQYXRoKCl9fX0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz1pKDIpO2koOTEpLGkoOTIpLGkoNjkpKFwicGllXCIsW3t0eXBlOlwicGllVG9nZ2xlU2VsZWN0XCIsZXZlbnQ6XCJwaWVzZWxlY3RjaGFuZ2VkXCIsbWV0aG9kOlwidG9nZ2xlU2VsZWN0ZWRcIn0se3R5cGU6XCJwaWVTZWxlY3RcIixldmVudDpcInBpZXNlbGVjdGVkXCIsbWV0aG9kOlwic2VsZWN0XCJ9LHt0eXBlOlwicGllVW5TZWxlY3RcIixldmVudDpcInBpZXVuc2VsZWN0ZWRcIixtZXRob2Q6XCJ1blNlbGVjdFwifV0pLG8ucmVnaXN0ZXJWaXN1YWxDb2RpbmcoXCJjaGFydFwiLG4uY3VycnkoaSg2NCksXCJwaWVcIikpLG8ucmVnaXN0ZXJMYXlvdXQobi5jdXJyeShpKDk0KSxcInBpZVwiKSksby5yZWdpc3RlclByb2Nlc3NvcihcImZpbHRlclwiLG4uY3VycnkoaSg2MyksXCJwaWVcIikpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxNSksbz1pKDEpLGE9aSg3KSxyPWkoMzEpLHM9aSg2MSksbD1pKDIpLmV4dGVuZFNlcmllc01vZGVsKHt0eXBlOlwic2VyaWVzLnBpZVwiLGluaXQ6ZnVuY3Rpb24odCl7bC5zdXBlckFwcGx5KHRoaXMsXCJpbml0XCIsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZERhdGFQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhQmVmb3JlUHJvY2Vzc2VkfSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKHQuZGF0YSksdGhpcy5fZGVmYXVsdExhYmVsTGluZSh0KX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7bC5zdXBlckNhbGwodGhpcyxcIm1lcmdlT3B0aW9uXCIsdCksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0aGlzLm9wdGlvbi5kYXRhKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT1yKFtcInZhbHVlXCJdLHQuZGF0YSksbz1uZXcgbihpLHRoaXMpO3JldHVybiBvLmluaXREYXRhKHQuZGF0YSksb30sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kYXRhLGk9bC5zdXBlckNhbGwodGhpcyxcImdldERhdGFQYXJhbXNcIix0KSxuPWUuZ2V0U3VtKFwidmFsdWVcIik7cmV0dXJuIGkucGVyY2VudD1uPysoZS5nZXQoXCJ2YWx1ZVwiLHQpL24qMTAwKS50b0ZpeGVkKDIpOjAsaS4kdmFycy5wdXNoKFwicGVyY2VudFwiKSxpfSxfZGVmYXVsdExhYmVsTGluZTpmdW5jdGlvbih0KXthLmRlZmF1bHRFbXBoYXNpcyh0LmxhYmVsTGluZSxbXCJzaG93XCJdKTt2YXIgZT10LmxhYmVsTGluZS5ub3JtYWwsaT10LmxhYmVsTGluZS5lbXBoYXNpcztlLnNob3c9ZS5zaG93JiZ0LmxhYmVsLm5vcm1hbC5zaG93LGkuc2hvdz1pLnNob3cmJnQubGFiZWwuZW1waGFzaXMuc2hvd30sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxcbmhvdmVyQW5pbWF0aW9uOiEwLGNlbnRlcjpbXCI1MCVcIixcIjUwJVwiXSxyYWRpdXM6WzAsXCI3NSVcIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxzZWxlY3RlZE9mZnNldDoxMCxhdm9pZExhYmVsT3ZlcmxhcDohMCxsYWJlbDp7bm9ybWFsOntyb3RhdGU6ITEsc2hvdzohMCxwb3NpdGlvbjpcIm91dGVyXCJ9LGVtcGhhc2lzOnt9fSxsYWJlbExpbmU6e25vcm1hbDp7c2hvdzohMCxsZW5ndGg6MTUsbGVuZ3RoMjoxNSxzbW9vdGg6ITEsbGluZVN0eWxlOnt3aWR0aDoxLHR5cGU6XCJzb2xpZFwifX19LGl0ZW1TdHlsZTp7bm9ybWFsOntib3JkZXJDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7Ym9yZGVyQ29sb3I6XCJyZ2JhKDAsMCwwLDApXCIsYm9yZGVyV2lkdGg6MX19LGFuaW1hdGlvbkVhc2luZzpcImN1YmljT3V0XCIsZGF0YTpbXX19KTtvLm1peGluKGwscyksdC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpLG4pe3ZhciBhPWUuZ2V0RGF0YSgpLHI9dGhpcy5kYXRhSW5kZXgscz1hLmdldE5hbWUociksbD1lLmdldChcInNlbGVjdGVkT2Zmc2V0XCIpO24uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJwaWVUb2dnbGVTZWxlY3RcIixmcm9tOnQsbmFtZTpzLHNlcmllc0lkOmUuaWR9KSxhLmVhY2goZnVuY3Rpb24odCl7byhhLmdldEl0ZW1HcmFwaGljRWwodCksYS5nZXRJdGVtTGF5b3V0KHQpLGUuaXNTZWxlY3RlZChhLmdldE5hbWUodCkpLGwsaSl9KX1mdW5jdGlvbiBvKHQsZSxpLG4sbyl7dmFyIGE9KGUuc3RhcnRBbmdsZStlLmVuZEFuZ2xlKS8yLHI9TWF0aC5jb3MoYSkscz1NYXRoLnNpbihhKSxsPWk/bjowLGg9W3IqbCxzKmxdO28/dC5hbmltYXRlKCkud2hlbigyMDAse3Bvc2l0aW9uOmh9KS5zdGFydChcImJvdW5jZU91dFwiKTp0LmF0dHIoXCJwb3NpdGlvblwiLGgpfWZ1bmN0aW9uIGEodCxlKXtmdW5jdGlvbiBpKCl7YS5pZ25vcmU9YS5ob3Zlcklnbm9yZSxyLmlnbm9yZT1yLmhvdmVySWdub3JlfWZ1bmN0aW9uIG4oKXthLmlnbm9yZT1hLm5vcm1hbElnbm9yZSxyLmlnbm9yZT1yLm5vcm1hbElnbm9yZX1zLkdyb3VwLmNhbGwodGhpcyk7dmFyIG89bmV3IHMuU2VjdG9yKHt6MjoyfSksYT1uZXcgcy5Qb2x5bGluZSxyPW5ldyBzLlRleHQ7dGhpcy5hZGQobyksdGhpcy5hZGQoYSksdGhpcy5hZGQociksdGhpcy51cGRhdGVEYXRhKHQsZSwhMCksdGhpcy5vbihcImVtcGhhc2lzXCIsaSkub24oXCJub3JtYWxcIixuKS5vbihcIm1vdXNlb3ZlclwiLGkpLm9uKFwibW91c2VvdXRcIixuKX1mdW5jdGlvbiByKHQsZSxpLG4sbyl7dmFyIGE9bi5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxyPVwiaW5zaWRlXCI9PT1vfHxcImlubmVyXCI9PT1vO3JldHVybntmaWxsOmEuZ2V0VGV4dENvbG9yKCl8fChyP1wiI2ZmZlwiOnQuZ2V0SXRlbVZpc3VhbChlLFwiY29sb3JcIikpLG9wYWNpdHk6dC5nZXRJdGVtVmlzdWFsKGUsXCJvcGFjaXR5XCIpLHRleHRGb250OmEuZ2V0Rm9udCgpLHRleHQ6bC5yZXRyaWV2ZSh0Lmhvc3RNb2RlbC5nZXRGb3JtYXR0ZWRMYWJlbChlLGkpLHQuZ2V0TmFtZShlKSl9fXZhciBzPWkoMyksbD1pKDEpLGg9YS5wcm90b3R5cGU7aC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7ci5zdG9wQW5pbWF0aW9uKCEwKSxyLmFuaW1hdGVUbyh7c2hhcGU6e3I6Yy5yKzEwfX0sMzAwLFwiZWxhc3RpY091dFwiKX1mdW5jdGlvbiBhKCl7ci5zdG9wQW5pbWF0aW9uKCEwKSxyLmFuaW1hdGVUbyh7c2hhcGU6e3I6Yy5yfX0sMzAwLFwiZWxhc3RpY091dFwiKX12YXIgcj10aGlzLmNoaWxkQXQoMCksaD10Lmhvc3RNb2RlbCx1PXQuZ2V0SXRlbU1vZGVsKGUpLGM9dC5nZXRJdGVtTGF5b3V0KGUpLGQ9bC5leHRlbmQoe30sYyk7ZC5sYWJlbD1udWxsLGk/KHIuc2V0U2hhcGUoZCksci5zaGFwZS5lbmRBbmdsZT1jLnN0YXJ0QW5nbGUscy51cGRhdGVQcm9wcyhyLHtzaGFwZTp7ZW5kQW5nbGU6Yy5lbmRBbmdsZX19LGgsZSkpOnMudXBkYXRlUHJvcHMocix7c2hhcGU6ZH0saCxlKTt2YXIgZj11LmdldE1vZGVsKFwiaXRlbVN0eWxlXCIpLHA9dC5nZXRJdGVtVmlzdWFsKGUsXCJjb2xvclwiKTtyLnVzZVN0eWxlKGwuZGVmYXVsdHMoe2ZpbGw6cH0sZi5nZXRNb2RlbChcIm5vcm1hbFwiKS5nZXRJdGVtU3R5bGUoKSkpLHIuaG92ZXJTdHlsZT1mLmdldE1vZGVsKFwiZW1waGFzaXNcIikuZ2V0SXRlbVN0eWxlKCksbyh0aGlzLHQuZ2V0SXRlbUxheW91dChlKSx1LmdldChcInNlbGVjdGVkXCIpLGguZ2V0KFwic2VsZWN0ZWRPZmZzZXRcIiksaC5nZXQoXCJhbmltYXRpb25cIikpLHIub2ZmKFwibW91c2VvdmVyXCIpLm9mZihcIm1vdXNlb3V0XCIpLm9mZihcImVtcGhhc2lzXCIpLm9mZihcIm5vcm1hbFwiKSx1LmdldChcImhvdmVyQW5pbWF0aW9uXCIpJiZyLm9uKFwibW91c2VvdmVyXCIsbikub24oXCJtb3VzZW91dFwiLGEpLm9uKFwiZW1waGFzaXNcIixuKS5vbihcIm5vcm1hbFwiLGEpLHRoaXMuX3VwZGF0ZUxhYmVsKHQsZSkscy5zZXRIb3ZlclN0eWxlKHRoaXMpfSxoLl91cGRhdGVMYWJlbD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hpbGRBdCgxKSxuPXRoaXMuY2hpbGRBdCgyKSxvPXQuaG9zdE1vZGVsLGE9dC5nZXRJdGVtTW9kZWwoZSksbD10LmdldEl0ZW1MYXlvdXQoZSksaD1sLmxhYmVsLHU9dC5nZXRJdGVtVmlzdWFsKGUsXCJjb2xvclwiKTtzLnVwZGF0ZVByb3BzKGkse3NoYXBlOntwb2ludHM6aC5saW5lUG9pbnRzfHxbW2gueCxoLnldLFtoLngsaC55XSxbaC54LGgueV1dfX0sbyxlKSxzLnVwZGF0ZVByb3BzKG4se3N0eWxlOnt4OmgueCx5OmgueX19LG8sZSksbi5hdHRyKHtzdHlsZTp7dGV4dFZlcnRpY2FsQWxpZ246aC52ZXJ0aWNhbEFsaWduLHRleHRBbGlnbjpoLnRleHRBbGlnbix0ZXh0Rm9udDpoLmZvbnR9LHJvdGF0aW9uOmgucm90YXRpb24sb3JpZ2luOltoLngsaC55XSx6MjoxMH0pO3ZhciBjPWEuZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWxcIiksZD1hLmdldE1vZGVsKFwibGFiZWwuZW1waGFzaXNcIiksZj1hLmdldE1vZGVsKFwibGFiZWxMaW5lLm5vcm1hbFwiKSxwPWEuZ2V0TW9kZWwoXCJsYWJlbExpbmUuZW1waGFzaXNcIiksZz1jLmdldChcInBvc2l0aW9uXCIpfHxkLmdldChcInBvc2l0aW9uXCIpO24uc2V0U3R5bGUocih0LGUsXCJub3JtYWxcIixjLGcpKSxuLmlnbm9yZT1uLm5vcm1hbElnbm9yZT0hYy5nZXQoXCJzaG93XCIpLG4uaG92ZXJJZ25vcmU9IWQuZ2V0KFwic2hvd1wiKSxpLmlnbm9yZT1pLm5vcm1hbElnbm9yZT0hZi5nZXQoXCJzaG93XCIpLGkuaG92ZXJJZ25vcmU9IXAuZ2V0KFwic2hvd1wiKSxpLnNldFN0eWxlKHtzdHJva2U6dSxvcGFjaXR5OnQuZ2V0SXRlbVZpc3VhbChlLFwib3BhY2l0eVwiKX0pLGkuc2V0U3R5bGUoZi5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKSksbi5ob3ZlclN0eWxlPXIodCxlLFwiZW1waGFzaXNcIixkLGcpLGkuaG92ZXJTdHlsZT1wLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpO3ZhciBtPWYuZ2V0KFwic21vb3RoXCIpO20mJm09PT0hMCYmKG09LjQpLGkuc2V0U2hhcGUoe3Ntb290aDptfSl9LGwuaW5oZXJpdHMoYSxzLkdyb3VwKTt2YXIgdT1pKDI2KS5leHRlbmQoe3R5cGU6XCJwaWVcIixpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHMuR3JvdXA7dGhpcy5fc2VjdG9yR3JvdXA9dH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKCFvfHxvLmZyb20hPT10aGlzLnVpZCl7dmFyIHI9dC5nZXREYXRhKCkscz10aGlzLl9kYXRhLGg9dGhpcy5ncm91cCx1PWUuZ2V0KFwiYW5pbWF0aW9uXCIpLGM9IXMsZD1sLmN1cnJ5KG4sdGhpcy51aWQsdCx1LGkpLGY9dC5nZXQoXCJzZWxlY3RlZE1vZGVcIik7aWYoci5kaWZmKHMpLmFkZChmdW5jdGlvbih0KXt2YXIgZT1uZXcgYShyLHQpO2MmJmUuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbighMCl9KSxmJiZlLm9uKFwiY2xpY2tcIixkKSxyLnNldEl0ZW1HcmFwaGljRWwodCxlKSxoLmFkZChlKX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe3ZhciBpPXMuZ2V0SXRlbUdyYXBoaWNFbChlKTtpLnVwZGF0ZURhdGEocix0KSxpLm9mZihcImNsaWNrXCIpLGYmJmkub24oXCJjbGlja1wiLGQpLGguYWRkKGkpLHIuc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPXMuZ2V0SXRlbUdyYXBoaWNFbCh0KTtoLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSx1JiZjJiZyLmNvdW50KCk+MCl7dmFyIHA9ci5nZXRJdGVtTGF5b3V0KDApLGc9TWF0aC5tYXgoaS5nZXRXaWR0aCgpLGkuZ2V0SGVpZ2h0KCkpLzIsbT1sLmJpbmQoaC5yZW1vdmVDbGlwUGF0aCxoKTtoLnNldENsaXBQYXRoKHRoaXMuX2NyZWF0ZUNsaXBQYXRoKHAuY3gscC5jeSxnLHAuc3RhcnRBbmdsZSxwLmNsb2Nrd2lzZSxtLHQpKX10aGlzLl9kYXRhPXJ9fSxfY3JlYXRlQ2xpcFBhdGg6ZnVuY3Rpb24odCxlLGksbixvLGEscil7dmFyIGw9bmV3IHMuU2VjdG9yKHtzaGFwZTp7Y3g6dCxjeTplLHIwOjAscjppLHN0YXJ0QW5nbGU6bixlbmRBbmdsZTpuLGNsb2Nrd2lzZTpvfX0pO3JldHVybiBzLmluaXRQcm9wcyhsLHtzaGFwZTp7ZW5kQW5nbGU6bisobz8xOi0xKSpNYXRoLlBJKjJ9fSxyLGEpLGx9fSk7dC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxpLG4sbyxhLHIpe2Z1bmN0aW9uIHMoZSxpLG4sbyl7Zm9yKHZhciBhPWU7aT5hO2ErKylpZih0W2FdLnkrPW4sYT5lJiZpPmErMSYmdFthKzFdLnk+dFthXS55K3RbYV0uaGVpZ2h0KXJldHVybiB2b2lkIGwoYSxuLzIpO2woaS0xLG4vMil9ZnVuY3Rpb24gbChlLGkpe2Zvcih2YXIgbj1lO24+PTAmJih0W25dLnktPWksIShuPjAmJnRbbl0ueT50W24tMV0ueSt0W24tMV0uaGVpZ2h0KSk7bi0tKTt9ZnVuY3Rpb24gaCh0LGUsaSxuLG8sYSl7Zm9yKHZhciByPWE+MD9lP051bWJlci5NQVhfVkFMVUU6MDplP051bWJlci5NQVhfVkFMVUU6MCxzPTAsbD10Lmxlbmd0aDtsPnM7cysrKWlmKFwiY2VudGVyXCIhPT10W3NdLnBvc2l0aW9uKXt2YXIgaD1NYXRoLmFicyh0W3NdLnktbiksdT10W3NdLmxlbixjPXRbc10ubGVuMixkPW8rdT5oP01hdGguc3FydCgobyt1K2MpKihvK3UrYyktaCpoKTpNYXRoLmFicyh0W3NdLngtaSk7ZSYmZD49ciYmKGQ9ci0xMCksIWUmJnI+PWQmJihkPXIrMTApLHRbc10ueD1pK2QqYSxyPWR9fXQuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnktZS55fSk7Zm9yKHZhciB1LGM9MCxkPXQubGVuZ3RoLGY9W10scD1bXSxnPTA7ZD5nO2crKyl1PXRbZ10ueS1jLDA+dSYmcyhnLGQsLXUsbyksYz10W2ddLnkrdFtnXS5oZWlnaHQ7MD5yLWMmJmwoZC0xLGMtcik7Zm9yKHZhciBnPTA7ZD5nO2crKyl0W2ddLnk+PWk/cC5wdXNoKHRbZ10pOmYucHVzaCh0W2ddKTtoKGYsITEsZSxpLG4sbyksaChwLCEwLGUsaSxuLG8pfWZ1bmN0aW9uIG8odCxlLGksbyxhLHIpe2Zvcih2YXIgcz1bXSxsPVtdLGg9MDtoPHQubGVuZ3RoO2grKyl0W2hdLng8ZT9zLnB1c2godFtoXSk6bC5wdXNoKHRbaF0pO24obCxlLGksbywxLGEsciksbihzLGUsaSxvLC0xLGEscik7Zm9yKHZhciBoPTA7aDx0Lmxlbmd0aDtoKyspe3ZhciB1PXRbaF0ubGluZVBvaW50cztpZih1KXt2YXIgYz11WzFdWzBdLXVbMl1bMF07dFtoXS54PGU/dVsyXVswXT10W2hdLngrMzp1WzJdWzBdPXRbaF0ueC0zLHVbMV1bMV09dVsyXVsxXT10W2hdLnksdVsxXVswXT11WzJdWzBdK2N9fX12YXIgYT1pKDE4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGksbil7dmFyIHIscyxsPXQuZ2V0RGF0YSgpLGg9W10sdT0hMTtsLmVhY2goZnVuY3Rpb24oaSl7dmFyIG4sbyxjLGQsZj1sLmdldEl0ZW1MYXlvdXQoaSkscD1sLmdldEl0ZW1Nb2RlbChpKSxnPXAuZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWxcIiksbT1nLmdldChcInBvc2l0aW9uXCIpfHxwLmdldChcImxhYmVsLmVtcGhhc2lzLnBvc2l0aW9uXCIpLHY9cC5nZXRNb2RlbChcImxhYmVsTGluZS5ub3JtYWxcIikseT12LmdldChcImxlbmd0aFwiKSx4PXYuZ2V0KFwibGVuZ3RoMlwiKSxfPShmLnN0YXJ0QW5nbGUrZi5lbmRBbmdsZSkvMixiPU1hdGguY29zKF8pLHc9TWF0aC5zaW4oXyk7cj1mLmN4LHM9Zi5jeTt2YXIgUz1cImluc2lkZVwiPT09bXx8XCJpbm5lclwiPT09bTtpZihcImNlbnRlclwiPT09bSluPWYuY3gsbz1mLmN5LGQ9XCJjZW50ZXJcIjtlbHNle3ZhciBNPShTPyhmLnIrZi5yMCkvMipiOmYucipiKStyLEE9KFM/KGYucitmLnIwKS8yKnc6Zi5yKncpK3M7aWYobj1NKzMqYixvPUErMyp3LCFTKXt2YXIgST1NK2IqKHkrZS1mLnIpLFQ9QSt3Kih5K2UtZi5yKSxMPUkrKDA+Yj8tMToxKSp4LEM9VDtuPUwrKDA+Yj8tNTo1KSxvPUMsYz1bW00sQV0sW0ksVF0sW0wsQ11dfWQ9Uz9cImNlbnRlclwiOmI+MD9cImxlZnRcIjpcInJpZ2h0XCJ9dmFyIEQ9Zy5nZXRNb2RlbChcInRleHRTdHlsZVwiKS5nZXRGb250KCksUD1nLmdldChcInJvdGF0ZVwiKT8wPmI/LV8rTWF0aC5QSTotXzowLGs9dC5nZXRGb3JtYXR0ZWRMYWJlbChpLFwibm9ybWFsXCIpfHxsLmdldE5hbWUoaSksej1hLmdldEJvdW5kaW5nUmVjdChrLEQsZCxcInRvcFwiKTt1PSEhUCxmLmxhYmVsPXt4Om4seTpvLHBvc2l0aW9uOm0saGVpZ2h0OnouaGVpZ2h0LGxlbjp5LGxlbjI6eCxsaW5lUG9pbnRzOmMsdGV4dEFsaWduOmQsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLGZvbnQ6RCxyb3RhdGlvbjpQfSxTfHxoLnB1c2goZi5sYWJlbCl9KSwhdSYmdC5nZXQoXCJhdm9pZExhYmVsT3ZlcmxhcFwiKSYmbyhoLHIscyxlLGksbil9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0KSxvPW4ucGFyc2VQZXJjZW50LGE9aSg5Mykscj1pKDEpLHM9MipNYXRoLlBJLGw9TWF0aC5QSS8xODA7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpKXtlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldChcImNlbnRlclwiKSxoPXQuZ2V0KFwicmFkaXVzXCIpO3IuaXNBcnJheShoKXx8KGg9WzAsaF0pLHIuaXNBcnJheShlKXx8KGU9W2UsZV0pO3ZhciB1PWkuZ2V0V2lkdGgoKSxjPWkuZ2V0SGVpZ2h0KCksZD1NYXRoLm1pbih1LGMpLGY9byhlWzBdLHUpLHA9byhlWzFdLGMpLGc9byhoWzBdLGQvMiksbT1vKGhbMV0sZC8yKSx2PXQuZ2V0RGF0YSgpLHk9LXQuZ2V0KFwic3RhcnRBbmdsZVwiKSpsLHg9dC5nZXQoXCJtaW5BbmdsZVwiKSpsLF89di5nZXRTdW0oXCJ2YWx1ZVwiKSxiPU1hdGguUEkvKF98fHYuY291bnQoKSkqMix3PXQuZ2V0KFwiY2xvY2t3aXNlXCIpLFM9dC5nZXQoXCJyb3NlVHlwZVwiKSxNPXYuZ2V0RGF0YUV4dGVudChcInZhbHVlXCIpO01bMF09MDt2YXIgQT1zLEk9MCxUPXksTD13PzE6LTE7aWYodi5lYWNoKFwidmFsdWVcIixmdW5jdGlvbih0LGUpe3ZhciBpO2k9XCJhcmVhXCIhPT1TPzA9PT1fP2I6dCpiOnMvKHYuY291bnQoKXx8MSkseD5pPyhpPXgsQS09eCk6SSs9dDt2YXIgbz1UK0wqaTt2LnNldEl0ZW1MYXlvdXQoZSx7YW5nbGU6aSxzdGFydEFuZ2xlOlQsZW5kQW5nbGU6byxjbG9ja3dpc2U6dyxjeDpmLGN5OnAscjA6ZyxyOlM/bi5saW5lYXJNYXAodCxNLFtnLG1dKTptfSksVD1vfSwhMCkscz5BKWlmKC4wMDE+PUEpe3ZhciBDPXMvdi5jb3VudCgpO3YuZWFjaChmdW5jdGlvbih0KXt2YXIgZT12LmdldEl0ZW1MYXlvdXQodCk7ZS5zdGFydEFuZ2xlPXkrTCp0KkMsZS5lbmRBbmdsZT15K0wqKHQrMSkqQ30pfWVsc2UgYj1BL0ksVD15LHYuZWFjaChcInZhbHVlXCIsZnVuY3Rpb24odCxlKXt2YXIgaT12LmdldEl0ZW1MYXlvdXQoZSksbj1pLmFuZ2xlPT09eD94OnQqYjtpLnN0YXJ0QW5nbGU9VCxpLmVuZEFuZ2xlPVQrTCpuLFQrPW59KTthKHQsbSx1LGMpfSl9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aSg1MSksaSg5Nil9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7ZnVuY3Rpb24gaSh0LGUpe3ZhciBpPW4uZ2V0QXhpcyh0KTtyZXR1cm4gaS50b0dsb2JhbENvb3JkKGkuZGF0YVRvQ29vcmQoMCkpfXZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPWUuYXhpcyxhPXt9LHI9by5wb3NpdGlvbixzPW8ub25aZXJvP1wib25aZXJvXCI6cixsPW8uZGltLGg9bi5nZXRSZWN0KCksdT1baC54LGgueCtoLndpZHRoLGgueSxoLnkraC5oZWlnaHRdLGM9e3g6e3RvcDp1WzJdLGJvdHRvbTp1WzNdfSx5OntsZWZ0OnVbMF0scmlnaHQ6dVsxXX19O2MueC5vblplcm89TWF0aC5tYXgoTWF0aC5taW4oaShcInlcIiksYy54LmJvdHRvbSksYy54LnRvcCksYy55Lm9uWmVybz1NYXRoLm1heChNYXRoLm1pbihpKFwieFwiKSxjLnkucmlnaHQpLGMueS5sZWZ0KSxhLnBvc2l0aW9uPVtcInlcIj09PWw/Yy55W3NdOnVbMF0sXCJ4XCI9PT1sP2MueFtzXTp1WzNdXTt2YXIgZD17eDowLHk6MX07YS5yb3RhdGlvbj1NYXRoLlBJLzIqZFtsXTt2YXIgZj17dG9wOi0xLGJvdHRvbToxLGxlZnQ6LTEscmlnaHQ6MX07YS5sYWJlbERpcmVjdGlvbj1hLnRpY2tEaXJlY3Rpb249YS5uYW1lRGlyZWN0aW9uPWZbcl0sby5vblplcm8mJihhLmxhYmVsT2Zmc2V0PWNbbF1bcl0tY1tsXS5vblplcm8pLGUuZ2V0TW9kZWwoXCJheGlzVGlja1wiKS5nZXQoXCJpbnNpZGVcIikmJihhLnRpY2tEaXJlY3Rpb249LWEudGlja0RpcmVjdGlvbiksZS5nZXRNb2RlbChcImF4aXNMYWJlbFwiKS5nZXQoXCJpbnNpZGVcIikmJihhLmxhYmVsRGlyZWN0aW9uPS1hLmxhYmVsRGlyZWN0aW9uKTt2YXIgcD1lLmdldE1vZGVsKFwiYXhpc0xhYmVsXCIpLmdldChcInJvdGF0ZVwiKTtyZXR1cm4gYS5sYWJlbFJvdGF0aW9uPVwidG9wXCI9PT1zPy1wOnAsYS5sYWJlbEludGVydmFsPW8uZ2V0TGFiZWxJbnRlcnZhbCgpLGEuejI9MSxhfXZhciBvPWkoMSksYT1pKDMpLHI9aSg0OSkscz1yLmlmSWdub3JlT25UaWNrLGw9ci5nZXRJbnRlcnZhbCxoPVtcImF4aXNMaW5lXCIsXCJheGlzTGFiZWxcIixcImF4aXNUaWNrXCIsXCJheGlzTmFtZVwiXSx1PVtcInNwbGl0TGluZVwiLFwic3BsaXRBcmVhXCJdLGM9aSgyKS5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwiYXhpc1wiLHJlbmRlcjpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoXCJzaG93XCIpKXt2YXIgaT1lLmdldENvbXBvbmVudChcImdyaWRcIix0LmdldChcImdyaWRJbmRleFwiKSksYT1uKGksdCkscz1uZXcgcih0LGEpO28uZWFjaChoLHMuYWRkLHMpLHRoaXMuZ3JvdXAuYWRkKHMuZ2V0R3JvdXAoKSksby5lYWNoKHUsZnVuY3Rpb24oZSl7dC5nZXQoZStcIi5zaG93XCIpJiZ0aGlzW1wiX1wiK2VdKHQsaSxhLmxhYmVsSW50ZXJ2YWwpfSx0aGlzKX19LF9zcGxpdExpbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuYXhpcyxyPXQuZ2V0TW9kZWwoXCJzcGxpdExpbmVcIiksaD1yLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLHU9aC5nZXQoXCJ3aWR0aFwiKSxjPWguZ2V0KFwiY29sb3JcIiksZD1sKHIsaSk7Yz1vLmlzQXJyYXkoYyk/YzpbY107Zm9yKHZhciBmPWUuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCkscD1uLmlzSG9yaXpvbnRhbCgpLGc9W10sbT0wLHY9bi5nZXRUaWNrc0Nvb3JkcygpLHk9W10seD1bXSxfPTA7Xzx2Lmxlbmd0aDtfKyspaWYoIXMobixfLGQpKXt2YXIgYj1uLnRvR2xvYmFsQ29vcmQodltfXSk7cD8oeVswXT1iLHlbMV09Zi55LHhbMF09Yix4WzFdPWYueStmLmhlaWdodCk6KHlbMF09Zi54LHlbMV09Yix4WzBdPWYueCtmLndpZHRoLHhbMV09Yik7dmFyIHc9bSsrJWMubGVuZ3RoO2dbd109Z1t3XXx8W10sZ1t3XS5wdXNoKG5ldyBhLkxpbmUoYS5zdWJQaXhlbE9wdGltaXplTGluZSh7c2hhcGU6e3gxOnlbMF0seTE6eVsxXSx4Mjp4WzBdLHkyOnhbMV19LHN0eWxlOntsaW5lV2lkdGg6dX0sc2lsZW50OiEwfSkpKX1mb3IodmFyIFM9aC5nZXRMaW5lU3R5bGUoKSxfPTA7XzxnLmxlbmd0aDtfKyspdGhpcy5ncm91cC5hZGQoYS5tZXJnZVBhdGgoZ1tfXSx7c3R5bGU6by5kZWZhdWx0cyh7c3Ryb2tlOmNbXyVjLmxlbmd0aF19LFMpLHNpbGVudDohMH0pKX0sX3NwbGl0QXJlYTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5heGlzLHI9dC5nZXRNb2RlbChcInNwbGl0QXJlYVwiKSxoPXIuZ2V0TW9kZWwoXCJhcmVhU3R5bGVcIiksdT1oLmdldChcImNvbG9yXCIpLGM9ZS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxkPW4uZ2V0VGlja3NDb29yZHMoKSxmPW4udG9HbG9iYWxDb29yZChkWzBdKSxwPW4udG9HbG9iYWxDb29yZChkWzBdKSxnPVtdLG09MCx2PWwocixpKTt1PW8uaXNBcnJheSh1KT91Olt1XTtmb3IodmFyIHk9MTt5PGQubGVuZ3RoO3krKylpZighcyhuLHksdikpe3ZhciB4LF8sYix3LFM9bi50b0dsb2JhbENvb3JkKGRbeV0pO24uaXNIb3Jpem9udGFsKCk/KHg9ZixfPWMueSxiPVMteCx3PWMuaGVpZ2h0KTooeD1jLngsXz1wLGI9Yy53aWR0aCx3PVMtXyk7dmFyIE09bSsrJXUubGVuZ3RoO2dbTV09Z1tNXXx8W10sZ1tNXS5wdXNoKG5ldyBhLlJlY3Qoe3NoYXBlOnt4OngseTpfLHdpZHRoOmIsaGVpZ2h0Ond9LHNpbGVudDohMH0pKSxmPXgrYixwPV8rd31mb3IodmFyIEE9aC5nZXRBcmVhU3R5bGUoKSx5PTA7eTxnLmxlbmd0aDt5KyspdGhpcy5ncm91cC5hZGQoYS5tZXJnZVBhdGgoZ1t5XSx7c3R5bGU6by5kZWZhdWx0cyh7ZmlsbDp1W3kldS5sZW5ndGhdfSxBKSxzaWxlbnQ6ITB9KSl9fSk7Yy5leHRlbmQoe3R5cGU6XCJ4QXhpc1wifSksYy5leHRlbmQoe3R5cGU6XCJ5QXhpc1wifSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89aSg3KSxhPWkoMik7YS5yZWdpc3RlckFjdGlvbihcImRhdGFab29tXCIsZnVuY3Rpb24odCxlKXt2YXIgaT1vLmNyZWF0ZUxpbmtlZE5vZGVzRmluZGVyKG4uYmluZChlLmVhY2hDb21wb25lbnQsZSxcImRhdGFab29tXCIpLG8uZWFjaEF4aXNEaW0sZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXQoZS5heGlzSW5kZXgpfSksYT1bXTtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwiZGF0YVpvb21cIixxdWVyeTp0fSxmdW5jdGlvbih0LGUpe2EucHVzaC5hcHBseShhLGkodCkubm9kZXMpfSksbi5lYWNoKGEsZnVuY3Rpb24oZSxpKXtlLnNldFJhd1JhbmdlKHtzdGFydDp0LnN0YXJ0LGVuZDp0LmVuZCxzdGFydFZhbHVlOnQuc3RhcnRWYWx1ZSxlbmRWYWx1ZTp0LmVuZFZhbHVlfSl9KX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7aS5nZXRBeGlzUHJveHkodC5uYW1lLGUpLnJlc2V0KGkpfWZ1bmN0aW9uIG8odCxlLGkpe2kuZ2V0QXhpc1Byb3h5KHQubmFtZSxlKS5maWx0ZXJEYXRhKGkpfXZhciBhPWkoMik7YS5yZWdpc3RlclByb2Nlc3NvcihcImZpbHRlclwiLGZ1bmN0aW9uKHQsZSl7dC5lYWNoQ29tcG9uZW50KFwiZGF0YVpvb21cIixmdW5jdGlvbih0KXt0LmVhY2hUYXJnZXRBeGlzKG4pLHQuZWFjaFRhcmdldEF4aXMobyl9KSx0LmVhY2hDb21wb25lbnQoXCJkYXRhWm9vbVwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCksaT1lLmdldERhdGFQZXJjZW50V2luZG93KCksbj1lLmdldERhdGFWYWx1ZVdpbmRvdygpO3Quc2V0UmF3UmFuZ2Uoe3N0YXJ0OmlbMF0sZW5kOmlbMV0sc3RhcnRWYWx1ZTpuWzBdLGVuZFZhbHVlOm5bMV19KX0pfSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXRbcl07cmV0dXJuIGV8fChlPXRbcl09W3t9XSksZX12YXIgbz1pKDEpLGE9by5lYWNoLHI9XCJcXHgwMF9lY19oaXN0X3N0b3JlXCIscz17cHVzaDpmdW5jdGlvbih0LGUpe3ZhciBpPW4odCk7YShlLGZ1bmN0aW9uKGUsbil7Zm9yKHZhciBvPWkubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPWlbb107aWYoYVtuXSlicmVha31pZigwPm8pe3ZhciByPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpcImRhdGFab29tXCIsc3ViVHlwZTpcInNlbGVjdFwiLGlkOm59KVswXTtpZihyKXt2YXIgcz1yLmdldFBlcmNlbnRSYW5nZSgpO2lbMF1bbl09e2RhdGFab29tSWQ6bixzdGFydDpzWzBdLGVuZDpzWzFdfX19fSksaS5wdXNoKGUpfSxwb3A6ZnVuY3Rpb24odCl7dmFyIGU9bih0KSxpPWVbZS5sZW5ndGgtMV07ZS5sZW5ndGg+MSYmZS5wb3AoKTt2YXIgbz17fTtyZXR1cm4gYShpLGZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPWUubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciB0PWVbbl1baV07aWYodCl7b1tpXT10O2JyZWFrfX19KSxvfSxjbGVhcjpmdW5jdGlvbih0KXt0W3JdPW51bGx9LGNvdW50OmZ1bmN0aW9uKHQpe3JldHVybiBuKHQpLmxlbmd0aH19O3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsaSl7aSgxMCkucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKFwiZGF0YVpvb21cIixmdW5jdGlvbih0KXtyZXR1cm5cInNsaWRlclwifSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdFtuXXx8KHRbbl09e30pfXZhciBuPVwiXFx4MDBfZWNfaW50ZXJhY3Rpb25fbXV0ZXhcIixvPXt0YWtlOmZ1bmN0aW9uKHQsZSl7aShlKVt0XT0hMH0scmVsZWFzZTpmdW5jdGlvbih0LGUpe2koZSlbdF09ITF9LGlzVGFrZW46ZnVuY3Rpb24odCxlKXtyZXR1cm4hIWkoZSlbdF19fTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkpe28ucG9zaXRpb25Hcm91cCh0LGUuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmkuZ2V0V2lkdGgoKSxoZWlnaHQ6aS5nZXRIZWlnaHQoKX0sZS5nZXQoXCJwYWRkaW5nXCIpKX12YXIgbz1pKDExKSxhPWkoOSkscj1pKDMpO3QuZXhwb3J0cz17bGF5b3V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgYT1vLmdldExheW91dFJlY3QoZS5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSxlLmdldChcInBhZGRpbmdcIikpO28uYm94KGUuZ2V0KFwib3JpZW50XCIpLHQsZS5nZXQoXCJpdGVtR2FwXCIpLGEud2lkdGgsYS5oZWlnaHQpLG4odCxlLGkpfSxhZGRCYWNrZ3JvdW5kOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5ub3JtYWxpemVDc3NBcnJheShlLmdldChcInBhZGRpbmdcIikpLG49dC5nZXRCb3VuZGluZ1JlY3QoKSxvPWUuZ2V0SXRlbVN0eWxlKFtcImNvbG9yXCIsXCJvcGFjaXR5XCJdKTtvLmZpbGw9ZS5nZXQoXCJiYWNrZ3JvdW5kQ29sb3JcIik7dmFyIHM9bmV3IHIuUmVjdCh7c2hhcGU6e3g6bi54LWlbM10seTpuLnktaVswXSx3aWR0aDpuLndpZHRoK2lbMV0raVszXSxoZWlnaHQ6bi5oZWlnaHQraVswXStpWzJdfSxzdHlsZTpvLHNpbGVudDohMCx6MjotMX0pO3Iuc3ViUGl4ZWxPcHRpbWl6ZVJlY3QocyksdC5hZGQocyl9fX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkpe3ZhciBuPS0xO2RvIG49TWF0aC5tYXgoci5nZXRQcmVjaXNpb24odC5nZXQoZSxpKSksbiksdD10LnN0YWNrZWRPbjt3aGlsZSh0KTtyZXR1cm4gbn1mdW5jdGlvbiBvKHQsZSxpLG8sYSxyKXt2YXIgcz1bXSxsPXAoZSxvLHQpLGg9ZS5pbmRleE9mTmVhcmVzdChvLGwsITApO3NbYV09ZS5nZXQoaSxoLCEwKSxzW3JdPWUuZ2V0KG8saCwhMCk7dmFyIHU9bihlLG8saCk7cmV0dXJuIHU+PTAmJihzW3JdPStzW3JdLnRvRml4ZWQodSkpLHN9dmFyIGE9aSgxKSxyPWkoNCkscz1hLmluZGV4T2YsbD1hLmN1cnJ5LGg9e21pbjpsKG8sXCJtaW5cIiksbWF4OmwobyxcIm1heFwiKSxhdmVyYWdlOmwobyxcImF2ZXJhZ2VcIil9LHU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihlJiYoaXNOYU4ocGFyc2VGbG9hdChlLngpKXx8aXNOYU4ocGFyc2VGbG9hdChlLnkpKSkmJiFhLmlzQXJyYXkoZS5jb29yZCkmJm4pe3ZhciBvPWMoZSxpLG4sdCk7aWYoZT1hLmNsb25lKGUpLGUudHlwZSYmaFtlLnR5cGVdJiZvLmJhc2VBeGlzJiZvLnZhbHVlQXhpcyl7dmFyIHI9bi5kaW1lbnNpb25zLGw9cyhyLG8uYmFzZUF4aXMuZGltKSx1PXMocixvLnZhbHVlQXhpcy5kaW0pO2UuY29vcmQ9aFtlLnR5cGVdKGksby5iYXNlRGF0YURpbSxvLnZhbHVlRGF0YURpbSxsLHUpLGUudmFsdWU9ZS5jb29yZFt1XX1lbHNlIGUuY29vcmQ9W251bGwhPWUueEF4aXM/ZS54QXhpczplLnJhZGl1c0F4aXMsbnVsbCE9ZS55QXhpcz9lLnlBeGlzOmUuYW5nbGVBeGlzXX1yZXR1cm4gZX0sYz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz17fTtyZXR1cm4gbnVsbCE9dC52YWx1ZUluZGV4fHxudWxsIT10LnZhbHVlRGltPyhvLnZhbHVlRGF0YURpbT1udWxsIT10LnZhbHVlSW5kZXg/ZS5nZXREaW1lbnNpb24odC52YWx1ZUluZGV4KTp0LnZhbHVlRGltLG8udmFsdWVBeGlzPWkuZ2V0QXhpcyhuLmRhdGFEaW1Ub0Nvb3JkRGltKG8udmFsdWVEYXRhRGltKSksby5iYXNlQXhpcz1pLmdldE90aGVyQXhpcyhvLnZhbHVlQXhpcyksby5iYXNlRGF0YURpbT1uLmNvb3JkRGltVG9EYXRhRGltKG8uYmFzZUF4aXMuZGltKVswXSk6KG8uYmFzZUF4aXM9bi5nZXRCYXNlQXhpcygpLG8udmFsdWVBeGlzPWkuZ2V0T3RoZXJBeGlzKG8uYmFzZUF4aXMpLG8uYmFzZURhdGFEaW09bi5jb29yZERpbVRvRGF0YURpbShvLmJhc2VBeGlzLmRpbSlbMF0sby52YWx1ZURhdGFEaW09bi5jb29yZERpbVRvRGF0YURpbShvLnZhbHVlQXhpcy5kaW0pWzBdKSxvfSxkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQuY29udGFpbkRhdGEmJmUuY29vcmQmJihudWxsPT1lLnh8fG51bGw9PWUueSk/dC5jb250YWluRGF0YShlLmNvb3JkKTohMH0sZj1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gMj5uP3QuY29vcmQmJnQuY29vcmRbbl06dC52YWx1ZX0scD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuXCJhdmVyYWdlXCI9PT1pP3QuZ2V0U3VtKGUsITApL3QuY291bnQoKTp0LmdldERhdGFFeHRlbnQoZSwhMClbXCJtYXhcIj09PWk/MTowXX07dC5leHBvcnRzPXtkYXRhVHJhbnNmb3JtOnUsZGF0YUZpbHRlcjpkLGRpbVZhbHVlR2V0dGVyOmYsZ2V0QXhpc0luZm86YyxudW1DYWxjdWxhdGU6cH19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89aSg0MyksYT1pKDEwOCkscj1mdW5jdGlvbih0LGUsaSxuLGEpe28uY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9bnx8XCJ2YWx1ZVwiLHRoaXMucG9zaXRpb249YXx8XCJib3R0b21cIn07ci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIsaW5kZXg6MCxvblplcm86ITEsbW9kZWw6bnVsbCxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uO3JldHVyblwidG9wXCI9PT10fHxcImJvdHRvbVwiPT09dH0sZ2V0R2xvYmFsRXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4gdFswXT10aGlzLnRvR2xvYmFsQ29vcmQodFswXSksdFsxXT10aGlzLnRvR2xvYmFsQ29vcmQodFsxXSksdH0sZ2V0TGFiZWxJbnRlcnZhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xhYmVsSW50ZXJ2YWw7cmV0dXJuIHR8fCh0PXRoaXMuX2xhYmVsSW50ZXJ2YWw9YSh0aGlzKSksdH0saXNMYWJlbElnbm9yZWQ6ZnVuY3Rpb24odCl7aWYoXCJjYXRlZ29yeVwiPT09dGhpcy50eXBlKXt2YXIgZT10aGlzLmdldExhYmVsSW50ZXJ2YWwoKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYhZSh0LHRoaXMuc2NhbGUuZ2V0TGFiZWwodCkpfHx0JShlKzEpfX0sdG9Mb2NhbENvb3JkOm51bGwsdG9HbG9iYWxDb29yZDpudWxsfSxuLmluaGVyaXRzKHIsbyksdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0aGlzLl9heGVzW3RdfXZhciBvPWkoMSksYT1mdW5jdGlvbih0KXt0aGlzLl9heGVzPXt9LHRoaXMuX2RpbUxpc3Q9W10sdGhpcy5uYW1lPXR8fFwiXCJ9O2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphLHR5cGU6XCJjYXJ0ZXNpYW5cIixnZXRBeGlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9heGVzW3RdfSxnZXRBeGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG8ubWFwKHRoaXMuX2RpbUxpc3Qsbix0aGlzKX0sZ2V0QXhlc0J5U2NhbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC50b0xvd2VyQ2FzZSgpLG8uZmlsdGVyKHRoaXMuZ2V0QXhlcygpLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjYWxlLnR5cGU9PT10fSl9LGFkZEF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5kaW07dGhpcy5fYXhlc1tlXT10LHRoaXMuX2RpbUxpc3QucHVzaChlKX0sZGF0YVRvQ29vcmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RhdGFDb29yZENvbnZlcnQodCxcImRhdGFUb0Nvb3JkXCIpfSxjb29yZFRvRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YUNvb3JkQ29udmVydCh0LFwiY29vcmRUb0RhdGFcIil9LF9kYXRhQ29vcmRDb252ZXJ0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2RpbUxpc3Qsbj10IGluc3RhbmNlb2YgQXJyYXk/W106e30sbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLHI9dGhpcy5fYXhlc1thXTtuW2FdPXJbZV0odFthXSl9cmV0dXJuIG59fSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7YS5jYWxsKHRoaXMsdCl9dmFyIG89aSgxKSxhPWkoMTA1KTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bix0eXBlOlwiY2FydGVzaWFuMmRcIixkaW1lbnNpb25zOltcInhcIixcInlcIl0sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGVzQnlTY2FsZShcIm9yZGluYWxcIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoXCJ0aW1lXCIpWzBdfHx0aGlzLmdldEF4aXMoXCJ4XCIpfSxjb250YWluUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKFwieFwiKSxpPXRoaXMuZ2V0QXhpcyhcInlcIik7cmV0dXJuIGUuY29udGFpbihlLnRvTG9jYWxDb29yZCh0WzBdKSkmJmkuY29udGFpbihpLnRvTG9jYWxDb29yZCh0WzFdKSl9LGNvbnRhaW5EYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEF4aXMoXCJ4XCIpLmNvbnRhaW5EYXRhKHRbMF0pJiZ0aGlzLmdldEF4aXMoXCJ5XCIpLmNvbnRhaW5EYXRhKHRbMV0pfSxkYXRhVG9Qb2ludHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXBBcnJheShbXCJ4XCIsXCJ5XCJdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YVRvUG9pbnQoW3QsZV0pfSxlLHRoaXMpfSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXhpcyhcInhcIiksbj10aGlzLmdldEF4aXMoXCJ5XCIpO3JldHVybltpLnRvR2xvYmFsQ29vcmQoaS5kYXRhVG9Db29yZCh0WzBdLGUpKSxuLnRvR2xvYmFsQ29vcmQobi5kYXRhVG9Db29yZCh0WzFdLGUpKV19LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRBeGlzKFwieFwiKSxuPXRoaXMuZ2V0QXhpcyhcInlcIik7cmV0dXJuW2kuY29vcmRUb0RhdGEoaS50b0xvY2FsQ29vcmQodFswXSksZSksbi5jb29yZFRvRGF0YShuLnRvTG9jYWxDb29yZCh0WzFdKSxlKV19LGdldE90aGVyQXhpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBeGlzKFwieFwiPT09dC5kaW0/XCJ5XCI6XCJ4XCIpfX0sby5pbmhlcml0cyhuLGEpLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aSg1MSk7dmFyIG49aSgxMCk7dC5leHBvcnRzPW4uZXh0ZW5kKHt0eXBlOlwiZ3JpZFwiLGRlcGVuZGVuY2llczpbXCJ4QXhpc1wiLFwieUF4aXNcIl0sbGF5b3V0TW9kZTpcImJveFwiLGNvb3JkaW5hdGVTeXN0ZW06bnVsbCxkZWZhdWx0T3B0aW9uOntzaG93OiExLHpsZXZlbDowLHo6MCxsZWZ0OlwiMTAlXCIsdG9wOjYwLHJpZ2h0OlwiMTAlXCIsYm90dG9tOjYwLGNvbnRhaW5MYWJlbDohMSxiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDApXCIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjpcIiNjY2NcIn19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSksbz1pKDI0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5tb2RlbCxpPWUuZ2V0TW9kZWwoXCJheGlzTGFiZWxcIiksYT1pLmdldChcImludGVydmFsXCIpO3JldHVyblwiY2F0ZWdvcnlcIiE9PXQudHlwZXx8XCJhdXRvXCIhPT1hP1wiYXV0b1wiPT09YT8wOmE6by5nZXRBeGlzTGFiZWxJbnRlcnZhbChuLm1hcCh0LnNjYWxlLmdldFRpY2tzKCksdC5kYXRhVG9Db29yZCx0KSxlLmdldEZvcm1hdHRlZExhYmVscygpLGkuZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIikuZ2V0Rm9udCgpLHQuaXNIb3Jpem9udGFsKCkpfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQuZ2V0KFwic3RhY2tcIil8fFwiX19lY19zdGFja19cIit0LnNlcmllc0luZGV4fWZ1bmN0aW9uIG8odCxlKXt2YXIgaT17fTtyLmVhY2godCxmdW5jdGlvbih0LGUpe3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPW8uZ2V0QmFzZUF4aXMoKSxyPWlbYS5pbmRleF18fHtyZW1haW5lZFdpZHRoOmEuZ2V0QmFuZFdpZHRoKCksYXV0b1dpZHRoQ291bnQ6MCxjYXRlZ29yeUdhcDpcIjIwJVwiLGdhcDpcIjMwJVwiLGF4aXM6YSxzdGFja3M6e319LHM9ci5zdGFja3M7aVthLmluZGV4XT1yO3ZhciBsPW4odCk7c1tsXXx8ci5hdXRvV2lkdGhDb3VudCsrLHNbbF09c1tsXXx8e3dpZHRoOjAsbWF4V2lkdGg6MH07dmFyIGg9dC5nZXQoXCJiYXJXaWR0aFwiKSx1PXQuZ2V0KFwiYmFyTWF4V2lkdGhcIiksYz10LmdldChcImJhckdhcFwiKSxkPXQuZ2V0KFwiYmFyQ2F0ZWdvcnlHYXBcIik7aCYmIXNbbF0ud2lkdGgmJihoPU1hdGgubWluKHIucmVtYWluZWRXaWR0aCxoKSxzW2xdLndpZHRoPWgsci5yZW1haW5lZFdpZHRoLT1oKSx1JiYoc1tsXS5tYXhXaWR0aD11KSxudWxsIT1jJiYoci5nYXA9YyksbnVsbCE9ZCYmKHIuY2F0ZWdvcnlHYXA9ZCl9KTt2YXIgbz17fTtyZXR1cm4gci5lYWNoKGksZnVuY3Rpb24odCxlKXtvW2VdPXt9O3ZhciBpPXQuc3RhY2tzLG49dC5heGlzLGE9bi5nZXRCYW5kV2lkdGgoKSxzPWwodC5jYXRlZ29yeUdhcCxhKSxoPWwodC5nYXAsMSksdT10LnJlbWFpbmVkV2lkdGgsYz10LmF1dG9XaWR0aENvdW50LGQ9KHUtcykvKGMrKGMtMSkqaCk7ZD1NYXRoLm1heChkLDApLHIuZWFjaChpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5tYXhXaWR0aDshdC53aWR0aCYmaSYmZD5pJiYoaT1NYXRoLm1pbihpLHUpLHUtPWksdC53aWR0aD1pLGMtLSl9KSxkPSh1LXMpLyhjKyhjLTEpKmgpLGQ9TWF0aC5tYXgoZCwwKTt2YXIgZixwPTA7ci5lYWNoKGksZnVuY3Rpb24odCxlKXt0LndpZHRofHwodC53aWR0aD1kKSxmPXQscCs9dC53aWR0aCooMStoKX0pLGYmJihwLT1mLndpZHRoKmgpO3ZhciBnPS1wLzI7ci5lYWNoKGksZnVuY3Rpb24odCxpKXtvW2VdW2ldPW9bZV1baV18fHtvZmZzZXQ6Zyx3aWR0aDp0LndpZHRofSxnKz10LndpZHRoKigxK2gpfSl9KSxvfWZ1bmN0aW9uIGEodCxlLGkpe3ZhciBhPW8oci5maWx0ZXIoZS5nZXRTZXJpZXNCeVR5cGUodCksZnVuY3Rpb24odCl7cmV0dXJuIWUuaXNTZXJpZXNGaWx0ZXJlZCh0KSYmdC5jb29yZGluYXRlU3lzdGVtJiZcImNhcnRlc2lhbjJkXCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZX0pKSxzPXt9O2UuZWFjaFNlcmllc0J5VHlwZSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtLG89aS5nZXRCYXNlQXhpcygpLHI9bih0KSxsPWFbby5pbmRleF1bcl0saD1sLm9mZnNldCx1PWwud2lkdGgsYz1pLmdldE90aGVyQXhpcyhvKSxkPXQuZ2V0KFwiYmFyTWluSGVpZ2h0XCIpfHwwLGY9by5vblplcm8/Yy50b0dsb2JhbENvb3JkKGMuZGF0YVRvQ29vcmQoMCkpOmMuZ2V0R2xvYmFsRXh0ZW50KClbMF0scD1pLmRhdGFUb1BvaW50cyhlLCEwKTtzW3JdPXNbcl18fFtdLGUuc2V0TGF5b3V0KHtvZmZzZXQ6aCxzaXplOnV9KSxlLmVhY2goYy5kaW0sZnVuY3Rpb24odCxpKXtpZighaXNOYU4odCkpe3Nbcl1baV18fChzW3JdW2ldPXtwOmYsbjpmfSk7dmFyIG4sbyxhLGwsZz10Pj0wP1wicFwiOlwiblwiLG09cFtpXSx2PXNbcl1baV1bZ107Yy5pc0hvcml6b250YWwoKT8obj12LG89bVsxXStoLGE9bVswXS12LGw9dSxNYXRoLmFicyhhKTxkJiYoYT0oMD5hPy0xOjEpKmQpLHNbcl1baV1bZ10rPWEpOihuPW1bMF0raCxvPXYsYT11LGw9bVsxXS12LE1hdGguYWJzKGwpPGQmJihsPSgwPj1sPy0xOjEpKmQpLHNbcl1baV1bZ10rPWwpLGUuc2V0SXRlbUxheW91dChpLHt4Om4seTpvLHdpZHRoOmEsaGVpZ2h0Omx9KX19LCEwKX0sdGhpcyl9dmFyIHI9aSgxKSxzPWkoNCksbD1zLnBhcnNlUGVyY2VudDt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMyksbz1pKDEpLGE9TWF0aC5QSTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlPWV8fHt9LG8uZGVmYXVsdHMoZSx7dGV4dDpcImxvYWRpbmdcIixjb2xvcjpcIiNjMjM1MzFcIix0ZXh0Q29sb3I6XCIjMDAwXCIsbWFza0NvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpXCIsemxldmVsOjB9KTt2YXIgaT1uZXcgbi5SZWN0KHtzdHlsZTp7ZmlsbDplLm1hc2tDb2xvcn0semxldmVsOmUuemxldmVsLHo6MWU0fSkscj1uZXcgbi5BcmMoe3NoYXBlOntzdGFydEFuZ2xlOi1hLzIsZW5kQW5nbGU6LWEvMisuMSxyOjEwfSxzdHlsZTp7c3Ryb2tlOmUuY29sb3IsbGluZUNhcDpcInJvdW5kXCIsbGluZVdpZHRoOjV9LHpsZXZlbDplLnpsZXZlbCx6OjEwMDAxfSkscz1uZXcgbi5SZWN0KHtzdHlsZTp7ZmlsbDpcIm5vbmVcIix0ZXh0OmUudGV4dCx0ZXh0UG9zaXRpb246XCJyaWdodFwiLHRleHREaXN0YW5jZToxMCx0ZXh0RmlsbDplLnRleHRDb2xvcn0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KTtyLmFuaW1hdGVTaGFwZSghMCkud2hlbigxZTMse2VuZEFuZ2xlOjMqYS8yfSkuc3RhcnQoXCJjaXJjdWxhckluT3V0XCIpLHIuYW5pbWF0ZVNoYXBlKCEwKS53aGVuKDFlMyx7c3RhcnRBbmdsZTozKmEvMn0pLmRlbGF5KDMwMCkuc3RhcnQoXCJjaXJjdWxhckluT3V0XCIpO3ZhciBsPW5ldyBuLkdyb3VwO3JldHVybiBsLmFkZChyKSxsLmFkZChzKSxsLmFkZChpKSxsLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBlPXQuZ2V0V2lkdGgoKS8yLG49dC5nZXRIZWlnaHQoKS8yO3Iuc2V0U2hhcGUoe2N4OmUsY3k6bn0pO3ZhciBvPXIuc2hhcGUucjtzLnNldFNoYXBlKHt4OmUtbyx5Om4tbyx3aWR0aDoyKm8saGVpZ2h0OjIqb30pLGkuc2V0U2hhcGUoe3g6MCx5OjAsd2lkdGg6dC5nZXRXaWR0aCgpLGhlaWdodDp0LmdldEhlaWdodCgpfSl9LGwucmVzaXplKCksbH19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7Zm9yKHZhciBpIGluIGUpXy5oYXNDbGFzcyhpKXx8KFwib2JqZWN0XCI9PXR5cGVvZiBlW2ldP3RbaV09dFtpXT9jLm1lcmdlKHRbaV0sZVtpXSwhMSk6Yy5jbG9uZShlW2ldKTpudWxsPT10W2ldJiYodFtpXT1lW2ldKSl9ZnVuY3Rpb24gbyh0KXt0PXQsdGhpcy5vcHRpb249e30sdGhpcy5vcHRpb25bd109MSx0aGlzLl9jb21wb25lbnRzTWFwPXt9LHRoaXMuX3Nlcmllc0luZGljZXM9bnVsbCxuKHQsdGhpcy5fdGhlbWUub3B0aW9uKSxjLm1lcmdlKHQsYiwhMSksdGhpcy5tZXJnZU9wdGlvbih0KX1mdW5jdGlvbiBhKHQsZSl7Yy5pc0FycmF5KGUpfHwoZT1lP1tlXTpbXSk7dmFyIGk9e307cmV0dXJuIHAoZSxmdW5jdGlvbihlKXtpW2VdPSh0W2VdfHxbXSkuc2xpY2UoKX0pLGl9ZnVuY3Rpb24gcih0LGUpe3ZhciBpPXt9O3AoZSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhpc3Q7biYmKGlbbi5pZF09dCl9KSxwKGUsZnVuY3Rpb24oZSxuKXt2YXIgbz1lLm9wdGlvbjtpZihjLmFzc2VydCghb3x8bnVsbD09by5pZHx8IWlbby5pZF18fGlbby5pZF09PT1lLFwiaWQgZHVwbGljYXRlczogXCIrKG8mJm8uaWQpKSxvJiZudWxsIT1vLmlkJiYoaVtvLmlkXT1lKSx4KG8pKXt2YXIgYT1zKHQsbyxlLmV4aXN0KTtlLmtleUluZm89e21haW5UeXBlOnQsc3ViVHlwZTphfX19KSxwKGUsZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4aXN0LG89dC5vcHRpb24sYT10LmtleUluZm87aWYoeChvKSl7aWYoYS5uYW1lPW51bGwhPW8ubmFtZT9vLm5hbWUrXCJcIjpuP24ubmFtZTpcIlxceDAwLVwiLG4pYS5pZD1uLmlkO2Vsc2UgaWYobnVsbCE9by5pZClhLmlkPW8uaWQrXCJcIjtlbHNle3ZhciByPTA7ZG8gYS5pZD1cIlxceDAwXCIrYS5uYW1lK1wiXFx4MDBcIityKys7d2hpbGUoaVthLmlkXSl9aVthLmlkXT10fX0pfWZ1bmN0aW9uIHModCxlLGkpe3ZhciBuPWUudHlwZT9lLnR5cGU6aT9pLnN1YlR5cGU6Xy5kZXRlcm1pbmVTdWJUeXBlKHQsZSk7cmV0dXJuIG59ZnVuY3Rpb24gbCh0KXtyZXR1cm4gbSh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBvbmVudEluZGV4fSl8fFtdfWZ1bmN0aW9uIGgodCxlKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eShcInN1YlR5cGVcIik/Zyh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LnN1YlR5cGU9PT1lLnN1YlR5cGV9KTp0fWZ1bmN0aW9uIHUodCl7aWYoIXQuX3Nlcmllc0luZGljZXMpdGhyb3cgbmV3IEVycm9yKFwiU2VyaWVzIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXQuXCIpfXZhciBjPWkoMSksZD1pKDcpLGY9aSgxMikscD1jLmVhY2gsZz1jLmZpbHRlcixtPWMubWFwLHY9Yy5pc0FycmF5LHk9Yy5pbmRleE9mLHg9Yy5pc09iamVjdCxfPWkoMTApLGI9aSgxMTMpLHc9XCJcXHgwMF9lY19pbm5lclwiLFM9Zi5leHRlbmQoe2NvbnN0cnVjdG9yOlMsaW5pdDpmdW5jdGlvbih0LGUsaSxuKXtpPWl8fHt9LHRoaXMub3B0aW9uPW51bGwsdGhpcy5fdGhlbWU9bmV3IGYoaSksdGhpcy5fb3B0aW9uTWFuYWdlcj1ufSxzZXRPcHRpb246ZnVuY3Rpb24odCxlKXtjLmFzc2VydCghKHcgaW4gdCksXCJwbGVhc2UgdXNlIGNoYXJ0LmdldE9wdGlvbigpXCIpLHRoaXMuX29wdGlvbk1hbmFnZXIuc2V0T3B0aW9uKHQsZSksdGhpcy5yZXNldE9wdGlvbigpfSxyZXNldE9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT0hMSxpPXRoaXMuX29wdGlvbk1hbmFnZXI7aWYoIXR8fFwicmVjcmVhdGVcIj09PXQpe3ZhciBuPWkubW91bnRPcHRpb24oXCJyZWNyZWF0ZVwiPT09dCk7dGhpcy5vcHRpb24mJlwicmVjcmVhdGVcIiE9PXQ/KHRoaXMucmVzdG9yZURhdGEoKSx0aGlzLm1lcmdlT3B0aW9uKG4pKTpvLmNhbGwodGhpcyxuKSxlPSEwfWlmKFwidGltZWxpbmVcIiE9PXQmJlwibWVkaWFcIiE9PXR8fHRoaXMucmVzdG9yZURhdGEoKSwhdHx8XCJyZWNyZWF0ZVwiPT09dHx8XCJ0aW1lbGluZVwiPT09dCl7dmFyIGE9aS5nZXRUaW1lbGluZU9wdGlvbih0aGlzKTthJiYodGhpcy5tZXJnZU9wdGlvbihhKSxlPSEwKX1pZighdHx8XCJyZWNyZWF0ZVwiPT09dHx8XCJtZWRpYVwiPT09dCl7dmFyIHI9aS5nZXRNZWRpYU9wdGlvbih0aGlzLHRoaXMuX2FwaSk7ci5sZW5ndGgmJnAocixmdW5jdGlvbih0KXt0aGlzLm1lcmdlT3B0aW9uKHQsZT0hMCl9LHRoaXMpfXJldHVybiBlfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbyl7dmFyIHM9ZC5ub3JtYWxpemVUb0FycmF5KHRbZV0pLGg9ZC5tYXBwaW5nVG9FeGlzdHMobltlXSxzKTtyKGUsaCk7dmFyIHU9YShuLG8pO2lbZV09W10sbltlXT1bXSxwKGgsZnVuY3Rpb24odCxvKXt2YXIgYT10LmV4aXN0LHI9dC5vcHRpb247aWYoYy5hc3NlcnQoeChyKXx8YSxcIkVtcHR5IGNvbXBvbmVudCBkZWZpbml0aW9uXCIpLHIpe3ZhciBzPV8uZ2V0Q2xhc3MoZSx0LmtleUluZm8uc3ViVHlwZSwhMCk7YSYmYSBpbnN0YW5jZW9mIHM/KGEubWVyZ2VPcHRpb24ocix0aGlzKSxhLm9wdGlvblVwZGF0ZWQodGhpcykpOihhPW5ldyBzKHIsdGhpcyx0aGlzLGMuZXh0ZW5kKHtkZXBlbmRlbnRNb2RlbHM6dSxjb21wb25lbnRJbmRleDpvfSx0LmtleUluZm8pKSxhLm9wdGlvblVwZGF0ZWQodGhpcykpfWVsc2UgYS5tZXJnZU9wdGlvbih7fSx0aGlzKSxhLm9wdGlvblVwZGF0ZWQodGhpcyk7bltlXVtvXT1hLGlbZV1bb109YS5vcHRpb259LHRoaXMpLFwic2VyaWVzXCI9PT1lJiYodGhpcy5fc2VyaWVzSW5kaWNlcz1sKG4uc2VyaWVzKSl9dmFyIGk9dGhpcy5vcHRpb24sbj10aGlzLl9jb21wb25lbnRzTWFwLG89W107cCh0LGZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmKF8uaGFzQ2xhc3MoZSk/by5wdXNoKGUpOmlbZV09bnVsbD09aVtlXT9jLmNsb25lKHQpOmMubWVyZ2UoaVtlXSx0LCEwKSl9KSxfLnRvcG9sb2dpY2FsVHJhdmVsKG8sXy5nZXRBbGxDbGFzc01haW5UeXBlcygpLGUsdGhpcyl9LGdldE9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PWMuY2xvbmUodGhpcy5vcHRpb24pO3JldHVybiBwKHQsZnVuY3Rpb24oZSxpKXtpZihfLmhhc0NsYXNzKGkpKXtmb3IodmFyIGU9ZC5ub3JtYWxpemVUb0FycmF5KGUpLG49ZS5sZW5ndGgtMTtuPj0wO24tLSlkLmlzSWRJbm5lcihlW25dKSYmZS5zcGxpY2UobiwxKTt0W2ldPWV9fSksZGVsZXRlIHRbd10sdH0sZ2V0VGhlbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGhlbWV9LGdldENvbXBvbmVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2NvbXBvbmVudHNNYXBbdF07cmV0dXJuIGk/aVtlfHwwXTp2b2lkIDB9LHF1ZXJ5Q29tcG9uZW50czpmdW5jdGlvbih0KXt2YXIgZT10Lm1haW5UeXBlO2lmKCFlKXJldHVybltdO3ZhciBpPXQuaW5kZXgsbj10LmlkLG89dC5uYW1lLGE9dGhpcy5fY29tcG9uZW50c01hcFtlXTtpZighYXx8IWEubGVuZ3RoKXJldHVybltdO3ZhciByO2lmKG51bGwhPWkpdihpKXx8KGk9W2ldKSxyPWcobShpLGZ1bmN0aW9uKHQpe3JldHVybiBhW3RdfSksZnVuY3Rpb24odCl7cmV0dXJuISF0fSk7ZWxzZSBpZihudWxsIT1uKXt2YXIgcz12KG4pO3I9ZyhhLGZ1bmN0aW9uKHQpe3JldHVybiBzJiZ5KG4sdC5pZCk+PTB8fCFzJiZ0LmlkPT09bn0pfWVsc2UgaWYobnVsbCE9byl7dmFyIGw9dihvKTtyPWcoYSxmdW5jdGlvbih0KXtyZXR1cm4gbCYmeShvLHQubmFtZSk+PTB8fCFsJiZ0Lm5hbWU9PT1vfSl9cmV0dXJuIGgocix0KX0sZmluZENvbXBvbmVudHM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT1vK1wiSW5kZXhcIixpPW8rXCJJZFwiLG49bytcIk5hbWVcIjtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoZSl8fHQuaGFzT3duUHJvcGVydHkoaSl8fHQuaGFzT3duUHJvcGVydHkobikpP3ttYWluVHlwZTpvLGluZGV4OnRbZV0saWQ6dFtpXSxuYW1lOnRbbl19Om51bGx9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5maWx0ZXI/ZyhlLHQuZmlsdGVyKTplfXZhciBuPXQucXVlcnksbz10Lm1haW5UeXBlLGE9ZShuKSxyPWE/dGhpcy5xdWVyeUNvbXBvbmVudHMoYSk6dGhpcy5fY29tcG9uZW50c01hcFtvXTtyZXR1cm4gaShoKHIsdCkpfSxlYWNoQ29tcG9uZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9jb21wb25lbnRzTWFwO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpaT1lLGU9dCxwKG4sZnVuY3Rpb24odCxuKXtwKHQsZnVuY3Rpb24odCxvKXtlLmNhbGwoaSxuLHQsbyl9KX0pO2Vsc2UgaWYoYy5pc1N0cmluZyh0KSlwKG5bdF0sZSxpKTtlbHNlIGlmKHgodCkpe3ZhciBvPXRoaXMuZmluZENvbXBvbmVudHModCk7cChvLGUsaSl9fSxnZXRTZXJpZXNCeU5hbWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29tcG9uZW50c01hcC5zZXJpZXM7cmV0dXJuIGcoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09dH0pfSxnZXRTZXJpZXNCeUluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLnNlcmllc1t0XX0sZ2V0U2VyaWVzQnlUeXBlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbXBvbmVudHNNYXAuc2VyaWVzO3JldHVybiBnKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3ViVHlwZT09PXR9KX0sZ2V0U2VyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXAuc2VyaWVzLnNsaWNlKCl9LGVhY2hTZXJpZXM6ZnVuY3Rpb24odCxlKXt1KHRoaXMpLHAodGhpcy5fc2VyaWVzSW5kaWNlcyxmdW5jdGlvbihpKXt2YXIgbj10aGlzLl9jb21wb25lbnRzTWFwLnNlcmllc1tpXTt0LmNhbGwoZSxuLGkpfSx0aGlzKX0sZWFjaFJhd1NlcmllczpmdW5jdGlvbih0LGUpe3AodGhpcy5fY29tcG9uZW50c01hcC5zZXJpZXMsdCxlKX0sZWFjaFNlcmllc0J5VHlwZTpmdW5jdGlvbih0LGUsaSl7dSh0aGlzKSxwKHRoaXMuX3Nlcmllc0luZGljZXMsZnVuY3Rpb24obil7dmFyIG89dGhpcy5fY29tcG9uZW50c01hcC5zZXJpZXNbbl07by5zdWJUeXBlPT09dCYmZS5jYWxsKGksbyxuKX0sdGhpcyl9LGVhY2hSYXdTZXJpZXNCeVR5cGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBwKHRoaXMuZ2V0U2VyaWVzQnlUeXBlKHQpLGUsaSl9LGlzU2VyaWVzRmlsdGVyZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHUodGhpcyksYy5pbmRleE9mKHRoaXMuX3Nlcmllc0luZGljZXMsdC5jb21wb25lbnRJbmRleCk8MH0sZmlsdGVyU2VyaWVzOmZ1bmN0aW9uKHQsZSl7dSh0aGlzKTt2YXIgaT1nKHRoaXMuX2NvbXBvbmVudHNNYXAuc2VyaWVzLHQsZSk7dGhpcy5fc2VyaWVzSW5kaWNlcz1sKGkpfSxyZXN0b3JlRGF0YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbXBvbmVudHNNYXA7dGhpcy5fc2VyaWVzSW5kaWNlcz1sKHQuc2VyaWVzKTt2YXIgZT1bXTtwKHQsZnVuY3Rpb24odCxpKXtlLnB1c2goaSl9KSxfLnRvcG9sb2dpY2FsVHJhdmVsKGUsXy5nZXRBbGxDbGFzc01haW5UeXBlcygpLGZ1bmN0aW9uKGUsaSl7cCh0W2VdLGZ1bmN0aW9uKHQpe3QucmVzdG9yZURhdGEoKX0pfSl9fSk7dC5leHBvcnRzPVN9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3RoaXMuX2FwaT10LHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1bXSx0aGlzLl9tZWRpYUxpc3Q9W10sdGhpcy5fbWVkaWFEZWZhdWx0LHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sdGhpcy5fb3B0aW9uQmFja3VwLHRoaXMuX25ld0Jhc2VPcHRpb259ZnVuY3Rpb24gbyh0LGUpe3ZhciBpLG4sbz1bXSxhPVtdLHI9dC50aW1lbGluZTtpZih0LmJhc2VPcHRpb24mJihuPXQuYmFzZU9wdGlvbiksKHJ8fHQub3B0aW9ucykmJihuPW58fHt9LG89KHQub3B0aW9uc3x8W10pLnNsaWNlKCkpLHQubWVkaWEpe249bnx8e307dmFyIHM9dC5tZWRpYTtkKHMsZnVuY3Rpb24odCl7dCYmdC5vcHRpb24mJih0LnF1ZXJ5P2EucHVzaCh0KTppfHwoaT10KSl9KX1yZXR1cm4gbnx8KG49dCksbi50aW1lbGluZXx8KG4udGltZWxpbmU9ciksZChbbl0uY29uY2F0KG8pLmNvbmNhdChoLm1hcChhLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9wdGlvbn0pKSxmdW5jdGlvbih0KXtkKGUsZnVuY3Rpb24oZSl7ZSh0KX0pfSkse2Jhc2VPcHRpb246bix0aW1lbGluZU9wdGlvbnM6byxtZWRpYURlZmF1bHQ6aSxtZWRpYUxpc3Q6YX19ZnVuY3Rpb24gYSh0LGUsaSl7dmFyIG49e3dpZHRoOmUsaGVpZ2h0OmksYXNwZWN0cmF0aW86ZS9pfSxvPSEwO3JldHVybiBoLmVhY2godCxmdW5jdGlvbih0LGUpe3ZhciBpPWUubWF0Y2gobSk7aWYoaSYmaVsxXSYmaVsyXSl7dmFyIGE9aVsxXSxzPWlbMl0udG9Mb3dlckNhc2UoKTtyKG5bc10sdCxhKXx8KG89ITEpfX0pLG99ZnVuY3Rpb24gcih0LGUsaSl7cmV0dXJuXCJtaW5cIj09PWk/dD49ZTpcIm1heFwiPT09aT9lPj10OnQ9PT1lfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdC5qb2luKFwiLFwiKT09PWUuam9pbihcIixcIil9ZnVuY3Rpb24gbCh0LGUpe2U9ZXx8e30sZChlLGZ1bmN0aW9uKGUsaSl7aWYobnVsbCE9ZSl7dmFyIG49dFtpXTtpZihjLmhhc0NsYXNzKGkpKXtlPXUubm9ybWFsaXplVG9BcnJheShlKSxuPXUubm9ybWFsaXplVG9BcnJheShuKTt2YXIgbz11Lm1hcHBpbmdUb0V4aXN0cyhuLGUpO3RbaV09cChvLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9wdGlvbiYmdC5leGlzdD9nKHQuZXhpc3QsdC5vcHRpb24sITApOnQuZXhpc3R8fHQub3B0aW9ufSl9ZWxzZSB0W2ldPWcobixlLCEwKX19KX12YXIgaD1pKDEpLHU9aSg3KSxjPWkoMTApLGQ9aC5lYWNoLGY9aC5jbG9uZSxwPWgubWFwLGc9aC5tZXJnZSxtPS9eKG1pbnxtYXgpPyguKykkLztuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixzZXRPcHRpb246ZnVuY3Rpb24odCxlKXt0PWYodCwhMCk7dmFyIGk9dGhpcy5fb3B0aW9uQmFja3VwLG49by5jYWxsKHRoaXMsdCxlKTt0aGlzLl9uZXdCYXNlT3B0aW9uPW4uYmFzZU9wdGlvbixpPyhsKGkuYmFzZU9wdGlvbixuLmJhc2VPcHRpb24pLG4udGltZWxpbmVPcHRpb25zLmxlbmd0aCYmKGkudGltZWxpbmVPcHRpb25zPW4udGltZWxpbmVPcHRpb25zKSxuLm1lZGlhTGlzdC5sZW5ndGgmJihpLm1lZGlhTGlzdD1uLm1lZGlhTGlzdCksbi5tZWRpYURlZmF1bHQmJihpLm1lZGlhRGVmYXVsdD1uLm1lZGlhRGVmYXVsdCkpOnRoaXMuX29wdGlvbkJhY2t1cD1ufSxtb3VudE9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRpb25CYWNrdXA7cmV0dXJuIHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1wKGUudGltZWxpbmVPcHRpb25zLGYpLHRoaXMuX21lZGlhTGlzdD1wKGUubWVkaWFMaXN0LGYpLHRoaXMuX21lZGlhRGVmYXVsdD1mKGUubWVkaWFEZWZhdWx0KSx0aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzPVtdLGYodD9lLmJhc2VPcHRpb246dGhpcy5fbmV3QmFzZU9wdGlvbil9LGdldFRpbWVsaW5lT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fdGltZWxpbmVPcHRpb25zO2lmKGkubGVuZ3RoKXt2YXIgbj10LmdldENvbXBvbmVudChcInRpbWVsaW5lXCIpO24mJihlPWYoaVtuLmdldEN1cnJlbnRJbmRleCgpXSwhMCkpfXJldHVybiBlfSxnZXRNZWRpYU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hcGkuZ2V0V2lkdGgoKSxpPXRoaXMuX2FwaS5nZXRIZWlnaHQoKSxuPXRoaXMuX21lZGlhTGlzdCxvPXRoaXMuX21lZGlhRGVmYXVsdCxyPVtdLGw9W107aWYoIW4ubGVuZ3RoJiYhbylyZXR1cm4gbDtmb3IodmFyIGg9MCx1PW4ubGVuZ3RoO3U+aDtoKyspYShuW2hdLnF1ZXJ5LGUsaSkmJnIucHVzaChoKTtyZXR1cm4hci5sZW5ndGgmJm8mJihyPVstMV0pLHIubGVuZ3RoJiYhcyhyLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXMpJiYobD1wKHIsZnVuY3Rpb24odCl7cmV0dXJuIGYoLTE9PT10P28ub3B0aW9uOm5bdF0ub3B0aW9uKX0pKSx0aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzPXIsbH19LHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe3ZhciBpPVwiXCI7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmKGk9bmF2aWdhdG9yLnBsYXRmb3JtfHxcIlwiKSx0LmV4cG9ydHM9e2NvbG9yOltcIiNjMjM1MzFcIixcIiMyZjQ1NTRcIixcIiM2MWEwYThcIixcIiNkNDgyNjVcIixcIiM5MWM3YWVcIixcIiM3NDlmODNcIixcIiNjYTg2MjJcIixcIiNiZGEyOWFcIixcIiM2ZTcwNzRcIixcIiM1NDY1NzBcIixcIiNjNGNjZDNcIl0sZ3JpZDp7fSx0ZXh0U3R5bGU6e2ZvbnRGYW1pbHk6aS5tYXRjaCgvXldpbi8pP1wiTWljcm9zb2Z0IFlhSGVpXCI6XCJzYW5zLXNlcmlmXCIsZm9udFNpemU6MTIsZm9udFN0eWxlOlwibm9ybWFsXCIsZm9udFdlaWdodDpcIm5vcm1hbFwifSxhbmltYXRpb246ITAsYW5pbWF0aW9uVGhyZXNob2xkOjJlMyxhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6MzAwLGFuaW1hdGlvbkVhc2luZzpcImV4cG9uZW50aWFsT3V0XCIsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOlwiY3ViaWNPdXRcIn19LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9e2dldEFyZWFTdHlsZTppKDMwKShbW1wiZmlsbFwiLFwiY29sb3JcIl0sW1wic2hhZG93Qmx1clwiXSxbXCJzaGFkb3dPZmZzZXRYXCJdLFtcInNoYWRvd09mZnNldFlcIl0sW1wib3BhY2l0eVwiXSxbXCJzaGFkb3dDb2xvclwiXV0pfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e2dldEJveExheW91dFBhcmFtczpmdW5jdGlvbigpe3JldHVybntsZWZ0OnRoaXMuZ2V0KFwibGVmdFwiKSx0b3A6dGhpcy5nZXQoXCJ0b3BcIikscmlnaHQ6dGhpcy5nZXQoXCJyaWdodFwiKSxib3R0b206dGhpcy5nZXQoXCJib3R0b21cIiksd2lkdGg6dGhpcy5nZXQoXCJ3aWR0aFwiKSxoZWlnaHQ6dGhpcy5nZXQoXCJoZWlnaHRcIil9fX19LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9e2dldEl0ZW1TdHlsZTppKDMwKShbW1wiZmlsbFwiLFwiY29sb3JcIl0sW1wic3Ryb2tlXCIsXCJib3JkZXJDb2xvclwiXSxbXCJsaW5lV2lkdGhcIixcImJvcmRlcldpZHRoXCJdLFtcIm9wYWNpdHlcIl0sW1wic2hhZG93Qmx1clwiXSxbXCJzaGFkb3dPZmZzZXRYXCJdLFtcInNoYWRvd09mZnNldFlcIl0sW1wic2hhZG93Q29sb3JcIl1dKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDMwKShbW1wibGluZVdpZHRoXCIsXCJ3aWR0aFwiXSxbXCJzdHJva2VcIixcImNvbG9yXCJdLFtcIm9wYWNpdHlcIl0sW1wic2hhZG93Qmx1clwiXSxbXCJzaGFkb3dPZmZzZXRYXCJdLFtcInNoYWRvd09mZnNldFlcIl0sW1wic2hhZG93Q29sb3JcIl1dKTt0LmV4cG9ydHM9e2dldExpbmVTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1uLmNhbGwodGhpcyx0KSxpPXRoaXMuZ2V0TGluZURhc2goKTtyZXR1cm4gaSYmKGUubGluZURhc2g9aSksZX0sZ2V0TGluZURhc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldChcInR5cGVcIik7cmV0dXJuXCJzb2xpZFwiPT09dHx8bnVsbD09dD9udWxsOlwiZGFzaGVkXCI9PT10P1s1LDVdOlsxLDFdfX19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQmJnQuZ2V0U2hhbGxvdyhlKX12YXIgbz1pKDE4KTt0LmV4cG9ydHM9e2dldFRleHRDb2xvcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWNNb2RlbDtyZXR1cm4gdGhpcy5nZXRTaGFsbG93KFwiY29sb3JcIil8fHQmJnQuZ2V0KFwidGV4dFN0eWxlLmNvbG9yXCIpfSxnZXRGb250OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lY01vZGVsLGU9dCYmdC5nZXRNb2RlbChcInRleHRTdHlsZVwiKTtyZXR1cm5bdGhpcy5nZXRTaGFsbG93KFwiZm9udFN0eWxlXCIpfHxuKGUsXCJmb250U3R5bGVcIiksdGhpcy5nZXRTaGFsbG93KFwiZm9udFdlaWdodFwiKXx8bihlLFwiZm9udFdlaWdodFwiKSwodGhpcy5nZXRTaGFsbG93KFwiZm9udFNpemVcIil8fG4oZSxcImZvbnRTaXplXCIpfHwxMikrXCJweFwiLHRoaXMuZ2V0U2hhbGxvdyhcImZvbnRGYW1pbHlcIil8fG4oZSxcImZvbnRGYW1pbHlcIil8fFwic2Fucy1zZXJpZlwiXS5qb2luKFwiIFwiKX0sZ2V0VGV4dFJlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXQoXCJ0ZXh0U3R5bGVcIil8fHt9O3JldHVybiBvLmdldEJvdW5kaW5nUmVjdCh0LHRoaXMuZ2V0Rm9udCgpLGUuYWxpZ24sZS5iYXNlbGluZSl9LGVsbGlwc2lzOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gby5lbGxpcHNpcyh0LHRoaXMuZ2V0Rm9udCgpLGUsaSl9fX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtlPWUuc3BsaXQoXCIsXCIpO2Zvcih2YXIgaT10LG49MDtuPGUubGVuZ3RoJiYoaT1pJiZpW2Vbbl1dLG51bGwhPWkpO24rKyk7cmV0dXJuIGl9ZnVuY3Rpb24gbyh0LGUsaSxuKXtlPWUuc3BsaXQoXCIsXCIpO2Zvcih2YXIgbyxhPXQscj0wO3I8ZS5sZW5ndGgtMTtyKyspbz1lW3JdLG51bGw9PWFbb10mJihhW29dPXt9KSxhPWFbb107KG58fG51bGw9PWFbZVtyXV0pJiYoYVtlW3JdXT1pKX1mdW5jdGlvbiBhKHQpe2MobCxmdW5jdGlvbihlKXtlWzBdaW4gdCYmIShlWzFdaW4gdCkmJih0W2VbMV1dPXRbZVswXV0pfSl9dmFyIHI9aSgxKSxzPWkoMTIwKSxsPVtbXCJ4XCIsXCJsZWZ0XCJdLFtcInlcIixcInRvcFwiXSxbXCJ4MlwiLFwicmlnaHRcIl0sW1wieTJcIixcImJvdHRvbVwiXV0saD1bXCJncmlkXCIsXCJnZW9cIixcInBhcmFsbGVsXCIsXCJsZWdlbmRcIixcInRvb2xib3hcIixcInRpdGxlXCIsXCJ2aXN1YWxNYXBcIixcImRhdGFab29tXCIsXCJ0aW1lbGluZVwiXSx1PVtcImJhclwiLFwiYm94cGxvdFwiLFwiY2FuZGxlc3RpY2tcIixcImNob3JkXCIsXCJlZmZlY3RTY2F0dGVyXCIsXCJmdW5uZWxcIixcImdhdWdlXCIsXCJsaW5lc1wiLFwiZ3JhcGhcIixcImhlYXRtYXBcIixcImxpbmVcIixcIm1hcFwiLFwicGFyYWxsZWxcIixcInBpZVwiLFwicmFkYXJcIixcInNhbmtleVwiLFwic2NhdHRlclwiLFwidHJlZW1hcFwiXSxjPXIuZWFjaDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7Yyh0LnNlcmllcyxmdW5jdGlvbih0KXtpZihyLmlzT2JqZWN0KHQpKXt2YXIgZT10LnR5cGU7aWYocyh0KSxcInBpZVwiIT09ZSYmXCJnYXVnZVwiIT09ZXx8bnVsbCE9dC5jbG9ja1dpc2UmJih0LmNsb2Nrd2lzZT10LmNsb2NrV2lzZSksXCJnYXVnZVwiPT09ZSl7dmFyIGk9bih0LFwicG9pbnRlci5jb2xvclwiKTtudWxsIT1pJiZvKHQsXCJpdGVtU3R5bGUubm9ybWFsLmNvbG9yXCIsaSl9Zm9yKHZhciBsPTA7bDx1Lmxlbmd0aDtsKyspaWYodVtsXT09PXQudHlwZSl7YSh0KTticmVha319fSksdC5kYXRhUmFuZ2UmJih0LnZpc3VhbE1hcD10LmRhdGFSYW5nZSksYyhoLGZ1bmN0aW9uKGUpe3ZhciBpPXRbZV07aSYmKHIuaXNBcnJheShpKXx8KGk9W2ldKSxjKGksZnVuY3Rpb24odCl7YSh0KX0pKX0pfX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7ZSYmby5lYWNoKGEsZnVuY3Rpb24oaSl7dmFyIG49ZS5ub3JtYWwsYT1lLmVtcGhhc2lzO24mJm5baV0mJih0W2ldPXRbaV18fHt9LHRbaV0ubm9ybWFsP28ubWVyZ2UodFtpXS5ub3JtYWwsbltpXSk6dFtpXS5ub3JtYWw9bltpXSxuW2ldPW51bGwpLGEmJmFbaV0mJih0W2ldPXRbaV18fHt9LHRbaV0uZW1waGFzaXM/by5tZXJnZSh0W2ldLmVtcGhhc2lzLGFbaV0pOnRbaV0uZW1waGFzaXM9YVtpXSxcbmFbaV09bnVsbCl9KX12YXIgbz1pKDEpLGE9W1wiYXJlYVN0eWxlXCIsXCJsaW5lU3R5bGVcIixcIm5vZGVTdHlsZVwiLFwibGlua1N0eWxlXCIsXCJjaG9yZFN0eWxlXCIsXCJsYWJlbFwiLFwibGFiZWxMaW5lXCJdO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih0KXtuKHQpLG4odC5tYXJrUG9pbnQpLG4odC5tYXJrTGluZSk7dmFyIGU9dC5kYXRhO2lmKGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKW4oZVtpXSk7dmFyIGE9dC5tYXJrUG9pbnQ7aWYoYSYmYS5kYXRhKWZvcih2YXIgcj1hLmRhdGEsaT0wO2k8ci5sZW5ndGg7aSsrKW4ocltpXSk7dmFyIHM9dC5tYXJrTGluZTtpZihzJiZzLmRhdGEpZm9yKHZhciBsPXMuZGF0YSxpPTA7aTxsLmxlbmd0aDtpKyspby5pc0FycmF5KGxbaV0pPyhuKGxbaV1bMF0pLG4obFtpXVsxXSkpOm4obFtpXSl9fX19LGZ1bmN0aW9uKHQsZSl7dmFyIGk9e2F2ZXJhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT0wLG49MDtuPHQubGVuZ3RoO24rKylpc05hTih0W25dKXx8KGUrPXRbbl0saSsrKTtyZXR1cm4gMD09PWk/TmFOOmUvaX0sc3VtOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9MDtpPHQubGVuZ3RoO2krKyllKz10W2ldfHwwO3JldHVybiBlfSxtYXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0oMS8wKSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT5lJiYoZT10W2ldKTtyZXR1cm4gZX0sbWluOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLzAsaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV08ZSYmKGU9dFtpXSk7cmV0dXJuIGV9LG5lYXJlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19fSxuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgucm91bmQodC5sZW5ndGgvMil9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbyl7ZS5lYWNoU2VyaWVzQnlUeXBlKHQsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksbz10LmdldChcInNhbXBsaW5nXCIpLGE9dC5jb29yZGluYXRlU3lzdGVtO2lmKFwiY2FydGVzaWFuMmRcIj09PWEudHlwZSYmbyl7dmFyIHI9YS5nZXRCYXNlQXhpcygpLHM9YS5nZXRPdGhlckF4aXMociksbD1yLmdldEV4dGVudCgpLGg9bFsxXS1sWzBdLHU9TWF0aC5yb3VuZChlLmNvdW50KCkvaCk7aWYodT4xKXt2YXIgYztcInN0cmluZ1wiPT10eXBlb2Ygbz9jPWlbb106XCJmdW5jdGlvblwiPT10eXBlb2YgbyYmKGM9byksYyYmKGU9ZS5kb3duU2FtcGxlKHMuZGltLDEvdSxjLG4pLHQuc2V0RGF0YShlKSl9fX0sdGhpcyl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPWkoMzIpLGE9aSg0KSxyPWkoMzgpLHM9by5wcm90b3R5cGUsbD1yLnByb3RvdHlwZSxoPU1hdGguZmxvb3IsdT1NYXRoLmNlaWwsYz1NYXRoLnBvdyxkPTEwLGY9TWF0aC5sb2cscD1vLmV4dGVuZCh7dHlwZTpcImxvZ1wiLGdldFRpY2tzOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubWFwKGwuZ2V0VGlja3MuY2FsbCh0aGlzKSxmdW5jdGlvbih0KXtyZXR1cm4gYS5yb3VuZChjKGQsdCkpfSl9LGdldExhYmVsOmwuZ2V0TGFiZWwsc2NhbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5zY2FsZS5jYWxsKHRoaXMsdCksYyhkLHQpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24odCxlKXt0PWYodCkvZihkKSxlPWYoZSkvZihkKSxsLnNldEV4dGVudC5jYWxsKHRoaXMsdCxlKX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9cy5nZXRFeHRlbnQuY2FsbCh0aGlzKTtyZXR1cm4gdFswXT1jKGQsdFswXSksdFsxXT1jKGQsdFsxXSksdH0sdW5pb25FeHRlbnQ6ZnVuY3Rpb24odCl7dFswXT1mKHRbMF0pL2YoZCksdFsxXT1mKHRbMV0pL2YoZCkscy51bmlvbkV4dGVudC5jYWxsKHRoaXMsdCl9LG5pY2VUaWNrczpmdW5jdGlvbih0KXt0PXR8fDEwO3ZhciBlPXRoaXMuX2V4dGVudCxpPWVbMV0tZVswXTtpZighKGk9PT0xLzB8fDA+PWkpKXt2YXIgbj1jKDEwLGgoZihpL3QpL01hdGguTE4xMCkpLG89dC9pKm47LjU+PW8mJihuKj0xMCk7dmFyIHI9W2Eucm91bmQodShlWzBdL24pKm4pLGEucm91bmQoaChlWzFdL24pKm4pXTt0aGlzLl9pbnRlcnZhbD1uLHRoaXMuX25pY2VFeHRlbnQ9cn19LG5pY2VFeHRlbnQ6bC5uaWNlRXh0ZW50fSk7bi5lYWNoKFtcImNvbnRhaW5cIixcIm5vcm1hbGl6ZVwiXSxmdW5jdGlvbih0KXtwLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gZT1mKGUpL2YoZCksc1t0XS5jYWxsKHRoaXMsZSl9fSkscC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHB9LHQuZXhwb3J0cz1wfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPWkoMzIpLGE9by5wcm90b3R5cGUscj1vLmV4dGVuZCh7dHlwZTpcIm9yZGluYWxcIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fZGF0YT10LHRoaXMuX2V4dGVudD1lfHxbMCx0Lmxlbmd0aC0xXX0scGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/bi5pbmRleE9mKHRoaXMuX2RhdGEsdCk6TWF0aC5yb3VuZCh0KX0sY29udGFpbjpmdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnBhcnNlKHQpLGEuY29udGFpbi5jYWxsKHRoaXMsdCkmJm51bGwhPXRoaXMuX2RhdGFbdF19LG5vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gYS5ub3JtYWxpemUuY2FsbCh0aGlzLHRoaXMucGFyc2UodCkpfSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZChhLnNjYWxlLmNhbGwodGhpcyx0KSl9LGdldFRpY2tzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5fZXh0ZW50LGk9ZVswXTtpPD1lWzFdOyl0LnB1c2goaSksaSsrO3JldHVybiB0fSxnZXRMYWJlbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVt0XX0sY291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50WzFdLXRoaXMuX2V4dGVudFswXSsxfSxuaWNlVGlja3M6bi5ub29wLG5pY2VFeHRlbnQ6bi5ub29wfSk7ci5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJ9LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPWkoNCksYT1pKDkpLHI9aSgzOCkscz1yLnByb3RvdHlwZSxsPU1hdGguY2VpbCxoPU1hdGguZmxvb3IsdT0xZTMsYz02MCp1LGQ9NjAqYyxmPTI0KmQscD1mdW5jdGlvbih0LGUsaSxuKXtmb3IoO24+aTspe3ZhciBvPWkrbj4+PjE7dFtvXVsyXTxlP2k9bysxOm49b31yZXR1cm4gaX0sZz1yLmV4dGVuZCh7dHlwZTpcInRpbWVcIixnZXRMYWJlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdGVwTHZsLGk9bmV3IERhdGUodCk7cmV0dXJuIGEuZm9ybWF0VGltZShlWzBdLGkpfSxuaWNlRXh0ZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9leHRlbnQ7aWYoblswXT09PW5bMV0mJihuWzBdLT1mLG5bMV0rPWYpLG5bMV09PT0tKDEvMCkmJm5bMF09PT0xLzApe3ZhciBhPW5ldyBEYXRlO25bMV09bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLGEuZ2V0TW9udGgoKSxhLmdldERhdGUoKSksblswXT1uWzFdLWZ9dGhpcy5uaWNlVGlja3ModCk7dmFyIHI9dGhpcy5faW50ZXJ2YWw7ZXx8KG5bMF09by5yb3VuZChoKG5bMF0vcikqcikpLGl8fChuWzFdPW8ucm91bmQobChuWzFdL3IpKnIpKX0sbmljZVRpY2tzOmZ1bmN0aW9uKHQpe3Q9dHx8MTA7dmFyIGU9dGhpcy5fZXh0ZW50LGk9ZVsxXS1lWzBdLG49aS90LGE9bS5sZW5ndGgscj1wKG0sbiwwLGEpLHM9bVtNYXRoLm1pbihyLGEtMSldLHU9c1syXTtpZihcInllYXJcIj09PXNbMF0pe3ZhciBjPWkvdSxkPW8ubmljZShjL3QsITApO3UqPWR9dmFyIGY9W2woZVswXS91KSp1LGgoZVsxXS91KSp1XTt0aGlzLl9zdGVwTHZsPXMsdGhpcy5faW50ZXJ2YWw9dSx0aGlzLl9uaWNlRXh0ZW50PWZ9LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybitvLnBhcnNlRGF0ZSh0KX19KTtuLmVhY2goW1wiY29udGFpblwiLFwibm9ybWFsaXplXCJdLGZ1bmN0aW9uKHQpe2cucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBzW3RdLmNhbGwodGhpcyx0aGlzLnBhcnNlKGUpKX19KTt2YXIgbT1bW1wiaGg6bW06c3NcIiwxLHVdLFtcImhoOm1tOnNzXCIsNSw1KnVdLFtcImhoOm1tOnNzXCIsMTAsMTAqdV0sW1wiaGg6bW06c3NcIiwxNSwxNSp1XSxbXCJoaDptbTpzc1wiLDMwLDMwKnVdLFtcImhoOm1tXFxuTU0tZGRcIiwxLGNdLFtcImhoOm1tXFxuTU0tZGRcIiw1LDUqY10sW1wiaGg6bW1cXG5NTS1kZFwiLDEwLDEwKmNdLFtcImhoOm1tXFxuTU0tZGRcIiwxNSwxNSpjXSxbXCJoaDptbVxcbk1NLWRkXCIsMzAsMzAqY10sW1wiaGg6bW1cXG5NTS1kZFwiLDEsZF0sW1wiaGg6bW1cXG5NTS1kZFwiLDIsMipkXSxbXCJoaDptbVxcbk1NLWRkXCIsNiw2KmRdLFtcImhoOm1tXFxuTU0tZGRcIiwxMiwxMipkXSxbXCJNTS1kZFxcbnl5eXlcIiwxLGZdLFtcIndlZWtcIiw3LDcqZl0sW1wibW9udGhcIiwxLDMxKmZdLFtcInF1YXJ0ZXJcIiwzLDM4MCpmLzRdLFtcImhhbGYteWVhclwiLDYsMzgwKmYvMl0sW1wieWVhclwiLDEsMzgwKmZdXTtnLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZ30sdC5leHBvcnRzPWd9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9e30sbj1cIlxceDAwX190aHJvdHRsZU9yaWdpbk1ldGhvZFwiLG89XCJcXHgwMF9fdGhyb3R0bGVSYXRlXCI7aS50aHJvdHRsZT1mdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKG8pe2Z1bmN0aW9uIGYoKXt1PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9bnVsbCwoZD90OnRbb10pLmFwcGx5KHIsc3x8W10pfXZhciBwPWZ1bmN0aW9uKCl7bD0obmV3IERhdGUpLmdldFRpbWUoKSxyPXRoaXMscz1hcmd1bWVudHMsYT1sLShuP2g6dSktZSxjbGVhclRpbWVvdXQoYyksbj9pP2M9c2V0VGltZW91dChmLGUpOmE+PTAmJmYoKTphPj0wP2YoKTppJiYoYz1zZXRUaW1lb3V0KGYsLWEpKSxoPWx9O3JldHVybiBwLmNsZWFyPWZ1bmN0aW9uKCl7YyYmKGNsZWFyVGltZW91dChjKSxjPW51bGwpfSxwfXZhciBhLHIscyxsPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGg9MCx1PTAsYz1udWxsLGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgdDtpZihlPWV8fDAsZClyZXR1cm4gbygpO2Zvcih2YXIgZj1bXSxwPTA7cDx0Lmxlbmd0aDtwKyspZltwXT1vKHApO3JldHVybiBmfSxpLmZpeFJhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9ZT9pLnRocm90dGxlKHQsZSwhMCwhMSk6dH0saS5kZWJvdW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT1lP2kudGhyb3R0bGUodCxlLCEwLCEwKTp0fSxpLmNyZWF0ZU9yVXBkYXRlPWZ1bmN0aW9uKHQsZSxhLHIpe3ZhciBzPXRbZV07aWYocyYmbnVsbCE9YSYmcil7dmFyIGw9c1tuXXx8cyxoPXNbb107aCE9PWEmJihzPXRbZV09aVtyXShsLGEpLHNbbl09bCxzW29dPWEpfX0saS5jbGVhcj1mdW5jdGlvbih0LGUpe3ZhciBpPXRbZV07aSYmaVtuXSYmKHRbZV09aVtuXSl9LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSl7cmV0dXJue3R5cGU6dCxldmVudDppLHRhcmdldDplLGNhbmNlbEJ1YmJsZTohMSxvZmZzZXRYOmkuenJYLG9mZnNldFk6aS56clksZ2VzdHVyZUV2ZW50OmkuZ2VzdHVyZUV2ZW50LHBpbmNoWDppLnBpbmNoWCxwaW5jaFk6aS5waW5jaFkscGluY2hTY2FsZTppLnBpbmNoU2NhbGUsd2hlZWxEZWx0YTppLnpyRGVsdGF9fWZ1bmN0aW9uIG8odCxlLGkpe3ZhciBuPXQuX2dlc3R1cmVNZ3I7XCJzdGFydFwiPT09aSYmbi5jbGVhcigpO3ZhciBvPW4ucmVjb2duaXplKGUsdC5maW5kSG92ZXIoZS56clgsZS56clksbnVsbCkpO2lmKFwiZW5kXCI9PT1pJiZuLmNsZWFyKCksbyl7dmFyIGE9by50eXBlO2UuZ2VzdHVyZUV2ZW50PWEsdC5fZGlzcGF0Y2hQcm94eShvLnRhcmdldCxhLG8uZXZlbnQpfX1mdW5jdGlvbiBhKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5fdG91Y2hpbmc/dm9pZCAwOnQuYXBwbHkoZSxhcmd1bWVudHMpfX1mb3IodmFyIGk9eS5jb25jYXQoeCksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3QuX2hhbmRsZXJzW29dPWYuYmluZChNW29dLHQpfWZvcih2YXIgbj0wO248di5sZW5ndGg7bisrKXt2YXIgbz12W25dO3QuX2hhbmRsZXJzW29dPWUoTVtvXSx0KX19ZnVuY3Rpb24gcih0LGUsaSl7aWYodFt0LnJlY3RIb3Zlcj9cInJlY3RDb250YWluXCI6XCJjb250YWluXCJdKGUsaSkpe2Zvcih2YXIgbj10O247KXtpZihuLnNpbGVudHx8bi5jbGlwUGF0aCYmIW4uY2xpcFBhdGguY29udGFpbihlLGkpKXJldHVybiExO249bi5wYXJlbnR9cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gcyh0KXt0Ll90b3VjaGluZz0hMCxjbGVhclRpbWVvdXQodC5fdG91Y2hUaW1lciksdC5fdG91Y2hUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fdG91Y2hpbmc9ITF9LDcwMCl9ZnVuY3Rpb24gbCgpe3JldHVybiExfWZ1bmN0aW9uIGgoKXtyZXR1cm4gYy50b3VjaEV2ZW50c1N1cHBvcnRlZH1mdW5jdGlvbiB1KHQpe3JldHVyblwibW91c2V3aGVlbFwiPT09dCYmYy5icm93c2VyLmZpcmVmb3g/XCJET01Nb3VzZVNjcm9sbFwiOnR9dmFyIGM9aSgxNCksZD1pKDM0KSxmPWkoMSkscD1pKDE1NSksZz1pKDEzOCksbT1pKDIxKSx2PVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2V3aGVlbFwiLFwibW91c2VvdXRcIl07IWwoKSYmdi5wdXNoKFwibW91c2V1cFwiLFwibW91c2Vkb3duXCIsXCJtb3VzZW1vdmVcIik7dmFyIHk9W1widG91Y2hzdGFydFwiLFwidG91Y2hlbmRcIixcInRvdWNobW92ZVwiXSx4PVtcInBvaW50ZXJkb3duXCIsXCJwb2ludGVydXBcIixcInBvaW50ZXJtb3ZlXCJdLF89MzAwLGI9ZC5hZGRFdmVudExpc3RlbmVyLHc9ZC5yZW1vdmVFdmVudExpc3RlbmVyLFM9ZC5ub3JtYWxpemVFdmVudCxNPXttb3VzZW1vdmU6ZnVuY3Rpb24odCl7dD1TKHRoaXMucm9vdCx0KTt2YXIgZT10LnpyWCxpPXQuenJZLG49dGhpcy5maW5kSG92ZXIoZSxpLG51bGwpLG89dGhpcy5faG92ZXJlZDt0aGlzLl9ob3ZlcmVkPW4sdGhpcy5yb290LnN0eWxlLmN1cnNvcj1uP24uY3Vyc29yOnRoaXMuX2RlZmF1bHRDdXJzb3JTdHlsZSxvJiZuIT09byYmby5fX3pyJiZ0aGlzLl9kaXNwYXRjaFByb3h5KG8sXCJtb3VzZW91dFwiLHQpLHRoaXMuX2Rpc3BhdGNoUHJveHkobixcIm1vdXNlbW92ZVwiLHQpLG4mJm4hPT1vJiZ0aGlzLl9kaXNwYXRjaFByb3h5KG4sXCJtb3VzZW92ZXJcIix0KX0sbW91c2VvdXQ6ZnVuY3Rpb24odCl7dD1TKHRoaXMucm9vdCx0KTt2YXIgZT10LnRvRWxlbWVudHx8dC5yZWxhdGVkVGFyZ2V0O2lmKGUhPXRoaXMucm9vdClmb3IoO2UmJjkhPWUubm9kZVR5cGU7KXtpZihlPT09dGhpcy5yb290KXJldHVybjtlPWUucGFyZW50Tm9kZX10aGlzLl9kaXNwYXRjaFByb3h5KHRoaXMuX2hvdmVyZWQsXCJtb3VzZW91dFwiLHQpLHRoaXMudHJpZ2dlcihcImdsb2JhbG91dFwiLHtldmVudDp0fSl9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24odCl7dD1TKHRoaXMucm9vdCx0KSx0aGlzLl9sYXN0VG91Y2hNb21lbnQ9bmV3IERhdGUsbyh0aGlzLHQsXCJzdGFydFwiKSxNLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCksTS5tb3VzZWRvd24uY2FsbCh0aGlzLHQpLHModGhpcyl9LHRvdWNobW92ZTpmdW5jdGlvbih0KXt0PVModGhpcy5yb290LHQpLG8odGhpcyx0LFwiY2hhbmdlXCIpLE0ubW91c2Vtb3ZlLmNhbGwodGhpcyx0KSxzKHRoaXMpfSx0b3VjaGVuZDpmdW5jdGlvbih0KXt0PVModGhpcy5yb290LHQpLG8odGhpcyx0LFwiZW5kXCIpLE0ubW91c2V1cC5jYWxsKHRoaXMsdCksK25ldyBEYXRlLXRoaXMuX2xhc3RUb3VjaE1vbWVudDxfJiZNLmNsaWNrLmNhbGwodGhpcyx0KSxzKHRoaXMpfX07Zi5lYWNoKFtcImNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNldXBcIixcIm1vdXNld2hlZWxcIixcImRibGNsaWNrXCJdLGZ1bmN0aW9uKHQpe01bdF09ZnVuY3Rpb24oZSl7ZT1TKHRoaXMucm9vdCxlKTt2YXIgaT10aGlzLmZpbmRIb3ZlcihlLnpyWCxlLnpyWSxudWxsKTtpZihcIm1vdXNlZG93blwiPT09dCl0aGlzLl9kb3duZWw9aSx0aGlzLl91cGVsPWk7ZWxzZSBpZihcIm1vc3VldXBcIj09PXQpdGhpcy5fdXBlbD1pO2Vsc2UgaWYoXCJjbGlja1wiPT09dCYmdGhpcy5fZG93bmVsIT09dGhpcy5fdXBlbClyZXR1cm47dGhpcy5fZGlzcGF0Y2hQcm94eShpLHQsZSl9fSk7dmFyIEE9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oZSxpKXtmLmVhY2goZSxmdW5jdGlvbihlKXtiKHQsdShlKSxpLl9oYW5kbGVyc1tlXSl9LGkpfW0uY2FsbCh0aGlzKSx0aGlzLnJvb3Q9dCx0aGlzLnN0b3JhZ2U9ZSx0aGlzLnBhaW50ZXI9aSx0aGlzLl9ob3ZlcmVkLHRoaXMuX2xhc3RUb3VjaE1vbWVudCx0aGlzLl9sYXN0WCx0aGlzLl9sYXN0WSx0aGlzLl9kZWZhdWx0Q3Vyc29yU3R5bGU9XCJkZWZhdWx0XCIsdGhpcy5fZ2VzdHVyZU1ncj1uZXcgZyx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl90b3VjaGluZz0hMSx0aGlzLl90b3VjaFRpbWVyLGEodGhpcyksbCgpP24oeCx0aGlzKTpoKCkmJm4oeSx0aGlzKSxuKHYsdGhpcykscC5jYWxsKHRoaXMpfTtBLnByb3RvdHlwZT17Y29uc3RydWN0b3I6QSxyZXNpemU6ZnVuY3Rpb24odCl7dGhpcy5faG92ZXJlZD1udWxsfSxkaXNwYXRjaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2hhbmRsZXJzW3RdO2kmJmkuY2FsbCh0aGlzLGUpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucm9vdCxlPXYuY29uY2F0KHkpLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTt3KHQsdShuKSx0aGlzLl9oYW5kbGVyc1tuXSl9dGhpcy5yb290PXRoaXMuc3RvcmFnZT10aGlzLnBhaW50ZXI9bnVsbH0sc2V0RGVmYXVsdEN1cnNvclN0eWxlOmZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRDdXJzb3JTdHlsZT10fSxfZGlzcGF0Y2hQcm94eTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPVwib25cIitlLGE9bihlLHQsaSkscj10O3ImJihyW29dJiYoYS5jYW5jZWxCdWJibGU9cltvXS5jYWxsKHIsYSkpLHIudHJpZ2dlcihlLGEpLHI9ci5wYXJlbnQsIWEuY2FuY2VsQnViYmxlKTspO2EuY2FuY2VsQnViYmxlfHwodGhpcy50cmlnZ2VyKGUsYSksdGhpcy5wYWludGVyJiZ0aGlzLnBhaW50ZXIuZWFjaE90aGVyTGF5ZXIoZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdFtvXSYmdFtvXS5jYWxsKHQsYSksdC50cmlnZ2VyJiZ0LnRyaWdnZXIoZSxhKX0pKX0sZmluZEhvdmVyOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCksbz1uLmxlbmd0aC0xO28+PTA7by0tKWlmKCFuW29dLnNpbGVudCYmbltvXSE9PWkmJiFuW29dLmlnbm9yZSYmcihuW29dLHQsZSkpcmV0dXJuIG5bb119fSxmLm1peGluKEEsbSksZi5taXhpbihBLHApLHQuZXhwb3J0cz1BfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe3JldHVybiExfWZ1bmN0aW9uIG8odCxlLGksbil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKSxhPWkuZ2V0V2lkdGgoKSxyPWkuZ2V0SGVpZ2h0KCkscz1vLnN0eWxlO3JldHVybiBzLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzLmxlZnQ9MCxzLnRvcD0wLHMud2lkdGg9YStcInB4XCIscy5oZWlnaHQ9citcInB4XCIsby53aWR0aD1hKm4sby5oZWlnaHQ9cipuLG8uc2V0QXR0cmlidXRlKFwiZGF0YS16ci1kb20taWRcIix0KSxvfXZhciBhPWkoMSkscj1pKDMzKSxzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcztpPWl8fHIuZGV2aWNlUGl4ZWxSYXRpbyxcInN0cmluZ1wiPT10eXBlb2YgdD9zPW8odCxcImNhbnZhc1wiLGUsaSk6YS5pc09iamVjdCh0KSYmKHM9dCx0PXMuaWQpLHRoaXMuaWQ9dCx0aGlzLmRvbT1zO3ZhciBsPXMuc3R5bGU7bCYmKHMub25zZWxlY3RzdGFydD1uLGxbXCItd2Via2l0LXVzZXItc2VsZWN0XCJdPVwibm9uZVwiLGxbXCJ1c2VyLXNlbGVjdFwiXT1cIm5vbmVcIixsW1wiLXdlYmtpdC10b3VjaC1jYWxsb3V0XCJdPVwibm9uZVwiLGxbXCItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3JcIl09XCJyZ2JhKDAsMCwwLDApXCIpLHRoaXMuZG9tQmFjaz1udWxsLHRoaXMuY3R4QmFjaz1udWxsLHRoaXMucGFpbnRlcj1lLHRoaXMuY29uZmlnPW51bGwsdGhpcy5jbGVhckNvbG9yPTAsdGhpcy5tb3Rpb25CbHVyPSExLHRoaXMubGFzdEZyYW1lQWxwaGE9LjcsdGhpcy5kcHI9aX07cy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnMsZWxDb3VudDowLF9fZGlydHk6ITAsaW5pdENvbnRleHQ6ZnVuY3Rpb24oKXt0aGlzLmN0eD10aGlzLmRvbS5nZXRDb250ZXh0KFwiMmRcIik7dmFyIHQ9dGhpcy5kcHI7MSE9dCYmdGhpcy5jdHguc2NhbGUodCx0KX0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1vKFwiYmFjay1cIit0aGlzLmlkLFwiY2FudmFzXCIsdGhpcy5wYWludGVyLHQpLHRoaXMuY3R4QmFjaz10aGlzLmRvbUJhY2suZ2V0Q29udGV4dChcIjJkXCIpLDEhPXQmJnRoaXMuY3R4QmFjay5zY2FsZSh0LHQpfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmRwcixuPXRoaXMuZG9tLG89bi5zdHlsZSxhPXRoaXMuZG9tQmFjaztvLndpZHRoPXQrXCJweFwiLG8uaGVpZ2h0PWUrXCJweFwiLG4ud2lkdGg9dCppLG4uaGVpZ2h0PWUqaSwxIT1pJiZ0aGlzLmN0eC5zY2FsZShpLGkpLGEmJihhLndpZHRoPXQqaSxhLmhlaWdodD1lKmksMSE9aSYmdGhpcy5jdHhCYWNrLnNjYWxlKGksaSkpfSxjbGVhcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvbSxpPXRoaXMuY3R4LG49ZS53aWR0aCxvPWUuaGVpZ2h0LGE9dGhpcy5jbGVhckNvbG9yLHI9dGhpcy5tb3Rpb25CbHVyJiYhdCxzPXRoaXMubGFzdEZyYW1lQWxwaGEsbD10aGlzLmRwcjtpZihyJiYodGhpcy5kb21CYWNrfHx0aGlzLmNyZWF0ZUJhY2tCdWZmZXIoKSx0aGlzLmN0eEJhY2suZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiY29weVwiLHRoaXMuY3R4QmFjay5kcmF3SW1hZ2UoZSwwLDAsbi9sLG8vbCkpLGkuY2xlYXJSZWN0KDAsMCxuL2wsby9sKSxhJiYoaS5zYXZlKCksaS5maWxsU3R5bGU9dGhpcy5jbGVhckNvbG9yLGkuZmlsbFJlY3QoMCwwLG4vbCxvL2wpLGkucmVzdG9yZSgpKSxyKXt2YXIgaD10aGlzLmRvbUJhY2s7aS5zYXZlKCksaS5nbG9iYWxBbHBoYT1zLGkuZHJhd0ltYWdlKGgsMCwwLG4vbCxvL2wpLGkucmVzdG9yZSgpfX19LHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdD90LmlzQnVpbGRpbj8hMDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlc2l6ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWZyZXNoOiExfWZ1bmN0aW9uIGEodCl7dC5fX3VudXNlZENvdW50Kyt9ZnVuY3Rpb24gcih0KXt0Ll9fZGlydHk9ITEsMT09dC5fX3VudXNlZENvdW50JiZ0LmNsZWFyKCl9ZnVuY3Rpb24gcyh0LGUsaSl7cmV0dXJuIGcuY29weSh0LmdldEJvdW5kaW5nUmVjdCgpKSx0LnRyYW5zZm9ybSYmZy5hcHBseVRyYW5zZm9ybSh0LnRyYW5zZm9ybSksbS53aWR0aD1lLG0uaGVpZ2h0PWksIWcuaW50ZXJzZWN0KG0pfWZ1bmN0aW9uIGwodCxlKXtpZighdHx8IWV8fHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITA7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXSE9PWVbaV0pcmV0dXJuITB9ZnVuY3Rpb24gaCh0LGUpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbixvPXRbaV07by50cmFuc2Zvcm0mJihuPW8udHJhbnNmb3JtLGUudHJhbnNmb3JtKG5bMF0sblsxXSxuWzJdLG5bM10sbls0XSxuWzVdKSk7dmFyIGE9by5wYXRoO2EuYmVnaW5QYXRoKGUpLG8uYnVpbGRQYXRoKGEsby5zaGFwZSksZS5jbGlwKCksby50cmFuc2Zvcm0mJihuPW8uaW52VHJhbnNmb3JtLGUudHJhbnNmb3JtKG5bMF0sblsxXSxuWzJdLG5bM10sbls0XSxuWzVdKSl9fXZhciB1PWkoMzMpLGM9aSgxKSxkPWkoNDUpLGY9aSg4KSxwPWkoMTI3KSxnPW5ldyBmKDAsMCwwLDApLG09bmV3IGYoMCwwLDAsMCksdj1mdW5jdGlvbih0LGUsaSl7dmFyIG49IXQubm9kZU5hbWV8fFwiQ0FOVkFTXCI9PT10Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7aT1pfHx7fSx0aGlzLmRwcj1pLmRldmljZVBpeGVsUmF0aW98fHUuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLl9zaW5nbGVDYW52YXM9bix0aGlzLnJvb3Q9dDt2YXIgbz10LnN0eWxlO2lmKG8mJihvW1wiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCJdPVwidHJhbnNwYXJlbnRcIixvW1wiLXdlYmtpdC11c2VyLXNlbGVjdFwiXT1cIm5vbmVcIixvW1widXNlci1zZWxlY3RcIl09XCJub25lXCIsb1tcIi13ZWJraXQtdG91Y2gtY2FsbG91dFwiXT1cIm5vbmVcIix0LmlubmVySFRNTD1cIlwiKSx0aGlzLnN0b3JhZ2U9ZSxuKXt2YXIgYT10LndpZHRoLHI9dC5oZWlnaHQ7dGhpcy5fd2lkdGg9YSx0aGlzLl9oZWlnaHQ9cjt2YXIgcz1uZXcgcCh0LHRoaXMsMSk7cy5pbml0Q29udGV4dCgpLHRoaXMuX2xheWVycz17MDpzfSx0aGlzLl96bGV2ZWxMaXN0PVswXX1lbHNle3ZhciBhPXRoaXMuX2dldFdpZHRoKCkscj10aGlzLl9nZXRIZWlnaHQoKTt0aGlzLl93aWR0aD1hLHRoaXMuX2hlaWdodD1yO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5fZG9tUm9vdD1sO3ZhciBoPWwuc3R5bGU7aC5wb3NpdGlvbj1cInJlbGF0aXZlXCIsaC5vdmVyZmxvdz1cImhpZGRlblwiLGgud2lkdGg9dGhpcy5fd2lkdGgrXCJweFwiLGguaGVpZ2h0PXRoaXMuX2hlaWdodCtcInB4XCIsdC5hcHBlbmRDaGlsZChsKSx0aGlzLl9sYXllcnM9e30sdGhpcy5femxldmVsTGlzdD1bXX10aGlzLl9sYXllckNvbmZpZz17fSx0aGlzLnBhdGhUb0ltYWdlPXRoaXMuX2NyZWF0ZVBhdGhUb0ltYWdlKCl9O3YucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp2LGlzU2luZ2xlQ2FudmFzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpbmdsZUNhbnZhc30sZ2V0Vmlld3BvcnRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpbmdsZUNhbnZhcz90aGlzLl9sYXllcnNbMF0uZG9tOnRoaXMuX2RvbVJvb3R9LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcGFpbnRMaXN0KGUsdCk7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl0sYT10aGlzLl9sYXllcnNbb107IWEuaXNCdWlsZGluJiZhLnJlZnJlc2gmJmEucmVmcmVzaCgpfXJldHVybiB0aGlzfSxfcGFpbnRMaXN0OmZ1bmN0aW9uKHQsZSl7bnVsbD09ZSYmKGU9ITEpLHRoaXMuX3VwZGF0ZUxheWVyU3RhdHVzKHQpO3ZhciBpLG4sbyx1PXRoaXMuX3dpZHRoLGM9dGhpcy5faGVpZ2h0O3RoaXMuZWFjaEJ1aWxkaW5MYXllcihhKTtmb3IodmFyIGY9bnVsbCxwPTAsZz10Lmxlbmd0aDtnPnA7cCsrKXt2YXIgbT10W3BdLHY9dGhpcy5fc2luZ2xlQ2FudmFzPzA6bS56bGV2ZWw7aWYobiE9PXYmJihuPXYsaT10aGlzLmdldExheWVyKG4pLGkuaXNCdWlsZGlufHxkKFwiWkxldmVsIFwiK24rXCIgaGFzIGJlZW4gdXNlZCBieSB1bmtvd24gbGF5ZXIgXCIraS5pZCksbz1pLmN0eCxpLl9fdW51c2VkQ291bnQ9MCwoaS5fX2RpcnR5fHxlKSYmaS5jbGVhcigpKSwoaS5fX2RpcnR5fHxlKSYmIW0uaW52aXNpYmxlJiYwIT09bS5zdHlsZS5vcGFjaXR5JiZtLnNjYWxlWzBdJiZtLnNjYWxlWzFdJiYoIW0uY3VsbGluZ3x8IXMobSx1LGMpKSl7dmFyIHk9bS5fX2NsaXBQYXRocztsKHksZikmJihmJiZvLnJlc3RvcmUoKSx5JiYoby5zYXZlKCksaCh5LG8pKSxmPXkpLG0uYmVmb3JlQnJ1c2gmJm0uYmVmb3JlQnJ1c2gobyksbS5icnVzaChvLCExKSxtLmFmdGVyQnJ1c2gmJm0uYWZ0ZXJCcnVzaChvKX1tLl9fZGlydHk9ITF9ZiYmby5yZXN0b3JlKCksdGhpcy5lYWNoQnVpbGRpbkxheWVyKHIpfSxnZXRMYXllcjpmdW5jdGlvbih0KXtpZih0aGlzLl9zaW5nbGVDYW52YXMpcmV0dXJuIHRoaXMuX2xheWVyc1swXTt2YXIgZT10aGlzLl9sYXllcnNbdF07cmV0dXJuIGV8fChlPW5ldyBwKFwienJfXCIrdCx0aGlzLHRoaXMuZHByKSxlLmlzQnVpbGRpbj0hMCx0aGlzLl9sYXllckNvbmZpZ1t0XSYmYy5tZXJnZShlLHRoaXMuX2xheWVyQ29uZmlnW3RdLCEwKSx0aGlzLmluc2VydExheWVyKHQsZSksZS5pbml0Q29udGV4dCgpKSxlfSxpbnNlcnRMYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2xheWVycyxuPXRoaXMuX3psZXZlbExpc3QsYT1uLmxlbmd0aCxyPW51bGwscz0tMSxsPXRoaXMuX2RvbVJvb3Q7aWYoaVt0XSlyZXR1cm4gdm9pZCBkKFwiWkxldmVsIFwiK3QrXCIgaGFzIGJlZW4gdXNlZCBhbHJlYWR5XCIpO2lmKCFvKGUpKXJldHVybiB2b2lkIGQoXCJMYXllciBvZiB6bGV2ZWwgXCIrdCtcIiBpcyBub3QgdmFsaWRcIik7aWYoYT4wJiZ0Pm5bMF0pe2ZvcihzPTA7YS0xPnMmJiEobltzXTx0JiZuW3MrMV0+dCk7cysrKTtyPWlbbltzXV19aWYobi5zcGxpY2UocysxLDAsdCkscil7dmFyIGg9ci5kb207aC5uZXh0U2libGluZz9sLmluc2VydEJlZm9yZShlLmRvbSxoLm5leHRTaWJsaW5nKTpsLmFwcGVuZENoaWxkKGUuZG9tKX1lbHNlIGwuZmlyc3RDaGlsZD9sLmluc2VydEJlZm9yZShlLmRvbSxsLmZpcnN0Q2hpbGQpOmwuYXBwZW5kQ2hpbGQoZS5kb20pO2lbdF09ZX0sZWFjaExheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG49MDtuPG8ubGVuZ3RoO24rKylpPW9bbl0sdC5jYWxsKGUsdGhpcy5fbGF5ZXJzW2ldLGkpfSxlYWNoQnVpbGRpbkxheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLGE9dGhpcy5femxldmVsTGlzdDtmb3Iobz0wO288YS5sZW5ndGg7bysrKW49YVtvXSxpPXRoaXMuX2xheWVyc1tuXSxpLmlzQnVpbGRpbiYmdC5jYWxsKGUsaSxuKX0sZWFjaE90aGVyTGF5ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYT10aGlzLl96bGV2ZWxMaXN0O2ZvcihvPTA7bzxhLmxlbmd0aDtvKyspbj1hW29dLGk9dGhpcy5fbGF5ZXJzW25dLGkuaXNCdWlsZGlufHx0LmNhbGwoZSxpLG4pfSxnZXRMYXllcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF5ZXJzfSxfdXBkYXRlTGF5ZXJTdGF0dXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGF5ZXJzLGk9e307dGhpcy5lYWNoQnVpbGRpbkxheWVyKGZ1bmN0aW9uKHQsZSl7aVtlXT10LmVsQ291bnQsdC5lbENvdW50PTB9KTtmb3IodmFyIG49MCxvPXQubGVuZ3RoO28+bjtuKyspe3ZhciBhPXRbbl0scj10aGlzLl9zaW5nbGVDYW52YXM/MDphLnpsZXZlbCxzPWVbcl07aWYocyl7aWYocy5lbENvdW50Kysscy5fX2RpcnR5KWNvbnRpbnVlO3MuX19kaXJ0eT1hLl9fZGlydHl9fXRoaXMuZWFjaEJ1aWxkaW5MYXllcihmdW5jdGlvbih0LGUpe2lbZV0hPT10LmVsQ291bnQmJih0Ll9fZGlydHk9ITApfSl9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEJ1aWxkaW5MYXllcih0aGlzLl9jbGVhckxheWVyKSx0aGlzfSxfY2xlYXJMYXllcjpmdW5jdGlvbih0KXt0LmNsZWFyKCl9LGNvbmZpZ0xheWVyOmZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIGk9dGhpcy5fbGF5ZXJDb25maWc7aVt0XT9jLm1lcmdlKGlbdF0sZSwhMCk6aVt0XT1lO3ZhciBuPXRoaXMuX2xheWVyc1t0XTtuJiZjLm1lcmdlKG4saVt0XSwhMCl9fSxkZWxMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnMsaT10aGlzLl96bGV2ZWxMaXN0LG49ZVt0XTtuJiYobi5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuLmRvbSksZGVsZXRlIGVbdF0saS5zcGxpY2UoYy5pbmRleE9mKGksdCksMSkpfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9kb21Sb290O2lmKGkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0PXR8fHRoaXMuX2dldFdpZHRoKCksZT1lfHx0aGlzLl9nZXRIZWlnaHQoKSxpLnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLl93aWR0aCE9dHx8ZSE9dGhpcy5faGVpZ2h0KXtpLnN0eWxlLndpZHRoPXQrXCJweFwiLGkuc3R5bGUuaGVpZ2h0PWUrXCJweFwiO2Zvcih2YXIgbiBpbiB0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzW25dLnJlc2l6ZSh0LGUpO3RoaXMucmVmcmVzaCghMCl9cmV0dXJuIHRoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWUsdGhpc30sY2xlYXJMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD1cIlwiLHRoaXMucm9vdD10aGlzLnN0b3JhZ2U9dGhpcy5fZG9tUm9vdD10aGlzLl9sYXllcnM9bnVsbH0sZ2V0UmVuZGVyZWRDYW52YXM6ZnVuY3Rpb24odCl7aWYodD10fHx7fSx0aGlzLl9zaW5nbGVDYW52YXMpcmV0dXJuIHRoaXMuX2xheWVyc1swXS5kb207dmFyIGU9bmV3IHAoXCJpbWFnZVwiLHRoaXMsdC5waXhlbFJhdGlvfHx0aGlzLmRwcik7ZS5pbml0Q29udGV4dCgpO3ZhciBpPWUuY3R4O2UuY2xlYXJDb2xvcj10LmJhY2tncm91bmRDb2xvcixlLmNsZWFyKCk7Zm9yKHZhciBuPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1uW29dO2EuaW52aXNpYmxlfHwoYS5iZWZvcmVCcnVzaCYmYS5iZWZvcmVCcnVzaChpKSxhLmJydXNoKGksITEpLGEuYWZ0ZXJCcnVzaCYmYS5hZnRlckJydXNoKGkpKX1yZXR1cm4gZS5kb219LGdldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSxnZXRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSxfZ2V0V2lkdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QsZT1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQpO3JldHVybih0LmNsaWVudFdpZHRofHxuKGUud2lkdGgpfHxuKHQuc3R5bGUud2lkdGgpKS0obihlLnBhZGRpbmdMZWZ0KXx8MCktKG4oZS5wYWRkaW5nUmlnaHQpfHwwKXwwfSxfZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yb290LGU9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtyZXR1cm4odC5jbGllbnRIZWlnaHR8fG4oZS5oZWlnaHQpfHxuKHQuc3R5bGUuaGVpZ2h0KSktKG4oZS5wYWRkaW5nVG9wKXx8MCktKG4oZS5wYWRkaW5nQm90dG9tKXx8MCl8MH0sX3BhdGhUb0ltYWdlOmZ1bmN0aW9uKHQsZSxuLG8sYSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxzPXIuZ2V0Q29udGV4dChcIjJkXCIpO3Iud2lkdGg9biphLHIuaGVpZ2h0PW8qYSxzLmNsZWFyUmVjdCgwLDAsbiphLG8qYSk7dmFyIGw9e3Bvc2l0aW9uOmUucG9zaXRpb24scm90YXRpb246ZS5yb3RhdGlvbixzY2FsZTplLnNjYWxlfTtlLnBvc2l0aW9uPVswLDAsMF0sZS5yb3RhdGlvbj0wLGUuc2NhbGU9WzEsMV0sZSYmZS5icnVzaChzKTt2YXIgaD1pKDQ2KSx1PW5ldyBoKHtpZDp0LHN0eWxlOnt4OjAseTowLGltYWdlOnJ9fSk7cmV0dXJuIG51bGwhPWwucG9zaXRpb24mJih1LnBvc2l0aW9uPWUucG9zaXRpb249bC5wb3NpdGlvbiksbnVsbCE9bC5yb3RhdGlvbiYmKHUucm90YXRpb249ZS5yb3RhdGlvbj1sLnJvdGF0aW9uKSxudWxsIT1sLnNjYWxlJiYodS5zY2FsZT1lLnNjYWxlPWwuc2NhbGUpLHV9LF9jcmVhdGVQYXRoVG9JbWFnZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUsaSxuLG8pe3JldHVybiB0Ll9wYXRoVG9JbWFnZShlLGksbixvLHQuZHByKX19fSx0LmV4cG9ydHM9dn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdC56bGV2ZWw9PT1lLnpsZXZlbD90Lno9PT1lLno/dC56Mj09PWUuejI/dC5fX3JlbmRlcmlkeC1lLl9fcmVuZGVyaWR4OnQuejItZS56Mjp0LnotZS56OnQuemxldmVsLWUuemxldmVsfXZhciBvPWkoMSksYT1pKDI3KSxyPWZ1bmN0aW9uKCl7dGhpcy5fZWxlbWVudHM9e30sdGhpcy5fcm9vdHM9W10sdGhpcy5fZGlzcGxheUxpc3Q9W10sdGhpcy5fZGlzcGxheUxpc3RMZW49MH07ci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIsZ2V0RGlzcGxheUxpc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwhMSx0JiZ0aGlzLnVwZGF0ZURpc3BsYXlMaXN0KGUpLHRoaXMuX2Rpc3BsYXlMaXN0fSx1cGRhdGVEaXNwbGF5TGlzdDpmdW5jdGlvbih0KXt0aGlzLl9kaXNwbGF5TGlzdExlbj0wO2Zvcih2YXIgZT10aGlzLl9yb290cyxpPXRoaXMuX2Rpc3BsYXlMaXN0LG89MCxhPWUubGVuZ3RoO2E+bztvKyspdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUoZVtvXSxudWxsLHQpO2kubGVuZ3RoPXRoaXMuX2Rpc3BsYXlMaXN0TGVuO2Zvcih2YXIgbz0wLGE9aS5sZW5ndGg7YT5vO28rKylpW29dLl9fcmVuZGVyaWR4PW87aS5zb3J0KG4pfSxfdXBkYXRlQW5kQWRkRGlzcGxheWFibGU6ZnVuY3Rpb24odCxlLGkpe2lmKCF0Lmlnbm9yZXx8aSl7dC5iZWZvcmVVcGRhdGUoKSx0LnVwZGF0ZSgpLHQuYWZ0ZXJVcGRhdGUoKTt2YXIgbj10LmNsaXBQYXRoO2lmKG4mJihuLnBhcmVudD10LG4udXBkYXRlVHJhbnNmb3JtKCksZT8oZT1lLnNsaWNlKCksZS5wdXNoKG4pKTplPVtuXSksXCJncm91cFwiPT10LnR5cGUpe2Zvcih2YXIgbz10Ll9jaGlsZHJlbixhPTA7YTxvLmxlbmd0aDthKyspe3ZhciByPW9bYV07ci5fX2RpcnR5PXQuX19kaXJ0eXx8ci5fX2RpcnR5LHRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKHIsZSxpKX10Ll9fZGlydHk9ITF9ZWxzZSB0Ll9fY2xpcFBhdGhzPWUsdGhpcy5fZGlzcGxheUxpc3RbdGhpcy5fZGlzcGxheUxpc3RMZW4rK109dH19LGFkZFJvb3Q6ZnVuY3Rpb24odCl7dGhpcy5fZWxlbWVudHNbdC5pZF18fCh0IGluc3RhbmNlb2YgYSYmdC5hZGRDaGlsZHJlblRvU3RvcmFnZSh0aGlzKSx0aGlzLmFkZFRvTWFwKHQpLHRoaXMuX3Jvb3RzLnB1c2godCkpfSxkZWxSb290OmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fcm9vdHMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5fcm9vdHNbZV07aSBpbnN0YW5jZW9mIGEmJmkuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZSh0aGlzKX1yZXR1cm4gdGhpcy5fZWxlbWVudHM9e30sdGhpcy5fcm9vdHM9W10sdGhpcy5fZGlzcGxheUxpc3Q9W10sdm9pZCh0aGlzLl9kaXNwbGF5TGlzdExlbj0wKX1pZih0IGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBlPTAsbj10Lmxlbmd0aDtuPmU7ZSsrKXRoaXMuZGVsUm9vdCh0W2VdKTtlbHNle3ZhciByO3I9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5fZWxlbWVudHNbdF06dDt2YXIgcz1vLmluZGV4T2YodGhpcy5fcm9vdHMscik7cz49MCYmKHRoaXMuZGVsRnJvbU1hcChyLmlkKSx0aGlzLl9yb290cy5zcGxpY2UocywxKSxyIGluc3RhbmNlb2YgYSYmci5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKHRoaXMpKX19LGFkZFRvTWFwOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgYSYmKHQuX19zdG9yYWdlPXRoaXMpLHQuZGlydHkoKSx0aGlzLl9lbGVtZW50c1t0LmlkXT10LHRoaXN9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZWxlbWVudHNbdF19LGRlbEZyb21NYXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZWxlbWVudHMsaT1lW3RdO3JldHVybiBpJiYoZGVsZXRlIGVbdF0saSBpbnN0YW5jZW9mIGEmJihpLl9fc3RvcmFnZT1udWxsKSksdGhpc30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2VsZW1lbnRzPXRoaXMuX3JlbmRlckxpc3Q9dGhpcy5fcm9vdHM9bnVsbH19LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxvPWkoMzQpLkRpc3BhdGNoZXIsYT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lKXx8ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDE2KX0scj1pKDU2KSxzPWZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5zdGFnZT10LnN0YWdlfHx7fSx0aGlzLm9uZnJhbWU9dC5vbmZyYW1lfHxmdW5jdGlvbigpe30sdGhpcy5fY2xpcHM9W10sdGhpcy5fcnVubmluZz0hMSx0aGlzLl90aW1lPTAsby5jYWxsKHRoaXMpfTtzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cyxhZGRDbGlwOmZ1bmN0aW9uKHQpe3RoaXMuX2NsaXBzLnB1c2godCl9LGFkZEFuaW1hdG9yOmZ1bmN0aW9uKHQpe3QuYW5pbWF0aW9uPXRoaXM7Zm9yKHZhciBlPXQuZ2V0Q2xpcHMoKSxpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5hZGRDbGlwKGVbaV0pfSxyZW1vdmVDbGlwOmZ1bmN0aW9uKHQpe3ZhciBlPW4uaW5kZXhPZih0aGlzLl9jbGlwcyx0KTtlPj0wJiZ0aGlzLl9jbGlwcy5zcGxpY2UoZSwxKX0scmVtb3ZlQW5pbWF0b3I6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZ2V0Q2xpcHMoKSxpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5yZW1vdmVDbGlwKGVbaV0pO3QuYW5pbWF0aW9uPW51bGx9LF91cGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksZT10LXRoaXMuX3RpbWUsaT10aGlzLl9jbGlwcyxuPWkubGVuZ3RoLG89W10sYT1bXSxyPTA7bj5yO3IrKyl7dmFyIHM9aVtyXSxsPXMuc3RlcCh0KTtsJiYoby5wdXNoKGwpLGEucHVzaChzKSl9Zm9yKHZhciByPTA7bj5yOylpW3JdLl9uZWVkc1JlbW92ZT8oaVtyXT1pW24tMV0saS5wb3AoKSxuLS0pOnIrKztuPW8ubGVuZ3RoO2Zvcih2YXIgcj0wO24+cjtyKyspYVtyXS5maXJlKG9bcl0pO3RoaXMuX3RpbWU9dCx0aGlzLm9uZnJhbWUoZSksdGhpcy50cmlnZ2VyKFwiZnJhbWVcIixlKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKX0sc3RhcnQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7ZS5fcnVubmluZyYmKGEodCksZS5fdXBkYXRlKCkpfXZhciBlPXRoaXM7dGhpcy5fcnVubmluZz0hMCx0aGlzLl90aW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGEodCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9ydW5uaW5nPSExfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX2NsaXBzPVtdfSxhbmltYXRlOmZ1bmN0aW9uKHQsZSl7ZT1lfHx7fTt2YXIgaT1uZXcgcih0LGUubG9vcCxlLmdldHRlcixlLnNldHRlcik7cmV0dXJuIGl9fSxuLm1peGluKHMsbyksdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3RoaXMuX3RhcmdldD10LnRhcmdldCx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5sb29wPW51bGw9PXQubG9vcD8hMTp0Lmxvb3AsdGhpcy5nYXA9dC5nYXB8fDAsdGhpcy5lYXNpbmc9dC5lYXNpbmd8fFwiTGluZWFyXCIsdGhpcy5vbmZyYW1lPXQub25mcmFtZSx0aGlzLm9uZGVzdHJveT10Lm9uZGVzdHJveSx0aGlzLm9ucmVzdGFydD10Lm9ucmVzdGFydH12YXIgbz1pKDEzMik7bi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4sc3RlcDpmdW5jdGlvbih0KXt0aGlzLl9pbml0aWFsaXplZHx8KHRoaXMuX3N0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSt0aGlzLl9kZWxheSx0aGlzLl9pbml0aWFsaXplZD0hMCk7dmFyIGU9KHQtdGhpcy5fc3RhcnRUaW1lKS90aGlzLl9saWZlO2lmKCEoMD5lKSl7ZT1NYXRoLm1pbihlLDEpO3ZhciBpPXRoaXMuZWFzaW5nLG49XCJzdHJpbmdcIj09dHlwZW9mIGk/b1tpXTppLGE9XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKGUpOmU7cmV0dXJuIHRoaXMuZmlyZShcImZyYW1lXCIsYSksMT09ZT90aGlzLmxvb3A/KHRoaXMucmVzdGFydCgpLFwicmVzdGFydFwiKToodGhpcy5fbmVlZHNSZW1vdmU9ITAsXCJkZXN0cm95XCIpOm51bGx9fSxyZXN0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksZT0odC10aGlzLl9zdGFydFRpbWUpJXRoaXMuX2xpZmU7dGhpcy5fc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWUrdGhpcy5nYXAsdGhpcy5fbmVlZHNSZW1vdmU9ITF9LGZpcmU6ZnVuY3Rpb24odCxlKXt0PVwib25cIit0LHRoaXNbdF0mJnRoaXNbdF0odGhpcy5fdGFyZ2V0LGUpfX0sdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7dmFyIGk9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0scXVhZHJhdGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0scXVhZHJhdGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxxdWFkcmF0aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9LGN1YmljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxjdWJpY091dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KzF9LGN1YmljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQ6LjUqKCh0LT0yKSp0KnQrMil9LHF1YXJ0aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdH0scXVhcnRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxxdWFydGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdDotLjUqKCh0LT0yKSp0KnQqdC0yKX0scXVpbnRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0KnR9LHF1aW50aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCp0KnQrMX0scXVpbnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQqdDouNSooKHQtPTIpKnQqdCp0KnQrMil9LHNpbnVzb2lkYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqTWF0aC5QSS8yKX0sc2ludXNvaWRhbEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfSxleHBvbmVudGlhbEluOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sZXhwb25lbnRpYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6MS1NYXRoLnBvdygyLC0xMCp0KX0sZXhwb25lbnRpYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Kj0yKTwxPy41Kk1hdGgucG93KDEwMjQsdC0xKTouNSooLU1hdGgucG93KDIsLTEwKih0LTEpKSsyKX0sY2lyY3VsYXJJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxjaXJjdWxhck91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KDEtIC0tdCp0KX0sY2lyY3VsYXJJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0sZWxhc3RpY0luOmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjEsbj0uNDtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOighaXx8MT5pPyhpPTEsZT1uLzQpOmU9bipNYXRoLmFzaW4oMS9pKS8oMipNYXRoLlBJKSwtKGkqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpL24pKSl9LGVsYXN0aWNPdXQ6ZnVuY3Rpb24odCl7dmFyIGUsaT0uMSxuPS40O3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHwxPmk/KGk9MSxlPW4vNCk6ZT1uKk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvbikrMSl9LGVsYXN0aWNJbk91dDpmdW5jdGlvbih0KXt2YXIgZSxpPS4xLG49LjQ7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIWl8fDE+aT8oaT0xLGU9bi80KTplPW4qTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksKHQqPTIpPDE/LS41KihpKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS9uKSk6aSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpL24pKi41KzEpfSxiYWNrSW46ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gdCp0KigoZSsxKSp0LWUpfSxiYWNrT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuLS10KnQqKChlKzEpKnQrZSkrMX0sYmFja0luT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNTk0OTA5NTtyZXR1cm4odCo9Mik8MT8uNSoodCp0KigoZSsxKSp0LWUpKTouNSooKHQtPTIpKnQqKChlKzEpKnQrZSkrMil9LGJvdW5jZUluOmZ1bmN0aW9uKHQpe3JldHVybiAxLWkuYm91bmNlT3V0KDEtdCl9LGJvdW5jZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gMS8yLjc1PnQ/Ny41NjI1KnQqdDoyLzIuNzU+dD83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NToyLjUvMi43NT50PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxib3VuY2VJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4uNT50Py41KmkuYm91bmNlSW4oMip0KTouNSppLmJvdW5jZU91dCgyKnQtMSkrLjV9fTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNTcpLm5vcm1hbGl6ZVJhZGlhbixvPTIqTWF0aC5QSTt0LmV4cG9ydHM9e2NvbnRhaW5TdHJva2U6ZnVuY3Rpb24odCxlLGksYSxyLHMsbCxoLHUpe2lmKDA9PT1sKXJldHVybiExO3ZhciBjPWw7aC09dCx1LT1lO3ZhciBkPU1hdGguc3FydChoKmgrdSp1KTtpZihkLWM+aXx8aT5kK2MpcmV0dXJuITE7aWYoTWF0aC5hYnMoYS1yKSVvPDFlLTQpcmV0dXJuITA7aWYocyl7dmFyIGY9YTthPW4ocikscj1uKGYpfWVsc2UgYT1uKGEpLHI9bihyKTthPnImJihyKz1vKTt2YXIgcD1NYXRoLmF0YW4yKHUsaCk7cmV0dXJuIDA+cCYmKHArPW8pLHA+PWEmJnI+PXB8fHArbz49YSYmcj49cCtvfX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDE2KTt0LmV4cG9ydHM9e2NvbnRhaW5TdHJva2U6ZnVuY3Rpb24odCxlLGksbyxhLHIscyxsLGgsdSxjKXtpZigwPT09aClyZXR1cm4hMTt2YXIgZD1oO2lmKGM+ZStkJiZjPm8rZCYmYz5yK2QmJmM+bCtkfHxlLWQ+YyYmby1kPmMmJnItZD5jJiZsLWQ+Y3x8dT50K2QmJnU+aStkJiZ1PmErZCYmdT5zK2R8fHQtZD51JiZpLWQ+dSYmYS1kPnUmJnMtZD51KXJldHVybiExO3ZhciBmPW4uY3ViaWNQcm9qZWN0UG9pbnQodCxlLGksbyxhLHIscyxsLHUsYyxudWxsKTtyZXR1cm4gZC8yPj1mfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtjb250YWluU3Ryb2tlOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIpe2lmKDA9PT1vKXJldHVybiExO3ZhciBzPW8sbD0wLGg9dDtpZihyPmUrcyYmcj5uK3N8fGUtcz5yJiZuLXM+cnx8YT50K3MmJmE+aStzfHx0LXM+YSYmaS1zPmEpcmV0dXJuITE7aWYodD09PWkpcmV0dXJuIE1hdGguYWJzKGEtdCk8PXMvMjtsPShlLW4pLyh0LWkpLGg9KHQqbi1pKmUpLyh0LWkpO3ZhciB1PWwqYS1yK2gsYz11KnUvKGwqbCsxKTtyZXR1cm4gcy8yKnMvMj49Y319fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpPHh9ZnVuY3Rpb24gbygpe3ZhciB0PWJbMF07YlswXT1iWzFdLGJbMV09dH1mdW5jdGlvbiBhKHQsZSxpLG4sYSxyLHMsbCxoLHUpe2lmKHU+ZSYmdT5uJiZ1PnImJnU+bHx8ZT51JiZuPnUmJnI+dSYmbD51KXJldHVybiAwO3ZhciBjPWcuY3ViaWNSb290QXQoZSxuLHIsbCx1LF8pO2lmKDA9PT1jKXJldHVybiAwO2Zvcih2YXIgZCxmLHA9MCxtPS0xLHY9MDtjPnY7disrKXt2YXIgeT1fW3ZdLHg9Zy5jdWJpY0F0KHQsaSxhLHMseSk7aD54fHwoMD5tJiYobT1nLmN1YmljRXh0cmVtYShlLG4scixsLGIpLGJbMV08YlswXSYmbT4xJiZvKCksZD1nLmN1YmljQXQoZSxuLHIsbCxiWzBdKSxtPjEmJihmPWcuY3ViaWNBdChlLG4scixsLGJbMV0pKSkscCs9Mj09bT95PGJbMF0/ZT5kPzE6LTE6eTxiWzFdP2Q+Zj8xOi0xOmY+bD8xOi0xOnk8YlswXT9lPmQ/MTotMTpkPmw/MTotMSl9cmV0dXJuIHB9ZnVuY3Rpb24gcih0LGUsaSxuLG8sYSxyLHMpe2lmKHM+ZSYmcz5uJiZzPmF8fGU+cyYmbj5zJiZhPnMpcmV0dXJuIDA7dmFyIGw9Zy5xdWFkcmF0aWNSb290QXQoZSxuLGEscyxfKTtpZigwPT09bClyZXR1cm4gMDt2YXIgaD1nLnF1YWRyYXRpY0V4dHJlbXVtKGUsbixhKTtpZihoPj0wJiYxPj1oKXtmb3IodmFyIHU9MCxjPWcucXVhZHJhdGljQXQoZSxuLGEsaCksZD0wO2w+ZDtkKyspe3ZhciBmPWcucXVhZHJhdGljQXQodCxpLG8sX1tkXSk7cj5mfHwodSs9X1tkXTxoP2U+Yz8xOi0xOmM+YT8xOi0xKX1yZXR1cm4gdX12YXIgZj1nLnF1YWRyYXRpY0F0KHQsaSxvLF9bMF0pO3JldHVybiByPmY/MDplPmE/MTotMX1mdW5jdGlvbiBzKHQsZSxpLG4sbyxhLHIscyl7aWYocy09ZSxzPml8fC1pPnMpcmV0dXJuIDA7dmFyIGw9TWF0aC5zcXJ0KGkqaS1zKnMpO19bMF09LWwsX1sxXT1sO3ZhciBoPU1hdGguYWJzKG4tbyk7aWYoMWUtND5oKXJldHVybiAwO2lmKDFlLTQ+aCV5KXtuPTAsbz15O3ZhciB1PWE/MTotMTtyZXR1cm4gcj49X1swXSt0JiZyPD1fWzFdK3Q/dTowfWlmKGEpe3ZhciBsPW47bj1wKG8pLG89cChsKX1lbHNlIG49cChuKSxvPXAobyk7bj5vJiYobys9eSk7Zm9yKHZhciBjPTAsZD0wOzI+ZDtkKyspe3ZhciBmPV9bZF07aWYoZit0PnIpe3ZhciBnPU1hdGguYXRhbjIocyxmKSx1PWE/MTotMTswPmcmJihnPXkrZyksKGc+PW4mJm8+PWd8fGcreT49biYmbz49Zyt5KSYmKGc+TWF0aC5QSS8yJiZnPDEuNSpNYXRoLlBJJiYodT0tdSksYys9dSl9fXJldHVybiBjfWZ1bmN0aW9uIGwodCxlLGksbyxsKXtmb3IodmFyIHU9MCxwPTAsZz0wLHk9MCx4PTAsXz0wO188dC5sZW5ndGg7KXt2YXIgYj10W18rK107aWYoYj09PWguTSYmXz4xJiYoaXx8KHUrPW0ocCxnLHkseCxvLGwpKSwwIT09dSkpcmV0dXJuITA7c3dpdGNoKDE9PV8mJihwPXRbX10sZz10W18rMV0seT1wLHg9ZyksYil7Y2FzZSBoLk06eT10W18rK10seD10W18rK10scD15LGc9eDticmVhaztjYXNlIGguTDppZihpKXtpZih2KHAsZyx0W19dLHRbXysxXSxlLG8sbCkpcmV0dXJuITB9ZWxzZSB1Kz1tKHAsZyx0W19dLHRbXysxXSxvLGwpfHwwO3A9dFtfKytdLGc9dFtfKytdO2JyZWFrO2Nhc2UgaC5DOmlmKGkpe2lmKGMuY29udGFpblN0cm9rZShwLGcsdFtfKytdLHRbXysrXSx0W18rK10sdFtfKytdLHRbX10sdFtfKzFdLGUsbyxsKSlyZXR1cm4hMH1lbHNlIHUrPWEocCxnLHRbXysrXSx0W18rK10sdFtfKytdLHRbXysrXSx0W19dLHRbXysxXSxvLGwpfHwwO3A9dFtfKytdLGc9dFtfKytdO2JyZWFrO2Nhc2UgaC5ROmlmKGkpe2lmKGQuY29udGFpblN0cm9rZShwLGcsdFtfKytdLHRbXysrXSx0W19dLHRbXysxXSxlLG8sbCkpcmV0dXJuITB9ZWxzZSB1Kz1yKHAsZyx0W18rK10sdFtfKytdLHRbX10sdFtfKzFdLG8sbCl8fDA7cD10W18rK10sZz10W18rK107YnJlYWs7Y2FzZSBoLkE6dmFyIHc9dFtfKytdLFM9dFtfKytdLE09dFtfKytdLEE9dFtfKytdLEk9dFtfKytdLFQ9dFtfKytdLEw9KHRbXysrXSwxLXRbXysrXSksQz1NYXRoLmNvcyhJKSpNK3csRD1NYXRoLnNpbihJKSpBK1M7Xz4xP3UrPW0ocCxnLEMsRCxvLGwpOih5PUMseD1EKTt2YXIgUD0oby13KSpBL00rdztpZihpKXtpZihmLmNvbnRhaW5TdHJva2UodyxTLEEsSSxJK1QsTCxlLFAsbCkpcmV0dXJuITB9ZWxzZSB1Kz1zKHcsUyxBLEksSStULEwsUCxsKTtwPU1hdGguY29zKEkrVCkqTSt3LGc9TWF0aC5zaW4oSStUKSpBK1M7YnJlYWs7Y2FzZSBoLlI6eT1wPXRbXysrXSx4PWc9dFtfKytdO3ZhciBrPXRbXysrXSx6PXRbXysrXSxDPXkrayxEPXgrejtpZihpKXtpZih2KHkseCxDLHgsZSxvLGwpfHx2KEMseCxDLEQsZSxvLGwpfHx2KEMsRCx5LEQsZSxvLGwpfHx2KHksRCxDLEQsZSxvLGwpKXJldHVybiEwfWVsc2UgdSs9bShDLHgsQyxELG8sbCksdSs9bSh5LEQseSx4LG8sbCk7YnJlYWs7Y2FzZSBoLlo6aWYoaSl7aWYodihwLGcseSx4LGUsbyxsKSlyZXR1cm4hMH1lbHNlIGlmKHUrPW0ocCxnLHkseCxvLGwpLDAhPT11KXJldHVybiEwO3A9eSxnPXh9fXJldHVybiBpfHxuKGcseCl8fCh1Kz1tKHAsZyx5LHgsbyxsKXx8MCksMCE9PXV9dmFyIGg9aSgyOCkuQ01ELHU9aSgxMzUpLGM9aSgxMzQpLGQ9aSgxMzcpLGY9aSgxMzMpLHA9aSg1Nykubm9ybWFsaXplUmFkaWFuLGc9aSgxNiksbT1pKDc1KSx2PXUuY29udGFpblN0cm9rZSx5PTIqTWF0aC5QSSx4PTFlLTQsXz1bLTEsLTEsLTFdLGI9Wy0xLC0xXTt0LmV4cG9ydHM9e2NvbnRhaW46ZnVuY3Rpb24odCxlLGkpe3JldHVybiBsKHQsMCwhMSxlLGkpfSxjb250YWluU3Ryb2tlOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBsKHQsZSwhMCxpLG4pfX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDE2KTt0LmV4cG9ydHM9e2NvbnRhaW5TdHJva2U6ZnVuY3Rpb24odCxlLGksbyxhLHIscyxsLGgpe2lmKDA9PT1zKXJldHVybiExO3ZhciB1PXM7aWYoaD5lK3UmJmg+byt1JiZoPnIrdXx8ZS11PmgmJm8tdT5oJiZyLXU+aHx8bD50K3UmJmw+aSt1JiZsPmErdXx8dC11PmwmJmktdT5sJiZhLXU+bClyZXR1cm4hMTt2YXIgYz1uLnF1YWRyYXRpY1Byb2plY3RQb2ludCh0LGUsaSxvLGEscixsLGgsbnVsbCk7cmV0dXJuIHUvMj49Y319fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7dmFyIGU9dFsxXVswXS10WzBdWzBdLGk9dFsxXVsxXS10WzBdWzFdO3JldHVybiBNYXRoLnNxcnQoZSplK2kqaSl9ZnVuY3Rpb24gbih0KXtyZXR1cm5bKHRbMF1bMF0rdFsxXVswXSkvMiwodFswXVsxXSt0WzFdWzFdKS8yXX12YXIgbz1mdW5jdGlvbigpe3RoaXMuX3RyYWNrPVtdfTtvLnByb3RvdHlwZT17Y29uc3RydWN0b3I6byxyZWNvZ25pemU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZG9UcmFjayh0LGUpLHRoaXMuX3JlY29nbml6ZSh0KX0sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2subGVuZ3RoPTAsdGhpc30sX2RvVHJhY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRvdWNoZXM7aWYoaSl7Zm9yKHZhciBuPXtwb2ludHM6W10sdG91Y2hlczpbXSx0YXJnZXQ6ZSxldmVudDp0fSxvPTAsYT1pLmxlbmd0aDthPm87bysrKXt2YXIgcj1pW29dO24ucG9pbnRzLnB1c2goW3IuY2xpZW50WCxyLmNsaWVudFldKSxuLnRvdWNoZXMucHVzaChyKX10aGlzLl90cmFjay5wdXNoKG4pfX0sX3JlY29nbml6ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1hW2VdKHRoaXMuX3RyYWNrLHQpO2lmKGkpcmV0dXJuIGl9fX07dmFyIGE9e3BpbmNoOmZ1bmN0aW9uKHQsZSl7dmFyIG89dC5sZW5ndGg7aWYobyl7dmFyIGE9KHRbby0xXXx8e30pLnBvaW50cyxyPSh0W28tMl18fHt9KS5wb2ludHN8fGE7aWYociYmci5sZW5ndGg+MSYmYSYmYS5sZW5ndGg+MSl7dmFyIHM9aShhKS9pKHIpOyFpc0Zpbml0ZShzKSYmKHM9MSksZS5waW5jaFNjYWxlPXM7dmFyIGw9bihhKTtyZXR1cm4gZS5waW5jaFg9bFswXSxlLnBpbmNoWT1sWzFdLHt0eXBlOlwicGluY2hcIix0YXJnZXQ6dFswXS50YXJnZXQsZXZlbnQ6ZX19fX19O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5fbGVuPTB9LG49aS5wcm90b3R5cGU7bi5pbnNlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8odCk7cmV0dXJuIHRoaXMuaW5zZXJ0RW50cnkoZSksZX0sbi5pbnNlcnRFbnRyeT1mdW5jdGlvbih0KXt0aGlzLmhlYWQ/KHRoaXMudGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMudGFpbCx0aGlzLnRhaWw9dCk6dGhpcy5oZWFkPXRoaXMudGFpbD10LHRoaXMuX2xlbisrfSxuLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10LnByZXYsaT10Lm5leHQ7ZT9lLm5leHQ9aTp0aGlzLmhlYWQ9aSxpP2kucHJldj1lOnRoaXMudGFpbD1lLHQubmV4dD10LnByZXY9bnVsbCx0aGlzLl9sZW4tLX0sbi5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufTt2YXIgbz1mdW5jdGlvbih0KXt0aGlzLnZhbHVlPXQsdGhpcy5uZXh0LHRoaXMucHJldn0sYT1mdW5jdGlvbih0KXt0aGlzLl9saXN0PW5ldyBpLHRoaXMuX21hcD17fSx0aGlzLl9tYXhTaXplPXR8fDEwfSxyPWEucHJvdG90eXBlO3IucHV0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbGlzdCxuPXRoaXMuX21hcDtpZihudWxsPT1uW3RdKXt2YXIgbz1pLmxlbigpO2lmKG8+PXRoaXMuX21heFNpemUmJm8+MCl7dmFyIGE9aS5oZWFkO2kucmVtb3ZlKGEpLGRlbGV0ZSBuW2Eua2V5XX12YXIgcj1pLmluc2VydChlKTtyLmtleT10LG5bdF09cn19LHIuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcFt0XSxpPXRoaXMuX2xpc3Q7cmV0dXJuIG51bGwhPWU/KGUhPT1pLnRhaWwmJihpLnJlbW92ZShlKSxpLmluc2VydEVudHJ5KGUpKSxlLnZhbHVlKTp2b2lkIDB9LHIuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9saXN0LmNsZWFyKCksdGhpcy5fbWFwPXt9fSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNik7dC5leHBvcnRzPW4uZXh0ZW5kKHt0eXBlOlwiY29tcG91bmRcIixzaGFwZTp7cGF0aHM6bnVsbH0sX3VwZGF0ZVBhdGhEaXJ0eTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9fZGlydHlQYXRoLGU9dGhpcy5zaGFwZS5wYXRocyxpPTA7aTxlLmxlbmd0aDtpKyspdD10fHxlW2ldLl9fZGlydHlQYXRoO3RoaXMuX19kaXJ0eVBhdGg9dCx0aGlzLl9fZGlydHk9dGhpcy5fX2RpcnR5fHx0fSxiZWZvcmVCcnVzaDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVBhdGhEaXJ0eSgpO2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzfHxbXSxlPXRoaXMuZ2V0R2xvYmFsU2NhbGUoKSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5wYXRoLnNldFNjYWxlKGVbMF0sZVsxXSl9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnBhdGhzfHxbXSxuPTA7bjxpLmxlbmd0aDtuKyspaVtuXS5idWlsZFBhdGgodCxpW25dLnNoYXBlKX0sYWZ0ZXJCcnVzaDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLl9fZGlydHlQYXRoPSExfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlUGF0aERpcnR5KCksbi5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0LmNhbGwodGhpcyl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLG89aSgxNyksYT1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLng9bnVsbD09dD8uNTp0LHRoaXMueT1udWxsPT1lPy41OmUsdGhpcy5yPW51bGw9PWk/LjU6aSxvLmNhbGwodGhpcyxuKX07YS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmEsdHlwZTpcInJhZGlhbFwifSxuLmluaGVyaXRzKGEsbyksdC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9W1wibGluZUNhcFwiLFwibGluZUpvaW5cIixcIm1pdGVyTGltaXRcIixcInNoYWRvd0JsdXJcIixcInNoYWRvd09mZnNldFhcIixcInNoYWRvd09mZnNldFlcIixcInNoYWRvd0NvbG9yXCJdLG49ZnVuY3Rpb24odCl7dGhpcy5leHRlbmRGcm9tKHQpfTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixmaWxsOlwiIzAwMDAwMFwiLHN0cm9rZTpudWxsLG9wYWNpdHk6MSxsaW5lRGFzaDpudWxsLGxpbmVEYXNoT2Zmc2V0OjAsc2hhZG93Qmx1cjowLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsbGluZVdpZHRoOjEsc3Ryb2tlTm9TY2FsZTohMSx0ZXh0Om51bGwsdGV4dEZpbGw6XCIjMDAwXCIsdGV4dFN0cm9rZTpudWxsLHRleHRQb3NpdGlvbjpcImluc2lkZVwiLHRleHRCYXNlbGluZTpudWxsLHRleHRBbGlnbjpudWxsLHRleHRWZXJ0aWNhbEFsaWduOm51bGwsdGV4dERpc3RhbmNlOjUsdGV4dFNoYWRvd0JsdXI6MCx0ZXh0U2hhZG93T2Zmc2V0WDowLHRleHRTaGFkb3dPZmZzZXRZOjAsYmluZDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmZpbGwsbz10aGlzLnN0cm9rZSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciByPWlbYV07bnVsbCE9dGhpc1tyXSYmKHRbcl09dGhpc1tyXSl9aWYobnVsbCE9byl7dmFyIHM9dGhpcy5saW5lV2lkdGg7dC5saW5lV2lkdGg9cy8odGhpcy5zdHJva2VOb1NjYWxlJiZlJiZlLmdldExpbmVTY2FsZT9lLmdldExpbmVTY2FsZSgpOjEpfW51bGw9PW58fFwibm9uZVwiPT09bnx8bi5jb2xvclN0b3BzfHwodC5maWxsU3R5bGU9biksbnVsbD09b3x8XCJub25lXCI9PT1vfHxvLmNvbG9yU3RvcHN8fCh0LnN0cm9rZVN0eWxlPW8pLG51bGwhPXRoaXMub3BhY2l0eSYmKHQuZ2xvYmFsQWxwaGE9dGhpcy5vcGFjaXR5KX0sZXh0ZW5kRnJvbTpmdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBpPXRoaXM7Zm9yKHZhciBuIGluIHQpIXQuaGFzT3duUHJvcGVydHkobil8fCFlJiZpLmhhc093blByb3BlcnR5KG4pfHwoaVtuXT10W25dKX19LHNldDpmdW5jdGlvbih0LGUpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXNbdF09ZTp0aGlzLmV4dGVuZEZyb20odCwhMCk7XG59LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHQuZXh0ZW5kRnJvbSh0aGlzLCEwKSx0fSxjcmVhdGVMaW5lYXJHcmFkaWVudDpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZS54Kmkud2lkdGgraS54LG89ZS54MippLndpZHRoK2kueCxhPWUueSppLmhlaWdodCtpLnkscj1lLnkyKmkuaGVpZ2h0K2kueSxzPXQuY3JlYXRlTGluZWFyR3JhZGllbnQobixhLG8scik7cmV0dXJuIHN9LGNyZWF0ZVJhZGlhbEdyYWRpZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pLndpZHRoLG89aS5oZWlnaHQsYT1NYXRoLm1pbihuLG8pLHI9ZS54Km4raS54LHM9ZS55Km8raS55LGw9ZS5yKmEsaD10LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHIscywwLHIscyxsKTtyZXR1cm4gaH0sZ2V0R3JhZGllbnQ6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj1cInJhZGlhbFwiPT09ZS50eXBlP1wiY3JlYXRlUmFkaWFsR3JhZGllbnRcIjpcImNyZWF0ZUxpbmVhckdyYWRpZW50XCIsbz10aGlzW25dKHQsZSxpKSxhPWUuY29sb3JTdG9wcyxyPTA7cjxhLmxlbmd0aDtyKyspby5hZGRDb2xvclN0b3AoYVtyXS5vZmZzZXQsYVtyXS5jb2xvcik7cmV0dXJuIG99fTt2YXIgbyxhLHI9bi5wcm90b3R5cGU7Zm9yKGE9MDthPGkubGVuZ3RoO2ErKylvPWlbYV0sbyBpbiByfHwocltvXT1udWxsKTt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNSksbz1uLm1pbixhPW4ubWF4LHI9bi5zY2FsZSxzPW4uZGlzdGFuY2UsbD1uLmFkZDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGksaCl7dmFyIHUsYyxkLGYscD1bXSxnPVtdLG09W10sdj1bXTtpZihoKXtkPVsxLzAsMS8wXSxmPVstKDEvMCksLSgxLzApXTtmb3IodmFyIHk9MCx4PXQubGVuZ3RoO3g+eTt5KyspbyhkLGQsdFt5XSksYShmLGYsdFt5XSk7byhkLGQsaFswXSksYShmLGYsaFsxXSl9Zm9yKHZhciB5PTAseD10Lmxlbmd0aDt4Pnk7eSsrKXt2YXIgXz10W3ldO2lmKGkpdT10W3k/eS0xOngtMV0sYz10Wyh5KzEpJXhdO2Vsc2V7aWYoMD09PXl8fHk9PT14LTEpe3AucHVzaChuLmNsb25lKHRbeV0pKTtjb250aW51ZX11PXRbeS0xXSxjPXRbeSsxXX1uLnN1YihnLGMsdSkscihnLGcsZSk7dmFyIGI9cyhfLHUpLHc9cyhfLGMpLFM9Yit3OzAhPT1TJiYoYi89Uyx3Lz1TKSxyKG0sZywtYikscih2LGcsdyk7dmFyIE09bChbXSxfLG0pLEE9bChbXSxfLHYpO2gmJihhKE0sTSxkKSxvKE0sTSxmKSxhKEEsQSxkKSxvKEEsQSxmKSkscC5wdXNoKE0pLHAucHVzaChBKX1yZXR1cm4gaSYmcC5wdXNoKHAuc2hpZnQoKSkscH19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpLG4sbyxhLHIpe3ZhciBzPS41KihpLXQpLGw9LjUqKG4tZSk7cmV0dXJuKDIqKGUtaSkrcytsKSpyKygtMyooZS1pKS0yKnMtbCkqYStzKm8rZX12YXIgbz1pKDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10Lmxlbmd0aCxhPVtdLHI9MCxzPTE7aT5zO3MrKylyKz1vLmRpc3RhbmNlKHRbcy0xXSx0W3NdKTt2YXIgbD1yLzI7bD1pPmw/aTpsO2Zvcih2YXIgcz0wO2w+cztzKyspe3ZhciBoLHUsYyxkPXMvKGwtMSkqKGU/aTppLTEpLGY9TWF0aC5mbG9vcihkKSxwPWQtZixnPXRbZiVpXTtlPyhoPXRbKGYtMStpKSVpXSx1PXRbKGYrMSklaV0sYz10WyhmKzIpJWldKTooaD10WzA9PT1mP2Y6Zi0xXSx1PXRbZj5pLTI/aS0xOmYrMV0sYz10W2Y+aS0zP2ktMTpmKzJdKTt2YXIgbT1wKnAsdj1wKm07YS5wdXNoKFtuKGhbMF0sZ1swXSx1WzBdLGNbMF0scCxtLHYpLG4oaFsxXSxnWzFdLHVbMV0sY1sxXSxwLG0sdildKX1yZXR1cm4gYX19LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSg2KS5leHRlbmQoe3R5cGU6XCJhcmNcIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJLGNsb2Nrd2lzZTohMH0sc3R5bGU6e3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89TWF0aC5tYXgoZS5yLDApLGE9ZS5zdGFydEFuZ2xlLHI9ZS5lbmRBbmdsZSxzPWUuY2xvY2t3aXNlLGw9TWF0aC5jb3MoYSksaD1NYXRoLnNpbihhKTt0Lm1vdmVUbyhsKm8raSxoKm8rbiksdC5hcmMoaSxuLG8sYSxyLCFzKX19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlLGkpe3ZhciBuPXQuY3B4MixvPXQuY3B5MjtyZXR1cm4gbnVsbD09PW58fG51bGw9PT1vP1soaT9jOmgpKHQueDEsdC5jcHgxLHQuY3B4Mix0LngyLGUpLChpP2M6aCkodC55MSx0LmNweTEsdC5jcHkyLHQueTIsZSldOlsoaT91OmwpKHQueDEsdC5jcHgxLHQueDIsZSksKGk/dTpsKSh0LnkxLHQuY3B5MSx0LnkyLGUpXX12YXIgbz1pKDE2KSxhPWkoNSkscj1vLnF1YWRyYXRpY1N1YmRpdmlkZSxzPW8uY3ViaWNTdWJkaXZpZGUsbD1vLnF1YWRyYXRpY0F0LGg9by5jdWJpY0F0LHU9by5xdWFkcmF0aWNEZXJpdmF0aXZlQXQsYz1vLmN1YmljRGVyaXZhdGl2ZUF0LGQ9W107dC5leHBvcnRzPWkoNikuZXh0ZW5kKHt0eXBlOlwiYmV6aWVyLWN1cnZlXCIsc2hhcGU6e3gxOjAseTE6MCx4MjowLHkyOjAsY3B4MTowLGNweTE6MCxwZXJjZW50OjF9LHN0eWxlOntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLngxLG49ZS55MSxvPWUueDIsYT1lLnkyLGw9ZS5jcHgxLGg9ZS5jcHkxLHU9ZS5jcHgyLGM9ZS5jcHkyLGY9ZS5wZXJjZW50OzAhPT1mJiYodC5tb3ZlVG8oaSxuKSxudWxsPT11fHxudWxsPT1jPygxPmYmJihyKGksbCxvLGYsZCksbD1kWzFdLG89ZFsyXSxyKG4saCxhLGYsZCksaD1kWzFdLGE9ZFsyXSksdC5xdWFkcmF0aWNDdXJ2ZVRvKGwsaCxvLGEpKTooMT5mJiYocyhpLGwsdSxvLGYsZCksbD1kWzFdLHU9ZFsyXSxvPWRbM10scyhuLGgsYyxhLGYsZCksaD1kWzFdLGM9ZFsyXSxhPWRbM10pLHQuYmV6aWVyQ3VydmVUbyhsLGgsdSxjLG8sYSkpKX0scG9pbnRBdDpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLnNoYXBlLHQsITEpfSx0YW5nZW50QXQ6ZnVuY3Rpb24odCl7dmFyIGU9bih0aGlzLnNoYXBlLHQsITApO3JldHVybiBhLm5vcm1hbGl6ZShlLGUpfX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWkoNikuZXh0ZW5kKHt0eXBlOlwiY2lyY2xlXCIsc2hhcGU6e2N4OjAsY3k6MCxyOjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3QubW92ZVRvKGUuY3grZS5yLGUuY3kpLHQuYXJjKGUuY3gsZS5jeSxlLnIsMCwyKk1hdGguUEksITApfX0pfSxmdW5jdGlvbih0LGUsaSl7dC5leHBvcnRzPWkoNikuZXh0ZW5kKHt0eXBlOlwibGluZVwiLHNoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLHBlcmNlbnQ6MX0sc3R5bGU6e3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUueDEsbj1lLnkxLG89ZS54MixhPWUueTIscj1lLnBlcmNlbnQ7MCE9PXImJih0Lm1vdmVUbyhpLG4pLDE+ciYmKG89aSooMS1yKStvKnIsYT1uKigxLXIpK2EqciksdC5saW5lVG8obyxhKSl9LHBvaW50QXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaGFwZTtyZXR1cm5bZS54MSooMS10KStlLngyKnQsZS55MSooMS10KStlLnkyKnRdfX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1OSk7dC5leHBvcnRzPWkoNikuZXh0ZW5kKHt0eXBlOlwicG9seWdvblwiLHNoYXBlOntwb2ludHM6bnVsbCxzbW9vdGg6ITEsc21vb3RoQ29uc3RyYWludDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXtuLmJ1aWxkUGF0aCh0LGUsITApfX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1OSk7dC5leHBvcnRzPWkoNikuZXh0ZW5kKHt0eXBlOlwicG9seWxpbmVcIixzaGFwZTp7cG9pbnRzOm51bGwsc21vb3RoOiExLHNtb290aENvbnN0cmFpbnQ6bnVsbH0sc3R5bGU6e3N0cm9rZTpcIiMwMDBcIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe24uYnVpbGRQYXRoKHQsZSwhMSl9fSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDYwKTt0LmV4cG9ydHM9aSg2KS5leHRlbmQoe3R5cGU6XCJyZWN0XCIsc2hhcGU6e3I6MCx4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUueCxvPWUueSxhPWUud2lkdGgscj1lLmhlaWdodDtlLnI/bi5idWlsZFBhdGgodCxlKTp0LnJlY3QoaSxvLGEsciksdC5jbG9zZVBhdGgoKX19KX0sZnVuY3Rpb24odCxlLGkpe3QuZXhwb3J0cz1pKDYpLmV4dGVuZCh7dHlwZTpcInJpbmdcIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxyMDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPTIqTWF0aC5QSTt0Lm1vdmVUbyhpK2UucixuKSx0LmFyYyhpLG4sZS5yLDAsbywhMSksdC5tb3ZlVG8oaStlLnIwLG4pLHQuYXJjKGksbixlLnIwLDAsbywhMCl9fSl9LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSg2KS5leHRlbmQoe3R5cGU6XCJzZWN0b3JcIixzaGFwZTp7Y3g6MCxjeTowLHIwOjAscjowLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY2xvY2t3aXNlOiEwfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPU1hdGgubWF4KGUucjB8fDAsMCksYT1NYXRoLm1heChlLnIsMCkscj1lLnN0YXJ0QW5nbGUscz1lLmVuZEFuZ2xlLGw9ZS5jbG9ja3dpc2UsaD1NYXRoLmNvcyhyKSx1PU1hdGguc2luKHIpO3QubW92ZVRvKGgqbytpLHUqbytuKSx0LmxpbmVUbyhoKmEraSx1KmErbiksdC5hcmMoaSxuLGEscixzLCFsKSx0LmxpbmVUbyhNYXRoLmNvcyhzKSpvK2ksTWF0aC5zaW4ocykqbytuKSwwIT09byYmdC5hcmMoaSxuLG8scyxyLGwpLHQuY2xvc2VQYXRoKCl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDU2KSxvPWkoMSksYT1vLmlzU3RyaW5nLHI9by5pc0Z1bmN0aW9uLHM9by5pc09iamVjdCxsPWkoNDUpLGg9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdG9ycz1bXX07aC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmgsYW5pbWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpLGE9ITEscj10aGlzLHM9dGhpcy5fX3pyO2lmKHQpe3ZhciBoPXQuc3BsaXQoXCIuXCIpLHU9cjthPVwic2hhcGVcIj09PWhbMF07Zm9yKHZhciBjPTAsZD1oLmxlbmd0aDtkPmM7YysrKXUmJih1PXVbaFtjXV0pO3UmJihpPXUpfWVsc2UgaT1yO2lmKCFpKXJldHVybiB2b2lkIGwoJ1Byb3BlcnR5IFwiJyt0KydcIiBpcyBub3QgZXhpc3RlZCBpbiBlbGVtZW50ICcrci5pZCk7dmFyIGY9ci5hbmltYXRvcnMscD1uZXcgbihpLGUpO3JldHVybiBwLmR1cmluZyhmdW5jdGlvbih0KXtyLmRpcnR5KGEpfSkuZG9uZShmdW5jdGlvbigpe2Yuc3BsaWNlKG8uaW5kZXhPZihmLHApLDEpfSksZi5wdXNoKHApLHMmJnMuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKHApLHB9LHN0b3BBbmltYXRpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYW5pbWF0b3JzLGk9ZS5sZW5ndGgsbj0wO2k+bjtuKyspZVtuXS5zdG9wKHQpO3JldHVybiBlLmxlbmd0aD0wLHRoaXN9LGFuaW1hdGVUbzpmdW5jdGlvbih0LGUsaSxuLG8pe2Z1bmN0aW9uIHMoKXtoLS0saHx8byYmbygpfWEoaSk/KG89bixuPWksaT0wKTpyKG4pPyhvPW4sbj1cImxpbmVhclwiLGk9MCk6cihpKT8obz1pLGk9MCk6cihlKT8obz1lLGU9NTAwKTplfHwoZT01MDApLHRoaXMuc3RvcEFuaW1hdGlvbigpLHRoaXMuX2FuaW1hdGVUb1NoYWxsb3coXCJcIix0aGlzLHQsZSxpLG4sbyk7dmFyIGw9dGhpcy5hbmltYXRvcnMuc2xpY2UoKSxoPWwubGVuZ3RoO2h8fG8mJm8oKTtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKylsW3VdLmRvbmUocykuc3RhcnQobil9LF9hbmltYXRlVG9TaGFsbG93OmZ1bmN0aW9uKHQsZSxpLG4sYSl7dmFyIHI9e30sbD0wO2Zvcih2YXIgaCBpbiBpKWlmKG51bGwhPWVbaF0pcyhpW2hdKSYmIW8uaXNBcnJheUxpa2UoaVtoXSk/dGhpcy5fYW5pbWF0ZVRvU2hhbGxvdyh0P3QrXCIuXCIraDpoLGVbaF0saVtoXSxuLGEpOihyW2hdPWlbaF0sbCsrKTtlbHNlIGlmKG51bGwhPWlbaF0paWYodCl7dmFyIHU9e307dVt0XT17fSx1W3RdW2hdPWlbaF0sdGhpcy5hdHRyKHUpfWVsc2UgdGhpcy5hdHRyKGgsaVtoXSk7cmV0dXJuIGw+MCYmdGhpcy5hbmltYXRlKHQsITEpLndoZW4obnVsbD09bj81MDA6bixyKS5kZWxheShhfHwwKSx0aGlzfX0sdC5leHBvcnRzPWh9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMub24oXCJtb3VzZWRvd25cIix0aGlzLl9kcmFnU3RhcnQsdGhpcyksdGhpcy5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX2RyYWcsdGhpcyksdGhpcy5vbihcIm1vdXNldXBcIix0aGlzLl9kcmFnRW5kLHRoaXMpLHRoaXMub24oXCJnbG9iYWxvdXRcIix0aGlzLl9kcmFnRW5kLHRoaXMpfWkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjppLF9kcmFnU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQ7ZSYmZS5kcmFnZ2FibGUmJih0aGlzLl9kcmFnZ2luZ1RhcmdldD1lLGUuZHJhZ2dpbmc9ITAsdGhpcy5feD10Lm9mZnNldFgsdGhpcy5feT10Lm9mZnNldFksdGhpcy5fZGlzcGF0Y2hQcm94eShlLFwiZHJhZ3N0YXJ0XCIsdC5ldmVudCkpfSxfZHJhZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kcmFnZ2luZ1RhcmdldDtpZihlKXt2YXIgaT10Lm9mZnNldFgsbj10Lm9mZnNldFksbz1pLXRoaXMuX3gsYT1uLXRoaXMuX3k7dGhpcy5feD1pLHRoaXMuX3k9bixlLmRyaWZ0KG8sYSx0KSx0aGlzLl9kaXNwYXRjaFByb3h5KGUsXCJkcmFnXCIsdC5ldmVudCk7dmFyIHI9dGhpcy5maW5kSG92ZXIoaSxuLGUpLHM9dGhpcy5fZHJvcFRhcmdldDt0aGlzLl9kcm9wVGFyZ2V0PXIsZSE9PXImJihzJiZyIT09cyYmdGhpcy5fZGlzcGF0Y2hQcm94eShzLFwiZHJhZ2xlYXZlXCIsdC5ldmVudCksciYmciE9PXMmJnRoaXMuX2Rpc3BhdGNoUHJveHkocixcImRyYWdlbnRlclwiLHQuZXZlbnQpKX19LF9kcmFnRW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RyYWdnaW5nVGFyZ2V0O2UmJihlLmRyYWdnaW5nPSExKSx0aGlzLl9kaXNwYXRjaFByb3h5KGUsXCJkcmFnZW5kXCIsdC5ldmVudCksdGhpcy5fZHJvcFRhcmdldCYmdGhpcy5fZGlzcGF0Y2hQcm94eSh0aGlzLl9kcm9wVGFyZ2V0LFwiZHJvcFwiLHQuZXZlbnQpLHRoaXMuX2RyYWdnaW5nVGFyZ2V0PW51bGwsdGhpcy5fZHJvcFRhcmdldD1udWxsfX0sdC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpLG4sbyxhLHIscyxsLGgsdSl7dmFyIGc9bCoocC8xODApLHk9ZihnKSoodC1pKS8yK2QoZykqKGUtbikvMix4PS0xKmQoZykqKHQtaSkvMitmKGcpKihlLW4pLzIsXz15KnkvKHIqcikreCp4LyhzKnMpO18+MSYmKHIqPWMoXykscyo9YyhfKSk7dmFyIGI9KG89PT1hPy0xOjEpKmMoKHIqcioocypzKS1yKnIqKHgqeCktcypzKih5KnkpKS8ocipyKih4KngpK3MqcyooeSp5KSkpfHwwLHc9YipyKngvcyxTPWIqLXMqeS9yLE09KHQraSkvMitmKGcpKnctZChnKSpTLEE9KGUrbikvMitkKGcpKncrZihnKSpTLEk9dihbMSwwXSxbKHktdykvciwoeC1TKS9zXSksVD1bKHktdykvciwoeC1TKS9zXSxMPVsoLTEqeS13KS9yLCgtMSp4LVMpL3NdLEM9dihULEwpO20oVCxMKTw9LTEmJihDPXApLG0oVCxMKT49MSYmKEM9MCksMD09PWEmJkM+MCYmKEMtPTIqcCksMT09PWEmJjA+QyYmKEMrPTIqcCksdS5hZGREYXRhKGgsTSxBLHIscyxJLEMsZyxhKX1mdW5jdGlvbiBvKHQpe2lmKCF0KXJldHVybltdO3ZhciBlLGk9dC5yZXBsYWNlKC8tL2csXCIgLVwiKS5yZXBsYWNlKC8gIC9nLFwiIFwiKS5yZXBsYWNlKC8gL2csXCIsXCIpLnJlcGxhY2UoLywsL2csXCIsXCIpO2ZvcihlPTA7ZTx1Lmxlbmd0aDtlKyspaT1pLnJlcGxhY2UobmV3IFJlZ0V4cCh1W2VdLFwiZ1wiKSxcInxcIit1W2VdKTt2YXIgbyxhPWkuc3BsaXQoXCJ8XCIpLHI9MCxsPTAsaD1uZXcgcyxjPXMuQ01EO2ZvcihlPTE7ZTxhLmxlbmd0aDtlKyspe3ZhciBkLGY9YVtlXSxwPWYuY2hhckF0KDApLGc9MCxtPWYuc2xpY2UoMSkucmVwbGFjZSgvZSwtL2csXCJlLVwiKS5zcGxpdChcIixcIik7bS5sZW5ndGg+MCYmXCJcIj09PW1bMF0mJm0uc2hpZnQoKTtmb3IodmFyIHY9MDt2PG0ubGVuZ3RoO3YrKyltW3ZdPXBhcnNlRmxvYXQobVt2XSk7Zm9yKDtnPG0ubGVuZ3RoJiYhaXNOYU4obVtnXSkmJiFpc05hTihtWzBdKTspe3ZhciB5LHgsXyxiLHcsUyxNLEE9cixJPWw7c3dpdGNoKHApe2Nhc2VcImxcIjpyKz1tW2crK10sbCs9bVtnKytdLGQ9Yy5MLGguYWRkRGF0YShkLHIsbCk7YnJlYWs7Y2FzZVwiTFwiOnI9bVtnKytdLGw9bVtnKytdLGQ9Yy5MLGguYWRkRGF0YShkLHIsbCk7YnJlYWs7Y2FzZVwibVwiOnIrPW1bZysrXSxsKz1tW2crK10sZD1jLk0saC5hZGREYXRhKGQscixsKSxwPVwibFwiO2JyZWFrO2Nhc2VcIk1cIjpyPW1bZysrXSxsPW1bZysrXSxkPWMuTSxoLmFkZERhdGEoZCxyLGwpLHA9XCJMXCI7YnJlYWs7Y2FzZVwiaFwiOnIrPW1bZysrXSxkPWMuTCxoLmFkZERhdGEoZCxyLGwpO2JyZWFrO2Nhc2VcIkhcIjpyPW1bZysrXSxkPWMuTCxoLmFkZERhdGEoZCxyLGwpO2JyZWFrO2Nhc2VcInZcIjpsKz1tW2crK10sZD1jLkwsaC5hZGREYXRhKGQscixsKTticmVhaztjYXNlXCJWXCI6bD1tW2crK10sZD1jLkwsaC5hZGREYXRhKGQscixsKTticmVhaztjYXNlXCJDXCI6ZD1jLkMsaC5hZGREYXRhKGQsbVtnKytdLG1bZysrXSxtW2crK10sbVtnKytdLG1bZysrXSxtW2crK10pLHI9bVtnLTJdLGw9bVtnLTFdO2JyZWFrO2Nhc2VcImNcIjpkPWMuQyxoLmFkZERhdGEoZCxtW2crK10rcixtW2crK10rbCxtW2crK10rcixtW2crK10rbCxtW2crK10rcixtW2crK10rbCkscis9bVtnLTJdLGwrPW1bZy0xXTticmVhaztjYXNlXCJTXCI6eT1yLHg9bDt2YXIgVD1oLmxlbigpLEw9aC5kYXRhO289PT1jLkMmJih5Kz1yLUxbVC00XSx4Kz1sLUxbVC0zXSksZD1jLkMsQT1tW2crK10sST1tW2crK10scj1tW2crK10sbD1tW2crK10saC5hZGREYXRhKGQseSx4LEEsSSxyLGwpO2JyZWFrO2Nhc2VcInNcIjp5PXIseD1sO3ZhciBUPWgubGVuKCksTD1oLmRhdGE7bz09PWMuQyYmKHkrPXItTFtULTRdLHgrPWwtTFtULTNdKSxkPWMuQyxBPXIrbVtnKytdLEk9bCttW2crK10scis9bVtnKytdLGwrPW1bZysrXSxoLmFkZERhdGEoZCx5LHgsQSxJLHIsbCk7YnJlYWs7Y2FzZVwiUVwiOkE9bVtnKytdLEk9bVtnKytdLHI9bVtnKytdLGw9bVtnKytdLGQ9Yy5RLGguYWRkRGF0YShkLEEsSSxyLGwpO2JyZWFrO2Nhc2VcInFcIjpBPW1bZysrXStyLEk9bVtnKytdK2wscis9bVtnKytdLGwrPW1bZysrXSxkPWMuUSxoLmFkZERhdGEoZCxBLEkscixsKTticmVhaztjYXNlXCJUXCI6eT1yLHg9bDt2YXIgVD1oLmxlbigpLEw9aC5kYXRhO289PT1jLlEmJih5Kz1yLUxbVC00XSx4Kz1sLUxbVC0zXSkscj1tW2crK10sbD1tW2crK10sZD1jLlEsaC5hZGREYXRhKGQseSx4LHIsbCk7YnJlYWs7Y2FzZVwidFwiOnk9cix4PWw7dmFyIFQ9aC5sZW4oKSxMPWguZGF0YTtvPT09Yy5RJiYoeSs9ci1MW1QtNF0seCs9bC1MW1QtM10pLHIrPW1bZysrXSxsKz1tW2crK10sZD1jLlEsaC5hZGREYXRhKGQseSx4LHIsbCk7YnJlYWs7Y2FzZVwiQVwiOl89bVtnKytdLGI9bVtnKytdLHc9bVtnKytdLFM9bVtnKytdLE09bVtnKytdLEE9cixJPWwscj1tW2crK10sbD1tW2crK10sZD1jLkEsbihBLEkscixsLFMsTSxfLGIsdyxkLGgpO2JyZWFrO2Nhc2VcImFcIjpfPW1bZysrXSxiPW1bZysrXSx3PW1bZysrXSxTPW1bZysrXSxNPW1bZysrXSxBPXIsST1sLHIrPW1bZysrXSxsKz1tW2crK10sZD1jLkEsbihBLEkscixsLFMsTSxfLGIsdyxkLGgpfX1cInpcIiE9PXAmJlwiWlwiIT09cHx8KGQ9Yy5aLGguYWRkRGF0YShkKSksbz1kfXJldHVybiBoLnRvU3RhdGljKCksaH1mdW5jdGlvbiBhKHQsZSl7dmFyIGksbj1vKHQpO3JldHVybiBlPWV8fHt9LGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe3Quc2V0RGF0YShuLmRhdGEpLGkmJmwodCxpKTt2YXIgZT10LmdldENvbnRleHQoKTtlJiZ0LnJlYnVpbGRQYXRoKGUpfSxlLmFwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe2l8fChpPWguY3JlYXRlKCkpLGgubXVsKGksdCxpKX0sZX12YXIgcj1pKDYpLHM9aSgyOCksbD1pKDE1NyksaD1pKDE5KSx1PVtcIm1cIixcIk1cIixcImxcIixcIkxcIixcInZcIixcIlZcIixcImhcIixcIkhcIixcInpcIixcIlpcIixcImNcIixcIkNcIixcInFcIixcIlFcIixcInRcIixcIlRcIixcInNcIixcIlNcIixcImFcIixcIkFcIl0sYz1NYXRoLnNxcnQsZD1NYXRoLnNpbixmPU1hdGguY29zLHA9TWF0aC5QSSxnPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSl9LG09ZnVuY3Rpb24odCxlKXtyZXR1cm4odFswXSplWzBdK3RbMV0qZVsxXSkvKGcodCkqZyhlKSl9LHY9ZnVuY3Rpb24odCxlKXtyZXR1cm4odFswXSplWzFdPHRbMV0qZVswXT8tMToxKSpNYXRoLmFjb3MobSh0LGUpKX07dC5leHBvcnRzPXtjcmVhdGVGcm9tU3RyaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyByKGEodCxlKSl9LGV4dGVuZEZyb21TdHJpbmc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5leHRlbmQoYSh0LGUpKX0sbWVyZ2VQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPVtdLGE9dC5sZW5ndGg7Zm9yKG49MDthPm47bisrKWk9dFtuXSxpLl9fZGlydHkmJmkuYnVpbGRQYXRoKGkucGF0aCxpLnNoYXBlKSxvLnB1c2goaS5wYXRoKTt2YXIgcz1uZXcgcihlKTtyZXR1cm4gcy5idWlsZFBhdGg9ZnVuY3Rpb24odCl7dC5hcHBlbmRQYXRoKG8pO3ZhciBlPXQuZ2V0Q29udGV4dCgpO2UmJnQucmVidWlsZFBhdGgoZSl9LHN9fX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaSxuLGEsdSxjLGQsZj10LmRhdGEscD1vLk0sZz1vLkMsbT1vLkwsdj1vLlIseT1vLkEseD1vLlE7Zm9yKGE9MCx1PTA7YTxmLmxlbmd0aDspe3N3aXRjaChpPWZbYSsrXSx1PWEsbj0wLGkpe2Nhc2UgcDpuPTE7YnJlYWs7Y2FzZSBtOm49MTticmVhaztjYXNlIGc6bj0zO2JyZWFrO2Nhc2UgeDpuPTI7YnJlYWs7Y2FzZSB5OnZhciBfPWVbNF0sYj1lWzVdLHc9bChlWzBdKmVbMF0rZVsxXSplWzFdKSxTPWwoZVsyXSplWzJdK2VbM10qZVszXSksTT1oKC1lWzFdL1MsZVswXS93KTtmW2ErK10rPV8sZlthKytdKz1iLGZbYSsrXSo9dyxmW2ErK10qPVMsZlthKytdKz1NLGZbYSsrXSs9TSxhKz0yLHU9YTticmVhaztjYXNlIHY6ZFswXT1mW2ErK10sZFsxXT1mW2ErK10scihkLGQsZSksZlt1KytdPWRbMF0sZlt1KytdPWRbMV0sZFswXSs9ZlthKytdLGRbMV0rPWZbYSsrXSxyKGQsZCxlKSxmW3UrK109ZFswXSxmW3UrK109ZFsxXX1mb3IoYz0wO24+YztjKyspe3ZhciBkPXNbY107ZFswXT1mW2ErK10sZFsxXT1mW2ErK10scihkLGQsZSksZlt1KytdPWRbMF0sZlt1KytdPWRbMV19fX12YXIgbz1pKDI4KS5DTUQsYT1pKDUpLHI9YS5hcHBseVRyYW5zZm9ybSxzPVtbXSxbXSxbXV0sbD1NYXRoLnNxcnQsaD1NYXRoLmF0YW4yO3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7aWYoIWkoMTQpLmNhbnZhc1N1cHBvcnRlZCl7dmFyIG4sbz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIsYT13aW5kb3cscj1hLmRvY3VtZW50LHM9ITE7dHJ5eyFyLm5hbWVzcGFjZXMuenJ2bWwmJnIubmFtZXNwYWNlcy5hZGQoXCJ6cnZtbFwiLG8pLG49ZnVuY3Rpb24odCl7cmV0dXJuIHIuY3JlYXRlRWxlbWVudChcIjx6cnZtbDpcIit0KycgY2xhc3M9XCJ6cnZtbFwiPicpfX1jYXRjaChsKXtuPWZ1bmN0aW9uKHQpe3JldHVybiByLmNyZWF0ZUVsZW1lbnQoXCI8XCIrdCsnIHhtbG5zPVwiJytvKydcIiBjbGFzcz1cInpydm1sXCI+Jyl9fXZhciBoPWZ1bmN0aW9uKCl7aWYoIXMpe3M9ITA7dmFyIHQ9ci5zdHlsZVNoZWV0czt0Lmxlbmd0aDwzMT9yLmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKFwiLnpydm1sXCIsXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKTp0WzBdLmFkZFJ1bGUoXCIuenJ2bWxcIixcImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpXCIpfX07dC5leHBvcnRzPXtkb2M6cixpbml0Vk1MOmgsY3JlYXRlTm9kZTpufX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiBudWxsPT10LnZhbHVlP3Q6dC52YWx1ZX12YXIgbz1pKDE1KSxhPWkoMzEpLHI9aSgyNjcpLHM9aSgxKSxsPXtfYmFzZUF4aXNEaW06bnVsbCxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpLHIscz1lLmdldENvbXBvbmVudChcInhBeGlzXCIsdGhpcy5nZXQoXCJ4QXhpc0luZGV4XCIpKSxsPWUuZ2V0Q29tcG9uZW50KFwieUF4aXNcIix0aGlzLmdldChcInlBeGlzSW5kZXhcIikpLGg9cy5nZXQoXCJ0eXBlXCIpLHU9bC5nZXQoXCJ0eXBlXCIpO1wiY2F0ZWdvcnlcIj09PWg/KHQubGF5b3V0PVwiaG9yaXpvbnRhbFwiLGk9cy5nZXRDYXRlZ29yaWVzKCkscj0hMCk6XCJjYXRlZ29yeVwiPT09dT8odC5sYXlvdXQ9XCJ2ZXJ0aWNhbFwiLGk9bC5nZXRDYXRlZ29yaWVzKCkscj0hMCk6dC5sYXlvdXQ9dC5sYXlvdXR8fFwiaG9yaXpvbnRhbFwiLHRoaXMuX2Jhc2VBeGlzRGltPVwiaG9yaXpvbnRhbFwiPT09dC5sYXlvdXQ/XCJ4XCI6XCJ5XCI7dmFyIGM9dC5kYXRhLGQ9dGhpcy5kaW1lbnNpb25zPVtcImJhc2VcIl0uY29uY2F0KHRoaXMudmFsdWVEaW1lbnNpb25zKTthKGQsYyk7dmFyIGY9bmV3IG8oZCx0aGlzKTtyZXR1cm4gZi5pbml0RGF0YShjLGk/aS5zbGljZSgpOm51bGwsZnVuY3Rpb24odCxlLGksbyl7dmFyIGE9bih0KTtyZXR1cm4gcj9cImJhc2VcIj09PWU/aTphW28tMV06YVtvXX0pLGZ9LGNvb3JkRGltVG9EYXRhRGltOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVEaW1lbnNpb25zLnNsaWNlKCksaT1bXCJiYXNlXCJdLG49e2hvcml6b250YWw6e3g6aSx5OmV9LHZlcnRpY2FsOnt4OmUseTppfX07cmV0dXJuIG5bdGhpcy5nZXQoXCJsYXlvdXRcIildW3RdfSxkYXRhRGltVG9Db29yZERpbTpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gcy5lYWNoKFtcInhcIixcInlcIl0sZnVuY3Rpb24oaSxuKXt2YXIgbz10aGlzLmNvb3JkRGltVG9EYXRhRGltKGkpO3MuaW5kZXhPZihvLHQpPj0wJiYoZT1pKX0sdGhpcyksZX0sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9iYXNlQXhpc0RpbTtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0K1wiQXhpc1wiLHRoaXMuZ2V0KHQrXCJBeGlzSW5kZXhcIikpLmF4aXN9fSxoPXtpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd2hpc2tlckJveERyYXc9bmV3IHIodGhpcy5nZXRTdHlsZVVwZGF0ZXIoKSk7dGhpcy5ncm91cC5hZGQodC5ncm91cCl9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fd2hpc2tlckJveERyYXcudXBkYXRlRGF0YSh0LmdldERhdGEoKSl9LHJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLl93aGlza2VyQm94RHJhdy5yZW1vdmUoKX19O3QuZXhwb3J0cz17c2VyaWVzTW9kZWxNaXhpbjpsLHZpZXdNaXhpbjpofX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz17cmV0cmlldmVUYXJnZXRJbmZvOmZ1bmN0aW9uKHQsZSl7aWYodCYmKFwidHJlZW1hcFpvb21Ub05vZGVcIj09PXQudHlwZXx8XCJ0cmVlbWFwUm9vdFRvTm9kZVwiPT09dC50eXBlKSl7dmFyIGk9ZS5nZXREYXRhKCkudHJlZS5yb290LG49dC50YXJnZXROb2RlO2lmKG4mJmkuY29udGFpbnMobikpcmV0dXJue25vZGU6bn07dmFyIG89dC50YXJnZXROb2RlSWQ7aWYobnVsbCE9byYmKG49aS5nZXROb2RlQnlJZChvKSkpcmV0dXJue25vZGU6bn19fSxnZXRQYXRoVG9Sb290OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXTt0Oyl0PXQucGFyZW50Tm9kZSx0JiZlLnB1c2godCk7cmV0dXJuIGUucmV2ZXJzZSgpfSxhYm92ZVZpZXdSb290OmZ1bmN0aW9uKHQsZSl7dmFyIGk9by5nZXRQYXRoVG9Sb290KHQpO3JldHVybiBuLmluZGV4T2YoaSxlKT49MH19O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7di5jYWxsKHRoaXMpLHRoaXMudHlwZT10LHRoaXMuenI9ZSx0aGlzLm9wdD15LmNsb25lKGkpLHRoaXMuZ3JvdXA9bmV3IHguR3JvdXAsdGhpcy5fY29udGFpbmVyUmVjdD1udWxsLHRoaXMuX3RyYWNrPVtdLHRoaXMuX2RyYWdnaW5nLHRoaXMuX2NvdmVyLHRoaXMuX2Rpc2FibGVkPSEwLHRoaXMuX2hhbmRsZXJzPXttb3VzZWRvd246XyhzLHRoaXMpLG1vdXNlbW92ZTpfKGwsdGhpcyksbW91c2V1cDpfKGgsdGhpcyl9LGIoVCxmdW5jdGlvbih0KXt0aGlzLnpyLm9uKHQsdGhpcy5faGFuZGxlcnNbdF0pfSx0aGlzKX1mdW5jdGlvbiBvKHQpe3QudHJhdmVyc2UoZnVuY3Rpb24odCl7dC56PUF9KX1mdW5jdGlvbiBhKHQsZSl7dmFyIGk9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKTtyZXR1cm4hdGhpcy5fY29udGFpbmVyUmVjdHx8dGhpcy5fY29udGFpbmVyUmVjdC5jb250YWluKGlbMF0saVsxXSl9ZnVuY3Rpb24gcih0KXt2YXIgZT10LmV2ZW50O2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBzKHQpe2lmKCEodGhpcy5fZGlzYWJsZWR8fHQudGFyZ2V0JiZ0LnRhcmdldC5kcmFnZ2FibGUpKXtyKHQpO3ZhciBlPXQub2Zmc2V0WCxpPXQub2Zmc2V0WTthLmNhbGwodGhpcyxlLGkpJiYodGhpcy5fZHJhZ2dpbmc9ITAsdGhpcy5fdHJhY2s9W1tlLGldXSl9fWZ1bmN0aW9uIGwodCl7dGhpcy5fZHJhZ2dpbmcmJiF0aGlzLl9kaXNhYmxlZCYmKHIodCksdS5jYWxsKHRoaXMsdCkpfWZ1bmN0aW9uIGgodCl7dGhpcy5fZHJhZ2dpbmcmJiF0aGlzLl9kaXNhYmxlZCYmKHIodCksdS5jYWxsKHRoaXMsdCwhMCksdGhpcy5fZHJhZ2dpbmc9ITEsdGhpcy5fdHJhY2s9W10pfWZ1bmN0aW9uIHUodCxlKXt2YXIgaT10Lm9mZnNldFgsbj10Lm9mZnNldFk7aWYoYS5jYWxsKHRoaXMsaSxuKSl7dGhpcy5fdHJhY2sucHVzaChbaSxuXSk7dmFyIG89Yy5jYWxsKHRoaXMpP0xbdGhpcy50eXBlXS5nZXRSYW5nZXMuY2FsbCh0aGlzKTpbXTtkLmNhbGwodGhpcyxvKSx0aGlzLnRyaWdnZXIoXCJzZWxlY3RlZFwiLHkuY2xvbmUobykpLGUmJnRoaXMudHJpZ2dlcihcInNlbGVjdEVuZFwiLHkuY2xvbmUobykpfX1mdW5jdGlvbiBjKCl7dmFyIHQ9dGhpcy5fdHJhY2s7aWYoIXQubGVuZ3RoKXJldHVybiExO3ZhciBlPXRbdC5sZW5ndGgtMV0saT10WzBdLG49ZVswXS1pWzBdLG89ZVsxXS1pWzFdLGE9TShuKm4rbypvLC41KTtyZXR1cm4gYT5JfWZ1bmN0aW9uIGQodCl7dmFyIGU9TFt0aGlzLnR5cGVdO3QmJnQubGVuZ3RoPyh0aGlzLl9jb3Zlcnx8KHRoaXMuX2NvdmVyPWUuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5ncm91cC5hZGQodGhpcy5fY292ZXIpKSxlLnVwZGF0ZS5jYWxsKHRoaXMsdCkpOih0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9jb3ZlciksdGhpcy5fY292ZXI9bnVsbCksbyh0aGlzLmdyb3VwKX1mdW5jdGlvbiBmKCl7dmFyIHQ9dGhpcy5ncm91cCxlPXQucGFyZW50O2UmJmUucmVtb3ZlKHQpfWZ1bmN0aW9uIHAoKXt2YXIgdD10aGlzLm9wdDtyZXR1cm4gbmV3IHguUmVjdCh7c3R5bGU6e3N0cm9rZTp0LnN0cm9rZSxmaWxsOnQuZmlsbCxsaW5lV2lkdGg6dC5saW5lV2lkdGgsb3BhY2l0eTp0Lm9wYWNpdHl9fSl9ZnVuY3Rpb24gZygpe3JldHVybiB5Lm1hcCh0aGlzLl90cmFjayxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodFswXSx0WzFdKX0sdGhpcyl9ZnVuY3Rpb24gbSgpe3ZhciB0PWcuY2FsbCh0aGlzKSxlPXQubGVuZ3RoLTE7cmV0dXJuIDA+ZSYmKGU9MCksW3RbMF0sdFtlXV19dmFyIHY9aSgyMSkseT1pKDEpLHg9aSgzKSxfPXkuYmluZCxiPXkuZWFjaCx3PU1hdGgubWluLFM9TWF0aC5tYXgsTT1NYXRoLnBvdyxBPTFlNCxJPTIsVD1bXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiXTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixlbmFibGU6ZnVuY3Rpb24odCxlKXt0aGlzLl9kaXNhYmxlZD0hMSxmLmNhbGwodGhpcyksdGhpcy5fY29udGFpbmVyUmVjdD1lIT09ITE/ZXx8dC5nZXRCb3VuZGluZ1JlY3QoKTpudWxsLHQuYWRkKHRoaXMuZ3JvdXApfSx1cGRhdGU6ZnVuY3Rpb24odCl7ZC5jYWxsKHRoaXMsdCYmeS5jbG9uZSh0KSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9kaXNhYmxlZD0hMCxmLmNhbGwodGhpcyl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGUoKSxiKFQsZnVuY3Rpb24odCl7dGhpcy56ci5vZmYodCx0aGlzLl9oYW5kbGVyc1t0XSl9LHRoaXMpfX0seS5taXhpbihuLHYpO3ZhciBMPXtsaW5lOntjcmVhdGU6cCxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgdD1tLmNhbGwodGhpcyksZT13KHRbMF1bMF0sdFsxXVswXSksaT1TKHRbMF1bMF0sdFsxXVswXSk7cmV0dXJuW1tlLGldXX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0saT10aGlzLm9wdC53aWR0aDt0aGlzLl9jb3Zlci5zZXRTaGFwZSh7eDplWzBdLHk6LWkvMix3aWR0aDplWzFdLWVbMF0saGVpZ2h0Oml9KX19LHJlY3Q6e2NyZWF0ZTpwLGdldFJhbmdlczpmdW5jdGlvbigpe3ZhciB0PW0uY2FsbCh0aGlzKSxlPVt3KHRbMV1bMF0sdFswXVswXSksdyh0WzFdWzFdLHRbMF1bMV0pXSxpPVtTKHRbMV1bMF0sdFswXVswXSksUyh0WzFdWzFdLHRbMF1bMV0pXTtyZXR1cm5bW1tlWzBdLGlbMF1dLFtlWzFdLGlbMV1dXV19LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10WzBdO3RoaXMuX2NvdmVyLnNldFNoYXBlKHt4OmVbMF1bMF0seTplWzFdWzBdLHdpZHRoOmVbMF1bMV0tZVswXVswXSxoZWlnaHQ6ZVsxXVsxXS1lWzFdWzBdfSl9fX07dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxuPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7bi5hc3BlY3Q9aS53aWR0aC9pLmhlaWdodCouNzU7dmFyIG89cy5nZXRMYXlvdXRSZWN0KG4se3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pO3RoaXMuc2V0Vmlld1JlY3Qoby54LG8ueSxvLndpZHRoLG8uaGVpZ2h0KSx0aGlzLnNldENlbnRlcih0LmdldChcImNlbnRlclwiKSksdGhpcy5zZXRab29tKHQuZ2V0KFwiem9vbVwiKSl9ZnVuY3Rpb24gbyh0LGUpe2wuZWFjaChlLmdldChcImdlb0Nvb3JkXCIpLGZ1bmN0aW9uKGUsaSl7dC5hZGRHZW9Db29yZChpLGUpfSl9ZnVuY3Rpb24gYSh0KXtjb25zb2xlLmVycm9yKFwiTWFwIFwiK3QrXCIgbm90IGV4aXN0c1wiKX12YXIgcj1pKDMyOCkscz1pKDExKSxsPWkoMSksaD17fSx1PXtkaW1lbnNpb25zOnIucHJvdG90eXBlLmRpbWVuc2lvbnMsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107dC5lYWNoQ29tcG9uZW50KFwiZ2VvXCIsZnVuY3Rpb24odCxzKXt2YXIgbD10LmdldChcIm1hcFwiKSx1PWhbbF07dXx8YShsKTt2YXIgYz1uZXcgcihsK3MsbCx1JiZ1Lmdlb0pzb24sdSYmdS5zcGVjaWFsQXJlYXMsdC5nZXQoXCJuYW1lTWFwXCIpKTtjLnpvb21MaW1pdD10LmdldChcInNjYWxlTGltaXRcIiksaS5wdXNoKGMpLG8oYyx0KSx0LmNvb3JkaW5hdGVTeXN0ZW09YyxjLm1vZGVsPXQsYy5yZXNpemU9bixjLnJlc2l6ZSh0LGUpfSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKTtpZihcImdlb1wiPT09ZSl7dmFyIG49dC5nZXQoXCJnZW9JbmRleFwiKXx8MDt0LmNvb3JkaW5hdGVTeXN0ZW09aVtuXX19KTt2YXIgcz17fTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKFwibWFwXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJtYXBcIik7c1tlXT1zW2VdfHxbXSxzW2VdLnB1c2godCl9KSxsLmVhY2gocyxmdW5jdGlvbih0LHMpe3ZhciB1PWhbc107dXx8YShuYW1lKTt2YXIgYz1sLm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldChcIm5hbWVNYXBcIil9KSxkPW5ldyByKHMscyx1JiZ1Lmdlb0pzb24sdSYmdS5zcGVjaWFsQXJlYXMsbC5tZXJnZUFsbChjKSk7ZC56b29tTGltaXQ9bC5yZXRyaWV2ZS5hcHBseShudWxsLGwubWFwKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KFwic2NhbGVMaW1pdFwiKX0pKSxpLnB1c2goZCksZC5yZXNpemU9bixkLnJlc2l6ZSh0WzBdLGUpLGwuZWFjaCh0LGZ1bmN0aW9uKHQpe3QuY29vcmRpbmF0ZVN5c3RlbT1kLG8oZCx0KX0pfSksaX0scmVnaXN0ZXJNYXA6ZnVuY3Rpb24odCxlLGkpe2UuZ2VvSnNvbiYmIWUuZmVhdHVyZXMmJihpPWUuc3BlY2lhbEFyZWFzLGU9ZS5nZW9Kc29uKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEpTT04mJkpTT04ucGFyc2U/SlNPTi5wYXJzZShlKTpuZXcgRnVuY3Rpb24oXCJyZXR1cm4gKFwiK2UrXCIpO1wiKSgpKSxoW3RdPXtnZW9Kc29uOmUsc3BlY2lhbEFyZWFzOml9fSxnZXRNYXA6ZnVuY3Rpb24odCl7cmV0dXJuIGhbdF19LGdldEZpbGxlZFJlZ2lvbnM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9KHR8fFtdKS5zbGljZSgpLG49dS5nZXRNYXAoZSksbz1uJiZuLmdlb0pzb24sYT17fSxyPW8uZmVhdHVyZXMscz0wO3M8aS5sZW5ndGg7cysrKWFbaVtzXS5uYW1lXT1pW3NdO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbD1yW3NdLnByb3BlcnRpZXMubmFtZTthW2xdfHxpLnB1c2goe25hbWU6bH0pfXJldHVybiBpfX0sYz1pKDIpO2MucmVnaXN0ZXJNYXA9dS5yZWdpc3Rlck1hcCxjLmdldE1hcD11LmdldE1hcCxjLmxvYWRNYXA9ZnVuY3Rpb24oKXt9LGMucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKFwiZ2VvXCIsdSksdC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5ncm91cD1uZXcgby5Hcm91cCx0aGlzLl9zeW1ib2xFbD1uZXcgcyh7c2lsZW50OiEwfSl9dmFyIG89aSgzKSxhPWkoMjUpLHI9aSgxKSxzPW8uZXh0ZW5kU2hhcGUoe3NoYXBlOntwb2ludHM6bnVsbCxzaXplczpudWxsfSxzeW1ib2xQcm94eTpudWxsLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnBvaW50cyxuPWUuc2l6ZXMsbz10aGlzLnN5bWJvbFByb3h5LGE9by5zaGFwZSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl0sbD1uW3JdO2xbMF08ND90LnJlY3Qoc1swXS1sWzBdLzIsc1sxXS1sWzFdLzIsbFswXSxsWzFdKTooYS54PXNbMF0tbFswXS8yLGEueT1zWzFdLWxbMV0vMixhLndpZHRoPWxbMF0sYS5oZWlnaHQ9bFsxXSxvLmJ1aWxkUGF0aCh0LGEpKX19fSksbD1uLnByb3RvdHlwZTtsLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgZT10aGlzLl9zeW1ib2xFbCxpPXQuaG9zdE1vZGVsO2Uuc2V0U2hhcGUoe3BvaW50czp0Lm1hcEFycmF5KHQuZ2V0SXRlbUxheW91dCksc2l6ZXM6dC5tYXBBcnJheShmdW5jdGlvbihlKXt2YXIgaT10LmdldEl0ZW1WaXN1YWwoZSxcInN5bWJvbFNpemVcIik7cmV0dXJuIHIuaXNBcnJheShpKXx8KGk9W2ksaV0pLGl9KX0pLGUuc3ltYm9sUHJveHk9YS5jcmVhdGVTeW1ib2wodC5nZXRWaXN1YWwoXCJzeW1ib2xcIiksMCwwLDAsMCksZS5zZXRDb2xvcj1lLnN5bWJvbFByb3h5LnNldENvbG9yLGUudXNlU3R5bGUoaS5nZXRNb2RlbChcIml0ZW1TdHlsZS5ub3JtYWxcIikuZ2V0SXRlbVN0eWxlKFtcImNvbG9yXCJdKSk7dmFyIG49dC5nZXRWaXN1YWwoXCJjb2xvclwiKTtuJiZlLnNldENvbG9yKG4pLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX3N5bWJvbEVsKX0sbC51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCk7dGhpcy5fc3ltYm9sRWwuc2V0U2hhcGUoe3BvaW50czplLm1hcEFycmF5KGUuZ2V0SXRlbUxheW91dCl9KX0sbC5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIG51bGw9PXQuY3B4MXx8bnVsbD09dC5jcHkxfXZhciBvPWkoMyksYT1pKDUpLHI9by5MaW5lLnByb3RvdHlwZSxzPW8uQmV6aWVyQ3VydmUucHJvdG90eXBlO3QuZXhwb3J0cz1vLmV4dGVuZFNoYXBlKHt0eXBlOlwiZWMtbGluZVwiLHN0eWxlOntzdHJva2U6XCIjMDAwXCIsZmlsbDpudWxsfSxzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxwZXJjZW50OjEsY3B4MTpudWxsLGNweTE6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7KG4oZSk/cjpzKS5idWlsZFBhdGgodCxlKX0scG9pbnRBdDpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLnNoYXBlKT9yLnBvaW50QXQuY2FsbCh0aGlzLHQpOnMucG9pbnRBdC5jYWxsKHRoaXMsdCl9LHRhbmdlbnRBdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlLGk9bihlKT9bZS54Mi1lLngxLGUueTItZS55MV06cy50YW5nZW50QXQuY2FsbCh0aGlzLHQpO3JldHVybiBhLm5vcm1hbGl6ZShpLGkpfX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPWkoMik7aSgxNjYpLGkoMTY3KSxvLnJlZ2lzdGVyVmlzdWFsQ29kaW5nKFwiY2hhcnRcIixuLmN1cnJ5KGkoNDQpLFwic2NhdHRlclwiLFwiY2lyY2xlXCIsbnVsbCkpLG8ucmVnaXN0ZXJMYXlvdXQobi5jdXJyeShpKDUzKSxcInNjYXR0ZXJcIikpLGkoMzYpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgzNSksbz1pKDEzKTt0LmV4cG9ydHM9by5leHRlbmQoe3R5cGU6XCJzZXJpZXMuc2NhdHRlclwiLGRlcGVuZGVuY2llczpbXCJncmlkXCIsXCJwb2xhclwiXSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPW4odC5kYXRhLHRoaXMsZSk7cmV0dXJuIGl9LGRlZmF1bHRPcHRpb246e2Nvb3JkaW5hdGVTeXN0ZW06XCJjYXJ0ZXNpYW4yZFwiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAseEF4aXNJbmRleDowLHlBeGlzSW5kZXg6MCxwb2xhckluZGV4OjAsZ2VvSW5kZXg6MCxzeW1ib2xTaXplOjEwLGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e25vcm1hbDp7b3BhY2l0eTouOH19fX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgzOSksbz1pKDE2Myk7aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJzY2F0dGVyXCIsaW5pdDpmdW5jdGlvbigpe3RoaXMuX25vcm1hbFN5bWJvbERyYXc9bmV3IG4sdGhpcy5fbGFyZ2VTeW1ib2xEcmF3PW5ldyBvfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpLG89dGhpcy5fbGFyZ2VTeW1ib2xEcmF3LGE9dGhpcy5fbm9ybWFsU3ltYm9sRHJhdyxyPXRoaXMuZ3JvdXAscz10LmdldChcImxhcmdlXCIpJiZuLmNvdW50KCk+dC5nZXQoXCJsYXJnZVRocmVzaG9sZFwiKT9vOmE7dGhpcy5fc3ltYm9sRHJhdz1zLHMudXBkYXRlRGF0YShuKSxyLmFkZChzLmdyb3VwKSxyLnJlbW92ZShzPT09bz9hLmdyb3VwOm8uZ3JvdXApfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24odCl7dGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQodCl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKGUsITApfX0pfSxmdW5jdGlvbih0LGUsaSl7aSgxMDApLGkoNDApLGkoNDEpLGkoMTc0KSxpKDE3NSksaSgxNzApLGkoMTcxKSxpKDk4KSxpKDk3KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT1bMS8wLC0oMS8wKV07cmV0dXJuIGgoZSxmdW5jdGlvbihlKXt2YXIgbj1lLmdldERhdGEoKTtuJiZoKGUuY29vcmREaW1Ub0RhdGFEaW0odCksZnVuY3Rpb24odCl7dmFyIGU9bi5nZXREYXRhRXh0ZW50KHQpO2VbMF08aVswXSYmKGlbMF09ZVswXSksZVsxXT5pWzFdJiYoaVsxXT1lWzFdKX0pfSx0aGlzKSxpfWZ1bmN0aW9uIG8odCxlLGkpe3ZhciBuPWkuZ2V0QXhpc01vZGVsKCksbz1uLmF4aXMuc2NhbGUscj1bMCwxMDBdLHM9W3Quc3RhcnQsdC5lbmRdLGM9W107cmV0dXJuIGU9ZS5zbGljZSgpLGEoZSxuLG8pLGgoW1wic3RhcnRWYWx1ZVwiLFwiZW5kVmFsdWVcIl0sZnVuY3Rpb24oZSl7Yy5wdXNoKG51bGwhPXRbZV0/by5wYXJzZSh0W2VdKTpudWxsKX0pLGgoWzAsMV0sZnVuY3Rpb24odCl7dmFyIGk9Y1t0XSxuPXNbdF07bnVsbCE9bnx8bnVsbD09aT8obnVsbD09biYmKG49clt0XSksaT1vLnBhcnNlKGwubGluZWFyTWFwKG4scixlLCEwKSkpOm49bC5saW5lYXJNYXAoaSxlLHIsITApLGNbdF09aSxzW3RdPW59KSx7dmFsdWVXaW5kb3c6dShjKSxwZXJjZW50V2luZG93OnUocyl9fWZ1bmN0aW9uIGEodCxlLGkpe3JldHVybiBoKFtcIm1pblwiLFwibWF4XCJdLGZ1bmN0aW9uKG4sbyl7dmFyIGE9ZS5nZXQobiwhMCk7bnVsbCE9YSYmKGErXCJcIikudG9Mb3dlckNhc2UoKSE9PVwiZGF0YVwiK24mJih0W29dPWkucGFyc2UoYSkpfSksZS5nZXQoXCJzY2FsZVwiLCEwKXx8KHRbMF0+MCYmKHRbMF09MCksdFsxXTwwJiYodFsxXT0wKSksdH1mdW5jdGlvbiByKHQsZSl7dmFyIGk9dC5nZXRBeGlzTW9kZWwoKSxuPXQuX3BlcmNlbnRXaW5kb3csbz10Ll92YWx1ZVdpbmRvdztpZihuKXt2YXIgYT1lfHwwPT09blswXSYmMTAwPT09blsxXSxyPSFlJiZsLmdldFBpeGVsUHJlY2lzaW9uKG8sWzAsNTAwXSkscz0hKGV8fDIwPnImJnI+PTApLGg9ZXx8YXx8cztpLnNldFJhbmdlJiZpLnNldFJhbmdlKGg/bnVsbDorb1swXS50b0ZpeGVkKHIpLGg/bnVsbDorb1sxXS50b0ZpeGVkKHIpKX19dmFyIHM9aSgxKSxsPWkoNCksaD1zLmVhY2gsdT1sLmFzYyxjPWZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX2RpbU5hbWU9dCx0aGlzLl9heGlzSW5kZXg9ZSx0aGlzLl92YWx1ZVdpbmRvdyx0aGlzLl9wZXJjZW50V2luZG93LHRoaXMuX2RhdGFFeHRlbnQsdGhpcy5lY01vZGVsPW4sdGhpcy5fZGF0YVpvb21Nb2RlbD1pfTtjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Yyxob3N0ZWRCeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVpvb21Nb2RlbD09PXR9LGdldERhdGFFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUV4dGVudC5zbGljZSgpfSxnZXREYXRhVmFsdWVXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVXaW5kb3cuc2xpY2UoKX0sZ2V0RGF0YVBlcmNlbnRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVyY2VudFdpbmRvdy5zbGljZSgpfSxnZXRUYXJnZXRTZXJpZXNNb2RlbHM6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5lY01vZGVsLmVhY2hTZXJpZXMoZnVuY3Rpb24oZSl7dGhpcy5fYXhpc0luZGV4PT09ZS5nZXQodGhpcy5fZGltTmFtZStcIkF4aXNJbmRleFwiKSYmdC5wdXNoKGUpfSx0aGlzKSx0fSxnZXRBeGlzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0aGlzLl9kaW1OYW1lK1wiQXhpc1wiLHRoaXMuX2F4aXNJbmRleCl9LGdldE90aGVyQXhpc01vZGVsOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMuX2RpbU5hbWUsbj10aGlzLmVjTW9kZWwsbz10aGlzLmdldEF4aXNNb2RlbCgpLGE9XCJ4XCI9PT1pfHxcInlcIj09PWk7YT8oZT1cImdyaWRJbmRleFwiLHQ9XCJ4XCI9PT1pP1wieVwiOlwieFwiKTooZT1cInBvbGFySW5kZXhcIix0PVwiYW5nbGVcIj09PWk/XCJyYWRpdXNcIjpcImFuZ2xlXCIpO3ZhciByO3JldHVybiBuLmVhY2hDb21wb25lbnQodCtcIkF4aXNcIixmdW5jdGlvbih0KXsodC5nZXQoZSl8fDApPT09KG8uZ2V0KGUpfHwwKSYmKHI9dCl9KSxyfSxyZXNldDpmdW5jdGlvbih0KXtpZih0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCl7dmFyIGU9dGhpcy5fZGF0YUV4dGVudD1uKHRoaXMuX2RpbU5hbWUsdGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSksaT1vKHQub3B0aW9uLGUsdGhpcyk7dGhpcy5fdmFsdWVXaW5kb3c9aS52YWx1ZVdpbmRvdyx0aGlzLl9wZXJjZW50V2luZG93PWkucGVyY2VudFdpbmRvdyxyKHRoaXMpfX0scmVzdG9yZTpmdW5jdGlvbih0KXt0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCYmKHRoaXMuX3ZhbHVlV2luZG93PXRoaXMuX3BlcmNlbnRXaW5kb3c9bnVsbCxyKHRoaXMsITApKX0sZmlsdGVyRGF0YTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0Pj1hWzBdJiZ0PD1hWzFdfWlmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgaT10aGlzLl9kaW1OYW1lLG49dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxvPXQuZ2V0KFwiZmlsdGVyTW9kZVwiKSxhPXRoaXMuX3ZhbHVlV2luZG93LHI9dGhpcy5nZXRPdGhlckF4aXNNb2RlbCgpO3QuZ2V0KFwiJGZyb21Ub29sYm94XCIpJiZyJiZcImNhdGVnb3J5XCI9PT1yLmdldChcInR5cGVcIikmJihvPVwiZW1wdHlcIiksaChuLGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0RGF0YSgpO24mJmgodC5jb29yZERpbVRvRGF0YURpbShpKSxmdW5jdGlvbihpKXtcImVtcHR5XCI9PT1vP3Quc2V0RGF0YShuLm1hcChpLGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpP3Q6TmFOfSkpOm4uZmlsdGVyU2VsZihpLGUpfSl9KX19fSx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlLGkpe3QuZXhwb3J0cz1pKDQwKS5leHRlbmQoe3R5cGU6XCJkYXRhWm9vbS5pbnNpZGVcIixkZWZhdWx0T3B0aW9uOnt6b29tTG9jazohMX19KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGksbil7ZT1lLnNsaWNlKCk7dmFyIG89bi5heGlzTW9kZWxzWzBdO2lmKG8pe3ZhciByPWEodCxvLGkpLHM9ci5zaWduYWwqKGVbMV0tZVswXSkqci5waXhlbC9yLnBpeGVsTGVuZ3RoO3JldHVybiBoKHMsZSxbMCwxMDBdLFwicmlnaWRcIiksZX19ZnVuY3Rpb24gbyh0LGUsaSxuLG8scyl7aT1pLnNsaWNlKCk7dmFyIGw9by5heGlzTW9kZWxzWzBdO2lmKGwpe3ZhciBoPWEoZSxsLG4pLHU9aC5waXhlbC1oLnBpeGVsU3RhcnQsYz11L2gucGl4ZWxMZW5ndGgqKGlbMV0taVswXSkraVswXTtyZXR1cm4gdD1NYXRoLm1heCh0LDApLGlbMF09KGlbMF0tYykqdCtjLGlbMV09KGlbMV0tYykqdCtjLHIoaSl9fWZ1bmN0aW9uIGEodCxlLGkpe3ZhciBuPWUuYXhpcyxvPWkucmVjdFByb3ZpZGVyKCksYT17fTtyZXR1cm5cInhcIj09PW4uZGltPyhhLnBpeGVsPXRbMF0sYS5waXhlbExlbmd0aD1vLndpZHRoLGEucGl4ZWxTdGFydD1vLngsYS5zaWduYWw9bi5pbnZlcnNlPzE6LTEpOihhLnBpeGVsPXRbMV0sYS5waXhlbExlbmd0aD1vLmhlaWdodCxhLnBpeGVsU3RhcnQ9by55LGEuc2lnbmFsPW4uaW52ZXJzZT8tMToxKSxhfWZ1bmN0aW9uIHIodCl7dmFyIGU9WzAsMTAwXTtyZXR1cm4hKHRbMF08PWVbMV0pJiYodFswXT1lWzFdKSwhKHRbMV08PWVbMV0pJiYodFsxXT1lWzFdKSwhKHRbMF0+PWVbMF0pJiYodFswXT1lWzBdKSwhKHRbMV0+PWVbMF0pJiYodFsxXT1lWzBdKSx0fXZhciBzPWkoNDEpLGw9aSgxKSxoPWkoNzEpLHU9aSgxNzYpLGM9bC5iaW5kLGQ9cy5leHRlbmQoe3R5cGU6XCJkYXRhWm9vbS5pbnNpZGVcIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fcmFuZ2V9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtkLnN1cGVyQXBwbHkodGhpcyxcInJlbmRlclwiLGFyZ3VtZW50cyksdS5zaG91bGRSZWNvcmRSYW5nZShuLHQuaWQpJiYodGhpcy5fcmFuZ2U9dC5nZXRQZXJjZW50UmFuZ2UoKSk7dmFyIG89dGhpcy5nZXRUYXJnZXRJbmZvKCkuY2FydGVzaWFucyxhPWwubWFwKG8sZnVuY3Rpb24odCl7cmV0dXJuIHUuZ2VuZXJhdGVDb29yZElkKHQubW9kZWwpfSk7bC5lYWNoKG8sZnVuY3Rpb24oZSl7dmFyIG49ZS5tb2RlbDt1LnJlZ2lzdGVyKGkse2Nvb3JkSWQ6dS5nZW5lcmF0ZUNvb3JkSWQobiksYWxsQ29vcmRJZHM6YSxjb29yZGluYXRlU3lzdGVtOm4uY29vcmRpbmF0ZVN5c3RlbSxkYXRhWm9vbUlkOnQuaWQsdGhyb3R0bGVSYWdlOnQuZ2V0KFwidGhyb3R0bGVcIiwhMCkscGFuR2V0UmFuZ2U6Yyh0aGlzLl9vblBhbix0aGlzLGUpLHpvb21HZXRSYW5nZTpjKHRoaXMuX29uWm9vbSx0aGlzLGUpfSl9LHRoaXMpfSxyZW1vdmU6ZnVuY3Rpb24oKXt1LnVucmVnaXN0ZXIodGhpcy5hcGksdGhpcy5kYXRhWm9vbU1vZGVsLmlkKSxkLnN1cGVyQXBwbHkodGhpcyxcInJlbW92ZVwiLGFyZ3VtZW50cyksdGhpcy5fcmFuZ2U9bnVsbH0sZGlzcG9zZTpmdW5jdGlvbigpe3UudW5yZWdpc3Rlcih0aGlzLmFwaSx0aGlzLmRhdGFab29tTW9kZWwuaWQpLGQuc3VwZXJBcHBseSh0aGlzLFwiZGlzcG9zZVwiLGFyZ3VtZW50cyksdGhpcy5fcmFuZ2U9bnVsbH0sX29uUGFuOmZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB0aGlzLl9yYW5nZT1uKFtpLG9dLHRoaXMuX3JhbmdlLGUsdCl9LF9vblpvb206ZnVuY3Rpb24odCxlLGksbixhKXt2YXIgcj10aGlzLmRhdGFab29tTW9kZWw7cmV0dXJuIHIub3B0aW9uLnpvb21Mb2NrP3RoaXMuX3JhbmdlOnRoaXMuX3JhbmdlPW8oMS9pLFtuLGFdLHRoaXMuX3JhbmdlLGUsdCxyKX19KTt0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNDApO3QuZXhwb3J0cz1uLmV4dGVuZCh7dHlwZTpcImRhdGFab29tLnNlbGVjdFwifSl9LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSg0MSkuZXh0ZW5kKHt0eXBlOlwiZGF0YVpvb20uc2VsZWN0XCJ9KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNDApLG89bi5leHRlbmQoe3R5cGU6XCJkYXRhWm9vbS5zbGlkZXJcIixsYXlvdXRNb2RlOlwiYm94XCIsZGVmYXVsdE9wdGlvbjp7c2hvdzohMCxyaWdodDpcInBoXCIsdG9wOlwicGhcIix3aWR0aDpcInBoXCIsaGVpZ2h0OlwicGhcIixsZWZ0Om51bGwsYm90dG9tOm51bGwsYmFja2dyb3VuZENvbG9yOlwicmdiYSg0Nyw2OSw4NCwwKVwiLGRhdGFCYWNrZ3JvdW5kQ29sb3I6XCIjZGRkXCIsZmlsbGVyQ29sb3I6XCJyZ2JhKDQ3LDY5LDg0LDAuMTUpXCIsaGFuZGxlQ29sb3I6XCJyZ2JhKDE0OCwxNjQsMTY1LDAuOTUpXCIsaGFuZGxlU2l6ZToxMCxsYWJlbFByZWNpc2lvbjpudWxsLGxhYmVsRm9ybWF0dGVyOm51bGwsc2hvd0RldGFpbDohMCxzaG93RGF0YVNoYWRvdzpcImF1dG9cIixyZWFsdGltZTohMCx6b29tTG9jazohMSx0ZXh0U3R5bGU6e2NvbG9yOlwiIzMzM1wifX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7by5zdXBlckFwcGx5KHRoaXMsXCJtZXJnZU9wdGlvblwiLGFyZ3VtZW50cyl9fSk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVyblwieFwiPT09dD9cInlcIjpcInhcIn12YXIgbz1pKDEpLGE9aSgzKSxyPWkoMTI1KSxzPWkoNDEpLGw9YS5SZWN0LGg9aSg0KSx1PWgubGluZWFyTWFwLGM9aSgxMSksZD1pKDcxKSxmPWguYXNjLHA9by5iaW5kLGc9TWF0aC5yb3VuZCxtPU1hdGgubWF4LHY9by5lYWNoLHk9Nyx4PTEsXz0zMCxiPVwiaG9yaXpvbnRhbFwiLHc9XCJ2ZXJ0aWNhbFwiLFM9NSxNPVtcImxpbmVcIixcImJhclwiLFwiY2FuZGxlc3RpY2tcIixcInNjYXR0ZXJcIl0sQT1zLmV4dGVuZCh7dHlwZTpcImRhdGFab29tLnNsaWRlclwiLGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLl9kaXNwbGF5YWJsZXM9e30sdGhpcy5fb3JpZW50LHRoaXMuX3JhbmdlLHRoaXMuX2hhbmRsZUVuZHMsdGhpcy5fc2l6ZSx0aGlzLl9oYWxmSGFuZGxlU2l6ZSx0aGlzLl9sb2NhdGlvbix0aGlzLl9kcmFnZ2luZyx0aGlzLl9kYXRhU2hhZG93SW5mbyx0aGlzLmFwaT1lfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIEEuc3VwZXJBcHBseSh0aGlzLFwicmVuZGVyXCIsYXJndW1lbnRzKSxyLmNyZWF0ZU9yVXBkYXRlKHRoaXMsXCJfZGlzcGF0Y2hab29tQWN0aW9uXCIsdGhpcy5kYXRhWm9vbU1vZGVsLmdldChcInRocm90dGxlXCIpLFwiZml4UmF0ZVwiKSx0aGlzLl9vcmllbnQ9dC5nZXQoXCJvcmllbnRcIiksdGhpcy5faGFsZkhhbmRsZVNpemU9Zyh0LmdldChcImhhbmRsZVNpemVcIikvMiksdGhpcy5kYXRhWm9vbU1vZGVsLmdldChcInNob3dcIik9PT0hMT92b2lkIHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCk6KG4mJlwiZGF0YVpvb21cIj09PW4udHlwZSYmbi5mcm9tPT09dGhpcy51aWR8fHRoaXMuX2J1aWxkVmlldygpLHZvaWQgdGhpcy5fdXBkYXRlVmlldygpKX0scmVtb3ZlOmZ1bmN0aW9uKCl7QS5zdXBlckFwcGx5KHRoaXMsXCJyZW1vdmVcIixhcmd1bWVudHMpLHIuY2xlYXIodGhpcyxcIl9kaXNwYXRjaFpvb21BY3Rpb25cIil9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtBLnN1cGVyQXBwbHkodGhpcyxcImRpc3Bvc2VcIixhcmd1bWVudHMpLHIuY2xlYXIodGhpcyxcIl9kaXNwYXRjaFpvb21BY3Rpb25cIil9LF9idWlsZFZpZXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwO3QucmVtb3ZlQWxsKCksdGhpcy5fcmVzZXRMb2NhdGlvbigpLHRoaXMuX3Jlc2V0SW50ZXJ2YWwoKTt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMuYmFyR3JvdXA9bmV3IGEuR3JvdXA7dGhpcy5fcmVuZGVyQmFja2dyb3VuZCgpLHRoaXMuX3JlbmRlckRhdGFTaGFkb3coKSx0aGlzLl9yZW5kZXJIYW5kbGUoKSx0LmFkZChlKSx0aGlzLl9wb3NpdGlvbkdyb3VwKCl9LF9yZXNldExvY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5hcGksaT10aGlzLl9maW5kQ29vcmRSZWN0KCksbj17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxhPXRoaXMuX29yaWVudD09PWI/e3JpZ2h0Om4ud2lkdGgtaS54LWkud2lkdGgsdG9wOm4uaGVpZ2h0LV8teSx3aWR0aDppLndpZHRoLGhlaWdodDpffTp7cmlnaHQ6eSx0b3A6aS55LHdpZHRoOl8saGVpZ2h0OmkuaGVpZ2h0fSxyPWMuZ2V0TGF5b3V0UGFyYW1zKHQub3B0aW9uKTtvLmVhY2goW1wicmlnaHRcIixcInRvcFwiLFwid2lkdGhcIixcImhlaWdodFwiXSxmdW5jdGlvbih0KXtcInBoXCI9PT1yW3RdJiYoclt0XT1hW3RdKX0pO3ZhciBzPWMuZ2V0TGF5b3V0UmVjdChyLG4sdC5wYWRkaW5nKTt0aGlzLl9sb2NhdGlvbj17eDpzLngseTpzLnl9LHRoaXMuX3NpemU9W3Mud2lkdGgscy5oZWlnaHRdLHRoaXMuX29yaWVudD09PXcmJnRoaXMuX3NpemUucmV2ZXJzZSgpfSxfcG9zaXRpb25Hcm91cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9sb2NhdGlvbixpPXRoaXMuX29yaWVudCxuPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRGaXJzdFRhcmdldEF4aXNNb2RlbCgpLG89biYmbi5nZXQoXCJpbnZlcnNlXCIpLGE9dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLHI9KHRoaXMuX2RhdGFTaGFkb3dJbmZvfHx7fSkub3RoZXJBeGlzSW52ZXJzZTthLmF0dHIoaSE9PWJ8fG8/aT09PWImJm8/e3NjYWxlOnI/Wy0xLDFdOlstMSwtMV19OmkhPT13fHxvP3tzY2FsZTpyP1stMSwtMV06Wy0xLDFdLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlOnI/WzEsLTFdOlsxLDFdLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlOnI/WzEsMV06WzEsLTFdfSk7dmFyIHM9dC5nZXRCb3VuZGluZ1JlY3QoW2FdKTt0LnBvc2l0aW9uWzBdPWUueC1zLngsdC5wb3NpdGlvblsxXT1lLnktcy55fSxfZ2V0Vmlld0V4dGVudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2hhbGZIYW5kbGVTaXplLGU9bSh0aGlzLl9zaXplWzBdLDQqdCksaT1bdCxlLXRdO3JldHVybiBpfSxfcmVuZGVyQmFja2dyb3VuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YVpvb21Nb2RlbCxlPXRoaXMuX3NpemU7dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLmFkZChuZXcgbCh7c2lsZW50OiEwLHNoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOnQuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpfX0pKX0sX3JlbmRlckRhdGFTaGFkb3c6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhU2hhZG93SW5mbz10aGlzLl9wcmVwYXJlRGF0YVNoYWRvd0luZm8oKTtpZih0KXt2YXIgZT10aGlzLl9zaXplLGk9dC5zZXJpZXMsbj1pLmdldFJhd0RhdGEoKSxvPWkuZ2V0U2hhZG93RGltP2kuZ2V0U2hhZG93RGltKCk6dC5vdGhlckRpbSxyPW4uZ2V0RGF0YUV4dGVudChvKSxzPS4zKihyWzFdLXJbMF0pO3I9W3JbMF0tcyxyWzFdK3NdO3ZhciBsPVswLGVbMV1dLGg9WzAsZVswXV0sYz1bW2VbMF0sMF0sWzAsMF1dLGQ9aFsxXS8obi5jb3VudCgpLTEpLGY9MCxwPU1hdGgucm91bmQobi5jb3VudCgpL2VbMF0pO24uZWFjaChbb10sZnVuY3Rpb24odCxlKXtpZihwPjAmJmUlcClyZXR1cm4gdm9pZChmKz1kKTt2YXIgaT1udWxsPT10fHxpc05hTih0KXx8XCJcIj09PXQ/bnVsbDp1KHQscixsLCEwKTtudWxsIT1pJiZjLnB1c2goW2YsaV0pLGYrPWR9KSx0aGlzLl9kaXNwbGF5YWJsZXMuYmFyR3JvdXAuYWRkKG5ldyBhLlBvbHlsaW5lKHtzaGFwZTp7cG9pbnRzOmN9LHN0eWxlOntmaWxsOnRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoXCJkYXRhQmFja2dyb3VuZENvbG9yXCIpLGxpbmVXaWR0aDowfSxzaWxlbnQ6ITAsejI6LTIwfSkpfX0sX3ByZXBhcmVEYXRhU2hhZG93SW5mbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YVpvb21Nb2RlbCxlPXQuZ2V0KFwic2hvd0RhdGFTaGFkb3dcIik7aWYoZSE9PSExKXt2YXIgaSxhPXRoaXMuZWNNb2RlbDtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihyLHMpe3ZhciBsPXQuZ2V0QXhpc1Byb3h5KHIubmFtZSxzKS5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKTtvLmVhY2gobCxmdW5jdGlvbih0KXtpZighKGl8fGUhPT0hMCYmby5pbmRleE9mKE0sdC5nZXQoXCJ0eXBlXCIpKTwwKSl7dmFyIGw9bihyLm5hbWUpLGg9YS5nZXRDb21wb25lbnQoci5heGlzLHMpLmF4aXM7aT17dGhpc0F4aXM6aCxzZXJpZXM6dCx0aGlzRGltOnIubmFtZSxvdGhlckRpbTpsLG90aGVyQXhpc0ludmVyc2U6dC5jb29yZGluYXRlU3lzdGVtLmdldE90aGVyQXhpcyhoKS5pbnZlcnNlfX19LHRoaXMpfSx0aGlzKSxpfX0sX3JlbmRlckhhbmRsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Rpc3BsYXlhYmxlcyxlPXQuaGFuZGxlcz1bXSxpPXQuaGFuZGxlTGFiZWxzPVtdLG49dGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLG89dGhpcy5fc2l6ZTtuLmFkZCh0LmZpbGxlcj1uZXcgbCh7ZHJhZ2dhYmxlOiEwLGN1cnNvcjpcIm1vdmVcIixkcmlmdDpwKHRoaXMuX29uRHJhZ01vdmUsdGhpcyxcImFsbFwiKSxvbmRyYWdlbmQ6cCh0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6cCh0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMCksb25tb3VzZW91dDpwKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCExKSxzdHlsZTp7ZmlsbDp0aGlzLmRhdGFab29tTW9kZWwuZ2V0KFwiZmlsbGVyQ29sb3JcIiksdGV4dFBvc2l0aW9uOlwiaW5zaWRlXCJ9fSkpLG4uYWRkKG5ldyBsKGEuc3ViUGl4ZWxPcHRpbWl6ZVJlY3Qoe3NpbGVudDohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDpvWzBdLGhlaWdodDpvWzFdfSxzdHlsZTp7c3Ryb2tlOnRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoXCJkYXRhQmFja2dyb3VuZENvbG9yXCIpLGxpbmVXaWR0aDp4LGZpbGw6XCJyZ2JhKDAsMCwwLDApXCJ9fSkpKSx2KFswLDFdLGZ1bmN0aW9uKHQpe24uYWRkKGVbdF09bmV3IGwoe3N0eWxlOntmaWxsOnRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoXCJoYW5kbGVDb2xvclwiKX0sY3Vyc29yOlwibW92ZVwiLGRyYWdnYWJsZTohMCxkcmlmdDpwKHRoaXMuX29uRHJhZ01vdmUsdGhpcyx0KSxvbmRyYWdlbmQ6cCh0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6cCh0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMCksb25tb3VzZW91dDpwKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCExKX0pKTt2YXIgbz10aGlzLmRhdGFab29tTW9kZWwudGV4dFN0eWxlTW9kZWw7dGhpcy5ncm91cC5hZGQoaVt0XT1uZXcgYS5UZXh0KHtzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLHN0eWxlOnt4OjAseTowLHRleHQ6XCJcIix0ZXh0VmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLHRleHRBbGlnbjpcImNlbnRlclwiLGZpbGw6by5nZXRUZXh0Q29sb3IoKSx0ZXh0Rm9udDpvLmdldEZvbnQoKX19KSl9LHRoaXMpfSxfcmVzZXRJbnRlcnZhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JhbmdlPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRQZXJjZW50UmFuZ2UoKSxlPXRoaXMuX2dldFZpZXdFeHRlbnQoKTt0aGlzLl9oYW5kbGVFbmRzPVt1KHRbMF0sWzAsMTAwXSxlLCEwKSx1KHRbMV0sWzAsMTAwXSxlLCEwKV19LF91cGRhdGVJbnRlcnZhbDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2hhbmRsZUVuZHMsbj10aGlzLl9nZXRWaWV3RXh0ZW50KCk7ZChlLGksbixcImFsbFwiPT09dHx8dGhpcy5kYXRhWm9vbU1vZGVsLmdldChcInpvb21Mb2NrXCIpP1wicmlnaWRcIjpcImNyb3NzXCIsdCksdGhpcy5fcmFuZ2U9ZihbdShpWzBdLG4sWzAsMTAwXSwhMCksdShpWzFdLG4sWzAsMTAwXSwhMCldKX0sX3VwZGF0ZVZpZXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kaXNwbGF5YWJsZXMsZT10aGlzLl9oYW5kbGVFbmRzLGk9ZihlLnNsaWNlKCkpLG49dGhpcy5fc2l6ZSxvPXRoaXMuX2hhbGZIYW5kbGVTaXplO3YoWzAsMV0sZnVuY3Rpb24oaSl7dmFyIGE9dC5oYW5kbGVzW2ldO2Euc2V0U2hhcGUoe3g6ZVtpXS1vLHk6LTEsd2lkdGg6MipvLGhlaWdodDpuWzFdKzIscjoxfSl9LHRoaXMpLHQuZmlsbGVyLnNldFNoYXBlKHt4OmlbMF0sXG55OjAsd2lkdGg6aVsxXS1pWzBdLGhlaWdodDp0aGlzLl9zaXplWzFdfSksdGhpcy5fdXBkYXRlRGF0YUluZm8oKX0sX3VwZGF0ZURhdGFJbmZvOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT1hLmdldFRyYW5zZm9ybShpLmhhbmRsZXNbdF0sdGhpcy5ncm91cCkscz1hLnRyYW5zZm9ybURpcmVjdGlvbigwPT09dD9cInJpZ2h0XCI6XCJsZWZ0XCIsZSksbD10aGlzLl9oYWxmSGFuZGxlU2l6ZStTLHU9YS5hcHBseVRyYW5zZm9ybShbaFt0XSsoMD09PXQ/LWw6bCksdGhpcy5fc2l6ZVsxXS8yXSxlKTtuW3RdLnNldFN0eWxlKHt4OnVbMF0seTp1WzFdLHRleHRWZXJ0aWNhbEFsaWduOm89PT1iP1wibWlkZGxlXCI6cyx0ZXh0QWxpZ246bz09PWI/czpcImNlbnRlclwiLHRleHQ6clt0XX0pfXZhciBlPXRoaXMuZGF0YVpvb21Nb2RlbCxpPXRoaXMuX2Rpc3BsYXlhYmxlcyxuPWkuaGFuZGxlTGFiZWxzLG89dGhpcy5fb3JpZW50LHI9W1wiXCIsXCJcIl07aWYoZS5nZXQoXCJzaG93RGV0YWlsXCIpKXt2YXIgcyxsO2UuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24odCxpKXtzfHwocz1lLmdldEF4aXNQcm94eSh0Lm5hbWUsaSkuZ2V0RGF0YVZhbHVlV2luZG93KCksbD10aGlzLmVjTW9kZWwuZ2V0Q29tcG9uZW50KHQuYXhpcyxpKS5heGlzKX0sdGhpcykscyYmKHI9W3RoaXMuX2Zvcm1hdExhYmVsKHNbMF0sbCksdGhpcy5fZm9ybWF0TGFiZWwoc1sxXSxsKV0pfXZhciBoPWYodGhpcy5faGFuZGxlRW5kcy5zbGljZSgpKTt0LmNhbGwodGhpcywwKSx0LmNhbGwodGhpcywxKX0sX2Zvcm1hdExhYmVsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5kYXRhWm9vbU1vZGVsLG49aS5nZXQoXCJsYWJlbEZvcm1hdHRlclwiKTtpZihvLmlzRnVuY3Rpb24obikpcmV0dXJuIG4odCk7dmFyIGE9aS5nZXQoXCJsYWJlbFByZWNpc2lvblwiKTtyZXR1cm4gbnVsbCE9YSYmXCJhdXRvXCIhPT1hfHwoYT1lLmdldFBpeGVsUHJlY2lzaW9uKCkpLHQ9bnVsbD09dCYmaXNOYU4odCk/XCJcIjpcImNhdGVnb3J5XCI9PT1lLnR5cGV8fFwidGltZVwiPT09ZS50eXBlP2Uuc2NhbGUuZ2V0TGFiZWwoTWF0aC5yb3VuZCh0KSk6dC50b0ZpeGVkKE1hdGgubWluKGEsMjApKSxvLmlzU3RyaW5nKG4pJiYodD1uLnJlcGxhY2UoXCJ7dmFsdWV9XCIsdCkpLHR9LF9zaG93RGF0YUluZm86ZnVuY3Rpb24odCl7dD10aGlzLl9kcmFnZ2luZ3x8dDt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMuaGFuZGxlTGFiZWxzO2VbMF0uYXR0cihcImludmlzaWJsZVwiLCF0KSxlWzFdLmF0dHIoXCJpbnZpc2libGVcIiwhdCl9LF9vbkRyYWdNb3ZlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9kcmFnZ2luZz0hMDt2YXIgbj10aGlzLl9hcHBseUJhclRyYW5zZm9ybShbZSxpXSwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxuWzBdKSx0aGlzLl91cGRhdGVWaWV3KCksdGhpcy5kYXRhWm9vbU1vZGVsLmdldChcInJlYWx0aW1lXCIpJiZ0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oKX0sX29uRHJhZ0VuZDpmdW5jdGlvbigpe3RoaXMuX2RyYWdnaW5nPSExLHRoaXMuX3Nob3dEYXRhSW5mbyghMSksdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCl9LF9kaXNwYXRjaFpvb21BY3Rpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYW5nZTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImRhdGFab29tXCIsZnJvbTp0aGlzLnVpZCxkYXRhWm9vbUlkOnRoaXMuZGF0YVpvb21Nb2RlbC5pZCxzdGFydDp0WzBdLGVuZDp0WzFdfSl9LF9hcHBseUJhclRyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpO3JldHVybiBhLmFwcGx5VHJhbnNmb3JtKHQsaSxlKX0sX2ZpbmRDb29yZFJlY3Q6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZ2V0VGFyZ2V0SW5mbygpO2lmKGUuY2FydGVzaWFucy5sZW5ndGgpdD1lLmNhcnRlc2lhbnNbMF0ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCk7ZWxzZXt2YXIgaT10aGlzLmFwaS5nZXRXaWR0aCgpLG49dGhpcy5hcGkuZ2V0SGVpZ2h0KCk7dD17eDouMippLHk6LjIqbix3aWR0aDouNippLGhlaWdodDouNipufX1yZXR1cm4gdH19KTt0LmV4cG9ydHM9QX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7dmFyIGU9dC5nZXRacigpO3JldHVybiBlW3BdfHwoZVtwXT17fSl9ZnVuY3Rpb24gbyh0LGUsaSl7dmFyIG49bmV3IGModC5nZXRacigpKTtyZXR1cm4gbi5lbmFibGUoKSxuLm9uKFwicGFuXCIsZihyLGkpKSxuLm9uKFwiem9vbVwiLGYocyxpKSksbn1mdW5jdGlvbiBhKHQpe3UuZWFjaCh0LGZ1bmN0aW9uKGUsaSl7ZS5jb3VudHx8KGUuY29udHJvbGxlci5vZmYoXCJwYW5cIikub2ZmKFwiem9vbVwiKSxkZWxldGUgdFtpXSl9KX1mdW5jdGlvbiByKHQsZSxpKXtsKHQsZnVuY3Rpb24obil7cmV0dXJuIG4ucGFuR2V0UmFuZ2UodC5jb250cm9sbGVyLGUsaSl9KX1mdW5jdGlvbiBzKHQsZSxpLG4pe2wodCxmdW5jdGlvbihvKXtyZXR1cm4gby56b29tR2V0UmFuZ2UodC5jb250cm9sbGVyLGUsaSxuKX0pfWZ1bmN0aW9uIGwodCxlKXt2YXIgaT1bXTt1LmVhY2godC5kYXRhWm9vbUluZm9zLGZ1bmN0aW9uKHQpe3ZhciBuPWUodCk7biYmaS5wdXNoKHtkYXRhWm9vbUlkOnQuZGF0YVpvb21JZCxzdGFydDpuWzBdLGVuZDpuWzFdfSl9KSx0LmRpc3BhdGNoQWN0aW9uKGkpfWZ1bmN0aW9uIGgodCxlKXt0LmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiZGF0YVpvb21cIixiYXRjaDplfSl9dmFyIHU9aSgxKSxjPWkoNzApLGQ9aSgxMjUpLGY9dS5jdXJyeSxwPVwiXFx4MDBfZWNfZGF0YVpvb21fcm9hbXNcIixnPXtyZWdpc3RlcjpmdW5jdGlvbih0LGUpe3ZhciBpPW4odCkscj1lLmRhdGFab29tSWQscz1lLmNvb3JkSWQ7dS5lYWNoKGksZnVuY3Rpb24odCxpKXt2YXIgbj10LmRhdGFab29tSW5mb3M7bltyXSYmdS5pbmRleE9mKGUuYWxsQ29vcmRJZHMscyk8MCYmKGRlbGV0ZSBuW3JdLHQuY291bnQtLSl9KSxhKGkpO3ZhciBsPWlbc107bHx8KGw9aVtzXT17Y29vcmRJZDpzLGRhdGFab29tSW5mb3M6e30sY291bnQ6MH0sbC5jb250cm9sbGVyPW8odCxlLGwpLGwuZGlzcGF0Y2hBY3Rpb249dS5jdXJyeShoLHQpKTt2YXIgYz1lLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLmNsb25lKCk7bC5jb250cm9sbGVyLnJlY3RQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiBjfSxkLmNyZWF0ZU9yVXBkYXRlKGwsXCJkaXNwYXRjaEFjdGlvblwiLGUudGhyb3R0bGVSYXRlLFwiZml4UmF0ZVwiKSwhbC5kYXRhWm9vbUluZm9zW3JdJiZsLmNvdW50KyssbC5kYXRhWm9vbUluZm9zW3JdPWV9LHVucmVnaXN0ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT1uKHQpO3UuZWFjaChpLGZ1bmN0aW9uKHQpe3ZhciBpPXQuZGF0YVpvb21JbmZvcztpW2VdJiYoZGVsZXRlIGlbZV0sdC5jb3VudC0tKX0pLGEoaSl9LHNob3VsZFJlY29yZFJhbmdlOmZ1bmN0aW9uKHQsZSl7aWYodCYmXCJkYXRhWm9vbVwiPT09dC50eXBlJiZ0LmJhdGNoKWZvcih2YXIgaT0wLG49dC5iYXRjaC5sZW5ndGg7bj5pO2krKylpZih0LmJhdGNoW2ldLmRhdGFab29tSWQ9PT1lKXJldHVybiExO3JldHVybiEwfSxnZW5lcmF0ZUNvb3JkSWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZStcIlxceDAwX1wiK3QuaWR9fTt0LmV4cG9ydHM9Z30sZnVuY3Rpb24odCxlLGkpe2koMTAwKSxpKDQwKSxpKDQxKSxpKDE3MiksaSgxNzMpLGkoOTgpLGkoOTcpfSxmdW5jdGlvbih0LGUsaSl7aSgxNzkpLGkoMTgxKSxpKDE4MCk7dmFyIG49aSgyKTtuLnJlZ2lzdGVyUHJvY2Vzc29yKFwiZmlsdGVyXCIsaSgxODIpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSksbz1pKDEyKSxhPWkoMikuZXh0ZW5kQ29tcG9uZW50TW9kZWwoe3R5cGU6XCJsZWdlbmRcIixkZXBlbmRlbmNpZXM6W1wic2VyaWVzXCJdLGxheW91dE1vZGU6e3R5cGU6XCJib3hcIixpZ25vcmVTaXplOiEwfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksdC5zZWxlY3RlZD10LnNlbGVjdGVkfHx7fSx0aGlzLl91cGRhdGVEYXRhKGkpO3ZhciBuPXRoaXMuX2RhdGEsbz10aGlzLm9wdGlvbi5zZWxlY3RlZDtpZihuWzBdJiZcInNpbmdsZVwiPT09dGhpcy5nZXQoXCJzZWxlY3RlZE1vZGVcIikpe3ZhciBhPSExO2Zvcih2YXIgciBpbiBvKW9bcl0mJih0aGlzLnNlbGVjdChyKSxhPSEwKTshYSYmdGhpcy5zZWxlY3QoblswXS5nZXQoXCJuYW1lXCIpKX19LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe2Euc3VwZXJDYWxsKHRoaXMsXCJtZXJnZU9wdGlvblwiLHQpLHRoaXMuX3VwZGF0ZURhdGEodGhpcy5lY01vZGVsKX0sX3VwZGF0ZURhdGE6ZnVuY3Rpb24odCl7dmFyIGU9bi5tYXAodGhpcy5nZXQoXCJkYXRhXCIpfHxbXSxmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9e25hbWU6dH0pLG5ldyBvKHQsdGhpcyx0aGlzLmVjTW9kZWwpfSx0aGlzKTt0aGlzLl9kYXRhPWU7dmFyIGk9bi5tYXAodC5nZXRTZXJpZXMoKSxmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSk7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKHQubGVnZW5kRGF0YVByb3ZpZGVyKXt2YXIgZT10LmxlZ2VuZERhdGFQcm92aWRlcigpO2k9aS5jb25jYXQoZS5tYXBBcnJheShlLmdldE5hbWUpKX19KSx0aGlzLl9hdmFpbGFibGVOYW1lcz1pfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHNlbGVjdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZCxpPXRoaXMuZ2V0KFwic2VsZWN0ZWRNb2RlXCIpO2lmKFwic2luZ2xlXCI9PT1pKXt2YXIgbz10aGlzLl9kYXRhO24uZWFjaChvLGZ1bmN0aW9uKHQpe2VbdC5nZXQoXCJuYW1lXCIpXT0hMX0pfWVbdF09ITB9LHVuU2VsZWN0OmZ1bmN0aW9uKHQpe1wic2luZ2xlXCIhPT10aGlzLmdldChcInNlbGVjdGVkTW9kZVwiKSYmKHRoaXMub3B0aW9uLnNlbGVjdGVkW3RdPSExKX0sdG9nZ2xlU2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7dCBpbiBlfHwoZVt0XT0hMCksdGhpc1tlW3RdP1widW5TZWxlY3RcIjpcInNlbGVjdFwiXSh0KX0saXNTZWxlY3RlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtyZXR1cm4hKHQgaW4gZSYmIWVbdF0pJiZuLmluZGV4T2YodGhpcy5fYXZhaWxhYmxlTmFtZXMsdCk+PTB9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NCxzaG93OiEwLG9yaWVudDpcImhvcml6b250YWxcIixsZWZ0OlwiY2VudGVyXCIsdG9wOlwidG9wXCIsYWxpZ246XCJhdXRvXCIsYmFja2dyb3VuZENvbG9yOlwicmdiYSgwLDAsMCwwKVwiLGJvcmRlckNvbG9yOlwiI2NjY1wiLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1HYXA6MTAsaXRlbVdpZHRoOjI1LGl0ZW1IZWlnaHQ6MTQsdGV4dFN0eWxlOntjb2xvcjpcIiMzMzNcIn0sc2VsZWN0ZWRNb2RlOiEwfX0pO3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe2UuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJsZWdlbmRUb2dnbGVTZWxlY3RcIixuYW1lOnR9KX1mdW5jdGlvbiBvKHQsZSxpKXt0LmdldChcImxlZ2VuZEhvdmVyTGlua1wiKSYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImhpZ2hsaWdodFwiLHNlcmllc05hbWU6dC5uYW1lLG5hbWU6ZX0pfWZ1bmN0aW9uIGEodCxlLGkpe3QuZ2V0KFwibGVnZW5kSG92ZXJMaW5rXCIpJiZpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiZG93bnBsYXlcIixzZXJpZXNOYW1lOnQubmFtZSxuYW1lOmV9KX12YXIgcj1pKDEpLHM9aSgyNSksbD1pKDMpLGg9aSgxMDIpLHU9ci5jdXJyeSxjPVwiI2NjY1wiO3QuZXhwb3J0cz1pKDIpLmV4dGVuZENvbXBvbmVudFZpZXcoe3R5cGU6XCJsZWdlbmRcIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5fc3ltYm9sVHlwZVN0b3JlPXt9fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ3JvdXA7aWYocy5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIikpe3ZhciBjPXQuZ2V0KFwic2VsZWN0ZWRNb2RlXCIpLGQ9dC5nZXQoXCJhbGlnblwiKTtcImF1dG9cIj09PWQmJihkPVwicmlnaHRcIj09PXQuZ2V0KFwibGVmdFwiKSYmXCJ2ZXJ0aWNhbFwiPT09dC5nZXQoXCJvcmllbnRcIik/XCJyaWdodFwiOlwibGVmdFwiKTt2YXIgZj17fTtyLmVhY2godC5nZXREYXRhKCksZnVuY3Rpb24ocil7dmFyIGg9ci5nZXQoXCJuYW1lXCIpO2lmKFwiXCI9PT1ofHxcIlxcblwiPT09aClyZXR1cm4gdm9pZCBzLmFkZChuZXcgbC5Hcm91cCh7bmV3bGluZTohMH0pKTt2YXIgcD1lLmdldFNlcmllc0J5TmFtZShoKVswXTtpZighZltoXSlpZihwKXt2YXIgZz1wLmdldERhdGEoKSxtPWcuZ2V0VmlzdWFsKFwiY29sb3JcIik7XCJmdW5jdGlvblwiPT10eXBlb2YgbSYmKG09bShwLmdldERhdGFQYXJhbXMoMCkpKTt2YXIgdj1nLmdldFZpc3VhbChcImxlZ2VuZFN5bWJvbFwiKXx8XCJyb3VuZFJlY3RcIix5PWcuZ2V0VmlzdWFsKFwic3ltYm9sXCIpLHg9dGhpcy5fY3JlYXRlSXRlbShoLHIsdCx2LHksZCxtLGMpO3gub24oXCJjbGlja1wiLHUobixoLGkpKS5vbihcIm1vdXNlb3ZlclwiLHUobyxwLFwiXCIsaSkpLm9uKFwibW91c2VvdXRcIix1KGEscCxcIlwiLGkpKSxmW2hdPSEwfWVsc2UgZS5lYWNoUmF3U2VyaWVzKGZ1bmN0aW9uKGUpe2lmKCFmW2hdJiZlLmxlZ2VuZERhdGFQcm92aWRlcil7dmFyIHM9ZS5sZWdlbmREYXRhUHJvdmlkZXIoKSxsPXMuaW5kZXhPZk5hbWUoaCk7aWYoMD5sKXJldHVybjt2YXIgcD1zLmdldEl0ZW1WaXN1YWwobCxcImNvbG9yXCIpLGc9XCJyb3VuZFJlY3RcIixtPXRoaXMuX2NyZWF0ZUl0ZW0oaCxyLHQsZyxudWxsLGQscCxjKTttLm9uKFwiY2xpY2tcIix1KG4saCxpKSkub24oXCJtb3VzZW92ZXJcIix1KG8sZSxoLGkpKS5vbihcIm1vdXNlb3V0XCIsdShhLGUsaCxpKSksZltoXT0hMH19LHRoaXMpfSx0aGlzKSxoLmxheW91dChzLHQsaSksaC5hZGRCYWNrZ3JvdW5kKHMsdCl9fSxfY3JlYXRlSXRlbTpmdW5jdGlvbih0LGUsaSxuLG8sYSxyLGgpe3ZhciB1PWkuZ2V0KFwiaXRlbVdpZHRoXCIpLGQ9aS5nZXQoXCJpdGVtSGVpZ2h0XCIpLGY9aS5pc1NlbGVjdGVkKHQpLHA9bmV3IGwuR3JvdXAsZz1lLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLG09ZS5nZXQoXCJpY29uXCIpO2lmKG49bXx8bixwLmFkZChzLmNyZWF0ZVN5bWJvbChuLDAsMCx1LGQsZj9yOmMpKSwhbSYmbyYmKG8hPT1ufHxcIm5vbmVcIj09bykpe3ZhciB2PS44KmQ7XCJub25lXCI9PT1vJiYobz1cImNpcmNsZVwiKSxwLmFkZChzLmNyZWF0ZVN5bWJvbChvLCh1LXYpLzIsKGQtdikvMix2LHYsZj9yOmMpKX12YXIgeT1cImxlZnRcIj09PWE/dSs1Oi01LHg9YSxfPWkuZ2V0KFwiZm9ybWF0dGVyXCIpO1wic3RyaW5nXCI9PXR5cGVvZiBfJiZfP3Q9Xy5yZXBsYWNlKFwie25hbWV9XCIsdCk6XCJmdW5jdGlvblwiPT10eXBlb2YgXyYmKHQ9Xyh0KSk7dmFyIGI9bmV3IGwuVGV4dCh7c3R5bGU6e3RleHQ6dCx4OnkseTpkLzIsZmlsbDpmP2cuZ2V0VGV4dENvbG9yKCk6Yyx0ZXh0Rm9udDpnLmdldEZvbnQoKSx0ZXh0QWxpZ246eCx0ZXh0VmVydGljYWxBbGlnbjpcIm1pZGRsZVwifX0pO3JldHVybiBwLmFkZChiKSxwLmFkZChuZXcgbC5SZWN0KHtzaGFwZTpwLmdldEJvdW5kaW5nUmVjdCgpLGludmlzaWJsZTohMH0pKSxwLmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LnNpbGVudD0haH0pLHRoaXMuZ3JvdXAuYWRkKHApLGwuc2V0SG92ZXJTdHlsZShwKSxwfX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG4sbz17fSxyPVwidG9nZ2xlU2VsZWN0ZWRcIj09PXQ7cmV0dXJuIGkuZWFjaENvbXBvbmVudChcImxlZ2VuZFwiLGZ1bmN0aW9uKGkpe3ImJm51bGwhPW4/aVtuP1wic2VsZWN0XCI6XCJ1blNlbGVjdFwiXShlLm5hbWUpOihpW3RdKGUubmFtZSksbj1pLmlzU2VsZWN0ZWQoZS5uYW1lKSk7dmFyIHM9aS5nZXREYXRhKCk7YS5lYWNoKHMsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJuYW1lXCIpO2lmKFwiXFxuXCIhPT1lJiZcIlwiIT09ZSl7dmFyIG49aS5pc1NlbGVjdGVkKGUpO2UgaW4gbz9vW2VdPW9bZV0mJm46b1tlXT1ufX0pfSkse25hbWU6ZS5uYW1lLHNlbGVjdGVkOm99fXZhciBvPWkoMiksYT1pKDEpO28ucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRUb2dnbGVTZWxlY3RcIixcImxlZ2VuZHNlbGVjdGNoYW5nZWRcIixhLmN1cnJ5KG4sXCJ0b2dnbGVTZWxlY3RlZFwiKSksby5yZWdpc3RlckFjdGlvbihcImxlZ2VuZFNlbGVjdFwiLFwibGVnZW5kc2VsZWN0ZWRcIixhLmN1cnJ5KG4sXCJzZWxlY3RcIikpLG8ucmVnaXN0ZXJBY3Rpb24oXCJsZWdlbmRVblNlbGVjdFwiLFwibGVnZW5kdW5zZWxlY3RlZFwiLGEuY3VycnkobixcInVuU2VsZWN0XCIpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6XCJsZWdlbmRcIn0pO2UmJmUubGVuZ3RoJiZ0LmZpbHRlclNlcmllcyhmdW5jdGlvbih0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylpZighZVtpXS5pc1NlbGVjdGVkKHQubmFtZSkpcmV0dXJuITE7cmV0dXJuITB9KX19LGZ1bmN0aW9uKHQsZSxpKXtpKDE4NSksaSgxODYpLGkoMikucmVnaXN0ZXJQcmVwcm9jZXNzb3IoZnVuY3Rpb24odCl7dC5tYXJrTGluZT10Lm1hcmtMaW5lfHx7fX0pfSxmdW5jdGlvbih0LGUsaSl7aSgxODcpLGkoMTg4KSxpKDIpLnJlZ2lzdGVyUHJlcHJvY2Vzc29yKGZ1bmN0aW9uKHQpe3QubWFya1BvaW50PXQubWFya1BvaW50fHx7fX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXtvLmRlZmF1bHRFbXBoYXNpcyh0LmxhYmVsLG8uTEFCRUxfT1BUSU9OUyl9dmFyIG89aSg3KSxhPWkoMSkscj1pKDIpLmV4dGVuZENvbXBvbmVudE1vZGVsKHt0eXBlOlwibWFya0xpbmVcIixkZXBlbmRlbmNpZXM6W1wic2VyaWVzXCIsXCJncmlkXCIsXCJwb2xhclwiLFwiZ2VvXCJdLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMubWVyZ2VPcHRpb24odCxpLG4uY3JlYXRlZEJ5U2VsZiwhMCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSxpLG8pe2l8fGUuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT10LmdldChcIm1hcmtMaW5lXCIpLHM9dC5tYXJrTGluZU1vZGVsO2lmKCFpfHwhaS5kYXRhKXJldHVybiB2b2lkKHQubWFya0xpbmVNb2RlbD1udWxsKTtpZihzKXMubWVyZ2VPcHRpb24oaSxlLCEwKTtlbHNle28mJm4oaSksYS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXk/KG4odFswXSksbih0WzFdKSk6bih0KX0pO3ZhciBsPXttYWluVHlwZTpcIm1hcmtMaW5lXCIsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxuYW1lOnQubmFtZSxjcmVhdGVkQnlTZWxmOiEwfTtzPW5ldyByKGksdGhpcyxlLGwpfXQubWFya0xpbmVNb2RlbD1zfSx0aGlzKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo1LHN5bWJvbDpbXCJjaXJjbGVcIixcImFycm93XCJdLHN5bWJvbFNpemU6WzgsMTZdLHByZWNpc2lvbjoyLHRvb2x0aXA6e3RyaWdnZXI6XCJpdGVtXCJ9LGxhYmVsOntub3JtYWw6e3Nob3c6ITAscG9zaXRpb246XCJlbmRcIn0sZW1waGFzaXM6e3Nob3c6ITB9fSxsaW5lU3R5bGU6e25vcm1hbDp7dHlwZTpcImRhc2hlZFwifSxlbXBoYXNpczp7d2lkdGg6M319LGFuaW1hdGlvbkVhc2luZzpcImxpbmVhclwifX0pO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4haXNOYU4odCkmJiFpc0Zpbml0ZSh0KX1mdW5jdGlvbiBvKHQsZSxpLG8pe3ZhciBhPTEtdCxyPW8uZGltZW5zaW9uc1t0XTtyZXR1cm4gbihlW2FdKSYmbihpW2FdKSYmZVt0XT09PWlbdF0mJm8uZ2V0QXhpcyhyKS5jb250YWluRGF0YShlW3RdKX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJjYXJ0ZXNpYW4yZFwiPT09dC50eXBlKXt2YXIgaT1lWzBdLmNvb3JkLG49ZVsxXS5jb29yZDtpZihpJiZuJiYobygxLGksbix0KXx8bygwLGksbix0KSkpcmV0dXJuITB9cmV0dXJuIGcuZGF0YUZpbHRlcih0LGVbMF0pJiZnLmRhdGFGaWx0ZXIodCxlWzFdKX1mdW5jdGlvbiByKHQsZSxpLG8sYSxyLHMpe3ZhciBsLGg9ci5jb29yZGluYXRlU3lzdGVtLHU9dC5nZXRJdGVtTW9kZWwoZSksYz11LmdldChcInhcIiksZj11LmdldChcInlcIik7aWYobnVsbCE9YyYmbnVsbCE9ZilsPVtkLnBhcnNlUGVyY2VudChjLHMuZ2V0V2lkdGgoKSksZC5wYXJzZVBlcmNlbnQoZixzLmdldEhlaWdodCgpKV07ZWxzZXtpZihyLmdldE1hcmtlclBvc2l0aW9uKWw9ci5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyh0LmRpbWVuc2lvbnMsZSkpO2Vsc2V7dmFyIHA9aC5kaW1lbnNpb25zLGc9dC5nZXQocFswXSxlKSxtPXQuZ2V0KHBbMV0sZSk7bD1oLmRhdGFUb1BvaW50KFtnLG1dKX1pZihcImNhcnRlc2lhbjJkXCI9PT1oLnR5cGUpe3ZhciB2PWguZ2V0QXhpcyhcInhcIikseT1oLmdldEF4aXMoXCJ5XCIpLHA9aC5kaW1lbnNpb25zO24odC5nZXQocFswXSxlKSk/bFswXT12LnRvR2xvYmFsQ29vcmQodi5nZXRFeHRlbnQoKVtpPzA6MV0pOm4odC5nZXQocFsxXSxlKSkmJihsWzFdPXkudG9HbG9iYWxDb29yZCh5LmdldEV4dGVudCgpW2k/MDoxXSkpfX10LnNldEl0ZW1MYXlvdXQoZSxsKX1mdW5jdGlvbiBzKHQsZSxpKXt2YXIgbjtuPXQ/bC5tYXAodCYmdC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3ZhciBpPWUuZ2V0RGF0YSgpLmdldERpbWVuc2lvbkluZm8oZS5jb29yZERpbVRvRGF0YURpbSh0KVswXSl8fHt9O3JldHVybiBpLm5hbWU9dCxpfSk6W3tuYW1lOlwidmFsdWVcIix0eXBlOlwiZmxvYXRcIn1dO3ZhciBvPW5ldyBoKG4saSkscj1uZXcgaChuLGkpLHM9bmV3IGgoW10saSksdT1sLm1hcChpLmdldChcImRhdGFcIiksbC5jdXJyeSh2LGUsdCxpKSk7dCYmKHU9bC5maWx0ZXIodSxsLmN1cnJ5KGEsdCkpKTt2YXIgYz10P2cuZGltVmFsdWVHZXR0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9O3JldHVybiBvLmluaXREYXRhKGwubWFwKHUsZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSxudWxsLGMpLHIuaW5pdERhdGEobC5tYXAodSxmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pLG51bGwsYykscy5pbml0RGF0YShsLm1hcCh1LGZ1bmN0aW9uKHQpe3JldHVybiB0WzJdfSkpLHtmcm9tOm8sdG86cixsaW5lOnN9fXZhciBsPWkoMSksaD1pKDE1KSx1PWkoOSksYz1pKDcpLGQ9aSg0KSxmPXUuYWRkQ29tbWFzLHA9dS5lbmNvZGVIVE1MLGc9aSgxMDMpLG09aSg4NCksdj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldERhdGEoKSxhPW4udHlwZTtpZighbC5pc0FycmF5KG4pJiYoXCJtaW5cIj09PWF8fFwibWF4XCI9PT1hfHxcImF2ZXJhZ2VcIj09PWF8fG51bGwhPW4ueEF4aXN8fG51bGwhPW4ueUF4aXMpKXt2YXIgcixzLGg7aWYobnVsbCE9bi55QXhpc3x8bnVsbCE9bi54QXhpcylzPW51bGwhPW4ueUF4aXM/XCJ5XCI6XCJ4XCIscj1lLmdldEF4aXMocyksaD1sLnJldHJpZXZlKG4ueUF4aXMsbi54QXhpcyk7ZWxzZXt2YXIgdT1nLmdldEF4aXNJbmZvKG4sbyxlLHQpO3M9dS52YWx1ZURhdGFEaW0scj11LnZhbHVlQXhpcyxoPWcubnVtQ2FsY3VsYXRlKG8scyxhKX12YXIgYz1cInhcIj09PXM/MDoxLGQ9MS1jLGY9bC5jbG9uZShuKSxwPXt9O2YudHlwZT1udWxsLGYuY29vcmQ9W10scC5jb29yZD1bXSxmLmNvb3JkW2RdPS0oMS8wKSxwLmNvb3JkW2RdPTEvMDt2YXIgbT1pLmdldChcInByZWNpc2lvblwiKTttPj0wJiYoaD0raC50b0ZpeGVkKG0pKSxmLmNvb3JkW2NdPXAuY29vcmRbY109aCxuPVtmLHAse3R5cGU6YSx2YWx1ZUluZGV4Om4udmFsdWVJbmRleCx2YWx1ZTpofV19cmV0dXJuIG49W2cuZGF0YVRyYW5zZm9ybSh0LG5bMF0pLGcuZGF0YVRyYW5zZm9ybSh0LG5bMV0pLGwuZXh0ZW5kKHt9LG5bMl0pXSxuWzJdLnR5cGU9blsyXS50eXBlfHxcIlwiLGwubWVyZ2UoblsyXSxuWzBdKSxsLm1lcmdlKG5bMl0sblsxXSksbn0seT17Zm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kYXRhLGk9dGhpcy5nZXRSYXdWYWx1ZSh0KSxuPWwuaXNBcnJheShpKT9sLm1hcChpLGYpLmpvaW4oXCIsIFwiKTpmKGkpLG89ZS5nZXROYW1lKHQpO3JldHVybiB0aGlzLm5hbWUrXCI8YnIgLz5cIisoKG8/cChvKStcIiA6IFwiOlwiXCIpK24pfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHNldERhdGE6ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fX07bC5kZWZhdWx0cyh5LGMuZGF0YUZvcm1hdE1peGluKSxpKDIpLmV4dGVuZENvbXBvbmVudFZpZXcoe3R5cGU6XCJtYXJrTGluZVwiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9tYXJrTGluZU1hcD17fX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9tYXJrTGluZU1hcDtmb3IodmFyIG8gaW4gbiluW29dLl9fa2VlcD0hMTtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dmFyIG49dC5tYXJrTGluZU1vZGVsO24mJnRoaXMuX3JlbmRlclNlcmllc01MKHQsbixlLGkpfSx0aGlzKTtmb3IodmFyIG8gaW4gbiluW29dLl9fa2VlcHx8dGhpcy5ncm91cC5yZW1vdmUobltvXS5ncm91cCl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya0xpbmVNb2RlbDtpZihlKXt2YXIgbj1lLmdldERhdGEoKSxvPWUuX19mcm9tLGE9ZS5fX3RvO28uZWFjaChmdW5jdGlvbihlKXt2YXIgcz1uLmdldEl0ZW1Nb2RlbChlKSxsPXMuZ2V0KFwidHlwZVwiKSxoPXMuZ2V0KFwidmFsdWVJbmRleFwiKTtyKG8sZSwhMCxsLGgsdCxpKSxyKGEsZSwhMSxsLGgsdCxpKX0pLG4uZWFjaChmdW5jdGlvbih0KXtuLnNldEl0ZW1MYXlvdXQodCxbby5nZXRJdGVtTGF5b3V0KHQpLGEuZ2V0SXRlbUxheW91dCh0KV0pfSksdGhpcy5fbWFya0xpbmVNYXBbdC5uYW1lXS51cGRhdGVMYXlvdXQoKX19LHRoaXMpfSxfcmVuZGVyU2VyaWVzTUw6ZnVuY3Rpb24odCxlLGksbil7ZnVuY3Rpb24gbyhlLGksbyxhLHMpe3ZhciBsPWUuZ2V0SXRlbU1vZGVsKGkpO3IoZSxpLG8sYSxzLHQsbiksZS5zZXRJdGVtVmlzdWFsKGkse3N5bWJvbFNpemU6bC5nZXQoXCJzeW1ib2xTaXplXCIpfHxfW28/MDoxXSxzeW1ib2w6bC5nZXQoXCJzeW1ib2xcIiwhMCl8fHhbbz8wOjFdLGNvbG9yOmwuZ2V0KFwiaXRlbVN0eWxlLm5vcm1hbC5jb2xvclwiKXx8dS5nZXRWaXN1YWwoXCJjb2xvclwiKX0pfXZhciBhPXQuY29vcmRpbmF0ZVN5c3RlbSxoPXQubmFtZSx1PXQuZ2V0RGF0YSgpLGM9dGhpcy5fbWFya0xpbmVNYXAsZD1jW2hdO2R8fChkPWNbaF09bmV3IG0pLHRoaXMuZ3JvdXAuYWRkKGQuZ3JvdXApO3ZhciBmPXMoYSx0LGUpLHA9Zi5mcm9tLGc9Zi50byx2PWYubGluZTtlLl9fZnJvbT1wLGUuX190bz1nLGwuZXh0ZW5kKGUseSksZS5zZXREYXRhKHYpO3ZhciB4PWUuZ2V0KFwic3ltYm9sXCIpLF89ZS5nZXQoXCJzeW1ib2xTaXplXCIpO2wuaXNBcnJheSh4KXx8KHg9W3gseF0pLFwibnVtYmVyXCI9PXR5cGVvZiBfJiYoXz1bXyxfXSksZi5mcm9tLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9di5nZXRJdGVtTW9kZWwodCksaT1lLmdldChcInR5cGVcIiksbj1lLmdldChcInZhbHVlSW5kZXhcIik7byhwLHQsITAsaSxuKSxvKGcsdCwhMSxpLG4pfSksdi5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXYuZ2V0SXRlbU1vZGVsKHQpLmdldChcImxpbmVTdHlsZS5ub3JtYWwuY29sb3JcIik7di5zZXRJdGVtVmlzdWFsKHQse2NvbG9yOmV8fHAuZ2V0SXRlbVZpc3VhbCh0LFwiY29sb3JcIil9KSx2LnNldEl0ZW1MYXlvdXQodCxbcC5nZXRJdGVtTGF5b3V0KHQpLGcuZ2V0SXRlbUxheW91dCh0KV0pLHYuc2V0SXRlbVZpc3VhbCh0LHtmcm9tU3ltYm9sU2l6ZTpwLmdldEl0ZW1WaXN1YWwodCxcInN5bWJvbFNpemVcIiksZnJvbVN5bWJvbDpwLmdldEl0ZW1WaXN1YWwodCxcInN5bWJvbFwiKSx0b1N5bWJvbFNpemU6Zy5nZXRJdGVtVmlzdWFsKHQsXCJzeW1ib2xTaXplXCIpLHRvU3ltYm9sOmcuZ2V0SXRlbVZpc3VhbCh0LFwic3ltYm9sXCIpfSl9KSxkLnVwZGF0ZURhdGEodiksZi5saW5lLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsaSl7dC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmRhdGFNb2RlbD1lfSl9KSxkLl9fa2VlcD0hMH19KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7by5kZWZhdWx0RW1waGFzaXModC5sYWJlbCxvLkxBQkVMX09QVElPTlMpfXZhciBvPWkoNyksYT1pKDEpLHI9aSgyKS5leHRlbmRDb21wb25lbnRNb2RlbCh7dHlwZTpcIm1hcmtQb2ludFwiLGRlcGVuZGVuY2llczpbXCJzZXJpZXNcIixcImdyaWRcIixcInBvbGFyXCJdLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMubWVyZ2VPcHRpb24odCxpLG4uY3JlYXRlZEJ5U2VsZiwhMCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSxpLG8pe2l8fGUuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT10LmdldChcIm1hcmtQb2ludFwiKSxzPXQubWFya1BvaW50TW9kZWw7aWYoIWl8fCFpLmRhdGEpcmV0dXJuIHZvaWQodC5tYXJrUG9pbnRNb2RlbD1udWxsKTtpZihzKXMubWVyZ2VPcHRpb24oaSxlLCEwKTtlbHNle28mJm4oaSksYS5lYWNoKGkuZGF0YSxuKTt2YXIgbD17bWFpblR5cGU6XCJtYXJrUG9pbnRcIixzZXJpZXNJbmRleDp0LnNlcmllc0luZGV4LG5hbWU6dC5uYW1lLGNyZWF0ZWRCeVNlbGY6ITB9O3M9bmV3IHIoaSx0aGlzLGUsbCl9dC5tYXJrUG9pbnRNb2RlbD1zfSx0aGlzKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo1LHN5bWJvbDpcInBpblwiLHN5bWJvbFNpemU6NTAsdG9vbHRpcDp7dHJpZ2dlcjpcIml0ZW1cIn0sbGFiZWw6e25vcm1hbDp7c2hvdzohMCxwb3NpdGlvbjpcImluc2lkZVwifSxlbXBoYXNpczp7c2hvdzohMH19LGl0ZW1TdHlsZTp7bm9ybWFsOntib3JkZXJXaWR0aDoyfX19fSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW07dC5lYWNoKGZ1bmN0aW9uKG8pe3ZhciBhLHI9dC5nZXRJdGVtTW9kZWwobykscz1yLmdldFNoYWxsb3coXCJ4XCIpLGw9ci5nZXRTaGFsbG93KFwieVwiKTtpZihudWxsIT1zJiZudWxsIT1sKWE9W2gucGFyc2VQZXJjZW50KHMsaS5nZXRXaWR0aCgpKSxoLnBhcnNlUGVyY2VudChsLGkuZ2V0SGVpZ2h0KCkpXTtlbHNlIGlmKGUuZ2V0TWFya2VyUG9zaXRpb24pYT1lLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKHQuZGltZW5zaW9ucyxvKSk7ZWxzZSBpZihuKXt2YXIgdT10LmdldChuLmRpbWVuc2lvbnNbMF0sbyksYz10LmdldChuLmRpbWVuc2lvbnNbMV0sbyk7YT1uLmRhdGFUb1BvaW50KFt1LGNdKX10LnNldEl0ZW1MYXlvdXQobyxhKX0pfWZ1bmN0aW9uIG8odCxlLGkpe3ZhciBuO249dD9yLm1hcCh0JiZ0LmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7dmFyIGk9ZS5nZXREYXRhKCkuZ2V0RGltZW5zaW9uSW5mbyhlLmNvb3JkRGltVG9EYXRhRGltKHQpWzBdKXx8e307cmV0dXJuIGkubmFtZT10LGl9KTpbe25hbWU6XCJ2YWx1ZVwiLHR5cGU6XCJmbG9hdFwifV07dmFyIG89bmV3IGQobixpKSxhPXIubWFwKGkuZ2V0KFwiZGF0YVwiKSxyLmN1cnJ5KGYuZGF0YVRyYW5zZm9ybSxlKSk7cmV0dXJuIHQmJihhPXIuZmlsdGVyKGEsci5jdXJyeShmLmRhdGFGaWx0ZXIsdCkpKSxvLmluaXREYXRhKGEsbnVsbCx0P2YuZGltVmFsdWVHZXR0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KSxvfXZhciBhPWkoMzkpLHI9aSgxKSxzPWkoOSksbD1pKDcpLGg9aSg0KSx1PXMuYWRkQ29tbWFzLGM9cy5lbmNvZGVIVE1MLGQ9aSgxNSksZj1pKDEwMykscD17Zm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPXRoaXMuZ2V0UmF3VmFsdWUodCksbj1yLmlzQXJyYXkoaSk/ci5tYXAoaSx1KS5qb2luKFwiLCBcIik6dShpKSxvPWUuZ2V0TmFtZSh0KTtyZXR1cm4gdGhpcy5uYW1lK1wiPGJyIC8+XCIrKChvP2MobykrXCIgOiBcIjpcIlwiKStuKX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxzZXREYXRhOmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH19O3IuZGVmYXVsdHMocCxsLmRhdGFGb3JtYXRNaXhpbiksaSgyKS5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwibWFya1BvaW50XCIsaW5pdDpmdW5jdGlvbigpe3RoaXMuX3N5bWJvbERyYXdNYXA9e319LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fc3ltYm9sRHJhd01hcDtmb3IodmFyIG8gaW4gbiluW29dLl9fa2VlcD0hMTtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dmFyIGU9dC5tYXJrUG9pbnRNb2RlbDtlJiZ0aGlzLl9yZW5kZXJTZXJpZXNNUCh0LGUsaSl9LHRoaXMpO2Zvcih2YXIgbyBpbiBuKW5bb10uX19rZWVwfHwobltvXS5yZW1vdmUoKSx0aGlzLmdyb3VwLnJlbW92ZShuW29dLmdyb3VwKSl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya1BvaW50TW9kZWw7ZSYmKG4oZS5nZXREYXRhKCksdCxpKSx0aGlzLl9zeW1ib2xEcmF3TWFwW3QubmFtZV0udXBkYXRlTGF5b3V0KGUpKX0sdGhpcyl9LF9yZW5kZXJTZXJpZXNNUDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dC5jb29yZGluYXRlU3lzdGVtLGw9dC5uYW1lLGg9dC5nZXREYXRhKCksdT10aGlzLl9zeW1ib2xEcmF3TWFwLGM9dVtsXTtjfHwoYz11W2xdPW5ldyBhKTt2YXIgZD1vKHMsdCxlKTtyLm1peGluKGUscCksZS5zZXREYXRhKGQpLG4oZS5nZXREYXRhKCksdCxpKSxkLmVhY2goZnVuY3Rpb24odCl7dmFyIGk9ZC5nZXRJdGVtTW9kZWwodCksbj1pLmdldFNoYWxsb3coXCJzeW1ib2xTaXplXCIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4oZS5nZXRSYXdWYWx1ZSh0KSxlLmdldERhdGFQYXJhbXModCkpKSxkLnNldEl0ZW1WaXN1YWwodCx7c3ltYm9sU2l6ZTpuLGNvbG9yOmkuZ2V0KFwiaXRlbVN0eWxlLm5vcm1hbC5jb2xvclwiKXx8aC5nZXRWaXN1YWwoXCJjb2xvclwiKSxzeW1ib2w6aS5nZXRTaGFsbG93KFwic3ltYm9sXCIpfSl9KSxjLnVwZGF0ZURhdGEoZCksdGhpcy5ncm91cC5hZGQoYy5ncm91cCksZC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXt0LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuZGF0YU1vZGVsPWV9KX0pLGMuX19rZWVwPSEwfX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgyKSxvPWkoMyksYT1pKDExKTtuLmV4dGVuZENvbXBvbmVudE1vZGVsKHt0eXBlOlwidGl0bGVcIixsYXlvdXRNb2RlOnt0eXBlOlwiYm94XCIsaWdub3JlU2l6ZTohMH0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo2LHNob3c6ITAsdGV4dDpcIlwiLHRhcmdldDpcImJsYW5rXCIsc3VidGV4dDpcIlwiLHN1YnRhcmdldDpcImJsYW5rXCIsbGVmdDowLHRvcDowLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJDb2xvcjpcIiNjY2NcIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtR2FwOjEwLHRleHRTdHlsZTp7Zm9udFNpemU6MTgsZm9udFdlaWdodDpcImJvbGRlclwiLGNvbG9yOlwiIzMzM1wifSxzdWJ0ZXh0U3R5bGU6e2NvbG9yOlwiI2FhYVwifX19KSxuLmV4dGVuZENvbXBvbmVudFZpZXcoe3R5cGU6XCJ0aXRsZVwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIikpe3ZhciBuPXRoaXMuZ3JvdXAscj10LmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLHM9dC5nZXRNb2RlbChcInN1YnRleHRTdHlsZVwiKSxsPXQuZ2V0KFwidGV4dEFsaWduXCIpLGg9bmV3IG8uVGV4dCh7c3R5bGU6e3RleHQ6dC5nZXQoXCJ0ZXh0XCIpLHRleHRGb250OnIuZ2V0Rm9udCgpLGZpbGw6ci5nZXRUZXh0Q29sb3IoKSx0ZXh0QmFzZWxpbmU6XCJ0b3BcIn0sejI6MTB9KSx1PWguZ2V0Qm91bmRpbmdSZWN0KCksYz10LmdldChcInN1YnRleHRcIiksZD1uZXcgby5UZXh0KHtzdHlsZTp7dGV4dDpjLHRleHRGb250OnMuZ2V0Rm9udCgpLGZpbGw6cy5nZXRUZXh0Q29sb3IoKSx5OnUuaGVpZ2h0K3QuZ2V0KFwiaXRlbUdhcFwiKSx0ZXh0QmFzZWxpbmU6XCJ0b3BcIn0sejI6MTB9KSxmPXQuZ2V0KFwibGlua1wiKSxwPXQuZ2V0KFwic3VibGlua1wiKTtoLnNpbGVudD0hZixkLnNpbGVudD0hcCxmJiZoLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3dpbmRvdy5vcGVuKGYsXCJfXCIrdC5nZXQoXCJ0YXJnZXRcIikpfSkscCYmZC5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXt3aW5kb3cub3BlbihwLFwiX1wiK3QuZ2V0KFwic3VidGFyZ2V0XCIpKX0pLG4uYWRkKGgpLGMmJm4uYWRkKGQpO3ZhciBnPW4uZ2V0Qm91bmRpbmdSZWN0KCksbT10LmdldEJveExheW91dFBhcmFtcygpO20ud2lkdGg9Zy53aWR0aCxtLmhlaWdodD1nLmhlaWdodDt2YXIgdj1hLmdldExheW91dFJlY3QobSx7d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSx0LmdldChcInBhZGRpbmdcIikpO2x8fChsPXQuZ2V0KFwibGVmdFwiKXx8dC5nZXQoXCJyaWdodFwiKSxcIm1pZGRsZVwiPT09bCYmKGw9XCJjZW50ZXJcIiksXCJyaWdodFwiPT09bD92LngrPXYud2lkdGg6XCJjZW50ZXJcIj09PWwmJih2LngrPXYud2lkdGgvMikpLG4ucG9zaXRpb249W3YueCx2LnldLGguc2V0U3R5bGUoXCJ0ZXh0QWxpZ25cIixsKSxkLnNldFN0eWxlKFwidGV4dEFsaWduXCIsbCksZz1uLmdldEJvdW5kaW5nUmVjdCgpO3ZhciB5PXYubWFyZ2luLHg9dC5nZXRJdGVtU3R5bGUoW1wiY29sb3JcIixcIm9wYWNpdHlcIl0pO3guZmlsbD10LmdldChcImJhY2tncm91bmRDb2xvclwiKTt2YXIgXz1uZXcgby5SZWN0KHtzaGFwZTp7eDpnLngteVszXSx5OmcueS15WzBdLHdpZHRoOmcud2lkdGgreVsxXSt5WzNdLGhlaWdodDpnLmhlaWdodCt5WzBdK3lbMl19LHN0eWxlOngsc2lsZW50OiEwfSk7by5zdWJQaXhlbE9wdGltaXplUmVjdChfKSxuLmFkZChfKX19fSl9LGZ1bmN0aW9uKHQsZSxpKXtpKDE5MSksaSgxOTIpLGkoMTk3KSxpKDE5NSksaSgxOTMpLGkoMTk0KSxpKDE5Nil9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDI5KSxvPWkoMSksYT1pKDIpLmV4dGVuZENvbXBvbmVudE1vZGVsKHt0eXBlOlwidG9vbGJveFwiLGxheW91dE1vZGU6e3R5cGU6XCJib3hcIixpZ25vcmVTaXplOiEwfSxtZXJnZURlZmF1bHRBbmRUaGVtZTpmdW5jdGlvbih0KXthLnN1cGVyQXBwbHkodGhpcyxcIm1lcmdlRGVmYXVsdEFuZFRoZW1lXCIsYXJndW1lbnRzKSxvLmVhY2godGhpcy5vcHRpb24uZmVhdHVyZSxmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0KGUpO2kmJm8ubWVyZ2UodCxpLmRlZmF1bHRPcHRpb24pfSl9LGRlZmF1bHRPcHRpb246e3Nob3c6ITAsejo2LHpsZXZlbDowLG9yaWVudDpcImhvcml6b250YWxcIixsZWZ0OlwicmlnaHRcIix0b3A6XCJ0b3BcIixiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwiLGJvcmRlckNvbG9yOlwiI2NjY1wiLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1TaXplOjE1LGl0ZW1HYXA6OCxzaG93VGl0bGU6ITAsaWNvblN0eWxlOntub3JtYWw6e2JvcmRlckNvbG9yOlwiIzY2NlwiLGNvbG9yOlwibm9uZVwifSxlbXBoYXNpczp7Ym9yZGVyQ29sb3I6XCIjM0U5OEM1XCJ9fX19KTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpeyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe3JldHVybiAwPT09dC5pbmRleE9mKFwibXlcIil9dmFyIG89aSgyOSksYT1pKDEpLHI9aSgzKSxzPWkoMTIpLGw9aSg0OCksaD1pKDEwMiksdT1pKDE4KTt0LmV4cG9ydHM9aSgyKS5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwidG9vbGJveFwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gYyhhLHIpe3ZhciBsLGg9dlthXSx1PXZbcl0sYz1nW2hdLGY9bmV3IHMoYyx0LHQuZWNNb2RlbCk7aWYoaCYmIXUpe2lmKG4oaCkpbD17bW9kZWw6ZixvbmNsaWNrOmYub3B0aW9uLm9uY2xpY2ssZmVhdHVyZU5hbWU6aH07ZWxzZXt2YXIgcD1vLmdldChoKTtpZighcClyZXR1cm47bD1uZXcgcChmKX1tW2hdPWx9ZWxzZXtpZihsPW1bdV0sIWwpcmV0dXJuO2wubW9kZWw9Zn1yZXR1cm4haCYmdT92b2lkKGwuZGlzcG9zZSYmbC5kaXNwb3NlKGUsaSkpOiFmLmdldChcInNob3dcIil8fGwudW51c2FibGU/dm9pZChsLnJlbW92ZSYmbC5yZW1vdmUoZSxpKSk6KGQoZixsLGgpLGYuc2V0SWNvblN0YXR1cz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5pY29uUGF0aHM7aS5pY29uU3RhdHVzPWkuaWNvblN0YXR1c3x8e30saS5pY29uU3RhdHVzW3RdPWUsblt0XSYmblt0XS50cmlnZ2VyKGUpfSx2b2lkKGwucmVuZGVyJiZsLnJlbmRlcihmLGUsaSkpKX1mdW5jdGlvbiBkKG4sbyxzKXt2YXIgbD1uLmdldE1vZGVsKFwiaWNvblN0eWxlXCIpLGg9by5nZXRJY29ucz9vLmdldEljb25zKCk6bi5nZXQoXCJpY29uXCIpLHU9bi5nZXQoXCJ0aXRsZVwiKXx8e307aWYoXCJzdHJpbmdcIj09dHlwZW9mIGgpe3ZhciBjPWgsZD11O2g9e30sdT17fSxoW3NdPWMsdVtzXT1kfXZhciBnPW4uaWNvblBhdGhzPXt9O2EuZWFjaChoLGZ1bmN0aW9uKHMsaCl7dmFyIGM9bC5nZXRNb2RlbChcIm5vcm1hbFwiKS5nZXRJdGVtU3R5bGUoKSxkPWwuZ2V0TW9kZWwoXCJlbXBoYXNpc1wiKS5nZXRJdGVtU3R5bGUoKSxtPXt4Oi1wLzIseTotcC8yLHdpZHRoOnAsaGVpZ2h0OnB9LHY9MD09PXMuaW5kZXhPZihcImltYWdlOi8vXCIpPyhtLmltYWdlPXMuc2xpY2UoOCksbmV3IHIuSW1hZ2Uoe3N0eWxlOm19KSk6ci5tYWtlUGF0aChzLnJlcGxhY2UoXCJwYXRoOi8vXCIsXCJcIikse3N0eWxlOmMsaG92ZXJTdHlsZTpkLHJlY3RIb3ZlcjohMH0sbSxcImNlbnRlclwiKTtyLnNldEhvdmVyU3R5bGUodiksdC5nZXQoXCJzaG93VGl0bGVcIikmJih2Ll9fdGl0bGU9dVtoXSx2Lm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKXt2LnNldFN0eWxlKHt0ZXh0OnVbaF0sdGV4dFBvc2l0aW9uOmQudGV4dFBvc2l0aW9ufHxcImJvdHRvbVwiLHRleHRGaWxsOmQuZmlsbHx8ZC5zdHJva2V8fFwiIzAwMFwiLHRleHRBbGlnbjpkLnRleHRBbGlnbnx8XCJjZW50ZXJcIn0pfSkub24oXCJtb3VzZW91dFwiLGZ1bmN0aW9uKCl7di5zZXRTdHlsZSh7dGV4dEZpbGw6bnVsbH0pfSkpLHYudHJpZ2dlcihuLmdldChcImljb25TdGF0dXMuXCIraCl8fFwibm9ybWFsXCIpLGYuYWRkKHYpLHYub24oXCJjbGlja1wiLGEuYmluZChvLm9uY2xpY2ssbyxlLGksaCkpLGdbaF09dn0pfXZhciBmPXRoaXMuZ3JvdXA7aWYoZi5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIikpe3ZhciBwPSt0LmdldChcIml0ZW1TaXplXCIpLGc9dC5nZXQoXCJmZWF0dXJlXCIpfHx7fSxtPXRoaXMuX2ZlYXR1cmVzfHwodGhpcy5fZmVhdHVyZXM9e30pLHY9W107YS5lYWNoKGcsZnVuY3Rpb24odCxlKXt2LnB1c2goZSl9KSxuZXcgbCh0aGlzLl9mZWF0dXJlTmFtZXN8fFtdLHYpLmFkZChjKS51cGRhdGUoYykucmVtb3ZlKGEuY3VycnkoYyxudWxsKSkuZXhlY3V0ZSgpLHRoaXMuX2ZlYXR1cmVOYW1lcz12LGgubGF5b3V0KGYsdCxpKSxoLmFkZEJhY2tncm91bmQoZix0KSxmLmVhY2hDaGlsZChmdW5jdGlvbih0KXt2YXIgZT10Ll9fdGl0bGUsbj10LmhvdmVyU3R5bGU7aWYobiYmZSl7dmFyIG89dS5nZXRCb3VuZGluZ1JlY3QoZSxuLmZvbnQpLGE9dC5wb3NpdGlvblswXStmLnBvc2l0aW9uWzBdLHI9dC5wb3NpdGlvblsxXStmLnBvc2l0aW9uWzFdK3Ascz0hMTtyK28uaGVpZ2h0PmkuZ2V0SGVpZ2h0KCkmJihuLnRleHRQb3NpdGlvbj1cInRvcFwiLHM9ITApO3ZhciBsPXM/LTUtby5oZWlnaHQ6cCs4O2Erby53aWR0aC8yPmkuZ2V0V2lkdGgoKT8obi50ZXh0UG9zaXRpb249W1wiMTAwJVwiLGxdLG4udGV4dEFsaWduPVwicmlnaHRcIik6YS1vLndpZHRoLzI8MCYmKG4udGV4dFBvc2l0aW9uPVswLGxdLG4udGV4dEFsaWduPVwibGVmdFwiKX19KX19LHJlbW92ZTpmdW5jdGlvbih0LGUpe2EuZWFjaCh0aGlzLl9mZWF0dXJlcyxmdW5jdGlvbihpKXtpLnJlbW92ZSYmaS5yZW1vdmUodCxlKX0pLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGRpc3Bvc2U6ZnVuY3Rpb24odCxlKXthLmVhY2godGhpcy5fZmVhdHVyZXMsZnVuY3Rpb24oaSl7aS5kaXNwb3NlJiZpLmRpc3Bvc2UodCxlKX0pfX0pfSkuY2FsbChlLGkoMjAzKSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXt9LGk9W10sbj1bXTtyZXR1cm4gdC5lYWNoUmF3U2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighb3x8XCJjYXJ0ZXNpYW4yZFwiIT09by50eXBlJiZcInBvbGFyXCIhPT1vLnR5cGUpaS5wdXNoKHQpO2Vsc2V7dmFyIGE9by5nZXRCYXNlQXhpcygpO2lmKFwiY2F0ZWdvcnlcIj09PWEudHlwZSl7dmFyIHI9YS5kaW0rXCJfXCIrYS5pbmRleDtlW3JdfHwoZVtyXT17Y2F0ZWdvcnlBeGlzOmEsdmFsdWVBeGlzOm8uZ2V0T3RoZXJBeGlzKGEpLHNlcmllczpbXX0sbi5wdXNoKHtheGlzRGltOmEuZGltLGF4aXNJbmRleDphLmluZGV4fSkpLGVbcl0uc2VyaWVzLnB1c2godCl9ZWxzZSBpLnB1c2godCl9fSkse3Nlcmllc0dyb3VwQnlDYXRlZ29yeUF4aXM6ZSxvdGhlcjppLG1ldGE6bn19ZnVuY3Rpb24gbyh0KXt2YXIgZT1bXTtyZXR1cm4gcC5lYWNoKHQsZnVuY3Rpb24odCxpKXt2YXIgbj10LmNhdGVnb3J5QXhpcyxvPXQudmFsdWVBeGlzLGE9by5kaW0scj1bXCIgXCJdLmNvbmNhdChwLm1hcCh0LnNlcmllcyxmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpLHM9W24ubW9kZWwuZ2V0Q2F0ZWdvcmllcygpXTtwLmVhY2godC5zZXJpZXMsZnVuY3Rpb24odCl7cy5wdXNoKHQuZ2V0UmF3RGF0YSgpLm1hcEFycmF5KGEsZnVuY3Rpb24odCl7cmV0dXJuIHR9KSl9KTtmb3IodmFyIGw9W3Iuam9pbih2KV0saD0wO2g8c1swXS5sZW5ndGg7aCsrKXtmb3IodmFyIHU9W10sYz0wO2M8cy5sZW5ndGg7YysrKXUucHVzaChzW2NdW2hdKTtsLnB1c2godS5qb2luKHYpKX1lLnB1c2gobC5qb2luKFwiXFxuXCIpKX0pLGUuam9pbihcIlxcblxcblwiK20rXCJcXG5cXG5cIil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gcC5tYXAodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhd0RhdGEoKSxpPVt0Lm5hbWVdLG49W107cmV0dXJuIGUuZWFjaChlLmRpbWVuc2lvbnMsZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxvPWFyZ3VtZW50c1t0LTFdLGE9ZS5nZXROYW1lKG8pLHI9MDt0LTE+cjtyKyspbltyXT1hcmd1bWVudHNbcl07aS5wdXNoKChhP2ErdjpcIlwiKStuLmpvaW4odikpfSksaS5qb2luKFwiXFxuXCIpfSkuam9pbihcIlxcblxcblwiK20rXCJcXG5cXG5cIil9ZnVuY3Rpb24gcih0KXt2YXIgZT1uKHQpO3JldHVybnt2YWx1ZTpwLmZpbHRlcihbbyhlLnNlcmllc0dyb3VwQnlDYXRlZ29yeUF4aXMpLGEoZS5vdGhlcildLGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcXG5cXHRcXHNdL2csXCJcIil9KS5qb2luKFwiXFxuXFxuXCIrbStcIlxcblxcblwiKSxtZXRhOmUubWV0YX19ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXFxzXFxzKi8sXCJcIikucmVwbGFjZSgvXFxzXFxzKiQvLFwiXCIpfWZ1bmN0aW9uIGwodCl7dmFyIGU9dC5zbGljZSgwLHQuaW5kZXhPZihcIlxcblwiKSk7cmV0dXJuIGUuaW5kZXhPZih2KT49MD8hMDp2b2lkIDB9ZnVuY3Rpb24gaCh0KXtmb3IodmFyIGU9dC5zcGxpdCgvXFxuKy9nKSxpPXMoZS5zaGlmdCgpKS5zcGxpdCh5KSxuPVtdLG89cC5tYXAoaSxmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0LGRhdGE6W119fSksYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgcj1zKGVbYV0pLnNwbGl0KHkpO24ucHVzaChyLnNoaWZ0KCkpO2Zvcih2YXIgbD0wO2w8ci5sZW5ndGg7bCsrKW9bbF0mJihvW2xdLmRhdGFbYV09cltsXSl9cmV0dXJue3NlcmllczpvLGNhdGVnb3JpZXM6bn19ZnVuY3Rpb24gdSh0KXtmb3IodmFyIGU9dC5zcGxpdCgvXFxuKy9nKSxpPXMoZS5zaGlmdCgpKSxuPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGEscj1zKGVbb10pLnNwbGl0KHkpLGw9XCJcIixoPSExO2lzTmFOKHJbMF0pPyhoPSEwLGw9clswXSxyPXIuc2xpY2UoMSksbltvXT17bmFtZTpsLHZhbHVlOltdfSxhPW5bb10udmFsdWUpOmE9bltvXT1bXTtmb3IodmFyIHU9MDt1PHIubGVuZ3RoO3UrKylhLnB1c2goK3JbdV0pOzE9PT1hLmxlbmd0aCYmKGg/bltvXS52YWx1ZT1hWzBdOm5bb109YVswXSl9cmV0dXJue25hbWU6aSxkYXRhOm59fWZ1bmN0aW9uIGModCxlKXt2YXIgaT10LnNwbGl0KG5ldyBSZWdFeHAoXCJcXG4qXCIrbStcIlxcbipcIixcImdcIikpLG49e3NlcmllczpbXX07cmV0dXJuIHAuZWFjaChpLGZ1bmN0aW9uKHQsaSl7aWYobCh0KSl7dmFyIG89aCh0KSxhPWVbaV0scj1hLmF4aXNEaW0rXCJBeGlzXCI7YSYmKG5bcl09bltyXXx8W10sbltyXVthLmF4aXNJbmRleF09e2RhdGE6by5jYXRlZ29yaWVzfSxuLnNlcmllcz1uLnNlcmllcy5jb25jYXQoby5zZXJpZXMpKX1lbHNle3ZhciBvPXUodCk7bi5zZXJpZXMucHVzaChvKX19KSxufWZ1bmN0aW9uIGQodCl7dGhpcy5fZG9tPW51bGwsdGhpcy5tb2RlbD10fWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gcC5tYXAodCxmdW5jdGlvbih0LGkpe3ZhciBuPWUmJmVbaV07cmV0dXJuIHAuaXNPYmplY3QobikmJiFwLmlzQXJyYXkobik/KHAuaXNPYmplY3QodCkmJiFwLmlzQXJyYXkodCkmJih0PXQudmFsdWUpLHAuZGVmYXVsdHMoe3ZhbHVlOnR9LG4pKTp0fSl9dmFyIHA9aSgxKSxnPWkoMzQpLG09bmV3IEFycmF5KDYwKS5qb2luKFwiLVwiKSx2PVwiXHRcIix5PW5ldyBSZWdFeHAoXCJbXCIrditcIl0rXCIsXCJnXCIpO2QuZGVmYXVsdE9wdGlvbj17c2hvdzohMCxyZWFkT25seTohMSxvcHRpb25Ub0NvbnRlbnQ6bnVsbCxjb250ZW50VG9PcHRpb246bnVsbCxpY29uOlwiTTE3LjUsMTcuM0gzMyBNMTcuNSwxNy4zSDMzIE00NS40LDI5LjVoLTI4IE0xMS41LDJ2NTZINTFWMTQuOEwzOC40LDJIMTEuNXogTTM4LjQsMi4ydjEyLjdINTEgTTQ1LjQsNDEuN2gtMjhcIix0aXRsZTpcIuaVsOaNruinhuWbvlwiLGxhbmc6W1wi5pWw5o2u6KeG5Zu+XCIsXCLlhbPpl61cIixcIuWIt+aWsFwiXSxiYWNrZ3JvdW5kQ29sb3I6XCIjZmZmXCIsdGV4dENvbG9yOlwiIzAwMFwiLHRleHRhcmVhQ29sb3I6XCIjZmZmXCIsdGV4dGFyZWFCb3JkZXJDb2xvcjpcIiMzMzNcIixidXR0b25Db2xvcjpcIiNjMjM1MzFcIixidXR0b25UZXh0Q29sb3I6XCIjZmZmXCJ9LGQucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7bi5yZW1vdmVDaGlsZChhKSxNLl9kb209bnVsbH12YXIgbj1lLmdldERvbSgpLG89dGhpcy5tb2RlbDt0aGlzLl9kb20mJm4ucmVtb3ZlQ2hpbGQodGhpcy5fZG9tKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NXB4O3RvcDo1cHg7Ym90dG9tOjVweDtyaWdodDo1cHg7XCIsYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9by5nZXQoXCJiYWNrZ3JvdW5kQ29sb3JcIil8fFwiI2ZmZlwiO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNFwiKSxsPW8uZ2V0KFwibGFuZ1wiKXx8W107cy5pbm5lckhUTUw9bFswXXx8by5nZXQoXCJ0aXRsZVwiKSxzLnN0eWxlLmNzc1RleHQ9XCJtYXJnaW46IDEwcHggMjBweDtcIixzLnN0eWxlLmNvbG9yPW8uZ2V0KFwidGV4dENvbG9yXCIpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7aC5zdHlsZS5jc3NUZXh0PVwiZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO292ZXJmbG93OmhpZGRlbjtcIjt2YXIgZD1vLmdldChcIm9wdGlvblRvQ29udGVudFwiKSxmPW8uZ2V0KFwiY29udGVudFRvT3B0aW9uXCIpLG09cih0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkKXt2YXIgeT1kKGUuZ2V0T3B0aW9uKCkpO1wic3RyaW5nXCI9PXR5cGVvZiB5P2guaW5uZXJIVE1MPXk6cC5pc0RvbSh5KSYmaC5hcHBlbmRDaGlsZCh5KX1lbHNlIGguYXBwZW5kQ2hpbGQodSksdS5yZWFkT25seT1vLmdldChcInJlYWRPbmx5XCIpLHUuc3R5bGUuY3NzVGV4dD1cIndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNnJlbTtcIix1LnN0eWxlLmNvbG9yPW8uZ2V0KFwidGV4dENvbG9yXCIpLHUuc3R5bGUuYm9yZGVyQ29sb3I9by5nZXQoXCJ0ZXh0YXJlYUJvcmRlckNvbG9yXCIpLHUuc3R5bGUuYmFja2dyb3VuZENvbG9yPW8uZ2V0KFwidGV4dGFyZWFDb2xvclwiKSx1LnZhbHVlPW0udmFsdWU7dmFyIHg9bS5tZXRhLF89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtfLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtcIjt2YXIgYj1cImZsb2F0OnJpZ2h0O21hcmdpbi1yaWdodDoyMHB4O2JvcmRlcjpub25lO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MnB4IDVweDtmb250LXNpemU6MTJweDtib3JkZXItcmFkaXVzOjNweFwiLHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxTPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yis9XCI7YmFja2dyb3VuZC1jb2xvcjpcIitvLmdldChcImJ1dHRvbkNvbG9yXCIpLGIrPVwiO2NvbG9yOlwiK28uZ2V0KFwiYnV0dG9uVGV4dENvbG9yXCIpO3ZhciBNPXRoaXM7Zy5hZGRFdmVudExpc3RlbmVyKHcsXCJjbGlja1wiLGkpLGcuYWRkRXZlbnRMaXN0ZW5lcihTLFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciB0O3RyeXt0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGY/ZihoLGUuZ2V0T3B0aW9uKCkpOmModS52YWx1ZSx4KX1jYXRjaChuKXt0aHJvdyBpKCksbmV3IEVycm9yKFwiRGF0YSB2aWV3IGZvcm1hdCBlcnJvciBcIituKX10JiZlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiY2hhbmdlRGF0YVZpZXdcIixuZXdPcHRpb246dH0pLGkoKX0pLHcuaW5uZXJIVE1MPWxbMV0sUy5pbm5lckhUTUw9bFsyXSxTLnN0eWxlLmNzc1RleHQ9Yix3LnN0eWxlLmNzc1RleHQ9Yiwhby5nZXQoXCJyZWFkT25seVwiKSYmXy5hcHBlbmRDaGlsZChTKSxfLmFwcGVuZENoaWxkKHcpLGcuYWRkRXZlbnRMaXN0ZW5lcih1LFwia2V5ZG93blwiLGZ1bmN0aW9uKHQpe2lmKDk9PT0odC5rZXlDb2RlfHx0LndoaWNoKSl7dmFyIGU9dGhpcy52YWx1ZSxpPXRoaXMuc2VsZWN0aW9uU3RhcnQsbj10aGlzLnNlbGVjdGlvbkVuZDt0aGlzLnZhbHVlPWUuc3Vic3RyaW5nKDAsaSkrditlLnN1YnN0cmluZyhuKSx0aGlzLnNlbGVjdGlvblN0YXJ0PXRoaXMuc2VsZWN0aW9uRW5kPWkrMSxnLnN0b3AodCl9fSksYS5hcHBlbmRDaGlsZChzKSxhLmFwcGVuZENoaWxkKGgpLGEuYXBwZW5kQ2hpbGQoXyksaC5zdHlsZS5oZWlnaHQ9bi5jbGllbnRIZWlnaHQtODArXCJweFwiLG4uYXBwZW5kQ2hpbGQoYSksdGhpcy5fZG9tPWF9LGQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RvbSYmZS5nZXREb20oKS5yZW1vdmVDaGlsZCh0aGlzLl9kb20pfSxkLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmUodCxlKX0saSgyOSkucmVnaXN0ZXIoXCJkYXRhVmlld1wiLGQpLGkoMikucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJjaGFuZ2VEYXRhVmlld1wiLGV2ZW50OlwiZGF0YVZpZXdDaGFuZ2VkXCIsdXBkYXRlOlwicHJlcGFyZUFuZFVwZGF0ZVwifSxmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3AuZWFjaCh0Lm5ld09wdGlvbi5zZXJpZXMsZnVuY3Rpb24odCl7dmFyIG49ZS5nZXRTZXJpZXNCeU5hbWUodC5uYW1lKVswXTtpZihuKXt2YXIgbz1uLmdldChcImRhdGFcIik7aS5wdXNoKHtuYW1lOnQubmFtZSxkYXRhOmYodC5kYXRhLG8pfSl9ZWxzZSBpLnB1c2gocC5leHRlbmQoe3R5cGU6XCJzY2F0dGVyXCJ9LHQpKX0pLGUubWVyZ2VPcHRpb24ocC5kZWZhdWx0cyh7c2VyaWVzOml9LHQubmV3T3B0aW9uKSl9KSx0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dGhpcy5tb2RlbD10LHRoaXMuX2NvbnRyb2xsZXJHcm91cCx0aGlzLl9jb250cm9sbGVyLHRoaXMuX2lzWm9vbUFjdGl2ZX1mdW5jdGlvbiBvKHQsZSl7dmFyIGk9W3theGlzTW9kZWw6dC5nZXRBeGlzKFwieFwiKS5tb2RlbCxheGlzSW5kZXg6MH0se2F4aXNNb2RlbDp0LmdldEF4aXMoXCJ5XCIpLm1vZGVsLGF4aXNJbmRleDowfV07cmV0dXJuIGkuZ3JpZD10LGUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJkYXRhWm9vbVwiLHN1YlR5cGU6XCJzZWxlY3RcIn0sZnVuY3Rpb24odCxuKXthKFwieEF4aXNcIixpWzBdLmF4aXNNb2RlbCx0LGUpJiYoaVswXS5kYXRhWm9vbU1vZGVsPXQpLGEoXCJ5QXhpc1wiLGlbMV0uYXhpc01vZGVsLHQsZSkmJihpWzFdLmRhdGFab29tTW9kZWw9dCl9KSxpfWZ1bmN0aW9uIGEodCxlLGksbil7dmFyIG89aS5nZXQodCtcIkluZGV4XCIpO3JldHVybiBudWxsIT1vJiZuLmdldENvbXBvbmVudCh0LG8pPT09ZX1mdW5jdGlvbiByKHQsZSl7dmFyIGk9ZS5ncmlkLG49bmV3IGQodFswXVswXSx0WzFdWzBdLHRbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF0pO2lmKG4uaW50ZXJzZWN0KGkuZ2V0UmVjdCgpKSl7dmFyIG89aS5nZXRDYXJ0ZXNpYW4oZVswXS5heGlzSW5kZXgsZVsxXS5heGlzSW5kZXgpLGE9by5wb2ludFRvRGF0YShbdFswXVswXSx0WzFdWzBdXSwhMCkscj1vLnBvaW50VG9EYXRhKFt0WzBdWzFdLHRbMV1bMV1dLCEwKTtyZXR1cm5bdihbYVswXSxyWzBdXSksdihbYVsxXSxyWzFdXSldfX1mdW5jdGlvbiBzKHQsZSxpLG4pe3ZhciBvPWVbaV0sYT1vLmRhdGFab29tTW9kZWw7cmV0dXJuIGE/e2RhdGFab29tSWQ6YS5pZCxzdGFydFZhbHVlOnRbaV1bMF0sZW5kVmFsdWU6dFtpXVsxXX06dm9pZCAwfWZ1bmN0aW9uIGwodCxlKXt0LnNldEljb25TdGF0dXMoXCJiYWNrXCIscC5jb3VudChlKT4xP1wiZW1waGFzaXNcIjpcIm5vcm1hbFwiKX12YXIgaD1pKDEpLHU9aSg0KSxjPWkoMTYxKSxkPWkoOCksZj1pKDI3KSxwPWkoOTkpLGc9aSgxMDEpLG09aC5lYWNoLHY9dS5hc2M7aSgxNzcpO3ZhciB5PVwiXFx4MDBfZWNfXFx4MDB0b29sYm94LWRhdGFab29tX1wiO24uZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOnt6b29tOlwiTTAsMTMuNWgyNi45IE0xMy41LDI2LjlWMCBNMzIuMSwxMy41SDU4VjU4SDEzLjUgVjMyLjFcIixiYWNrOlwiTTIyLDEuNEw5LjksMTMuNWwxMi4zLDEyLjMgTTEwLjMsMTMuNUg1NC45djQ0LjYgSDEwLjN2LTI2XCJ9LHRpdGxlOnt6b29tOlwi5Yy65Z+f57yp5pS+XCIsYmFjazpcIuWMuuWfn+e8qeaUvui/mOWOn1wifX07dmFyIHg9bi5wcm90b3R5cGU7eC5yZW5kZXI9ZnVuY3Rpb24odCxlLGkpe2wodCxlKX0seC5vbmNsaWNrPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9jb250cm9sbGVyR3JvdXA7dGhpcy5fY29udHJvbGxlckdyb3VwfHwobj10aGlzLl9jb250cm9sbGVyR3JvdXA9bmV3IGYsZS5nZXRacigpLmFkZChuKSksX1tpXS5jYWxsKHRoaXMsbix0aGlzLm1vZGVsLHQsZSl9LHgucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZGlzcG9zZUNvbnRyb2xsZXIoKSxnLnJlbGVhc2UoXCJnbG9iYWxQYW5cIixlLmdldFpyKCkpfSx4LmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldFpyKCk7Zy5yZWxlYXNlKFwiZ2xvYmFsUGFuXCIsaSksdGhpcy5fZGlzcG9zZUNvbnRyb2xsZXIoKSx0aGlzLl9jb250cm9sbGVyR3JvdXAmJmkucmVtb3ZlKHRoaXMuX2NvbnRyb2xsZXJHcm91cCl9O3ZhciBfPXt6b29tOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuX2lzWm9vbUFjdGl2ZT0hdGhpcy5faXNab29tQWN0aXZlLGE9bi5nZXRacigpO2dbbz9cInRha2VcIjpcInJlbGVhc2VcIl0oXCJnbG9iYWxQYW5cIixhKSxlLnNldEljb25TdGF0dXMoXCJ6b29tXCIsbz9cImVtcGhhc2lzXCI6XCJub3JtYWxcIiksbz8oYS5zZXREZWZhdWx0Q3Vyc29yU3R5bGUoXCJjcm9zc2hhaXJcIiksdGhpcy5fY3JlYXRlQ29udHJvbGxlcih0LGUsaSxuKSk6KGEuc2V0RGVmYXVsdEN1cnNvclN0eWxlKFwiZGVmYXVsdFwiKSx0aGlzLl9kaXNwb3NlQ29udHJvbGxlcigpKX0sYmFjazpmdW5jdGlvbih0LGUsaSxuKXt0aGlzLl9kaXNwYXRjaEFjdGlvbihwLnBvcChpKSxuKX19O3guX2NyZWF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5fY29udHJvbGxlcj1uZXcgYyhcInJlY3RcIixuLmdldFpyKCkse2xpbmVXaWR0aDozLHN0cm9rZTpcIiMzMzNcIixmaWxsOlwicmdiYSgwLDAsMCwwLjIpXCJ9KTtvLm9uKFwic2VsZWN0RW5kXCIsaC5iaW5kKHRoaXMuX29uU2VsZWN0ZWQsdGhpcyxvLGUsaSxuKSksby5lbmFibGUodCwhMSl9LHguX2Rpc3Bvc2VDb250cm9sbGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udHJvbGxlcjt0JiYodC5vZmYoXCJzZWxlY3RlZFwiKSx0LmRpc3Bvc2UoKSl9LHguX29uU2VsZWN0ZWQ9ZnVuY3Rpb24odCxlLGksbixhKXtpZihhLmxlbmd0aCl7dmFyIGw9YVswXTt0LnVwZGF0ZSgpO3ZhciBoPXt9O2kuZWFjaENvbXBvbmVudChcImdyaWRcIixmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxhPW8obixpKSx1PXIobCxhKTtpZih1KXt2YXIgYz1zKHUsYSwwLFwieFwiKSxkPXModSxhLDEsXCJ5XCIpO2MmJihoW2MuZGF0YVpvb21JZF09YyksZCYmKGhbZC5kYXRhWm9vbUlkXT1kKX19LHRoaXMpLHAucHVzaChpLGgpLHRoaXMuX2Rpc3BhdGNoQWN0aW9uKGgsbil9fSx4Ll9kaXNwYXRjaEFjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO20odCxmdW5jdGlvbih0KXtpLnB1c2godCl9KSxpLmxlbmd0aCYmZS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImRhdGFab29tXCIsZnJvbTp0aGlzLnVpZCxiYXRjaDpoLmNsb25lKGksITApfSl9LGkoMjkpLnJlZ2lzdGVyKFwiZGF0YVpvb21cIixuKSxpKDIpLnJlZ2lzdGVyUHJlcHJvY2Vzc29yKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtpZihlKXt2YXIgbz10K1wiSW5kZXhcIixhPWVbb107bnVsbD09YXx8aC5pc0FycmF5KGEpfHwoYT1hPT09ITE/W106W2FdKSxpKHQsZnVuY3Rpb24oZSxpKXtpZihudWxsPT1hfHwtMSE9PWguaW5kZXhPZihhLGkpKXt2YXIgcj17dHlwZTpcInNlbGVjdFwiLCRmcm9tVG9vbGJveDohMCxpZDp5K3QraX07cltvXT1pLG4ucHVzaChyKX19KX19ZnVuY3Rpb24gaShlLGkpe3ZhciBuPXRbZV07aC5pc0FycmF5KG4pfHwobj1uP1tuXTpbXSksbShuLGkpfWlmKHQpe3ZhciBuPXQuZGF0YVpvb218fCh0LmRhdGFab29tPVtdKTtoLmlzQXJyYXkobil8fCh0LmRhdGFab29tPW49W25dKTt2YXIgbz10LnRvb2xib3g7aWYobyYmKGguaXNBcnJheShvKSYmKG89b1swXSksbyYmby5mZWF0dXJlKSl7dmFyIGE9by5mZWF0dXJlLmRhdGFab29tO2UoXCJ4QXhpc1wiLGEpLGUoXCJ5QXhpc1wiLGEpfX19KSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dGhpcy5tb2RlbD10fXZhciBvPWkoMSk7bi5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHR5cGU6W10saWNvbjp7bGluZTpcIk00LjEsMjguOWg3LjFsOS4zLTIybDcuNCwzOGw5LjctMTkuN2wzLDEyLjhoMTQuOU00LjEsNThoNTEuNFwiLGJhcjpcIk02LjcsMjIuOWgxMFY0OGgtMTBWMjIuOXpNMjQuOSwxM2gxMHYzNWgtMTBWMTN6TTQzLjIsMmgxMHY0NmgtMTBWMnpNMy4xLDU4aDUzLjdcIixzdGFjazpcIk04LjIsMzguNGwtOC40LDQuMWwzMC42LDE1LjNMNjAsNDIuNWwtOC4xLTQuMWwtMjEuNSwxMUw4LjIsMzguNHogTTUxLjksMzBsLTguMSw0LjJsLTEzLjQsNi45bC0xMy45LTYuOUw4LjIsMzBsLTguNCw0LjJsOC40LDQuMmwyMi4yLDExbDIxLjUtMTFsOC4xLTQuMkw1MS45LDMweiBNNTEuOSwyMS43bC04LjEsNC4yTDM1LjcsMzBsLTUuMywyLjhMMjQuOSwzMGwtOC40LTQuMWwtOC4zLTQuMmwtOC40LDQuMkw4LjIsMzBsOC4zLDQuMmwxMy45LDYuOWwxMy40LTYuOWw4LjEtNC4ybDguMS00LjFMNTEuOSwyMS43ek0zMC40LDIuMkwtMC4yLDE3LjVsOC40LDQuMWw4LjMsNC4ybDguNCw0LjJsNS41LDIuN2w1LjMtMi43bDguMS00LjJsOC4xLTQuMmw4LjEtNC4xTDMwLjQsMi4yelwiLHRpbGVkOlwiTTIuMywyLjJoMjIuOFYyNUgyLjNWMi4yeiBNMzUsMi4yaDIyLjhWMjVIMzVWMi4yek0yLjMsMzVoMjIuOHYyMi44SDIuM1YzNXogTTM1LDM1aDIyLjh2MjIuOEgzNVYzNXpcIn0sdGl0bGU6e2xpbmU6XCLliIfmjaLkuLrmipjnur/lm75cIixiYXI6XCLliIfmjaLkuLrmn7Hnirblm75cIixzdGFjazpcIuWIh+aNouS4uuWghuWPoFwiLHRpbGVkOlwi5YiH5o2i5Li65bmz6ZO6XCJ9LG9wdGlvbjp7fSxzZXJpZXNJbmRleDp7fX07dmFyIGE9bi5wcm90b3R5cGU7YS5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldChcImljb25cIiksaT17fTtyZXR1cm4gby5lYWNoKHQuZ2V0KFwidHlwZVwiKSxmdW5jdGlvbih0KXtlW3RdJiYoaVt0XT1lW3RdKX0pLGl9O3ZhciByPXtsaW5lOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVyblwiYmFyXCI9PT10P28ubWVyZ2Uoe2lkOmUsdHlwZTpcImxpbmVcIixkYXRhOmkuZ2V0KFwiZGF0YVwiKSxzdGFjazppLmdldChcInN0YWNrXCIpLG1hcmtQb2ludDppLmdldChcIm1hcmtQb2ludFwiKSxtYXJrTGluZTppLmdldChcIm1hcmtMaW5lXCIpfSxuLmdldChcIm9wdGlvbi5saW5lXCIpfHx7fSwhMCk6dm9pZCAwfSxiYXI6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuXCJsaW5lXCI9PT10P28ubWVyZ2Uoe2lkOmUsdHlwZTpcImJhclwiLGRhdGE6aS5nZXQoXCJkYXRhXCIpLFxuc3RhY2s6aS5nZXQoXCJzdGFja1wiKSxtYXJrUG9pbnQ6aS5nZXQoXCJtYXJrUG9pbnRcIiksbWFya0xpbmU6aS5nZXQoXCJtYXJrTGluZVwiKX0sbi5nZXQoXCJvcHRpb24uYmFyXCIpfHx7fSwhMCk6dm9pZCAwfSxzdGFjazpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm5cImxpbmVcIj09PXR8fFwiYmFyXCI9PT10P28ubWVyZ2Uoe2lkOmUsc3RhY2s6XCJfX2VjX21hZ2ljVHlwZV9zdGFja19fXCJ9LG4uZ2V0KFwib3B0aW9uLnN0YWNrXCIpfHx7fSwhMCk6dm9pZCAwfSx0aWxlZDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm5cImxpbmVcIj09PXR8fFwiYmFyXCI9PT10P28ubWVyZ2Uoe2lkOmUsc3RhY2s6XCJcIn0sbi5nZXQoXCJvcHRpb24udGlsZWRcIil8fHt9LCEwKTp2b2lkIDB9fSxzPVtbXCJsaW5lXCIsXCJiYXJcIl0sW1wic3RhY2tcIixcInRpbGVkXCJdXTthLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMubW9kZWwsYT1uLmdldChcInNlcmllc0luZGV4LlwiK2kpO2lmKHJbaV0pe3ZhciBsPXtzZXJpZXM6W119LGg9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdWJUeXBlLGE9dC5pZCxzPXJbaV0oZSxhLHQsbik7cyYmKG8uZGVmYXVsdHMocyx0Lm9wdGlvbiksbC5zZXJpZXMucHVzaChzKSk7dmFyIGg9dC5jb29yZGluYXRlU3lzdGVtO2lmKGgmJlwiY2FydGVzaWFuMmRcIj09PWgudHlwZSYmKFwibGluZVwiPT09aXx8XCJiYXJcIj09PWkpKXt2YXIgdT1oLmdldEF4ZXNCeVNjYWxlKFwib3JkaW5hbFwiKVswXTtpZih1KXt2YXIgYz11LmRpbSxkPXQuZ2V0KGMrXCJBeGlzSW5kZXhcIiksZj1jK1wiQXhpc1wiO2xbZl09bFtmXXx8W107Zm9yKHZhciBwPTA7ZD49cDtwKyspbFtmXVtkXT1sW2ZdW2RdfHx7fTtsW2ZdW2RdLmJvdW5kYXJ5R2FwPVwiYmFyXCI9PT1pfX19O28uZWFjaChzLGZ1bmN0aW9uKHQpe28uaW5kZXhPZih0LGkpPj0wJiZvLmVhY2godCxmdW5jdGlvbih0KXtuLnNldEljb25TdGF0dXModCxcIm5vcm1hbFwiKX0pfSksbi5zZXRJY29uU3RhdHVzKGksXCJlbXBoYXNpc1wiKSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIscXVlcnk6bnVsbD09YT9udWxsOntzZXJpZXNJbmRleDphfX0saCksZS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImNoYW5nZU1hZ2ljVHlwZVwiLGN1cnJlbnRUeXBlOmksbmV3T3B0aW9uOmx9KX19O3ZhciBsPWkoMik7bC5yZWdpc3RlckFjdGlvbih7dHlwZTpcImNoYW5nZU1hZ2ljVHlwZVwiLGV2ZW50OlwibWFnaWNUeXBlQ2hhbmdlZFwiLHVwZGF0ZTpcInByZXBhcmVBbmRVcGRhdGVcIn0sZnVuY3Rpb24odCxlKXtlLm1lcmdlT3B0aW9uKHQubmV3T3B0aW9uKX0pLGkoMjkpLnJlZ2lzdGVyKFwibWFnaWNUeXBlXCIsbiksdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3RoaXMubW9kZWw9dH12YXIgbz1pKDk5KTtuLmRlZmF1bHRPcHRpb249e3Nob3c6ITAsaWNvbjpcIk0zLjgsMzMuNCBNNDcsMTguOWg5LjhWOC43IE01Ni4zLDIwLjEgQzUyLjEsOSw0MC41LDAuNiwyNi44LDIuMUMxMi42LDMuNywxLjYsMTYuMiwyLjEsMzAuNiBNMTMsNDEuMUgzLjF2MTAuMiBNMy43LDM5LjljNC4yLDExLjEsMTUuOCwxOS41LDI5LjUsMTggYzE0LjItMS42LDI1LjItMTQuMSwyNC43LTI4LjVcIix0aXRsZTpcIui/mOWOn1wifTt2YXIgYT1uLnByb3RvdHlwZTthLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe28uY2xlYXIodCksZS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInJlc3RvcmVcIixmcm9tOnRoaXMudWlkfSl9LGkoMjkpLnJlZ2lzdGVyKFwicmVzdG9yZVwiLG4pLGkoMikucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJyZXN0b3JlXCIsZXZlbnQ6XCJyZXN0b3JlXCIsdXBkYXRlOlwicHJlcGFyZUFuZFVwZGF0ZVwifSxmdW5jdGlvbih0LGUpe2UucmVzZXRPcHRpb24oXCJyZWNyZWF0ZVwiKX0pLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXt0aGlzLm1vZGVsPXR9dmFyIG89aSgxNCk7bi5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLGljb246XCJNNC43LDIyLjlMMjkuMyw0NS41TDU0LjcsMjMuNE00LjYsNDMuNkw0LjYsNThMNTMuOCw1OEw1My44LDQzLjZNMjkuMiw0NS4xTDI5LjIsMFwiLHRpdGxlOlwi5L+d5a2Y5Li65Zu+54mHXCIsdHlwZTpcInBuZ1wiLG5hbWU6XCJcIixleGNsdWRlQ29tcG9uZW50czpbXCJ0b29sYm94XCJdLHBpeGVsUmF0aW86MSxsYW5nOltcIuWPs+mUruWPpuWtmOS4uuWbvueJh1wiXX0sbi5wcm90b3R5cGUudW51c2FibGU9IW8uY2FudmFzU3VwcG9ydGVkO3ZhciBhPW4ucHJvdG90eXBlO2Eub25jbGljaz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubW9kZWwsbj1pLmdldChcIm5hbWVcIil8fHQuZ2V0KFwidGl0bGUuMC50ZXh0XCIpfHxcImVjaGFydHNcIixvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLGE9aS5nZXQoXCJ0eXBlXCIsITApfHxcInBuZ1wiO28uZG93bmxvYWQ9bitcIi5cIithLG8udGFyZ2V0PVwiX2JsYW5rXCI7dmFyIHI9ZS5nZXRDb25uZWN0ZWREYXRhVVJMKHt0eXBlOmEsYmFja2dyb3VuZENvbG9yOmkuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIsITApfHx0LmdldChcImJhY2tncm91bmRDb2xvclwiKXx8XCIjZmZmXCIsZXhjbHVkZUNvbXBvbmVudHM6aS5nZXQoXCJleGNsdWRlQ29tcG9uZW50c1wiKSxwaXhlbFJhdGlvOmkuZ2V0KFwicGl4ZWxSYXRpb1wiKX0pO2lmKG8uaHJlZj1yLFwiZnVuY3Rpb25cIj09dHlwZW9mIE1vdXNlRXZlbnQpe3ZhciBzPW5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIix7dmlldzp3aW5kb3csYnViYmxlczohMCxjYW5jZWxhYmxlOiExfSk7by5kaXNwYXRjaEV2ZW50KHMpfWVsc2V7dmFyIGw9aS5nZXQoXCJsYW5nXCIpLGg9Jzxib2R5IHN0eWxlPVwibWFyZ2luOjA7XCI+PGltZyBzcmM9XCInK3IrJ1wiIHN0eWxlPVwibWF4LXdpZHRoOjEwMCU7XCIgdGl0bGU9XCInKyhsJiZsWzBdfHxcIlwiKSsnXCIgLz48L2JvZHk+Jyx1PXdpbmRvdy5vcGVuKCk7dS5kb2N1bWVudC53cml0ZShoKX19LGkoMjkpLnJlZ2lzdGVyKFwic2F2ZUFzSW1hZ2VcIixuKSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2koMjAwKSxpKDIwMSksaSgyKS5yZWdpc3RlckFjdGlvbih7dHlwZTpcInNob3dUaXBcIixldmVudDpcInNob3dUaXBcIix1cGRhdGU6XCJub25lXCJ9LGZ1bmN0aW9uKCl7fSksaSgyKS5yZWdpc3RlckFjdGlvbih7dHlwZTpcImhpZGVUaXBcIixldmVudDpcImhpZGVUaXBcIix1cGRhdGU6XCJub25lXCJ9LGZ1bmN0aW9uKCl7fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPVwiY3ViaWMtYmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpXCIsaT1cImxlZnQgXCIrdCtcInMgXCIrZStcIix0b3AgXCIrdCtcInMgXCIrZTtyZXR1cm4gbC5tYXAoZyxmdW5jdGlvbih0KXtyZXR1cm4gdCtcInRyYW5zaXRpb246XCIraX0pLmpvaW4oXCI7XCIpfWZ1bmN0aW9uIG8odCl7dmFyIGU9W10saT10LmdldChcImZvbnRTaXplXCIpLG49dC5nZXRUZXh0Q29sb3IoKTtyZXR1cm4gbiYmZS5wdXNoKFwiY29sb3I6XCIrbiksZS5wdXNoKFwiZm9udDpcIit0LmdldEZvbnQoKSksaSYmZS5wdXNoKFwibGluZS1oZWlnaHQ6XCIrTWF0aC5yb3VuZCgzKmkvMikrXCJweFwiKSxkKFtcImRlY29yYXRpb25cIixcImFsaWduXCJdLGZ1bmN0aW9uKGkpe3ZhciBuPXQuZ2V0KGkpO24mJmUucHVzaChcInRleHQtXCIraStcIjpcIituKX0pLGUuam9pbihcIjtcIil9ZnVuY3Rpb24gYSh0KXt0PXQ7dmFyIGU9W10saT10LmdldChcInRyYW5zaXRpb25EdXJhdGlvblwiKSxhPXQuZ2V0KFwiYmFja2dyb3VuZENvbG9yXCIpLHI9dC5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxzPXQuZ2V0KFwicGFkZGluZ1wiKTtyZXR1cm4gaSYmZS5wdXNoKG4oaSkpLGEmJihwLmNhbnZhc1N1cHBvcnRlZD9lLnB1c2goXCJiYWNrZ3JvdW5kLUNvbG9yOlwiK2EpOihlLnB1c2goXCJiYWNrZ3JvdW5kLUNvbG9yOiNcIitoLnRvSGV4KGEpKSxlLnB1c2goXCJmaWx0ZXI6YWxwaGEob3BhY2l0eT03MClcIikpKSxkKFtcIndpZHRoXCIsXCJjb2xvclwiLFwicmFkaXVzXCJdLGZ1bmN0aW9uKGkpe3ZhciBuPVwiYm9yZGVyLVwiK2ksbz1mKG4pLGE9dC5nZXQobyk7bnVsbCE9YSYmZS5wdXNoKG4rXCI6XCIrYSsoXCJjb2xvclwiPT09aT9cIlwiOlwicHhcIikpfSksZS5wdXNoKG8ocikpLG51bGwhPXMmJmUucHVzaChcInBhZGRpbmc6XCIrYy5ub3JtYWxpemVDc3NBcnJheShzKS5qb2luKFwicHggXCIpK1wicHhcIiksZS5qb2luKFwiO1wiKStcIjtcIn1mdW5jdGlvbiByKHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuPWUuZ2V0WnIoKTt0aGlzLmVsPWksdGhpcy5feD1lLmdldFdpZHRoKCkvMix0aGlzLl95PWUuZ2V0SGVpZ2h0KCkvMix0LmFwcGVuZENoaWxkKGkpLHRoaXMuX2NvbnRhaW5lcj10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ7dmFyIG89dGhpcztpLm9ubW91c2VlbnRlcj1mdW5jdGlvbigpe28uZW50ZXJhYmxlJiYoY2xlYXJUaW1lb3V0KG8uX2hpZGVUaW1lb3V0KSxvLl9zaG93PSEwKSxvLl9pbkNvbnRlbnQ9ITB9LGkub25tb3VzZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIW8uZW50ZXJhYmxlKXt2YXIgaT1uLmhhbmRsZXI7dS5ub3JtYWxpemVFdmVudCh0LGUpLGkuZGlzcGF0Y2goXCJtb3VzZW1vdmVcIixlKX19LGkub25tb3VzZWxlYXZlPWZ1bmN0aW9uKCl7by5lbnRlcmFibGUmJm8uX3Nob3cmJm8uaGlkZUxhdGVyKG8uX2hpZGVEZWxheSksby5faW5Db250ZW50PSExfSxzKGksdCl9ZnVuY3Rpb24gcyh0LGUpe2Z1bmN0aW9uIGkodCl7bih0LnRhcmdldCkmJnQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBuKGkpe2Zvcig7aSYmaSE9PWU7KXtpZihpPT09dClyZXR1cm4hMDtpPWkucGFyZW50Tm9kZX19dS5hZGRFdmVudExpc3RlbmVyKGUsXCJ0b3VjaHN0YXJ0XCIsaSksdS5hZGRFdmVudExpc3RlbmVyKGUsXCJ0b3VjaG1vdmVcIixpKSx1LmFkZEV2ZW50TGlzdGVuZXIoZSxcInRvdWNoZW5kXCIsaSl9dmFyIGw9aSgxKSxoPWkoMjIpLHU9aSgzNCksYz1pKDkpLGQ9bC5lYWNoLGY9Yy50b0NhbWVsQ2FzZSxwPWkoMTQpLGc9W1wiXCIsXCItd2Via2l0LVwiLFwiLW1vei1cIixcIi1vLVwiXSxtPVwicG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6OTk5OTk5OTtcIjtyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cixlbnRlcmFibGU6ITAsdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyLGU9dC5jdXJyZW50U3R5bGV8fGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCksaT10LnN0eWxlO1wiYWJzb2x1dGVcIiE9PWkucG9zaXRpb24mJlwiYWJzb2x1dGVcIiE9PWUucG9zaXRpb24mJihpLnBvc2l0aW9uPVwicmVsYXRpdmVcIil9LHNob3c6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KSx0aGlzLmVsLnN0eWxlLmNzc1RleHQ9bSthKHQpK1wiO2xlZnQ6XCIrdGhpcy5feCtcInB4O3RvcDpcIit0aGlzLl95K1wicHg7XCIrKHQuZ2V0KFwiZXh0cmFDc3NUZXh0XCIpfHxcIlwiKSx0aGlzLl9zaG93PSEwfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWw7ZS5pbm5lckhUTUw9dCxlLnN0eWxlLmRpc3BsYXk9dD9cImJsb2NrXCI6XCJub25lXCJ9LG1vdmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZWwuc3R5bGU7aS5sZWZ0PXQrXCJweFwiLGkudG9wPWUrXCJweFwiLHRoaXMuX3g9dCx0aGlzLl95PWV9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fc2hvdz0hMX0saGlkZUxhdGVyOmZ1bmN0aW9uKHQpeyF0aGlzLl9zaG93fHx0aGlzLl9pbkNvbnRlbnQmJnRoaXMuZW50ZXJhYmxlfHwodD8odGhpcy5faGlkZURlbGF5PXQsdGhpcy5fc2hvdz0hMSx0aGlzLl9oaWRlVGltZW91dD1zZXRUaW1lb3V0KGwuYmluZCh0aGlzLmhpZGUsdGhpcyksdCkpOnRoaXMuaGlkZSgpKX0saXNTaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3d9fSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe2koMikuZXh0ZW5kQ29tcG9uZW50TW9kZWwoe3R5cGU6XCJ0b29sdGlwXCIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo4LHNob3c6ITAsc2hvd0NvbnRlbnQ6ITAsdHJpZ2dlcjpcIml0ZW1cIix0cmlnZ2VyT246XCJtb3VzZW1vdmVcIixhbHdheXNTaG93Q29udGVudDohMSxzaG93RGVsYXk6MCxoaWRlRGVsYXk6MTAwLHRyYW5zaXRpb25EdXJhdGlvbjouNCxlbnRlcmFibGU6ITEsYmFja2dyb3VuZENvbG9yOlwicmdiYSg1MCw1MCw1MCwwLjcpXCIsYm9yZGVyQ29sb3I6XCIjMzMzXCIsYm9yZGVyUmFkaXVzOjQsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsZXh0cmFDc3NUZXh0OlwiXCIsYXhpc1BvaW50ZXI6e3R5cGU6XCJsaW5lXCIsYXhpczpcImF1dG9cIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6MjAwLGFuaW1hdGlvbkVhc2luZ1VwZGF0ZTpcImV4cG9uZW50aWFsT3V0XCIsbGluZVN0eWxlOntjb2xvcjpcIiM1NTVcIix3aWR0aDoxLHR5cGU6XCJzb2xpZFwifSxjcm9zc1N0eWxlOntjb2xvcjpcIiM1NTVcIix3aWR0aDoxLHR5cGU6XCJkYXNoZWRcIix0ZXh0U3R5bGU6e319LHNoYWRvd1N0eWxlOntjb2xvcjpcInJnYmEoMTUwLDE1MCwxNTAsMC4zKVwifX0sdGV4dFN0eWxlOntjb2xvcjpcIiNmZmZcIixmb250U2l6ZToxNH19fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7aWYoIXR8fCFlKXJldHVybiExO3ZhciBpPWcucm91bmQ7cmV0dXJuIGkodFswXSk9PT1pKGVbMF0pJiZpKHRbMV0pPT09aShlWzFdKX1mdW5jdGlvbiBvKHQsZSxpLG4pe3JldHVybnt4MTp0LHkxOmUseDI6aSx5MjpufX1mdW5jdGlvbiBhKHQsZSxpLG4pe3JldHVybnt4OnQseTplLHdpZHRoOmksaGVpZ2h0Om59fWZ1bmN0aW9uIHIodCxlLGksbixvLGEpe3JldHVybntjeDp0LGN5OmUscjA6aSxyOm4sc3RhcnRBbmdsZTpvLGVuZEFuZ2xlOmEsY2xvY2t3aXNlOiEwfX1mdW5jdGlvbiBzKHQsZSxpLG4sbyl7dmFyIGE9aS5jbGllbnRXaWR0aCxyPWkuY2xpZW50SGVpZ2h0LHM9MjA7cmV0dXJuIHQrYStzPm4/dC09YStzOnQrPXMsZStyK3M+bz9lLT1yK3M6ZSs9cyxbdCxlXX1mdW5jdGlvbiBsKHQsZSxpKXt2YXIgbj1pLmNsaWVudFdpZHRoLG89aS5jbGllbnRIZWlnaHQsYT01LHI9MCxzPTAsbD1lLndpZHRoLGg9ZS5oZWlnaHQ7c3dpdGNoKHQpe2Nhc2VcImluc2lkZVwiOnI9ZS54K2wvMi1uLzIscz1lLnkraC8yLW8vMjticmVhaztjYXNlXCJ0b3BcIjpyPWUueCtsLzItbi8yLHM9ZS55LW8tYTticmVhaztjYXNlXCJib3R0b21cIjpyPWUueCtsLzItbi8yLHM9ZS55K2grYTticmVhaztjYXNlXCJsZWZ0XCI6cj1lLngtbi1hLHM9ZS55K2gvMi1vLzI7YnJlYWs7Y2FzZVwicmlnaHRcIjpyPWUueCtsK2Escz1lLnkraC8yLW8vMn1yZXR1cm5bcixzXX1mdW5jdGlvbiBoKHQsZSxpLG4sbyxhLHIpe3ZhciBoPXIuZ2V0V2lkdGgoKSx1PXIuZ2V0SGVpZ2h0KCksYz1hJiZhLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7aWYoYSYmYy5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHQ9dChbZSxpXSxvLG4uZWwsYykpLGYuaXNBcnJheSh0KSllPW0odFswXSxoKSxpPW0odFsxXSx1KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZhKXt2YXIgZD1sKHQsYyxuLmVsKTtlPWRbMF0saT1kWzFdfWVsc2V7dmFyIGQ9cyhlLGksbi5lbCxoLHUpO2U9ZFswXSxpPWRbMV19bi5tb3ZlVG8oZSxpKX1mdW5jdGlvbiB1KHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXQuZ2V0KFwidG9vbHRpcC50cmlnZ2VyXCIsITApO3JldHVybiEoIWV8fFwiY2FydGVzaWFuMmRcIiE9PWUudHlwZSYmXCJwb2xhclwiIT09ZS50eXBlJiZcInNpbmdsZVwiIT09ZS50eXBlfHxcIml0ZW1cIj09PWkpfXZhciBjPWkoMTk5KSxkPWkoMyksZj1pKDEpLHA9aSg5KSxnPWkoNCksbT1nLnBhcnNlUGVyY2VudCx2PWkoMTQpO2koMikuZXh0ZW5kQ29tcG9uZW50Vmlldyh7dHlwZTpcInRvb2x0aXBcIixfYXhpc1BvaW50ZXJzOnt9LGluaXQ6ZnVuY3Rpb24odCxlKXtpZighdi5ub2RlKXt2YXIgaT1uZXcgYyhlLmdldERvbSgpLGUpO3RoaXMuX3Rvb2x0aXBDb250ZW50PWksZS5vbihcInNob3dUaXBcIix0aGlzLl9tYW51YWxseVNob3dUaXAsdGhpcyksZS5vbihcImhpZGVUaXBcIix0aGlzLl9tYW51YWxseUhpZGVUaXAsdGhpcyl9fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2lmKCF2Lm5vZGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fYXhpc1BvaW50ZXJzPXt9LHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9aSx0aGlzLl9sYXN0SG92ZXI9e307dmFyIG49dGhpcy5fdG9vbHRpcENvbnRlbnQ7bi51cGRhdGUoKSxuLmVudGVyYWJsZT10LmdldChcImVudGVyYWJsZVwiKSx0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldChcImFsd2F5c1Nob3dDb250ZW50XCIpLHRoaXMuX3Nlcmllc0dyb3VwQnlBeGlzPXRoaXMuX3ByZXBhcmVBeGlzVHJpZ2dlckRhdGEodCxlKTt2YXIgbz10aGlzLl9jcm9zc1RleHQ7aWYobyYmdGhpcy5ncm91cC5hZGQobyksbnVsbCE9dGhpcy5fbGFzdFgmJm51bGwhPXRoaXMuX2xhc3RZKXt2YXIgYT10aGlzO2NsZWFyVGltZW91dCh0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dCksdGhpcy5fcmVmcmVzaFVwZGF0ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EuX21hbnVhbGx5U2hvd1RpcCh7eDphLl9sYXN0WCx5OmEuX2xhc3RZfSl9KX12YXIgcj10aGlzLl9hcGkuZ2V0WnIoKTtyLm9mZihcImNsaWNrXCIsdGhpcy5fdHJ5U2hvdyksci5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9tb3VzZW1vdmUpLHIub2ZmKFwibW91c2VvdXRcIix0aGlzLl9oaWRlKSxyLm9mZihcImdsb2JhbG91dFwiLHRoaXMuX2hpZGUpLFwiY2xpY2tcIj09PXQuZ2V0KFwidHJpZ2dlck9uXCIpP3Iub24oXCJjbGlja1wiLHRoaXMuX3RyeVNob3csdGhpcyk6KHIub24oXCJtb3VzZW1vdmVcIix0aGlzLl9tb3VzZW1vdmUsdGhpcyksci5vbihcIm1vdXNlb3V0XCIsdGhpcy5faGlkZSx0aGlzKSxyLm9uKFwiZ2xvYmFsb3V0XCIsdGhpcy5faGlkZSx0aGlzKSl9fSxfbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Rvb2x0aXBNb2RlbC5nZXQoXCJzaG93RGVsYXlcIiksaT10aGlzO2NsZWFyVGltZW91dCh0aGlzLl9zaG93VGltZW91dCksZT4wP3RoaXMuX3Nob3dUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLl90cnlTaG93KHQpfSxlKTp0aGlzLl90cnlTaG93KHQpfSxfbWFudWFsbHlTaG93VGlwOmZ1bmN0aW9uKHQpe2lmKHQuZnJvbSE9PXRoaXMudWlkKXt2YXIgZT10aGlzLl9lY01vZGVsLGk9dC5zZXJpZXNJbmRleCxuPXQuZGF0YUluZGV4LG89ZS5nZXRTZXJpZXNCeUluZGV4KGkpLGE9dGhpcy5fYXBpO2lmKG51bGw9PXQueHx8bnVsbD09dC55KXtpZihvfHxlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dSh0KSYmIW8mJihvPXQpfSksbyl7dmFyIHI9by5nZXREYXRhKCk7bnVsbD09biYmKG49ci5pbmRleE9mTmFtZSh0Lm5hbWUpKTt2YXIgcyxsLGg9ci5nZXRJdGVtR3JhcGhpY0VsKG4pLGM9by5jb29yZGluYXRlU3lzdGVtO2lmKGMmJmMuZGF0YVRvUG9pbnQpe3ZhciBkPWMuZGF0YVRvUG9pbnQoci5nZXRWYWx1ZXMoZi5tYXAoYy5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3JldHVybiBvLmNvb3JkRGltVG9EYXRhRGltKHQpWzBdfSksbiwhMCkpO3M9ZCYmZFswXSxsPWQmJmRbMV19ZWxzZSBpZihoKXt2YXIgcD1oLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cC5hcHBseVRyYW5zZm9ybShoLnRyYW5zZm9ybSkscz1wLngrcC53aWR0aC8yLGw9cC55K3AuaGVpZ2h0LzJ9bnVsbCE9cyYmbnVsbCE9bCYmdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpzLG9mZnNldFk6bCx0YXJnZXQ6aCxldmVudDp7fX0pfX1lbHNle3ZhciBoPWEuZ2V0WnIoKS5oYW5kbGVyLmZpbmRIb3Zlcih0LngsdC55KTt0aGlzLl90cnlTaG93KHtvZmZzZXRYOnQueCxvZmZzZXRZOnQueSx0YXJnZXQ6aCxldmVudDp7fX0pfX19LF9tYW51YWxseUhpZGVUaXA6ZnVuY3Rpb24odCl7dC5mcm9tIT09dGhpcy51aWQmJnRoaXMuX2hpZGUoKX0sX3ByZXBhcmVBeGlzVHJpZ2dlckRhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT17fTtyZXR1cm4gZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKHUodCkpe3ZhciBlLG4sbz10LmNvb3JkaW5hdGVTeXN0ZW07XCJjYXJ0ZXNpYW4yZFwiPT09by50eXBlPyhlPW8uZ2V0QmFzZUF4aXMoKSxuPWUuZGltK2UuaW5kZXgpOlwic2luZ2xlXCI9PT1vLnR5cGU/KGU9by5nZXRBeGlzKCksbj1lLmRpbStlLnR5cGUpOihlPW8uZ2V0QmFzZUF4aXMoKSxuPWUuZGltK28ubmFtZSksaVtuXT1pW25dfHx7Y29vcmRTeXM6W10sc2VyaWVzOltdfSxpW25dLmNvb3JkU3lzLnB1c2gobyksaVtuXS5zZXJpZXMucHVzaCh0KX19LHRoaXMpLGl9LF90cnlTaG93OmZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LGk9dGhpcy5fdG9vbHRpcE1vZGVsLG49aS5nZXQoXCJ0cmlnZ2VyXCIpLG89dGhpcy5fZWNNb2RlbCxhPXRoaXMuX2FwaTtpZihpKWlmKHRoaXMuX2xhc3RYPXQub2Zmc2V0WCx0aGlzLl9sYXN0WT10Lm9mZnNldFksZSYmbnVsbCE9ZS5kYXRhSW5kZXgpe3ZhciByPWUuZGF0YU1vZGVsfHxvLmdldFNlcmllc0J5SW5kZXgoZS5zZXJpZXNJbmRleCkscz1lLmRhdGFJbmRleCxsPXIuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbChzKTtcImF4aXNcIj09PShsLmdldChcInRvb2x0aXAudHJpZ2dlclwiKXx8bik/dGhpcy5fc2hvd0F4aXNUb29sdGlwKGksbyx0KToodGhpcy5fdGlja2V0PVwiXCIsdGhpcy5faGlkZUF4aXNQb2ludGVyKCksdGhpcy5fcmVzZXRMYXN0SG92ZXIoKSx0aGlzLl9zaG93SXRlbVRvb2x0aXBDb250ZW50KHIscyxlLmRhdGFUeXBlLHQpKSxhLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwic2hvd1RpcFwiLGZyb206dGhpcy51aWQsZGF0YUluZGV4OmUuZGF0YUluZGV4LHNlcmllc0luZGV4OmUuc2VyaWVzSW5kZXh9KX1lbHNlXCJpdGVtXCI9PT1uP3RoaXMuX2hpZGUoKTp0aGlzLl9zaG93QXhpc1Rvb2x0aXAoaSxvLHQpLFwiY3Jvc3NcIj09PWkuZ2V0KFwiYXhpc1BvaW50ZXIudHlwZVwiKSYmYS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInNob3dUaXBcIixmcm9tOnRoaXMudWlkLHg6dC5vZmZzZXRYLHk6dC5vZmZzZXRZfSl9LF9zaG93QXhpc1Rvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXQuZ2V0TW9kZWwoXCJheGlzUG9pbnRlclwiKSxhPW8uZ2V0KFwidHlwZVwiKTtpZihcImNyb3NzXCI9PT1hKXt2YXIgcj1pLnRhcmdldDtpZihyJiZudWxsIT1yLmRhdGFJbmRleCl7dmFyIHM9ZS5nZXRTZXJpZXNCeUluZGV4KHIuc2VyaWVzSW5kZXgpLGw9ci5kYXRhSW5kZXg7dGhpcy5fc2hvd0l0ZW1Ub29sdGlwQ29udGVudChzLGwsci5kYXRhVHlwZSxpKX19dGhpcy5fc2hvd0F4aXNQb2ludGVyKCk7dmFyIGg9ITA7Zi5lYWNoKHRoaXMuX3Nlcmllc0dyb3VwQnlBeGlzLGZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRTeXMscj1lWzBdLHM9W2kub2Zmc2V0WCxpLm9mZnNldFldO2lmKCFyLmNvbnRhaW5Qb2ludChzKSlyZXR1cm4gdm9pZCB0aGlzLl9oaWRlQXhpc1BvaW50ZXIoci5uYW1lKTtoPSExO3ZhciBsPXIuZGltZW5zaW9ucyx1PXIucG9pbnRUb0RhdGEocywhMCk7cz1yLmRhdGFUb1BvaW50KHUpO3ZhciBjPXIuZ2V0QmFzZUF4aXMoKSxkPW8uZ2V0KFwiYXhpc1wiKTtcImF1dG9cIj09PWQmJihkPWMuZGltKTt2YXIgcD0hMSxnPXRoaXMuX2xhc3RIb3ZlcjtpZihcImNyb3NzXCI9PT1hKW4oZy5kYXRhLHUpJiYocD0hMCksZy5kYXRhPXU7ZWxzZXt2YXIgbT1mLmluZGV4T2YobCxkKTtnLmRhdGE9PT11W21dJiYocD0hMCksZy5kYXRhPXVbbV19XCJjYXJ0ZXNpYW4yZFwiIT09ci50eXBlfHxwP1wicG9sYXJcIiE9PXIudHlwZXx8cD9cInNpbmdsZVwiIT09ci50eXBlfHxwfHx0aGlzLl9zaG93U2luZ2xlUG9pbnRlcihvLHIsZCxzKTp0aGlzLl9zaG93UG9sYXJQb2ludGVyKG8scixkLHMpOnRoaXMuX3Nob3dDYXJ0ZXNpYW5Qb2ludGVyKG8scixkLHMpLFwiY3Jvc3NcIiE9PWEmJnRoaXMuX2Rpc3BhdGNoQW5kU2hvd1Nlcmllc1Rvb2x0aXBDb250ZW50KHIsdC5zZXJpZXMscyx1LHApfSx0aGlzKSx0aGlzLl90b29sdGlwTW9kZWwuZ2V0KFwic2hvd1wiKXx8dGhpcy5faGlkZUF4aXNQb2ludGVyKCksaCYmdGhpcy5faGlkZSgpfSxfc2hvd0NhcnRlc2lhblBvaW50ZXI6ZnVuY3Rpb24odCxlLGksbil7ZnVuY3Rpb24gcihpLG4sYSl7dmFyIHI9XCJ4XCI9PT1pP28oblswXSxhWzBdLG5bMF0sYVsxXSk6byhhWzBdLG5bMV0sYVsxXSxuWzFdKSxzPWwuX2dldFBvaW50ZXJFbGVtZW50KGUsdCxpLHIpO3U/ZC51cGRhdGVQcm9wcyhzLHtzaGFwZTpyfSx0KTpzLmF0dHIoe3NoYXBlOnJ9KX1mdW5jdGlvbiBzKGksbixvKXt2YXIgcj1lLmdldEF4aXMoaSkscz1yLmdldEJhbmRXaWR0aCgpLGg9b1sxXS1vWzBdLGM9XCJ4XCI9PT1pP2EoblswXS1zLzIsb1swXSxzLGgpOmEob1swXSxuWzFdLXMvMixoLHMpLGY9bC5fZ2V0UG9pbnRlckVsZW1lbnQoZSx0LGksYyk7dT9kLnVwZGF0ZVByb3BzKGYse3NoYXBlOmN9LHQpOmYuYXR0cih7c2hhcGU6Y30pfXZhciBsPXRoaXMsaD10LmdldChcInR5cGVcIiksdT1cImNyb3NzXCIhPT1oO2lmKFwiY3Jvc3NcIj09PWgpcihcInhcIixuLGUuZ2V0QXhpcyhcInlcIikuZ2V0R2xvYmFsRXh0ZW50KCkpLHIoXCJ5XCIsbixlLmdldEF4aXMoXCJ4XCIpLmdldEdsb2JhbEV4dGVudCgpKSx0aGlzLl91cGRhdGVDcm9zc1RleHQoZSxuLHQpO2Vsc2V7dmFyIGM9ZS5nZXRBeGlzKFwieFwiPT09aT9cInlcIjpcInhcIiksZj1jLmdldEdsb2JhbEV4dGVudCgpO1wiY2FydGVzaWFuMmRcIj09PWUudHlwZSYmKFwibGluZVwiPT09aD9yOnMpKGksbixmKX19LF9zaG93U2luZ2xlUG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBhKGksbixhKXt2YXIgcz1lLmdldEF4aXMoKSxoPXMub3JpZW50LHU9XCJob3Jpem9udGFsXCI9PT1oP28oblswXSxhWzBdLG5bMF0sYVsxXSk6byhhWzBdLG5bMV0sYVsxXSxuWzFdKSxjPXIuX2dldFBvaW50ZXJFbGVtZW50KGUsdCxpLHUpO2w/ZC51cGRhdGVQcm9wcyhjLHtzaGFwZTp1fSx0KTpjLmF0dHIoe3NoYXBlOnV9KX12YXIgcj10aGlzLHM9dC5nZXQoXCJ0eXBlXCIpLGw9XCJjcm9zc1wiIT09cyxoPWUuZ2V0UmVjdCgpLHU9W2gueSxoLnkraC5oZWlnaHRdO2EoaSxuLHUpfSxfc2hvd1BvbGFyUG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBhKGksbixhKXt2YXIgcixzPWUucG9pbnRUb0Nvb3JkKG4pO2lmKFwiYW5nbGVcIj09PWkpe3ZhciBoPWUuY29vcmRUb1BvaW50KFthWzBdLHNbMV1dKSx1PWUuY29vcmRUb1BvaW50KFthWzFdLHNbMV1dKTtyPW8oaFswXSxoWzFdLHVbMF0sdVsxXSl9ZWxzZSByPXtjeDplLmN4LGN5OmUuY3kscjpzWzBdfTt2YXIgYz1sLl9nZXRQb2ludGVyRWxlbWVudChlLHQsaSxyKTtmP2QudXBkYXRlUHJvcHMoYyx7c2hhcGU6cn0sdCk6Yy5hdHRyKHtzaGFwZTpyfSl9ZnVuY3Rpb24gcyhpLG4sbyl7dmFyIGEscz1lLmdldEF4aXMoaSksaD1zLmdldEJhbmRXaWR0aCgpLHU9ZS5wb2ludFRvQ29vcmQobiksYz1NYXRoLlBJLzE4MDthPVwiYW5nbGVcIj09PWk/cihlLmN4LGUuY3ksb1swXSxvWzFdLCgtdVsxXS1oLzIpKmMsKC11WzFdK2gvMikqYyk6cihlLmN4LGUuY3ksdVswXS1oLzIsdVswXStoLzIsMCwyKk1hdGguUEkpO3ZhciBwPWwuX2dldFBvaW50ZXJFbGVtZW50KGUsdCxpLGEpO2Y/ZC51cGRhdGVQcm9wcyhwLHtzaGFwZTphfSx0KTpwLmF0dHIoe3NoYXBlOmF9KX12YXIgbD10aGlzLGg9dC5nZXQoXCJ0eXBlXCIpLHU9ZS5nZXRBbmdsZUF4aXMoKSxjPWUuZ2V0UmFkaXVzQXhpcygpLGY9XCJjcm9zc1wiIT09aDtpZihcImNyb3NzXCI9PT1oKWEoXCJhbmdsZVwiLG4sYy5nZXRFeHRlbnQoKSksYShcInJhZGl1c1wiLG4sdS5nZXRFeHRlbnQoKSksdGhpcy5fdXBkYXRlQ3Jvc3NUZXh0KGUsbix0KTtlbHNle3ZhciBwPWUuZ2V0QXhpcyhcInJhZGl1c1wiPT09aT9cImFuZ2xlXCI6XCJyYWRpdXNcIiksZz1wLmdldEV4dGVudCgpOyhcImxpbmVcIj09PWg/YTpzKShpLG4sZyl9fSxfdXBkYXRlQ3Jvc3NUZXh0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pLmdldE1vZGVsKFwiY3Jvc3NTdHlsZVwiKSxvPW4uZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIiksYT10aGlzLl90b29sdGlwTW9kZWwscj10aGlzLl9jcm9zc1RleHQ7cnx8KHI9dGhpcy5fY3Jvc3NUZXh0PW5ldyBkLlRleHQoe3N0eWxlOnt0ZXh0QWxpZ246XCJsZWZ0XCIsdGV4dFZlcnRpY2FsQWxpZ246XCJib3R0b21cIn19KSx0aGlzLmdyb3VwLmFkZChyKSk7dmFyIHM9dC5wb2ludFRvRGF0YShlKSxsPXQuZGltZW5zaW9ucztzPWYubWFwKHMsZnVuY3Rpb24oZSxpKXt2YXIgbj10LmdldEF4aXMobFtpXSk7cmV0dXJuIGU9XCJjYXRlZ29yeVwiPT09bi50eXBlfHxcInRpbWVcIj09PW4udHlwZT9uLnNjYWxlLmdldExhYmVsKGUpOnAuYWRkQ29tbWFzKGUudG9GaXhlZChuLmdldFBpeGVsUHJlY2lzaW9uKCkpKX0pLHIuc2V0U3R5bGUoe2ZpbGw6by5nZXRUZXh0Q29sb3IoKXx8bi5nZXQoXCJjb2xvclwiKSx0ZXh0Rm9udDpvLmdldEZvbnQoKSx0ZXh0OnMuam9pbihcIiwgXCIpLHg6ZVswXSs1LHk6ZVsxXS01fSksci56PWEuZ2V0KFwielwiKSxyLnpsZXZlbD1hLmdldChcInpsZXZlbFwiKX0sX2dldFBvaW50ZXJFbGVtZW50OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuX3Rvb2x0aXBNb2RlbCxhPW8uZ2V0KFwielwiKSxyPW8uZ2V0KFwiemxldmVsXCIpLHM9dGhpcy5fYXhpc1BvaW50ZXJzLGw9dC5uYW1lO2lmKHNbbF09c1tsXXx8e30sc1tsXVtpXSlyZXR1cm4gc1tsXVtpXTt2YXIgaD1lLmdldChcInR5cGVcIiksdT1lLmdldE1vZGVsKGgrXCJTdHlsZVwiKSxjPVwic2hhZG93XCI9PT1oLGY9dVtjP1wiZ2V0QXJlYVN0eWxlXCI6XCJnZXRMaW5lU3R5bGVcIl0oKSxwPVwicG9sYXJcIj09PXQudHlwZT9jP1wiU2VjdG9yXCI6XCJyYWRpdXNcIj09PWk/XCJDaXJjbGVcIjpcIkxpbmVcIjpjP1wiUmVjdFwiOlwiTGluZVwiO2M/Zi5zdHJva2U9bnVsbDpmLmZpbGw9bnVsbDt2YXIgZz1zW2xdW2ldPW5ldyBkW3BdKHtzdHlsZTpmLHo6YSx6bGV2ZWw6cixzaWxlbnQ6ITAsc2hhcGU6bn0pO3JldHVybiB0aGlzLmdyb3VwLmFkZChnKSxnfSxfZGlzcGF0Y2hBbmRTaG93U2VyaWVzVG9vbHRpcENvbnRlbnQ6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT10aGlzLl90b29sdGlwTW9kZWwscj10aGlzLl90b29sdGlwQ29udGVudCxzPXQuZ2V0QmFzZUF4aXMoKSxsPWYubWFwKGUsZnVuY3Rpb24odCl7cmV0dXJue3Nlcmllc0luZGV4OnQuc2VyaWVzSW5kZXgsZGF0YUluZGV4OnQuZ2V0QXhpc1Rvb2x0aXBEYXRhSW5kZXg/dC5nZXRBeGlzVG9vbHRpcERhdGFJbmRleCh0LmNvb3JkRGltVG9EYXRhRGltKHMuZGltKSxuLHMpOnQuZ2V0RGF0YSgpLmluZGV4T2ZOZWFyZXN0KHQuY29vcmREaW1Ub0RhdGFEaW0ocy5kaW0pWzBdLG5bXCJ4XCI9PT1zLmRpbXx8XCJyYWRpdXNcIj09PXMuZGltPzA6MV0pfX0pLHU9dGhpcy5fbGFzdEhvdmVyLGM9dGhpcy5fYXBpO2lmKHUucGF5bG9hZEJhdGNoJiYhbyYmYy5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImRvd25wbGF5XCIsYmF0Y2g6dS5wYXlsb2FkQmF0Y2h9KSxvfHwoYy5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImhpZ2hsaWdodFwiLGJhdGNoOmx9KSx1LnBheWxvYWRCYXRjaD1sKSxjLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwic2hvd1RpcFwiLGRhdGFJbmRleDpsWzBdLmRhdGFJbmRleCxzZXJpZXNJbmRleDpsWzBdLnNlcmllc0luZGV4LGZyb206dGhpcy51aWR9KSxzJiZhLmdldChcInNob3dDb250ZW50XCIpJiZhLmdldChcInNob3dcIikpe3ZhciBkLGc9YS5nZXQoXCJmb3JtYXR0ZXJcIiksbT1hLmdldChcInBvc2l0aW9uXCIpLHY9Zi5tYXAoZSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldERhdGFQYXJhbXMobFtlXS5kYXRhSW5kZXgpfSk7ci5zaG93KGEpO3ZhciB5PWxbMF0uZGF0YUluZGV4O2lmKCFvKXtpZih0aGlzLl90aWNrZXQ9XCJcIixnKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZylkPXAuZm9ybWF0VHBsKGcsdik7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBnKXt2YXIgeD10aGlzLF89XCJheGlzX1wiK3QubmFtZStcIl9cIit5LGI9ZnVuY3Rpb24odCxlKXt0PT09eC5fdGlja2V0JiYoci5zZXRDb250ZW50KGUpLGgobSxpWzBdLGlbMV0scix2LG51bGwsYykpfTt4Ll90aWNrZXQ9XyxkPWcodixfLGIpfX1lbHNle3ZhciB3PWVbMF0uZ2V0RGF0YSgpLmdldE5hbWUoeSk7ZD0odz93K1wiPGJyIC8+XCI6XCJcIikrZi5tYXAoZSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmZvcm1hdFRvb2x0aXAobFtlXS5kYXRhSW5kZXgsITApfSkuam9pbihcIjxiciAvPlwiKX1yLnNldENvbnRlbnQoZCl9aChtLGlbMF0saVsxXSxyLHYsbnVsbCxjKX19LF9zaG93SXRlbVRvb2x0aXBDb250ZW50OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuX2FwaSxhPXQuZ2V0RGF0YShpKSxyPWEuZ2V0SXRlbU1vZGVsKGUpLHM9dGhpcy5fdG9vbHRpcE1vZGVsLGw9dGhpcy5fdG9vbHRpcENvbnRlbnQsdT1yLmdldE1vZGVsKFwidG9vbHRpcFwiKTtpZih1LnBhcmVudE1vZGVsP3UucGFyZW50TW9kZWwucGFyZW50TW9kZWw9czp1LnBhcmVudE1vZGVsPXRoaXMuX3Rvb2x0aXBNb2RlbCx1LmdldChcInNob3dDb250ZW50XCIpJiZ1LmdldChcInNob3dcIikpe3ZhciBjLGQ9dS5nZXQoXCJmb3JtYXR0ZXJcIiksZj11LmdldChcInBvc2l0aW9uXCIpLGc9dC5nZXREYXRhUGFyYW1zKGUsaSk7aWYoZCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGQpYz1wLmZvcm1hdFRwbChkLGcpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZCl7dmFyIG09dGhpcyx2PVwiaXRlbV9cIit0Lm5hbWUrXCJfXCIrZSx5PWZ1bmN0aW9uKHQsZSl7dD09PW0uX3RpY2tldCYmKGwuc2V0Q29udGVudChlKSxoKGYsbi5vZmZzZXRYLG4ub2Zmc2V0WSxsLGcsbi50YXJnZXQsbykpfTttLl90aWNrZXQ9dixjPWQoZyx2LHkpfX1lbHNlIGM9dC5mb3JtYXRUb29sdGlwKGUsITEsaSk7bC5zaG93KHUpLGwuc2V0Q29udGVudChjKSxoKGYsbi5vZmZzZXRYLG4ub2Zmc2V0WSxsLGcsbi50YXJnZXQsbyl9fSxfc2hvd0F4aXNQb2ludGVyOmZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMuX2F4aXNQb2ludGVyc1t0XTtlJiZmLmVhY2goZSxmdW5jdGlvbih0KXt0LnNob3coKX0pfWVsc2UgdGhpcy5ncm91cC5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7dC5zaG93KCl9KSx0aGlzLmdyb3VwLnNob3coKX0sX3Jlc2V0TGFzdEhvdmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGFzdEhvdmVyO3QucGF5bG9hZEJhdGNoJiZ0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJkb3ducGxheVwiLGJhdGNoOnQucGF5bG9hZEJhdGNofSksdGhpcy5fbGFzdEhvdmVyPXt9fSxfaGlkZUF4aXNQb2ludGVyOmZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMuX2F4aXNQb2ludGVyc1t0XTtlJiZmLmVhY2goZSxmdW5jdGlvbih0KXt0LmhpZGUoKX0pfWVsc2UgdGhpcy5ncm91cC5oaWRlKCl9LF9oaWRlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3Nob3dUaW1lb3V0KSx0aGlzLl9oaWRlQXhpc1BvaW50ZXIoKSx0aGlzLl9yZXNldExhc3RIb3ZlcigpLHRoaXMuX2Fsd2F5c1Nob3dDb250ZW50fHx0aGlzLl90b29sdGlwQ29udGVudC5oaWRlTGF0ZXIodGhpcy5fdG9vbHRpcE1vZGVsLmdldChcImhpZGVEZWxheVwiKSksdGhpcy5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiaGlkZVRpcFwiLGZyb206dGhpcy51aWR9KSx0aGlzLl9sYXN0WD10aGlzLl9sYXN0WT1udWxsfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7aWYoIXYubm9kZSl7dmFyIGk9ZS5nZXRacigpO3RoaXMuX3Rvb2x0aXBDb250ZW50LmhpZGUoKSxpLm9mZihcImNsaWNrXCIsdGhpcy5fdHJ5U2hvdyksaS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9tb3VzZW1vdmUpLGkub2ZmKFwibW91c2VvdXRcIix0aGlzLl9oaWRlKSxpLm9mZihcImdsb2JhbG91dFwiLHRoaXMuX2hpZGUpLGUub2ZmKFwic2hvd1RpcFwiLHRoaXMuX21hbnVhbGx5U2hvd1RpcCksZS5vZmYoXCJoaWRlVGlwXCIsdGhpcy5fbWFudWFsbHlIaWRlVGlwKX19fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9dC5nZXQoXCJjZW50ZXJcIiksbj10LmdldChcInJhZGl1c1wiKSxvPWUuZ2V0V2lkdGgoKSxhPWUuZ2V0SGVpZ2h0KCkscj1zLnBhcnNlUGVyY2VudDt0aGlzLmN4PXIoaVswXSxvKSx0aGlzLmN5PXIoaVsxXSxhKTt2YXIgbD10aGlzLmdldFJhZGl1c0F4aXMoKSxoPU1hdGgubWluKG8sYSkvMjtsLnNldEV4dGVudCgwLHIobixoKSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBpPXRoaXMsbj1pLmdldEFuZ2xlQXhpcygpLG89aS5nZXRSYWRpdXNBeGlzKCk7aWYobi5zY2FsZS5zZXRFeHRlbnQoMS8wLC0oMS8wKSksby5zY2FsZS5zZXRFeHRlbnQoMS8wLC0oMS8wKSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKHQuY29vcmRpbmF0ZVN5c3RlbT09PWkpe3ZhciBlPXQuZ2V0RGF0YSgpO28uc2NhbGUudW5pb25FeHRlbnQoZS5nZXREYXRhRXh0ZW50KFwicmFkaXVzXCIsXCJjYXRlZ29yeVwiIT09by50eXBlKSksbi5zY2FsZS51bmlvbkV4dGVudChlLmdldERhdGFFeHRlbnQoXCJhbmdsZVwiLFwiY2F0ZWdvcnlcIiE9PW4udHlwZSkpfX0pLGgobixuLm1vZGVsKSxoKG8sby5tb2RlbCksXCJjYXRlZ29yeVwiPT09bi50eXBlJiYhbi5vbkJhbmQpe3ZhciBhPW4uZ2V0RXh0ZW50KCkscj0zNjAvbi5zY2FsZS5jb3VudCgpO24uaW52ZXJzZT9hWzFdKz1yOmFbMV0tPXIsbi5zZXRFeHRlbnQoYVswXSxhWzFdKX19ZnVuY3Rpb24gYSh0LGUpe2lmKHQudHlwZT1lLmdldChcInR5cGVcIiksdC5zY2FsZT1sLmNyZWF0ZVNjYWxlQnlNb2RlbChlKSx0Lm9uQmFuZD1lLmdldChcImJvdW5kYXJ5R2FwXCIpJiZcImNhdGVnb3J5XCI9PT10LnR5cGUsXCJhbmdsZUF4aXNcIj09PWUubWFpblR5cGUpe3ZhciBpPWUuZ2V0KFwic3RhcnRBbmdsZVwiKTt0LmludmVyc2U9ZS5nZXQoXCJpbnZlcnNlXCIpXmUuZ2V0KFwiY2xvY2t3aXNlXCIpLHQuc2V0RXh0ZW50KGksaSsodC5pbnZlcnNlPy0zNjA6MzYwKSl9ZS5heGlzPXQsdC5tb2RlbD1lfXZhciByPWkoMzQxKSxzPWkoNCksbD1pKDI0KSxoPWwubmljZVNjYWxlRXh0ZW50O2koMzQyKTt2YXIgdT17ZGltZW5zaW9uczpyLnByb3RvdHlwZS5kaW1lbnNpb25zLGNyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoXCJwb2xhclwiLGZ1bmN0aW9uKHQscyl7dmFyIGw9bmV3IHIocyk7bC5yZXNpemU9bixsLnVwZGF0ZT1vO3ZhciBoPWwuZ2V0UmFkaXVzQXhpcygpLHU9bC5nZXRBbmdsZUF4aXMoKSxjPXQuZmluZEF4aXNNb2RlbChcInJhZGl1c0F4aXNcIiksZD10LmZpbmRBeGlzTW9kZWwoXCJhbmdsZUF4aXNcIik7YShoLGMpLGEodSxkKSxsLnJlc2l6ZSh0LGUpLGkucHVzaChsKSx0LmNvb3JkaW5hdGVTeXN0ZW09bH0pLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0KXtcInBvbGFyXCI9PT10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIikmJih0LmNvb3JkaW5hdGVTeXN0ZW09aVt0LmdldChcInBvbGFySW5kZXhcIildKX0pLGl9fTtpKDIzKS5yZWdpc3RlcihcInBvbGFyXCIsdSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe2g9ITEsci5sZW5ndGg/bD1yLmNvbmNhdChsKTp1PS0xLGwubGVuZ3RoJiZuKCl9ZnVuY3Rpb24gbigpe2lmKCFoKXt2YXIgdD1zZXRUaW1lb3V0KGkpO2g9ITA7Zm9yKHZhciBlPWwubGVuZ3RoO2U7KXtmb3Iocj1sLGw9W107Kyt1PGU7KXImJnJbdV0ucnVuKCk7dT0tMSxlPWwubGVuZ3RofXI9bnVsbCxoPSExLGNsZWFyVGltZW91dCh0KX19ZnVuY3Rpb24gbyh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIGEoKXt9dmFyIHIscz10LmV4cG9ydHM9e30sbD1bXSxoPSExLHU9LTE7cy5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyllW2ktMV09YXJndW1lbnRzW2ldO2wucHVzaChuZXcgbyh0LGUpKSwxIT09bC5sZW5ndGh8fGh8fHNldFRpbWVvdXQobiwwKX0sby5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0scy50aXRsZT1cImJyb3dzZXJcIixzLmJyb3dzZXI9ITAscy5lbnY9e30scy5hcmd2PVtdLHMudmVyc2lvbj1cIlwiLHMudmVyc2lvbnM9e30scy5vbj1hLHMuYWRkTGlzdGVuZXI9YSxzLm9uY2U9YSxzLm9mZj1hLHMucmVtb3ZlTGlzdGVuZXI9YSxzLnJlbW92ZUFsbExpc3RlbmVycz1hLHMuZW1pdD1hLHMuYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0scy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0scy5jaGRpcj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHMudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiBwYXJzZUludCh0LDEwKX1mdW5jdGlvbiBvKHQsZSl7cy5pbml0Vk1MKCksdGhpcy5yb290PXQsdGhpcy5zdG9yYWdlPWU7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZS5jc3NUZXh0PVwiZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjMwMHB4O2hlaWdodDoxNTBweDtcIixuLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7XCIsdC5hcHBlbmRDaGlsZChpKSx0aGlzLl92bWxSb290PW4sdGhpcy5fdm1sVmlld3BvcnQ9aSx0aGlzLnJlc2l6ZSgpO3ZhciBvPWUuZGVsRnJvbU1hcCxhPWUuYWRkVG9NYXA7ZS5kZWxGcm9tTWFwPWZ1bmN0aW9uKHQpe3ZhciBpPWUuZ2V0KHQpO28uY2FsbChlLHQpLGkmJmkub25SZW1vdmUmJmkub25SZW1vdmUobil9LGUuYWRkVG9NYXA9ZnVuY3Rpb24odCl7dC5vbkFkZCYmdC5vbkFkZChuKSxhLmNhbGwoZSx0KX0sdGhpcy5fZmlyc3RQYWludD0hMH1mdW5jdGlvbiBhKHQpe3JldHVybiBmdW5jdGlvbigpe3IoJ0luIElFOC4wIFZNTCBtb2RlIHBhaW50ZXIgbm90IHN1cHBvcnQgbWV0aG9kIFwiJyt0KydcIicpfX12YXIgcj1pKDQ1KSxzPWkoMTU4KTtvLnByb3RvdHlwZT17Y29uc3RydWN0b3I6byxnZXRWaWV3cG9ydFJvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm1sVmlld3BvcnR9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoITAsITApO3RoaXMuX3BhaW50TGlzdCh0KX0sX3BhaW50TGlzdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fdm1sUm9vdCxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5pbnZpc2libGV8fG4uaWdub3JlPyhuLl9fYWxyZWFkeU5vdFZpc2libGV8fG4ub25SZW1vdmUoZSksbi5fX2FscmVhZHlOb3RWaXNpYmxlPSEwKToobi5fX2FscmVhZHlOb3RWaXNpYmxlJiZuLm9uQWRkKGUpLG4uX19hbHJlYWR5Tm90VmlzaWJsZT0hMSxuLl9fZGlydHkmJihuLmJlZm9yZUJydXNoJiZuLmJlZm9yZUJydXNoKCksKG4uYnJ1c2hWTUx8fG4uYnJ1c2gpLmNhbGwobixlKSxuLmFmdGVyQnJ1c2gmJm4uYWZ0ZXJCcnVzaCgpKSksbi5fX2RpcnR5PSExfXRoaXMuX2ZpcnN0UGFpbnQmJih0aGlzLl92bWxWaWV3cG9ydC5hcHBlbmRDaGlsZChlKSx0aGlzLl9maXJzdFBhaW50PSExKX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0V2lkdGgoKSxlPXRoaXMuX2dldEhlaWdodCgpO2lmKHRoaXMuX3dpZHRoIT10JiZ0aGlzLl9oZWlnaHQhPWUpe3RoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWU7dmFyIGk9dGhpcy5fdm1sVmlld3BvcnQuc3R5bGU7aS53aWR0aD10K1wicHhcIixpLmhlaWdodD1lK1wicHhcIn19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPVwiXCIsdGhpcy5fdm1sUm9vdD10aGlzLl92bWxWaWV3cG9ydD10aGlzLnN0b3JhZ2U9bnVsbH0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LF9nZXRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucm9vdCxlPXQuY3VycmVudFN0eWxlO3JldHVybih0LmNsaWVudFdpZHRofHxuKGUud2lkdGgpKS1uKGUucGFkZGluZ0xlZnQpLW4oZS5wYWRkaW5nUmlnaHQpfDB9LF9nZXRIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QsZT10LmN1cnJlbnRTdHlsZTtyZXR1cm4odC5jbGllbnRIZWlnaHR8fG4oZS5oZWlnaHQpKS1uKGUucGFkZGluZ1RvcCktbihlLnBhZGRpbmdCb3R0b20pfDB9fTtmb3IodmFyIGw9W1wiZ2V0TGF5ZXJcIixcImluc2VydExheWVyXCIsXCJlYWNoTGF5ZXJcIixcImVhY2hCdWlsZGluTGF5ZXJcIixcImVhY2hPdGhlckxheWVyXCIsXCJnZXRMYXllcnNcIixcIm1vZExheWVyXCIsXCJkZWxMYXllclwiLFwiY2xlYXJMYXllclwiLFwidG9EYXRhVVJMXCIsXCJwYXRoVG9JbWFnZVwiXSxoPTA7aDxsLmxlbmd0aDtoKyspe3ZhciB1PWxbaF07by5wcm90b3R5cGVbdV09YSh1KX10LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2lmKCFpKDE0KS5jYW52YXNTdXBwb3J0ZWQpe3ZhciBuPWkoNSksbz1pKDgpLGE9aSgyOCkuQ01ELHI9aSgyMikscz1pKDE4KSxsPWkoNjcpLGg9aSgzNyksdT1pKDQ2KSxjPWkoNjYpLGQ9aSg2KSxmPWkoMTcpLHA9aSgxNTgpLGc9TWF0aC5yb3VuZCxtPU1hdGguc3FydCx2PU1hdGguYWJzLHk9TWF0aC5jb3MseD1NYXRoLnNpbixfPU1hdGgubWF4LGI9bi5hcHBseVRyYW5zZm9ybSx3PVwiLFwiLFM9XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnRcIixNPTIxNjAwLEE9TS8yLEk9MWU1LFQ9MWUzLEw9ZnVuY3Rpb24odCl7dC5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjFweDtoZWlnaHQ6MXB4O1wiLHQuY29vcmRzaXplPU0rXCIsXCIrTSx0LmNvb3Jkb3JpZ2luPVwiMCwwXCJ9LEM9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpfSxEPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm5cInJnYihcIitbdCxlLGldLmpvaW4oXCIsXCIpK1wiKVwifSxQPWZ1bmN0aW9uKHQsZSl7ZSYmdCYmZS5wYXJlbnROb2RlIT09dCYmdC5hcHBlbmRDaGlsZChlKX0saz1mdW5jdGlvbih0LGUpe2UmJnQmJmUucGFyZW50Tm9kZT09PXQmJnQucmVtb3ZlQ2hpbGQoZSl9LHo9ZnVuY3Rpb24odCxlLGkpe3JldHVybihwYXJzZUZsb2F0KHQpfHwwKSpJKyhwYXJzZUZsb2F0KGUpfHwwKSpUK2l9LEU9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90Lmxhc3RJbmRleE9mKFwiJVwiKT49MD9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6dH0sTz1mdW5jdGlvbih0LGUsaSl7dmFyIG49ci5wYXJzZShlKTtpPStpLGlzTmFOKGkpJiYoaT0xKSxuJiYodC5jb2xvcj1EKG5bMF0sblsxXSxuWzJdKSx0Lm9wYWNpdHk9aSpuWzNdKX0sUj1mdW5jdGlvbih0KXt2YXIgZT1yLnBhcnNlKHQpO3JldHVybltEKGVbMF0sZVsxXSxlWzJdKSxlWzNdXX0sVj1mdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5maWxsO2lmKG51bGwhPW4paWYobiBpbnN0YW5jZW9mIGYpe3ZhciBvLGE9MCxyPVswLDBdLHM9MCxsPTEsaD1pLmdldEJvdW5kaW5nUmVjdCgpLHU9aC53aWR0aCxjPWguaGVpZ2h0O2lmKFwibGluZWFyXCI9PT1uLnR5cGUpe289XCJncmFkaWVudFwiO3ZhciBkPWkudHJhbnNmb3JtLHA9W24ueCp1LG4ueSpjXSxnPVtuLngyKnUsbi55MipjXTtkJiYoYihwLHAsZCksYihnLGcsZCkpO3ZhciBtPWdbMF0tcFswXSx2PWdbMV0tcFsxXTthPTE4MCpNYXRoLmF0YW4yKG0sdikvTWF0aC5QSSwwPmEmJihhKz0zNjApLDFlLTY+YSYmKGE9MCl9ZWxzZXtvPVwiZ3JhZGllbnRyYWRpYWxcIjt2YXIgcD1bbi54KnUsbi55KmNdLGQ9aS50cmFuc2Zvcm0seT1pLnNjYWxlLHg9dSx3PWM7cj1bKHBbMF0taC54KS94LChwWzFdLWgueSkvd10sZCYmYihwLHAsZCkseC89eVswXSpNLHcvPXlbMV0qTTt2YXIgUz1fKHgsdyk7cz0wL1MsbD0yKm4uci9TLXN9dmFyIEE9bi5jb2xvclN0b3BzLnNsaWNlKCk7QS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub2Zmc2V0LWUub2Zmc2V0fSk7Zm9yKHZhciBJPUEubGVuZ3RoLFQ9W10sTD1bXSxDPTA7ST5DO0MrKyl7dmFyIEQ9QVtDXSxQPVIoRC5jb2xvcik7TC5wdXNoKEQub2Zmc2V0KmwrcytcIiBcIitQWzBdKSwwIT09QyYmQyE9PUktMXx8VC5wdXNoKFApfWlmKEk+PTIpe3ZhciBrPVRbMF1bMF0sej1UWzFdWzBdLEU9VFswXVsxXSplLm9wYWNpdHksVj1UWzFdWzFdKmUub3BhY2l0eTt0LnR5cGU9byx0Lm1ldGhvZD1cIm5vbmVcIix0LmZvY3VzPVwiMTAwJVwiLHQuYW5nbGU9YSx0LmNvbG9yPWssdC5jb2xvcjI9eix0LmNvbG9ycz1MLmpvaW4oXCIsXCIpLHQub3BhY2l0eT1WLHQub3BhY2l0eTI9RX1cInJhZGlhbFwiPT09byYmKHQuZm9jdXNwb3NpdGlvbj1yLmpvaW4oXCIsXCIpKX1lbHNlIE8odCxuLGUub3BhY2l0eSl9LE49ZnVuY3Rpb24odCxlKXtudWxsIT1lLmxpbmVKb2luJiYodC5qb2luc3R5bGU9ZS5saW5lSm9pbiksbnVsbCE9ZS5taXRlckxpbWl0JiYodC5taXRlcmxpbWl0PWUubWl0ZXJMaW1pdCpNKSxudWxsIT1lLmxpbmVDYXAmJih0LmVuZGNhcD1lLmxpbmVDYXApLG51bGwhPWUubGluZURhc2gmJih0LmRhc2hzdHlsZT1lLmxpbmVEYXNoLmpvaW4oXCIgXCIpKSxudWxsPT1lLnN0cm9rZXx8ZS5zdHJva2UgaW5zdGFuY2VvZiBmfHxPKHQsZS5zdHJva2UsZS5vcGFjaXR5KX0sQj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1cImZpbGxcIj09ZSxhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSlbMF07bnVsbCE9aVtlXSYmXCJub25lXCIhPT1pW2VdJiYob3x8IW8mJmkubGluZVdpZHRoKT8odFtvP1wiZmlsbGVkXCI6XCJzdHJva2VkXCJdPVwidHJ1ZVwiLGlbZV1pbnN0YW5jZW9mIGYmJmsodCxhKSxhfHwoYT1wLmNyZWF0ZU5vZGUoZSkpLG8/VihhLGksbik6TihhLGkpLFAodCxhKSk6KHRbbz9cImZpbGxlZFwiOlwic3Ryb2tlZFwiXT1cImZhbHNlXCIsayh0LGEpKX0sRz1bW10sW10sW11dLEY9ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8scixzLGwsaD1hLk0sdT1hLkMsYz1hLkwsZD1hLkEsZj1hLlEscD1bXTtmb3Iocj0wO3I8dC5sZW5ndGg7KXtzd2l0Y2gobz10W3IrK10sbj1cIlwiLGk9MCxvKXtjYXNlIGg6bj1cIiBtIFwiLGk9MSxzPXRbcisrXSxsPXRbcisrXSxHWzBdWzBdPXMsR1swXVsxXT1sO2JyZWFrO2Nhc2UgYzpuPVwiIGwgXCIsaT0xLHM9dFtyKytdLGw9dFtyKytdLEdbMF1bMF09cyxHWzBdWzFdPWw7YnJlYWs7Y2FzZSBmOmNhc2UgdTpuPVwiIGMgXCIsaT0zO3ZhciB2LF8sUz10W3IrK10sST10W3IrK10sVD10W3IrK10sTD10W3IrK107bz09PWY/KHY9VCxfPUwsVD0oVCsyKlMpLzMsTD0oTCsyKkkpLzMsUz0ocysyKlMpLzMsST0obCsyKkkpLzMpOih2PXRbcisrXSxfPXRbcisrXSksR1swXVswXT1TLEdbMF1bMV09SSxHWzFdWzBdPVQsR1sxXVsxXT1MLEdbMl1bMF09dixHWzJdWzFdPV8scz12LGw9XzticmVhaztjYXNlIGQ6dmFyIEM9MCxEPTAsUD0xLGs9MSx6PTA7ZSYmKEM9ZVs0XSxEPWVbNV0sUD1tKGVbMF0qZVswXStlWzFdKmVbMV0pLGs9bShlWzJdKmVbMl0rZVszXSplWzNdKSx6PU1hdGguYXRhbjIoLWVbMV0vayxlWzBdL1ApKTt2YXIgRT10W3IrK10sTz10W3IrK10sUj10W3IrK10sVj10W3IrK10sTj10W3IrK10reixCPXRbcisrXStOK3o7cisrO3ZhciBGPXRbcisrXSxIPUUreShOKSpSLFc9Tyt4KE4pKlYsUz1FK3koQikqUixJPU8reChCKSpWLFo9Rj9cIiB3YSBcIjpcIiBhdCBcIjtNYXRoLmFicyhILVMpPDFlLTEwJiYoTWF0aC5hYnMoQi1OKT4uMDE/RiYmKEgrPTI3MC9NKTpNYXRoLmFicyhXLU8pPDFlLTEwP0YmJkU+SHx8IUYmJkg+RT9JLT0yNzAvTTpJKz0yNzAvTTpGJiZPPld8fCFGJiZXPk8/Uys9MjcwL006Uy09MjcwL00pLHAucHVzaChaLGcoKChFLVIpKlArQykqTS1BKSx3LGcoKChPLVYpKmsrRCkqTS1BKSx3LGcoKChFK1IpKlArQykqTS1BKSx3LGcoKChPK1YpKmsrRCkqTS1BKSx3LGcoKEgqUCtDKSpNLUEpLHcsZygoVyprK0QpKk0tQSksdyxnKChTKlArQykqTS1BKSx3LGcoKEkqaytEKSpNLUEpKSxzPVMsbD1JO2JyZWFrO2Nhc2UgYS5SOnZhciBxPUdbMF0saj1HWzFdO3FbMF09dFtyKytdLHFbMV09dFtyKytdLGpbMF09cVswXSt0W3IrK10salsxXT1xWzFdK3RbcisrXSxlJiYoYihxLHEsZSksYihqLGosZSkpLHFbMF09ZyhxWzBdKk0tQSksalswXT1nKGpbMF0qTS1BKSxxWzFdPWcocVsxXSpNLUEpLGpbMV09ZyhqWzFdKk0tQSkscC5wdXNoKFwiIG0gXCIscVswXSx3LHFbMV0sXCIgbCBcIixqWzBdLHcscVsxXSxcIiBsIFwiLGpbMF0sdyxqWzFdLFwiIGwgXCIscVswXSx3LGpbMV0pO2JyZWFrO2Nhc2UgYS5aOnAucHVzaChcIiB4IFwiKX1pZihpPjApe3AucHVzaChuKTtmb3IodmFyIFU9MDtpPlU7VSsrKXt2YXIgWD1HW1VdO2UmJmIoWCxYLGUpLHAucHVzaChnKFhbMF0qTS1BKSx3LGcoWFsxXSpNLUEpLGktMT5VP3c6XCJcIil9fX1yZXR1cm4gcC5qb2luKFwiXCIpfTtkLnByb3RvdHlwZS5icnVzaFZNTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0eWxlLGk9dGhpcy5fdm1sRWw7aXx8KGk9cC5jcmVhdGVOb2RlKFwic2hhcGVcIiksTChpKSx0aGlzLl92bWxFbD1pKSxCKGksXCJmaWxsXCIsZSx0aGlzKSxCKGksXCJzdHJva2VcIixlLHRoaXMpO3ZhciBuPXRoaXMudHJhbnNmb3JtLG89bnVsbCE9bixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF07aWYoYSl7dmFyIHI9ZS5saW5lV2lkdGg7aWYobyYmIWUuc3Ryb2tlTm9TY2FsZSl7dmFyIHM9blswXSpuWzNdLW5bMV0qblsyXTtyKj1tKHYocykpfWEud2VpZ2h0PXIrXCJweFwifXZhciBsPXRoaXMucGF0aDt0aGlzLl9fZGlydHlQYXRoJiYobC5iZWdpblBhdGgoKSx0aGlzLmJ1aWxkUGF0aChsLHRoaXMuc2hhcGUpLGwudG9TdGF0aWMoKSx0aGlzLl9fZGlydHlQYXRoPSExKSxpLnBhdGg9RihsLmRhdGEsdGhpcy50cmFuc2Zvcm0pLGkuc3R5bGUuekluZGV4PXoodGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLFAodCxpKSxlLnRleHQ/dGhpcy5kcmF3UmVjdFRleHQodCx0aGlzLmdldEJvdW5kaW5nUmVjdCgpKTp0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxkLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXtrKHQsdGhpcy5fdm1sRWwpLHRoaXMucmVtb3ZlUmVjdFRleHQodCl9LGQucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe1AodCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07dmFyIEg9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJnQudGFnTmFtZSYmXCJJTUdcIj09PXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpfTt1LnByb3RvdHlwZS5icnVzaFZNTD1mdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcy5zdHlsZSxvPW4uaW1hZ2U7aWYoSChvKSl7dmFyIGE9by5zcmM7aWYoYT09PXRoaXMuX2ltYWdlU3JjKWU9dGhpcy5faW1hZ2VXaWR0aCxpPXRoaXMuX2ltYWdlSGVpZ2h0O2Vsc2V7dmFyIHI9by5ydW50aW1lU3R5bGUscz1yLndpZHRoLGw9ci5oZWlnaHQ7ci53aWR0aD1cImF1dG9cIixyLmhlaWdodD1cImF1dG9cIixlPW8ud2lkdGgsaT1vLmhlaWdodCxyLndpZHRoPXMsci5oZWlnaHQ9bCx0aGlzLl9pbWFnZVNyYz1hLHRoaXMuX2ltYWdlV2lkdGg9ZSx0aGlzLl9pbWFnZUhlaWdodD1pfW89YX1lbHNlIG89PT10aGlzLl9pbWFnZVNyYyYmKGU9dGhpcy5faW1hZ2VXaWR0aCxpPXRoaXMuX2ltYWdlSGVpZ2h0KTtpZihvKXt2YXIgaD1uLnh8fDAsdT1uLnl8fDAsYz1uLndpZHRoLGQ9bi5oZWlnaHQsZj1uLnNXaWR0aCx2PW4uc0hlaWdodCx5PW4uc3h8fDAseD1uLnN5fHwwLE09ZiYmdixBPXRoaXMuX3ZtbEVsO0F8fChBPXAuZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksTChBKSx0aGlzLl92bWxFbD1BKTt2YXIgSSxUPUEuc3R5bGUsQz0hMSxEPTEsaz0xO2lmKHRoaXMudHJhbnNmb3JtJiYoST10aGlzLnRyYW5zZm9ybSxEPW0oSVswXSpJWzBdK0lbMV0qSVsxXSksaz1tKElbMl0qSVsyXStJWzNdKklbM10pLEM9SVsxXXx8SVsyXSksQyl7dmFyIEU9W2gsdV0sTz1baCtjLHVdLFI9W2gsdStkXSxWPVtoK2MsdStkXTtiKEUsRSxJKSxiKE8sTyxJKSxiKFIsUixJKSxiKFYsVixJKTt2YXIgTj1fKEVbMF0sT1swXSxSWzBdLFZbMF0pLEI9XyhFWzFdLE9bMV0sUlsxXSxWWzFdKSxHPVtdO0cucHVzaChcIk0xMT1cIixJWzBdL0QsdyxcIk0xMj1cIixJWzJdL2ssdyxcIk0yMT1cIixJWzFdL0QsdyxcIk0yMj1cIixJWzNdL2ssdyxcIkR4PVwiLGcoaCpEK0lbNF0pLHcsXCJEeT1cIixnKHUqaytJWzVdKSksVC5wYWRkaW5nPVwiMCBcIitnKE4pK1wicHggXCIrZyhCKStcInB4IDBcIixULmZpbHRlcj1TK1wiLk1hdHJpeChcIitHLmpvaW4oXCJcIikrXCIsIFNpemluZ01ldGhvZD1jbGlwKVwifWVsc2UgSSYmKGg9aCpEK0lbNF0sdT11KmsrSVs1XSksVC5maWx0ZXI9XCJcIixULmxlZnQ9ZyhoKStcInB4XCIsVC50b3A9Zyh1KStcInB4XCI7dmFyIEY9dGhpcy5faW1hZ2VFbCxXPXRoaXMuX2Nyb3BFbDtGfHwoRj1wLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX2ltYWdlRWw9Rik7dmFyIFo9Ri5zdHlsZTtpZihNKXtpZihlJiZpKVoud2lkdGg9ZyhEKmUqYy9mKStcInB4XCIsWi5oZWlnaHQ9ZyhrKmkqZC92KStcInB4XCI7ZWxzZXt2YXIgcT1uZXcgSW1hZ2Usaj10aGlzO3Eub25sb2FkPWZ1bmN0aW9uKCl7cS5vbmxvYWQ9bnVsbCxlPXEud2lkdGgsaT1xLmhlaWdodCxaLndpZHRoPWcoRCplKmMvZikrXCJweFwiLFouaGVpZ2h0PWcoayppKmQvdikrXCJweFwiLGouX2ltYWdlV2lkdGg9ZSxqLl9pbWFnZUhlaWdodD1pLGouX2ltYWdlU3JjPW99LHEuc3JjPW99V3x8KFc9cC5kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSxXLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy5fY3JvcEVsPVcpO3ZhciBVPVcuc3R5bGU7VS53aWR0aD1nKChjK3kqYy9mKSpEKSxVLmhlaWdodD1nKChkK3gqZC92KSprKSxVLmZpbHRlcj1TK1wiLk1hdHJpeChEeD1cIisteSpjL2YqRCtcIixEeT1cIisteCpkL3YqaytcIilcIixXLnBhcmVudE5vZGV8fEEuYXBwZW5kQ2hpbGQoVyksRi5wYXJlbnROb2RlIT1XJiZXLmFwcGVuZENoaWxkKEYpfWVsc2UgWi53aWR0aD1nKEQqYykrXCJweFwiLFouaGVpZ2h0PWcoaypkKStcInB4XCIsQS5hcHBlbmRDaGlsZChGKSxXJiZXLnBhcmVudE5vZGUmJihBLnJlbW92ZUNoaWxkKFcpLHRoaXMuX2Nyb3BFbD1udWxsKTt2YXIgWD1cIlwiLFk9bi5vcGFjaXR5OzE+WSYmKFgrPVwiLkFscGhhKG9wYWNpdHk9XCIrZygxMDAqWSkrXCIpIFwiKSxYKz1TK1wiLkFscGhhSW1hZ2VMb2FkZXIoc3JjPVwiK28rXCIsIFNpemluZ01ldGhvZD1zY2FsZSlcIixaLmZpbHRlcj1YLEEuc3R5bGUuekluZGV4PXoodGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLFAodCxBKSxuLnRleHQmJnRoaXMuZHJhd1JlY3RUZXh0KHQsdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSl9fSx1LnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXtrKHQsdGhpcy5fdm1sRWwpLHRoaXMuX3ZtbEVsPW51bGwsdGhpcy5fY3JvcEVsPW51bGwsdGhpcy5faW1hZ2VFbD1udWxsLHRoaXMucmVtb3ZlUmVjdFRleHQodCl9LHUucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe1AodCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07dmFyIFcsWj1cIm5vcm1hbFwiLHE9e30saj0wLFU9MTAwLFg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxZPWZ1bmN0aW9uKHQpe3ZhciBlPXFbdF07aWYoIWUpe2o+VSYmKGo9MCxxPXt9KTt2YXIgaSxuPVguc3R5bGU7dHJ5e24uZm9udD10LGk9bi5mb250RmFtaWx5LnNwbGl0KFwiLFwiKVswXX1jYXRjaChvKXt9ZT17c3R5bGU6bi5mb250U3R5bGV8fFosdmFyaWFudDpuLmZvbnRWYXJpYW50fHxaLHdlaWdodDpuLmZvbnRXZWlnaHR8fFosc2l6ZTowfHBhcnNlRmxvYXQobi5mb250U2l6ZXx8MTIpLGZhbWlseTppfHxcIk1pY3Jvc29mdCBZYUhlaVwifSxxW3RdPWUsaisrfXJldHVybiBlfTtzLm1lYXN1cmVUZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9cC5kb2M7V3x8KFc9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFcuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO3RvcDotMjAwMDBweDtsZWZ0OjA7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjpub25lO3doaXRlLXNwYWNlOnByZTtcIixwLmRvYy5ib2R5LmFwcGVuZENoaWxkKFcpKTt0cnl7Vy5zdHlsZS5mb250PWV9Y2F0Y2gobil7fXJldHVybiBXLmlubmVySFRNTD1cIlwiLFcuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZSh0KSkse3dpZHRoOlcub2Zmc2V0V2lkdGh9fTtmb3IodmFyIEs9bmV3IG8sUT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLnN0eWxlLGE9by50ZXh0O2lmKGEpe3ZhciByLGwsaD1vLnRleHRBbGlnbix1PVkoby50ZXh0Rm9udCksYz11LnN0eWxlK1wiIFwiK3UudmFyaWFudCtcIiBcIit1LndlaWdodCtcIiBcIit1LnNpemUrJ3B4IFwiJyt1LmZhbWlseSsnXCInLGQ9by50ZXh0QmFzZWxpbmUsZj1vLnRleHRWZXJ0aWNhbEFsaWduO2k9aXx8cy5nZXRCb3VuZGluZ1JlY3QoYSxjLGgsZCk7dmFyIG09dGhpcy50cmFuc2Zvcm07aWYobSYmIW4mJihLLmNvcHkoZSksSy5hcHBseVRyYW5zZm9ybShtKSxlPUspLG4pcj1lLngsbD1lLnk7ZWxzZXt2YXIgdj1vLnRleHRQb3NpdGlvbix5PW8udGV4dERpc3RhbmNlO2lmKHYgaW5zdGFuY2VvZiBBcnJheSlyPWUueCtFKHZbMF0sZS53aWR0aCksbD1lLnkrRSh2WzFdLGUuaGVpZ2h0KSxoPWh8fFwibGVmdFwiLGQ9ZHx8XCJ0b3BcIjtlbHNle3ZhciB4PXMuYWRqdXN0VGV4dFBvc2l0aW9uT25SZWN0KHYsZSxpLHkpO3I9eC54LGw9eC55LGg9aHx8eC50ZXh0QWxpZ24sZD1kfHx4LnRleHRCYXNlbGluZX19aWYoZil7c3dpdGNoKGYpe2Nhc2VcIm1pZGRsZVwiOmwtPWkuaGVpZ2h0LzI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6bC09aS5oZWlnaHR9ZD1cInRvcFwifXZhciBfPXUuc2l6ZTtzd2l0Y2goZCl7Y2FzZVwiaGFuZ2luZ1wiOmNhc2VcInRvcFwiOmwrPV8vMS43NTticmVhaztjYXNlXCJtaWRkbGVcIjpicmVhaztkZWZhdWx0OmwtPV8vMi4yNX1zd2l0Y2goaCl7Y2FzZVwibGVmdFwiOmJyZWFrO2Nhc2VcImNlbnRlclwiOnItPWkud2lkdGgvMjticmVhaztjYXNlXCJyaWdodFwiOnItPWkud2lkdGh9dmFyIFMsTSxBLEk9cC5jcmVhdGVOb2RlLFQ9dGhpcy5fdGV4dFZtbEVsO1Q/KEE9VC5maXJzdENoaWxkLFM9QS5uZXh0U2libGluZyxNPVMubmV4dFNpYmxpbmcpOihUPUkoXCJsaW5lXCIpLFM9SShcInBhdGhcIiksTT1JKFwidGV4dHBhdGhcIiksQT1JKFwic2tld1wiKSxNLnN0eWxlW1widi10ZXh0LWFsaWduXCJdPVwibGVmdFwiLEwoVCksUy50ZXh0cGF0aG9rPSEwLE0ub249ITAsVC5mcm9tPVwiMCAwXCIsVC50bz1cIjEwMDAgMC4wNVwiLFAoVCxBKSxQKFQsUyksUChULE0pLHRoaXMuX3RleHRWbWxFbD1UKTt2YXIgRD1bcixsXSxrPVQuc3R5bGU7bSYmbj8oYihELEQsbSksQS5vbj0hMCxBLm1hdHJpeD1tWzBdLnRvRml4ZWQoMykrdyttWzJdLnRvRml4ZWQoMykrdyttWzFdLnRvRml4ZWQoMykrdyttWzNdLnRvRml4ZWQoMykrXCIsMCwwXCIsQS5vZmZzZXQ9KGcoRFswXSl8fDApK1wiLFwiKyhnKERbMV0pfHwwKSxBLm9yaWdpbj1cIjAgMFwiLGsubGVmdD1cIjBweFwiLGsudG9wPVwiMHB4XCIpOihBLm9uPSExLGsubGVmdD1nKHIpK1wicHhcIixrLnRvcD1nKGwpK1wicHhcIiksTS5zdHJpbmc9QyhhKTt0cnl7TS5zdHlsZS5mb250PWN9Y2F0Y2goTyl7fUIoVCxcImZpbGxcIix7ZmlsbDpuP28uZmlsbDpvLnRleHRGaWxsLG9wYWNpdHk6by5vcGFjaXR5fSx0aGlzKSxCKFQsXCJzdHJva2VcIix7c3Ryb2tlOm4/by5zdHJva2U6by50ZXh0U3Ryb2tlLG9wYWNpdHk6by5vcGFjaXR5LGxpbmVEYXNoOm8ubGluZURhc2h9LHRoaXMpLFQuc3R5bGUuekluZGV4PXoodGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLFAodCxUKX19LCQ9ZnVuY3Rpb24odCl7ayh0LHRoaXMuX3RleHRWbWxFbCksdGhpcy5fdGV4dFZtbEVsPW51bGx9LEo9ZnVuY3Rpb24odCl7UCh0LHRoaXMuX3RleHRWbWxFbCl9LHR0PVtsLGgsdSxkLGNdLGV0PTA7ZXQ8dHQubGVuZ3RoO2V0Kyspe3ZhciBpdD10dFtldF0ucHJvdG90eXBlO2l0LmRyYXdSZWN0VGV4dD1RLGl0LnJlbW92ZVJlY3RUZXh0PSQsaXQuYXBwZW5kUmVjdFRleHQ9Sn1jLnByb3RvdHlwZS5icnVzaFZNTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0eWxlO2UudGV4dD90aGlzLmRyYXdSZWN0VGV4dCh0LHt4OmUueHx8MCx5OmUueXx8MCx3aWR0aDowLGhlaWdodDowfSx0aGlzLmdldEJvdW5kaW5nUmVjdCgpLCEwKTp0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxjLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLnJlbW92ZVJlY3RUZXh0KHQpO1xufSxjLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLmFwcGVuZFJlY3RUZXh0KHQpfX19LGZ1bmN0aW9uKHQsZSxpKXtpKDIwNSksaSg2OCkucmVnaXN0ZXJQYWludGVyKFwidm1sXCIsaSgyMDQpKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz1pKDIwOCksYT1pKDIpO2EucmVnaXN0ZXJBY3Rpb24oe3R5cGU6XCJnZW9Sb2FtXCIsZXZlbnQ6XCJnZW9Sb2FtXCIsdXBkYXRlOlwidXBkYXRlTGF5b3V0XCJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jb21wb25lbnRUeXBlfHxcInNlcmllc1wiO2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6aSxxdWVyeTp0fSxmdW5jdGlvbihlKXt2YXIgYT1lLmNvb3JkaW5hdGVTeXN0ZW07aWYoXCJnZW9cIj09PWEudHlwZSl7dmFyIHI9by51cGRhdGVDZW50ZXJBbmRab29tKGEsdCxlLmdldChcInNjYWxlTGltaXRcIikpO2Uuc2V0Q2VudGVyJiZlLnNldENlbnRlcihyLmNlbnRlciksZS5zZXRab29tJiZlLnNldFpvb20oci56b29tKSxcInNlcmllc1wiPT09aSYmbi5lYWNoKGUuc2VyaWVzR3JvdXAsZnVuY3Rpb24odCl7dC5zZXRDZW50ZXIoci5jZW50ZXIpLHQuc2V0Wm9vbShyLnpvb20pfSl9fSl9KX0sZnVuY3Rpb24odCxlKXt2YXIgaT17fTtpLnVwZGF0ZUNlbnRlckFuZFpvb209ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0Wm9vbSgpLG89dC5nZXRDZW50ZXIoKSxhPWUuem9vbSxyPXQuZGF0YVRvUG9pbnQobyk7aWYobnVsbCE9ZS5keCYmbnVsbCE9ZS5keSl7clswXS09ZS5keCxyWzFdLT1lLmR5O3ZhciBvPXQucG9pbnRUb0RhdGEocik7dC5zZXRDZW50ZXIobyl9aWYobnVsbCE9YSl7aWYoaSl7dmFyIHM9aS5taW58fDAsbD1pLm1heHx8MS8wO2E9TWF0aC5tYXgoTWF0aC5taW4obiphLGwpLHMpL259dC5zY2FsZVswXSo9YSx0LnNjYWxlWzFdKj1hO3ZhciBoPXQucG9zaXRpb24sdT0oZS5vcmlnaW5YLWhbMF0pKihhLTEpLGM9KGUub3JpZ2luWS1oWzFdKSooYS0xKTtoWzBdLT11LGhbMV0tPWMsdC51cGRhdGVUcmFuc2Zvcm0oKTt2YXIgbz10LnBvaW50VG9EYXRhKHIpO3Quc2V0Q2VudGVyKG8pLHQuc2V0Wm9vbShhKm4pfXJldHVybntjZW50ZXI6dC5nZXRDZW50ZXIoKSx6b29tOnQuZ2V0Wm9vbSgpfX0sdC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fFwidmlld1wiPT09ZS50eXBlKXt2YXIgaT1lLmdldEJvdW5kaW5nUmVjdCgpLG89dC5nZXREYXRhKCksYT1vLmdyYXBoLHI9MCxzPW8uZ2V0U3VtKFwidmFsdWVcIiksbD0yKk1hdGguUEkvKHN8fG8uY291bnQoKSksaD1pLndpZHRoLzIraS54LHU9aS5oZWlnaHQvMitpLnksYz1NYXRoLm1pbihpLndpZHRoLGkuaGVpZ2h0KS8yO2EuZWFjaE5vZGUoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZShcInZhbHVlXCIpO3IrPWwqKHM/ZToyKS8yLHQuc2V0TGF5b3V0KFtjKk1hdGguY29zKHIpK2gsYypNYXRoLnNpbihyKSt1XSkscis9bCoocz9lOjIpLzJ9KSxhLmVhY2hFZGdlKGZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5nZXRNb2RlbCgpLmdldChcImxpbmVTdHlsZS5ub3JtYWwuY3VydmVuZXNzXCIpfHwwLG89bi5jbG9uZSh0Lm5vZGUxLmdldExheW91dCgpKSxhPW4uY2xvbmUodC5ub2RlMi5nZXRMYXlvdXQoKSkscj0ob1swXSthWzBdKS8yLHM9KG9bMV0rYVsxXSkvMjtpPjAmJihpKj0zLGU9W2gqaStyKigxLWkpLHUqaStzKigxLWkpXSksdC5zZXRMYXlvdXQoW28sYSxlXSl9KX19fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5lYWNoRWRnZShmdW5jdGlvbih0KXt2YXIgZT10LmdldE1vZGVsKCkuZ2V0KFwibGluZVN0eWxlLm5vcm1hbC5jdXJ2ZW5lc3NcIil8fDAsaT1uLmNsb25lKHQubm9kZTEuZ2V0TGF5b3V0KCkpLG89bi5jbG9uZSh0Lm5vZGUyLmdldExheW91dCgpKSxhPVtpLG9dO2U+MCYmYS5wdXNoKFsoaVswXStvWzBdKS8yLShpWzFdLW9bMV0pKmUsKGlbMV0rb1sxXSkvMi0ob1swXS1pWzBdKSplXSksdC5zZXRMYXlvdXQoYSl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDIxMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighZXx8XCJ2aWV3XCI9PT1lLnR5cGUpe3ZhciBpPXQuZ2V0R3JhcGgoKTtpLmVhY2hOb2RlKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TW9kZWwoKTt0LnNldExheW91dChbK2UuZ2V0KFwieFwiKSwrZS5nZXQoXCJ5XCIpXSl9KSxuKGkpfX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDE1KSxvPWkoMzQ3KSxhPWkoMjI1KSxyPWkoMzEpLHM9aSgyMyksbD1pKDEpLGg9aSgzNSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpLHUsYyl7Zm9yKHZhciBkPW5ldyBvKHUpLGY9MDtmPHQubGVuZ3RoO2YrKylkLmFkZE5vZGUobC5yZXRyaWV2ZSh0W2ZdLmlkLHRbZl0ubmFtZSxmKSxmKTtmb3IodmFyIHA9W10sZz1bXSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBtPWVbZl0sdj1tLnNvdXJjZSx5PW0udGFyZ2V0O2QuYWRkRWRnZSh2LHksZikmJihnLnB1c2gobSkscC5wdXNoKGwucmV0cmlldmUobS5pZCx2K1wiID4gXCIreSkpKX12YXIgeCxfPWkuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKTtpZihcImNhcnRlc2lhbjJkXCI9PT1ffHxcInBvbGFyXCI9PT1fKXg9aCh0LGksaS5lY01vZGVsKTtlbHNle3ZhciBiPXMuZ2V0KF8pLHc9cigoYiYmXCJ2aWV3XCIhPT1iLnR5cGU/Yi5kaW1lbnNpb25zfHxbXTpbXSkuY29uY2F0KFtcInZhbHVlXCJdKSx0KTt4PW5ldyBuKHcsaSkseC5pbml0RGF0YSh0KX12YXIgUz1uZXcgbihbXCJ2YWx1ZVwiXSxpKTtyZXR1cm4gUy5pbml0RGF0YShnLHApLGMmJmMoeCxTKSxhKHttYWluRGF0YTp4LHN0cnVjdDpkLHN0cnVjdEF0dHI6XCJncmFwaFwiLGRhdGFzOntub2RlOngsZWRnZTpTfSxkYXRhc0F0dHI6e25vZGU6XCJkYXRhXCIsZWRnZTpcImVkZ2VEYXRhXCJ9fSksZC51cGRhdGUoKSxkfX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT10LmdldEl0ZW1TdHlsZSgpLG49dC5nZXQoXCJhcmVhQ29sb3JcIik7cmV0dXJuIG4mJihpLmZpbGw9biksaX1mdW5jdGlvbiBvKHQsZSxpLG4pe2Uub2ZmKFwiY2xpY2tcIiksdC5nZXQoXCJzZWxlY3RlZE1vZGVcIikmJmUub24oXCJjbGlja1wiLGZ1bmN0aW9uKG8pe2Zvcih2YXIgcj1vLnRhcmdldDshci5fX3JlZ2lvbjspcj1yLnBhcmVudDtpZihyKXt2YXIgcz1yLl9fcmVnaW9uLGw9e3R5cGU6KFwiZ2VvXCI9PT10Lm1haW5UeXBlP1wiZ2VvXCI6XCJtYXBcIikrXCJUb2dnbGVTZWxlY3RcIixuYW1lOnMubmFtZSxmcm9tOm4udWlkfTtsW3QubWFpblR5cGUrXCJJZFwiXT10LmlkLGkuZGlzcGF0Y2hBY3Rpb24obCksYSh0LGUpfX0pfWZ1bmN0aW9uIGEodCxlKXtlLmVhY2hDaGlsZChmdW5jdGlvbihlKXtlLl9fcmVnaW9uJiZlLnRyaWdnZXIodC5pc1NlbGVjdGVkKGUuX19yZWdpb24ubmFtZSk/XCJlbXBoYXNpc1wiOlwibm9ybWFsXCIpfSl9ZnVuY3Rpb24gcih0LGUpe3ZhciBpPW5ldyBsLkdyb3VwO3RoaXMuX2NvbnRyb2xsZXI9bmV3IHModC5nZXRacigpLGU/aTpudWxsLG51bGwpLHRoaXMuZ3JvdXA9aSx0aGlzLl91cGRhdGVHcm91cD1lfXZhciBzPWkoNzApLGw9aSgzKSxoPWkoMSk7ci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIsZHJhdzpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciB1PXQuZ2V0RGF0YSYmdC5nZXREYXRhKCksYz10LmNvb3JkaW5hdGVTeXN0ZW0sZD10aGlzLmdyb3VwLGY9Yy5zY2FsZSxwPXtwb3NpdGlvbjpjLnBvc2l0aW9uLHNjYWxlOmZ9OyFkLmNoaWxkQXQoMCl8fHM/ZC5hdHRyKHApOmwudXBkYXRlUHJvcHMoZCxwLHQpLGQucmVtb3ZlQWxsKCk7dmFyIGc9W1wiaXRlbVN0eWxlXCIsXCJub3JtYWxcIl0sbT1bXCJpdGVtU3R5bGVcIixcImVtcGhhc2lzXCJdLHY9W1wibGFiZWxcIixcIm5vcm1hbFwiXSx5PVtcImxhYmVsXCIsXCJlbXBoYXNpc1wiXTtoLmVhY2goYy5yZWdpb25zLGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBsLkdyb3VwLG89bmV3IGwuQ29tcG91bmRQYXRoKHtzaGFwZTp7cGF0aHM6W119fSk7aS5hZGQobyk7dmFyIGEscj10LmdldFJlZ2lvbk1vZGVsKGUubmFtZSl8fHQscz1yLmdldE1vZGVsKGcpLGM9ci5nZXRNb2RlbChtKSxwPW4ocyxmKSx4PW4oYyxmKSxfPXIuZ2V0TW9kZWwodiksYj1yLmdldE1vZGVsKHkpO2lmKHUpe2E9dS5pbmRleE9mTmFtZShlLm5hbWUpO3ZhciB3PXUuZ2V0SXRlbVZpc3VhbChhLFwiY29sb3JcIiwhMCk7dyYmKHAuZmlsbD13KX12YXIgUz1fLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLE09Yi5nZXRNb2RlbChcInRleHRTdHlsZVwiKTtoLmVhY2goZS5jb250b3VycyxmdW5jdGlvbih0KXt2YXIgZT1uZXcgbC5Qb2x5Z29uKHtzaGFwZTp7cG9pbnRzOnR9fSk7by5zaGFwZS5wYXRocy5wdXNoKGUpfSksby5zZXRTdHlsZShwKSxvLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAsby5jdWxsaW5nPSEwO3ZhciBBPV8uZ2V0KFwic2hvd1wiKSxJPWIuZ2V0KFwic2hvd1wiKSxUPXUmJmlzTmFOKHUuZ2V0KFwidmFsdWVcIixhKSksTD11JiZ1LmdldEl0ZW1MYXlvdXQoYSk7aWYoIXV8fFQmJihBfHxJKXx8TCYmTC5zaG93TGFiZWwpe3ZhciBDPXU/YTplLm5hbWUsRD10LmdldEZvcm1hdHRlZExhYmVsKEMsXCJub3JtYWxcIiksUD10LmdldEZvcm1hdHRlZExhYmVsKEMsXCJlbXBoYXNpc1wiKSxrPW5ldyBsLlRleHQoe3N0eWxlOnt0ZXh0OkE/RHx8ZS5uYW1lOlwiXCIsZmlsbDpTLmdldFRleHRDb2xvcigpLHRleHRGb250OlMuZ2V0Rm9udCgpLHRleHRBbGlnbjpcImNlbnRlclwiLHRleHRWZXJ0aWNhbEFsaWduOlwibWlkZGxlXCJ9LGhvdmVyU3R5bGU6e3RleHQ6ST9QfHxlLm5hbWU6XCJcIixmaWxsOk0uZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6TS5nZXRGb250KCl9LHBvc2l0aW9uOmUuY2VudGVyLnNsaWNlKCksc2NhbGU6WzEvZlswXSwxL2ZbMV1dLHoyOjEwLHNpbGVudDohMH0pO2kuYWRkKGspfWlmKHUpdS5zZXRJdGVtR3JhcGhpY0VsKGEsaSk7ZWxzZXt2YXIgcj10LmdldFJlZ2lvbk1vZGVsKGUubmFtZSk7by5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6XCJnZW9cIixnZW9JbmRleDp0LmNvbXBvbmVudEluZGV4LG5hbWU6ZS5uYW1lLHJlZ2lvbjpyJiZyLm9wdGlvbnx8e319fWkuX19yZWdpb249ZSxsLnNldEhvdmVyU3R5bGUoaSx4KSxkLmFkZChpKX0pLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLGkpLG8odCxkLGksciksYSh0LGQpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NvbnRyb2xsZXIuZGlzcG9zZSgpfSxfdXBkYXRlQ29udHJvbGxlcjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe3ZhciBlPXt0eXBlOlwiZ2VvUm9hbVwiLGNvbXBvbmVudFR5cGU6cn07cmV0dXJuIGVbcitcIklkXCJdPXQuaWQsZX12YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10aGlzLl9jb250cm9sbGVyO2Euem9vbUxpbWl0PXQuZ2V0KFwic2NhbGVMaW1pdFwiKSxhLnpvb209by5nZXRab29tKCksYS5lbmFibGUodC5nZXQoXCJyb2FtXCIpfHwhMSk7dmFyIHI9dC5tYWluVHlwZTthLm9mZihcInBhblwiKS5vbihcInBhblwiLGZ1bmN0aW9uKHQsZSl7aS5kaXNwYXRjaEFjdGlvbihoLmV4dGVuZChuKCkse2R4OnQsZHk6ZX0pKX0pLGEub2ZmKFwiem9vbVwiKS5vbihcInpvb21cIixmdW5jdGlvbih0LGUsbyl7aWYoaS5kaXNwYXRjaEFjdGlvbihoLmV4dGVuZChuKCkse3pvb206dCxvcmlnaW5YOmUsb3JpZ2luWTpvfSkpLHRoaXMuX3VwZGF0ZUdyb3VwKXt2YXIgYT10aGlzLmdyb3VwLHI9YS5zY2FsZTthLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe1widGV4dFwiPT09dC50eXBlJiZ0LmF0dHIoXCJzY2FsZVwiLFsxL3JbMF0sMS9yWzFdXSl9KX19LHRoaXMpLGEucmVjdFByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0Vmlld1JlY3RBZnRlclJvYW0oKX19fSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe2koMjI0KSxpKDMzNyksaSgzMDcpO3ZhciBuPWkoMik7bi5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwicGFyYWxsZWxcIn0pLG4ucmVnaXN0ZXJQcmVwcm9jZXNzb3IoaSgzMzgpKX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaSxuPVtcImluUmFuZ2VcIixcIm91dE9mUmFuZ2VcIixcInRhcmdldFwiLFwiY29udHJvbGxlclwiLFwiY29sb3JcIl07by5lYWNoKG4sZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKGk9ITApfSksaSYmby5lYWNoKG4sZnVuY3Rpb24oaSl7ZS5oYXNPd25Qcm9wZXJ0eShpKT90W2ldPW8uY2xvbmUoZVtpXSk6ZGVsZXRlIHRbaV19KX12YXIgbz1pKDEpLGE9aSgxNCkscj1pKDIpLHM9aSg3KSxsPWkoMzUxKSxoPWkoNzMpLHU9aC5tYXBWaXN1YWwsYz1oLmVhY2hWaXN1YWwsZD1pKDQpLGY9by5pc0FycmF5LHA9by5lYWNoLGc9ZC5hc2MsbT1kLmxpbmVhck1hcCx2PXIuZXh0ZW5kQ29tcG9uZW50TW9kZWwoe3R5cGU6XCJ2aXN1YWxNYXBcIixkZXBlbmRlbmNpZXM6W1wic2VyaWVzXCJdLGRhdGFCb3VuZDpbLSgxLzApLDEvMF0sc3RhdGVMaXN0OltcImluUmFuZ2VcIixcIm91dE9mUmFuZ2VcIl0sbGF5b3V0TW9kZTp7dHlwZTpcImJveFwiLGlnbm9yZVNpemU6ITB9LGRlZmF1bHRPcHRpb246e3Nob3c6ITAsemxldmVsOjAsejo0LG1pbjowLG1heDoyMDAsZGltZW5zaW9uOm51bGwsaW5SYW5nZTpudWxsLG91dE9mUmFuZ2U6bnVsbCxsZWZ0OjAscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206MCxpdGVtV2lkdGg6bnVsbCxpdGVtSGVpZ2h0Om51bGwsaW52ZXJzZTohMSxvcmllbnQ6XCJ2ZXJ0aWNhbFwiLHNlcmllc0luZGV4Om51bGwsYmFja2dyb3VuZENvbG9yOlwicmdiYSgwLDAsMCwwKVwiLGJvcmRlckNvbG9yOlwiI2NjY1wiLGNvbnRlbnRDb2xvcjpcIiM1NzkzZjNcIixpbmFjdGl2ZUNvbG9yOlwiI2FhYVwiLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LHRleHRHYXA6MTAscHJlY2lzaW9uOjAsY29sb3I6W1wiI2JmNDQ0Y1wiLFwiI2Q4ODI3M1wiLFwiI2Y2ZWZhNlwiXSxmb3JtYXR0ZXI6bnVsbCx0ZXh0Om51bGwsdGV4dFN0eWxlOntjb2xvcjpcIiMzMzNcIn19LGluaXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RhdGFFeHRlbnQsdGhpcy5jb250cm9sbGVyVmlzdWFscz17fSx0aGlzLnRhcmdldFZpc3VhbHM9e30sdGhpcy50ZXh0U3R5bGVNb2RlbCx0aGlzLml0ZW1TaXplLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKSx0aGlzLmRvTWVyZ2VPcHRpb24oe30sITApfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2LnN1cGVyQXBwbHkodGhpcyxcIm1lcmdlT3B0aW9uXCIsYXJndW1lbnRzKSx0aGlzLmRvTWVyZ2VPcHRpb24odCwhMSl9LGRvTWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbjshZSYmbihpLHQpLGEuY2FudmFzU3VwcG9ydGVkfHwoaS5yZWFsdGltZT0hMSksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLHRoaXMucmVzZXRJdGVtU2l6ZSgpLHRoaXMuY29tcGxldGVWaXN1YWxPcHRpb24oKX0sZm9ybWF0VmFsdWVUZXh0OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdD09PWxbMF0/XCJtaW5cIjp0PT09bFsxXT9cIm1heFwiOigrdCkudG9GaXhlZChzKX12YXIgbixhLHI9dGhpcy5vcHRpb24scz1yLnByZWNpc2lvbixsPXRoaXMuZGF0YUJvdW5kLGg9ci5mb3JtYXR0ZXI7cmV0dXJuIG8uaXNBcnJheSh0KSYmKHQ9dC5zbGljZSgpLG49ITApLGE9ZT90Om4/W2kodFswXSksaSh0WzFdKV06aSh0KSxvLmlzU3RyaW5nKGgpP2gucmVwbGFjZShcInt2YWx1ZX1cIixuP2FbMF06YSkucmVwbGFjZShcInt2YWx1ZTJ9XCIsbj9hWzFdOmEpOm8uaXNGdW5jdGlvbihoKT9uP2godFswXSx0WzFdKTpoKHQpOm4/dFswXT09PWxbMF0/XCI8IFwiK2FbMV06dFsxXT09PWxbMV0/XCI+IFwiK2FbMF06YVswXStcIiAtIFwiK2FbMV06YX0scmVzZXRUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbixuPW51bGw9PWkuc2VyaWVzSW5kZXg7aS5zZXJpZXNJbmRleD1uP1tdOnMubm9ybWFsaXplVG9BcnJheShpLnNlcmllc0luZGV4KSxuJiZ0aGlzLmVjTW9kZWwuZWFjaFNlcmllcyhmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RGF0YSgpO1wibGlzdFwiPT09bi50eXBlJiZpLnNlcmllc0luZGV4LnB1c2goZSl9KX0scmVzZXRFeHRlbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPWcoW3QubWluLHQubWF4XSk7dGhpcy5fZGF0YUV4dGVudD1lfSxnZXREYXRhRGltZW5zaW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmRpbWVuc2lvbjtyZXR1cm4gbnVsbCE9ZT9lOnQuZGltZW5zaW9ucy5sZW5ndGgtMX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFFeHRlbnQuc2xpY2UoKX0scmVzZXRWaXN1YWw6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGEpe3AodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24ocil7dmFyIHM9YVtyXXx8KGFbcl09aSgpKSxsPXRoaXMub3B0aW9uW2VdW3JdfHx7fTtwKGwsZnVuY3Rpb24oaSxhKXtpZihoLmlzVmFsaWRUeXBlKGEpKXt2YXIgbD17dHlwZTphLGRhdGFFeHRlbnQ6bix2aXN1YWw6aX07dCYmdC5jYWxsKHRoaXMsbCxyKSxzW2FdPW5ldyBoKGwpLFwiY29udHJvbGxlclwiPT09ZSYmXCJvcGFjaXR5XCI9PT1hJiYobD1vLmNsb25lKGwpLGwudHlwZT1cImNvbG9yQWxwaGFcIixzLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyBoKGwpKX19LHRoaXMpfSx0aGlzKX1mdW5jdGlvbiBpKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3QucHJvdG90eXBlLl9faGlkZGVuPXQucHJvdG90eXBlO3ZhciBlPW5ldyB0O3JldHVybiBlfXZhciBuPXRoaXMuZ2V0RXh0ZW50KCk7ZS5jYWxsKHRoaXMsXCJjb250cm9sbGVyXCIsdGhpcy5jb250cm9sbGVyVmlzdWFscyksZS5jYWxsKHRoaXMsXCJ0YXJnZXRcIix0aGlzLnRhcmdldFZpc3VhbHMpfSxjb21wbGV0ZVZpc3VhbE9wdGlvbjpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7ZihuLmNvbG9yKSYmIXQuaW5SYW5nZSYmKHQuaW5SYW5nZT17Y29sb3I6bi5jb2xvci5zbGljZSgpLnJldmVyc2UoKX0pLHAodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24oZSl7dmFyIGk9dFtlXTtpZihvLmlzU3RyaW5nKGkpKXt2YXIgbj1sLmdldChpLFwiYWN0aXZlXCIsZCk7bj8odFtlXT17fSx0W2VdW2ldPW4pOmRlbGV0ZSB0W2VdfX0sdGhpcyl9ZnVuY3Rpb24gZSh0LGUsaSl7dmFyIG49dFtlXSxvPXRbaV07biYmIW8mJihvPXRbaV09e30scChuLGZ1bmN0aW9uKHQsZSl7aWYoaC5pc1ZhbGlkVHlwZShlKSl7dmFyIGk9bC5nZXQoZSxcImluYWN0aXZlXCIsZCk7bnVsbCE9aSYmKG9bZV09aSxcImNvbG9yXCIhPT1lfHxvLmhhc093blByb3BlcnR5KFwib3BhY2l0eVwiKXx8by5oYXNPd25Qcm9wZXJ0eShcImNvbG9yQWxwaGFcIil8fChvLm9wYWNpdHk9WzAsMF0pKX19KSl9ZnVuY3Rpb24gaSh0KXt2YXIgZT0odC5pblJhbmdlfHx7fSkuc3ltYm9sfHwodC5vdXRPZlJhbmdlfHx7fSkuc3ltYm9sLGk9KHQuaW5SYW5nZXx8e30pLnN5bWJvbFNpemV8fCh0Lm91dE9mUmFuZ2V8fHt9KS5zeW1ib2xTaXplLG49dGhpcy5nZXQoXCJpbmFjdGl2ZUNvbG9yXCIpO3AodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24oYSl7dmFyIHI9dGhpcy5pdGVtU2l6ZSxzPXRbYV07c3x8KHM9dFthXT17Y29sb3I6ZD9uOltuXX0pLG51bGw9PXMuc3ltYm9sJiYocy5zeW1ib2w9ZSYmby5jbG9uZShlKXx8KGQ/XCJyb3VuZFJlY3RcIjpbXCJyb3VuZFJlY3RcIl0pKSxudWxsPT1zLnN5bWJvbFNpemUmJihzLnN5bWJvbFNpemU9aSYmby5jbG9uZShpKXx8KGQ/clswXTpbclswXSxyWzBdXSkpLHMuc3ltYm9sPXUocy5zeW1ib2wsZnVuY3Rpb24odCl7cmV0dXJuXCJub25lXCI9PT10fHxcInNxdWFyZVwiPT09dD9cInJvdW5kUmVjdFwiOnR9KTt2YXIgbD1zLnN5bWJvbFNpemU7aWYobnVsbCE9bCl7dmFyIGg9LSgxLzApO2MobCxmdW5jdGlvbih0KXt0PmgmJihoPXQpfSkscy5zeW1ib2xTaXplPXUobCxmdW5jdGlvbih0KXtyZXR1cm4gbSh0LFswLGhdLFswLHJbMF1dLCEwKX0pfX0sdGhpcyl9dmFyIG49dGhpcy5vcHRpb24sYT17aW5SYW5nZTpuLmluUmFuZ2Usb3V0T2ZSYW5nZTpuLm91dE9mUmFuZ2V9LHI9bi50YXJnZXR8fChuLnRhcmdldD17fSkscz1uLmNvbnRyb2xsZXJ8fChuLmNvbnRyb2xsZXI9e30pO28ubWVyZ2UocixhKSxvLm1lcmdlKHMsYSk7dmFyIGQ9dGhpcy5pc0NhdGVnb3J5KCk7dC5jYWxsKHRoaXMsciksdC5jYWxsKHRoaXMscyksZS5jYWxsKHRoaXMscixcImluUmFuZ2VcIixcIm91dE9mUmFuZ2VcIiksZS5jYWxsKHRoaXMscixcIm91dE9mUmFuZ2VcIixcImluUmFuZ2VcIiksaS5jYWxsKHRoaXMscyl9LGVhY2hUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCxlKXtvLmVhY2godGhpcy5vcHRpb24uc2VyaWVzSW5kZXgsZnVuY3Rpb24oaSl7dC5jYWxsKGUsdGhpcy5lY01vZGVsLmdldFNlcmllc0J5SW5kZXgoaSkpfSx0aGlzKX0saXNDYXRlZ29yeTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uY2F0ZWdvcmllc30scmVzZXRJdGVtU2l6ZTpmdW5jdGlvbigpe3RoaXMuaXRlbVNpemU9W3BhcnNlRmxvYXQodGhpcy5nZXQoXCJpdGVtV2lkdGhcIikpLHBhcnNlRmxvYXQodGhpcy5nZXQoXCJpdGVtSGVpZ2h0XCIpKV19LHNldFNlbGVjdGVkOm8ubm9vcCxnZXRWYWx1ZVN0YXRlOm8ubm9vcH0pO3QuZXhwb3J0cz12fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgyKSxvPWkoMSksYT1pKDMpLHI9aSg5KSxzPWkoMTEpLGw9aSg3Myk7dC5leHBvcnRzPW4uZXh0ZW5kQ29tcG9uZW50Vmlldyh7dHlwZTpcInZpc3VhbE1hcFwiLGF1dG9Qb3NpdGlvblZhbHVlczp7bGVmdDoxLHJpZ2h0OjEsdG9wOjEsYm90dG9tOjF9LGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLmVjTW9kZWw9dCx0aGlzLmFwaT1lLHRoaXMudmlzdWFsTWFwTW9kZWwsdGhpcy5fdXBkYXRhYmxlU2hhcGVzPXt9fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMudmlzdWFsTWFwTW9kZWw9dCx0LmdldChcInNob3dcIik9PT0hMT92b2lkIHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCk6dm9pZCB0aGlzLmRvUmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmVuZGVyQmFja2dyb3VuZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLGk9ci5ub3JtYWxpemVDc3NBcnJheShlLmdldChcInBhZGRpbmdcIil8fDApLG49dC5nZXRCb3VuZGluZ1JlY3QoKTt0LmFkZChuZXcgYS5SZWN0KHt6MjotMSxzaWxlbnQ6ITAsc2hhcGU6e3g6bi54LWlbM10seTpuLnktaVswXSx3aWR0aDpuLndpZHRoK2lbM10raVsxXSxoZWlnaHQ6bi5oZWlnaHQraVswXStpWzJdfSxzdHlsZTp7ZmlsbDplLmdldChcImJhY2tncm91bmRDb2xvclwiKSxzdHJva2U6ZS5nZXQoXCJib3JkZXJDb2xvclwiKSxsaW5lV2lkdGg6ZS5nZXQoXCJib3JkZXJXaWR0aFwiKX19KSl9LGdldENvbnRyb2xsZXJWaXN1YWw6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIGhbdF19ZnVuY3Rpb24gYSh0LGUpe2hbdF09ZX1pPWl8fHt9O3ZhciByPWkuZm9yY2VTdGF0ZSxzPXRoaXMudmlzdWFsTWFwTW9kZWwsaD17fTtpZihcInN5bWJvbFwiPT09ZSYmKGguc3ltYm9sPXMuZ2V0KFwiaXRlbVN5bWJvbFwiKSksXCJjb2xvclwiPT09ZSl7dmFyIHU9cy5nZXQoXCJjb250ZW50Q29sb3JcIik7aC5jb2xvcj11fXZhciBjPXMuY29udHJvbGxlclZpc3VhbHNbcnx8cy5nZXRWYWx1ZVN0YXRlKHQpXSxkPWwucHJlcGFyZVZpc3VhbFR5cGVzKGMpO3JldHVybiBvLmVhY2goZCxmdW5jdGlvbihvKXt2YXIgcj1jW29dO2kuY29udmVydE9wYWNpdHlUb0FscGhhJiZcIm9wYWNpdHlcIj09PW8mJihvPVwiY29sb3JBbHBoYVwiLHI9Yy5fX2FscGhhRm9yT3BhY2l0eSksbC5kZXBlbmRzT24obyxlKSYmciYmci5hcHBseVZpc3VhbCh0LG4sYSl9KSxoW2VdfSxwb3NpdGlvbkdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT10aGlzLmFwaTtzLnBvc2l0aW9uR3JvdXAodCxlLmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9KX0sZG9SZW5kZXI6by5ub29wfSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDExKSxvPWkoMSksYT1pKDQ4KSxyPXtnZXRJdGVtQWxpZ246ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXQub3B0aW9uLGE9by5hbGlnbjtpZihudWxsIT1hJiZcImF1dG9cIiE9PWEpcmV0dXJuIGE7Zm9yKHZhciByPXt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LHM9XCJob3Jpem9udGFsXCI9PT1vLm9yaWVudD8xOjAsbD1bW1wibGVmdFwiLFwicmlnaHRcIixcIndpZHRoXCJdLFtcInRvcFwiLFwiYm90dG9tXCIsXCJoZWlnaHRcIl1dLGg9bFtzXSx1PVswLG51bGwsMTBdLGM9e30sZD0wOzM+ZDtkKyspY1tsWzEtc11bZF1dPXVbZF0sY1toW2RdXT0yPT09ZD9pWzBdOm9baFtkXV07dmFyIGY9W1tcInhcIixcIndpZHRoXCIsM10sW1wieVwiLFwiaGVpZ2h0XCIsMF1dW3NdLHA9bi5nZXRMYXlvdXRSZWN0KGMscixvLnBhZGRpbmcpO3JldHVybiBoWyhwLm1hcmdpbltmWzJdXXx8MCkrcFtmWzBdXSsuNSpwW2ZbMV1dPC41KnJbZlsxXV0/MDoxXX0sY29udmVydERhdGFJbmRpY2VzVG9CYXRjaDpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gby5lYWNoKHQsZnVuY3Rpb24odCl7by5lYWNoKHQuZGF0YUluZGljZXMsZnVuY3Rpb24oaSl7ZS5wdXNoKHtzZXJpZXNJZDp0LnNlcmllc0lkLGRhdGFJbmRleDppfSl9KX0pLGV9LHJlbW92ZUR1cGxpY2F0ZUJhdGNoOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5zZXJpZXNJZCtcIi1cIit0LmRhdGFJbmRleH1mdW5jdGlvbiBuKHQpe3NbMV0ucHVzaChlW3RdKX1mdW5jdGlvbiByKGUpe3NbMF0ucHVzaCh0W2VdKX12YXIgcz1bW10sW11dO3JldHVybiBuZXcgYSh0LGUsaSxpKS5hZGQobikudXBkYXRlKG8ubm9vcCkucmVtb3ZlKHIpLmV4ZWN1dGUoKSxzfX07dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoZSl9dmFyIG89aSgxKSxhPW8uZWFjaDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC52aXN1YWxNYXA7by5pc0FycmF5KGUpfHwoZT1lP1tlXTpbXSksYShlLGZ1bmN0aW9uKHQpe2lmKHQpe24odCxcInNwbGl0TGlzdFwiKSYmIW4odCxcInBpZWNlc1wiKSYmKHQucGllY2VzPXQuc3BsaXRMaXN0LGRlbGV0ZSB0LnNwbGl0TGlzdCk7dmFyIGU9dC5waWVjZXM7ZSYmby5pc0FycmF5KGUpJiZhKGUsZnVuY3Rpb24odCl7by5pc09iamVjdCh0KSYmKG4odCxcInN0YXJ0XCIpJiYhbih0LFwibWluXCIpJiYodC5taW49dC5zdGFydCksbih0LFwiZW5kXCIpJiYhbih0LFwibWF4XCIpJiYodC5tYXg9dC5lbmQpKX0pfX0pfX0sZnVuY3Rpb24odCxlLGkpe2koMTApLnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcihcInZpc3VhbE1hcFwiLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhdGVnb3JpZXN8fCh0LnBpZWNlcz90LnBpZWNlcy5sZW5ndGg+MDp0LnNwbGl0TnVtYmVyPjApJiYhdC5jYWxjdWxhYmxlP1wicGllY2V3aXNlXCI6XCJjb250aW51b3VzXCJ9KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT10LnRhcmdldFZpc3VhbHMsbj17fTtyLmVhY2goW1wiaW5SYW5nZVwiLFwib3V0T2ZSYW5nZVwiXSxmdW5jdGlvbih0KXt2YXIgZT1hLnByZXBhcmVWaXN1YWxUeXBlcyhpW3RdKTtuW3RdPWV9KSx0LmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gcy5nZXRJdGVtVmlzdWFsKHIsdCl9ZnVuY3Rpb24gYSh0LGUpe3Muc2V0SXRlbVZpc3VhbChyLHQsZSl9dmFyIHIscz1lLmdldERhdGEoKSxsPXQuZ2V0RGF0YURpbWVuc2lvbihzKTtzLmVhY2goW2xdLGZ1bmN0aW9uKGUscyl7cj1zO2Zvcih2YXIgbD10LmdldFZhbHVlU3RhdGUoZSksaD1pW2xdLHU9bltsXSxjPTAsZD11Lmxlbmd0aDtkPmM7YysrKXt2YXIgZj11W2NdO2hbZl0mJmhbZl0uYXBwbHlWaXN1YWwoZSxvLGEpfX0sITApfSl9dmFyIG89aSgyKSxhPWkoNzMpLHI9aSgxKTtvLnJlZ2lzdGVyVmlzdWFsQ29kaW5nKFwiY29tcG9uZW50XCIsZnVuY3Rpb24odCl7dC5lYWNoQ29tcG9uZW50KFwidmlzdWFsTWFwXCIsZnVuY3Rpb24oZSl7bihlLHQpfSl9KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMiksbz17dHlwZTpcInNlbGVjdERhdGFSYW5nZVwiLGV2ZW50OlwiZGF0YVJhbmdlU2VsZWN0ZWRcIix1cGRhdGU6XCJ1cGRhdGVcIn07bi5yZWdpc3RlckFjdGlvbihvLGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpcInZpc3VhbE1hcFwiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe2Uuc2V0U2VsZWN0ZWQodC5zZWxlY3RlZCl9KX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe3MuY2FsbCh0aGlzKX1mdW5jdGlvbiBvKHQpe3RoaXMubmFtZT10LHRoaXMuem9vbUxpbWl0LHMuY2FsbCh0aGlzKSx0aGlzLl9yb2FtVHJhbnNmb3JtPW5ldyBuLHRoaXMuX3ZpZXdUcmFuc2Zvcm09bmV3IG4sdGhpcy5fY2VudGVyLHRoaXMuX3pvb219dmFyIGE9aSg1KSxyPWkoMTkpLHM9aSg3NyksbD1pKDEpLGg9aSg4KSx1PWEuYXBwbHlUcmFuc2Zvcm07bC5taXhpbihuLHMpLG8ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpvLHR5cGU6XCJ2aWV3XCIsZGltZW5zaW9uczpbXCJ4XCIsXCJ5XCJdLHNldEJvdW5kaW5nUmVjdDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy5fcmVjdD1uZXcgaCh0LGUsaSxuKSx0aGlzLl9yZWN0fSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sc2V0Vmlld1JlY3Q6ZnVuY3Rpb24odCxlLGksbil7aT1pLG49bix0aGlzLnRyYW5zZm9ybVRvKHQsZSxpLG4pLHRoaXMuX3ZpZXdSZWN0PW5ldyBoKHQsZSxpLG4pfSx0cmFuc2Zvcm1UbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmdldEJvdW5kaW5nUmVjdCgpLGE9dGhpcy5fdmlld1RyYW5zZm9ybTthLnRyYW5zZm9ybT1vLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgaCh0LGUsaSxuKSksYS5kZWNvbXBvc2VUcmFuc2Zvcm0oKSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKX0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3QmJih0aGlzLl9jZW50ZXI9dCx0aGlzLl91cGRhdGVDZW50ZXJBbmRab29tKCkpfSxzZXRab29tOmZ1bmN0aW9uKHQpe3Q9dHx8MTt2YXIgZT10aGlzLnpvb21MaW1pdDtlJiYobnVsbCE9ZS5tYXgmJih0PU1hdGgubWluKGUubWF4LHQpKSxudWxsIT1lLm1pbiYmKHQ9TWF0aC5tYXgoZS5taW4sdCkpKSx0aGlzLl96b29tPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpfSxnZXREZWZhdWx0Q2VudGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxlPXQueCt0LndpZHRoLzIsaT10LnkrdC5oZWlnaHQvMjtyZXR1cm5bZSxpXX0sZ2V0Q2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcnx8dGhpcy5nZXREZWZhdWx0Q2VudGVyKCl9LGdldFpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9vbXx8MX0sZ2V0Um9hbVRyYW5zZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb2FtVHJhbnNmb3JtfSxfdXBkYXRlQ2VudGVyQW5kWm9vbTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ZpZXdUcmFuc2Zvcm0uZ2V0TG9jYWxUcmFuc2Zvcm0oKSxlPXRoaXMuX3JvYW1UcmFuc2Zvcm0saT10aGlzLmdldERlZmF1bHRDZW50ZXIoKSxuPXRoaXMuZ2V0Q2VudGVyKCksbz10aGlzLmdldFpvb20oKTtuPWEuYXBwbHlUcmFuc2Zvcm0oW10sbix0KSxpPWEuYXBwbHlUcmFuc2Zvcm0oW10saSx0KSxlLm9yaWdpbj1uLGUucG9zaXRpb249W2lbMF0tblswXSxpWzFdLW5bMV1dLGUuc2NhbGU9W28sb10sdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LF91cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb2FtVHJhbnNmb3JtLGU9dGhpcy5fdmlld1RyYW5zZm9ybTtlLnBhcmVudD10LHQudXBkYXRlVHJhbnNmb3JtKCksZS51cGRhdGVUcmFuc2Zvcm0oKSxlLnRyYW5zZm9ybSYmci5jb3B5KHRoaXMudHJhbnNmb3JtfHwodGhpcy50cmFuc2Zvcm09W10pLGUudHJhbnNmb3JtKSx0aGlzLnRyYW5zZm9ybT8odGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fFtdLHIuaW52ZXJ0KHRoaXMuaW52VHJhbnNmb3JtLHRoaXMudHJhbnNmb3JtKSk6dGhpcy5pbnZUcmFuc2Zvcm09bnVsbCx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpfSxnZXRWaWV3UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3UmVjdH0sZ2V0Vmlld1JlY3RBZnRlclJvYW06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cmV0dXJuIHQuYXBwbHlUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm0pLHR9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtO3JldHVybiBlP3UoW10sdCxlKTpbdFswXSx0WzFdXX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIGU/dShbXSx0LGUpOlt0WzBdLHRbMV1dfX0sbC5taXhpbihvLHMpLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7aWYodGhpcy5uYW1lPXQsdGhpcy5jb250b3Vycz1lLGkpaT1baVswXSxpWzFdXTtlbHNle3ZhciBuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7aT1bbi54K24ud2lkdGgvMixuLnkrbi5oZWlnaHQvMl19dGhpcy5jZW50ZXI9aX12YXIgbz1pKDM1MiksYT1pKDgpLHI9aSg2NSkscz1pKDUpO24ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpuLGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3Q7aWYodClyZXR1cm4gdDtmb3IodmFyIGU9TnVtYmVyLk1BWF9WQUxVRSxpPVtlLGVdLG49Wy1lLC1lXSxvPVtdLGw9W10saD10aGlzLmNvbnRvdXJzLHU9MDt1PGgubGVuZ3RoO3UrKylyLmZyb21Qb2ludHMoaFt1XSxvLGwpLHMubWluKGksaSxvKSxzLm1heChuLG4sbCk7cmV0dXJuIDA9PT11JiYoaVswXT1pWzFdPW5bMF09blsxXT0wKSx0aGlzLl9yZWN0PW5ldyBhKGlbMF0saVsxXSxuWzBdLWlbMF0sblsxXS1pWzFdKX0sY29udGFpbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kaW5nUmVjdCgpLGk9dGhpcy5jb250b3VycztpZihlLmNvbnRhaW4odFswXSx0WzFdKSlmb3IodmFyIG49MCxhPWkubGVuZ3RoO2E+bjtuKyspaWYoby5jb250YWluKGlbbl0sdFswXSx0WzFdKSlyZXR1cm4hMDtyZXR1cm4hMX0sdHJhbnNmb3JtVG86ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxyPW8ud2lkdGgvby5oZWlnaHQ7aT9ufHwobj1pL3IpOmk9cipuO2Zvcih2YXIgbD1uZXcgYSh0LGUsaSxuKSxoPW8uY2FsY3VsYXRlVHJhbnNmb3JtKGwpLHU9dGhpcy5jb250b3VycyxjPTA7Yzx1Lmxlbmd0aDtjKyspZm9yKHZhciBkPTA7ZDx1W2NdLmxlbmd0aDtkKyspcy5hcHBseVRyYW5zZm9ybSh1W2NdW2RdLHVbY11bZF0saCk7bz10aGlzLl9yZWN0LG8uY29weShsKSx0aGlzLmNlbnRlcj1bby54K28ud2lkdGgvMixvLnkrby5oZWlnaHQvMl19fSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KFwicGFyYWxsZWxcIixmdW5jdGlvbihuLGEpe3ZhciByPW5ldyBvKG4sdCxlKTtyLm5hbWU9XCJwYXJhbGxlbF9cIithLHIucmVzaXplKG4sZSksbi5jb29yZGluYXRlU3lzdGVtPXIsci5tb2RlbD1uLGkucHVzaChyKX0pLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0KXtpZihcInBhcmFsbGVsXCI9PT10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIikpe3ZhciBlPXQuZ2V0KFwicGFyYWxsZWxJbmRleFwiKTt0LmNvb3JkaW5hdGVTeXN0ZW09aVtlXX19KSxpfXZhciBvPWkoMzM1KTtpKDIzKS5yZWdpc3RlcihcInBhcmFsbGVsXCIse2NyZWF0ZTpufSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXQubWFpbkRhdGEsaT10LmRhdGFzO2l8fChpPXttYWluOmV9LHQuZGF0YXNBdHRyPXttYWluOlwiZGF0YVwifSksdC5kYXRhcz10Lm1haW5EYXRhPW51bGwsaChlLGksdCksZChpLGZ1bmN0aW9uKGkpe2QoZS5UUkFOU0ZFUkFCTEVfTUVUSE9EUyxmdW5jdGlvbihlKXtpLndyYXBNZXRob2QoZSxjLmN1cnJ5KG8sdCkpfSl9KSxlLndyYXBNZXRob2QoXCJjbG9uZVNoYWxsb3dcIixjLmN1cnJ5KHIsdCkpLGQoZS5DSEFOR0FCTEVfTUVUSE9EUyxmdW5jdGlvbihpKXtlLndyYXBNZXRob2QoaSxjLmN1cnJ5KGEsdCkpfSksYy5hc3NlcnQoaVtlLmRhdGFUeXBlXT09PWUpfWZ1bmN0aW9uIG8odCxlKXtpZihsKHRoaXMpKXt2YXIgaT1jLmV4dGVuZCh7fSx0aGlzW2ZdKTtpW3RoaXMuZGF0YVR5cGVdPWUsaChlLGksdCl9ZWxzZSB1KGUsdGhpcy5kYXRhVHlwZSx0aGlzW3BdLHQpO3JldHVybiBlfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdC5zdHJ1Y3QmJnQuc3RydWN0LnVwZGF0ZSh0aGlzKSxlfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gZChlW2ZdLGZ1bmN0aW9uKGksbil7aSE9PWUmJnUoaS5jbG9uZVNoYWxsb3coKSxuLGUsdCl9KSxlfWZ1bmN0aW9uIHModCl7dmFyIGU9dGhpc1twXTtyZXR1cm4gbnVsbD09dHx8bnVsbD09ZT9lOmVbZl1bdF19ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdFtwXT09PXR9ZnVuY3Rpb24gaCh0LGUsaSl7dFtmXT17fSxkKGUsZnVuY3Rpb24oZSxuKXt1KGUsbix0LGkpfSl9ZnVuY3Rpb24gdSh0LGUsaSxuKXtpW2ZdW2VdPXQsdFtwXT1pLHQuZGF0YVR5cGU9ZSxuLnN0cnVjdCYmKHRbbi5zdHJ1Y3RBdHRyXT1uLnN0cnVjdCxuLnN0cnVjdFtuLmRhdGFzQXR0cltlXV09dCksdC5nZXRMaW5rZWREYXRhPXN9dmFyIGM9aSgxKSxkPWMuZWFjaCxmPVwiXFx4MDBfX2xpbmtfZGF0YXNcIixwPVwiXFx4MDBfX2xpbmtfbWFpbkRhdGFcIjt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMik7aSgyMjcpLGkoMjI4KSxuLnJlZ2lzdGVyVmlzdWFsQ29kaW5nKFwiY2hhcnRcIixpKDIzMCkpLG4ucmVnaXN0ZXJMYXlvdXQoaSgyMjkpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSksbz1pKDEzKSxhPWkoMTU5KSxyPW8uZXh0ZW5kKHt0eXBlOlwic2VyaWVzLmJveHBsb3RcIixkZXBlbmRlbmNpZXM6W1wieEF4aXNcIixcInlBeGlzXCIsXCJncmlkXCJdLHZhbHVlRGltZW5zaW9uczpbXCJtaW5cIixcIlExXCIsXCJtZWRpYW5cIixcIlEzXCIsXCJtYXhcIl0sZGltZW5zaW9uczpudWxsLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwiY2FydGVzaWFuMmRcIixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAseEF4aXNJbmRleDowLHlBeGlzSW5kZXg6MCxsYXlvdXQ6bnVsbCxib3hXaWR0aDpbNyw1MF0saXRlbVN0eWxlOntub3JtYWw6e2NvbG9yOlwiI2ZmZlwiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntib3JkZXJXaWR0aDoyLHNoYWRvd0JsdXI6NSxzaGFkb3dPZmZzZXRYOjIsc2hhZG93T2Zmc2V0WToyLHNoYWRvd0NvbG9yOlwicmdiYSgwLDAsMCwwLjQpXCJ9fSxhbmltYXRpb25FYXNpbmc6XCJlbGFzdGljT3V0XCIsYW5pbWF0aW9uRHVyYXRpb246ODAwfX0pO24ubWl4aW4ocixhLnNlcmllc01vZGVsTWl4aW4sITApLHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG49ZS5nZXRJdGVtTW9kZWwoaSksbz1uLmdldE1vZGVsKGgpLGE9ZS5nZXRJdGVtVmlzdWFsKGksXCJjb2xvclwiKSxzPW8uZ2V0SXRlbVN0eWxlKFtcImJvcmRlckNvbG9yXCJdKSxsPXQuY2hpbGRBdCh0LndoaXNrZXJJbmRleCk7bC5zdHlsZS5zZXQocyksbC5zdHlsZS5zdHJva2U9YSxsLmRpcnR5KCk7dmFyIGM9dC5jaGlsZEF0KHQuYm9keUluZGV4KTtjLnN0eWxlLnNldChzKSxjLnN0eWxlLnN0cm9rZT1hLGMuZGlydHkoKTt2YXIgZD1uLmdldE1vZGVsKHUpLmdldEl0ZW1TdHlsZSgpO3Iuc2V0SG92ZXJTdHlsZSh0LGQpfXZhciBvPWkoMSksYT1pKDI2KSxyPWkoMykscz1pKDE1OSksbD1hLmV4dGVuZCh7dHlwZTpcImJveHBsb3RcIixnZXRTdHlsZVVwZGF0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbn19KTtvLm1peGluKGwscy52aWV3TWl4aW4sITApO3ZhciBoPVtcIml0ZW1TdHlsZVwiLFwibm9ybWFsXCJdLHU9W1wiaXRlbVN0eWxlXCIsXCJlbXBoYXNpc1wiXTt0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7dmFyIGU9W10saT1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKFwiYm94cGxvdFwiLGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0QmFzZUF4aXMoKSxvPXIuaW5kZXhPZihpLG4pOzA+byYmKG89aS5sZW5ndGgsaVtvXT1uLGVbb109e2F4aXM6bixzZXJpZXNNb2RlbHM6W119KSxlW29dLnNlcmllc01vZGVscy5wdXNoKHQpfSksZX1mdW5jdGlvbiBvKHQpe3ZhciBlLGksbj10LmF4aXMsbz10LnNlcmllc01vZGVscyxhPW8ubGVuZ3RoLHM9dC5ib3hXaWR0aExpc3Q9W10sdT10LmJveE9mZnNldExpc3Q9W10sYz1bXTtpZihcImNhdGVnb3J5XCI9PT1uLnR5cGUpaT1uLmdldEJhbmRXaWR0aCgpO2Vsc2V7dmFyIGQ9MDtoKG8sZnVuY3Rpb24odCl7ZD1NYXRoLm1heChkLHQuZ2V0RGF0YSgpLmNvdW50KCkpfSksZT1uLmdldEV4dGVudCgpLE1hdGguYWJzKGVbMV0tZVswXSkvZH1oKG8sZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJib3hXaWR0aFwiKTtyLmlzQXJyYXkoZSl8fChlPVtlLGVdKSxjLnB1c2goW2woZVswXSxpKXx8MCxsKGVbMV0saSl8fDBdKX0pO3ZhciBmPS44KmktMixwPWYvYSouMyxnPShmLXAqKGEtMSkpL2EsbT1nLzItZi8yO2gobyxmdW5jdGlvbih0LGUpe3UucHVzaChtKSxtKz1wK2cscy5wdXNoKE1hdGgubWluKE1hdGgubWF4KGcsY1tlXVswXSksY1tlXVsxXSkpfSl9ZnVuY3Rpb24gYSh0LGUsaSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLG89dC5nZXREYXRhKCksYT10LmRpbWVuc2lvbnMscj10LmdldChcImxheW91dFwiKSxzPWkvMjtvLmVhY2goYSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGk9W107aVtmXT1jLGlbcF09dDt2YXIgbztyZXR1cm4gaXNOYU4oYyl8fGlzTmFOKHQpP289W05hTixOYU5dOihvPW4uZGF0YVRvUG9pbnQoaSksb1tmXSs9ZSksb31mdW5jdGlvbiBpKHQsZSl7dmFyIGk9dC5zbGljZSgpLG49dC5zbGljZSgpO2lbZl0rPXMsbltmXS09cyxlP3gucHVzaChpLG4pOngucHVzaChuLGkpfWZ1bmN0aW9uIGwodCl7dmFyIGU9W3Quc2xpY2UoKSx0LnNsaWNlKCldO2VbMF1bZl0tPXMsZVsxXVtmXSs9cyx5LnB1c2goZSl9dmFyIGg9YXJndW1lbnRzLHU9YS5sZW5ndGgsYz1oWzBdLGQ9aFt1XSxmPVwiaG9yaXpvbnRhbFwiPT09cj8wOjEscD0xLWYsZz10KGhbM10pLG09dChoWzFdKSx2PXQoaFs1XSkseT1bW20sdChoWzJdKV0sW3YsdChoWzRdKV1dO2wobSksbCh2KSxsKGcpO3ZhciB4PVtdO2koeVswXVsxXSwwKSxpKHlbMV1bMV0sMSksby5zZXRJdGVtTGF5b3V0KGQse2NoYXJ0TGF5b3V0OnIsaW5pdEJhc2VsaW5lOmdbcF0sbWVkaWFuOmcsYm9keUVuZHM6eCx3aGlza2VyRW5kczp5fSl9KX12YXIgcj1pKDEpLHM9aSg0KSxsPXMucGFyc2VQZXJjZW50LGg9ci5lYWNoO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPW4odCk7aChpLGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWxzO2UubGVuZ3RoJiYobyh0KSxoKGUsZnVuY3Rpb24oZSxpKXthKGUsdC5ib3hPZmZzZXRMaXN0W2ldLHQuYm94V2lkdGhMaXN0W2ldKX0pKX0pfX0sZnVuY3Rpb24odCxlKXt2YXIgaT1bXCJpdGVtU3R5bGVcIixcIm5vcm1hbFwiLFwiYm9yZGVyQ29sb3JcIl07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoXCJjb2xvclwiKTt0LmVhY2hSYXdTZXJpZXNCeVR5cGUoXCJib3hwbG90XCIsZnVuY3Rpb24oZSl7dmFyIG89bltlLnNlcmllc0luZGV4JW4ubGVuZ3RoXSxhPWUuZ2V0RGF0YSgpO2Euc2V0VmlzdWFsKHtsZWdlbmRTeW1ib2w6XCJyb3VuZFJlY3RcIixjb2xvcjplLmdldChpKXx8b30pLHQuaXNTZXJpZXNGaWx0ZXJlZChlKXx8YS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0SXRlbU1vZGVsKHQpO2Euc2V0SXRlbVZpc3VhbCh0LHtjb2xvcjplLmdldChpLCEwKX0pfSl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDIpO2koMjMyKSxpKDIzMyksbi5yZWdpc3RlclByZXByb2Nlc3NvcihpKDIzNikpLG4ucmVnaXN0ZXJWaXN1YWxDb2RpbmcoXCJjaGFydFwiLGkoMjM1KSksbi5yZWdpc3RlckxheW91dChpKDIzNCkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxvPWkoMTMpLGE9aSgxNTkpLHI9aSg5KSxzPXIuZW5jb2RlSFRNTCxsPXIuYWRkQ29tbWFzLGg9by5leHRlbmQoe3R5cGU6XCJzZXJpZXMuY2FuZGxlc3RpY2tcIixkZXBlbmRlbmNpZXM6W1wieEF4aXNcIixcInlBeGlzXCIsXCJncmlkXCJdLHZhbHVlRGltZW5zaW9uczpbXCJvcGVuXCIsXCJjbG9zZVwiLFwibG93ZXN0XCIsXCJoaWdoZXN0XCJdLGRpbWVuc2lvbnM6bnVsbCxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbTpcImNhcnRlc2lhbjJkXCIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsbGF5b3V0Om51bGwsaXRlbVN0eWxlOntub3JtYWw6e2NvbG9yOlwiI2MyMzUzMVwiLGNvbG9yMDpcIiMzMTQ2NTZcIixib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOlwiI2MyMzUzMVwiLGJvcmRlckNvbG9yMDpcIiMzMTQ2NTZcIn0sZW1waGFzaXM6e2JvcmRlcldpZHRoOjJ9fSxhbmltYXRpb25VcGRhdGU6ITEsYW5pbWF0aW9uRWFzaW5nOlwibGluZWFyXCIsYW5pbWF0aW9uRHVyYXRpb246MzAwfSxnZXRTaGFkb3dEaW06ZnVuY3Rpb24oKXtyZXR1cm5cIm9wZW5cIn0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0LGUpe3ZhciBpPW4ubWFwKHRoaXMudmFsdWVEaW1lbnNpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlK1wiOiBcIitsKHRoaXMuX2RhdGEuZ2V0KGUsdCkpfSx0aGlzKTtyZXR1cm4gcyh0aGlzLm5hbWUpK1wiPGJyIC8+XCIraS5qb2luKFwiPGJyIC8+XCIpfX0pO24ubWl4aW4oaCxhLnNlcmllc01vZGVsTWl4aW4sITApLHQuZXhwb3J0cz1ofSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG49ZS5nZXRJdGVtTW9kZWwoaSksbz1uLmdldE1vZGVsKGgpLGE9ZS5nZXRJdGVtVmlzdWFsKGksXCJjb2xvclwiKSxzPWUuZ2V0SXRlbVZpc3VhbChpLFwiYm9yZGVyQ29sb3JcIiksbD1vLmdldEl0ZW1TdHlsZShbXCJjb2xvclwiLFwiY29sb3IwXCIsXCJib3JkZXJDb2xvclwiLFwiYm9yZGVyQ29sb3IwXCJdKSxjPXQuY2hpbGRBdCh0LndoaXNrZXJJbmRleCk7Yy51c2VTdHlsZShsKSxjLnN0eWxlLnN0cm9rZT1zO3ZhciBkPXQuY2hpbGRBdCh0LmJvZHlJbmRleCk7ZC51c2VTdHlsZShsKSxkLnN0eWxlLmZpbGw9YSxkLnN0eWxlLnN0cm9rZT1zO3ZhciBmPW4uZ2V0TW9kZWwodSkuZ2V0SXRlbVN0eWxlKCk7ci5zZXRIb3ZlclN0eWxlKHQsZil9dmFyIG89aSgxKSxhPWkoMjYpLHI9aSgzKSxzPWkoMTU5KSxsPWEuZXh0ZW5kKHt0eXBlOlwiY2FuZGxlc3RpY2tcIixnZXRTdHlsZVVwZGF0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbn19KTtvLm1peGluKGwscy52aWV3TWl4aW4sITApO3ZhciBoPVtcIml0ZW1TdHlsZVwiLFwibm9ybWFsXCJdLHU9W1wiaXRlbVN0eWxlXCIsXCJlbXBoYXNpc1wiXTt0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7dmFyIGkscj10LmdldEJhc2VBeGlzKCkscz1cImNhdGVnb3J5XCI9PT1yLnR5cGU/ci5nZXRCYW5kV2lkdGgoKTooaT1yLmdldEV4dGVudCgpLE1hdGguYWJzKGlbMV0taVswXSkvZS5jb3VudCgpKTtyZXR1cm4gcy8yLTI+bz9zLzItMjpzLW8+YT9vOk1hdGgubWF4KHMtYSxuKX12YXIgbj0yLG89NSxhPTQ7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKFwiY2FuZGxlc3RpY2tcIixmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj10LmdldERhdGEoKSxvPXQuZGltZW5zaW9ucyxhPXQuZ2V0KFwibGF5b3V0XCIpLHI9aSh0LG4pO24uZWFjaChvLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgaT1bXTtyZXR1cm4gaVtjXT1oLGlbZF09dCxpc05hTihoKXx8aXNOYU4odCk/W05hTixOYU5dOmUuZGF0YVRvUG9pbnQoaSl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBpPXQuc2xpY2UoKSxuPXQuc2xpY2UoKTtpW2NdKz1yLzIsbltjXS09ci8yLGU/TS5wdXNoKGksbik6TS5wdXNoKG4saSl9dmFyIHM9YXJndW1lbnRzLGw9by5sZW5ndGgsaD1zWzBdLHU9c1tsXSxjPVwiaG9yaXpvbnRhbFwiPT09YT8wOjEsZD0xLWMsZj1zWzFdLHA9c1syXSxnPXNbM10sbT1zWzRdLHY9TWF0aC5taW4oZixwKSx5PU1hdGgubWF4KGYscCkseD10KHYpLF89dCh5KSxiPXQoZyksdz10KG0pLFM9W1t3LF9dLFtiLHhdXSxNPVtdO2koXywwKSxpKHgsMSksbi5zZXRJdGVtTGF5b3V0KHUse2NoYXJ0TGF5b3V0OmEsc2lnbjpmPnA/LTE6cD5mPzE6MCxpbml0QmFzZWxpbmU6Zj5wP19bZF06eFtkXSxib2R5RW5kczpNLHdoaXNrZXJFbmRzOlN9KX0sITApfSl9fSxmdW5jdGlvbih0LGUpe3ZhciBpPVtcIml0ZW1TdHlsZVwiLFwibm9ybWFsXCIsXCJib3JkZXJDb2xvclwiXSxuPVtcIml0ZW1TdHlsZVwiLFwibm9ybWFsXCIsXCJib3JkZXJDb2xvcjBcIl0sbz1bXCJpdGVtU3R5bGVcIixcIm5vcm1hbFwiLFwiY29sb3JcIl0sYT1bXCJpdGVtU3R5bGVcIixcIm5vcm1hbFwiLFwiY29sb3IwXCJdO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3QuZWFjaFJhd1Nlcmllc0J5VHlwZShcImNhbmRsZXN0aWNrXCIsZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXREYXRhKCk7ci5zZXRWaXN1YWwoe2xlZ2VuZFN5bWJvbDpcInJvdW5kUmVjdFwifSksdC5pc1Nlcmllc0ZpbHRlcmVkKGUpfHxyLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtTW9kZWwodCkscz1yLmdldEl0ZW1MYXlvdXQodCkuc2lnbjtyLnNldEl0ZW1WaXN1YWwodCx7Y29sb3I6ZS5nZXQocz4wP286YSksYm9yZGVyQ29sb3I6ZS5nZXQocz4wP2k6bil9KX0pfSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dCYmbi5pc0FycmF5KHQuc2VyaWVzKSYmbi5lYWNoKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe24uaXNPYmplY3QodCkmJlwia1wiPT09dC50eXBlJiYodC50eXBlPVwiY2FuZGxlc3RpY2tcIil9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89aSgyKTtpKDIzOCksaSgyMzkpLG8ucmVnaXN0ZXJWaXN1YWxDb2RpbmcoXCJjaGFydFwiLG4uY3VycnkoaSg0NCksXCJlZmZlY3RTY2F0dGVyXCIsXCJjaXJjbGVcIixudWxsKSksby5yZWdpc3RlckxheW91dChuLmN1cnJ5KGkoNTMpLFwiZWZmZWN0U2NhdHRlclwiKSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDM1KSxvPWkoMTMpO3QuZXhwb3J0cz1vLmV4dGVuZCh7dHlwZTpcInNlcmllcy5lZmZlY3RTY2F0dGVyXCIsZGVwZW5kZW5jaWVzOltcImdyaWRcIixcInBvbGFyXCJdLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bih0LmRhdGEsdGhpcyxlKTtyZXR1cm4gaX0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbTpcImNhcnRlc2lhbjJkXCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxlZmZlY3RUeXBlOlwicmlwcGxlXCIsc2hvd0VmZmVjdE9uOlwicmVuZGVyXCIscmlwcGxlRWZmZWN0OntwZXJpb2Q6NCxzY2FsZToyLjUsYnJ1c2hUeXBlOlwiZmlsbFwifSx4QXhpc0luZGV4OjAseUF4aXNJbmRleDowLHBvbGFySW5kZXg6MCxnZW9JbmRleDowLHN5bWJvbFNpemU6MTB9fSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDM5KSxvPWkoMjY2KTtpKDIpLmV4dGVuZENoYXJ0Vmlldyh7dHlwZTpcImVmZmVjdFNjYXR0ZXJcIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5fc3ltYm9sRHJhdz1uZXcgbihvKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKSxvPXRoaXMuX3N5bWJvbERyYXc7by51cGRhdGVEYXRhKG4pLHRoaXMuZ3JvdXAuYWRkKG8uZ3JvdXApfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9zeW1ib2xEcmF3LnVwZGF0ZUxheW91dCgpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZShlKX19KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz1pKDIpO2koMjQxKSxpKDI0Miksby5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsbi5jdXJyeShpKDY0KSxcImZ1bm5lbFwiKSksby5yZWdpc3RlckxheW91dChpKDI0MykpLG8ucmVnaXN0ZXJQcm9jZXNzb3IoXCJmaWx0ZXJcIixuLmN1cnJ5KGkoNjMpLFwiZnVubmVsXCIpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMTUpLG89aSg3KSxhPWkoMzEpLHI9aSgyKS5leHRlbmRTZXJpZXNNb2RlbCh7dHlwZTpcInNlcmllcy5mdW5uZWxcIixpbml0OmZ1bmN0aW9uKHQpe3Iuc3VwZXJBcHBseSh0aGlzLFwiaW5pdFwiLGFyZ3VtZW50cyksdGhpcy5sZWdlbmREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUJlZm9yZVByb2Nlc3NlZH0sdGhpcy5fZGVmYXVsdExhYmVsTGluZSh0KX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT1hKFtcInZhbHVlXCJdLHQuZGF0YSksbz1uZXcgbihpLHRoaXMpO3JldHVybiBvLmluaXREYXRhKHQuZGF0YSksb30sX2RlZmF1bHRMYWJlbExpbmU6ZnVuY3Rpb24odCl7by5kZWZhdWx0RW1waGFzaXModC5sYWJlbExpbmUsW1wic2hvd1wiXSk7dmFyIGU9dC5sYWJlbExpbmUubm9ybWFsLGk9dC5sYWJlbExpbmUuZW1waGFzaXM7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5ub3JtYWwuc2hvdyxpLnNob3c9aS5zaG93JiZ0LmxhYmVsLmVtcGhhc2lzLnNob3d9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLG1pblNpemU6XCIwJVwiLG1heFNpemU6XCIxMDAlXCIsc29ydDpcImRlc2NlbmRpbmdcIixnYXA6MCxmdW5uZWxBbGlnbjpcImNlbnRlclwiLGxhYmVsOntub3JtYWw6e3Nob3c6ITAscG9zaXRpb246XCJvdXRlclwifSxlbXBoYXNpczp7c2hvdzohMH19LGxhYmVsTGluZTp7bm9ybWFsOntzaG93OiEwLGxlbmd0aDoyMCxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZTpcInNvbGlkXCJ9fSxlbXBoYXNpczp7fX0saXRlbVN0eWxlOntub3JtYWw6e2JvcmRlckNvbG9yOlwiI2ZmZlwiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOnt9fX19KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtmdW5jdGlvbiBpKCl7ci5pZ25vcmU9ci5ob3Zlcklnbm9yZSxzLmlnbm9yZT1zLmhvdmVySWdub3JlfWZ1bmN0aW9uIG4oKXtyLmlnbm9yZT1yLm5vcm1hbElnbm9yZSxzLmlnbm9yZT1zLm5vcm1hbElnbm9yZX1hLkdyb3VwLmNhbGwodGhpcyk7dmFyIG89bmV3IGEuUG9seWdvbixyPW5ldyBhLlBvbHlsaW5lLHM9bmV3IGEuVGV4dDt0aGlzLmFkZChvKSx0aGlzLmFkZChyKSx0aGlzLmFkZChzKSx0aGlzLnVwZGF0ZURhdGEodCxlLCEwKSx0aGlzLm9uKFwiZW1waGFzaXNcIixpKS5vbihcIm5vcm1hbFwiLG4pLm9uKFwibW91c2VvdmVyXCIsaSkub24oXCJtb3VzZW91dFwiLG4pfWZ1bmN0aW9uIG8odCxlLGksbil7dmFyIG89bi5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxhPW4uZ2V0KFwicG9zaXRpb25cIikscz1cImluc2lkZVwiPT09YXx8XCJpbm5lclwiPT09YXx8XCJjZW50ZXJcIj09PWE7cmV0dXJue2ZpbGw6by5nZXRUZXh0Q29sb3IoKXx8KHM/XCIjZmZmXCI6dC5nZXRJdGVtVmlzdWFsKGUsXCJjb2xvclwiKSksdGV4dEZvbnQ6by5nZXRGb250KCksdGV4dDpyLnJldHJpZXZlKHQuaG9zdE1vZGVsLmdldEZvcm1hdHRlZExhYmVsKGUsaSksdC5nZXROYW1lKGUpKX19dmFyIGE9aSgzKSxyPWkoMSkscz1uLnByb3RvdHlwZSxsPVtcIml0ZW1TdHlsZVwiLFwibm9ybWFsXCIsXCJvcGFjaXR5XCJdO3MudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jaGlsZEF0KDApLG89dC5ob3N0TW9kZWwscz10LmdldEl0ZW1Nb2RlbChlKSxoPXQuZ2V0SXRlbUxheW91dChlKSx1PXQuZ2V0SXRlbU1vZGVsKGUpLmdldChsKTt1PW51bGw9PXU/MTp1LG4udXNlU3R5bGUoe30pLGk/KG4uc2V0U2hhcGUoe3BvaW50czpoLnBvaW50c30pLG4uc2V0U3R5bGUoe29wYWNpdHk6MH0pLGEuaW5pdFByb3BzKG4se3N0eWxlOntvcGFjaXR5OnV9fSxvLGUpKTphLnVwZGF0ZVByb3BzKG4se3N0eWxlOntvcGFjaXR5OnV9LHNoYXBlOntwb2ludHM6aC5wb2ludHN9fSxvLGUpO3ZhciBjPXMuZ2V0TW9kZWwoXCJpdGVtU3R5bGVcIiksZD10LmdldEl0ZW1WaXN1YWwoZSxcImNvbG9yXCIpO24uc2V0U3R5bGUoci5kZWZhdWx0cyh7ZmlsbDpkfSxjLmdldE1vZGVsKFwibm9ybWFsXCIpLmdldEl0ZW1TdHlsZShbXCJvcGFjaXR5XCJdKSkpLG4uaG92ZXJTdHlsZT1jLmdldE1vZGVsKFwiZW1waGFzaXNcIikuZ2V0SXRlbVN0eWxlKCksdGhpcy5fdXBkYXRlTGFiZWwodCxlKSxhLnNldEhvdmVyU3R5bGUodGhpcyl9LHMuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDEpLG49dGhpcy5jaGlsZEF0KDIpLHI9dC5ob3N0TW9kZWwscz10LmdldEl0ZW1Nb2RlbChlKSxsPXQuZ2V0SXRlbUxheW91dChlKSxoPWwubGFiZWwsdT10LmdldEl0ZW1WaXN1YWwoZSxcImNvbG9yXCIpO2EudXBkYXRlUHJvcHMoaSx7c2hhcGU6e3BvaW50czpoLmxpbmVQb2ludHN8fGgubGluZVBvaW50c319LHIsZSksYS51cGRhdGVQcm9wcyhuLHtzdHlsZTp7eDpoLngseTpoLnl9fSxyLGUpLG4uYXR0cih7c3R5bGU6e3RleHRBbGlnbjpoLnRleHRBbGlnbix0ZXh0VmVydGljYWxBbGlnbjpoLnZlcnRpY2FsQWxpZ24sdGV4dEZvbnQ6aC5mb250fSxyb3RhdGlvbjpoLnJvdGF0aW9uLG9yaWdpbjpbaC54LGgueV0sejI6MTB9KTt2YXIgYz1zLmdldE1vZGVsKFwibGFiZWwubm9ybWFsXCIpLGQ9cy5nZXRNb2RlbChcImxhYmVsLmVtcGhhc2lzXCIpLGY9cy5nZXRNb2RlbChcImxhYmVsTGluZS5ub3JtYWxcIikscD1zLmdldE1vZGVsKFwibGFiZWxMaW5lLmVtcGhhc2lzXCIpO24uc2V0U3R5bGUobyh0LGUsXCJub3JtYWxcIixjKSksbi5pZ25vcmU9bi5ub3JtYWxJZ25vcmU9IWMuZ2V0KFwic2hvd1wiKSxuLmhvdmVySWdub3JlPSFkLmdldChcInNob3dcIiksaS5pZ25vcmU9aS5ub3JtYWxJZ25vcmU9IWYuZ2V0KFwic2hvd1wiKSxpLmhvdmVySWdub3JlPSFwLmdldChcInNob3dcIiksaS5zZXRTdHlsZSh7c3Ryb2tlOnV9KSxpLnNldFN0eWxlKGYuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikuZ2V0TGluZVN0eWxlKCkpLG4uaG92ZXJTdHlsZT1vKHQsZSxcImVtcGhhc2lzXCIsZCksaS5ob3ZlclN0eWxlPXAuZ2V0TW9kZWwoXCJsaW5lU3R5bGVcIikuZ2V0TGluZVN0eWxlKCl9LHIuaW5oZXJpdHMobixhLkdyb3VwKTt2YXIgaD1pKDI2KS5leHRlbmQoe3R5cGU6XCJmdW5uZWxcIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXQuZ2V0RGF0YSgpLGE9dGhpcy5fZGF0YSxyPXRoaXMuZ3JvdXA7by5kaWZmKGEpLmFkZChmdW5jdGlvbih0KXt2YXIgZT1uZXcgbihvLHQpO28uc2V0SXRlbUdyYXBoaWNFbCh0LGUpLHIuYWRkKGUpfSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5nZXRJdGVtR3JhcGhpY0VsKGUpO2kudXBkYXRlRGF0YShvLHQpLHIuYWRkKGkpLG8uc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0SXRlbUdyYXBoaWNFbCh0KTtyLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPW99LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfX0pO3QuZXhwb3J0cz1ofSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiByLmdldExheW91dFJlY3QodC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9ZnVuY3Rpb24gbyh0LGUpe2Zvcih2YXIgaT10Lm1hcEFycmF5KFwidmFsdWVcIixmdW5jdGlvbih0KXtyZXR1cm4gdH0pLG49W10sbz1cImFzY2VuZGluZ1wiPT09ZSxhPTAscj10LmNvdW50KCk7cj5hO2ErKyluW2FdPWE7cmV0dXJuIG4uc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBvP2lbdF0taVtlXTppW2VdLWlbdF19KSxufWZ1bmN0aW9uIGEodCl7dC5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpLG4sbyxhLHI9dC5nZXRJdGVtTW9kZWwoZSkscz1yLmdldE1vZGVsKFwibGFiZWwubm9ybWFsXCIpLGw9cy5nZXQoXCJwb3NpdGlvblwiKSxoPXIuZ2V0TW9kZWwoXCJsYWJlbExpbmUubm9ybWFsXCIpLHU9dC5nZXRJdGVtTGF5b3V0KGUpLGM9dS5wb2ludHMsZD1cImlubmVyXCI9PT1sfHxcImluc2lkZVwiPT09bHx8XCJjZW50ZXJcIj09PWw7aWYoZCluPShjWzBdWzBdK2NbMV1bMF0rY1syXVswXStjWzNdWzBdKS80LG89KGNbMF1bMV0rY1sxXVsxXStjWzJdWzFdK2NbM11bMV0pLzQsaT1cImNlbnRlclwiLGE9W1tuLG9dLFtuLG9dXTtlbHNle3ZhciBmLHAsZyxtPWguZ2V0KFwibGVuZ3RoXCIpO1wibGVmdFwiPT09bD8oZj0oY1szXVswXStjWzBdWzBdKS8yLHA9KGNbM11bMV0rY1swXVsxXSkvMixnPWYtbSxuPWctNSxpPVwicmlnaHRcIik6KGY9KGNbMV1bMF0rY1syXVswXSkvMixwPShjWzFdWzFdK2NbMl1bMV0pLzIsZz1mK20sbj1nKzUsaT1cImxlZnRcIik7dmFyIHY9cDthPVtbZixwXSxbZyx2XV0sbz12fXUubGFiZWw9e2xpbmVQb2ludHM6YSx4Om4seTpvLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIix0ZXh0QWxpZ246aSxpbnNpZGU6ZH19KX12YXIgcj1pKDExKSxzPWkoNCksbD1zLnBhcnNlUGVyY2VudDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJmdW5uZWxcIixmdW5jdGlvbih0KXt2YXIgaT10LmdldERhdGEoKSxyPXQuZ2V0KFwic29ydFwiKSxoPW4odCxlKSx1PW8oaSxyKSxjPVtsKHQuZ2V0KFwibWluU2l6ZVwiKSxoLndpZHRoKSxsKHQuZ2V0KFwibWF4U2l6ZVwiKSxoLndpZHRoKV0sZD1pLmdldERhdGFFeHRlbnQoXCJ2YWx1ZVwiKSxmPXQuZ2V0KFwibWluXCIpLHA9dC5nZXQoXCJtYXhcIik7bnVsbD09ZiYmKGY9TWF0aC5taW4oZFswXSwwKSksbnVsbD09cCYmKHA9ZFsxXSk7dmFyIGc9dC5nZXQoXCJmdW5uZWxBbGlnblwiKSxtPXQuZ2V0KFwiZ2FwXCIpLHY9KGguaGVpZ2h0LW0qKGkuY291bnQoKS0xKSkvaS5jb3VudCgpLHk9aC55LHg9ZnVuY3Rpb24odCxlKXt2YXIgbixvPWkuZ2V0KFwidmFsdWVcIix0KXx8MCxhPXMubGluZWFyTWFwKG8sW2YscF0sYywhMCk7c3dpdGNoKGcpe2Nhc2VcImxlZnRcIjpuPWgueDticmVhaztjYXNlXCJjZW50ZXJcIjpuPWgueCsoaC53aWR0aC1hKS8yO2JyZWFrO2Nhc2VcInJpZ2h0XCI6bj1oLngraC53aWR0aC1hfXJldHVybltbbixlXSxbbithLGVdXX07XCJhc2NlbmRpbmdcIj09PXImJih2PS12LG09LW0seSs9aC5oZWlnaHQsdT11LnJldmVyc2UoKSk7Zm9yKHZhciBfPTA7Xzx1Lmxlbmd0aDtfKyspe3ZhciBiPXVbX10sdz11W18rMV0sUz14KGIseSksTT14KHcseSt2KTt5Kz12K20saS5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpTLmNvbmNhdChNLnNsaWNlKCkucmV2ZXJzZSgpKX0pfWEoaSl9KX19LGZ1bmN0aW9uKHQsZSxpKXtpKDI0NSksaSgyNDYpfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxNSksbz1pKDEzKSxhPWkoMSkscj1vLmV4dGVuZCh7dHlwZTpcInNlcmllcy5nYXVnZVwiLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IG4oW1widmFsdWVcIl0sdGhpcyksbz10LmRhdGF8fFtdO3JldHVybiBhLmlzQXJyYXkobyl8fChvPVtvXSksaS5pbml0RGF0YShvKSxpfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY2VudGVyOltcIjUwJVwiLFwiNTAlXCJdLGxlZ2VuZEhvdmVyTGluazohMCxyYWRpdXM6XCI3NSVcIixzdGFydEFuZ2xlOjIyNSxlbmRBbmdsZTotNDUsY2xvY2t3aXNlOiEwLG1pbjowLG1heDoxMDAsc3BsaXROdW1iZXI6MTAsYXhpc0xpbmU6e3Nob3c6ITAsbGluZVN0eWxlOntjb2xvcjpbWy4yLFwiIzkxYzdhZVwiXSxbLjgsXCIjNjM4NjllXCJdLFsxLFwiI2MyMzUzMVwiXV0sd2lkdGg6MzB9fSxzcGxpdExpbmU6e3Nob3c6ITAsbGVuZ3RoOjMwLGxpbmVTdHlsZTp7Y29sb3I6XCIjZWVlXCIsd2lkdGg6Mix0eXBlOlwic29saWRcIn19LGF4aXNUaWNrOntzaG93OiEwLHNwbGl0TnVtYmVyOjUsbGVuZ3RoOjgsbGluZVN0eWxlOntjb2xvcjpcIiNlZWVcIix3aWR0aDoxLHR5cGU6XCJzb2xpZFwifX0sYXhpc0xhYmVsOntzaG93OiEwLHRleHRTdHlsZTp7Y29sb3I6XCJhdXRvXCJ9fSxwb2ludGVyOntzaG93OiEwLGxlbmd0aDpcIjgwJVwiLHdpZHRoOjh9LGl0ZW1TdHlsZTp7XG5ub3JtYWw6e2NvbG9yOlwiYXV0b1wifX0sdGl0bGU6e3Nob3c6ITAsb2Zmc2V0Q2VudGVyOlswLFwiLTQwJVwiXSx0ZXh0U3R5bGU6e2NvbG9yOlwiIzMzM1wiLGZvbnRTaXplOjE1fX0sZGV0YWlsOntzaG93OiEwLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwwLDAsMClcIixib3JkZXJXaWR0aDowLGJvcmRlckNvbG9yOlwiI2NjY1wiLHdpZHRoOjEwMCxoZWlnaHQ6NDAsb2Zmc2V0Q2VudGVyOlswLFwiNDAlXCJdLHRleHRTdHlsZTp7Y29sb3I6XCJhdXRvXCIsZm9udFNpemU6MzB9fX19KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT10LmdldChcImNlbnRlclwiKSxuPWUuZ2V0V2lkdGgoKSxvPWUuZ2V0SGVpZ2h0KCksYT1NYXRoLm1pbihuLG8pLHI9bChpWzBdLGUuZ2V0V2lkdGgoKSkscz1sKGlbMV0sZS5nZXRIZWlnaHQoKSksaD1sKHQuZ2V0KFwicmFkaXVzXCIpLGEvMik7cmV0dXJue2N4OnIsY3k6cyxyOmh9fWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP3Q9ZS5yZXBsYWNlKFwie3ZhbHVlfVwiLHQpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUodCkpKSx0fXZhciBhPWkoMjQ3KSxyPWkoMykscz1pKDQpLGw9cy5wYXJzZVBlcmNlbnQsaD0yKk1hdGguUEksdT1pKDI2KS5leHRlbmQoe3R5cGU6XCJnYXVnZVwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgbz10LmdldChcImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvclwiKSxhPW4odCxpKTt0aGlzLl9yZW5kZXJNYWluKHQsZSxpLG8sYSl9LF9yZW5kZXJNYWluOmZ1bmN0aW9uKHQsZSxpLG4sbyl7Zm9yKHZhciBhPXRoaXMuZ3JvdXAscz10LmdldE1vZGVsKFwiYXhpc0xpbmVcIiksbD1zLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLHU9dC5nZXQoXCJjbG9ja3dpc2VcIiksYz0tdC5nZXQoXCJzdGFydEFuZ2xlXCIpLzE4MCpNYXRoLlBJLGQ9LXQuZ2V0KFwiZW5kQW5nbGVcIikvMTgwKk1hdGguUEksZj0oZC1jKSVoLHA9YyxnPWwuZ2V0KFwid2lkdGhcIiksbT0wO208bi5sZW5ndGg7bSsrKXt2YXIgdj1NYXRoLm1pbihNYXRoLm1heChuW21dWzBdLDApLDEpLGQ9YytmKnYseT1uZXcgci5TZWN0b3Ioe3NoYXBlOntzdGFydEFuZ2xlOnAsZW5kQW5nbGU6ZCxjeDpvLmN4LGN5Om8uY3ksY2xvY2t3aXNlOnUscjA6by5yLWcscjpvLnJ9LHNpbGVudDohMH0pO3kuc2V0U3R5bGUoe2ZpbGw6blttXVsxXX0pLHkuc2V0U3R5bGUobC5nZXRMaW5lU3R5bGUoW1wiY29sb3JcIixcImJvcmRlcldpZHRoXCIsXCJib3JkZXJDb2xvclwiXSkpLGEuYWRkKHkpLHA9ZH12YXIgeD1mdW5jdGlvbih0KXtpZigwPj10KXJldHVybiBuWzBdWzFdO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKG5bZV1bMF0+PXQmJigwPT09ZT8wOm5bZS0xXVswXSk8dClyZXR1cm4gbltlXVsxXTtyZXR1cm4gbltlLTFdWzFdfTtpZighdSl7dmFyIF89YztjPWQsZD1ffXRoaXMuX3JlbmRlclRpY2tzKHQsZSxpLHgsbyxjLGQsdSksdGhpcy5fcmVuZGVyUG9pbnRlcih0LGUsaSx4LG8sYyxkLHUpLHRoaXMuX3JlbmRlclRpdGxlKHQsZSxpLHgsbyksdGhpcy5fcmVuZGVyRGV0YWlsKHQsZSxpLHgsbyl9LF9yZW5kZXJUaWNrczpmdW5jdGlvbih0LGUsaSxuLGEsaCx1LGMpe2Zvcih2YXIgZD10aGlzLmdyb3VwLGY9YS5jeCxwPWEuY3ksZz1hLnIsbT10LmdldChcIm1pblwiKSx2PXQuZ2V0KFwibWF4XCIpLHk9dC5nZXRNb2RlbChcInNwbGl0TGluZVwiKSx4PXQuZ2V0TW9kZWwoXCJheGlzVGlja1wiKSxfPXQuZ2V0TW9kZWwoXCJheGlzTGFiZWxcIiksYj10LmdldChcInNwbGl0TnVtYmVyXCIpLHc9eC5nZXQoXCJzcGxpdE51bWJlclwiKSxTPWwoeS5nZXQoXCJsZW5ndGhcIiksZyksTT1sKHguZ2V0KFwibGVuZ3RoXCIpLGcpLEE9aCxJPSh1LWgpL2IsVD1JL3csTD15LmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpLEM9eC5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKSxEPV8uZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIiksUD0wO2I+PVA7UCsrKXt2YXIgaz1NYXRoLmNvcyhBKSx6PU1hdGguc2luKEEpO2lmKHkuZ2V0KFwic2hvd1wiKSl7dmFyIEU9bmV3IHIuTGluZSh7c2hhcGU6e3gxOmsqZytmLHkxOnoqZytwLHgyOmsqKGctUykrZix5Mjp6KihnLVMpK3B9LHN0eWxlOkwsc2lsZW50OiEwfSk7XCJhdXRvXCI9PT1MLnN0cm9rZSYmRS5zZXRTdHlsZSh7c3Ryb2tlOm4oUC9iKX0pLGQuYWRkKEUpfWlmKF8uZ2V0KFwic2hvd1wiKSl7dmFyIE89byhzLnJvdW5kKFAvYioodi1tKSttKSxfLmdldChcImZvcm1hdHRlclwiKSksUj1uZXcgci5UZXh0KHtzdHlsZTp7dGV4dDpPLHg6ayooZy1TLTUpK2YseTp6KihnLVMtNSkrcCxmaWxsOkQuZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6RC5nZXRGb250KCksdGV4dFZlcnRpY2FsQWxpZ246LS40Pno/XCJ0b3BcIjp6Pi40P1wiYm90dG9tXCI6XCJtaWRkbGVcIix0ZXh0QWxpZ246LS40Pms/XCJsZWZ0XCI6az4uND9cInJpZ2h0XCI6XCJjZW50ZXJcIn0sc2lsZW50OiEwfSk7XCJhdXRvXCI9PT1SLnN0eWxlLmZpbGwmJlIuc2V0U3R5bGUoe2ZpbGw6bihQL2IpfSksZC5hZGQoUil9aWYoeC5nZXQoXCJzaG93XCIpJiZQIT09Yil7Zm9yKHZhciBWPTA7dz49VjtWKyspe3ZhciBrPU1hdGguY29zKEEpLHo9TWF0aC5zaW4oQSksTj1uZXcgci5MaW5lKHtzaGFwZTp7eDE6aypnK2YseTE6eipnK3AseDI6ayooZy1NKStmLHkyOnoqKGctTSkrcH0sc2lsZW50OiEwLHN0eWxlOkN9KTtcImF1dG9cIj09PUMuc3Ryb2tlJiZOLnNldFN0eWxlKHtzdHJva2U6bigoUCtWL3cpL2IpfSksZC5hZGQoTiksQSs9VH1BLT1UfWVsc2UgQSs9SX19LF9yZW5kZXJQb2ludGVyOmZ1bmN0aW9uKHQsZSxpLG4sbyxoLHUsYyl7dmFyIGQ9Wyt0LmdldChcIm1pblwiKSwrdC5nZXQoXCJtYXhcIildLGY9W2gsdV07Y3x8KGY9Zi5yZXZlcnNlKCkpO3ZhciBwPXQuZ2V0RGF0YSgpLGc9dGhpcy5fZGF0YSxtPXRoaXMuZ3JvdXA7cC5kaWZmKGcpLmFkZChmdW5jdGlvbihlKXt2YXIgaT1uZXcgYSh7c2hhcGU6e2FuZ2xlOmh9fSk7ci51cGRhdGVQcm9wcyhpLHtzaGFwZTp7YW5nbGU6cy5saW5lYXJNYXAocC5nZXQoXCJ2YWx1ZVwiLGUpLGQsZiwhMCl9fSx0KSxtLmFkZChpKSxwLnNldEl0ZW1HcmFwaGljRWwoZSxpKX0pLnVwZGF0ZShmdW5jdGlvbihlLGkpe3ZhciBuPWcuZ2V0SXRlbUdyYXBoaWNFbChpKTtyLnVwZGF0ZVByb3BzKG4se3NoYXBlOnthbmdsZTpzLmxpbmVhck1hcChwLmdldChcInZhbHVlXCIsZSksZCxmLCEwKX19LHQpLG0uYWRkKG4pLHAuc2V0SXRlbUdyYXBoaWNFbChlLG4pfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWcuZ2V0SXRlbUdyYXBoaWNFbCh0KTttLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSxwLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9cC5nZXRJdGVtTW9kZWwoZSksYT1pLmdldE1vZGVsKFwicG9pbnRlclwiKTt0LnNldFNoYXBlKHt4Om8uY3gseTpvLmN5LHdpZHRoOmwoYS5nZXQoXCJ3aWR0aFwiKSxvLnIpLHI6bChhLmdldChcImxlbmd0aFwiKSxvLnIpfSksdC51c2VTdHlsZShpLmdldE1vZGVsKFwiaXRlbVN0eWxlLm5vcm1hbFwiKS5nZXRJdGVtU3R5bGUoKSksXCJhdXRvXCI9PT10LnN0eWxlLmZpbGwmJnQuc2V0U3R5bGUoXCJmaWxsXCIsbigocC5nZXQoXCJ2YWx1ZVwiLGUpLWRbMF0pLyhkWzFdLWRbMF0pKSksci5zZXRIb3ZlclN0eWxlKHQsaS5nZXRNb2RlbChcIml0ZW1TdHlsZS5lbXBoYXNpc1wiKS5nZXRJdGVtU3R5bGUoKSl9KSx0aGlzLl9kYXRhPXB9LF9yZW5kZXJUaXRsZTpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0TW9kZWwoXCJ0aXRsZVwiKTtpZihhLmdldChcInNob3dcIikpe3ZhciBzPWEuZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIiksaD1hLmdldChcIm9mZnNldENlbnRlclwiKSx1PW8uY3grbChoWzBdLG8uciksYz1vLmN5K2woaFsxXSxvLnIpLGQ9bmV3IHIuVGV4dCh7c3R5bGU6e3g6dSx5OmMsdGV4dDp0LmdldERhdGEoKS5nZXROYW1lKDApLGZpbGw6cy5nZXRUZXh0Q29sb3IoKSx0ZXh0Rm9udDpzLmdldEZvbnQoKSx0ZXh0QWxpZ246XCJjZW50ZXJcIix0ZXh0VmVydGljYWxBbGlnbjpcIm1pZGRsZVwifX0pO3RoaXMuZ3JvdXAuYWRkKGQpfX0sX3JlbmRlckRldGFpbDpmdW5jdGlvbih0LGUsaSxuLGEpe3ZhciBoPXQuZ2V0TW9kZWwoXCJkZXRhaWxcIiksdT10LmdldChcIm1pblwiKSxjPXQuZ2V0KFwibWF4XCIpO2lmKGguZ2V0KFwic2hvd1wiKSl7dmFyIGQ9aC5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxmPWguZ2V0KFwib2Zmc2V0Q2VudGVyXCIpLHA9YS5jeCtsKGZbMF0sYS5yKSxnPWEuY3krbChmWzFdLGEuciksbT1sKGguZ2V0KFwid2lkdGhcIiksYS5yKSx2PWwoaC5nZXQoXCJoZWlnaHRcIiksYS5yKSx5PXQuZ2V0RGF0YSgpLmdldChcInZhbHVlXCIsMCkseD1uZXcgci5SZWN0KHtzaGFwZTp7eDpwLW0vMix5Omctdi8yLHdpZHRoOm0saGVpZ2h0OnZ9LHN0eWxlOnt0ZXh0Om8oeSxoLmdldChcImZvcm1hdHRlclwiKSksZmlsbDpoLmdldChcImJhY2tncm91bmRDb2xvclwiKSx0ZXh0RmlsbDpkLmdldFRleHRDb2xvcigpLHRleHRGb250OmQuZ2V0Rm9udCgpfX0pO1wiYXV0b1wiPT09eC5zdHlsZS50ZXh0RmlsbCYmeC5zZXRTdHlsZShcInRleHRGaWxsXCIsbihzLmxpbmVhck1hcCh5LFt1LGNdLFswLDFdLCEwKSkpLHguc2V0U3R5bGUoaC5nZXRJdGVtU3R5bGUoW1wiY29sb3JcIl0pKSx0aGlzLmdyb3VwLmFkZCh4KX19fSk7dC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSg2KS5leHRlbmQoe3R5cGU6XCJlY2hhcnRzR2F1Z2VQb2ludGVyXCIsc2hhcGU6e2FuZ2xlOjAsd2lkdGg6MTAscjoxMCx4OjAseTowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLmNvcyxuPU1hdGguc2luLG89ZS5yLGE9ZS53aWR0aCxyPWUuYW5nbGUscz1lLngtaShyKSphKihhPj1vLzM/MToyKSxsPWUueS1uKHIpKmEqKGE+PW8vMz8xOjIpO3I9ZS5hbmdsZS1NYXRoLlBJLzIsdC5tb3ZlVG8ocyxsKSx0LmxpbmVUbyhlLngraShyKSphLGUueStuKHIpKmEpLHQubGluZVRvKGUueCtpKGUuYW5nbGUpKm8sZS55K24oZS5hbmdsZSkqbyksdC5saW5lVG8oZS54LWkocikqYSxlLnktbihyKSphKSx0LmxpbmVUbyhzLGwpfX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgyKSxvPWkoMSk7aSgyNDkpLGkoMjUwKSxpKDI1OSksbi5yZWdpc3RlclByb2Nlc3NvcihcImZpbHRlclwiLGkoMjUyKSksbi5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsby5jdXJyeShpKDQ0KSxcImdyYXBoXCIsXCJjaXJjbGVcIixudWxsKSksbi5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsaSgyNTMpKSxuLnJlZ2lzdGVyVmlzdWFsQ29kaW5nKFwiY2hhcnRcIixpKDI1NikpLG4ucmVnaXN0ZXJMYXlvdXQoaSgyNjApKSxuLnJlZ2lzdGVyTGF5b3V0KGkoMjU0KSksbi5yZWdpc3RlckxheW91dChpKDI1OCkpLG4ucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKFwiZ3JhcGhWaWV3XCIse2NyZWF0ZTppKDI1NSl9KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMTUpLG89aSgxKSxhPWkoNykscj1pKDEyKSxzPWkoMjEyKSxsPWkoMikuZXh0ZW5kU2VyaWVzTW9kZWwoe3R5cGU6XCJzZXJpZXMuZ3JhcGhcIixpbml0OmZ1bmN0aW9uKHQpe2wuc3VwZXJBcHBseSh0aGlzLFwiaW5pdFwiLGFyZ3VtZW50cyksdGhpcy5sZWdlbmREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2F0ZWdvcmllc0RhdGF9LHRoaXMuZmlsbERhdGFUZXh0U3R5bGUodC5lZGdlc3x8dC5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7bC5zdXBlckFwcGx5KHRoaXMsXCJtZXJnZU9wdGlvblwiLGFyZ3VtZW50cyksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmVkZ2VzfHx0LmxpbmtzKSx0aGlzLl91cGRhdGVDYXRlZ29yaWVzRGF0YSgpfSxtZXJnZURlZmF1bHRBbmRUaGVtZTpmdW5jdGlvbih0KXtsLnN1cGVyQXBwbHkodGhpcyxcIm1lcmdlRGVmYXVsdEFuZFRoZW1lXCIsYXJndW1lbnRzKSxhLmRlZmF1bHRFbXBoYXNpcyh0LmVkZ2VMYWJlbCxhLkxBQkVMX09QVElPTlMpfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXt0LndyYXBNZXRob2QoXCJnZXRJdGVtTW9kZWxcIixmdW5jdGlvbih0KXt2YXIgZT1hLl9jYXRlZ29yaWVzTW9kZWxzLGk9dC5nZXRTaGFsbG93KFwiY2F0ZWdvcnlcIiksbj1lW2ldO3JldHVybiBuJiYobi5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9biksdH0pO3ZhciBpPWEuZ2V0TW9kZWwoXCJlZGdlTGFiZWxcIiksbj1mdW5jdGlvbih0LGUpe3ZhciBvPSh0fHxcIlwiKS5zcGxpdChcIi5cIik7XCJsYWJlbFwiPT09b1swXSYmKGU9ZXx8aS5nZXRNb2RlbChvLnNsaWNlKDEpKSk7dmFyIGE9ci5wcm90b3R5cGUuZ2V0TW9kZWwuY2FsbCh0aGlzLG8sZSk7cmV0dXJuIGEuZ2V0TW9kZWw9bixhfTtlLndyYXBNZXRob2QoXCJnZXRJdGVtTW9kZWxcIixmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRNb2RlbD1uLHR9KX12YXIgbj10LmVkZ2VzfHx0LmxpbmtzfHxbXSxvPXQuZGF0YXx8dC5ub2Rlc3x8W10sYT10aGlzO3JldHVybiBvJiZuP3MobyxuLHRoaXMsITAsaSkuZGF0YTp2b2lkIDB9LGdldEdyYXBoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmdyYXBofSxnZXRFZGdlRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdyYXBoKCkuZWRnZURhdGF9LGdldENhdGVnb3JpZXNEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhdGVnb3JpZXNEYXRhfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpKXtpZihcImVkZ2VcIj09PWkpe3ZhciBuPXRoaXMuZ2V0RGF0YSgpLG89dGhpcy5nZXREYXRhUGFyYW1zKHQsaSksYT1uLmdyYXBoLmdldEVkZ2VCeUluZGV4KHQpLHI9bi5nZXROYW1lKGEubm9kZTEuZGF0YUluZGV4KSxzPW4uZ2V0TmFtZShhLm5vZGUyLmRhdGFJbmRleCksaD1yK1wiID4gXCIrcztyZXR1cm4gby52YWx1ZSYmKGgrPVwiIDogXCIrby52YWx1ZSksaH1yZXR1cm4gbC5zdXBlckFwcGx5KHRoaXMsXCJmb3JtYXRUb29sdGlwXCIsYXJndW1lbnRzKX0sX3VwZGF0ZUNhdGVnb3JpZXNEYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9by5tYXAodGhpcy5vcHRpb24uY2F0ZWdvcmllc3x8W10sZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQudmFsdWU/dDpvLmV4dGVuZCh7dmFsdWU6MH0sdCl9KSxlPW5ldyBuKFtcInZhbHVlXCJdLHRoaXMpO2UuaW5pdERhdGEodCksdGhpcy5fY2F0ZWdvcmllc0RhdGE9ZSx0aGlzLl9jYXRlZ29yaWVzTW9kZWxzPWUubWFwQXJyYXkoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKHQsITApfSl9LHNldFpvb206ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxzZXRDZW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb2xvcjpbXCIjNjFhMGE4XCIsXCIjZDE0YTYxXCIsXCIjZmQ5YzM1XCIsXCIjNjc1YmJhXCIsXCIjZmVjNDJjXCIsXCIjZGQ0NDQ0XCIsXCIjZmQ5YzM1XCIsXCIjY2Q0ODcwXCJdLGNvb3JkaW5hdGVTeXN0ZW06XCJ2aWV3XCIseEF4aXNJbmRleDowLHlBeGlzSW5kZXg6MCxwb2xhckluZGV4OjAsZ2VvSW5kZXg6MCxsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAsbGF5b3V0Om51bGwsZm9yY2U6e2luaXRMYXlvdXQ6bnVsbCxyZXB1bHNpb246NTAsZ3Jhdml0eTouMSxlZGdlTGVuZ3RoOjMwLGxheW91dEFuaW1hdGlvbjohMH0sbGVmdDpcImNlbnRlclwiLHRvcDpcImNlbnRlclwiLHN5bWJvbDpcImNpcmNsZVwiLHN5bWJvbFNpemU6MTAsZWRnZVN5bWJvbDpbXCJub25lXCIsXCJub25lXCJdLGVkZ2VTeW1ib2xTaXplOjEwLGVkZ2VMYWJlbDp7bm9ybWFsOntwb3NpdGlvbjpcIm1pZGRsZVwifSxlbXBoYXNpczp7fX0sZHJhZ2dhYmxlOiExLHJvYW06ITEsY2VudGVyOm51bGwsem9vbToxLG5vZGVTY2FsZVJhdGlvOi42LGxhYmVsOntub3JtYWw6e3Nob3c6ITEsZm9ybWF0dGVyOlwie2J9XCJ9LGVtcGhhc2lzOntzaG93OiEwfX0saXRlbVN0eWxlOntub3JtYWw6e30sZW1waGFzaXM6e319LGxpbmVTdHlsZTp7bm9ybWFsOntjb2xvcjpcIiNhYWFcIix3aWR0aDoxLGN1cnZlbmVzczowLG9wYWNpdHk6LjV9LGVtcGhhc2lzOnt9fX19KTt0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMzkpLG89aSg4NCksYT1pKDcwKSxyPWkoMykscz1pKDI1MSk7aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJncmFwaFwiLGluaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgbixyPW5ldyBvLHM9dGhpcy5ncm91cCxsPW5ldyBhKGUuZ2V0WnIoKSxzKTtzLmFkZChpLmdyb3VwKSxzLmFkZChyLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PWksdGhpcy5fbGluZURyYXc9cix0aGlzLl9jb250cm9sbGVyPWwsdGhpcy5fZmlyc3RSZW5kZXI9ITB9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO3RoaXMuX21vZGVsPXQsdGhpcy5fbm9kZVNjYWxlUmF0aW89dC5nZXQoXCJub2RlU2NhbGVSYXRpb1wiKTt2YXIgbz10aGlzLl9zeW1ib2xEcmF3LGE9dGhpcy5fbGluZURyYXcsbD10aGlzLmdyb3VwO2lmKFwidmlld1wiPT09bi50eXBlKXt2YXIgaD17cG9zaXRpb246bi5wb3NpdGlvbixzY2FsZTpuLnNjYWxlfTt0aGlzLl9maXJzdFJlbmRlcj9sLmF0dHIoaCk6ci51cGRhdGVQcm9wcyhsLGgsdCl9cyh0LmdldEdyYXBoKCksdGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpKTt2YXIgdT10LmdldERhdGEoKTtvLnVwZGF0ZURhdGEodSk7dmFyIGM9dC5nZXRFZGdlRGF0YSgpO2EudXBkYXRlRGF0YShjKSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksdGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGkpLGNsZWFyVGltZW91dCh0aGlzLl9sYXlvdXRUaW1lb3V0KTt2YXIgZD10LmZvcmNlTGF5b3V0LGY9dC5nZXQoXCJmb3JjZS5sYXlvdXRBbmltYXRpb25cIik7ZCYmdGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihkLGYpLHUuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxlKXt2YXIgaT11LmdldEl0ZW1Nb2RlbChlKS5nZXQoXCJkcmFnZ2FibGVcIik7aT90Lm9uKFwiZHJhZ1wiLGZ1bmN0aW9uKCl7ZCYmKGQud2FybVVwKCksIXRoaXMuX2xheW91dGluZyYmdGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihkLGYpLGQuc2V0Rml4ZWQoZSksdS5zZXRJdGVtTGF5b3V0KGUsdC5wb3NpdGlvbikpfSx0aGlzKS5vbihcImRyYWdlbmRcIixmdW5jdGlvbigpe2QmJmQuc2V0VW5maXhlZChlKX0sdGhpcyk6dC5vZmYoXCJkcmFnXCIpLHQuc2V0RHJhZ2dhYmxlKGkmJmQpfSx0aGlzKSx0aGlzLl9maXJzdFJlbmRlcj0hMX0sX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzOyFmdW5jdGlvbiBuKCl7dC5zdGVwKGZ1bmN0aW9uKHQpe2kudXBkYXRlTGF5b3V0KGkuX21vZGVsKSwoaS5fbGF5b3V0aW5nPSF0KSYmKGU/aS5fbGF5b3V0VGltZW91dD1zZXRUaW1lb3V0KG4sMTYpOm4oKSl9KX0oKX0sX3VwZGF0ZUNvbnRyb2xsZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jb250cm9sbGVyLG49dGhpcy5ncm91cDtyZXR1cm4gaS5yZWN0UHJvdmlkZXI9ZnVuY3Rpb24oKXt2YXIgdD1uLmdldEJvdW5kaW5nUmVjdCgpO3JldHVybiB0LmFwcGx5VHJhbnNmb3JtKG4udHJhbnNmb3JtKSx0fSxcInZpZXdcIiE9PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlP3ZvaWQgaS5kaXNhYmxlKCk6KGkuZW5hYmxlKHQuZ2V0KFwicm9hbVwiKSksaS56b29tTGltaXQ9dC5nZXQoXCJzY2FsZUxpbWl0XCIpLGkuem9vbT10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Wm9vbSgpLHZvaWQgaS5vZmYoXCJwYW5cIikub2ZmKFwiem9vbVwiKS5vbihcInBhblwiLGZ1bmN0aW9uKGksbil7ZS5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOlwiZ3JhcGhSb2FtXCIsZHg6aSxkeTpufSl9KS5vbihcInpvb21cIixmdW5jdGlvbihpLG4sbyl7ZS5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOlwiZ3JhcGhSb2FtXCIsem9vbTppLG9yaWdpblg6bixvcmlnaW5ZOm99KSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCkscyh0LmdldEdyYXBoKCksdGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKX0sdGhpcykpfSxfdXBkYXRlTm9kZUFuZExpbmtTY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21vZGVsLGU9dC5nZXREYXRhKCksaT10aGlzLl9nZXROb2RlR2xvYmFsU2NhbGUodCksbj1baSxpXTtlLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dC5hdHRyKFwic2NhbGVcIixuKX0pfSxfZ2V0Tm9kZUdsb2JhbFNjYWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihcInZpZXdcIiE9PWUudHlwZSlyZXR1cm4gMTt2YXIgaT10aGlzLl9ub2RlU2NhbGVSYXRpbyxuPXRoaXMuZ3JvdXAuc2NhbGUsbz1uJiZuWzBdfHwxLGE9ZS5nZXRab29tKCkscj0oYS0xKSppKzE7cmV0dXJuIHIvb30sdXBkYXRlTGF5b3V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KCksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCkscyh0LmdldEdyYXBoKCksdGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXtmb3IodmFyIG4sbz10WzBdLGE9dFsxXSxkPXRbMl0sZj0xLzAscD1pKmksZz0uMSxtPS4xOy45Pj1tO20rPS4xKXtyWzBdPWgob1swXSxhWzBdLGRbMF0sbSksclsxXT1oKG9bMV0sYVsxXSxkWzFdLG0pO3ZhciB2PWModShyLGUpLXApO2Y+diYmKGY9dixuPW0pfWZvcih2YXIgeT0wOzMyPnk7eSsrKXt2YXIgeD1uK2c7c1swXT1oKG9bMF0sYVswXSxkWzBdLG4pLHNbMV09aChvWzFdLGFbMV0sZFsxXSxuKSxsWzBdPWgob1swXSxhWzBdLGRbMF0seCksbFsxXT1oKG9bMV0sYVsxXSxkWzFdLHgpO3ZhciB2PXUocyxlKS1wO2lmKGModik8LjAxKWJyZWFrO3ZhciBfPXUobCxlKS1wO2cvPTIsMD52P18+PTA/bis9ZzpuLT1nOl8+PTA/bi09ZzpuKz1nfXJldHVybiBufXZhciBvPWkoMTYpLGE9aSg1KSxyPVtdLHM9W10sbD1bXSxoPW8ucXVhZHJhdGljQXQsdT1hLmRpc3RTcXVhcmUsYz1NYXRoLmFiczt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXSxyPW8ucXVhZHJhdGljU3ViZGl2aWRlLHM9W1tdLFtdLFtdXSxsPVtbXSxbXV0saD1bXTtlLz0yLHQuZWFjaEVkZ2UoZnVuY3Rpb24odCl7dmFyIG89dC5nZXRMYXlvdXQoKSx1PXQuZ2V0VmlzdWFsKFwiZnJvbVN5bWJvbFwiKSxjPXQuZ2V0VmlzdWFsKFwidG9TeW1ib2xcIik7by5fX29yaWdpbmFsfHwoby5fX29yaWdpbmFsPVthLmNsb25lKG9bMF0pLGEuY2xvbmUob1sxXSldLG9bMl0mJm8uX19vcmlnaW5hbC5wdXNoKGEuY2xvbmUob1syXSkpKTt2YXIgZD1vLl9fb3JpZ2luYWw7aWYobnVsbCE9b1syXSl7aWYoYS5jb3B5KHNbMF0sZFswXSksYS5jb3B5KHNbMV0sZFsyXSksYS5jb3B5KHNbMl0sZFsxXSksdSYmXCJub25lXCIhPXUpe3ZhciBmPW4ocyxkWzBdLHQubm9kZTEuZ2V0VmlzdWFsKFwic3ltYm9sU2l6ZVwiKSplKTtyKHNbMF1bMF0sc1sxXVswXSxzWzJdWzBdLGYsaSksc1swXVswXT1pWzNdLHNbMV1bMF09aVs0XSxyKHNbMF1bMV0sc1sxXVsxXSxzWzJdWzFdLGYsaSksc1swXVsxXT1pWzNdLHNbMV1bMV09aVs0XX1pZihjJiZcIm5vbmVcIiE9Yyl7dmFyIGY9bihzLGRbMV0sdC5ub2RlMi5nZXRWaXN1YWwoXCJzeW1ib2xTaXplXCIpKmUpO3Ioc1swXVswXSxzWzFdWzBdLHNbMl1bMF0sZixpKSxzWzFdWzBdPWlbMV0sc1syXVswXT1pWzJdLHIoc1swXVsxXSxzWzFdWzFdLHNbMl1bMV0sZixpKSxzWzFdWzFdPWlbMV0sc1syXVsxXT1pWzJdfWEuY29weShvWzBdLHNbMF0pLGEuY29weShvWzFdLHNbMl0pLGEuY29weShvWzJdLHNbMV0pfWVsc2UgYS5jb3B5KGxbMF0sZFswXSksYS5jb3B5KGxbMV0sZFsxXSksYS5zdWIoaCxsWzFdLGxbMF0pLGEubm9ybWFsaXplKGgsaCksdSYmXCJub25lXCIhPXUmJmEuc2NhbGVBbmRBZGQobFswXSxsWzBdLGgsdC5ub2RlMS5nZXRWaXN1YWwoXCJzeW1ib2xTaXplXCIpKmUpLGMmJlwibm9uZVwiIT1jJiZhLnNjYWxlQW5kQWRkKGxbMV0sbFsxXSxoLC10Lm5vZGUyLmdldFZpc3VhbChcInN5bWJvbFNpemVcIikqZSksYS5jb3B5KG9bMF0sbFswXSksYS5jb3B5KG9bMV0sbFsxXSl9KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwibGVnZW5kXCJ9KTtlJiZlLmxlbmd0aCYmdC5lYWNoU2VyaWVzQnlUeXBlKFwiZ3JhcGhcIixmdW5jdGlvbih0KXt2YXIgaT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldEdyYXBoKCksbz1uLmRhdGEsYT1pLm1hcEFycmF5KGkuZ2V0TmFtZSk7by5maWx0ZXJTZWxmKGZ1bmN0aW9uKHQpe3ZhciBpPW8uZ2V0SXRlbU1vZGVsKHQpLG49aS5nZXRTaGFsbG93KFwiY2F0ZWdvcnlcIik7aWYobnVsbCE9bil7XCJudW1iZXJcIj09dHlwZW9mIG4mJihuPWFbbl0pO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKCFlW3JdLmlzU2VsZWN0ZWQobikpcmV0dXJuITF9cmV0dXJuITB9KX0sdGhpcyl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJncmFwaFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwiY29sb3JcIiksaT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldERhdGEoKSxvPXt9O2kuZWFjaChmdW5jdGlvbih0KXtvW2kuZ2V0TmFtZSh0KV09dDt2YXIgbj1pLmdldEl0ZW1Nb2RlbCh0KSxhPWkuZ2V0UmF3SW5kZXgodCkscj1uLmdldChcIml0ZW1TdHlsZS5ub3JtYWwuY29sb3JcIil8fGVbYSVlLmxlbmd0aF07aS5zZXRJdGVtVmlzdWFsKHQsXCJjb2xvclwiLHIpfSksaS5jb3VudCgpJiZuLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRJdGVtTW9kZWwodCksYT1lLmdldFNoYWxsb3coXCJjYXRlZ29yeVwiKTtudWxsIT1hJiYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPW9bYV0pLG4uZ2V0SXRlbVZpc3VhbCh0LFwiY29sb3JcIiwhMCl8fG4uc2V0SXRlbVZpc3VhbCh0LFwiY29sb3JcIixpLmdldEl0ZW1WaXN1YWwoYSxcImNvbG9yXCIpKSl9KX0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjA5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJncmFwaFwiLGZ1bmN0aW9uKHQpe1wiY2lyY3VsYXJcIj09PXQuZ2V0KFwibGF5b3V0XCIpJiZuKHQpfSl9fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG49dC5nZXRCb3hMYXlvdXRQYXJhbXMoKTtyZXR1cm4gbi5hc3BlY3Q9aSxhLmdldExheW91dFJlY3Qobix7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9dmFyIG89aSgyMjIpLGE9aSgxMSkscj1pKDY1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKFwiZ3JhcGhcIixmdW5jdGlvbih0KXt2YXIgYT10LmdldChcImNvb3JkaW5hdGVTeXN0ZW1cIik7aWYoIWF8fFwidmlld1wiPT09YSl7dmFyIHM9bmV3IG87aS5wdXNoKHMpO3ZhciBsPXQuZ2V0RGF0YSgpLGg9bC5tYXBBcnJheShmdW5jdGlvbih0KXt2YXIgZT1sLmdldEl0ZW1Nb2RlbCh0KTtyZXR1cm5bK2UuZ2V0KFwieFwiKSwrZS5nZXQoXCJ5XCIpXX0pLHU9W10sYz1bXTtyLmZyb21Qb2ludHMoaCx1LGMpLGNbMF0tdVswXT09PTAmJihjWzBdKz0xLHVbMF0tPTEpLGNbMV0tdVsxXT09PTAmJihjWzFdKz0xLHVbMV0tPTEpO3ZhciBkPShjWzBdLXVbMF0pLyhjWzFdLXVbMV0pLGY9bih0LGUsZCk7aXNOYU4oZCkmJih1PVtmLngsZi55XSxjPVtmLngrZi53aWR0aCxmLnkrZi5oZWlnaHRdKTt2YXIgcD1jWzBdLXVbMF0sZz1jWzFdLXVbMV0sbT1mLndpZHRoLHY9Zi5oZWlnaHQ7cz10LmNvb3JkaW5hdGVTeXN0ZW09bmV3IG8scy56b29tTGltaXQ9dC5nZXQoXCJzY2FsZUxpbWl0XCIpLHMuc2V0Qm91bmRpbmdSZWN0KHVbMF0sdVsxXSxwLGcpLHMuc2V0Vmlld1JlY3QoZi54LGYueSxtLHYpLHMuc2V0Q2VudGVyKHQuZ2V0KFwiY2VudGVyXCIpKSxzLnNldFpvb20odC5nZXQoXCJ6b29tXCIpKX19KSxpfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0LHRdKSx0fXQuZXhwb3J0cz1mdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJncmFwaFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RWRnZURhdGEoKSxuPWkodC5nZXQoXCJlZGdlU3ltYm9sXCIpKSxvPWkodC5nZXQoXCJlZGdlU3ltYm9sU2l6ZVwiKSk7ZS5zZXRWaXN1YWwoXCJmcm9tU3ltYm9sXCIsbiYmblswXSksZS5zZXRWaXN1YWwoXCJ0b1N5bWJvbFwiLG4mJm5bMV0pLGUuc2V0VmlzdWFsKFwiZnJvbVN5bWJvbFNpemVcIixvJiZvWzBdKSxlLnNldFZpc3VhbChcInRvU3ltYm9sU2l6ZVwiLG8mJm9bMV0pLGUuc2V0VmlzdWFsKFwiY29sb3JcIix0LmdldChcImxpbmVTdHlsZS5ub3JtYWwuY29sb3JcIikpLGUuZWFjaChmdW5jdGlvbih0KXt2YXIgbj1lLmdldEl0ZW1Nb2RlbCh0KSxvPWkobi5nZXRTaGFsbG93KFwic3ltYm9sXCIsITApKSxhPWkobi5nZXRTaGFsbG93KFwic3ltYm9sU2l6ZVwiLCEwKSk7b1swXSYmZS5zZXRJdGVtVmlzdWFsKHQsXCJmcm9tU3ltYm9sXCIsb1swXSksb1sxXSYmZS5zZXRJdGVtVmlzdWFsKHQsXCJ0b1N5bWJvbFwiLG9bMV0pLGFbMF0mJmUuc2V0SXRlbVZpc3VhbCh0LFwiZnJvbVN5bWJvbFNpemVcIixhWzBdKSxhWzFdJiZlLnNldEl0ZW1WaXN1YWwodCxcInRvU3ltYm9sU2l6ZVwiLGFbMV0pfSl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDUpLG89bi5zY2FsZUFuZEFkZDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgYT1pLnJlY3Qscj1hLndpZHRoLHM9YS5oZWlnaHQsbD1bYS54K3IvMixhLnkrcy8yXSxoPW51bGw9PWkuZ3Jhdml0eT8uMTppLmdyYXZpdHksdT0wO3U8dC5sZW5ndGg7dSsrKXt2YXIgYz10W3VdO2MucHx8KGMucD1uLmNyZWF0ZShyKihNYXRoLnJhbmRvbSgpLS41KStsWzBdLHMqKE1hdGgucmFuZG9tKCktLjUpK2xbMV0pKSxjLnBwPW4uY2xvbmUoYy5wKSxjLmVkZ2VzPW51bGx9dmFyIGQ9LjY7cmV0dXJue3dhcm1VcDpmdW5jdGlvbigpe2Q9LjV9LHNldEZpeGVkOmZ1bmN0aW9uKGUpe3RbZV0uZml4ZWQ9ITB9LHNldFVuZml4ZWQ6ZnVuY3Rpb24oZSl7dFtlXS5maXhlZD0hMX0sc3RlcDpmdW5jdGlvbihpKXtmb3IodmFyIGE9W10scj10Lmxlbmd0aCxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciB1PWVbc10sYz11Lm4xLGY9dS5uMjtuLnN1YihhLGYucCxjLnApO3ZhciBwPW4ubGVuKGEpLXUuZCxnPWYudy8oYy53K2Yudyk7bi5ub3JtYWxpemUoYSxhKSwhYy5maXhlZCYmbyhjLnAsYy5wLGEsZypwKmQpLCFmLmZpeGVkJiZvKGYucCxmLnAsYSwtKDEtZykqcCpkKX1mb3IodmFyIHM9MDtyPnM7cysrKXt2YXIgbT10W3NdO20uZml4ZWR8fChuLnN1YihhLGwsbS5wKSxuLnNjYWxlQW5kQWRkKG0ucCxtLnAsYSxoKmQpKX1mb3IodmFyIHM9MDtyPnM7cysrKWZvcih2YXIgYz10W3NdLHY9cysxO3I+djt2Kyspe3ZhciBmPXRbdl07bi5zdWIoYSxmLnAsYy5wKTt2YXIgcD1uLmxlbihhKTswPT09cCYmKG4uc2V0KGEsTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxwPTEpO3ZhciB5PShjLnJlcCtmLnJlcCkvcC9wOyFjLmZpeGVkJiZvKGMucHAsYy5wcCxhLHkpLCFmLmZpeGVkJiZvKGYucHAsZi5wcCxhLC15KX1mb3IodmFyIHg9W10scz0wO3I+cztzKyspe3ZhciBtPXRbc107bS5maXhlZHx8KG4uc3ViKHgsbS5wLG0ucHApLG4uc2NhbGVBbmRBZGQobS5wLG0ucCx4LGQpLG4uY29weShtLnBwLG0ucCkpfWQ9Ljk5MipkLGkmJmkodCxlLC4wMT5kKX19fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjU3KSxvPWkoNCksYT1pKDIxMSkscj1pKDIwOSkscz1pKDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllc0J5VHlwZShcImdyYXBoXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHxcInZpZXdcIj09PWUudHlwZSlpZihcImZvcmNlXCI9PT10LmdldChcImxheW91dFwiKSl7dmFyIGk9dC5wcmVzZXJ2ZWRQb2ludHN8fHt9LGw9dC5nZXRHcmFwaCgpLGg9bC5kYXRhLHU9bC5lZGdlRGF0YSxjPXQuZ2V0TW9kZWwoXCJmb3JjZVwiKSxkPWMuZ2V0KFwiaW5pdExheW91dFwiKTt0LnByZXNlcnZlZFBvaW50cz9oLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9aC5nZXRJZCh0KTtoLnNldEl0ZW1MYXlvdXQodCxpW2VdfHxbTmFOLE5hTl0pfSk6ZCYmXCJub25lXCIhPT1kP1wiY2lyY3VsYXJcIj09PWQmJnIodCk6YSh0KTt2YXIgZj1oLmdldERhdGFFeHRlbnQoXCJ2YWx1ZVwiKSxwPWMuZ2V0KFwicmVwdWxzaW9uXCIpLGc9Yy5nZXQoXCJlZGdlTGVuZ3RoXCIpLG09aC5tYXBBcnJheShcInZhbHVlXCIsZnVuY3Rpb24odCxlKXt2YXIgaT1oLmdldEl0ZW1MYXlvdXQoZSksbj1vLmxpbmVhck1hcCh0LGYsWzAscF0pfHxwLzI7cmV0dXJue3c6bixyZXA6bixwOiFpfHxpc05hTihpWzBdKXx8aXNOYU4oaVsxXSk/bnVsbDppfX0pLHY9dS5tYXBBcnJheShcInZhbHVlXCIsZnVuY3Rpb24odCxlKXt2YXIgaT1sLmdldEVkZ2VCeUluZGV4KGUpO3JldHVybntuMTptW2kubm9kZTEuZGF0YUluZGV4XSxuMjptW2kubm9kZTIuZGF0YUluZGV4XSxkOmcsY3VydmVuZXNzOmkuZ2V0TW9kZWwoKS5nZXQoXCJsaW5lU3R5bGUubm9ybWFsLmN1cnZlbmVzc1wiKXx8MH19KSxlPXQuY29vcmRpbmF0ZVN5c3RlbSx5PWUuZ2V0Qm91bmRpbmdSZWN0KCkseD1uKG0sdix7cmVjdDp5LGdyYXZpdHk6Yy5nZXQoXCJncmF2aXR5XCIpfSksXz14LnN0ZXA7eC5zdGVwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49bS5sZW5ndGg7bj5lO2UrKyltW2VdLmZpeGVkJiZzLmNvcHkobVtlXS5wLGwuZ2V0Tm9kZUJ5SW5kZXgoZSkuZ2V0TGF5b3V0KCkpO18oZnVuY3Rpb24oZSxuLG8pe2Zvcih2YXIgYT0wLHI9ZS5sZW5ndGg7cj5hO2ErKyllW2FdLmZpeGVkfHxsLmdldE5vZGVCeUluZGV4KGEpLnNldExheW91dChlW2FdLnApLGlbaC5nZXRJZChhKV09ZVthXS5wO2Zvcih2YXIgYT0wLHI9bi5sZW5ndGg7cj5hO2ErKyl7dmFyIHM9blthXSx1PXMubjEucCxjPXMubjIucCxkPVt1LGNdO3MuY3VydmVuZXNzPjAmJmQucHVzaChbKHVbMF0rY1swXSkvMi0odVsxXS1jWzFdKSpzLmN1cnZlbmVzcywodVsxXStjWzFdKS8yLShjWzBdLXVbMF0pKnMuY3VydmVuZXNzXSksbC5nZXRFZGdlQnlJbmRleChhKS5zZXRMYXlvdXQoZCl9dCYmdChvKX0pfSx0LmZvcmNlTGF5b3V0PXgsdC5wcmVzZXJ2ZWRQb2ludHM9aSx4LnN0ZXAoKX1lbHNlIHQuZm9yY2VMYXlvdXQ9bnVsbH0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMiksbz1pKDIwOCksYT17dHlwZTpcImdyYXBoUm9hbVwiLGV2ZW50OlwiZ3JhcGhSb2FtXCIsdXBkYXRlOlwibm9uZVwifTtuLnJlZ2lzdGVyQWN0aW9uKGEsZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOlwic2VyaWVzXCIscXVlcnk6dH0sZnVuY3Rpb24oZSl7dmFyIGk9ZS5jb29yZGluYXRlU3lzdGVtLG49by51cGRhdGVDZW50ZXJBbmRab29tKGksdCk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKG4uY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShuLnpvb20pfSl9KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjExKSxvPWkoMjEwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJncmFwaFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwibGF5b3V0XCIpLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkmJlwidmlld1wiIT09aS50eXBlKXt2YXIgYT10LmdldERhdGEoKTthLmVhY2goaS5kaW1lbnNpb25zLGZ1bmN0aW9uKHQsZSxuKXtpc05hTih0KXx8aXNOYU4oZSk/YS5zZXRJdGVtTGF5b3V0KG4sW05hTixOYU5dKTphLnNldEl0ZW1MYXlvdXQobixpLmRhdGFUb1BvaW50KFt0LGVdKSl9KSxvKGEuZ3JhcGgpfWVsc2UgZSYmXCJub25lXCIhPT1lfHxuKHQpfSl9fSxmdW5jdGlvbih0LGUsaSl7aSgyNjMpLGkoMjY0KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oKXt2YXIgdD1hLmNyZWF0ZUNhbnZhcygpO3RoaXMuY2FudmFzPXQsdGhpcy5ibHVyU2l6ZT0zMCx0aGlzLnBvaW50U2l6ZT0yMCx0aGlzLm1heE9wYWNpdHk9MSx0aGlzLm1pbk9wYWNpdHk9MCx0aGlzLl9ncmFkaWVudFBpeGVscz17fX12YXIgbz0yNTYsYT1pKDEpO24ucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24odCxlLGksbixhLHIpe3ZhciBzPXRoaXMuX2dldEJydXNoKCksbD10aGlzLl9nZXRHcmFkaWVudCh0LGEsXCJpblJhbmdlXCIpLGg9dGhpcy5fZ2V0R3JhZGllbnQodCxhLFwib3V0T2ZSYW5nZVwiKSx1PXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsYz10aGlzLmNhbnZhcyxkPWMuZ2V0Q29udGV4dChcIjJkXCIpLGY9dC5sZW5ndGg7Yy53aWR0aD1lLGMuaGVpZ2h0PWk7Zm9yKHZhciBwPTA7Zj5wOysrcCl7dmFyIGc9dFtwXSxtPWdbMF0sdj1nWzFdLHk9Z1syXSx4PW4oeSk7ZC5nbG9iYWxBbHBoYT14LGQuZHJhd0ltYWdlKHMsbS11LHYtdSl9Zm9yKHZhciBfPWQuZ2V0SW1hZ2VEYXRhKDAsMCxjLndpZHRoLGMuaGVpZ2h0KSxiPV8uZGF0YSx3PTAsUz1iLmxlbmd0aCxNPXRoaXMubWluT3BhY2l0eSxBPXRoaXMubWF4T3BhY2l0eSxJPUEtTTtTPnc7KXt2YXIgeD1iW3crM10vMjU2LFQ9NCpNYXRoLmZsb29yKHgqKG8tMSkpO2lmKHg+MCl7dmFyIEw9cih4KT9sOmg7eD4wJiYoeD14KkkrTSksYlt3KytdPUxbVF0sYlt3KytdPUxbVCsxXSxiW3crK109TFtUKzJdLGJbdysrXT1MW1QrM10qeCoyNTZ9ZWxzZSB3Kz00fXJldHVybiBkLnB1dEltYWdlRGF0YShfLDAsMCksY30sX2dldEJydXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYnJ1c2hDYW52YXN8fCh0aGlzLl9icnVzaENhbnZhcz1hLmNyZWF0ZUNhbnZhcygpKSxlPXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsaT0yKmU7dC53aWR0aD1pLHQuaGVpZ2h0PWk7dmFyIG49dC5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIG4uY2xlYXJSZWN0KDAsMCxpLGkpLG4uc2hhZG93T2Zmc2V0WD1pLG4uc2hhZG93Qmx1cj10aGlzLmJsdXJTaXplLG4uc2hhZG93Q29sb3I9XCIjMDAwXCIsbi5iZWdpblBhdGgoKSxuLmFyYygtZSxlLHRoaXMucG9pbnRTaXplLDAsMipNYXRoLlBJLCEwKSxuLmNsb3NlUGF0aCgpLG4uZmlsbCgpLHR9LF9nZXRHcmFkaWVudDpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuX2dyYWRpZW50UGl4ZWxzLG89bltpXXx8KG5baV09bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDEwMjQpKSxhPVtdLHI9MCxzPTA7MjU2PnM7cysrKWVbaV0ocy8yNTUsITAsYSksb1tyKytdPWFbMF0sb1tyKytdPWFbMV0sb1tyKytdPWFbMl0sb1tyKytdPWFbM107cmV0dXJuIG99fSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMTMpLG89aSgzNSk7dC5leHBvcnRzPW4uZXh0ZW5kKHt0eXBlOlwic2VyaWVzLmhlYXRtYXBcIixnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBvKHQuZGF0YSx0aGlzLGUpfSxkZWZhdWx0T3B0aW9uOntjb29yZGluYXRlU3lzdGVtOlwiY2FydGVzaWFuMmRcIix6bGV2ZWw6MCx6OjIseEF4aXNJbmRleDowLHlBeGlzSW5kZXg6MCxnZW9JbmRleDowLGJsdXJTaXplOjMwLHBvaW50U2l6ZToyMCxtYXhPcGFjaXR5OjEsbWluT3BhY2l0eTowfX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG49dFsxXS10WzBdO2U9bC5tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm57aW50ZXJ2YWw6WyhlLmludGVydmFsWzBdLXRbMF0pL24sKGUuaW50ZXJ2YWxbMV0tdFswXSkvbl19fSk7dmFyIG89ZS5sZW5ndGgsYT0wO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIG49YTtvPm47bisrKXt2YXIgcj1lW25dLmludGVydmFsO2lmKHJbMF08PXQmJnQ8PXJbMV0pe2E9bjticmVha319aWYobj09PW8pZm9yKHZhciBuPWEtMTtuPj0wO24tLSl7dmFyIHI9ZVtuXS5pbnRlcnZhbDtpZihyWzBdPD10JiZ0PD1yWzFdKXthPW47YnJlYWt9fXJldHVybiBuPj0wJiZvPm4mJmlbbl19fWZ1bmN0aW9uIG8odCxlKXt2YXIgaT10WzFdLXRbMF07cmV0dXJuIGU9WyhlWzBdLXRbMF0pL2ksKGVbMV0tdFswXSkvaV0sZnVuY3Rpb24odCl7cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV19fWZ1bmN0aW9uIGEodCl7dmFyIGU9dC5kaW1lbnNpb25zO3JldHVyblwibG5nXCI9PT1lWzBdJiZcImxhdFwiPT09ZVsxXX12YXIgcj1pKDMpLHM9aSgyNjIpLGw9aSgxKTt0LmV4cG9ydHM9aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJoZWF0bWFwXCIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbjtpZihlLmVhY2hDb21wb25lbnQoXCJ2aXN1YWxNYXBcIixmdW5jdGlvbihlKXtlLmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24oaSl7aT09PXQmJihuPWUpfSl9KSwhbil0aHJvdyBuZXcgRXJyb3IoXCJIZWF0bWFwIG11c3QgdXNlIHdpdGggdmlzdWFsTWFwXCIpO3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtO1wiY2FydGVzaWFuMmRcIj09PW8udHlwZT90aGlzLl9yZW5kZXJPbkNhcnRlc2lhbihvLHQsaSk6YShvKSYmdGhpcy5fcmVuZGVyT25HZW8obyx0LG4saSl9LF9yZW5kZXJPbkNhcnRlc2lhbjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRBeGlzKFwieFwiKSxvPXQuZ2V0QXhpcyhcInlcIiksYT10aGlzLmdyb3VwO2lmKFwiY2F0ZWdvcnlcIiE9PW4udHlwZXx8XCJjYXRlZ29yeVwiIT09by50eXBlKXRocm93IG5ldyBFcnJvcihcIkhlYXRtYXAgb24gY2FydGVzaWFuIG11c3QgaGF2ZSB0d28gY2F0ZWdvcnkgYXhlc1wiKTtpZighbi5vbkJhbmR8fCFvLm9uQmFuZCl0aHJvdyBuZXcgRXJyb3IoXCJIZWF0bWFwIG9uIGNhcnRlc2lhbiBtdXN0IGhhdmUgdHdvIGF4ZXMgd2l0aCBib3VuZGFyeUdhcCB0cnVlXCIpO3ZhciBzPW4uZ2V0QmFuZFdpZHRoKCksbD1vLmdldEJhbmRXaWR0aCgpLGg9ZS5nZXREYXRhKCk7aC5lYWNoKFtcInhcIixcInlcIixcInpcIl0sZnVuY3Rpb24oaSxuLG8sdSl7dmFyIGM9aC5nZXRJdGVtTW9kZWwodSksZD10LmRhdGFUb1BvaW50KFtpLG5dKTtpZighaXNOYU4obykpe3ZhciBmPW5ldyByLlJlY3Qoe3NoYXBlOnt4OmRbMF0tcy8yLHk6ZFsxXS1sLzIsd2lkdGg6cyxoZWlnaHQ6bH0sc3R5bGU6e2ZpbGw6aC5nZXRJdGVtVmlzdWFsKHUsXCJjb2xvclwiKSxvcGFjaXR5OmguZ2V0SXRlbVZpc3VhbCh1LFwib3BhY2l0eVwiKX19KSxwPWMuZ2V0TW9kZWwoXCJpdGVtU3R5bGUubm9ybWFsXCIpLmdldEl0ZW1TdHlsZShbXCJjb2xvclwiXSksZz1jLmdldE1vZGVsKFwiaXRlbVN0eWxlLmVtcGhhc2lzXCIpLmdldEl0ZW1TdHlsZSgpLG09Yy5nZXRNb2RlbChcImxhYmVsLm5vcm1hbFwiKSx2PWMuZ2V0TW9kZWwoXCJsYWJlbC5lbXBoYXNpc1wiKSx5PWUuZ2V0UmF3VmFsdWUodSkseD1cIi1cIjt5JiZudWxsIT15WzJdJiYoeD15WzJdKSxtLmdldChcInNob3dcIikmJihyLnNldFRleHQocCxtKSxwLnRleHQ9ZS5nZXRGb3JtYXR0ZWRMYWJlbCh1LFwibm9ybWFsXCIpfHx4KSx2LmdldChcInNob3dcIikmJihyLnNldFRleHQoZyx2KSxnLnRleHQ9ZS5nZXRGb3JtYXR0ZWRMYWJlbCh1LFwiZW1waGFzaXNcIil8fHgpLGYuc2V0U3R5bGUocCksci5zZXRIb3ZlclN0eWxlKGYsZyksYS5hZGQoZiksaC5zZXRJdGVtR3JhcGhpY0VsKHUsZil9fSl9LF9yZW5kZXJPbkdlbzpmdW5jdGlvbih0LGUsaSxhKXt2YXIgbD1pLnRhcmdldFZpc3VhbHMuaW5SYW5nZSxoPWkudGFyZ2V0VmlzdWFscy5vdXRPZlJhbmdlLHU9ZS5nZXREYXRhKCksYz10aGlzLl9obUxheWVyfHx0aGlzLl9obUxheWVyfHxuZXcgcztjLmJsdXJTaXplPWUuZ2V0KFwiYmx1clNpemVcIiksYy5wb2ludFNpemU9ZS5nZXQoXCJwb2ludFNpemVcIiksYy5taW5PcGFjaXR5PWUuZ2V0KFwibWluT3BhY2l0eVwiKSxjLm1heE9wYWNpdHk9ZS5nZXQoXCJtYXhPcGFjaXR5XCIpO3ZhciBkPXQuZ2V0Vmlld1JlY3QoKS5jbG9uZSgpLGY9dC5nZXRSb2FtVHJhbnNmb3JtKCkudHJhbnNmb3JtO2QuYXBwbHlUcmFuc2Zvcm0oZik7dmFyIHA9TWF0aC5tYXgoZC54LDApLGc9TWF0aC5tYXgoZC55LDApLG09TWF0aC5taW4oZC53aWR0aCtkLngsYS5nZXRXaWR0aCgpKSx2PU1hdGgubWluKGQuaGVpZ2h0K2QueSxhLmdldEhlaWdodCgpKSx5PW0tcCx4PXYtZyxfPXUubWFwQXJyYXkoW1wibG5nXCIsXCJsYXRcIixcInZhbHVlXCJdLGZ1bmN0aW9uKGUsaSxuKXt2YXIgbz10LmRhdGFUb1BvaW50KFtlLGldKTtyZXR1cm4gb1swXS09cCxvWzFdLT1nLG8ucHVzaChuKSxvfSksYj1pLmdldEV4dGVudCgpLHc9XCJ2aXN1YWxNYXAuY29udGludW91c1wiPT09aS50eXBlP28oYixpLm9wdGlvbi5yYW5nZSk6bihiLGkuZ2V0UGllY2VMaXN0KCksaS5vcHRpb24uc2VsZWN0ZWQpO2MudXBkYXRlKF8seSx4LGwuY29sb3IuZ2V0Tm9ybWFsaXplcigpLHtpblJhbmdlOmwuY29sb3IuZ2V0Q29sb3JNYXBwZXIoKSxvdXRPZlJhbmdlOmguY29sb3IuZ2V0Q29sb3JNYXBwZXIoKX0sdyk7dmFyIFM9bmV3IHIuSW1hZ2Uoe3N0eWxlOnt3aWR0aDp5LGhlaWdodDp4LHg6cCx5OmcsaW1hZ2U6Yy5jYW52YXN9LHNpbGVudDohMH0pO3RoaXMuZ3JvdXAuYWRkKFMpfX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3IuR3JvdXAuY2FsbCh0aGlzKTt2YXIgaT1uZXcgcyh0LGUpO3RoaXMuYWRkKGkpLHRoaXMuX3VwZGF0ZUVmZmVjdFN5bWJvbCh0LGUpfWZ1bmN0aW9uIG8odCxlKXt0Ll9fcDE9ZVswXSx0Ll9fcDI9ZVsxXSx0Ll9fY3AxPWVbMl18fFsoZVswXVswXStlWzFdWzBdKS8yLChlWzBdWzFdK2VbMV1bMV0pLzJdfWZ1bmN0aW9uIGEoKXt2YXIgdD10aGlzLl9fcDEsZT10aGlzLl9fcDIsaT10aGlzLl9fY3AxLG49dGhpcy5fX3Qsbz10aGlzLnBvc2l0aW9uLGE9dS5xdWFkcmF0aWNBdCxyPXUucXVhZHJhdGljRGVyaXZhdGl2ZUF0O29bMF09YSh0WzBdLGlbMF0sZVswXSxuKSxvWzFdPWEodFsxXSxpWzFdLGVbMV0sbik7dmFyIHM9cih0WzBdLGlbMF0sZVswXSxuKSxsPXIodFsxXSxpWzFdLGVbMV0sbik7dGhpcy5yb3RhdGlvbj0tTWF0aC5hdGFuMihsLHMpLU1hdGguUEkvMix0aGlzLmlnbm9yZT0hMX12YXIgcj1pKDMpLHM9aSg4MyksbD1pKDEpLGg9aSgyNSksdT1pKDE2KSxjPW4ucHJvdG90eXBlO2MuX3VwZGF0ZUVmZmVjdFN5bWJvbD1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLG49aS5nZXRNb2RlbChcImVmZmVjdFwiKSxyPW4uZ2V0KFwic3ltYm9sU2l6ZVwiKSxzPW4uZ2V0KFwic3ltYm9sXCIpO2wuaXNBcnJheShyKXx8KHI9W3Iscl0pO3ZhciB1PW4uZ2V0KFwiY29sb3JcIil8fHQuZ2V0SXRlbVZpc3VhbChlLFwiY29sb3JcIiksYz10aGlzLmNoaWxkQXQoMSksZD0xZTMqbi5nZXQoXCJwZXJpb2RcIik7dGhpcy5fc3ltYm9sVHlwZT09PXMmJmQ9PT10aGlzLl9wZXJpb2R8fChjPWguY3JlYXRlU3ltYm9sKHMsLS41LC0uNSwxLDEsdSksYy5pZ25vcmU9ITAsYy56Mj0xMDAsdGhpcy5fc3ltYm9sVHlwZT1zLHRoaXMuX3BlcmlvZD1kLHRoaXMuYWRkKGMpLGMuX190PTAsYy5hbmltYXRlKFwiXCIsITApLndoZW4oZCx7X190OjF9KS5kZWxheShlL3QuY291bnQoKSpkLzIpLmR1cmluZyhsLmJpbmQoYSxjKSkuc3RhcnQoKSksYy5zZXRTdHlsZShcInNoYWRvd0NvbG9yXCIsdSksYy5zZXRTdHlsZShuLmdldEl0ZW1TdHlsZShbXCJjb2xvclwiXSkpLGMuYXR0cihcInNjYWxlXCIscik7dmFyIGY9dC5nZXRJdGVtTGF5b3V0KGUpO28oYyxmKSxjLnNldENvbG9yKHUpLGMuYXR0cihcInNjYWxlXCIscil9LGMudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSksdGhpcy5fdXBkYXRlRWZmZWN0U3ltYm9sKHQsZSl9LGMudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZUxheW91dCh0LGUpO3ZhciBpPXRoaXMuY2hpbGRBdCgxKSxuPXQuZ2V0SXRlbUxheW91dChlKTtvKGksbil9LGwuaW5oZXJpdHMobixyLkdyb3VwKSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIGEuaXNBcnJheSh0KXx8KHQ9Wyt0LCt0XSksdH1mdW5jdGlvbiBvKHQsZSl7dS5jYWxsKHRoaXMpO3ZhciBpPW5ldyBoKHQsZSksbj1uZXcgdTt0aGlzLmFkZChpKSx0aGlzLmFkZChuKSxuLmJlZm9yZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuYXR0cihpLmdldFNjYWxlKCkpfSx0aGlzLnVwZGF0ZURhdGEodCxlKX12YXIgYT1pKDEpLHI9aSgyNSkscz1pKDMpLGw9aSg0KSxoPWkoNDcpLHU9cy5Hcm91cCxjPTMsZD1vLnByb3RvdHlwZTtkLnN0b3BFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMSkucmVtb3ZlQWxsKCl9LGQuc3RhcnRFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24odCxlLGksbixvLGEpe2Zvcih2YXIgcz10aGlzLl9zeW1ib2xUeXBlLGw9dGhpcy5fY29sb3IsaD10aGlzLmNoaWxkQXQoMSksdT0wO2M+dTt1Kyspe3ZhciBkPXIuY3JlYXRlU3ltYm9sKHMsLS41LC0uNSwxLDEsbCk7ZC5hdHRyKHtzdHlsZTp7c3Ryb2tlOlwic3Ryb2tlXCI9PT1lP2w6bnVsbCxmaWxsOlwiZmlsbFwiPT09ZT9sOm51bGwsc3Ryb2tlTm9TY2FsZTohMH0sejI6OTksc2lsZW50OiEwLHNjYWxlOlsxLDFdLHo6byx6bGV2ZWw6YX0pO3ZhciBmPS11L2MqdCtuO2QuYW5pbWF0ZShcIlwiLCEwKS53aGVuKHQse3NjYWxlOltpLGldfSkuZGVsYXkoZikuc3RhcnQoKSxkLmFuaW1hdGVTdHlsZSghMCkud2hlbih0LHtvcGFjaXR5OjB9KS5kZWxheShmKS5zdGFydCgpLGguYWRkKGQpfX0sZC5oaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoXCJlbXBoYXNpc1wiKX0sZC5kb3ducGxheT1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcihcIm5vcm1hbFwiKX0sZC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe2IudHJpZ2dlcihcImVtcGhhc2lzXCIpLFwicmVuZGVyXCIhPT1wJiZ0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKHYsbSxnLHkseCxfKX1mdW5jdGlvbiBvKCl7Yi50cmlnZ2VyKFwibm9ybWFsXCIpLFwicmVuZGVyXCIhPT1wJiZ0aGlzLnN0b3BFZmZlY3RBbmltYXRpb24oKX12YXIgYT10Lmhvc3RNb2RlbDt0aGlzLmNoaWxkQXQoMCkudXBkYXRlRGF0YSh0LGUpO3ZhciByPXRoaXMuY2hpbGRBdCgxKSxzPXQuZ2V0SXRlbU1vZGVsKGUpLGg9dC5nZXRJdGVtVmlzdWFsKGUsXCJzeW1ib2xcIiksdT1uKHQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sU2l6ZVwiKSksYz10LmdldEl0ZW1WaXN1YWwoZSxcImNvbG9yXCIpO3IuYXR0cihcInNjYWxlXCIsdSksci50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmF0dHIoe2ZpbGw6Y30pfSk7dmFyIGQ9cy5nZXRTaGFsbG93KFwic3ltYm9sT2Zmc2V0XCIpO2lmKGQpe3ZhciBmPXIucG9zaXRpb247ZlswXT1sLnBhcnNlUGVyY2VudChkWzBdLHVbMF0pLGZbMV09bC5wYXJzZVBlcmNlbnQoZFsxXSx1WzFdKX1yLnJvdGF0aW9uPShzLmdldFNoYWxsb3coXCJzeW1ib2xSb3RhdGVcIil8fDApKk1hdGguUEkvMTgwfHwwLHRoaXMuX3N5bWJvbFR5cGU9aCx0aGlzLl9jb2xvcj1jO3ZhciBwPWEuZ2V0KFwic2hvd0VmZmVjdE9uXCIpLGc9cy5nZXQoXCJyaXBwbGVFZmZlY3Quc2NhbGVcIiksbT1zLmdldChcInJpcHBsZUVmZmVjdC5icnVzaFR5cGVcIiksdj0xZTMqcy5nZXQoXCJyaXBwbGVFZmZlY3QucGVyaW9kXCIpLHk9ZS90LmNvdW50KCkseD1zLmdldFNoYWxsb3coXCJ6XCIpfHwwLF89cy5nZXRTaGFsbG93KFwiemxldmVsXCIpfHwwO3RoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLFwicmVuZGVyXCI9PT1wJiZ0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKHYsbSxnLHkseCxfKTt2YXIgYj10aGlzLmNoaWxkQXQoMCk7dGhpcy5vbihcIm1vdXNlb3ZlclwiLGksdGhpcykub24oXCJtb3VzZW91dFwiLG8sdGhpcykub24oXCJlbXBoYXNpc1wiLGksdGhpcykub24oXCJub3JtYWxcIixvLHRoaXMpfSxkLmZhZGVPdXQ9ZnVuY3Rpb24odCl7dGhpcy5vZmYoXCJtb3VzZW92ZXJcIikub2ZmKFwibW91c2VvdXRcIikub2ZmKFwiZW1waGFzaXNcIikub2ZmKFwibm9ybWFsXCIpLHQmJnQoKX0sYS5pbmhlcml0cyhvLHUpLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSxuKXtsLkdyb3VwLmNhbGwodGhpcyksdGhpcy5ib2R5SW5kZXgsdGhpcy53aGlza2VySW5kZXgsdGhpcy5zdHlsZVVwZGF0ZXI9aSx0aGlzLl9jcmVhdGVDb250ZW50KHQsZSxuKSx0aGlzLnVwZGF0ZURhdGEodCxlLG4pLHRoaXMuX3Nlcmllc01vZGVsfWZ1bmN0aW9uIG8odCxlLGkpe3JldHVybiBzLm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiB0PXQuc2xpY2UoKSx0W2VdPWkuaW5pdEJhc2VsaW5lLHR9KX1mdW5jdGlvbiBhKHQpe3ZhciBlPXt9O3JldHVybiBzLmVhY2godCxmdW5jdGlvbih0LGkpe2VbXCJlbmRzXCIraV09dH0pLGV9ZnVuY3Rpb24gcih0KXt0aGlzLmdyb3VwPW5ldyBsLkdyb3VwLHRoaXMuc3R5bGVVcGRhdGVyPXR9dmFyIHM9aSgxKSxsPWkoMyksaD1pKDYpLHU9aC5leHRlbmQoe3R5cGU6XCJ3aGlza2VySW5Cb3hcIixzaGFwZTp7fSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSlpZigwPT09aS5pbmRleE9mKFwiZW5kc1wiKSl7dmFyIG49ZVtpXTt0Lm1vdmVUbyhuWzBdWzBdLG5bMF1bMV0pLHQubGluZVRvKG5bMV1bMF0sblsxXVsxXSl9fX0pLGM9bi5wcm90b3R5cGU7Yy5fY3JlYXRlQ29udGVudD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRJdGVtTGF5b3V0KGUpLHI9XCJob3Jpem9udGFsXCI9PT1uLmNoYXJ0TGF5b3V0PzE6MCxoPTA7dGhpcy5hZGQobmV3IGwuUG9seWdvbih7c2hhcGU6e3BvaW50czppP28obi5ib2R5RW5kcyxyLG4pOm4uYm9keUVuZHN9LHN0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6MjoxMDB9KSksdGhpcy5ib2R5SW5kZXg9aCsrO3ZhciBjPXMubWFwKG4ud2hpc2tlckVuZHMsZnVuY3Rpb24odCl7cmV0dXJuIGk/byh0LHIsbik6dH0pO3RoaXMuYWRkKG5ldyB1KHtzaGFwZTphKGMpLHN0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6MjoxMDB9KSksdGhpcy53aGlza2VySW5kZXg9aCsrfSxjLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX3Nlcmllc01vZGVsPXQuaG9zdE1vZGVsLG89dC5nZXRJdGVtTGF5b3V0KGUpLHI9bFtpP1wiaW5pdFByb3BzXCI6XCJ1cGRhdGVQcm9wc1wiXTtyKHRoaXMuY2hpbGRBdCh0aGlzLmJvZHlJbmRleCkse3NoYXBlOntwb2ludHM6by5ib2R5RW5kc319LG4sZSkscih0aGlzLmNoaWxkQXQodGhpcy53aGlza2VySW5kZXgpLHtzaGFwZTphKG8ud2hpc2tlckVuZHMpfSxuLGUpLHRoaXMuc3R5bGVVcGRhdGVyLmNhbGwobnVsbCx0aGlzLHQsZSl9LHMuaW5oZXJpdHMobixsLkdyb3VwKTt2YXIgZD1yLnByb3RvdHlwZTtkLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxpPXRoaXMuX2RhdGEsbz10aGlzLnN0eWxlVXBkYXRlcjt0LmRpZmYoaSkuYWRkKGZ1bmN0aW9uKGkpe2lmKHQuaGFzVmFsdWUoaSkpe3ZhciBhPW5ldyBuKHQsaSxvLCEwKTt0LnNldEl0ZW1HcmFwaGljRWwoaSxhKSxlLmFkZChhKX19KS51cGRhdGUoZnVuY3Rpb24oYSxyKXt2YXIgcz1pLmdldEl0ZW1HcmFwaGljRWwocik7cmV0dXJuIHQuaGFzVmFsdWUoYSk/KHM/cy51cGRhdGVEYXRhKHQsYSk6cz1uZXcgbih0LGEsbyksZS5hZGQocyksdm9pZCB0LnNldEl0ZW1HcmFwaGljRWwoYSxzKSk6dm9pZCBlLnJlbW92ZShzKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgbj1pLmdldEl0ZW1HcmFwaGljRWwodCk7biYmZS5yZW1vdmUobil9KS5leGVjdXRlKCksdGhpcy5fZGF0YT10fSxkLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9kYXRhO3RoaXMuX2RhdGE9bnVsbCxlJiZlLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUpe2UmJnQucmVtb3ZlKGUpfSl9LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7aSgyNjkpLGkoMjcwKTt2YXIgbj1pKDEpLG89aSgyKTtvLnJlZ2lzdGVyTGF5b3V0KGkoMjcxKSksby5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsbi5jdXJyeShpKDc0KSxcImxpbmVzXCIsXCJsaW5lU3R5bGVcIikpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxMyksbz1pKDE1KSxhPWkoMSkscj1pKDIzKTt0LmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJzZXJpZXMubGluZXNcIixkZXBlbmRlbmNpZXM6W1wiZ3JpZFwiLFwicG9sYXJcIl0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSxpLG4pe3JldHVybiB0LmNvb3JkJiZ0LmNvb3JkW25dfXZhciBuPVtdLHM9W10sbD1bXTthLmVhY2godC5kYXRhLGZ1bmN0aW9uKHQpe24ucHVzaCh0WzBdKSxzLnB1c2godFsxXSksbC5wdXNoKGEuZXh0ZW5kKGEuZXh0ZW5kKHt9LGEuaXNBcnJheSh0WzBdKT9udWxsOnRbMF0pLGEuaXNBcnJheSh0WzFdKT9udWxsOnRbMV0pKX0pO3ZhciBoPXIuZ2V0KHQuY29vcmRpbmF0ZVN5c3RlbSk7aWYoIWgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb29yZGluYXRlIHN5c3RlbVwiKTt2YXIgdT1oLmRpbWVuc2lvbnMsYz1uZXcgbyh1LHRoaXMpLGQ9bmV3IG8odSx0aGlzKSxmPW5ldyBvKFtcInZhbHVlXCJdLHRoaXMpO3JldHVybiBjLmluaXREYXRhKG4sbnVsbCxpKSxkLmluaXREYXRhKHMsbnVsbCxpKSxmLmluaXREYXRhKGwpLHRoaXMuZnJvbURhdGE9Yyx0aGlzLnRvRGF0YT1kLGZ9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mcm9tRGF0YS5nZXROYW1lKHQpLGk9dGhpcy50b0RhdGEuZ2V0TmFtZSh0KTtyZXR1cm4gZStcIiA+IFwiK2l9LGRlZmF1bHRPcHRpb246e2Nvb3JkaW5hdGVTeXN0ZW06XCJnZW9cIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsc3ltYm9sOlwiY2lyY2xlXCIsc3ltYm9sU2l6ZTozLHRyYWlsTGVuZ3RoOi4yfSxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDoyZTMsbGFiZWw6e25vcm1hbDp7c2hvdzohMSxwb3NpdGlvbjpcImVuZFwifX0sbGluZVN0eWxlOntub3JtYWw6e29wYWNpdHk6LjV9fX19KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoODQpLG89aSgyNjUpLGE9aSg4Myk7aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJsaW5lc1wiLGluaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dC5nZXREYXRhKCkscz10aGlzLl9saW5lRHJhdyxsPXQuZ2V0KFwiZWZmZWN0LnNob3dcIik7bCE9PXRoaXMuX2hhc0VmZmV0JiYocyYmcy5yZW1vdmUoKSxzPXRoaXMuX2xpbmVEcmF3PW5ldyBuKGw/bzphKSx0aGlzLl9oYXNFZmZldD1sKTt2YXIgaD10LmdldChcInpsZXZlbFwiKSx1PXQuZ2V0KFwiZWZmZWN0LnRyYWlsTGVuZ3RoXCIpLGM9aS5nZXRacigpO2MucGFpbnRlci5nZXRMYXllcihoKS5jbGVhcighMCksbnVsbCE9dGhpcy5fbGFzdFpsZXZlbCYmYy5jb25maWdMYXllcih0aGlzLl9sYXN0WmxldmVsLHttb3Rpb25CbHVyOiExfSksbCYmdSYmYy5jb25maWdMYXllcihoLHttb3Rpb25CbHVyOiEwLGxhc3RGcmFtZUFscGhhOk1hdGgubWF4KE1hdGgubWluKHUvMTArLjksMSksMCl9KSx0aGlzLmdyb3VwLmFkZChzLmdyb3VwKSxzLnVwZGF0ZURhdGEociksdGhpcy5fbGFzdFpsZXZlbD1ofSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2xpbmVEcmF3LnVwZGF0ZUxheW91dCgpO3ZhciBuPWkuZ2V0WnIoKTtuLnBhaW50ZXIuZ2V0TGF5ZXIodGhpcy5fbGFzdFpsZXZlbCkuY2xlYXIoITApfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKGUsITApfX0pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJsaW5lc1wiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXQuZnJvbURhdGEsbj10LnRvRGF0YSxvPXQuZ2V0RGF0YSgpLGE9ZS5kaW1lbnNpb25zO2kuZWFjaChhLGZ1bmN0aW9uKHQsbixvKXtpLnNldEl0ZW1MYXlvdXQobyxlLmRhdGFUb1BvaW50KFt0LG5dKSl9KSxuLmVhY2goYSxmdW5jdGlvbih0LGksbyl7bi5zZXRJdGVtTGF5b3V0KG8sZS5kYXRhVG9Qb2ludChbdCxpXSkpfSksby5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLGE9aS5nZXRJdGVtTGF5b3V0KHQpLHI9bi5nZXRJdGVtTGF5b3V0KHQpLHM9by5nZXRJdGVtTW9kZWwodCkuZ2V0KFwibGluZVN0eWxlLm5vcm1hbC5jdXJ2ZW5lc3NcIik7cz4wJiYoZT1bKGFbMF0rclswXSkvMi0oYVsxXS1yWzFdKSpzLChhWzFdK3JbMV0pLzItKHJbMF0tYVswXSkqc10pLG8uc2V0SXRlbUxheW91dCh0LFthLHIsZV0pfSl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDIpO2koMjczKSxpKDI3NCksaSgyMDcpLGkoMTYyKSxuLnJlZ2lzdGVyTGF5b3V0KGkoMjc3KSksbi5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsaSgyNzgpKSxuLnJlZ2lzdGVyUHJvY2Vzc29yKFwic3RhdGlzdGljXCIsaSgyNzYpKSxuLnJlZ2lzdGVyUHJlcHJvY2Vzc29yKGkoMjc1KSksaSg2OSkoXCJtYXBcIixbe3R5cGU6XCJtYXBUb2dnbGVTZWxlY3RcIixldmVudDpcIm1hcHNlbGVjdGNoYW5nZWRcIixtZXRob2Q6XCJ0b2dnbGVTZWxlY3RlZFwifSx7dHlwZTpcIm1hcFNlbGVjdFwiLGV2ZW50OlwibWFwc2VsZWN0ZWRcIixtZXRob2Q6XCJzZWxlY3RcIn0se3R5cGU6XCJtYXBVblNlbGVjdFwiLGV2ZW50OlwibWFwdW5zZWxlY3RlZFwiLG1ldGhvZDpcInVuU2VsZWN0XCJ9XSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDE1KSxvPWkoMTMpLGE9aSgxKSxyPWkoMzEpLHM9aSg5KSxsPXMuZW5jb2RlSFRNTCxoPXMuYWRkQ29tbWFzLHU9aSg2MSksYz1pKDE2MiksZD1vLmV4dGVuZCh7dHlwZTpcInNlcmllcy5tYXBcIixuZWVkc0RyYXdNYXA6ITEsc2VyaWVzR3JvdXA6W10saW5pdDpmdW5jdGlvbih0KXt0PXRoaXMuX2ZpbGxPcHRpb24odCx0Lm1hcCksdGhpcy5vcHRpb249dCxkLnN1cGVyQXBwbHkodGhpcyxcImluaXRcIixhcmd1bWVudHMpLHRoaXMudXBkYXRlU2VsZWN0ZWRNYXAodC5kYXRhKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCl7dmFyIGU9cihbXCJ2YWx1ZVwiXSx0LmRhdGF8fFtdKSxpPW5ldyBuKGUsdGhpcyk7cmV0dXJuIGkuaW5pdERhdGEodC5kYXRhKSxpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt0LmRhdGEmJih0PXRoaXMuX2ZpbGxPcHRpb24odCx0aGlzLm9wdGlvbi5tYXApKSxkLnN1cGVyQ2FsbCh0aGlzLFwibWVyZ2VPcHRpb25cIix0KSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKHRoaXMub3B0aW9uLmRhdGEpfSxfZmlsbE9wdGlvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0PWEuZXh0ZW5kKHt9LHQpLHQuZGF0YT1jLmdldEZpbGxlZFJlZ2lvbnModC5kYXRhLGUpLHR9LGdldFJhd1ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhLmdldChcInZhbHVlXCIsdCl9LGdldFJlZ2lvbk1vZGVsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpO3JldHVybiBlLmdldEl0ZW1Nb2RlbChlLmluZGV4T2ZOYW1lKHQpKX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZGF0YSxpPWgodGhpcy5nZXRSYXdWYWx1ZSh0KSksbj1lLmdldE5hbWUodCksbz10aGlzLnNlcmllc0dyb3VwLGE9W10scj0wO3I8by5sZW5ndGg7cisrKWlzTmFOKG9bcl0uZ2V0UmF3VmFsdWUodCkpfHxhLnB1c2gobChvW3JdLm5hbWUpKTtyZXR1cm4gYS5qb2luKFwiLCBcIikrXCI8YnIgLz5cIituK1wiIDogXCIraX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06XCJnZW9cIixtYXA6XCJjaGluYVwiLGxlZnQ6XCJjZW50ZXJcIix0b3A6XCJjZW50ZXJcIixzaG93TGVnZW5kU3ltYm9sOiEwLGRhdGFSYW5nZUhvdmVyTGluazohMCxjZW50ZXI6bnVsbCx6b29tOjEsc2NhbGVMaW1pdDpudWxsLGxhYmVsOntub3JtYWw6e3Nob3c6ITEsdGV4dFN0eWxlOntjb2xvcjpcIiMwMDBcIn19LGVtcGhhc2lzOntzaG93OiEwLHRleHRTdHlsZTp7Y29sb3I6XCJyZ2IoMTAwLDAsMClcIn19fSxpdGVtU3R5bGU6e25vcm1hbDp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6XCIjNDQ0XCIsYXJlYUNvbG9yOlwiI2VlZVwifSxlbXBoYXNpczp7YXJlYUNvbG9yOlwicmdiYSgyNTUsMjE1LCAwLCAwLjgpXCJcbn19fSxzZXRab29tOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fX0pO2EubWl4aW4oZCx1KSx0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMyksbz1pKDIxMyk7aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJtYXBcIixyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYoIW58fFwibWFwVG9nZ2xlU2VsZWN0XCIhPT1uLnR5cGV8fG4uZnJvbSE9PXRoaXMudWlkKXt2YXIgYT10aGlzLmdyb3VwO2lmKGEucmVtb3ZlQWxsKCksbiYmXCJnZW9Sb2FtXCI9PT1uLnR5cGUmJlwic2VyaWVzXCI9PT1uLmNvbXBvbmVudCYmbi5uYW1lPT09dC5uYW1lKXt2YXIgcj10aGlzLl9tYXBEcmF3O3ImJmEuYWRkKHIuZ3JvdXApfWVsc2UgaWYodC5uZWVkc0RyYXdNYXApe3ZhciByPXRoaXMuX21hcERyYXd8fG5ldyBvKGksITApO2EuYWRkKHIuZ3JvdXApLHIuZHJhdyh0LGUsaSx0aGlzLG4pLHRoaXMuX21hcERyYXc9cn1lbHNlIHRoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsO3QuZ2V0KFwic2hvd0xlZ2VuZFN5bWJvbFwiKSYmZS5nZXRDb21wb25lbnQoXCJsZWdlbmRcIikmJnRoaXMuX3JlbmRlclN5bWJvbHModCxlLGkpfX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sX3JlbmRlclN5bWJvbHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXQuZ2V0RGF0YSgpLGE9dGhpcy5ncm91cDtvLmVhY2goXCJ2YWx1ZVwiLGZ1bmN0aW9uKHQsZSl7aWYoIWlzTmFOKHQpKXt2YXIgaT1vLmdldEl0ZW1MYXlvdXQoZSk7aWYoaSYmaS5wb2ludCl7dmFyIHI9aS5wb2ludCxzPWkub2Zmc2V0LGw9bmV3IG4uQ2lyY2xlKHtzdHlsZTp7ZmlsbDpvLmdldFZpc3VhbChcImNvbG9yXCIpfSxzaGFwZTp7Y3g6clswXSs5KnMsY3k6clsxXSxyOjN9LHNpbGVudDohMCx6MjoxMH0pO2lmKCFzKXt2YXIgaD1vLmdldE5hbWUoZSksdT1vLmdldEl0ZW1Nb2RlbChlKSxjPXUuZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWxcIiksZD11LmdldE1vZGVsKFwibGFiZWwuZW1waGFzaXNcIiksZj1jLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLHA9ZC5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxnPW8uZ2V0SXRlbUdyYXBoaWNFbChlKTtsLnNldFN0eWxlKHt0ZXh0UG9zaXRpb246XCJib3R0b21cIn0pO3ZhciBtPWZ1bmN0aW9uKCl7bC5zZXRTdHlsZSh7dGV4dDpkLmdldChcInNob3dcIik/aDpcIlwiLHRleHRGaWxsOnAuZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6cC5nZXRGb250KCl9KX0sdj1mdW5jdGlvbigpe2wuc2V0U3R5bGUoe3RleHQ6Yy5nZXQoXCJzaG93XCIpP2g6XCJcIix0ZXh0RmlsbDpmLmdldFRleHRDb2xvcigpLHRleHRGb250OmYuZ2V0Rm9udCgpfSl9O2cub24oXCJtb3VzZW92ZXJcIixtKS5vbihcIm1vdXNlb3V0XCIsdikub24oXCJlbXBoYXNpc1wiLG0pLm9uKFwibm9ybWFsXCIsdiksdigpfWEuYWRkKGwpfX19KX19KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7dmFyIGU9e307cmV0dXJuIG8uZWFjaChhLGZ1bmN0aW9uKGkpe251bGwhPXRbaV0mJihlW2ldPXRbaV0pfSksZX12YXIgbz1pKDEpLGE9W1wieFwiLFwieVwiLFwieDJcIixcInkyXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJtYXBcIixcInJvYW1cIixcImNlbnRlclwiLFwiem9vbVwiLFwic2NhbGVMaW1pdFwiLFwibGFiZWxcIixcIml0ZW1TdHlsZVwiXSxyPXt9O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtvLmVhY2godC5zZXJpZXMsZnVuY3Rpb24odCl7XCJtYXBcIj09PXQudHlwZSYmZS5wdXNoKHQpLG8uZXh0ZW5kKHIsdC5nZW9Db29yZCl9KTt2YXIgaT17fTtvLmVhY2goZSxmdW5jdGlvbihlKXtpZihlLm1hcD1lLm1hcHx8ZS5tYXBUeXBlLG8uZGVmYXVsdHMoZSxlLm1hcExvY2F0aW9uKSxlLm1hcmtQb2ludCl7dmFyIGE9ZS5tYXJrUG9pbnQ7aWYoYS5kYXRhPW8ubWFwKGEuZGF0YSxmdW5jdGlvbih0KXtpZighby5pc0FycmF5KHQudmFsdWUpKXt2YXIgZTt0Lmdlb0Nvb3JkP2U9dC5nZW9Db29yZDp0Lm5hbWUmJihlPXJbdC5uYW1lXSk7dmFyIGk9ZT9bZVswXSxlWzFdXTpbTmFOLE5hTl07bnVsbCE9dC52YWx1ZSYmaS5wdXNoKHQudmFsdWUpLHQudmFsdWU9aX1yZXR1cm4gdH0pLCFlLmRhdGF8fCFlLmRhdGEubGVuZ3RoKXt0Lmdlbz9vLmlzQXJyYXkodC5nZW8pfHwodC5nZW89W3QuZ2VvXSk6dC5nZW89W107dmFyIHM9aVtlLm1hcF07c3x8KHM9aVtlLm1hcF09bihlKSx0Lmdlby5wdXNoKHMpKTt2YXIgbD1lLm1hcmtQb2ludDtsLnR5cGU9dC5lZmZlY3QmJnQuZWZmZWN0LnNob3c/XCJlZmZlY3RTY2F0dGVyXCI6XCJzY2F0dGVyXCIsbC5jb29yZGluYXRlU3lzdGVtPVwiZ2VvXCIsbC5nZW9JbmRleD1vLmluZGV4T2YodC5nZW8scyksbC5uYW1lPWUubmFtZSx0LnNlcmllcy5zcGxpY2Uoby5pbmRleE9mKHQuc2VyaWVzLGUpLDEsbCl9fX0pfX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtmb3IodmFyIGk9e30sbj1bXCJ2YWx1ZVwiXSxvPTA7bzx0Lmxlbmd0aDtvKyspdFtvXS5lYWNoKG4sZnVuY3Rpb24oZSxuKXt2YXIgYT10W29dLmdldE5hbWUobik7aVthXT1pW2FdfHxbXSxpc05hTihlKXx8aVthXS5wdXNoKGUpfSk7cmV0dXJuIHRbMF0ubWFwKG4sZnVuY3Rpb24obixvKXtmb3IodmFyIGE9dFswXS5nZXROYW1lKG8pLHI9MCxzPTEvMCxsPS0oMS8wKSxoPWlbYV0ubGVuZ3RoLHU9MDtoPnU7dSsrKXM9TWF0aC5taW4ocyxpW2FdW3VdKSxsPU1hdGgubWF4KGwsaVthXVt1XSkscis9aVthXVt1XTt2YXIgYztyZXR1cm4gYz1cIm1pblwiPT09ZT9zOlwibWF4XCI9PT1lP2w6XCJhdmVyYWdlXCI9PT1lP3IvaDpyLDA9PT1oP05hTjpjfSl9dmFyIG89aSgxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKFwibWFwXCIsZnVuY3Rpb24odCl7dmFyIGk9dC5nZXQoXCJtYXBcIik7ZVtpXT1lW2ldfHxbXSxlW2ldLnB1c2godCl9KSxvLmVhY2goZSxmdW5jdGlvbih0LGUpe3ZhciBpPW4oby5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXREYXRhKCl9KSx0WzBdLmdldChcIm1hcFZhbHVlQ2FsY3VsYXRpb25cIikpO3RbMF0uc2VyaWVzR3JvdXA9W10sdFswXS5zZXREYXRhKGkpO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXRbYV0uc2VyaWVzR3JvdXA9dCx0W2FdLm5lZWRzRHJhd01hcD0wPT09YX0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZShcIm1hcFwiLGZ1bmN0aW9uKGkpe3ZhciBvPWkuZ2V0KFwibWFwXCIpO2lmKCFlW29dKXt2YXIgYT17fTtuLmVhY2goaS5zZXJpZXNHcm91cCxmdW5jdGlvbihlKXt2YXIgaT1lLmNvb3JkaW5hdGVTeXN0ZW0sbj1lLmdldERhdGEoKTtlLmdldChcInNob3dMZWdlbmRTeW1ib2xcIikmJnQuZ2V0Q29tcG9uZW50KFwibGVnZW5kXCIpJiZuLmVhY2goXCJ2YWx1ZVwiLGZ1bmN0aW9uKHQsZSl7dmFyIG89bi5nZXROYW1lKGUpLHI9aS5nZXRSZWdpb24obyk7aWYociYmIWlzTmFOKHQpKXt2YXIgcz1hW29dfHwwLGw9aS5kYXRhVG9Qb2ludChyLmNlbnRlcik7YVtvXT1zKzEsbi5zZXRJdGVtTGF5b3V0KGUse3BvaW50Omwsb2Zmc2V0OnN9KX19KX0pO3ZhciByPWkuZ2V0RGF0YSgpO3IuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1yLmdldE5hbWUodCksaT1yLmdldEl0ZW1MYXlvdXQodCl8fHt9O2kuc2hvd0xhYmVsPSFhW2VdLHIuc2V0SXRlbUxheW91dCh0LGkpfSksZVtvXT0hMH19KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZShcIm1hcFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwiY29sb3JcIiksaT10LmdldE1vZGVsKFwiaXRlbVN0eWxlLm5vcm1hbFwiKSxuPWkuZ2V0KFwiYXJlYUNvbG9yXCIpLG89aS5nZXQoXCJjb2xvclwiKXx8ZVt0LnNlcmllc0luZGV4JWUubGVuZ3RoXTt0LmdldERhdGEoKS5zZXRWaXN1YWwoe2FyZWFDb2xvcjpuLGNvbG9yOm99KX0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMik7aSgyMTQpLGkoMjgwKSxpKDI4MSksbi5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsaSgyODIpKX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkpe3ZhciBuPXQuZ2V0KFwiZGF0YVwiKSxvPStlLnJlcGxhY2UoXCJkaW1cIixcIlwiKTtuJiZuLmxlbmd0aCYmYS5lYWNoKGksZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9YS5pbmRleE9mKG4sdFtvXSk7dFtvXT1lPj0wP2U6TmFOfX0pfXZhciBvPWkoMTUpLGE9aSgxKSxyPWkoMTMpO3QuZXhwb3J0cz1yLmV4dGVuZCh7dHlwZTpcInNlcmllcy5wYXJhbGxlbFwiLGRlcGVuZGVuY2llczpbXCJwYXJhbGxlbFwiXSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxcIix0aGlzLmdldChcInBhcmFsbGVsSW5kZXhcIikpLHI9aS5kaW1lbnNpb25zLHM9aS5wYXJhbGxlbEF4aXNJbmRleCxsPXQuZGF0YSxoPWEubWFwKHIsZnVuY3Rpb24odCxpKXt2YXIgbz1lLmdldENvbXBvbmVudChcInBhcmFsbGVsQXhpc1wiLHNbaV0pO3JldHVyblwiY2F0ZWdvcnlcIj09PW8uZ2V0KFwidHlwZVwiKT8obihvLHQsbCkse25hbWU6dCx0eXBlOlwib3JkaW5hbFwifSk6dH0pLHU9bmV3IG8oaCx0aGlzKTtyZXR1cm4gdS5pbml0RGF0YShsKSx1fSxnZXRSYXdJbmRpY2VzQnlBY3RpdmVTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0saT10aGlzLmdldERhdGEoKSxuPVtdO3JldHVybiBlLmVhY2hBY3RpdmVTdGF0ZShpLGZ1bmN0aW9uKGUsbyl7dD09PWUmJm4ucHVzaChpLmdldFJhd0luZGV4KG8pKX0pLG59LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwicGFyYWxsZWxcIixwYXJhbGxlbEluZGV4OjAsbGFiZWw6e25vcm1hbDp7c2hvdzohMX0sZW1waGFzaXM6e3Nob3c6ITF9fSxpbmFjdGl2ZU9wYWNpdHk6LjA1LGFjdGl2ZU9wYWNpdHk6MSxsaW5lU3R5bGU6e25vcm1hbDp7d2lkdGg6MixvcGFjaXR5Oi40NSx0eXBlOlwic29saWRcIn19LGFuaW1hdGlvbkVhc2luZzpcImxpbmVhclwifX0pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG49dC5tb2RlbCxvPXQuZ2V0UmVjdCgpLGE9bmV3IHMuUmVjdCh7c2hhcGU6e3g6by54LHk6by55LHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0fX0pLHI9XCJob3Jpem9udGFsXCI9PT1uLmdldChcImxheW91dFwiKT9cIndpZHRoXCI6XCJoZWlnaHRcIjtyZXR1cm4gYS5zZXRTaGFwZShyLDApLHMuaW5pdFByb3BzKGEse3NoYXBlOnt3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19LGUsaSksYX1mdW5jdGlvbiBvKHQsZSxpLG4pe2Zvcih2YXIgbz0wLGE9ZS5sZW5ndGgtMTthPm87bysrKXt2YXIgcz1lW29dLGw9ZVtvKzFdLGg9dFtvXSx1PXRbbysxXTtuKHIoaCxpLmdldEF4aXMocykudHlwZSl8fHIodSxpLmdldEF4aXMobCkudHlwZSk/bnVsbDpbaS5kYXRhVG9Qb2ludChoLHMpLGkuZGF0YVRvUG9pbnQodSxsKV0sbyl9fWZ1bmN0aW9uIGEodCl7cmV0dXJuIG5ldyBzLlBvbHlsaW5lKHtzaGFwZTp7cG9pbnRzOnR9LHNpbGVudDohMH0pfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm5cImNhdGVnb3J5XCI9PT1lP251bGw9PXQ6bnVsbD09dHx8aXNOYU4odCl9dmFyIHM9aSgzKSxsPWkoMSksaD1pKDI2KS5leHRlbmQoe3R5cGU6XCJwYXJhbGxlbFwiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhR3JvdXA9bmV3IHMuR3JvdXAsdGhpcy5ncm91cC5hZGQodGhpcy5fZGF0YUdyb3VwKSx0aGlzLl9kYXRhfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkscil7ZnVuY3Rpb24gaCh0KXt2YXIgZT1mLmdldFZhbHVlcyhtLHQpLGk9bmV3IHMuR3JvdXA7ZC5hZGQoaSksbyhlLG0sZyxmdW5jdGlvbih0LGUpe3QmJmkuYWRkKGEodCkpfSksZi5zZXRJdGVtR3JhcGhpY0VsKHQsaSl9ZnVuY3Rpb24gdShlLGkpe3ZhciBuPWYuZ2V0VmFsdWVzKG0sZSkscj1wLmdldEl0ZW1HcmFwaGljRWwoaSksbD1bXSxoPTA7byhuLG0sZyxmdW5jdGlvbihpLG4pe3ZhciBvPXIuY2hpbGRBdChoKyspO2kmJiFvP2wucHVzaChhKGkpKTppJiZzLnVwZGF0ZVByb3BzKG8se3NoYXBlOntwb2ludHM6aX19LHQsZSl9KTtmb3IodmFyIHU9ci5jaGlsZENvdW50KCktMTt1Pj1oO3UtLSlyLnJlbW92ZShyLmNoaWxkQXQodSkpO2Zvcih2YXIgdT0wLGM9bC5sZW5ndGg7Yz51O3UrKylyLmFkZChsW3VdKTtmLnNldEl0ZW1HcmFwaGljRWwoZSxyKX1mdW5jdGlvbiBjKHQpe3ZhciBlPXAuZ2V0SXRlbUdyYXBoaWNFbCh0KTtkLnJlbW92ZShlKX12YXIgZD10aGlzLl9kYXRhR3JvdXAsZj10LmdldERhdGEoKSxwPXRoaXMuX2RhdGEsZz10LmNvb3JkaW5hdGVTeXN0ZW0sbT1nLmRpbWVuc2lvbnM7Zi5kaWZmKHApLmFkZChoKS51cGRhdGUodSkucmVtb3ZlKGMpLmV4ZWN1dGUoKSxmLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9Zi5nZXRJdGVtTW9kZWwoZSksbj1pLmdldE1vZGVsKFwibGluZVN0eWxlLm5vcm1hbFwiKTt0LmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LnVzZVN0eWxlKGwuZXh0ZW5kKG4uZ2V0TGluZVN0eWxlKCkse2ZpbGw6bnVsbCxzdHJva2U6Zi5nZXRJdGVtVmlzdWFsKGUsXCJjb2xvclwiKSxvcGFjaXR5OmYuZ2V0SXRlbVZpc3VhbChlLFwib3BhY2l0eVwiKX0pKX0pfSksdGhpcy5fZGF0YXx8ZC5zZXRDbGlwUGF0aChuKGcsdCxmdW5jdGlvbigpe2QucmVtb3ZlQ2xpcFBhdGgoKX0pKSx0aGlzLl9kYXRhPWZ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2RhdGFHcm91cCYmdGhpcy5fZGF0YUdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH19KTt0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoXCJwYXJhbGxlbFwiLGZ1bmN0aW9uKGUpe3ZhciBpPWUuZ2V0TW9kZWwoXCJpdGVtU3R5bGUubm9ybWFsXCIpLG49dC5nZXQoXCJjb2xvclwiKSxvPWkuZ2V0KFwiY29sb3JcIil8fG5bZS5zZXJpZXNJbmRleCVuLmxlbmd0aF0sYT1lLmdldChcImluYWN0aXZlT3BhY2l0eVwiKSxyPWUuZ2V0KFwiYWN0aXZlT3BhY2l0eVwiKSxzPWUuZ2V0TW9kZWwoXCJsaW5lU3R5bGUubm9ybWFsXCIpLmdldExpbmVTdHlsZSgpLGw9ZS5jb29yZGluYXRlU3lzdGVtLGg9ZS5nZXREYXRhKCksdT17bm9ybWFsOnMub3BhY2l0eSxhY3RpdmU6cixpbmFjdGl2ZTphfTtsLmVhY2hBY3RpdmVTdGF0ZShoLGZ1bmN0aW9uKHQsZSl7aC5zZXRJdGVtVmlzdWFsKGUsXCJvcGFjaXR5XCIsdVt0XSl9KSxoLnNldFZpc3VhbChcImNvbG9yXCIsbyl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89aSgyKTtpKDMwOSksaSgyODQpLGkoMjg1KSxvLnJlZ2lzdGVyVmlzdWFsQ29kaW5nKFwiY2hhcnRcIixuLmN1cnJ5KGkoNjQpLFwicmFkYXJcIikpLG8ucmVnaXN0ZXJWaXN1YWxDb2RpbmcoXCJjaGFydFwiLG4uY3VycnkoaSg0NCksXCJyYWRhclwiLFwiY2lyY2xlXCIsbnVsbCkpLG8ucmVnaXN0ZXJMYXlvdXQoaSgyODcpKSxvLnJlZ2lzdGVyUHJvY2Vzc29yKFwiZmlsdGVyXCIsbi5jdXJyeShpKDYzKSxcInJhZGFyXCIpKSxvLnJlZ2lzdGVyUHJlcHJvY2Vzc29yKGkoMjg2KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEzKSxvPWkoMTUpLGE9aSgzMSkscj1pKDEpLHM9bi5leHRlbmQoe3R5cGU6XCJzZXJpZXMucmFkYXJcIixkZXBlbmRlbmNpZXM6W1wicmFkYXJcIl0saW5pdDpmdW5jdGlvbih0KXtzLnN1cGVyQXBwbHkodGhpcyxcImluaXRcIixhcmd1bWVudHMpLHRoaXMubGVnZW5kRGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFCZWZvcmVQcm9jZXNzZWR9fSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZGF0YXx8W10sbj1hKFtdLGksW10sXCJpbmRpY2F0b3JfXCIpLHI9bmV3IG8obix0aGlzKTtyZXR1cm4gci5pbml0RGF0YShpKSxyfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UmF3VmFsdWUodCksaT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldEluZGljYXRvckF4ZXMoKTtyZXR1cm4gdGhpcy5fZGF0YS5nZXROYW1lKHQpK1wiPGJyIC8+XCIrci5tYXAobixmdW5jdGlvbih0LGkpe3JldHVybiB0Lm5hbWUrXCIgOiBcIitlW2ldfSkuam9pbihcIjxiciAvPlwiKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06XCJyYWRhclwiLGxlZ2VuZEhvdmVyTGluazohMCxyYWRhckluZGV4OjAsbGluZVN0eWxlOntub3JtYWw6e3dpZHRoOjIsdHlwZTpcInNvbGlkXCJ9fSxsYWJlbDp7bm9ybWFsOntwb3NpdGlvbjpcInRvcFwifX0sc3ltYm9sOlwiZW1wdHlDaXJjbGVcIixzeW1ib2xTaXplOjR9fSk7dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiBhLmlzQXJyYXkodCl8fCh0PVsrdCwrdF0pLHR9dmFyIG89aSgzKSxhPWkoMSkscj1pKDI1KTt0LmV4cG9ydHM9aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJyYWRhclwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gcyh0LGUpe3ZhciBpPXQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sXCIpfHxcImNpcmNsZVwiLG89dC5nZXRJdGVtVmlzdWFsKGUsXCJjb2xvclwiKTtpZihcIm5vbmVcIiE9PWkpe3ZhciBhPXIuY3JlYXRlU3ltYm9sKGksLS41LC0uNSwxLDEsbyk7cmV0dXJuIGEuYXR0cih7c3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjEwMCxzY2FsZTpuKHQuZ2V0SXRlbVZpc3VhbChlLFwic3ltYm9sU2l6ZVwiKSl9KSxhfX1mdW5jdGlvbiBsKGUsaSxuLGEscixsKXtuLnJlbW92ZUFsbCgpO2Zvcih2YXIgaD0wO2g8aS5sZW5ndGgtMTtoKyspe3ZhciB1PXMoYSxyKTt1JiYodS5fX2RpbUlkeD1oLGVbaF0/KHUuYXR0cihcInBvc2l0aW9uXCIsZVtoXSksb1tsP1wiaW5pdFByb3BzXCI6XCJ1cGRhdGVQcm9wc1wiXSh1LHtwb3NpdGlvbjppW2hdfSx0LHIpKTp1LmF0dHIoXCJwb3NpdGlvblwiLGlbaF0pLG4uYWRkKHUpKX19ZnVuY3Rpb24gaCh0KXtyZXR1cm4gYS5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm5bdS5jeCx1LmN5XX0pfXZhciB1PXQuY29vcmRpbmF0ZVN5c3RlbSxjPXRoaXMuZ3JvdXAsZD10LmdldERhdGEoKSxmPXRoaXMuX2RhdGE7ZC5kaWZmKGYpLmFkZChmdW5jdGlvbihlKXt2YXIgaT1kLmdldEl0ZW1MYXlvdXQoZSk7aWYoaSl7dmFyIG49bmV3IG8uUG9seWdvbixhPW5ldyBvLlBvbHlsaW5lLHI9e3NoYXBlOntwb2ludHM6aX19O24uc2hhcGUucG9pbnRzPWgoaSksYS5zaGFwZS5wb2ludHM9aChpKSxvLmluaXRQcm9wcyhuLHIsdCxlKSxvLmluaXRQcm9wcyhhLHIsdCxlKTt2YXIgcz1uZXcgby5Hcm91cCx1PW5ldyBvLkdyb3VwO3MuYWRkKGEpLHMuYWRkKG4pLHMuYWRkKHUpLGwoYS5zaGFwZS5wb2ludHMsaSx1LGQsZSwhMCksZC5zZXRJdGVtR3JhcGhpY0VsKGUscyl9fSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7dmFyIG49Zi5nZXRJdGVtR3JhcGhpY0VsKGkpLGE9bi5jaGlsZEF0KDApLHI9bi5jaGlsZEF0KDEpLHM9bi5jaGlsZEF0KDIpLGg9e3NoYXBlOntwb2ludHM6ZC5nZXRJdGVtTGF5b3V0KGUpfX07aC5zaGFwZS5wb2ludHMmJihsKGEuc2hhcGUucG9pbnRzLGguc2hhcGUucG9pbnRzLHMsZCxlLCExKSxvLnVwZGF0ZVByb3BzKGEsaCx0KSxvLnVwZGF0ZVByb3BzKHIsaCx0KSxkLnNldEl0ZW1HcmFwaGljRWwoZSxuKSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7Yy5yZW1vdmUoZi5nZXRJdGVtR3JhcGhpY0VsKHQpKX0pLmV4ZWN1dGUoKSxkLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe2guYXR0cihcImlnbm9yZVwiLHYpfWZ1bmN0aW9uIHIoKXtoLmF0dHIoXCJpZ25vcmVcIixtKX12YXIgcz1kLmdldEl0ZW1Nb2RlbChpKSxsPWUuY2hpbGRBdCgwKSxoPWUuY2hpbGRBdCgxKSx1PWUuY2hpbGRBdCgyKSxmPWQuZ2V0SXRlbVZpc3VhbChpLFwiY29sb3JcIik7Yy5hZGQoZSksbC51c2VTdHlsZShhLmV4dGVuZChzLmdldE1vZGVsKFwibGluZVN0eWxlLm5vcm1hbFwiKS5nZXRMaW5lU3R5bGUoKSx7ZmlsbDpcIm5vbmVcIixzdHJva2U6Zn0pKSxsLmhvdmVyU3R5bGU9cy5nZXRNb2RlbChcImxpbmVTdHlsZS5lbXBoYXNpc1wiKS5nZXRMaW5lU3R5bGUoKTt2YXIgcD1zLmdldE1vZGVsKFwiYXJlYVN0eWxlLm5vcm1hbFwiKSxnPXMuZ2V0TW9kZWwoXCJhcmVhU3R5bGUuZW1waGFzaXNcIiksbT1wLmlzRW1wdHkoKSYmcC5wYXJlbnRNb2RlbC5pc0VtcHR5KCksdj1nLmlzRW1wdHkoKSYmZy5wYXJlbnRNb2RlbC5pc0VtcHR5KCk7dj12JiZtLGguaWdub3JlPW0saC51c2VTdHlsZShhLmRlZmF1bHRzKHAuZ2V0QXJlYVN0eWxlKCkse2ZpbGw6ZixvcGFjaXR5Oi43fSkpLGguaG92ZXJTdHlsZT1nLmdldEFyZWFTdHlsZSgpO3ZhciB5PXMuZ2V0TW9kZWwoXCJpdGVtU3R5bGUubm9ybWFsXCIpLmdldEl0ZW1TdHlsZShbXCJjb2xvclwiXSkseD1zLmdldE1vZGVsKFwiaXRlbVN0eWxlLmVtcGhhc2lzXCIpLmdldEl0ZW1TdHlsZSgpLF89cy5nZXRNb2RlbChcImxhYmVsLm5vcm1hbFwiKSxiPXMuZ2V0TW9kZWwoXCJsYWJlbC5lbXBoYXNpc1wiKTt1LmVhY2hDaGlsZChmdW5jdGlvbihlKXtlLnNldFN0eWxlKHkpLGUuaG92ZXJTdHlsZT1hLmNsb25lKHgpO3ZhciBuPWQuZ2V0KGQuZGltZW5zaW9uc1tlLl9fZGltSWR4XSxpKTtvLnNldFRleHQoZS5zdHlsZSxfLGYpLGUuc2V0U3R5bGUoe3RleHQ6Xy5nZXQoXCJzaG93XCIpP2EucmV0cmlldmUodC5nZXRGb3JtYXR0ZWRMYWJlbChpLFwibm9ybWFsXCIsbnVsbCxlLl9fZGltSWR4KSxuKTpcIlwifSksby5zZXRUZXh0KGUuaG92ZXJTdHlsZSxiLGYpLGUuaG92ZXJTdHlsZS50ZXh0PWIuZ2V0KFwic2hvd1wiKT9hLnJldHJpZXZlKHQuZ2V0Rm9ybWF0dGVkTGFiZWwoaSxcImVtcGhhc2lzXCIsbnVsbCxlLl9fZGltSWR4KSxuKTpcIlwifSksZS5vZmYoXCJtb3VzZW92ZXJcIikub2ZmKFwibW91c2VvdXRcIikub2ZmKFwibm9ybWFsXCIpLm9mZihcImVtcGhhc2lzXCIpLGUub24oXCJlbXBoYXNpc1wiLG4pLm9uKFwibW91c2VvdmVyXCIsbikub24oXCJub3JtYWxcIixyKS5vbihcIm1vdXNlb3V0XCIsciksby5zZXRIb3ZlclN0eWxlKGUpfSksdGhpcy5fZGF0YT1kfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH19KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQucG9sYXI7aWYoZSl7bi5pc0FycmF5KGUpfHwoZT1bZV0pO3ZhciBpPVtdO24uZWFjaChlLGZ1bmN0aW9uKGUsbyl7ZS5pbmRpY2F0b3I/KGUudHlwZSYmIWUuc2hhcGUmJihlLnNoYXBlPWUudHlwZSksdC5yYWRhcj10LnJhZGFyfHxbXSxuLmlzQXJyYXkodC5yYWRhcil8fCh0LnJhZGFyPVt0LnJhZGFyXSksdC5yYWRhci5wdXNoKGUpKTppLnB1c2goZSl9KSx0LnBvbGFyPWl9bi5lYWNoKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe1wicmFkYXJcIj09PXQudHlwZSYmdC5wb2xhckluZGV4JiYodC5yYWRhckluZGV4PXQucG9sYXJJbmRleCl9KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKFwicmFkYXJcIixmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7bltlXT1uW2VdfHxbXSxuW2VdW2FdPW8uZGF0YVRvUG9pbnQodCxhKX12YXIgaT10LmdldERhdGEoKSxuPVtdLG89dC5jb29yZGluYXRlU3lzdGVtO2lmKG8pe2Zvcih2YXIgYT0wO2E8by5nZXRJbmRpY2F0b3JBeGVzKCkubGVuZ3RoO2ErKyl7dmFyIHI9aS5kaW1lbnNpb25zW2FdO2kuZWFjaChyLGUpfWkuZWFjaChmdW5jdGlvbih0KXtuW3RdWzBdJiZuW3RdLnB1c2goblt0XVswXS5zbGljZSgpKSxpLnNldEl0ZW1MYXlvdXQodCxuW3RdKX0pfX0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMik7aSgyODkpLGkoMjkwKSxuLnJlZ2lzdGVyTGF5b3V0KGkoMjkxKSksbi5yZWdpc3RlclZpc3VhbENvZGluZyhcImNoYXJ0XCIsaSgyOTIpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMTMpLG89aSgyMTIpLGE9bi5leHRlbmQoe3R5cGU6XCJzZXJpZXMuc2Fua2V5XCIsbGF5b3V0SW5mbzpudWxsLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5lZGdlc3x8dC5saW5rcyxuPXQuZGF0YXx8dC5ub2RlcztpZihuJiZpKXt2YXIgYT1vKG4saSx0aGlzLCEwKTtyZXR1cm4gYS5kYXRhfX0sZ2V0R3JhcGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREYXRhKCkuZ3JhcGh9LGdldEVkZ2VEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R3JhcGgoKS5lZGdlRGF0YX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0LGUsaSl7aWYoXCJlZGdlXCI9PT1pKXt2YXIgbj10aGlzLmdldERhdGFQYXJhbXModCxpKSxvPW4uZGF0YSxyPW8uc291cmNlK1wiIC0tIFwiK28udGFyZ2V0O3JldHVybiBuLnZhbHVlJiYocis9XCIgOiBcIituLnZhbHVlKSxyfXJldHVybiBhLnN1cGVyQ2FsbCh0aGlzLFwiZm9ybWF0VG9vbHRpcFwiLHQsZSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOlwidmlld1wiLGxheW91dDpudWxsLGxlZnQ6XCI1JVwiLHRvcDpcIjUlXCIscmlnaHQ6XCIyMCVcIixib3R0b206XCI1JVwiLG5vZGVXaWR0aDoyMCxub2RlR2FwOjgsbGF5b3V0SXRlcmF0aW9uczozMixsYWJlbDp7bm9ybWFsOntzaG93OiEwLHBvc2l0aW9uOlwicmlnaHRcIix0ZXh0U3R5bGU6e2NvbG9yOlwiIzAwMFwiLGZvbnRTaXplOjEyfX0sZW1waGFzaXM6e3Nob3c6ITB9fSxpdGVtU3R5bGU6e25vcm1hbDp7Ym9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjpcIiMzMzNcIn19LGxpbmVTdHlsZTp7bm9ybWFsOntjb2xvcjpcIiMzMTQ2NTZcIixvcGFjaXR5Oi4yLGN1cnZlbmVzczouNX0sZW1waGFzaXM6e29wYWNpdHk6LjZ9fSxhbmltYXRpb25FYXNpbmc6XCJsaW5lYXJcIixhbmltYXRpb25EdXJhdGlvbjoxZTN9fSk7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXt2YXIgbj1uZXcgby5SZWN0KHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIG8uaW5pdFByb3BzKG4se3NoYXBlOnt3aWR0aDp0LndpZHRoKzIwLGhlaWdodDp0LmhlaWdodCsyMH19LGUsaSksbn12YXIgbz1pKDMpLGE9aSgxKSxyPW8uZXh0ZW5kU2hhcGUoe3NoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLGNweDE6MCxjcHkxOjAsY3B4MjowLGNweTI6MCxleHRlbnQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5leHRlbnQvMjt0Lm1vdmVUbyhlLngxLGUueTEtaSksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MSxlLmNweTEtaSxlLmNweDIsZS5jcHkyLWksZS54MixlLnkyLWkpLHQubGluZVRvKGUueDIsZS55MitpKSx0LmJlemllckN1cnZlVG8oZS5jcHgyLGUuY3B5MitpLGUuY3B4MSxlLmNweTEraSxlLngxLGUueTEraSksdC5jbG9zZVBhdGgoKX19KTt0LmV4cG9ydHM9aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJzYW5rZXlcIixfbW9kZWw6bnVsbCxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuZ2V0R3JhcGgoKSxsPXRoaXMuZ3JvdXAsaD10LmxheW91dEluZm8sdT10LmdldERhdGEoKSxjPXQuZ2V0RGF0YShcImVkZ2VcIik7dGhpcy5fbW9kZWw9dCxsLnJlbW92ZUFsbCgpLGwucG9zaXRpb249W2gueCxoLnldLHMuZWFjaE5vZGUoZnVuY3Rpb24oZSl7dmFyIGk9ZS5nZXRMYXlvdXQoKSxuPWUuZ2V0TW9kZWwoKSxyPW4uZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWxcIikscz1yLmdldE1vZGVsKFwidGV4dFN0eWxlXCIpLGg9bi5nZXRNb2RlbChcImxhYmVsLmVtcGhhc2lzXCIpLGM9aC5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxkPW5ldyBvLlJlY3Qoe3NoYXBlOnt4OmkueCx5OmkueSx3aWR0aDplLmdldExheW91dCgpLmR4LGhlaWdodDplLmdldExheW91dCgpLmR5fSxzdHlsZTp7dGV4dDpyLmdldChcInNob3dcIik/dC5nZXRGb3JtYXR0ZWRMYWJlbChlLmRhdGFJbmRleCxcIm5vcm1hbFwiKXx8ZS5pZDpcIlwiLHRleHRGb250OnMuZ2V0Rm9udCgpLHRleHRGaWxsOnMuZ2V0VGV4dENvbG9yKCksdGV4dFBvc2l0aW9uOnIuZ2V0KFwicG9zaXRpb25cIil9fSk7ZC5zZXRTdHlsZShhLmRlZmF1bHRzKHtmaWxsOmUuZ2V0VmlzdWFsKFwiY29sb3JcIil9LG4uZ2V0TW9kZWwoXCJpdGVtU3R5bGUubm9ybWFsXCIpLmdldEl0ZW1TdHlsZSgpKSksby5zZXRIb3ZlclN0eWxlKGQsYS5leHRlbmQoZS5nZXRNb2RlbChcIml0ZW1TdHlsZS5lbXBoYXNpc1wiKSx7dGV4dDpoLmdldChcInNob3dcIik/dC5nZXRGb3JtYXR0ZWRMYWJlbChlLmRhdGFJbmRleCxcImVtcGhhc2lzXCIpfHxlLmlkOlwiXCIsdGV4dEZvbnQ6Yy5nZXRGb250KCksdGV4dEZpbGw6Yy5nZXRUZXh0Q29sb3IoKSx0ZXh0UG9zaXRpb246aC5nZXQoXCJwb3NpdGlvblwiKX0pKSxsLmFkZChkKSx1LnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsZCksZC5kYXRhVHlwZT1cIm5vZGVcIn0pLHMuZWFjaEVkZ2UoZnVuY3Rpb24oZSl7dmFyIGk9bmV3IHI7aS5kYXRhSW5kZXg9ZS5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LGkuZGF0YVR5cGU9XCJlZGdlXCI7dmFyIG49ZS5nZXRNb2RlbChcImxpbmVTdHlsZS5ub3JtYWxcIiksYT1uLmdldChcImN1cnZlbmVzc1wiKSxzPWUubm9kZTEuZ2V0TGF5b3V0KCksaD1lLm5vZGUyLmdldExheW91dCgpLHU9ZS5nZXRMYXlvdXQoKTtpLnNoYXBlLmV4dGVudD1NYXRoLm1heCgxLHUuZHkpO3ZhciBkPXMueCtzLmR4LGY9cy55K3Uuc3krdS5keS8yLHA9aC54LGc9aC55K3UudHkrdS5keS8yLG09ZCooMS1hKStwKmEsdj1mLHk9ZCphK3AqKDEtYSkseD1nO2kuc2V0U2hhcGUoe3gxOmQseTE6Zix4MjpwLHkyOmcsY3B4MTptLGNweTE6dixjcHgyOnksY3B5Mjp4fSksaS5zZXRTdHlsZShuLmdldEl0ZW1TdHlsZSgpKSxvLnNldEhvdmVyU3R5bGUoaSxlLmdldE1vZGVsKFwibGluZVN0eWxlLmVtcGhhc2lzXCIpLmdldEl0ZW1TdHlsZSgpKSxsLmFkZChpKSxjLnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsaSl9KSwhdGhpcy5fZGF0YSYmdC5nZXQoXCJhbmltYXRpb25cIikmJmwuc2V0Q2xpcFBhdGgobihsLmdldEJvdW5kaW5nUmVjdCgpLHQsZnVuY3Rpb24oKXtsLnJlbW92ZUNsaXBQYXRoKCl9KSksdGhpcy5fZGF0YT10LmdldERhdGEoKX19KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gTS5nZXRMYXlvdXRSZWN0KHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfWZ1bmN0aW9uIG8odCxlLGksbixvLGEscyl7cih0LGksbyksaCh0LGUsYSxuLHMpLG0odCl9ZnVuY3Rpb24gYSh0KXtJLmVhY2godCxmdW5jdGlvbih0KXt2YXIgZT14KHQub3V0RWRnZXMsUyksaT14KHQuaW5FZGdlcyxTKSxuPU1hdGgubWF4KGUsaSk7dC5zZXRMYXlvdXQoe3ZhbHVlOm59LCEwKX0pfWZ1bmN0aW9uIHIodCxlLGkpe2Zvcih2YXIgbj10LG89bnVsbCxhPTAscj0wO24ubGVuZ3RoOyl7bz1bXTtmb3IodmFyIGg9MCx1PW4ubGVuZ3RoO3U+aDtoKyspe3ZhciBjPW5baF07Yy5zZXRMYXlvdXQoe3g6YX0sITApLGMuc2V0TGF5b3V0KHtkeDplfSwhMCk7Zm9yKHZhciBkPTAsZj1jLm91dEVkZ2VzLmxlbmd0aDtmPmQ7ZCsrKW8ucHVzaChjLm91dEVkZ2VzW2RdLm5vZGUyKX1uPW8sKythfXModCxhKSxyPShpLWUpLyhhLTEpLGwodCxyKX1mdW5jdGlvbiBzKHQsZSl7SS5lYWNoKHQsZnVuY3Rpb24odCl7dC5vdXRFZGdlcy5sZW5ndGh8fHQuc2V0TGF5b3V0KHt4OmUtMX0sITApfSl9ZnVuY3Rpb24gbCh0LGUpe0kuZWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0TGF5b3V0KCkueCplO3Quc2V0TGF5b3V0KHt4Oml9LCEwKX0pfWZ1bmN0aW9uIGgodCxlLGksbixvKXt2YXIgYT1BKCkua2V5KGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldExheW91dCgpLnh9KS5zb3J0S2V5cyh3KS5lbnRyaWVzKHQpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZXN9KTt1KHQsYSxlLGksbiksYyhhLG4saSk7Zm9yKHZhciByPTE7bz4wO28tLSlyKj0uOTksZChhLHIpLGMoYSxuLGkpLHAoYSxyKSxjKGEsbixpKX1mdW5jdGlvbiB1KHQsZSxpLG4sbyl7dmFyIGE9W107SS5lYWNoKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsaT0wO0kuZWFjaCh0LGZ1bmN0aW9uKHQpe2krPXQuZ2V0TGF5b3V0KCkudmFsdWV9KTt2YXIgcj0obi0oZS0xKSpvKS9pO2EucHVzaChyKX0pLGEuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KTt2YXIgcj1hWzBdO0kuZWFjaChlLGZ1bmN0aW9uKHQpe0kuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7dC5zZXRMYXlvdXQoe3k6ZX0sITApO3ZhciBpPXQuZ2V0TGF5b3V0KCkudmFsdWUqcjt0LnNldExheW91dCh7ZHk6aX0sITApfSl9KSxJLmVhY2goaSxmdW5jdGlvbih0KXt2YXIgZT0rdC5nZXRWYWx1ZSgpKnI7dC5zZXRMYXlvdXQoe2R5OmV9LCEwKX0pfWZ1bmN0aW9uIGModCxlLGkpe0kuZWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBuLG8sYSxyPTAscz10Lmxlbmd0aDtmb3IodC5zb3J0KGIpLGE9MDtzPmE7YSsrKXtpZihuPXRbYV0sbz1yLW4uZ2V0TGF5b3V0KCkueSxvPjApe3ZhciBsPW4uZ2V0TGF5b3V0KCkueStvO24uc2V0TGF5b3V0KHt5Omx9LCEwKX1yPW4uZ2V0TGF5b3V0KCkueStuLmdldExheW91dCgpLmR5K2V9aWYobz1yLWUtaSxvPjApe3ZhciBsPW4uZ2V0TGF5b3V0KCkueS1vO2ZvcihuLnNldExheW91dCh7eTpsfSwhMCkscj1uLmdldExheW91dCgpLnksYT1zLTI7YT49MDstLWEpbj10W2FdLG89bi5nZXRMYXlvdXQoKS55K24uZ2V0TGF5b3V0KCkuZHkrZS1yLG8+MCYmKGw9bi5nZXRMYXlvdXQoKS55LW8sbi5zZXRMYXlvdXQoe3k6bH0sITApKSxyPW4uZ2V0TGF5b3V0KCkueX19KX1mdW5jdGlvbiBkKHQsZSl7SS5lYWNoKHQuc2xpY2UoKS5yZXZlcnNlKCksZnVuY3Rpb24odCl7SS5lYWNoKHQsZnVuY3Rpb24odCl7aWYodC5vdXRFZGdlcy5sZW5ndGgpe3ZhciBpPXgodC5vdXRFZGdlcyxmKS94KHQub3V0RWRnZXMsUyksbj10LmdldExheW91dCgpLnkrKGktXyh0KSkqZTt0LnNldExheW91dCh7eTpufSwhMCl9fSl9KX1mdW5jdGlvbiBmKHQpe3JldHVybiBfKHQubm9kZTIpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBwKHQsZSl7SS5lYWNoKHQsZnVuY3Rpb24odCl7SS5lYWNoKHQsZnVuY3Rpb24odCl7aWYodC5pbkVkZ2VzLmxlbmd0aCl7dmFyIGk9eCh0LmluRWRnZXMsZykveCh0LmluRWRnZXMsUyksbj10LmdldExheW91dCgpLnkrKGktXyh0KSkqZTt0LnNldExheW91dCh7eTpufSwhMCl9fSl9KX1mdW5jdGlvbiBnKHQpe3JldHVybiBfKHQubm9kZTEpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBtKHQpe0kuZWFjaCh0LGZ1bmN0aW9uKHQpe3Qub3V0RWRnZXMuc29ydCh2KSx0LmluRWRnZXMuc29ydCh5KX0pLEkuZWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBlPTAsaT0wO0kuZWFjaCh0Lm91dEVkZ2VzLGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHtzeTplfSwhMCksZSs9dC5nZXRMYXlvdXQoKS5keX0pLEkuZWFjaCh0LmluRWRnZXMsZnVuY3Rpb24odCl7dC5zZXRMYXlvdXQoe3R5Oml9LCEwKSxpKz10LmdldExheW91dCgpLmR5fSl9KX1mdW5jdGlvbiB2KHQsZSl7cmV0dXJuIHQubm9kZTIuZ2V0TGF5b3V0KCkueS1lLm5vZGUyLmdldExheW91dCgpLnl9ZnVuY3Rpb24geSh0LGUpe3JldHVybiB0Lm5vZGUxLmdldExheW91dCgpLnktZS5ub2RlMS5nZXRMYXlvdXQoKS55fWZ1bmN0aW9uIHgodCxlKXt2YXIgaSxuPTAsbz10Lmxlbmd0aCxhPS0xO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KythPG87KWk9K3RbYV0saXNOYU4oaSl8fChuKz1pKTtlbHNlIGZvcig7KythPG87KWk9K2UuY2FsbCh0LHRbYV0sYSksaXNOYU4oaSl8fChuKz1pKTtyZXR1cm4gbn1mdW5jdGlvbiBfKHQpe3JldHVybiB0LmdldExheW91dCgpLnkrdC5nZXRMYXlvdXQoKS5keS8yfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4gdC5nZXRMYXlvdXQoKS55LWUuZ2V0TGF5b3V0KCkueX1mdW5jdGlvbiB3KHQsZSl7cmV0dXJuIGU+dD8tMTp0PmU/MTp0PT1lPzA6TmFOfWZ1bmN0aW9uIFModCl7cmV0dXJuIHQuZ2V0VmFsdWUoKX12YXIgTT1pKDExKSxBPWkoMzUwKSxJPWkoMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKFwic2Fua2V5XCIsZnVuY3Rpb24odCl7dmFyIGk9dC5nZXQoXCJub2RlV2lkdGhcIikscj10LmdldChcIm5vZGVHYXBcIikscz1uKHQsZSk7dC5sYXlvdXRJbmZvPXM7dmFyIGw9cy53aWR0aCxoPXMuaGVpZ2h0LHU9dC5nZXRHcmFwaCgpLGM9dS5ub2RlcyxkPXUuZWRnZXM7YShjKTt2YXIgZj1jLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuZ2V0TGF5b3V0KCkudmFsdWV9KSxwPTAhPT1mLmxlbmd0aD8wOnQuZ2V0KFwibGF5b3V0SXRlcmF0aW9uc1wiKTtvKGMsZCxpLHIsbCxoLHApfSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg3Myk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKFwic2Fua2V5XCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHcmFwaCgpLGk9ZS5ub2RlcztpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRMYXlvdXQoKS52YWx1ZS1lLmdldExheW91dCgpLnZhbHVlfSk7dmFyIG89aVswXS5nZXRMYXlvdXQoKS52YWx1ZSxhPWlbaS5sZW5ndGgtMV0uZ2V0TGF5b3V0KCkudmFsdWU7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBuKHt0eXBlOlwiY29sb3JcIixtYXBwaW5nTWV0aG9kOlwibGluZWFyXCIsZGF0YUV4dGVudDpbbyxhXSx2aXN1YWw6dC5nZXQoXCJjb2xvclwiKX0pLHI9aS5tYXBWYWx1ZVRvVmlzdWFsKGUuZ2V0TGF5b3V0KCkudmFsdWUpO2Uuc2V0VmlzdWFsKFwiY29sb3JcIixyKTt2YXIgcz1lLmdldE1vZGVsKCksbD1zLmdldChcIml0ZW1TdHlsZS5ub3JtYWwuY29sb3JcIik7bnVsbCE9bCYmZS5zZXRWaXN1YWwoXCJjb2xvclwiLGwpfSl9KX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDIpO2koMjk1KSxpKDI5NiksaSgyOTcpLG4ucmVnaXN0ZXJWaXN1YWxDb2RpbmcoXCJjaGFydFwiLGkoMjk5KSksbi5yZWdpc3RlckxheW91dChpKDI5OCkpfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3RoaXMuZ3JvdXA9bmV3IGEuR3JvdXAsdC5hZGQodGhpcy5ncm91cCksdGhpcy5fb25TZWxlY3Q9ZXx8cy5ub29wfWZ1bmN0aW9uIG8odCxlLGksbixvLGEpe3ZhciByPVtbbz90OnQtdSxlXSxbdCtpLGVdLFt0K2ksZStuXSxbbz90OnQtdSxlK25dXTtyZXR1cm4hYSYmci5zcGxpY2UoMiwwLFt0K2krdSxlK24vMl0pLCFvJiZyLnB1c2goW3QsZStuLzJdKSxyfXZhciBhPWkoMykscj1pKDExKSxzPWkoMSksbD04LGg9OCx1PTU7bi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldE1vZGVsKFwiYnJlYWRjcnVtYlwiKSxvPXRoaXMuZ3JvdXA7aWYoby5yZW1vdmVBbGwoKSxuLmdldChcInNob3dcIikmJmkpe3ZhciBhPW4uZ2V0TW9kZWwoXCJpdGVtU3R5bGUubm9ybWFsXCIpLHM9YS5nZXRNb2RlbChcInRleHRTdHlsZVwiKSxsPXtwb3M6e2xlZnQ6bi5nZXQoXCJsZWZ0XCIpLHJpZ2h0Om4uZ2V0KFwicmlnaHRcIiksdG9wOm4uZ2V0KFwidG9wXCIpLGJvdHRvbTpuLmdldChcImJvdHRvbVwiKX0sYm94Ont3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LGVtcHR5SXRlbVdpZHRoOm4uZ2V0KFwiZW1wdHlJdGVtV2lkdGhcIiksdG90YWxXaWR0aDowLHJlbmRlckxpc3Q6W119O3RoaXMuX3ByZXBhcmUobixpLGwscyksdGhpcy5fcmVuZGVyQ29udGVudChuLGksbCxhLHMpLHIucG9zaXRpb25Hcm91cChvLGwucG9zLGwuYm94KX19LF9wcmVwYXJlOmZ1bmN0aW9uKHQsZSxpLG4pe2Zvcih2YXIgbz1lO287bz1vLnBhcmVudE5vZGUpe3ZhciBhPW8uZ2V0TW9kZWwoKS5nZXQoXCJuYW1lXCIpLHI9bi5nZXRUZXh0UmVjdChhKSxzPU1hdGgubWF4KHIud2lkdGgrMipsLGkuZW1wdHlJdGVtV2lkdGgpO2kudG90YWxXaWR0aCs9cytoLGkucmVuZGVyTGlzdC5wdXNoKHtub2RlOm8sdGV4dDphLHdpZHRoOnN9KX19LF9yZW5kZXJDb250ZW50OmZ1bmN0aW9uKHQsZSxpLG4sbCl7Zm9yKHZhciB1PTAsYz1pLmVtcHR5SXRlbVdpZHRoLGQ9dC5nZXQoXCJoZWlnaHRcIiksZj1yLmdldEF2YWlsYWJsZVNpemUoaS5wb3MsaS5ib3gpLHA9aS50b3RhbFdpZHRoLGc9aS5yZW5kZXJMaXN0LG09Zy5sZW5ndGgtMTttPj0wO20tLSl7dmFyIHY9Z1ttXSx5PXYud2lkdGgseD12LnRleHQ7cD5mLndpZHRoJiYocC09eS1jLHk9Yyx4PVwiXCIpLHRoaXMuZ3JvdXAuYWRkKG5ldyBhLlBvbHlnb24oe3NoYXBlOntwb2ludHM6byh1LDAseSxkLG09PT1nLmxlbmd0aC0xLDA9PT1tKX0sc3R5bGU6cy5kZWZhdWx0cyhuLmdldEl0ZW1TdHlsZSgpLHtsaW5lSm9pbjpcImJldmVsXCIsdGV4dDp4LHRleHRGaWxsOmwuZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6bC5nZXRGb250KCl9KSx6OjEwLG9uY2xpY2s6cy5iaW5kKHRoaXMuX29uU2VsZWN0LHRoaXMsdi5ub2RlKX0pKSx1Kz15K2h9fSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfX0sdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9MDtzLmVhY2godC5jaGlsZHJlbixmdW5jdGlvbih0KXtuKHQsZSk7dmFyIG89dC52YWx1ZTtzLmlzQXJyYXkobykmJihvPW9bMF0pLGkrPW99KTt2YXIgbz10LnZhbHVlO2U+PTAmJihzLmlzQXJyYXkobyk/bz1vWzBdOnQudmFsdWU9bmV3IEFycmF5KGUpKSwobnVsbD09b3x8aXNOYU4obykpJiYobz1pKSwwPm8mJihvPTApLGU+PTA/dC52YWx1ZVswXT1vOnQudmFsdWU9b31mdW5jdGlvbiBvKHQsZSl7dmFyIGk9ZS5nZXQoXCJjb2xvclwiKTtpZihpKXt0PXR8fFtdO3ZhciBuO2lmKHMuZWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBsKHQpLGk9ZS5nZXQoXCJjb2xvclwiKTsoZS5nZXQoXCJpdGVtU3R5bGUubm9ybWFsLmNvbG9yXCIpfHxpJiZcIm5vbmVcIiE9PWkpJiYobj0hMCl9KSwhbil7dmFyIG89dFswXXx8KHRbMF09e30pO28uY29sb3I9aS5zbGljZSgpfXJldHVybiB0fX12YXIgYT1pKDEzKSxyPWkoMzQ4KSxzPWkoMSksbD1pKDEyKSxoPWkoOSksdT1oLmVuY29kZUhUTUwsYz1oLmFkZENvbW1hczt0LmV4cG9ydHM9YS5leHRlbmQoe3R5cGU6XCJzZXJpZXMudHJlZW1hcFwiLGRlcGVuZGVuY2llczpbXCJncmlkXCIsXCJwb2xhclwiXSxfdmlld1Jvb3Q6bnVsbCxkZWZhdWx0T3B0aW9uOntsZWZ0OlwiY2VudGVyXCIsdG9wOlwibWlkZGxlXCIscmlnaHQ6bnVsbCxib3R0b206bnVsbCx3aWR0aDpcIjgwJVwiLGhlaWdodDpcIjgwJVwiLHNvcnQ6ITAsY2xpcFdpbmRvdzpcIm9yaWdpblwiLHNxdWFyZVJhdGlvOi41KigxK01hdGguc3FydCg1KSksbGVhZkRlcHRoOm51bGwsZHJpbGxEb3duSWNvbjpcIuKWtlwiLHZpc3VhbERpbWVuc2lvbjowLHpvb21Ub05vZGVSYXRpbzouMTAyNCxyb2FtOiEwLG5vZGVDbGljazpcInpvb21Ub05vZGVcIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6OTAwLGFuaW1hdGlvbkVhc2luZzpcInF1aW50aWNJbk91dFwiLGJyZWFkY3J1bWI6e3Nob3c6ITAsaGVpZ2h0OjIyLGxlZnQ6XCJjZW50ZXJcIix0b3A6XCJib3R0b21cIixlbXB0eUl0ZW1XaWR0aDoyNSxpdGVtU3R5bGU6e25vcm1hbDp7Y29sb3I6XCJyZ2JhKDAsMCwwLDAuNylcIixib3JkZXJDb2xvcjpcInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiLGJvcmRlcldpZHRoOjEsc2hhZG93Q29sb3I6XCJyZ2JhKDE1MCwxNTAsMTUwLDEpXCIsc2hhZG93Qmx1cjozLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsdGV4dFN0eWxlOntjb2xvcjpcIiNmZmZcIn19LGVtcGhhc2lzOnt0ZXh0U3R5bGU6e319fX0sbGFiZWw6e25vcm1hbDp7c2hvdzohMCxwb3NpdGlvbjpcImluc2lkZVwiLHRleHRTdHlsZTp7Y29sb3I6XCIjZmZmXCIsZWxsaXBzaXM6ITB9fX0saXRlbVN0eWxlOntub3JtYWw6e2NvbG9yOm51bGwsY29sb3JBbHBoYTpudWxsLGNvbG9yU2F0dXJhdGlvbjpudWxsLGJvcmRlcldpZHRoOjAsZ2FwV2lkdGg6MCxib3JkZXJDb2xvcjpcIiNmZmZcIixib3JkZXJDb2xvclNhdHVyYXRpb246bnVsbH0sZW1waGFzaXM6e319LGNvbG9yOlwibm9uZVwiLGNvbG9yQWxwaGE6bnVsbCxjb2xvclNhdHVyYXRpb246bnVsbCxjb2xvck1hcHBpbmdCeTpcImluZGV4XCIsdmlzaWJsZU1pbjoxMCxjaGlsZHJlblZpc2libGVNaW46bnVsbCxsZXZlbHM6W119LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5kYXRhfHxbXSxhPXQubmFtZTtudWxsPT1hJiYoYT10Lm5hbWUpO3ZhciBsPXtuYW1lOmEsY2hpbGRyZW46dC5kYXRhfSxoPShpWzBdfHx7fSkudmFsdWU7bihsLHMuaXNBcnJheShoKT9oLmxlbmd0aDotMSk7dmFyIHU9dC5sZXZlbHN8fFtdO3JldHVybiB1PXQubGV2ZWxzPW8odSxlKSxyLmNyZWF0ZVRyZWUobCx0aGlzLHUpLmRhdGF9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPXRoaXMuZ2V0UmF3VmFsdWUodCksbj1jKHMuaXNBcnJheShpKT9pWzBdOmkpLG89ZS5nZXROYW1lKHQpO3JldHVybiB1KG8pK1wiOiBcIitufSxnZXREYXRhUGFyYW1zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXRoaXMuZ2V0RGF0YSgpLG49aS50cmVlLmdldE5vZGVCeURhdGFJbmRleCh0KSxvPWUudHJlZVBhdGhJbmZvPVtdO247KXt2YXIgcj1uLmRhdGFJbmRleDtvLnB1c2goe25hbWU6bi5uYW1lLGRhdGFJbmRleDpyLHZhbHVlOnRoaXMuZ2V0UmF3VmFsdWUocil9KSxuPW4ucGFyZW50Tm9kZX1yZXR1cm4gby5yZXZlcnNlKCksZX0sc2V0TGF5b3V0SW5mbzpmdW5jdGlvbih0KXt0aGlzLmxheW91dEluZm89dGhpcy5sYXlvdXRJbmZvfHx7fSxzLmV4dGVuZCh0aGlzLmxheW91dEluZm8sdCl9LG1hcElkVG9JbmRleDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pZEluZGV4TWFwO2V8fChlPXRoaXMuX2lkSW5kZXhNYXA9e30sdGhpcy5faWRJbmRleE1hcENvdW50PTApO3ZhciBpPWVbdF07cmV0dXJuIG51bGw9PWkmJihlW3RdPWk9dGhpcy5faWRJbmRleE1hcENvdW50KyspLGl9LGdldFZpZXdSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdSb290fSxyZXNldFZpZXdSb290OmZ1bmN0aW9uKHQpe3Q/dGhpcy5fdmlld1Jvb3Q9dDp0PXRoaXMuX3ZpZXdSb290O3ZhciBlPXRoaXMuZ2V0RGF0YSgpLnRyZWUucm9vdDt0JiYodD09PWV8fGUuY29udGFpbnModCkpfHwodGhpcy5fdmlld1Jvb3Q9ZSl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7cmV0dXJue25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119fWZ1bmN0aW9uIG8odCxlLGksbixvLGwsaCx1LGMsZCl7ZnVuY3Rpb24gZihlKXtPLmRhdGFJbmRleD1oLmRhdGFJbmRleCxPLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXg7dmFyIGk9SS5ib3JkZXJXaWR0aCxuPU1hdGgubWF4KFQtMippLDApLG89TWF0aC5tYXgoTC0yKmksMCk7Ty5jdWxsaW5nPSEwLE8uc2V0U2hhcGUoe3g6aSx5Omksd2lkdGg6bixoZWlnaHQ6b30pO3ZhciBhPWguZ2V0VmlzdWFsKFwiY29sb3JcIiwhMCk7cChPLGZ1bmN0aW9uKCl7dmFyIHQ9e2ZpbGw6YX0sZT1oLmdldE1vZGVsKFwiaXRlbVN0eWxlLmVtcGhhc2lzXCIpLmdldEl0ZW1TdHlsZSgpO2codCxlLGEsbixvKSxPLnNldFN0eWxlKHQpLHMuc2V0SG92ZXJTdHlsZShPLGUpfSksZS5hZGQoTyl9ZnVuY3Rpb24gcCh0LGUpe0M/IXQuaW52aXNpYmxlJiZsLnB1c2godCk6KGUoKSx0Ll9fdG1XaWxsVmlzaWJsZXx8KHQuaW52aXNpYmxlPSExKSl9ZnVuY3Rpb24gZyhlLGksbixvLGEpe3ZhciByPWguZ2V0TW9kZWwoKSxzPXIuZ2V0KFwibmFtZVwiKTtpZihJLmlzTGVhZlJvb3Qpe3ZhciBsPXQuZ2V0KFwiZHJpbGxEb3duSWNvblwiLCEwKTtzKz1sP1wiICBcIitsOlwiXCJ9eShzLGUscixfLG4sbyxhKSx5KHMsaSxyLGIsbixvLGEpfWZ1bmN0aW9uIHkodCxlLGksbixvLGEscil7dmFyIGw9aS5nZXRNb2RlbChuKSxoPWwuZ2V0TW9kZWwoXCJ0ZXh0U3R5bGVcIik7cy5zZXRUZXh0KGUsbCxvKSxlLnRleHRBbGlnbj1oLmdldChcImFsaWduXCIpLGUudGV4dFZlcnRpY2FsQWxpZ249aC5nZXQoXCJiYXNlbGluZVwiKTt2YXIgdT1oLmdldFRleHRSZWN0KHQpOyFsLmdldFNoYWxsb3coXCJzaG93XCIpfHx1LmhlaWdodD5yP2UudGV4dD1cIlwiOnUud2lkdGg+YT9lLnRleHQ9aC5nZXQoXCJlbGxpcHNpc1wiKT9oLmVsbGlwc2lzKHQsYSk6XCJcIjplLnRleHQ9dH1mdW5jdGlvbiB4KHQsbixyLHMpe3ZhciBsPW51bGwhPVAmJmlbdF1bUF0saD1vW3RdO3JldHVybiBsPyhpW3RdW1BdPW51bGwsdyhoLGwsdCkpOkN8fChsPW5ldyBuKHt6OmEocixzKX0pLGwuX190bURlcHRoPXIsbC5fX3RtU3RvcmFnZU5hbWU9dCxBKGgsbCx0KSksZVt0XVtEXT1sfWZ1bmN0aW9uIHcodCxlLGkpe3ZhciBuPXRbRF09e307bi5vbGQ9XCJub2RlR3JvdXBcIj09PWk/ZS5wb3NpdGlvbi5zbGljZSgpOnIuZXh0ZW5kKHt9LGUuc2hhcGUpfWZ1bmN0aW9uIEEodCxlLGkpe3ZhciBhPXRbRF09e30scj1oLnBhcmVudE5vZGU7aWYociYmKCFufHxcImRyaWxsRG93blwiPT09bi5kaXJlY3Rpb24pKXt2YXIgcz0wLGw9MCx1PW8uYmFja2dyb3VuZFtyLmdldFJhd0luZGV4KCldOyFuJiZ1JiZ1Lm9sZCYmKHM9dS5vbGQud2lkdGgsbD11Lm9sZC5oZWlnaHQpLGEub2xkPVwibm9kZUdyb3VwXCI9PT1pP1swLGxdOnt4OnMseTpsLHdpZHRoOjAsaGVpZ2h0OjB9fWEuZmFkZWluPVwibm9kZUdyb3VwXCIhPT1pfWlmKGgpe3ZhciBJPWguZ2V0TGF5b3V0KCk7aWYoSSYmSS5pc0luVmlldyl7dmFyIFQ9SS53aWR0aCxMPUkuaGVpZ2h0LEM9SS5pbnZpc2libGUsRD1oLmdldFJhd0luZGV4KCksUD11JiZ1LmdldFJhd0luZGV4KCksaz14KFwibm9kZUdyb3VwXCIsbSk7aWYoayl7aWYoYy5hZGQoayksay5wb3NpdGlvbj1bSS54fHwwLEkueXx8MF0say5fX3RtTm9kZVdpZHRoPVQsay5fX3RtTm9kZUhlaWdodD1MLEkuaXNBYm92ZVZpZXdSb290KXJldHVybiBrO3ZhciB6PXgoXCJiYWNrZ3JvdW5kXCIsdixkLFMpO3omJih6LnNldFNoYXBlKHt4OjAseTowLHdpZHRoOlQsaGVpZ2h0Okx9KSxwKHosZnVuY3Rpb24oKXt6LnNldFN0eWxlKFwiZmlsbFwiLGguZ2V0VmlzdWFsKFwiYm9yZGVyQ29sb3JcIiwhMCkpfSksay5hZGQoeikpO3ZhciBFPWgudmlld0NoaWxkcmVuO2lmKCFFfHwhRS5sZW5ndGgpe3ZhciBPPXgoXCJjb250ZW50XCIsdixkLE0pO08mJmYoayl9cmV0dXJuIGt9fX19ZnVuY3Rpb24gYSh0LGUpe3ZhciBpPXQqdytlO3JldHVybihpLTEpL2l9dmFyIHI9aSgxKSxzPWkoMyksbD1pKDQ4KSxoPWkoMTYwKSx1PWkoMjk0KSxjPWkoNzApLGQ9aSg4KSxmPWkoMTkpLHA9aSgzNDkpLGc9ci5iaW5kLG09cy5Hcm91cCx2PXMuUmVjdCx5PXIuZWFjaCx4PTMsXz1bXCJsYWJlbFwiLFwibm9ybWFsXCJdLGI9W1wibGFiZWxcIixcImVtcGhhc2lzXCJdLHc9MTAsUz0xLE09Mjt0LmV4cG9ydHM9aSgyKS5leHRlbmRDaGFydFZpZXcoe3R5cGU6XCJ0cmVlbWFwXCIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX2NvbnRhaW5lckdyb3VwLHRoaXMuX3N0b3JhZ2U9bigpLHRoaXMuX29sZFRyZWUsdGhpcy5fYnJlYWRjcnVtYix0aGlzLl9jb250cm9sbGVyLHRoaXMuX3N0YXRlPVwicmVhZHlcIix0aGlzLl9tYXlDbGlja30scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwic2VyaWVzXCIsc3ViVHlwZTpcInRyZWVtYXBcIixxdWVyeTpufSk7aWYoIShyLmluZGV4T2Yobyx0KTwwKSl7dGhpcy5zZXJpZXNNb2RlbD10LHRoaXMuYXBpPWksdGhpcy5lY01vZGVsPWU7dmFyIGE9aC5yZXRyaWV2ZVRhcmdldEluZm8obix0KSxzPW4mJm4udHlwZSxsPXQubGF5b3V0SW5mbyx1PSF0aGlzLl9vbGRUcmVlLGM9dGhpcy5fc3RvcmFnZSxkPVwidHJlZW1hcFJvb3RUb05vZGVcIj09PXMmJmEmJmM/e3Jvb3ROb2RlR3JvdXA6Yy5ub2RlR3JvdXBbYS5ub2RlLmdldFJhd0luZGV4KCldLGRpcmVjdGlvbjpuLmRpcmVjdGlvbn06bnVsbCxmPXRoaXMuX2dpdmVDb250YWluZXJHcm91cChsKSxwPXRoaXMuX2RvUmVuZGVyKGYsdCxkKTt1fHxzJiZcInRyZWVtYXBab29tVG9Ob2RlXCIhPT1zJiZcInRyZWVtYXBSb290VG9Ob2RlXCIhPT1zP3AucmVuZGVyRmluYWxseSgpOnRoaXMuX2RvQW5pbWF0aW9uKGYscCx0LGQpLHRoaXMuX3Jlc2V0Q29udHJvbGxlcihpKSx0aGlzLl9yZW5kZXJCcmVhZGNydW1iKHQsaSxhKX19LF9naXZlQ29udGFpbmVyR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udGFpbmVyR3JvdXA7cmV0dXJuIGV8fChlPXRoaXMuX2NvbnRhaW5lckdyb3VwPW5ldyBtLHRoaXMuX2luaXRFdmVudHMoZSksdGhpcy5ncm91cC5hZGQoZSkpLGUucG9zaXRpb249W3QueCx0LnldLGV9LF9kb1JlbmRlcjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gYSh0LGUsaSxuLG8pe2Z1bmN0aW9uIHModCl7cmV0dXJuIHQuZ2V0SWQoKX1mdW5jdGlvbiBoKHIscyl7dmFyIGw9bnVsbCE9cj90W3JdOm51bGwsaD1udWxsIT1zP2Vbc106bnVsbCx1PW0obCxoLGksbyk7dSYmYShsJiZsLnZpZXdDaGlsZHJlbnx8W10saCYmaC52aWV3Q2hpbGRyZW58fFtdLHUsbixvKzEpfW4/KGU9dCx5KHQsZnVuY3Rpb24odCxlKXshdC5pc1JlbW92ZWQoKSYmaChlLGUpfSkpOm5ldyBsKGUsdCxzLHMpLmFkZChoKS51cGRhdGUoaCkucmVtb3ZlKHIuY3VycnkoaCxudWxsKSkuZXhlY3V0ZSgpfWZ1bmN0aW9uIHModCl7dmFyIGU9bigpO3JldHVybiB0JiZ5KHQsZnVuY3Rpb24odCxpKXt2YXIgbj1lW2ldO3kodCxmdW5jdGlvbih0KXt0JiYobi5wdXNoKHQpLHQuX190bVdpbGxEZWxldGU9MSl9KX0pLGV9ZnVuY3Rpb24gaCgpe3kodixmdW5jdGlvbih0KXt5KHQsZnVuY3Rpb24odCl7dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KX0pfSkseShnLGZ1bmN0aW9uKHQpe3QuaW52aXNpYmxlPSEwLHQuZGlydHkoKX0pfXZhciB1PWUuZ2V0RGF0YSgpLnRyZWUsYz10aGlzLl9vbGRUcmVlLGQ9bigpLGY9bigpLHA9dGhpcy5fc3RvcmFnZSxnPVtdLG09ci5jdXJyeShvLGUsZixwLGksZCxnKTthKHUucm9vdD9bdS5yb290XTpbXSxjJiZjLnJvb3Q/W2Mucm9vdF06W10sdCx1PT09Y3x8IWMsMCk7dmFyIHY9cyhwKTtyZXR1cm4gdGhpcy5fb2xkVHJlZT11LHRoaXMuX3N0b3JhZ2U9Zix7bGFzdHNGb3JBbmltYXRpb246ZCx3aWxsRGVsZXRlRWxzOnYscmVuZGVyRmluYWxseTpofX0sX2RvQW5pbWF0aW9uOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKGkuZ2V0KFwiYW5pbWF0aW9uXCIpKXt2YXIgbz1pLmdldChcImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlXCIpLGE9aS5nZXQoXCJhbmltYXRpb25FYXNpbmdcIikscz1wLmNyZWF0ZVdyYXAoKTt5KGUud2lsbERlbGV0ZUVscyxmdW5jdGlvbih0LGUpe3kodCxmdW5jdGlvbih0LGkpe2lmKCF0LmludmlzaWJsZSl7dmFyIHIsbD10LnBhcmVudDtpZihuJiZcImRyaWxsRG93blwiPT09bi5kaXJlY3Rpb24pcj1sPT09bi5yb290Tm9kZUdyb3VwP3tzaGFwZTp7eDowLHk6MCx3aWR0aDpsLl9fdG1Ob2RlV2lkdGgsaGVpZ2h0OmwuX190bU5vZGVIZWlnaHR9LHN0eWxlOntvcGFjaXR5OjB9fTp7c3R5bGU6e29wYWNpdHk6MH19O2Vsc2V7dmFyIGg9MCx1PTA7bC5fX3RtV2lsbERlbGV0ZXx8KGg9bC5fX3RtTm9kZVdpZHRoLzIsdT1sLl9fdG1Ob2RlSGVpZ2h0LzIpLHI9XCJub2RlR3JvdXBcIj09PWU/e3Bvc2l0aW9uOltoLHVdLHN0eWxlOntvcGFjaXR5OjB9fTp7c2hhcGU6e3g6aCx5OnUsd2lkdGg6MCxoZWlnaHQ6MH0sc3R5bGU6e29wYWNpdHk6MH19fXImJnMuYWRkKHQscixvLGEpfX0pfSkseSh0aGlzLl9zdG9yYWdlLGZ1bmN0aW9uKHQsaSl7eSh0LGZ1bmN0aW9uKHQsbil7dmFyIGw9ZS5sYXN0c0ZvckFuaW1hdGlvbltpXVtuXSxoPXt9O2wmJihcIm5vZGVHcm91cFwiPT09aT9sLm9sZCYmKGgucG9zaXRpb249dC5wb3NpdGlvbi5zbGljZSgpLHQucG9zaXRpb249bC5vbGQpOihsLm9sZCYmKGguc2hhcGU9ci5leHRlbmQoe30sdC5zaGFwZSksdC5zZXRTaGFwZShsLm9sZCkpLGwuZmFkZWluPyh0LnNldFN0eWxlKFwib3BhY2l0eVwiLDApLGguc3R5bGU9e29wYWNpdHk6MX0pOjEhPT10LnN0eWxlLm9wYWNpdHkmJihoLnN0eWxlPXtvcGFjaXR5OjF9KSkscy5hZGQodCxoLG8sYSkpfSl9LHRoaXMpLHRoaXMuX3N0YXRlPVwiYW5pbWF0aW5nXCIscy5kb25lKGcoZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZT1cInJlYWR5XCIsZS5yZW5kZXJGaW5hbGx5KCl9LHRoaXMpKS5zdGFydCgpfX0sX3Jlc2V0Q29udHJvbGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250cm9sbGVyO2V8fChlPXRoaXMuX2NvbnRyb2xsZXI9bmV3IGModC5nZXRacigpKSxlLmVuYWJsZSh0aGlzLnNlcmllc01vZGVsLmdldChcInJvYW1cIikpLGUub24oXCJwYW5cIixnKHRoaXMuX29uUGFuLHRoaXMpKSxlLm9uKFwiem9vbVwiLGcodGhpcy5fb25ab29tLHRoaXMpKSk7dmFyIGk9bmV3IGQoMCwwLHQuZ2V0V2lkdGgoKSx0LmdldEhlaWdodCgpKTtlLnJlY3RQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiBpfX0sX2NsZWFyQ29udHJvbGxlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRyb2xsZXI7dCYmKHQub2ZmKFwicGFuXCIpLm9mZihcInpvb21cIiksdD1udWxsKX0sX29uUGFuOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fbWF5Q2xpY2s9ITEsXCJhbmltYXRpbmdcIiE9PXRoaXMuX3N0YXRlJiYoTWF0aC5hYnModCk+eHx8TWF0aC5hYnMoZSk+eCkpe3ZhciBpPXRoaXMuc2VyaWVzTW9kZWwuZ2V0RGF0YSgpLnRyZWUucm9vdDtpZighaSlyZXR1cm47dmFyIG49aS5nZXRMYXlvdXQoKTtpZighbilyZXR1cm47dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0cmVlbWFwTW92ZVwiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCxyb290UmVjdDp7eDpuLngrdCx5Om4ueStlLHdpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0fX0pfX0sX29uWm9vbTpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5fbWF5Q2xpY2s9ITEsXCJhbmltYXRpbmdcIiE9PXRoaXMuX3N0YXRlKXt2YXIgbj10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIW4pcmV0dXJuO3ZhciBvPW4uZ2V0TGF5b3V0KCk7aWYoIW8pcmV0dXJuO3ZhciBhPW5ldyBkKG8ueCxvLnksby53aWR0aCxvLmhlaWdodCkscj10aGlzLnNlcmllc01vZGVsLmxheW91dEluZm87ZS09ci54LGktPXIueTt2YXIgcz1mLmNyZWF0ZSgpO2YudHJhbnNsYXRlKHMscyxbLWUsLWldKSxmLnNjYWxlKHMscyxbdCx0XSksZi50cmFuc2xhdGUocyxzLFtlLGldKSxhLmFwcGx5VHJhbnNmb3JtKHMpLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwidHJlZW1hcFJlbmRlclwiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCxyb290UmVjdDp7eDphLngseTphLnksd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9fSl9fSxfaW5pdEV2ZW50czpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXRoaXMuc2VyaWVzTW9kZWwuZ2V0KFwibm9kZUNsaWNrXCIsITApO2lmKGUpe3ZhciBpPXRoaXMuZmluZFRhcmdldCh0Lm9mZnNldFgsdC5vZmZzZXRZKTtpZihpKXt2YXIgbj1pLm5vZGU7aWYobi5nZXRMYXlvdXQoKS5pc0xlYWZSb290KXRoaXMuX3Jvb3RUb05vZGUoaSk7ZWxzZSBpZihcInpvb21Ub05vZGVcIj09PWUpdGhpcy5fem9vbVRvTm9kZShpKTtlbHNlIGlmKFwibGlua1wiPT09ZSl7dmFyIG89bi5ob3N0VHJlZS5kYXRhLmdldEl0ZW1Nb2RlbChuLmRhdGFJbmRleCksYT1vLmdldChcImxpbmtcIiwhMCkscj1vLmdldChcInRhcmdldFwiLCEwKXx8XCJibGFua1wiO2EmJndpbmRvdy5vcGVuKGEscil9fX19dC5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKHQpe1wicmVhZHlcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fbWF5Q2xpY2s9ITApfSx0aGlzKSx0Lm9uKFwibW91c2V1cFwiLGZ1bmN0aW9uKHQpe3RoaXMuX21heUNsaWNrJiYodGhpcy5fbWF5Q2xpY2s9ITEsXCJyZWFkeVwiPT09dGhpcy5fc3RhdGUmJmUuY2FsbCh0aGlzLHQpKX0sdGhpcyl9LF9yZW5kZXJCcmVhZGNydW1iOmZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKGUpe1wiYW5pbWF0aW5nXCIhPT10aGlzLl9zdGF0ZSYmKGguYWJvdmVWaWV3Um9vdCh0LmdldFZpZXdSb290KCksZSk/dGhpcy5fcm9vdFRvTm9kZSh7bm9kZTplfSk6dGhpcy5fem9vbVRvTm9kZSh7bm9kZTplfSkpfWl8fChpPXRoaXMuZmluZFRhcmdldChlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpLGl8fChpPXtub2RlOnQuZ2V0RGF0YSgpLnRyZWUucm9vdH0pKSwodGhpcy5fYnJlYWRjcnVtYnx8KHRoaXMuX2JyZWFkY3J1bWI9bmV3IHUodGhpcy5ncm91cCxnKG4sdGhpcykpKSkucmVuZGVyKHQsZSxpLm5vZGUpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKSx0aGlzLl9jb250YWluZXJHcm91cCYmdGhpcy5fY29udGFpbmVyR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3RvcmFnZT1uKCksdGhpcy5fc3RhdGU9XCJyZWFkeVwiLHRoaXMuX2JyZWFkY3J1bWImJnRoaXMuX2JyZWFkY3J1bWIucmVtb3ZlKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKX0sX3pvb21Ub05vZGU6ZnVuY3Rpb24odCl7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0cmVlbWFwWm9vbVRvTm9kZVwiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxfcm9vdFRvTm9kZTpmdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInRyZWVtYXBSb290VG9Ob2RlXCIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dC5ub2RlfSl9LGZpbmRUYXJnZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPXRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKTtyZXR1cm4gbi5lYWNoTm9kZSh7YXR0cjpcInZpZXdDaGlsZHJlblwiLG9yZGVyOlwicHJlb3JkZXJcIn0sZnVuY3Rpb24obil7dmFyIG89dGhpcy5fc3RvcmFnZS5iYWNrZ3JvdW5kW24uZ2V0UmF3SW5kZXgoKV07aWYobyl7dmFyIGE9by50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxyPW8uc2hhcGU7aWYoIShyLng8PWFbMF0mJmFbMF08PXIueCtyLndpZHRoJiZyLnk8PWFbMV0mJmFbMV08PXIueStyLmhlaWdodCkpcmV0dXJuITE7aT17bm9kZTpuLG9mZnNldFg6YVswXSxvZmZzZXRZOmFbMV19fX0sdGhpcyksaX19KX0sZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj1pKDIpLG89aSgxNjApLGE9ZnVuY3Rpb24oKXt9LHI9W1widHJlZW1hcFpvb21Ub05vZGVcIixcInRyZWVtYXBSZW5kZXJcIixcInRyZWVtYXBNb3ZlXCJdLHM9MDtzPHIubGVuZ3RoO3MrKyluLnJlZ2lzdGVyQWN0aW9uKHt0eXBlOnJbc10sdXBkYXRlOlwidXBkYXRlVmlld1wifSxhKTtuLnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwidHJlZW1hcFJvb3RUb05vZGVcIix1cGRhdGU6XCJ1cGRhdGVWaWV3XCJ9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaShlLGkpe3ZhciBuPW8ucmV0cmlldmVUYXJnZXRJbmZvKHQsZSk7aWYobil7dmFyIGE9ZS5nZXRWaWV3Um9vdCgpO2EmJih0LmRpcmVjdGlvbj1vLmFib3ZlVmlld1Jvb3QoYSxuLm5vZGUpP1wicm9sbFVwXCI6XCJkcmlsbERvd25cIiksZS5yZXNldFZpZXdSb290KG4ubm9kZSl9fWUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJzZXJpZXNcIixzdWJUeXBlOlwidHJlZW1hcFwiLHF1ZXJ5OnR9LGkpfSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXt2YXIgbj17bWFpblR5cGU6XCJzZXJpZXNcIixzdWJUeXBlOlwidHJlZW1hcFwiLHF1ZXJ5Oml9O3QuZWFjaENvbXBvbmVudChuLGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0V2lkdGgoKSxhPWUuZ2V0SGVpZ2h0KCkscj10Lm9wdGlvbixzPXIuc2l6ZXx8W10sbD1iKHcoci53aWR0aCxzWzBdKSxuKSxoPWIodyhyLmhlaWdodCxzWzFdKSxhKSx1PW0uZ2V0TGF5b3V0UmVjdCh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KSxnPWkmJmkudHlwZSx4PXYucmV0cmlldmVUYXJnZXRJbmZvKGksdCksXz1cInRyZWVtYXBSZW5kZXJcIj09PWd8fFwidHJlZW1hcE1vdmVcIj09PWc/aS5yb290UmVjdDpudWxsLE09dC5nZXRWaWV3Um9vdCgpLEE9di5nZXRQYXRoVG9Sb290KE0pO1xuaWYoXCJ0cmVlbWFwTW92ZVwiIT09Zyl7dmFyIEk9XCJ0cmVlbWFwWm9vbVRvTm9kZVwiPT09Zz9jKHQseCxNLGwsaCk6Xz9bXy53aWR0aCxfLmhlaWdodF06W2wsaF0sVD1yLnNvcnQ7VCYmXCJhc2NcIiE9PVQmJlwiZGVzY1wiIT09VCYmKFQ9XCJkZXNjXCIpO3ZhciBMPXtzcXVhcmVSYXRpbzpyLnNxdWFyZVJhdGlvLHNvcnQ6VCxsZWFmRGVwdGg6ci5sZWFmRGVwdGh9O00uaG9zdFRyZWUuY2xlYXJMYXlvdXRzKCk7dmFyIEM9e3g6MCx5OjAsd2lkdGg6SVswXSxoZWlnaHQ6SVsxXSxhcmVhOklbMF0qSVsxXX07TS5zZXRMYXlvdXQoQyksbyhNLEwsITEsMCk7dmFyIEM9TS5nZXRMYXlvdXQoKTtTKEEsZnVuY3Rpb24odCxlKXt2YXIgaT0oQVtlKzFdfHxNKS5nZXRWYWx1ZSgpO3Quc2V0TGF5b3V0KHAuZXh0ZW5kKHtkYXRhRXh0ZW50OltpLGldLGJvcmRlcldpZHRoOjB9LEMpKX0pfXZhciBEPXQuZ2V0RGF0YSgpLnRyZWUucm9vdDtELnNldExheW91dChkKHUsXyx4KSwhMCksdC5zZXRMYXlvdXRJbmZvKHUpLGYoRCxuZXcgeSgtdS54LC11LnksbixhKSxBLE0sMCl9KX1mdW5jdGlvbiBvKHQsZSxpLG4pe3ZhciByLHM7aWYoIXQuaXNSZW1vdmVkKCkpe3ZhciBsPXQuZ2V0TGF5b3V0KCk7cj1sLndpZHRoLHM9bC5oZWlnaHQ7dmFyIGM9dC5nZXRNb2RlbChcIml0ZW1TdHlsZS5ub3JtYWxcIiksZD1jLmdldChcImJvcmRlcldpZHRoXCIpLGY9Yy5nZXQoXCJnYXBXaWR0aFwiKS8yLHA9ZC1mLGc9dC5nZXRNb2RlbCgpO3Quc2V0TGF5b3V0KHtib3JkZXJXaWR0aDpkfSwhMCkscj14KHItMipwLDApLHM9eChzLTIqcCwwKTt2YXIgbT1yKnMsdj1hKHQsZyxtLGUsaSxuKTtpZih2Lmxlbmd0aCl7dmFyIHk9e3g6cCx5OnAsd2lkdGg6cixoZWlnaHQ6c30sYj1fKHIscyksdz0xLzAsUz1bXTtTLmFyZWE9MDtmb3IodmFyIE09MCxBPXYubGVuZ3RoO0E+TTspe3ZhciBJPXZbTV07Uy5wdXNoKEkpLFMuYXJlYSs9SS5nZXRMYXlvdXQoKS5hcmVhO3ZhciBUPWgoUyxiLGUuc3F1YXJlUmF0aW8pO3c+PVQ/KE0rKyx3PVQpOihTLmFyZWEtPVMucG9wKCkuZ2V0TGF5b3V0KCkuYXJlYSx1KFMsYix5LGYsITEpLGI9Xyh5LndpZHRoLHkuaGVpZ2h0KSxTLmxlbmd0aD1TLmFyZWE9MCx3PTEvMCl9aWYoUy5sZW5ndGgmJnUoUyxiLHksZiwhMCksIWkpe3ZhciBMPWcuZ2V0KFwiY2hpbGRyZW5WaXNpYmxlTWluXCIpO251bGwhPUwmJkw+bSYmKGk9ITApfWZvcih2YXIgTT0wLEE9di5sZW5ndGg7QT5NO00rKylvKHZbTV0sZSxpLG4rMSl9fX1mdW5jdGlvbiBhKHQsZSxpLG4sbyxhKXt2YXIgaD10LmNoaWxkcmVufHxbXSx1PW4uc29ydDtcImFzY1wiIT09dSYmXCJkZXNjXCIhPT11JiYodT1udWxsKTt2YXIgYz1udWxsIT1uLmxlYWZEZXB0aCYmbi5sZWFmRGVwdGg8PWE7aWYobyYmIWMpcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2g9cC5maWx0ZXIoaCxmdW5jdGlvbih0KXtyZXR1cm4hdC5pc1JlbW92ZWQoKX0pLHMoaCx1KTt2YXIgZD1sKGUsaCx1KTtpZigwPT09ZC5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2lmKGQuc3VtPXIoZSxpLGQuc3VtLHUsaCksMD09PWQuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtmb3IodmFyIGY9MCxnPWgubGVuZ3RoO2c+ZjtmKyspe3ZhciBtPWhbZl0uZ2V0VmFsdWUoKS9kLnN1bSppO2hbZl0uc2V0TGF5b3V0KHthcmVhOm19KX1yZXR1cm4gYyYmKGgubGVuZ3RoJiZ0LnNldExheW91dCh7aXNMZWFmUm9vdDohMH0sITApLGgubGVuZ3RoPTApLHQudmlld0NoaWxkcmVuPWgsdC5zZXRMYXlvdXQoe2RhdGFFeHRlbnQ6ZC5kYXRhRXh0ZW50fSwhMCksaH1mdW5jdGlvbiByKHQsZSxpLG4sbyl7aWYoIW4pcmV0dXJuIGk7Zm9yKHZhciBhPXQuZ2V0KFwidmlzaWJsZU1pblwiKSxyPW8ubGVuZ3RoLHM9cixsPXItMTtsPj0wO2wtLSl7dmFyIGg9b1tcImFzY1wiPT09bj9yLWwtMTpsXS5nZXRWYWx1ZSgpO2E+aC9pKmUmJihzPWwsaS09aCl9cmV0dXJuXCJhc2NcIj09PW4/by5zcGxpY2UoMCxyLXMpOm8uc3BsaWNlKHMsci1zKSxpfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZSYmdC5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuXCJhc2NcIj09PWU/dC5nZXRWYWx1ZSgpLWkuZ2V0VmFsdWUoKTppLmdldFZhbHVlKCktdC5nZXRWYWx1ZSgpfSksdH1mdW5jdGlvbiBsKHQsZSxpKXtmb3IodmFyIG49MCxvPTAsYT1lLmxlbmd0aDthPm87bysrKW4rPWVbb10uZ2V0VmFsdWUoKTt2YXIgcixzPXQuZ2V0KFwidmlzdWFsRGltZW5zaW9uXCIpO2lmKGUmJmUubGVuZ3RoKWlmKFwidmFsdWVcIj09PXMmJmkpcj1bZVtlLmxlbmd0aC0xXS5nZXRWYWx1ZSgpLGVbMF0uZ2V0VmFsdWUoKV0sXCJhc2NcIj09PWkmJnIucmV2ZXJzZSgpO2Vsc2V7dmFyIHI9WzEvMCwtKDEvMCldO1MoZSxmdW5jdGlvbih0KXt2YXIgZT10LmdldFZhbHVlKHMpO2U8clswXSYmKHJbMF09ZSksZT5yWzFdJiYoclsxXT1lKX0pfWVsc2Ugcj1bTmFOLE5hTl07cmV0dXJue3N1bTpuLGRhdGFFeHRlbnQ6cn19ZnVuY3Rpb24gaCh0LGUsaSl7Zm9yKHZhciBuLG89MCxhPTEvMCxyPTAscz10Lmxlbmd0aDtzPnI7cisrKW49dFtyXS5nZXRMYXlvdXQoKS5hcmVhLG4mJihhPm4mJihhPW4pLG4+byYmKG89bikpO3ZhciBsPXQuYXJlYSp0LmFyZWEsaD1lKmUqaTtyZXR1cm4gbD94KGgqby9sLGwvKGgqYSkpOjEvMH1mdW5jdGlvbiB1KHQsZSxpLG4sbyl7dmFyIGE9ZT09PWkud2lkdGg/MDoxLHI9MS1hLHM9W1wieFwiLFwieVwiXSxsPVtcIndpZHRoXCIsXCJoZWlnaHRcIl0saD1pW3NbYV1dLHU9ZT90LmFyZWEvZTowOyhvfHx1PmlbbFtyXV0pJiYodT1pW2xbcl1dKTtmb3IodmFyIGM9MCxkPXQubGVuZ3RoO2Q+YztjKyspe3ZhciBmPXRbY10scD17fSxnPXU/Zi5nZXRMYXlvdXQoKS5hcmVhL3U6MCxtPXBbbFtyXV09eCh1LTIqbiwwKSx2PWlbc1thXV0raVtsW2FdXS1oLHk9Yz09PWQtMXx8Zz52P3Y6ZyxiPXBbbFthXV09eCh5LTIqbiwwKTtwW3Nbcl1dPWlbc1tyXV0rXyhuLG0vMikscFtzW2FdXT1oK18obixiLzIpLGgrPXksZi5zZXRMYXlvdXQocCwhMCl9aVtzW3JdXSs9dSxpW2xbcl1dLT11fWZ1bmN0aW9uIGModCxlLGksbixvKXt2YXIgYT0oZXx8e30pLm5vZGUscj1bbixvXTtpZighYXx8YT09PWkpcmV0dXJuIHI7Zm9yKHZhciBzLGw9bipvLGg9bCp0Lm9wdGlvbi56b29tVG9Ob2RlUmF0aW87cz1hLnBhcmVudE5vZGU7KXtmb3IodmFyIHU9MCxjPXMuY2hpbGRyZW4sZD0wLGY9Yy5sZW5ndGg7Zj5kO2QrKyl1Kz1jW2RdLmdldFZhbHVlKCk7dmFyIHA9YS5nZXRWYWx1ZSgpO2lmKDA9PT1wKXJldHVybiByO2gqPXUvcDt2YXIgbT1zLmdldE1vZGVsKFwiaXRlbVN0eWxlLm5vcm1hbFwiKS5nZXQoXCJib3JkZXJXaWR0aFwiKTtpc0Zpbml0ZShtKSYmKGgrPTQqbSptKzQqbSpNYXRoLnBvdyhoLC41KSksaD5nLk1BWF9TQUZFX0lOVEVHRVImJihoPWcuTUFYX1NBRkVfSU5URUdFUiksYT1zfWw+aCYmKGg9bCk7dmFyIHY9TWF0aC5wb3coaC9sLC41KTtyZXR1cm5bbip2LG8qdl19ZnVuY3Rpb24gZCh0LGUsaSl7aWYoZSlyZXR1cm57eDplLngseTplLnl9O3ZhciBuPXt4OjAseTowfTtpZighaSlyZXR1cm4gbjt2YXIgbz1pLm5vZGUsYT1vLmdldExheW91dCgpO2lmKCFhKXJldHVybiBuO2Zvcih2YXIgcj1bYS53aWR0aC8yLGEuaGVpZ2h0LzJdLHM9bztzOyl7dmFyIGw9cy5nZXRMYXlvdXQoKTtyWzBdKz1sLngsclsxXSs9bC55LHM9cy5wYXJlbnROb2RlfXJldHVybnt4OnQud2lkdGgvMi1yWzBdLHk6dC5oZWlnaHQvMi1yWzFdfX1mdW5jdGlvbiBmKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXRMYXlvdXQoKSxyPWlbb10scz1yJiZyPT09dDtpZighKHImJiFzfHxvPT09aS5sZW5ndGgmJnQhPT1uKSl7dC5zZXRMYXlvdXQoe2lzSW5WaWV3OiEwLGludmlzaWJsZTohcyYmIWUuaW50ZXJzZWN0KGEpLGlzQWJvdmVWaWV3Um9vdDpzfSwhMCk7dmFyIGw9bmV3IHkoZS54LWEueCxlLnktYS55LGUud2lkdGgsZS5oZWlnaHQpO1ModC52aWV3Q2hpbGRyZW58fFtdLGZ1bmN0aW9uKHQpe2YodCxsLGksbixvKzEpfSl9fXZhciBwPWkoMSksZz1pKDQpLG09aSgxMSksdj1pKDE2MCkseT1pKDgpLHY9aSgxNjApLHg9TWF0aC5tYXgsXz1NYXRoLm1pbixiPWcucGFyc2VQZXJjZW50LHc9cC5yZXRyaWV2ZSxTPXAuZWFjaDt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkscyxoLGMpe3ZhciBkPXQuZ2V0TW9kZWwoKSxwPXQuZ2V0TGF5b3V0KCk7aWYocCYmIXAuaW52aXNpYmxlJiZwLmlzSW5WaWV3KXt2YXIgbSx2PXQuZ2V0TW9kZWwoZykseT1pW3QuZGVwdGhdLHg9byh2LGUseSxzKSxfPXYuZ2V0KFwiYm9yZGVyQ29sb3JcIiksYj12LmdldChcImJvcmRlckNvbG9yU2F0dXJhdGlvblwiKTtudWxsIT1iJiYobT1hKHgsdCksXz1yKGIsbSkpLHQuc2V0VmlzdWFsKFwiYm9yZGVyQ29sb3JcIixfKTt2YXIgdz10LnZpZXdDaGlsZHJlbjtpZih3JiZ3Lmxlbmd0aCl7dmFyIFM9bCh0LGQscCx2LHgsdyk7Zi5lYWNoKHcsZnVuY3Rpb24odCxlKXtpZih0LmRlcHRoPj1oLmxlbmd0aHx8dD09PWhbdC5kZXB0aF0pe3ZhciBvPXUoZCx4LHQsZSxTLGMpO24odCxvLGkscyxoLGMpfX0pfWVsc2UgbT1hKHgsdCksdC5zZXRWaXN1YWwoXCJjb2xvclwiLG0pfX1mdW5jdGlvbiBvKHQsZSxpLG4pe3ZhciBvPWYuZXh0ZW5kKHt9LGUpO3JldHVybiBmLmVhY2goW1wiY29sb3JcIixcImNvbG9yQWxwaGFcIixcImNvbG9yU2F0dXJhdGlvblwiXSxmdW5jdGlvbihhKXt2YXIgcj10LmdldChhLCEwKTtudWxsPT1yJiZpJiYocj1pW2FdKSxudWxsPT1yJiYocj1lW2FdKSxudWxsPT1yJiYocj1uLmdldChhKSksbnVsbCE9ciYmKG9bYV09cil9KSxvfWZ1bmN0aW9uIGEodCl7dmFyIGU9cyh0LFwiY29sb3JcIik7aWYoZSl7dmFyIGk9cyh0LFwiY29sb3JBbHBoYVwiKSxuPXModCxcImNvbG9yU2F0dXJhdGlvblwiKTtyZXR1cm4gbiYmKGU9ZC5tb2RpZnlIU0woZSxudWxsLG51bGwsbikpLGkmJihlPWQubW9kaWZ5QWxwaGEoZSxpKSksZX19ZnVuY3Rpb24gcih0LGUpe3JldHVybiBudWxsIT1lP2QubW9kaWZ5SFNMKGUsbnVsbCxudWxsLHQpOm51bGx9ZnVuY3Rpb24gcyh0LGUpe3ZhciBpPXRbZV07cmV0dXJuIG51bGwhPWkmJlwibm9uZVwiIT09aT9pOnZvaWQgMH1mdW5jdGlvbiBsKHQsZSxpLG4sbyxhKXtpZihhJiZhLmxlbmd0aCl7dmFyIHI9aChlLFwiY29sb3JcIil8fG51bGwhPW8uY29sb3ImJlwibm9uZVwiIT09by5jb2xvciYmKGgoZSxcImNvbG9yQWxwaGFcIil8fGgoZSxcImNvbG9yU2F0dXJhdGlvblwiKSk7aWYocil7dmFyIHM9ZS5nZXQoXCJjb2xvck1hcHBpbmdCeVwiKSxsPXt0eXBlOnIubmFtZSxkYXRhRXh0ZW50OmkuZGF0YUV4dGVudCx2aXN1YWw6ci5yYW5nZX07XCJjb2xvclwiIT09bC50eXBlfHxcImluZGV4XCIhPT1zJiZcImlkXCIhPT1zP2wubWFwcGluZ01ldGhvZD1cImxpbmVhclwiOihsLm1hcHBpbmdNZXRob2Q9XCJjYXRlZ29yeVwiLGwubG9vcD0hMCk7dmFyIHU9bmV3IGMobCk7cmV0dXJuIHUuX19kckNvbG9yTWFwcGluZ0J5PXMsdX19fWZ1bmN0aW9uIGgodCxlKXt2YXIgaT10LmdldChlKTtyZXR1cm4gcChpKSYmaS5sZW5ndGg/e25hbWU6ZSxyYW5nZTppfTpudWxsfWZ1bmN0aW9uIHUodCxlLGksbixvLGEpe3ZhciByPWYuZXh0ZW5kKHt9LGUpO2lmKG8pe3ZhciBzPW8udHlwZSxsPVwiY29sb3JcIj09PXMmJm8uX19kckNvbG9yTWFwcGluZ0J5LGg9XCJpbmRleFwiPT09bD9uOlwiaWRcIj09PWw/YS5tYXBJZFRvSW5kZXgoaS5nZXRJZCgpKTppLmdldFZhbHVlKHQuZ2V0KFwidmlzdWFsRGltZW5zaW9uXCIpKTtyW3NdPW8ubWFwVmFsdWVUb1Zpc3VhbChoKX1yZXR1cm4gcn12YXIgYz1pKDczKSxkPWkoMjIpLGY9aSgxKSxwPWYuaXNBcnJheSxnPVwiaXRlbVN0eWxlLm5vcm1hbFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPXttYWluVHlwZTpcInNlcmllc1wiLHN1YlR5cGU6XCJ0cmVlbWFwXCIscXVlcnk6ZX07dC5lYWNoQ29tcG9uZW50KGksZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZSxpPWUucm9vdCxvPXQuZ2V0TW9kZWwoZyk7aWYoIWkuaXNSZW1vdmVkKCkpe3ZhciBhPWYubWFwKGUubGV2ZWxNb2RlbHMsZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5nZXQoZyk6bnVsbH0pO24oaSx7fSxhLG8sdC5nZXRWaWV3Um9vdCgpLmdldEFuY2VzdG9ycygpLHQpfX0pfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2koMjAyKSxpKDMwMSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxpLG4pe3ZhciBvPXQuY29vcmRUb1BvaW50KFtlLG5dKSxhPXQuY29vcmRUb1BvaW50KFtpLG5dKTtyZXR1cm57eDE6b1swXSx5MTpvWzFdLHgyOmFbMF0seTI6YVsxXX19dmFyIG89aSgxKSxhPWkoMykscj1pKDEyKSxzPVtcImF4aXNMaW5lXCIsXCJheGlzTGFiZWxcIixcImF4aXNUaWNrXCIsXCJzcGxpdExpbmVcIixcInNwbGl0QXJlYVwiXTtpKDIpLmV4dGVuZENvbXBvbmVudFZpZXcoe3R5cGU6XCJhbmdsZUF4aXNcIixyZW5kZXI6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHQuZ2V0KFwic2hvd1wiKSl7dmFyIGk9ZS5nZXRDb21wb25lbnQoXCJwb2xhclwiLHQuZ2V0KFwicG9sYXJJbmRleFwiKSksbj10LmF4aXMsYT1pLmNvb3JkaW5hdGVTeXN0ZW0scj1hLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKSxsPW4uZ2V0VGlja3NDb29yZHMoKTtcImNhdGVnb3J5XCIhPT1uLnR5cGUmJmwucG9wKCksby5lYWNoKHMsZnVuY3Rpb24oZSl7dC5nZXQoZStcIi5zaG93XCIpJiZ0aGlzW1wiX1wiK2VdKHQsYSxsLHIpfSx0aGlzKX19LF9heGlzTGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKFwiYXhpc0xpbmUubGluZVN0eWxlXCIpLHI9bmV3IGEuQ2lyY2xlKHtzaGFwZTp7Y3g6ZS5jeCxjeTplLmN5LHI6blsxXX0sc3R5bGU6by5nZXRMaW5lU3R5bGUoKSx6MjoxLHNpbGVudDohMH0pO3Iuc3R5bGUuZmlsbD1udWxsLHRoaXMuZ3JvdXAuYWRkKHIpfSxfYXhpc1RpY2s6ZnVuY3Rpb24odCxlLGkscil7dmFyIHM9dC5nZXRNb2RlbChcImF4aXNUaWNrXCIpLGw9KHMuZ2V0KFwiaW5zaWRlXCIpPy0xOjEpKnMuZ2V0KFwibGVuZ3RoXCIpLGg9by5tYXAoaSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGEuTGluZSh7c2hhcGU6bihlLHJbMV0sclsxXStsLHQpfSl9KTt0aGlzLmdyb3VwLmFkZChhLm1lcmdlUGF0aChoLHtzdHlsZTpzLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLmdldExpbmVTdHlsZSgpfSkpfSxfYXhpc0xhYmVsOmZ1bmN0aW9uKHQsZSxpLG4pe2Zvcih2YXIgbz10LmF4aXMscz10LmdldChcImRhdGFcIiksbD10LmdldE1vZGVsKFwiYXhpc0xhYmVsXCIpLGg9bC5nZXRNb2RlbChcInRleHRTdHlsZVwiKSx1PXQuZ2V0Rm9ybWF0dGVkTGFiZWxzKCksYz1sLmdldChcIm1hcmdpblwiKSxkPW8uZ2V0TGFiZWxzQ29vcmRzKCksZj0wO2Y8aS5sZW5ndGg7ZisrKXt2YXIgcD1uWzFdLGc9ZS5jb29yZFRvUG9pbnQoW3ArYyxkW2ZdXSksbT1lLmN4LHY9ZS5jeSx5PU1hdGguYWJzKGdbMF0tbSkvcDwuMz9cImNlbnRlclwiOmdbMF0+bT9cImxlZnRcIjpcInJpZ2h0XCIseD1NYXRoLmFicyhnWzFdLXYpL3A8LjM/XCJtaWRkbGVcIjpnWzFdPnY/XCJ0b3BcIjpcImJvdHRvbVwiLF89aDtzJiZzW2ZdJiZzW2ZdLnRleHRTdHlsZSYmKF89bmV3IHIoc1tmXS50ZXh0U3R5bGUsaCkpLHRoaXMuZ3JvdXAuYWRkKG5ldyBhLlRleHQoe3N0eWxlOnt4OmdbMF0seTpnWzFdLGZpbGw6Xy5nZXRUZXh0Q29sb3IoKSx0ZXh0OnVbZl0sdGV4dEFsaWduOnksdGV4dFZlcnRpY2FsQWxpZ246eCx0ZXh0Rm9udDpfLmdldEZvbnQoKX0sc2lsZW50OiEwfSkpfX0sX3NwbGl0TGluZTpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcz10LmdldE1vZGVsKFwic3BsaXRMaW5lXCIpLGw9cy5nZXRNb2RlbChcImxpbmVTdHlsZVwiKSxoPWwuZ2V0KFwiY29sb3JcIiksdT0wO2g9aCBpbnN0YW5jZW9mIEFycmF5P2g6W2hdO2Zvcih2YXIgYz1bXSxkPTA7ZDxpLmxlbmd0aDtkKyspe3ZhciBmPXUrKyVoLmxlbmd0aDtjW2ZdPWNbZl18fFtdLGNbZl0ucHVzaChuZXcgYS5MaW5lKHtzaGFwZTpuKGUsclswXSxyWzFdLGlbZF0pfSkpfWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXRoaXMuZ3JvdXAuYWRkKGEubWVyZ2VQYXRoKGNbZF0se3N0eWxlOm8uZGVmYXVsdHMoe3N0cm9rZTpoW2QlaC5sZW5ndGhdfSxsLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITAsejp0LmdldChcInpcIil9KSl9LF9zcGxpdEFyZWE6ZnVuY3Rpb24odCxlLGksbil7dmFyIHI9dC5nZXRNb2RlbChcInNwbGl0QXJlYVwiKSxzPXIuZ2V0TW9kZWwoXCJhcmVhU3R5bGVcIiksbD1zLmdldChcImNvbG9yXCIpLGg9MDtsPWwgaW5zdGFuY2VvZiBBcnJheT9sOltsXTtmb3IodmFyIHU9W10sYz1NYXRoLlBJLzE4MCxkPS1pWzBdKmMsZj1NYXRoLm1pbihuWzBdLG5bMV0pLHA9TWF0aC5tYXgoblswXSxuWzFdKSxnPXQuZ2V0KFwiY2xvY2t3aXNlXCIpLG09MTttPGkubGVuZ3RoO20rKyl7dmFyIHY9aCsrJWwubGVuZ3RoO3Vbdl09dVt2XXx8W10sdVt2XS5wdXNoKG5ldyBhLlNlY3Rvcih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyMDpmLHI6cCxzdGFydEFuZ2xlOmQsZW5kQW5nbGU6LWlbbV0qYyxjbG9ja3dpc2U6Z30sc2lsZW50OiEwfSkpLGQ9LWlbbV0qY31mb3IodmFyIG09MDttPHUubGVuZ3RoO20rKyl0aGlzLmdyb3VwLmFkZChhLm1lcmdlUGF0aCh1W21dLHtzdHlsZTpvLmRlZmF1bHRzKHtmaWxsOmxbbSVsLmxlbmd0aF19LHMuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMH0pKX19KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkpe3JldHVybiBpJiZcImF4aXNBcmVhU2VsZWN0XCI9PT1pLnR5cGUmJmUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOlwicGFyYWxsZWxBeGlzXCIscXVlcnk6aX0pWzBdPT09dH12YXIgbz1pKDEpLGE9aSg0OSkscj1pKDE2MSkscz1bXCJheGlzTGluZVwiLFwiYXhpc0xhYmVsXCIsXCJheGlzVGlja1wiLFwiYXhpc05hbWVcIl0sbD1pKDIpLmV4dGVuZENvbXBvbmVudFZpZXcoe3R5cGU6XCJwYXJhbGxlbEF4aXNcIixfc2VsZWN0Q29udHJvbGxlcjpudWxsLHJlbmRlcjpmdW5jdGlvbih0LGUsaSxyKXtpZighbih0LGUscikmJih0aGlzLmF4aXNNb2RlbD10LHRoaXMuYXBpPWksdGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldChcInNob3dcIikpKXt2YXIgbD1lLmdldENvbXBvbmVudChcInBhcmFsbGVsXCIsdC5nZXQoXCJwYXJhbGxlbEluZGV4XCIpKS5jb29yZGluYXRlU3lzdGVtLGg9dC5nZXRBcmVhU2VsZWN0U3R5bGUoKSx1PWgud2lkdGgsYz1sLmdldEF4aXNMYXlvdXQodC5heGlzLmRpbSksZD1vLmV4dGVuZCh7c3Ryb2tlQ29udGFpblRocmVzaG9sZDp1LGF4aXNMaW5lU2lsZW50OiEodT4wKX0sYyksZj1uZXcgYSh0LGQpO28uZWFjaChzLGYuYWRkLGYpO3ZhciBwPWYuZ2V0R3JvdXAoKTt0aGlzLmdyb3VwLmFkZChwKSx0aGlzLl9idWlsZFNlbGVjdENvbnRyb2xsZXIocCxoLHQsaSl9fSxfYnVpbGRTZWxlY3RDb250cm9sbGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBhPWkuYXhpcyxzPXRoaXMuX3NlbGVjdENvbnRyb2xsZXI7c3x8KHM9dGhpcy5fc2VsZWN0Q29udHJvbGxlcj1uZXcgcihcImxpbmVcIixuLmdldFpyKCksZSkscy5vbihcInNlbGVjdGVkXCIsby5iaW5kKHRoaXMuX29uU2VsZWN0ZWQsdGhpcykpKSxzLmVuYWJsZSh0KTt2YXIgbD1vLm1hcChpLmFjdGl2ZUludGVydmFscyxmdW5jdGlvbih0KXtyZXR1cm5bYS5kYXRhVG9Db29yZCh0WzBdLCEwKSxhLmRhdGFUb0Nvb3JkKHRbMV0sITApXX0pO3MudXBkYXRlKGwpfSxfb25TZWxlY3RlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmF4aXNNb2RlbCxpPWUuYXhpcyxuPW8ubWFwKHQsZnVuY3Rpb24odCl7cmV0dXJuW2kuY29vcmRUb0RhdGEodFswXSwhMCksaS5jb29yZFRvRGF0YSh0WzFdLCEwKV19KTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImF4aXNBcmVhU2VsZWN0XCIscGFyYWxsZWxBeGlzSWQ6ZS5pZCxpbnRlcnZhbHM6bn0pfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9zZWxlY3RDb250cm9sbGVyJiZ0aGlzLl9zZWxlY3RDb250cm9sbGVyLmRpc2FibGUoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX3NlbGVjdENvbnRyb2xsZXImJih0aGlzLl9zZWxlY3RDb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9zZWxlY3RDb250cm9sbGVyPW51bGwpfX0pO3QuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSl7cmV0dXJue3Bvc2l0aW9uOlt0LmN4LHQuY3ldLHJvdGF0aW9uOmkvMTgwKk1hdGguUEksbGFiZWxEaXJlY3Rpb246LTEsdGlja0RpcmVjdGlvbjotMSxuYW1lRGlyZWN0aW9uOjEsbGFiZWxSb3RhdGlvbjplLmdldE1vZGVsKFwiYXhpc0xhYmVsXCIpLmdldChcInJvdGF0ZVwiKSx6MjoxfX12YXIgbz1pKDEpLGE9aSgzKSxyPWkoNDkpLHM9W1wiYXhpc0xpbmVcIixcImF4aXNMYWJlbFwiLFwiYXhpc1RpY2tcIixcImF4aXNOYW1lXCJdLGw9W1wic3BsaXRMaW5lXCIsXCJzcGxpdEFyZWFcIl07aSgyKS5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwicmFkaXVzQXhpc1wiLHJlbmRlcjpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoXCJzaG93XCIpKXt2YXIgaT1lLmdldENvbXBvbmVudChcInBvbGFyXCIsdC5nZXQoXCJwb2xhckluZGV4XCIpKSxhPWkuY29vcmRpbmF0ZVN5c3RlbS5nZXRBbmdsZUF4aXMoKSxoPXQuYXhpcyx1PWkuY29vcmRpbmF0ZVN5c3RlbSxjPWguZ2V0VGlja3NDb29yZHMoKSxkPWEuZ2V0RXh0ZW50KClbMF0sZj1oLmdldEV4dGVudCgpLHA9bih1LHQsZCksZz1uZXcgcih0LHApO28uZWFjaChzLGcuYWRkLGcpLHRoaXMuZ3JvdXAuYWRkKGcuZ2V0R3JvdXAoKSksby5lYWNoKGwsZnVuY3Rpb24oZSl7dC5nZXQoZStcIi5zaG93XCIpJiZ0aGlzW1wiX1wiK2VdKHQsdSxkLGYsYyl9LHRoaXMpfX0sX3NwbGl0TGluZTpmdW5jdGlvbih0LGUsaSxuLHIpe3ZhciBzPXQuZ2V0TW9kZWwoXCJzcGxpdExpbmVcIiksbD1zLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLGg9bC5nZXQoXCJjb2xvclwiKSx1PTA7aD1oIGluc3RhbmNlb2YgQXJyYXk/aDpbaF07Zm9yKHZhciBjPVtdLGQ9MDtkPHIubGVuZ3RoO2QrKyl7dmFyIGY9dSsrJWgubGVuZ3RoO2NbZl09Y1tmXXx8W10sY1tmXS5wdXNoKG5ldyBhLkNpcmNsZSh7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyOnJbZF19LHNpbGVudDohMH0pKX1mb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl0aGlzLmdyb3VwLmFkZChhLm1lcmdlUGF0aChjW2RdLHtzdHlsZTpvLmRlZmF1bHRzKHtzdHJva2U6aFtkJWgubGVuZ3RoXSxmaWxsOm51bGx9LGwuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMH0pKX0sX3NwbGl0QXJlYTpmdW5jdGlvbih0LGUsaSxuLHIpe3ZhciBzPXQuZ2V0TW9kZWwoXCJzcGxpdEFyZWFcIiksbD1zLmdldE1vZGVsKFwiYXJlYVN0eWxlXCIpLGg9bC5nZXQoXCJjb2xvclwiKSx1PTA7aD1oIGluc3RhbmNlb2YgQXJyYXk/aDpbaF07Zm9yKHZhciBjPVtdLGQ9clswXSxmPTE7ZjxyLmxlbmd0aDtmKyspe3ZhciBwPXUrKyVoLmxlbmd0aDtjW3BdPWNbcF18fFtdLGNbcF0ucHVzaChuZXcgYS5TZWN0b3Ioe3NoYXBlOntjeDplLmN4LGN5OmUuY3kscjA6ZCxyOnJbZl0sc3RhcnRBbmdsZTowLGVuZEFuZ2xlOjIqTWF0aC5QSX0sc2lsZW50OiEwfSkpLGQ9cltmXX1mb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKyl0aGlzLmdyb3VwLmFkZChhLm1lcmdlUGF0aChjW2ZdLHtzdHlsZTpvLmRlZmF1bHRzKHtmaWxsOmhbZiVoLmxlbmd0aF19LGwuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMH0pKX19KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMiksbz17dHlwZTpcImF4aXNBcmVhU2VsZWN0XCIsZXZlbnQ6XCJheGlzQXJlYVNlbGVjdGVkXCIsdXBkYXRlOlwidXBkYXRlVmlzdWFsXCJ9O24ucmVnaXN0ZXJBY3Rpb24obyxmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJwYXJhbGxlbEF4aXNcIixxdWVyeTp0fSxmdW5jdGlvbihlKXtlLmF4aXMubW9kZWwuc2V0QWN0aXZlSW50ZXJ2YWxzKHQuaW50ZXJ2YWxzKX0pfSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7ZS51cGRhdGU9XCJ1cGRhdGVWaWV3XCIsby5yZWdpc3RlckFjdGlvbihlLGZ1bmN0aW9uKGUsaSl7dmFyIG49e307cmV0dXJuIGkuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6XCJnZW9cIixxdWVyeTplfSxmdW5jdGlvbihpKXtpW3RdKGUubmFtZSk7dmFyIG89aS5jb29yZGluYXRlU3lzdGVtO2EuZWFjaChvLnJlZ2lvbnMsZnVuY3Rpb24odCl7blt0Lm5hbWVdPWkuaXNTZWxlY3RlZCh0Lm5hbWUpfHwhMX0pfSkse3NlbGVjdGVkOm4sbmFtZTplLm5hbWV9fSl9aSgzMjkpLGkoMTYyKSxpKDMwNiksaSgyMDcpO3ZhciBvPWkoMiksYT1pKDEpO24oXCJ0b2dnbGVTZWxlY3RlZFwiLHt0eXBlOlwiZ2VvVG9nZ2xlU2VsZWN0XCIsZXZlbnQ6XCJnZW9zZWxlY3RjaGFuZ2VkXCJ9KSxuKFwic2VsZWN0XCIse3R5cGU6XCJnZW9TZWxlY3RcIixldmVudDpcImdlb3NlbGVjdGVkXCJ9KSxuKFwidW5TZWxlY3RcIix7dHlwZTpcImdlb1VuU2VsZWN0XCIsZXZlbnQ6XCJnZW91bnNlbGVjdGVkXCJ9KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMjEzKTt0LmV4cG9ydHM9aSgyKS5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwiZ2VvXCIsaW5pdDpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBuKGUsITApO3RoaXMuX21hcERyYXc9aSx0aGlzLmdyb3VwLmFkZChpLmdyb3VwKX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFufHxcImdlb1RvZ2dsZVNlbGVjdFwiIT09bi50eXBlfHxuLmZyb20hPT10aGlzLnVpZCl7dmFyIG89dGhpcy5fbWFwRHJhdzt0LmdldChcInNob3dcIik/by5kcmF3KHQsZSxpLHRoaXMsbik6dGhpcy5fbWFwRHJhdy5ncm91cC5yZW1vdmVBbGwoKX19fSl9LGZ1bmN0aW9uKHQsZSxpKXtpKDIyNCksaSgzMDQpLGkoMzAyKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2koMjAyKSxpKDMwMCksaSgzMTEpLGkoMikuZXh0ZW5kQ29tcG9uZW50Vmlldyh7dHlwZTpcInBvbGFyXCJ9KX0sZnVuY3Rpb24odCxlLGkpe2koMzQ1KSxpKDM0NiksaSgzMTApfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0OSksbz1pKDEpLGE9aSgzKSxyPVtcImF4aXNMaW5lXCIsXCJheGlzTGFiZWxcIixcImF4aXNUaWNrXCIsXCJheGlzTmFtZVwiXTt0LmV4cG9ydHM9aSgyKS5leHRlbmRDb21wb25lbnRWaWV3KHt0eXBlOlwicmFkYXJcIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZ3JvdXA7bi5yZW1vdmVBbGwoKSx0aGlzLl9idWlsZEF4ZXModCksdGhpcy5fYnVpbGRTcGxpdExpbmVBbmRBcmVhKHQpfSxfYnVpbGRBeGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxpPWUuZ2V0SW5kaWNhdG9yQXhlcygpLGE9by5tYXAoaSxmdW5jdGlvbih0KXt2YXIgaT1uZXcgbih0Lm1vZGVsLHtwb3NpdGlvbjpbZS5jeCxlLmN5XSxyb3RhdGlvbjp0LmFuZ2xlLGxhYmVsRGlyZWN0aW9uOi0xLHRpY2tEaXJlY3Rpb246LTEsbmFtZURpcmVjdGlvbjoxfSk7cmV0dXJuIGl9KTtvLmVhY2goYSxmdW5jdGlvbih0KXtvLmVhY2gocix0LmFkZCx0KSx0aGlzLmdyb3VwLmFkZCh0LmdldEdyb3VwKCkpfSx0aGlzKX0sX2J1aWxkU3BsaXRMaW5lQW5kQXJlYTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxpKXt2YXIgbj1pJWUubGVuZ3RoO3JldHVybiB0W25dPXRbbl18fFtdLG59dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLG49dC5nZXQoXCJzcGxpdE51bWJlclwiKSxyPWkuZ2V0SW5kaWNhdG9yQXhlcygpO2lmKHIubGVuZ3RoKXt2YXIgcz10LmdldChcInNoYXBlXCIpLGw9dC5nZXRNb2RlbChcInNwbGl0TGluZVwiKSxoPXQuZ2V0TW9kZWwoXCJzcGxpdEFyZWFcIiksdT1sLmdldE1vZGVsKFwibGluZVN0eWxlXCIpLGM9aC5nZXRNb2RlbChcImFyZWFTdHlsZVwiKSxkPWwuZ2V0KFwic2hvd1wiKSxmPWguZ2V0KFwic2hvd1wiKSxwPXUuZ2V0KFwiY29sb3JcIiksZz1jLmdldChcImNvbG9yXCIpO3A9by5pc0FycmF5KHApP3A6W3BdLGc9by5pc0FycmF5KGcpP2c6W2ddO3ZhciBtPVtdLHY9W107aWYoXCJjaXJjbGVcIj09PXMpZm9yKHZhciB5PXJbMF0uZ2V0VGlja3NDb29yZHMoKSx4PWkuY3gsXz1pLmN5LGI9MDtiPHkubGVuZ3RoO2IrKyl7aWYoZCl7dmFyIHc9ZShtLHAsYik7bVt3XS5wdXNoKG5ldyBhLkNpcmNsZSh7c2hhcGU6e2N4OngsY3k6XyxyOnlbYl19fSkpfWlmKGYmJmI8eS5sZW5ndGgtMSl7dmFyIHc9ZSh2LGcsYik7dlt3XS5wdXNoKG5ldyBhLlJpbmcoe3NoYXBlOntjeDp4LGN5Ol8scjA6eVtiXSxyOnlbYisxXX19KSl9fWVsc2UgZm9yKHZhciBTPW8ubWFwKHIsZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFRpY2tzQ29vcmRzKCk7cmV0dXJuIG8ubWFwKG4sZnVuY3Rpb24odCl7cmV0dXJuIGkuY29vcmRUb1BvaW50KHQsZSl9KX0pLE09W10sYj0wO24+PWI7YisrKXtmb3IodmFyIEE9W10sST0wO0k8ci5sZW5ndGg7SSsrKUEucHVzaChTW0ldW2JdKTtpZihBLnB1c2goQVswXS5zbGljZSgpKSxkKXt2YXIgdz1lKG0scCxiKTttW3ddLnB1c2gobmV3IGEuUG9seWxpbmUoe3NoYXBlOntwb2ludHM6QX19KSl9aWYoZiYmTSl7dmFyIHc9ZSh2LGcsYi0xKTt2W3ddLnB1c2gobmV3IGEuUG9seWdvbih7c2hhcGU6e3BvaW50czpBLmNvbmNhdChNKX19KSl9TT1BLnNsaWNlKCkucmV2ZXJzZSgpfXZhciBUPXUuZ2V0TGluZVN0eWxlKCksTD1jLmdldEFyZWFTdHlsZSgpO28uZWFjaCh2LGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQoYS5tZXJnZVBhdGgodCx7c3R5bGU6by5kZWZhdWx0cyh7c3Ryb2tlOlwibm9uZVwiLGZpbGw6Z1tlJWcubGVuZ3RoXX0sTCksc2lsZW50OiEwfSkpfSx0aGlzKSxvLmVhY2gobSxmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKGEubWVyZ2VQYXRoKHQse3N0eWxlOm8uZGVmYXVsdHMoe2ZpbGw6XCJub25lXCIsc3Ryb2tlOnBbZSVwLmxlbmd0aF19LFQpLHNpbGVudDohMH0pKX0sdGhpcyl9fX0pfSxmdW5jdGlvbih0LGUsaSl7aSgyMDIpLGkoMzAzKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMik7bi5yZWdpc3RlclByZXByb2Nlc3NvcihpKDMxOCkpLGkoMzIwKSxpKDMxOSksaSgzMTMpLGkoMzE0KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMzE2KSxvPWkoMSksYT1pKDcpLHI9bi5leHRlbmQoe3R5cGU6XCJ0aW1lbGluZS5zbGlkZXJcIixkZWZhdWx0T3B0aW9uOntiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDApXCIsYm9yZGVyQ29sb3I6XCIjY2NjXCIsYm9yZGVyV2lkdGg6MCxvcmllbnQ6XCJob3Jpem9udGFsXCIsaW52ZXJzZTohMSx0b29sdGlwOnt0cmlnZ2VyOlwiaXRlbVwifSxzeW1ib2w6XCJlbXB0eUNpcmNsZVwiLHN5bWJvbFNpemU6MTAsbGluZVN0eWxlOntzaG93OiEwLHdpZHRoOjIsY29sb3I6XCIjMzA0NjU0XCJ9LGxhYmVsOntwb3NpdGlvbjpcImF1dG9cIixub3JtYWw6e3Nob3c6ITAsaW50ZXJ2YWw6XCJhdXRvXCIscm90YXRlOjAsdGV4dFN0eWxlOntjb2xvcjpcIiMzMDQ2NTRcIn19LGVtcGhhc2lzOntzaG93OiEwLHRleHRTdHlsZTp7Y29sb3I6XCIjYzIzNTMxXCJ9fX0saXRlbVN0eWxlOntub3JtYWw6e2NvbG9yOlwiIzMwNDY1NFwiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntjb2xvcjpcIiNjMjM1MzFcIn19LGNoZWNrcG9pbnRTdHlsZTp7c3ltYm9sOlwiY2lyY2xlXCIsc3ltYm9sU2l6ZToxMyxjb2xvcjpcIiNjMjM1MzFcIixib3JkZXJXaWR0aDo1LGJvcmRlckNvbG9yOlwicmdiYSgxOTQsNTMsNDksIDAuNSlcIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb246MzAwLGFuaW1hdGlvbkVhc2luZzpcInF1aW50aWNJbk91dFwifSxjb250cm9sU3R5bGU6e3Nob3c6ITAsc2hvd1BsYXlCdG46ITAsc2hvd1ByZXZCdG46ITAsc2hvd05leHRCdG46ITAsaXRlbVNpemU6MjIsaXRlbUdhcDoxMixwb3NpdGlvbjpcImxlZnRcIixwbGF5SWNvbjpcInBhdGg6Ly9NMzEuNiw1M0MxNy41LDUzLDYsNDEuNSw2LDI3LjRTMTcuNSwxLjgsMzEuNiwxLjhDNDUuNywxLjgsNTcuMiwxMy4zLDU3LjIsMjcuNFM0NS43LDUzLDMxLjYsNTN6IE0zMS42LDMuMyBDMTguNCwzLjMsNy41LDE0LjEsNy41LDI3LjRjMCwxMy4zLDEwLjgsMjQuMSwyNC4xLDI0LjFDNDQuOSw1MS41LDU1LjcsNDAuNyw1NS43LDI3LjRDNTUuNywxNC4xLDQ0LjksMy4zLDMxLjYsMy4zeiBNMjQuOSwyMS4zIGMwLTIuMiwxLjYtMy4xLDMuNS0ybDEwLjUsNi4xYzEuODk5LDEuMSwxLjg5OSwyLjksMCw0bC0xMC41LDYuMWMtMS45LDEuMS0zLjUsMC4yLTMuNS0yVjIxLjN6XCIsc3RvcEljb246XCJwYXRoOi8vTTMwLjksNTMuMkMxNi44LDUzLjIsNS4zLDQxLjcsNS4zLDI3LjZTMTYuOCwyLDMwLjksMkM0NSwyLDU2LjQsMTMuNSw1Ni40LDI3LjZTNDUsNTMuMiwzMC45LDUzLjJ6IE0zMC45LDMuNUMxNy42LDMuNSw2LjgsMTQuNCw2LjgsMjcuNmMwLDEzLjMsMTAuOCwyNC4xLDI0LjEwMSwyNC4xQzQ0LjIsNTEuNyw1NSw0MC45LDU1LDI3LjZDNTQuOSwxNC40LDQ0LjEsMy41LDMwLjksMy41eiBNMzYuOSwzNS44YzAsMC42MDEtMC40LDEtMC45LDFoLTEuM2MtMC41LDAtMC45LTAuMzk5LTAuOS0xVjE5LjVjMC0wLjYsMC40LTEsMC45LTFIMzZjMC41LDAsMC45LDAuNCwwLjksMVYzNS44eiBNMjcuOCwzNS44IGMwLDAuNjAxLTAuNCwxLTAuOSwxaC0xLjNjLTAuNSwwLTAuOS0wLjM5OS0wLjktMVYxOS41YzAtMC42LDAuNC0xLDAuOS0xSDI3YzAuNSwwLDAuOSwwLjQsMC45LDFMMjcuOCwzNS44TDI3LjgsMzUuOHpcIixuZXh0SWNvbjpcInBhdGg6Ly9NMTguNiw1MC44bDIyLjUtMjIuNWMwLjItMC4yLDAuMy0wLjQsMC4zLTAuN2MwLTAuMy0wLjEtMC41LTAuMy0wLjdMMTguNyw0LjRjLTAuMS0wLjEtMC4yLTAuMy0wLjItMC41IGMwLTAuNCwwLjMtMC44LDAuOC0wLjhjMC4yLDAsMC41LDAuMSwwLjYsMC4zbDIzLjUsMjMuNWwwLDBjMC4yLDAuMiwwLjMsMC40LDAuMywwLjdjMCwwLjMtMC4xLDAuNS0wLjMsMC43bC0wLjEsMC4xTDE5LjcsNTIgYy0wLjEsMC4xLTAuMywwLjItMC41LDAuMmMtMC40LDAtMC44LTAuMy0wLjgtMC44QzE4LjQsNTEuMiwxOC41LDUxLDE4LjYsNTAuOHpcIixwcmV2SWNvbjpcInBhdGg6Ly9NNDMsNTIuOEwyMC40LDMwLjNjLTAuMi0wLjItMC4zLTAuNC0wLjMtMC43YzAtMC4zLDAuMS0wLjUsMC4zLTAuN0w0Mi45LDYuNGMwLjEtMC4xLDAuMi0wLjMsMC4yLTAuNSBjMC0wLjQtMC4zLTAuOC0wLjgtMC44Yy0wLjIsMC0wLjUsMC4xLTAuNiwwLjNMMTguMywyOC44bDAsMGMtMC4yLDAuMi0wLjMsMC40LTAuMywwLjdjMCwwLjMsMC4xLDAuNSwwLjMsMC43bDAuMSwwLjFMNDEuOSw1NCBjMC4xLDAuMSwwLjMsMC4yLDAuNSwwLjJjMC40LDAsMC44LTAuMywwLjgtMC44QzQzLjIsNTMuMiw0My4xLDUzLDQzLDUyLjh6XCIsbm9ybWFsOntjb2xvcjpcIiMzMDQ2NTRcIixib3JkZXJDb2xvcjpcIiMzMDQ2NTRcIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7Y29sb3I6XCIjYzIzNTMxXCIsYm9yZGVyQ29sb3I6XCIjYzIzNTMxXCIsYm9yZGVyV2lkdGg6Mn19LGRhdGE6W119fSk7by5taXhpbihyLGEuZGF0YUZvcm1hdE1peGluKSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gaC5nZXRMYXlvdXRSZWN0KHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sdC5nZXQoXCJwYWRkaW5nXCIpKX1mdW5jdGlvbiBvKHQsZSxpLG4pe3ZhciBvPWwubWFrZVBhdGgodC5nZXQoZSkucmVwbGFjZSgvXnBhdGg6XFwvXFwvLyxcIlwiKSxzLmNsb25lKG58fHt9KSxuZXcgcChpWzBdLGlbMV0saVsyXSxpWzNdKSxcImNlbnRlclwiKTtyZXR1cm4gb31mdW5jdGlvbiBhKHQsZSxpLG4sbyxhKXt2YXIgcj10LmdldChcInN5bWJvbFwiKSxsPWUuZ2V0KFwiY29sb3JcIiksaD10LmdldChcInN5bWJvbFNpemVcIiksdT1oLzIsYz1lLmdldEl0ZW1TdHlsZShbXCJjb2xvclwiLFwic3ltYm9sXCIsXCJzeW1ib2xTaXplXCJdKTtyZXR1cm4gbz8oby5zZXRTdHlsZShjKSxvLnNldENvbG9yKGwpLGkuYWRkKG8pLGEmJmEub25VcGRhdGUobykpOihvPWQuY3JlYXRlU3ltYm9sKHIsLXUsLXUsaCxoLGwpLGkuYWRkKG8pLGEmJmEub25DcmVhdGUobykpLG49cy5tZXJnZSh7cmVjdEhvdmVyOiEwLHN0eWxlOmMsejI6MTAwfSxuLCEwKSxvLmF0dHIobiksb31mdW5jdGlvbiByKHQsZSxpLG4sbyl7aWYoIXQuZHJhZ2dpbmcpe3ZhciBhPW4uZ2V0TW9kZWwoXCJjaGVja3BvaW50U3R5bGVcIikscj1pLmRhdGFUb0Nvb3JkKG4uZ2V0RGF0YSgpLmdldChbXCJ2YWx1ZVwiXSxlKSk7b3x8IWEuZ2V0KFwiYW5pbWF0aW9uXCIsITApP3QuYXR0cih7cG9zaXRpb246W3IsMF19KToodC5zdG9wQW5pbWF0aW9uKCEwKSx0LmFuaW1hdGVUbyh7cG9zaXRpb246W3IsMF19LGEuZ2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwhMCksYS5nZXQoXCJhbmltYXRpb25FYXNpbmdcIiwhMCkpKX19dmFyIHM9aSgxKSxsPWkoMyksaD1pKDExKSx1PWkoMzE3KSxjPWkoMzE1KSxkPWkoMjUpLGY9aSgyNCkscD1pKDgpLGc9aSgxOSksbT1pKDQpLHY9aSg5KSx5PXYuZW5jb2RlSFRNTCx4PXMuYmluZCxfPXMuZWFjaCxiPU1hdGguUEk7dC5leHBvcnRzPXUuZXh0ZW5kKHt0eXBlOlwidGltZWxpbmUuc2xpZGVyXCIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuYXBpPWUsdGhpcy5fYXhpcyx0aGlzLl92aWV3UmVjdCx0aGlzLl90aW1lcix0aGlzLl9jdXJyZW50UG9pbnRlcix0aGlzLl9tYWluR3JvdXAsdGhpcy5fbGFiZWxHcm91cH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKHRoaXMubW9kZWw9dCx0aGlzLmFwaT1pLHRoaXMuZWNNb2RlbD1lLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoXCJzaG93XCIsITApKXt2YXIgbz10aGlzLl9sYXlvdXQodCxpKSxhPXRoaXMuX2NyZWF0ZUdyb3VwKFwibWFpbkdyb3VwXCIpLHI9dGhpcy5fY3JlYXRlR3JvdXAoXCJsYWJlbEdyb3VwXCIpLHM9dGhpcy5fYXhpcz10aGlzLl9jcmVhdGVBeGlzKG8sdCk7dC5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQpe3JldHVybiB5KHMuc2NhbGUuZ2V0TGFiZWwodCkpfSxfKFtcIkF4aXNMaW5lXCIsXCJBeGlzVGlja1wiLFwiQ29udHJvbFwiLFwiQ3VycmVudFBvaW50ZXJcIl0sZnVuY3Rpb24oZSl7dGhpc1tcIl9yZW5kZXJcIitlXShvLGEscyx0KX0sdGhpcyksdGhpcy5fcmVuZGVyQXhpc0xhYmVsKG8scixzLHQpLHRoaXMuX3Bvc2l0aW9uKG8sdCl9dGhpcy5fZG9QbGF5U3RvcCgpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyVGltZXIoKX0sX2xheW91dDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KFwibGFiZWwubm9ybWFsLnBvc2l0aW9uXCIpLG89dC5nZXQoXCJvcmllbnRcIiksYT1uKHQsZSk7bnVsbD09aXx8XCJhdXRvXCI9PT1pP2k9XCJob3Jpem9udGFsXCI9PT1vP2EueSthLmhlaWdodC8yPGUuZ2V0SGVpZ2h0KCkvMj9cIi1cIjpcIitcIjphLngrYS53aWR0aC8yPGUuZ2V0V2lkdGgoKS8yP1wiK1wiOlwiLVwiOmlzTmFOKGkpJiYoaT17aG9yaXpvbnRhbDp7dG9wOlwiLVwiLGJvdHRvbTpcIitcIn0sdmVydGljYWw6e2xlZnQ6XCItXCIscmlnaHQ6XCIrXCJ9fVtvXVtpXSk7dmFyIHI9e2hvcml6b250YWw6XCJjZW50ZXJcIix2ZXJ0aWNhbDppPj0wfHxcIitcIj09PWk/XCJsZWZ0XCI6XCJyaWdodFwifSxzPXtob3Jpem9udGFsOmk+PTB8fFwiK1wiPT09aT9cInRvcFwiOlwiYm90dG9tXCIsdmVydGljYWw6XCJtaWRkbGVcIn0sbD17aG9yaXpvbnRhbDowLHZlcnRpY2FsOmIvMn0saD1cInZlcnRpY2FsXCI9PT1vP2EuaGVpZ2h0OmEud2lkdGgsdT10LmdldE1vZGVsKFwiY29udHJvbFN0eWxlXCIpLGM9dS5nZXQoXCJzaG93XCIpLGQ9Yz91LmdldChcIml0ZW1TaXplXCIpOjAsZj1jP3UuZ2V0KFwiaXRlbUdhcFwiKTowLHA9ZCtmLGc9dC5nZXQoXCJsYWJlbC5ub3JtYWwucm90YXRlXCIpfHwwO2c9ZypiLzE4MDt2YXIgbSx2LHkseCxfPXUuZ2V0KFwicG9zaXRpb25cIiwhMCksYz11LmdldChcInNob3dcIiwhMCksdz1jJiZ1LmdldChcInNob3dQbGF5QnRuXCIsITApLFM9YyYmdS5nZXQoXCJzaG93UHJldkJ0blwiLCEwKSxNPWMmJnUuZ2V0KFwic2hvd05leHRCdG5cIiwhMCksQT0wLEk9aDtyZXR1cm5cImxlZnRcIj09PV98fFwiYm90dG9tXCI9PT1fPyh3JiYobT1bMCwwXSxBKz1wKSxTJiYodj1bQSwwXSxBKz1wKSxNJiYoeT1bSS1kLDBdLEktPXApKToodyYmKG09W0ktZCwwXSxJLT1wKSxTJiYodj1bMCwwXSxBKz1wKSxNJiYoeT1bSS1kLDBdLEktPXApKSx4PVtBLEldLHQuZ2V0KFwiaW52ZXJzZVwiKSYmeC5yZXZlcnNlKCkse3ZpZXdSZWN0OmEsbWFpbkxlbmd0aDpoLG9yaWVudDpvLHJvdGF0aW9uOmxbb10sbGFiZWxSb3RhdGlvbjpnLGxhYmVsUG9zT3B0OmksbGFiZWxBbGlnbjpyW29dLGxhYmVsQmFzZWxpbmU6c1tvXSxwbGF5UG9zaXRpb246bSxwcmV2QnRuUG9zaXRpb246dixuZXh0QnRuUG9zaXRpb246eSxheGlzRXh0ZW50OngsY29udHJvbFNpemU6ZCxjb250cm9sR2FwOmZ9fSxfcG9zaXRpb246ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPXQucG9zaXRpb247dC5vcmlnaW49W2NbMF1bMF0tZVswXSxjWzFdWzBdLWVbMV1dfWZ1bmN0aW9uIG4odCl7cmV0dXJuW1t0LngsdC54K3Qud2lkdGhdLFt0LnksdC55K3QuaGVpZ2h0XV19ZnVuY3Rpb24gbyh0LGUsaSxuLG8pe3Rbbl0rPWlbbl1bb10tZVtuXVtvXX12YXIgYT10aGlzLl9tYWluR3JvdXAscj10aGlzLl9sYWJlbEdyb3VwLHM9dC52aWV3UmVjdDtpZihcInZlcnRpY2FsXCI9PT10Lm9yaWVudCl7dmFyIGw9Zy5jcmVhdGUoKSxoPXMueCx1PXMueStzLmhlaWdodDtnLnRyYW5zbGF0ZShsLGwsWy1oLC11XSksZy5yb3RhdGUobCxsLC1iLzIpLGcudHJhbnNsYXRlKGwsbCxbaCx1XSkscz1zLmNsb25lKCkscy5hcHBseVRyYW5zZm9ybShsKX12YXIgYz1uKHMpLGQ9bihhLmdldEJvdW5kaW5nUmVjdCgpKSxmPW4oci5nZXRCb3VuZGluZ1JlY3QoKSkscD1hLnBvc2l0aW9uLG09ci5wb3NpdGlvbjttWzBdPXBbMF09Y1swXVswXTt2YXIgdj10LmxhYmVsUG9zT3B0O2lmKGlzTmFOKHYpKXt2YXIgeT1cIitcIj09PXY/MDoxO28ocCxkLGMsMSx5KSxvKG0sZixjLDEsMS15KX1lbHNle3ZhciB5PXY+PTA/MDoxO28ocCxkLGMsMSx5KSxtWzFdPXBbMV0rdn1hLnBvc2l0aW9uPXAsci5wb3NpdGlvbj1tLGEucm90YXRpb249ci5yb3RhdGlvbj10LnJvdGF0aW9uLGkoYSksaShyKX0sX2NyZWF0ZUF4aXM6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldERhdGEoKSxuPWUuZ2V0KFwiYXhpc1R5cGVcIiksbz1mLmNyZWF0ZVNjYWxlQnlNb2RlbChlLG4pLGE9aS5nZXREYXRhRXh0ZW50KFwidmFsdWVcIik7by5zZXRFeHRlbnQoYVswXSxhWzFdKSx0aGlzLl9jdXN0b21pemVTY2FsZShvLGkpLG8ubmljZVRpY2tzKCk7dmFyIHI9bmV3IGMoXCJ2YWx1ZVwiLG8sdC5heGlzRXh0ZW50LG4pO3JldHVybiByLm1vZGVsPWUscn0sX2N1c3RvbWl6ZVNjYWxlOmZ1bmN0aW9uKHQsZSl7dC5nZXRUaWNrcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcEFycmF5KFtcInZhbHVlXCJdLGZ1bmN0aW9uKHQpe3JldHVybiB0fSl9LHQuZ2V0VGlja3NMYWJlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gcy5tYXAodGhpcy5nZXRUaWNrcygpLHQuZ2V0TGFiZWwsdCl9fSxfY3JlYXRlR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1tcIl9cIit0XT1uZXcgbC5Hcm91cDtyZXR1cm4gdGhpcy5ncm91cC5hZGQoZSksZX0sX3JlbmRlckF4aXNMaW5lOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuZ2V0RXh0ZW50KCk7bi5nZXQoXCJsaW5lU3R5bGUuc2hvd1wiKSYmZS5hZGQobmV3IGwuTGluZSh7c2hhcGU6e3gxOm9bMF0seTE6MCx4MjpvWzFdLHkyOjB9LHN0eWxlOnMuZXh0ZW5kKHtsaW5lQ2FwOlwicm91bmRcIn0sbi5nZXRNb2RlbChcImxpbmVTdHlsZVwiKS5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwLHoyOjF9KSl9LF9yZW5kZXJBeGlzVGljazpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1uLmdldERhdGEoKSxyPWkuc2NhbGUuZ2V0VGlja3MoKTtfKHIsZnVuY3Rpb24odCxyKXt2YXIgcz1pLmRhdGFUb0Nvb3JkKHQpLGg9by5nZXRJdGVtTW9kZWwociksdT1oLmdldE1vZGVsKFwiaXRlbVN0eWxlLm5vcm1hbFwiKSxjPWguZ2V0TW9kZWwoXCJpdGVtU3R5bGUuZW1waGFzaXNcIiksZD17cG9zaXRpb246W3MsMF0sb25jbGljazp4KHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMscil9LGY9YShoLHUsZSxkKTtsLnNldEhvdmVyU3R5bGUoZixjLmdldEl0ZW1TdHlsZSgpKSxoLmdldChcInRvb2x0aXBcIik/KGYuZGF0YUluZGV4PXIsZi5kYXRhTW9kZWw9bik6Zi5kYXRhSW5kZXg9Zi5kYXRhTW9kZWw9bnVsbH0sdGhpcyl9LF9yZW5kZXJBeGlzTGFiZWw6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bi5nZXRNb2RlbChcImxhYmVsLm5vcm1hbFwiKTtpZihvLmdldChcInNob3dcIikpe3ZhciBhPW4uZ2V0RGF0YSgpLHI9aS5zY2FsZS5nZXRUaWNrcygpLHM9Zi5nZXRGb3JtYXR0ZWRMYWJlbHMoaSxvLmdldChcImZvcm1hdHRlclwiKSksaD1pLmdldExhYmVsSW50ZXJ2YWwoKTtfKHIsZnVuY3Rpb24obixvKXtpZighaS5pc0xhYmVsSWdub3JlZChvLGgpKXt2YXIgcj1hLmdldEl0ZW1Nb2RlbChvKSx1PXIuZ2V0TW9kZWwoXCJsYWJlbC5ub3JtYWwudGV4dFN0eWxlXCIpLGM9ci5nZXRNb2RlbChcImxhYmVsLmVtcGhhc2lzLnRleHRTdHlsZVwiKSxkPWkuZGF0YVRvQ29vcmQobiksZj1uZXcgbC5UZXh0KHtzdHlsZTp7dGV4dDpzW29dLHRleHRBbGlnbjp0LmxhYmVsQWxpZ24sdGV4dFZlcnRpY2FsQWxpZ246dC5sYWJlbEJhc2VsaW5lLHRleHRGb250OnUuZ2V0Rm9udCgpLGZpbGw6dS5nZXRUZXh0Q29sb3IoKX0scG9zaXRpb246W2QsMF0scm90YXRpb246dC5sYWJlbFJvdGF0aW9uLXQucm90YXRpb24sb25jbGljazp4KHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsbyksc2lsZW50OiExfSk7ZS5hZGQoZiksbC5zZXRIb3ZlclN0eWxlKGYsYy5nZXRJdGVtU3R5bGUoKSl9fSx0aGlzKX19LF9yZW5kZXJDb250cm9sOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIGEodCxpLGEsZCl7aWYodCl7dmFyIGY9e3Bvc2l0aW9uOnQsb3JpZ2luOltyLzIsMF0scm90YXRpb246ZD8tczowLHJlY3RIb3ZlcjohMCxzdHlsZTpoLG9uY2xpY2s6YX0scD1vKG4saSxjLGYpO2UuYWRkKHApLGwuc2V0SG92ZXJTdHlsZShwLHUpfX12YXIgcj10LmNvbnRyb2xTaXplLHM9dC5yb3RhdGlvbixoPW4uZ2V0TW9kZWwoXCJjb250cm9sU3R5bGUubm9ybWFsXCIpLmdldEl0ZW1TdHlsZSgpLHU9bi5nZXRNb2RlbChcImNvbnRyb2xTdHlsZS5lbXBoYXNpc1wiKS5nZXRJdGVtU3R5bGUoKSxjPVswLC1yLzIscixyXSxkPW4uZ2V0UGxheVN0YXRlKCksZj1uLmdldChcImludmVyc2VcIiwhMCk7YSh0Lm5leHRCdG5Qb3NpdGlvbixcImNvbnRyb2xTdHlsZS5uZXh0SWNvblwiLHgodGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyxmP1wiLVwiOlwiK1wiKSksYSh0LnByZXZCdG5Qb3NpdGlvbixcImNvbnRyb2xTdHlsZS5wcmV2SWNvblwiLHgodGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyxmP1wiK1wiOlwiLVwiKSksYSh0LnBsYXlQb3NpdGlvbixcImNvbnRyb2xTdHlsZS5cIisoZD9cInN0b3BJY29uXCI6XCJwbGF5SWNvblwiKSx4KHRoaXMuX2hhbmRsZVBsYXlDbGljayx0aGlzLCFkKSwhMCl9LF9yZW5kZXJDdXJyZW50UG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1uLmdldERhdGEoKSxzPW4uZ2V0Q3VycmVudEluZGV4KCksbD1vLmdldEl0ZW1Nb2RlbChzKS5nZXRNb2RlbChcImNoZWNrcG9pbnRTdHlsZVwiKSxoPXRoaXMsdT17b25DcmVhdGU6ZnVuY3Rpb24odCl7dC5kcmFnZ2FibGU9ITAsdC5kcmlmdD14KGguX2hhbmRsZVBvaW50ZXJEcmFnLGgpLHQub25kcmFnZW5kPXgoaC5faGFuZGxlUG9pbnRlckRyYWdlbmQsaCkscih0LHMsaSxuLCEwKX0sb25VcGRhdGU6ZnVuY3Rpb24odCl7cih0LHMsaSxuKX19O3RoaXMuX2N1cnJlbnRQb2ludGVyPWEobCxsLHRoaXMuX21haW5Hcm91cCx7fSx0aGlzLl9jdXJyZW50UG9pbnRlcix1KX0sX2hhbmRsZVBsYXlDbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJ0aW1lbGluZVBsYXlDaGFuZ2VcIixwbGF5U3RhdGU6dCxmcm9tOnRoaXMudWlkfSl9LF9oYW5kbGVQb2ludGVyRHJhZzpmdW5jdGlvbih0LGUsaSl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZShbaS5vZmZzZXRYLGkub2Zmc2V0WV0pfSxfaGFuZGxlUG9pbnRlckRyYWdlbmQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9pbnRlckNoYW5nZVRpbWVsaW5lKFt0Lm9mZnNldFgsdC5vZmZzZXRZXSwhMCl9LF9wb2ludGVyQ2hhbmdlVGltZWxpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl90b0F4aXNDb29yZCh0KVswXSxuPXRoaXMuX2F4aXMsbz1tLmFzYyhuLmdldEV4dGVudCgpLnNsaWNlKCkpO2k+b1sxXSYmKGk9b1sxXSksaTxvWzBdJiYoaT1vWzBdKSx0aGlzLl9jdXJyZW50UG9pbnRlci5wb3NpdGlvblswXT1pLHRoaXMuX2N1cnJlbnRQb2ludGVyLmRpcnR5KCk7dmFyIGE9dGhpcy5fZmluZE5lYXJlc3RUaWNrKGkpLHI9dGhpcy5tb2RlbDsoZXx8YSE9PXIuZ2V0Q3VycmVudEluZGV4KCkmJnIuZ2V0KFwicmVhbHRpbWVcIikpJiZ0aGlzLl9jaGFuZ2VUaW1lbGluZShhKX0sX2RvUGxheVN0b3A6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpcy5tb2RlbDt0aGlzLl9jaGFuZ2VUaW1lbGluZSh0LmdldEN1cnJlbnRJbmRleCgpKyh0LmdldChcInJld2luZFwiLCEwKT8tMToxKSl9dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMubW9kZWwuZ2V0UGxheVN0YXRlKCkmJih0aGlzLl90aW1lcj1zZXRUaW1lb3V0KHgodCx0aGlzKSx0aGlzLm1vZGVsLmdldChcInBsYXlJbnRlcnZhbFwiKSkpfSxfdG9BeGlzQ29vcmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFpbkdyb3VwLmdldExvY2FsVHJhbnNmb3JtKCk7cmV0dXJuIGwuYXBwbHlUcmFuc2Zvcm0odCxlLCEwKX0sX2ZpbmROZWFyZXN0VGljazpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMubW9kZWwuZ2V0RGF0YSgpLG49MS8wLG89dGhpcy5fYXhpcztyZXR1cm4gaS5lYWNoKFtcInZhbHVlXCJdLGZ1bmN0aW9uKGksYSl7dmFyIHI9by5kYXRhVG9Db29yZChpKSxzPU1hdGguYWJzKHItdCk7bj5zJiYobj1zLGU9YSl9KSxlfSxfY2xlYXJUaW1lcjpmdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX0sX2NoYW5nZVRpbWVsaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0Q3VycmVudEluZGV4KCk7XCIrXCI9PT10P3Q9ZSsxOlwiLVwiPT09dCYmKHQ9ZS0xKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInRpbWVsaW5lQ2hhbmdlXCIsY3VycmVudEluZGV4OnQsZnJvbTp0aGlzLnVpZH0pfX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPWkoNDMpLGE9aSgyNCkscj1mdW5jdGlvbih0LGUsaSxuKXtvLmNhbGwodGhpcyx0LGUsaSksdGhpcy50eXBlPW58fFwidmFsdWVcIix0aGlzLl9hdXRvTGFiZWxJbnRlcnZhbCx0aGlzLm1vZGVsPW51bGx9O3IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpyLGdldExhYmVsSW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVsLGU9dC5nZXRNb2RlbChcImxhYmVsLm5vcm1hbFwiKSxpPWUuZ2V0KFwiaW50ZXJ2YWxcIik7aWYobnVsbCE9aSYmXCJhdXRvXCIhPWkpcmV0dXJuIGk7dmFyIGk9dGhpcy5fYXV0b0xhYmVsSW50ZXJ2YWw7cmV0dXJuIGl8fChpPXRoaXMuX2F1dG9MYWJlbEludGVydmFsPWEuZ2V0QXhpc0xhYmVsSW50ZXJ2YWwobi5tYXAodGhpcy5zY2FsZS5nZXRUaWNrcygpLHRoaXMuZGF0YVRvQ29vcmQsdGhpcyksYS5nZXRGb3JtYXR0ZWRMYWJlbHModGhpcyxlLmdldChcImZvcm1hdHRlclwiKSksZS5nZXRNb2RlbChcInRleHRTdHlsZVwiKS5nZXRGb250KCksXCJob3Jpem9udGFsXCI9PT10LmdldChcIm9yaWVudFwiKSkpLGl9LGlzTGFiZWxJZ25vcmVkOmZ1bmN0aW9uKHQpe2lmKFwiY2F0ZWdvcnlcIj09PXRoaXMudHlwZSl7dmFyIGU9dGhpcy5nZXRMYWJlbEludGVydmFsKCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmIWUodCx0aGlzLnNjYWxlLmdldExhYmVsKHQpKXx8dCUoZSsxKX19fSxuLmluaGVyaXRzKHIsbyksdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEwKSxvPWkoMTUpLGE9aSgxKSxyPWkoNykscz1uLmV4dGVuZCh7dHlwZTpcInRpbWVsaW5lXCIsbGF5b3V0TW9kZTpcImJveFwiLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NCxzaG93OiEwLGF4aXNUeXBlOlwidGltZVwiLHJlYWx0aW1lOiEwLGxlZnQ6XCIyMCVcIix0b3A6bnVsbCxyaWdodDpcIjIwJVwiLGJvdHRvbTowLHdpZHRoOm51bGwsaGVpZ2h0OjQwLHBhZGRpbmc6NSxjb250cm9sUG9zaXRpb246XCJsZWZ0XCIsYXV0b1BsYXk6ITEscmV3aW5kOiExLGxvb3A6ITAscGxheUludGVydmFsOjJlMyxjdXJyZW50SW5kZXg6MCxpdGVtU3R5bGU6e25vcm1hbDp7fSxlbXBoYXNpczp7fX0sbGFiZWw6e25vcm1hbDp7dGV4dFN0eWxlOntjb2xvcjpcIiMwMDBcIn19LGVtcGhhc2lzOnt9fSxkYXRhOltdfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9kYXRhLHRoaXMuX25hbWVzLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxpKSx0aGlzLl9pbml0RGF0YSgpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtzLnN1cGVyQXBwbHkodGhpcyxcIm1lcmdlT3B0aW9uXCIsYXJndW1lbnRzKSx0aGlzLl9pbml0RGF0YSgpfSxzZXRDdXJyZW50SW5kZXg6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5vcHRpb24uY3VycmVudEluZGV4KTt2YXIgZT10aGlzLl9kYXRhLmNvdW50KCk7dGhpcy5vcHRpb24ubG9vcD90PSh0JWUrZSklZToodD49ZSYmKHQ9ZS0xKSwwPnQmJih0PTApKSx0aGlzLm9wdGlvbi5jdXJyZW50SW5kZXg9dH0sZ2V0Q3VycmVudEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uLmN1cnJlbnRJbmRleH0saXNJbmRleE1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRJbmRleCgpPj10aGlzLl9kYXRhLmNvdW50KCktMX0sc2V0UGxheVN0YXRlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmF1dG9QbGF5PSEhdH0sZ2V0UGxheVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm9wdGlvbi5hdXRvUGxheX0sX2luaXREYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT10LmRhdGF8fFtdLGk9dC5heGlzVHlwZSxuPXRoaXMuX25hbWVzPVtdO2lmKFwiY2F0ZWdvcnlcIj09PWkpe3ZhciBzPVtdO2EuZWFjaChlLGZ1bmN0aW9uKHQsZSl7dmFyIGksbz1yLmdldERhdGFJdGVtVmFsdWUodCk7YS5pc09iamVjdCh0KT8oaT1hLmNsb25lKHQpLGkudmFsdWU9ZSk6aT1lLHMucHVzaChpKSxhLmlzU3RyaW5nKG8pfHxudWxsIT1vJiYhaXNOYU4obyl8fChvPVwiXCIpLG4ucHVzaChvK1wiXCIpfSksZT1zfXZhciBsPXtjYXRlZ29yeTpcIm9yZGluYWxcIix0aW1lOlwidGltZVwifVtpXXx8XCJudW1iZXJcIixoPXRoaXMuX2RhdGE9bmV3IG8oW3tuYW1lOlwidmFsdWVcIix0eXBlOmx9XSx0aGlzKTtoLmluaXREYXRhKGUsbil9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sZ2V0Q2F0ZWdvcmllczpmdW5jdGlvbigpe3JldHVyblwiY2F0ZWdvcnlcIj09PXRoaXMuZ2V0KFwiYXhpc1R5cGVcIik/dGhpcy5fbmFtZXMuc2xpY2UoKTp2b2lkIDB9fSk7dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDU0KTt0LmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJ0aW1lbGluZVwifSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXQudHlwZSxpPXtudW1iZXI6XCJ2YWx1ZVwiLHRpbWU6XCJ0aW1lXCJ9O2lmKGlbZV0mJih0LmF4aXNUeXBlPWlbZV0sZGVsZXRlIHQudHlwZSksbyh0KSxhKHQsXCJjb250cm9sUG9zaXRpb25cIikpe3ZhciBuPXQuY29udHJvbFN0eWxlfHwodC5jb250cm9sU3R5bGU9e30pO2EobixcInBvc2l0aW9uXCIpfHwobi5wb3NpdGlvbj10LmNvbnRyb2xQb3NpdGlvbiksXCJub25lXCIhPT1uLnBvc2l0aW9ufHxhKG4sXCJzaG93XCIpfHwobi5zaG93PSExLGRlbGV0ZSBuLnBvc2l0aW9uKSxkZWxldGUgdC5jb250cm9sUG9zaXRpb259ci5lYWNoKHQuZGF0YXx8W10sZnVuY3Rpb24odCl7ci5pc09iamVjdCh0KSYmIXIuaXNBcnJheSh0KSYmKCFhKHQsXCJ2YWx1ZVwiKSYmYSh0LFwibmFtZVwiKSYmKHQudmFsdWU9dC5uYW1lKSxvKHQpKX0pfWZ1bmN0aW9uIG8odCl7dmFyIGU9dC5pdGVtU3R5bGV8fCh0Lml0ZW1TdHlsZT17fSksaT1lLmVtcGhhc2lzfHwoZS5lbXBoYXNpcz17fSksbj10LmxhYmVsfHx0LmxhYmVsfHx7fSxvPW4ubm9ybWFsfHwobi5ub3JtYWw9e30pLHM9e25vcm1hbDoxLGVtcGhhc2lzOjF9O3IuZWFjaChuLGZ1bmN0aW9uKHQsZSl7c1tlXXx8YShvLGUpfHwob1tlXT10KX0pLGkubGFiZWwmJiFhKG4sXCJlbXBoYXNpc1wiKSYmKG4uZW1waGFzaXM9aS5sYWJlbCxkZWxldGUgaS5sYWJlbCl9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfXZhciByPWkoMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQudGltZWxpbmU7ci5pc0FycmF5KGUpfHwoZT1lP1tlXTpbXSksci5lYWNoKGUsZnVuY3Rpb24odCl7dCYmbih0KX0pfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMik7bi5yZWdpc3RlckFjdGlvbih7dHlwZTpcInRpbWVsaW5lQ2hhbmdlXCIsZXZlbnQ6XCJ0aW1lbGluZUNoYW5nZWRcIix1cGRhdGU6XCJwcmVwYXJlQW5kVXBkYXRlXCJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRDb21wb25lbnQoXCJ0aW1lbGluZVwiKTtpJiZudWxsIT10LmN1cnJlbnRJbmRleCYmKGkuc2V0Q3VycmVudEluZGV4KHQuY3VycmVudEluZGV4KSwhaS5nZXQoXCJsb29wXCIsITApJiZpLmlzSW5kZXhNYXgoKSYmaS5zZXRQbGF5U3RhdGUoITEpKSxlLnJlc2V0T3B0aW9uKFwidGltZWxpbmVcIil9KSxuLnJlZ2lzdGVyQWN0aW9uKHt0eXBlOlwidGltZWxpbmVQbGF5Q2hhbmdlXCIsZXZlbnQ6XCJ0aW1lbGluZVBsYXlDaGFuZ2VkXCIsdXBkYXRlOlwidXBkYXRlXCJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRDb21wb25lbnQoXCJ0aW1lbGluZVwiKTtpJiZudWxsIT10LnBsYXlTdGF0ZSYmaS5zZXRQbGF5U3RhdGUodC5wbGF5U3RhdGUpfSl9LGZ1bmN0aW9uKHQsZSxpKXtpKDEwKS5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoXCJ0aW1lbGluZVwiLGZ1bmN0aW9uKCl7cmV0dXJuXCJzbGlkZXJcIn0pfSxmdW5jdGlvbih0LGUsaSl7aSgzMjYpLGkoMzI3KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjE1KSxvPWkoMSksYT1pKDQpLHI9WzIwLDE0MF0scz1uLmV4dGVuZCh7dHlwZTpcInZpc3VhbE1hcC5jb250aW51b3VzXCIsZGVmYXVsdE9wdGlvbjp7YWxpZ246XCJhdXRvXCIsY2FsY3VsYWJsZTohMSxyYW5nZTpudWxsLHJlYWx0aW1lOiEwLGl0ZW1IZWlnaHQ6bnVsbCxpdGVtV2lkdGg6bnVsbCxob3Zlckxpbms6ITB9LGRvTWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXtzLnN1cGVyQXBwbHkodGhpcyxcImRvTWVyZ2VPcHRpb25cIixhcmd1bWVudHMpLHRoaXMucmVzZXRUYXJnZXRTZXJpZXModCxlKSx0aGlzLnJlc2V0RXh0ZW50KCksdGhpcy5yZXNldFZpc3VhbChmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9XCJsaW5lYXJcIn0pLHRoaXMuX3Jlc2V0UmFuZ2UoKX0scmVzZXRJdGVtU2l6ZTpmdW5jdGlvbigpe24ucHJvdG90eXBlLnJlc2V0SXRlbVNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB0PXRoaXMuaXRlbVNpemU7XCJob3Jpem9udGFsXCI9PT10aGlzLl9vcmllbnQmJnQucmV2ZXJzZSgpLChudWxsPT10WzBdfHxpc05hTih0WzBdKSkmJih0WzBdPXJbMF0pLChudWxsPT10WzFdfHxpc05hTih0WzFdKSkmJih0WzFdPXJbMV0pfSxfcmVzZXRSYW5nZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT10aGlzLm9wdGlvbi5yYW5nZTshZXx8ZS5hdXRvPyh0LmF1dG89MSx0aGlzLm9wdGlvbi5yYW5nZT10KTpvLmlzQXJyYXkoZSkmJihlWzBdPmVbMV0mJmUucmV2ZXJzZSgpLGVbMF09TWF0aC5tYXgoZVswXSx0WzBdKSxlWzFdPU1hdGgubWluKGVbMV0sdFsxXSkpfSxjb21wbGV0ZVZpc3VhbE9wdGlvbjpmdW5jdGlvbigpe24ucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvLmVhY2godGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uY29udHJvbGxlclt0XS5zeW1ib2xTaXplO2UmJmVbMF0hPT1lWzFdJiYoZVswXT0wKX0sdGhpcyl9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnJhbmdlPXQuc2xpY2UoKSx0aGlzLl9yZXNldFJhbmdlKCl9LGdldFNlbGVjdGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRlbnQoKSxlPWEuYXNjKCh0aGlzLmdldChcInJhbmdlXCIpfHxbXSkuc2xpY2UoKSk7cmV0dXJuIGVbMF0+dFsxXSYmKGVbMF09dFsxXSksZVsxXT50WzFdJiYoZVsxXT10WzFdKSxlWzBdPHRbMF0mJihlWzBdPXRbMF0pLGVbMV08dFswXSYmKGVbMV09dFswXSksZX0sZ2V0VmFsdWVTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5yYW5nZSxpPXRoaXMuZ2V0RXh0ZW50KCk7cmV0dXJuKGVbMF08PWlbMF18fGVbMF08PXQpJiYoZVsxXT49aVsxXXx8dDw9ZVsxXSk/XCJpblJhbmdlXCI6XCJvdXRPZlJhbmdlXCJ9LGZpbmRUYXJnZXREYXRhSW5kaWNlczpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKGZ1bmN0aW9uKGkpe3ZhciBuPVtdLG89aS5nZXREYXRhKCk7by5lYWNoKHRoaXMuZ2V0RGF0YURpbWVuc2lvbihvKSxmdW5jdGlvbihlLGkpe3RbMF08PWUmJmU8PXRbMV0mJm4ucHVzaChpKX0sITAsdGhpcyksZS5wdXNoKHtzZXJpZXNJZDppLmlkLGRhdGFJbmRpY2VzOm59KX0sdGhpcyksZX19KTt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkpe3JldHVybiBuZXcgcy5Qb2x5Z29uKHtzaGFwZTp7cG9pbnRzOnR9LGRyYWdnYWJsZTohIWUsY3Vyc29yOmksZHJpZnQ6ZX0pfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gMD09PXQ/W1swLDBdLFtlLDBdLFtlLC1lXV06W1swLDBdLFtlLDBdLFtlLGVdXX1mdW5jdGlvbiBhKHQsZSxpKXtyZXR1cm4gdD9bWzAsLW0oeSx2KGUsMCkpXSxbeCwwXSxbMCxtKHksdihpLWUsMCkpXV06W1swLDBdLFs1LC01XSxbNSw1XV19dmFyIHI9aSgyMTYpLHM9aSgzKSxsPWkoMSksaD1pKDQpLHU9aSg3MSksYz1pKDc2KSxkPWkoMjE3KSxmPWgubGluZWFyTWFwLHA9ZC5jb252ZXJ0RGF0YUluZGljZXNUb0JhdGNoLGc9bC5lYWNoLG09TWF0aC5taW4sdj1NYXRoLm1heCx5PTYseD02LF89ci5leHRlbmQoe3R5cGU6XCJ2aXN1YWxNYXAuY29udGludW91c1wiLGluaXQ6ZnVuY3Rpb24oKXtyLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zaGFwZXM9e30sdGhpcy5fZGF0YUludGVydmFsPVtdLHRoaXMuX2hhbmRsZUVuZHM9W10sdGhpcy5fb3JpZW50LHRoaXMuX3VzZUhhbmRsZSx0aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1bXX0sZG9SZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7biYmXCJzZWxlY3REYXRhUmFuZ2VcIj09PW4udHlwZSYmbi5mcm9tPT09dGhpcy51aWQ/dGhpcy5fdXBkYXRlVmlldygpOnRoaXMuX2J1aWxkVmlldygpfSxfYnVpbGRWaWV3OmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dGhpcy5ncm91cDt0aGlzLl9vcmllbnQ9dC5nZXQoXCJvcmllbnRcIiksdGhpcy5fdXNlSGFuZGxlPXQuZ2V0KFwiY2FsY3VsYWJsZVwiKSx0aGlzLl9yZXNldEludGVydmFsKCksdGhpcy5fcmVuZGVyQmFyKGUpO3ZhciBpPXQuZ2V0KFwidGV4dFwiKTt0aGlzLl9yZW5kZXJFbmRzVGV4dChlLGksMCksdGhpcy5fcmVuZGVyRW5kc1RleHQoZSxpLDEpLHRoaXMuX3VwZGF0ZVZpZXcoITApLHRoaXMucmVuZGVyQmFja2dyb3VuZChlKSx0aGlzLl91cGRhdGVWaWV3KCksdGhpcy5fZW5hYmxlSG92ZXJMaW5rVG9TZXJpZXMoKSx0aGlzLl9lbmFibGVIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5wb3NpdGlvbkdyb3VwKGUpfSxfcmVuZGVyRW5kc1RleHQ6ZnVuY3Rpb24odCxlLGkpe2lmKGUpe3ZhciBuPWVbMS1pXTtuPW51bGwhPW4/bitcIlwiOlwiXCI7dmFyIG89dGhpcy52aXN1YWxNYXBNb2RlbCxhPW8uZ2V0KFwidGV4dEdhcFwiKSxyPW8uaXRlbVNpemUsbD10aGlzLl9zaGFwZXMuYmFyR3JvdXAsaD10aGlzLl9hcHBseVRyYW5zZm9ybShbclswXS8yLDA9PT1pPy1hOnJbMV0rYV0sbCksdT10aGlzLl9hcHBseVRyYW5zZm9ybSgwPT09aT9cImJvdHRvbVwiOlwidG9wXCIsbCksYz10aGlzLl9vcmllbnQsZD10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsO1xudGhpcy5ncm91cC5hZGQobmV3IHMuVGV4dCh7c3R5bGU6e3g6aFswXSx5OmhbMV0sdGV4dFZlcnRpY2FsQWxpZ246XCJob3Jpem9udGFsXCI9PT1jP1wibWlkZGxlXCI6dSx0ZXh0QWxpZ246XCJob3Jpem9udGFsXCI9PT1jP3U6XCJjZW50ZXJcIix0ZXh0Om4sdGV4dEZvbnQ6ZC5nZXRGb250KCksZmlsbDpkLmdldFRleHRDb2xvcigpfX0pKX19LF9yZW5kZXJCYXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuX3NoYXBlcyxvPWUuaXRlbVNpemUsYT10aGlzLl9vcmllbnQscj10aGlzLl91c2VIYW5kbGUscz1kLmdldEl0ZW1BbGlnbihlLHRoaXMuYXBpLG8pLGg9aS5iYXJHcm91cD10aGlzLl9jcmVhdGVCYXJHcm91cChzKTtoLmFkZChpLm91dE9mUmFuZ2U9bigpKSxoLmFkZChpLmluUmFuZ2U9bihudWxsLGwuYmluZCh0aGlzLl9tb2RpZnlIYW5kbGUsdGhpcyxcImFsbFwiKSxyP1wibW92ZVwiOm51bGwpKTt2YXIgdT1lLnRleHRTdHlsZU1vZGVsLmdldFRleHRSZWN0KFwi5Zu9XCIpLGM9TWF0aC5tYXgodS53aWR0aCx1LmhlaWdodCk7ciYmKGkuaGFuZGxlVGh1bWJzPVtdLGkuaGFuZGxlTGFiZWxzPVtdLGkuaGFuZGxlTGFiZWxQb2ludHM9W10sdGhpcy5fY3JlYXRlSGFuZGxlKGgsMCxvLGMsYSxzKSx0aGlzLl9jcmVhdGVIYW5kbGUoaCwxLG8sYyxhLHMpKSx0aGlzLl9jcmVhdGVJbmRpY2F0b3IoaCxvLGMsYSksdC5hZGQoaCl9LF9jcmVhdGVIYW5kbGU6ZnVuY3Rpb24odCxlLGksYSxyKXt2YXIgaD1sLmJpbmQodGhpcy5fbW9kaWZ5SGFuZGxlLHRoaXMsZSksdT1uKG8oZSxhKSxoLFwibW92ZVwiKTt1LnBvc2l0aW9uWzBdPWlbMF0sdC5hZGQodSk7dmFyIGM9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxkPW5ldyBzLlRleHQoe2RyYWdnYWJsZTohMCxkcmlmdDpoLHN0eWxlOnt4OjAseTowLHRleHQ6XCJcIix0ZXh0Rm9udDpjLmdldEZvbnQoKSxmaWxsOmMuZ2V0VGV4dENvbG9yKCl9fSk7dGhpcy5ncm91cC5hZGQoZCk7dmFyIGY9W1wiaG9yaXpvbnRhbFwiPT09cj9hLzI6MS41KmEsXCJob3Jpem9udGFsXCI9PT1yPzA9PT1lPy0oMS41KmEpOjEuNSphOjA9PT1lPy1hLzI6YS8yXSxwPXRoaXMuX3NoYXBlcztwLmhhbmRsZVRodW1ic1tlXT11LHAuaGFuZGxlTGFiZWxQb2ludHNbZV09ZixwLmhhbmRsZUxhYmVsc1tlXT1kfSxfY3JlYXRlSW5kaWNhdG9yOmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBhPW4oW1swLDBdXSxudWxsLFwibW92ZVwiKTthLnBvc2l0aW9uWzBdPWVbMF0sYS5hdHRyKHtpbnZpc2libGU6ITAsc2lsZW50OiEwfSksdC5hZGQoYSk7dmFyIHI9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxsPW5ldyBzLlRleHQoe3NpbGVudDohMCxpbnZpc2libGU6ITAsc3R5bGU6e3g6MCx5OjAsdGV4dDpcIlwiLHRleHRGb250OnIuZ2V0Rm9udCgpLGZpbGw6ci5nZXRUZXh0Q29sb3IoKX19KTt0aGlzLmdyb3VwLmFkZChsKTt2YXIgaD1bXCJob3Jpem9udGFsXCI9PT1vP2kvMjp4KzMsMF0sdT10aGlzLl9zaGFwZXM7dS5pbmRpY2F0b3I9YSx1LmluZGljYXRvckxhYmVsPWwsdS5pbmRpY2F0b3JMYWJlbFBvaW50PWh9LF9tb2RpZnlIYW5kbGU6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuX3VzZUhhbmRsZSl7dmFyIG49dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW2UsaV0sdGhpcy5fc2hhcGVzLmJhckdyb3VwLCEwKTt0aGlzLl91cGRhdGVJbnRlcnZhbCh0LG5bMV0pLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwic2VsZWN0RGF0YVJhbmdlXCIsZnJvbTp0aGlzLnVpZCx2aXN1YWxNYXBJZDp0aGlzLnZpc3VhbE1hcE1vZGVsLmlkLHNlbGVjdGVkOnRoaXMuX2RhdGFJbnRlcnZhbC5zbGljZSgpfSl9fSxfcmVzZXRJbnRlcnZhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLl9kYXRhSW50ZXJ2YWw9dC5nZXRTZWxlY3RlZCgpLGk9dC5nZXRFeHRlbnQoKSxuPVswLHQuaXRlbVNpemVbMV1dO3RoaXMuX2hhbmRsZUVuZHM9W2YoZVswXSxpLG4sITApLGYoZVsxXSxpLG4sITApXX0sX3VwZGF0ZUludGVydmFsOmZ1bmN0aW9uKHQsZSl7ZT1lfHwwO3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWwsbj10aGlzLl9oYW5kbGVFbmRzO3UoZSxuLFswLGkuaXRlbVNpemVbMV1dLFwiYWxsXCI9PT10P1wicmlnaWRcIjpcInB1c2hcIix0KTt2YXIgbz1pLmdldEV4dGVudCgpLGE9WzAsaS5pdGVtU2l6ZVsxXV07dGhpcy5fZGF0YUludGVydmFsPVtmKG5bMF0sYSxvLCEwKSxmKG5bMV0sYSxvLCEwKV19LF91cGRhdGVWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT1lLmdldEV4dGVudCgpLG49dGhpcy5fc2hhcGVzLG89WzAsZS5pdGVtU2l6ZVsxXV0sYT10P286dGhpcy5faGFuZGxlRW5kcyxyPXRoaXMuX2NyZWF0ZUJhclZpc3VhbCh0aGlzLl9kYXRhSW50ZXJ2YWwsaSxhLFwiaW5SYW5nZVwiKSxzPXRoaXMuX2NyZWF0ZUJhclZpc3VhbChpLGksbyxcIm91dE9mUmFuZ2VcIik7bi5pblJhbmdlLnNldFN0eWxlKHtmaWxsOnIuYmFyQ29sb3Isb3BhY2l0eTpyLm9wYWNpdHl9KS5zZXRTaGFwZShcInBvaW50c1wiLHIuYmFyUG9pbnRzKSxuLm91dE9mUmFuZ2Uuc2V0U3R5bGUoe2ZpbGw6cy5iYXJDb2xvcixvcGFjaXR5OnMub3BhY2l0eX0pLnNldFNoYXBlKFwicG9pbnRzXCIscy5iYXJQb2ludHMpLHRoaXMuX3VwZGF0ZUhhbmRsZShhLHIpfSxfY3JlYXRlQmFyVmlzdWFsOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXtmb3JjZVN0YXRlOm4sY29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxhPXRoaXMuX21ha2VDb2xvckdyYWRpZW50KHQsbykscj1bdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sXCJzeW1ib2xTaXplXCIsbyksdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMV0sXCJzeW1ib2xTaXplXCIsbyldLHM9dGhpcy5fY3JlYXRlQmFyUG9pbnRzKGkscik7cmV0dXJue2JhckNvbG9yOm5ldyBjKDAsMCwxLDEsYSksYmFyUG9pbnRzOnMsaGFuZGxlc0NvbG9yOlthWzBdLmNvbG9yLGFbYS5sZW5ndGgtMV0uY29sb3JdfX0sX21ha2VDb2xvckdyYWRpZW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9MTAwLG49W10sbz0odFsxXS10WzBdKS9pO24ucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sXCJjb2xvclwiLGUpLG9mZnNldDowfSk7Zm9yKHZhciBhPTE7aT5hO2ErKyl7dmFyIHI9dFswXStvKmE7aWYocj50WzFdKWJyZWFrO24ucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHIsXCJjb2xvclwiLGUpLG9mZnNldDphL2l9KX1yZXR1cm4gbi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFsxXSxcImNvbG9yXCIsZSksb2Zmc2V0OjF9KSxufSxfY3JlYXRlQmFyUG9pbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52aXN1YWxNYXBNb2RlbC5pdGVtU2l6ZTtyZXR1cm5bW2lbMF0tZVswXSx0WzBdXSxbaVswXSx0WzBdXSxbaVswXSx0WzFdXSxbaVswXS1lWzFdLHRbMV1dXX0sX2NyZWF0ZUJhckdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29yaWVudCxpPXRoaXMudmlzdWFsTWFwTW9kZWwuZ2V0KFwiaW52ZXJzZVwiKTtyZXR1cm4gbmV3IHMuR3JvdXAoXCJob3Jpem9udGFsXCIhPT1lfHxpP1wiaG9yaXpvbnRhbFwiPT09ZSYmaT97c2NhbGU6XCJib3R0b21cIj09PXQ/Wy0xLDFdOlsxLDFdLHJvdGF0aW9uOi1NYXRoLlBJLzJ9OlwidmVydGljYWxcIiE9PWV8fGk/e3NjYWxlOlwibGVmdFwiPT09dD9bMSwxXTpbLTEsMV19OntzY2FsZTpcImxlZnRcIj09PXQ/WzEsLTFdOlstMSwtMV19OntzY2FsZTpcImJvdHRvbVwiPT09dD9bMSwxXTpbLTEsMV0scm90YXRpb246TWF0aC5QSS8yfSl9LF91cGRhdGVIYW5kbGU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl91c2VIYW5kbGUpe3ZhciBpPXRoaXMuX3NoYXBlcyxuPXRoaXMudmlzdWFsTWFwTW9kZWwsbz1pLmhhbmRsZVRodW1icyxhPWkuaGFuZGxlTGFiZWxzO2coWzAsMV0sZnVuY3Rpb24ocil7dmFyIGw9b1tyXTtsLnNldFN0eWxlKFwiZmlsbFwiLGUuaGFuZGxlc0NvbG9yW3JdKSxsLnBvc2l0aW9uWzFdPXRbcl07dmFyIGg9cy5hcHBseVRyYW5zZm9ybShpLmhhbmRsZUxhYmVsUG9pbnRzW3JdLHMuZ2V0VHJhbnNmb3JtKGwsdGhpcy5ncm91cCkpO2Fbcl0uc2V0U3R5bGUoe3g6aFswXSx5OmhbMV0sdGV4dDpuLmZvcm1hdFZhbHVlVGV4dCh0aGlzLl9kYXRhSW50ZXJ2YWxbcl0pLHRleHRWZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsdGV4dEFsaWduOnRoaXMuX2FwcGx5VHJhbnNmb3JtKFwiaG9yaXpvbnRhbFwiPT09dGhpcy5fb3JpZW50PzA9PT1yP1wiYm90dG9tXCI6XCJ0b3BcIjpcImxlZnRcIixpLmJhckdyb3VwKX0pfSx0aGlzKX19LF9zaG93SW5kaWNhdG9yOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWkuZ2V0RXh0ZW50KCksbz1pLml0ZW1TaXplLHI9WzAsb1sxXV0sbD1mKHQsbixyLCEwKSxoPXRoaXMuX3NoYXBlcyx1PWguaW5kaWNhdG9yO2lmKHUpe3UucG9zaXRpb25bMV09bCx1LmF0dHIoXCJpbnZpc2libGVcIiwhMSksdS5zZXRTaGFwZShcInBvaW50c1wiLGEoZSxsLG9bMV0pKTt2YXIgYz17Y29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxkPXRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0LFwiY29sb3JcIixjKTt1LnNldFN0eWxlKFwiZmlsbFwiLGQpO3ZhciBwPXMuYXBwbHlUcmFuc2Zvcm0oaC5pbmRpY2F0b3JMYWJlbFBvaW50LHMuZ2V0VHJhbnNmb3JtKHUsdGhpcy5ncm91cCkpLGc9aC5pbmRpY2F0b3JMYWJlbDtnLmF0dHIoXCJpbnZpc2libGVcIiwhMSk7dmFyIG09dGhpcy5fYXBwbHlUcmFuc2Zvcm0oXCJsZWZ0XCIsaC5iYXJHcm91cCksdj10aGlzLl9vcmllbnQ7Zy5zZXRTdHlsZSh7dGV4dDooZT9cIuKJiFwiOlwiXCIpK2kuZm9ybWF0VmFsdWVUZXh0KHQpLHRleHRWZXJ0aWNhbEFsaWduOlwiaG9yaXpvbnRhbFwiPT09dj9tOlwibWlkZGxlXCIsdGV4dEFsaWduOlwiaG9yaXpvbnRhbFwiPT09dj9cImNlbnRlclwiOm0seDpwWzBdLHk6cFsxXX0pfX0sX2VuYWJsZUhvdmVyTGlua1RvU2VyaWVzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLGk9ZS5pdGVtU2l6ZTtpZihlLm9wdGlvbi5ob3Zlckxpbmspe3ZhciBuPXRoaXMuX2FwcGx5VHJhbnNmb3JtKFt0Lm9mZnNldFgsdC5vZmZzZXRZXSx0aGlzLl9zaGFwZXMuYmFyR3JvdXAsITAsITApLG89W25bMV0teS8yLG5bMV0reS8yXSxhPVswLGlbMV1dLHI9ZS5nZXRFeHRlbnQoKSxzPVtmKG9bMF0sYSxyLCEwKSxmKG9bMV0sYSxyLCEwKV07MDw9blswXSYmblswXTw9aVswXSYmdGhpcy5fc2hvd0luZGljYXRvcigoc1swXStzWzFdKS8yLCEwKTt2YXIgbD1wKHRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzKTt0aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1lLmZpbmRUYXJnZXREYXRhSW5kaWNlcyhzKTt2YXIgaD1wKHRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzKSx1PWQucmVtb3ZlRHVwbGljYXRlQmF0Y2gobCxoKTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcImRvd25wbGF5XCIsYmF0Y2g6dVswXX0pLHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOlwiaGlnaGxpZ2h0XCIsYmF0Y2g6dVsxXX0pfX10aGlzLl9zaGFwZXMuYmFyR3JvdXAub24oXCJtb3VzZW1vdmVcIixsLmJpbmQodCx0aGlzKSkub24oXCJtb3VzZW91dFwiLGwuYmluZCh0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzLHRoaXMpKX0sX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFwaS5nZXRacigpO3RoaXMudmlzdWFsTWFwTW9kZWwub3B0aW9uLmhvdmVyTGluaz8odC5vbihcIm1vdXNlb3ZlclwiLHRoaXMuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXIsdGhpcyksdC5vbihcIm1vdXNlb3V0XCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LF9ob3ZlckxpbmtGcm9tU2VyaWVzTW91c2VPdmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0O2lmKGUmJm51bGwhPWUuZGF0YUluZGV4KXt2YXIgaT1lLmRhdGFNb2RlbHx8dGhpcy5lY01vZGVsLmdldFNlcmllc0J5SW5kZXgoZS5zZXJpZXNJbmRleCksbj1pLmdldERhdGEoZS5kYXRhVHlwZSksbz1uLmdldERpbWVuc2lvbih0aGlzLnZpc3VhbE1hcE1vZGVsLmdldERhdGFEaW1lbnNpb24obikpLGE9bi5nZXQobyxlLmRhdGFJbmRleCwhMCk7dGhpcy5fc2hvd0luZGljYXRvcihhKX19LF9oaWRlSW5kaWNhdG9yOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2hhcGVzO3QuaW5kaWNhdG9yJiZ0LmluZGljYXRvci5hdHRyKFwiaW52aXNpYmxlXCIsITApLHQuaW5kaWNhdG9yTGFiZWwmJnQuaW5kaWNhdG9yTGFiZWwuYXR0cihcImludmlzaWJsZVwiLCEwKX0sX2NsZWFySG92ZXJMaW5rVG9TZXJpZXM6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlSW5kaWNhdG9yKCk7dmFyIHQ9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXM7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6XCJkb3ducGxheVwiLGJhdGNoOnAodCl9KSx0Lmxlbmd0aD0wfSxfY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUluZGljYXRvcigpO3ZhciB0PXRoaXMuYXBpLmdldFpyKCk7dC5vZmYoXCJtb3VzZW92ZXJcIix0aGlzLl9ob3ZlckxpbmtGcm9tU2VyaWVzTW91c2VPdmVyKSx0Lm9mZihcIm1vdXNlb3V0XCIsdGhpcy5faGlkZUluZGljYXRvcil9LF9hcHBseVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1zLmdldFRyYW5zZm9ybShlLG4/bnVsbDp0aGlzLmdyb3VwKTtyZXR1cm4gc1tsLmlzQXJyYXkodCk/XCJhcHBseVRyYW5zZm9ybVwiOlwidHJhbnNmb3JtRGlyZWN0aW9uXCJdKHQsbyxpKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfX0pO3QuZXhwb3J0cz1ffSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3ZhciBpPXQuaW52ZXJzZTsoXCJ2ZXJ0aWNhbFwiPT09dC5vcmllbnQ/IWk6aSkmJmUucmV2ZXJzZSgpfXZhciBvPWkoMjE1KSxhPWkoMSkscj1pKDczKSxzPW8uZXh0ZW5kKHt0eXBlOlwidmlzdWFsTWFwLnBpZWNld2lzZVwiLGRlZmF1bHRPcHRpb246e3NlbGVjdGVkOm51bGwsYWxpZ246XCJhdXRvXCIsaXRlbVdpZHRoOjIwLGl0ZW1IZWlnaHQ6MTQsaXRlbVN5bWJvbDpcInJvdW5kUmVjdFwiLHBpZWNlTGlzdDpudWxsLGNhdGVnb3JpZXM6bnVsbCxzcGxpdE51bWJlcjo1LHNlbGVjdGVkTW9kZTpcIm11bHRpcGxlXCIsaXRlbUdhcDoxMCxob3Zlckxpbms6ITB9LGRvTWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXtzLnN1cGVyQXBwbHkodGhpcyxcImRvTWVyZ2VPcHRpb25cIixhcmd1bWVudHMpLHRoaXMuX3BpZWNlTGlzdD1bXSx0aGlzLnJlc2V0VGFyZ2V0U2VyaWVzKHQsZSksdGhpcy5yZXNldEV4dGVudCgpO3ZhciBpPXRoaXMuX21vZGU9dGhpcy5fZGVjaWRlTW9kZSgpO2xbdGhpcy5fbW9kZV0uY2FsbCh0aGlzKSx0aGlzLl9yZXNldFNlbGVjdGVkKHQsZSk7dmFyIG49dGhpcy5vcHRpb24uY2F0ZWdvcmllczt0aGlzLnJlc2V0VmlzdWFsKGZ1bmN0aW9uKHQsZSl7XCJjYXRlZ29yaWVzXCI9PT1pPyh0Lm1hcHBpbmdNZXRob2Q9XCJjYXRlZ29yeVwiLHQuY2F0ZWdvcmllcz1hLmNsb25lKG4pKToodC5tYXBwaW5nTWV0aG9kPVwicGllY2V3aXNlXCIsdC5waWVjZUxpc3Q9YS5tYXAodGhpcy5fcGllY2VMaXN0LGZ1bmN0aW9uKHQpe3ZhciB0PWEuY2xvbmUodCk7cmV0dXJuXCJpblJhbmdlXCIhPT1lJiYodC52aXN1YWw9bnVsbCksdH0pKX0pfSxfcmVzZXRTZWxlY3RlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5fcGllY2VMaXN0LG89KGU/aTp0KS5zZWxlY3RlZHx8e307aWYoaS5zZWxlY3RlZD1vLGEuZWFjaChuLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRTZWxlY3RlZE1hcEtleSh0KTtpIGluIG98fChvW2ldPSEwKX0sdGhpcyksXCJzaW5nbGVcIj09PWkuc2VsZWN0ZWRNb2RlKXt2YXIgcj0hMTthLmVhY2gobixmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7b1tpXSYmKHI/b1tpXT0hMTpyPSEwKX0sdGhpcyl9fSxnZXRTZWxlY3RlZE1hcEtleTpmdW5jdGlvbih0KXtyZXR1cm5cImNhdGVnb3JpZXNcIj09PXRoaXMuX21vZGU/dC52YWx1ZStcIlwiOnQuaW5kZXgrXCJcIn0sZ2V0UGllY2VMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpZWNlTGlzdH0sX2RlY2lkZU1vZGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gdC5waWVjZXMmJnQucGllY2VzLmxlbmd0aD4wP1wicGllY2VzXCI6dGhpcy5vcHRpb24uY2F0ZWdvcmllcz9cImNhdGVnb3JpZXNcIjpcInNwbGl0TnVtYmVyXCJ9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnNlbGVjdGVkPWEuY2xvbmUodCl9LGdldFZhbHVlU3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9ci5maW5kUGllY2VJbmRleCh0LHRoaXMuX3BpZWNlTGlzdCk7cmV0dXJuIG51bGwhPWUmJnRoaXMub3B0aW9uLnNlbGVjdGVkW3RoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodGhpcy5fcGllY2VMaXN0W2VdKV0/XCJpblJhbmdlXCI6XCJvdXRPZlJhbmdlXCJ9LGZpbmRUYXJnZXREYXRhSW5kaWNlczpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKGZ1bmN0aW9uKGkpe3ZhciBuPVtdLG89aS5nZXREYXRhKCk7by5lYWNoKHRoaXMuZ2V0RGF0YURpbWVuc2lvbihvKSxmdW5jdGlvbihlLGkpe3ZhciBvPXIuZmluZFBpZWNlSW5kZXgoZSx0aGlzLl9waWVjZUxpc3QpO289PT10JiZuLnB1c2goaSl9LCEwLHRoaXMpLGUucHVzaCh7c2VyaWVzSWQ6aS5pZCxkYXRhSW5kaWNlczpufSl9LHRoaXMpLGV9fSksbD17c3BsaXROdW1iZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPXQucHJlY2lzaW9uLGk9dGhpcy5nZXRFeHRlbnQoKSxuPXQuc3BsaXROdW1iZXI7bj1NYXRoLm1heChwYXJzZUludChuLDEwKSwxKSx0LnNwbGl0TnVtYmVyPW47Zm9yKHZhciBvPShpWzFdLWlbMF0pL247K28udG9GaXhlZChlKSE9PW8mJjU+ZTspZSsrO3QucHJlY2lzaW9uPWUsbz0rby50b0ZpeGVkKGUpO2Zvcih2YXIgYT0wLHI9aVswXTtuPmE7YSsrLHIrPW8pe3ZhciBzPWE9PT1uLTE/aVsxXTpyK287dGhpcy5fcGllY2VMaXN0LnB1c2goe3RleHQ6dGhpcy5mb3JtYXRWYWx1ZVRleHQoW3Isc10pLGluZGV4OmEsaW50ZXJ2YWw6W3Isc119KX19LGNhdGVnb3JpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjthLmVhY2godC5jYXRlZ29yaWVzLGZ1bmN0aW9uKHQpe3RoaXMuX3BpZWNlTGlzdC5wdXNoKHt0ZXh0OnRoaXMuZm9ybWF0VmFsdWVUZXh0KHQsITApLHZhbHVlOnR9KX0sdGhpcyksbih0LHRoaXMuX3BpZWNlTGlzdCl9LHBpZWNlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO2EuZWFjaCh0LnBpZWNlcyxmdW5jdGlvbih0LGUpe2EuaXNPYmplY3QodCl8fCh0PXt2YWx1ZTp0fSk7dmFyIGksbj17dGV4dDpcIlwiLGluZGV4OmV9O2lmKG51bGwhPXQubGFiZWwmJihuLnRleHQ9dC5sYWJlbCxpPSEwKSx0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIikpbi52YWx1ZT10LnZhbHVlLGl8fChuLnRleHQ9dGhpcy5mb3JtYXRWYWx1ZVRleHQobi52YWx1ZSkpO2Vsc2V7dmFyIG89dC5taW4scz10Lm1heDtudWxsPT1vJiYobz0tKDEvMCkpLG51bGw9PXMmJihzPTEvMCksbz09PXMmJihuLnZhbHVlPW8pLG4uaW50ZXJ2YWw9W28sc10saXx8KG4udGV4dD10aGlzLmZvcm1hdFZhbHVlVGV4dChbbyxzXSkpfW4udmlzdWFsPXIucmV0cmlldmVWaXN1YWxzKHQpLHRoaXMuX3BpZWNlTGlzdC5wdXNoKG4pfSx0aGlzKSxuKHQsdGhpcy5fcGllY2VMaXN0KX19O3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgyMTYpLG89aSgxKSxhPWkoMykscj1pKDI1KSxzPWkoMTEpLGw9aSgyMTcpLGg9bi5leHRlbmQoe3R5cGU6XCJ2aXN1YWxNYXAucGllY2V3aXNlXCIsZG9SZW5kZXI6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBpPXQucGllY2Uscj1uZXcgYS5Hcm91cDtyLm9uY2xpY2s9by5iaW5kKHRoaXMuX29uSXRlbUNsaWNrLHRoaXMsaSksdGhpcy5fZW5hYmxlSG92ZXJMaW5rKHIsdC5pbmRleEluTW9kZWxQaWVjZUxpc3QpO3ZhciBzPXRoaXMuX2dldFJlcHJlc2VudFZhbHVlKGkpO2lmKHRoaXMuX2NyZWF0ZUl0ZW1TeW1ib2wocixzLFswLDAsY1swXSxjWzFdXSksZil7dmFyIGQ9dGhpcy52aXN1YWxNYXBNb2RlbC5nZXRWYWx1ZVN0YXRlKHMpO3IuYWRkKG5ldyBhLlRleHQoe3N0eWxlOnt4OlwicmlnaHRcIj09PXU/LW46Y1swXStuLHk6Y1sxXS8yLHRleHQ6aS50ZXh0LHRleHRWZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsdGV4dEFsaWduOnUsdGV4dEZvbnQ6bCxmaWxsOmgsb3BhY2l0eTpcIm91dE9mUmFuZ2VcIj09PWQ/LjU6MX19KSl9ZS5hZGQocil9dmFyIGU9dGhpcy5ncm91cDtlLnJlbW92ZUFsbCgpO3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1pLmdldChcInRleHRHYXBcIikscj1pLnRleHRTdHlsZU1vZGVsLGw9ci5nZXRGb250KCksaD1yLmdldFRleHRDb2xvcigpLHU9dGhpcy5fZ2V0SXRlbUFsaWduKCksYz1pLml0ZW1TaXplLGQ9dGhpcy5fZ2V0Vmlld0RhdGEoKSxmPSFkLmVuZHNUZXh0LHA9IWY7cCYmdGhpcy5fcmVuZGVyRW5kc1RleHQoZSxkLmVuZHNUZXh0WzBdLGMpLG8uZWFjaChkLnZpZXdQaWVjZUxpc3QsdCx0aGlzKSxwJiZ0aGlzLl9yZW5kZXJFbmRzVGV4dChlLGQuZW5kc1RleHRbMV0sYykscy5ib3goaS5nZXQoXCJvcmllbnRcIiksZSxpLmdldChcIml0ZW1HYXBcIikpLHRoaXMucmVuZGVyQmFja2dyb3VuZChlKSx0aGlzLnBvc2l0aW9uR3JvdXAoZSl9LF9lbmFibGVIb3Zlckxpbms6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWw7aS5vcHRpb24uaG92ZXJMaW5rJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTp0LGJhdGNoOmwuY29udmVydERhdGFJbmRpY2VzVG9CYXRjaChpLmZpbmRUYXJnZXREYXRhSW5kaWNlcyhlKSl9KX10Lm9uKFwibW91c2VvdmVyXCIsby5iaW5kKGksdGhpcyxcImhpZ2hsaWdodFwiKSkub24oXCJtb3VzZW91dFwiLG8uYmluZChpLHRoaXMsXCJkb3ducGxheVwiKSl9LF9nZXRJdGVtQWxpZ246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dC5vcHRpb247aWYoXCJ2ZXJ0aWNhbFwiPT09ZS5vcmllbnQpcmV0dXJuIGwuZ2V0SXRlbUFsaWduKHQsdGhpcy5hcGksdC5pdGVtU2l6ZSk7dmFyIGk9ZS5hbGlnbjtyZXR1cm4gaSYmXCJhdXRvXCIhPT1pfHwoaT1cImxlZnRcIiksaX0sX3JlbmRlckVuZHNUZXh0OmZ1bmN0aW9uKHQsZSxpKXtpZihlKXt2YXIgbj1uZXcgYS5Hcm91cCxvPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWw7bi5hZGQobmV3IGEuVGV4dCh7c3R5bGU6e3g6aVswXS8yLHk6aVsxXS8yLHRleHRWZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsdGV4dEFsaWduOlwiY2VudGVyXCIsdGV4dDplLHRleHRGb250Om8uZ2V0Rm9udCgpLGZpbGw6by5nZXRUZXh0Q29sb3IoKX19KSksdC5hZGQobil9fSxfZ2V0Vmlld0RhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9by5tYXAodC5nZXRQaWVjZUxpc3QoKSxmdW5jdGlvbih0LGUpe3JldHVybntwaWVjZTp0LGluZGV4SW5Nb2RlbFBpZWNlTGlzdDplfX0pLGk9dC5nZXQoXCJ0ZXh0XCIpLG49dC5nZXQoXCJvcmllbnRcIiksYT10LmdldChcImludmVyc2VcIik7cmV0dXJuKFwiaG9yaXpvbnRhbFwiPT09bj9hOiFhKT9lLnJldmVyc2UoKTppJiYoaT1pLnNsaWNlKCkucmV2ZXJzZSgpKSx7dmlld1BpZWNlTGlzdDplLGVuZHNUZXh0Oml9fSxfZ2V0UmVwcmVzZW50VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7aWYodGhpcy52aXN1YWxNYXBNb2RlbC5pc0NhdGVnb3J5KCkpZT10LnZhbHVlO2Vsc2UgaWYobnVsbCE9dC52YWx1ZSllPXQudmFsdWU7ZWxzZXt2YXIgaT10LmludGVydmFsfHxbXTtlPShpWzBdK2lbMV0pLzJ9cmV0dXJuIGV9LF9jcmVhdGVJdGVtU3ltYm9sOmZ1bmN0aW9uKHQsZSxpKXt0LmFkZChyLmNyZWF0ZVN5bWJvbCh0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSxcInN5bWJvbFwiKSxpWzBdLGlbMV0saVsyXSxpWzNdLHRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbChlLFwiY29sb3JcIikpKX0sX29uSXRlbUNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT1lLm9wdGlvbixuPW8uY2xvbmUoaS5zZWxlY3RlZCksYT1lLmdldFNlbGVjdGVkTWFwS2V5KHQpO1wic2luZ2xlXCI9PT1pLnNlbGVjdGVkTW9kZT8oblthXT0hMCxvLmVhY2gobixmdW5jdGlvbih0LGUpe25bZV09ZT09PWF9KSk6blthXT0hblthXSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTpcInNlbGVjdERhdGFSYW5nZVwiLGZyb206dGhpcy51aWQsdmlzdWFsTWFwSWQ6dGhpcy52aXN1YWxNYXBNb2RlbC5pZCxzZWxlY3RlZDpufSl9fSk7dC5leHBvcnRzPWh9LGZ1bmN0aW9uKHQsZSxpKXtpKDIpLnJlZ2lzdGVyUHJlcHJvY2Vzc29yKGkoMjE4KSksaSgyMTkpLGkoMjIwKSxpKDMyMiksaSgzMjMpLGkoMjIxKX0sZnVuY3Rpb24odCxlLGkpe2koMikucmVnaXN0ZXJQcmVwcm9jZXNzb3IoaSgyMTgpKSxpKDIxOSksaSgyMjApLGkoMzI0KSxpKDMyNSksaSgyMjEpfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSxuLG8pe3MuY2FsbCh0aGlzLHQpLHRoaXMubWFwPWUsdGhpcy5fbmFtZUNvb3JkTWFwPXt9LHRoaXMubG9hZEdlb0pzb24oaSxuLG8pfXZhciBvPWkoMzMzKSxhPWkoMSkscj1pKDgpLHM9aSgyMjIpLGw9W2koMzMxKSxpKDMzMiksaSgzMzApXTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bix0eXBlOlwiZ2VvXCIsZGltZW5zaW9uczpbXCJsbmdcIixcImxhdFwiXSxjb250YWluQ29vcmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5jb250YWluKHQpKXJldHVybiEwO3JldHVybiExfSxsb2FkR2VvSnNvbjpmdW5jdGlvbih0LGUsaSl7dHJ5e3RoaXMucmVnaW9ucz10P28odCk6W119Y2F0Y2gobil7dGhyb3dcIkludmFsaWQgZ2VvSnNvbiBmb3JtYXRcXG5cIitufWU9ZXx8e30saT1pfHx7fTtmb3IodmFyIHI9dGhpcy5yZWdpb25zLHM9e30saD0wO2g8ci5sZW5ndGg7aCsrKXt2YXIgdT1yW2hdLm5hbWU7dT1pW3VdfHx1LHJbaF0ubmFtZT11LHNbdV09cltoXSx0aGlzLmFkZEdlb0Nvb3JkKHUscltoXS5jZW50ZXIpO3ZhciBjPWVbdV07YyYmcltoXS50cmFuc2Zvcm1UbyhjLmxlZnQsYy50b3AsYy53aWR0aCxjLmhlaWdodCl9dGhpcy5fcmVnaW9uc01hcD1zLHRoaXMuX3JlY3Q9bnVsbCxhLmVhY2gobCxmdW5jdGlvbih0KXt0KHRoaXMpfSx0aGlzKX0sdHJhbnNmb3JtVG86ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5nZXRCb3VuZGluZ1JlY3QoKTtvPW8uY2xvbmUoKSxvLnk9LW8ueS1vLmhlaWdodDt2YXIgYT10aGlzLl92aWV3VHJhbnNmb3JtO2EudHJhbnNmb3JtPW8uY2FsY3VsYXRlVHJhbnNmb3JtKG5ldyByKHQsZSxpLG4pKSxhLmRlY29tcG9zZVRyYW5zZm9ybSgpO3ZhciBzPWEuc2NhbGU7c1sxXT0tc1sxXSxhLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX3VwZGF0ZVRyYW5zZm9ybSgpfSxnZXRSZWdpb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlZ2lvbnNNYXBbdF19LGdldFJlZ2lvbkJ5Q29vcmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5jb250YWluKHQpKXJldHVybiBlW2ldfSxhZGRHZW9Db29yZDpmdW5jdGlvbih0LGUpe3RoaXMuX25hbWVDb29yZE1hcFt0XT1lfSxnZXRHZW9Db29yZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbmFtZUNvb3JkTWFwW3RdfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtpZih0aGlzLl9yZWN0KXJldHVybiB0aGlzLl9yZWN0O2Zvcih2YXIgdCxlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV0uZ2V0Qm91bmRpbmdSZWN0KCk7dD10fHxuLmNsb25lKCksdC51bmlvbihuKX1yZXR1cm4gdGhpcy5fcmVjdD10fHxuZXcgcigwLDAsMCwwKX0sZGF0YVRvUG9pbnRzOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0Lm1hcEFycmF5KFtcImxuZ1wiLFwibGF0XCJdLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGVbMF09dCxlWzFdPWksdGhpcy5kYXRhVG9Qb2ludChlKX0sdGhpcyl9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10aGlzLmdldEdlb0Nvb3JkKHQpKSx0P3MucHJvdG90eXBlLmRhdGFUb1BvaW50LmNhbGwodGhpcyx0KTp2b2lkIDB9fSxhLm1peGluKG4scyksdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDcpLG89aSgxMCksYT1pKDEyKSxyPWkoMSkscz1pKDYxKSxsPWkoMTYyKSxoPW8uZXh0ZW5kKHt0eXBlOlwiZ2VvXCIsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGluaXQ6ZnVuY3Rpb24odCl7by5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi5kZWZhdWx0RW1waGFzaXModC5sYWJlbCxbXCJwb3NpdGlvblwiLFwic2hvd1wiLFwidGV4dFN0eWxlXCIsXCJkaXN0YW5jZVwiLFwiZm9ybWF0dGVyXCJdKX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dGhpczt0LnJlZ2lvbnM9bC5nZXRGaWxsZWRSZWdpb25zKHQucmVnaW9ucyx0Lm1hcCksdGhpcy5fb3B0aW9uTW9kZWxNYXA9ci5yZWR1Y2UodC5yZWdpb25zfHxbXSxmdW5jdGlvbih0LGkpe3JldHVybiBpLm5hbWUmJih0W2kubmFtZV09bmV3IGEoaSxlKSksdH0se30pLHRoaXMudXBkYXRlU2VsZWN0ZWRNYXAodC5yZWdpb25zKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejowLHNob3c6ITAsbGVmdDpcImNlbnRlclwiLHRvcDpcImNlbnRlclwiLG1hcDpcIlwiLGNlbnRlcjpudWxsLHpvb206MSxzY2FsZUxpbWl0Om51bGwsbGFiZWw6e25vcm1hbDp7c2hvdzohMSx0ZXh0U3R5bGU6e2NvbG9yOlwiIzAwMFwifX0sZW1waGFzaXM6e3Nob3c6ITAsdGV4dFN0eWxlOntjb2xvcjpcInJnYigxMDAsMCwwKVwifX19LGl0ZW1TdHlsZTp7bm9ybWFsOntib3JkZXJXaWR0aDouNSxib3JkZXJDb2xvcjpcIiM0NDRcIixjb2xvcjpcIiNlZWVcIn0sZW1waGFzaXM6e2NvbG9yOlwicmdiYSgyNTUsMjE1LDAsMC44KVwifX0scmVnaW9uczpbXX0sZ2V0UmVnaW9uTW9kZWw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29wdGlvbk1vZGVsTWFwW3RdfSxnZXRGb3JtYXR0ZWRMYWJlbDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0KFwibGFiZWwuXCIrZStcIi5mb3JtYXR0ZXJcIiksbj17bmFtZTp0fTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBpPyhuLnN0YXR1cz1lLGkobikpOlwic3RyaW5nXCI9PXR5cGVvZiBpP2kucmVwbGFjZShcInthfVwiLG4uc2VyaWVzTmFtZSk6dm9pZCAwfSxzZXRab29tOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fX0pO3IubWl4aW4oaCxzKSx0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz17UnVzc2lhOlsxMDAsNjBdLFwiVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhXCI6Wy05OSwzOF19O3QuZXhwb3J0cz1mdW5jdGlvbih0KXtuLmVhY2godC5yZWdpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPW9bdC5uYW1lXTtpZihlKXt2YXIgaT10LmNlbnRlcjtpWzBdPWVbMF0saVsxXT1lWzFdfX0pfX0sZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj1pKDIyMyksbz1bMTI2LDI1XSxhPVtbWzAsMy41XSxbNywxMS4yXSxbMTUsMTEuOV0sWzMwLDddLFs0MiwuN10sWzUyLC43XSxbNTYsNy43XSxbNTksLjddLFs2NCwuN10sWzY0LDBdLFs1LDBdLFswLDMuNV1dLFtbMTMsMTYuMV0sWzE5LDE0LjddLFsxNiwyMS43XSxbMTEsMjMuMV0sWzEzLDE2LjFdXSxbWzEyLDMyLjJdLFsxNCwzOC41XSxbMTUsMzguNV0sWzEzLDMyLjJdLFsxMiwzMi4yXV0sW1sxNiw0Ny42XSxbMTIsNTMuMl0sWzEzLDUzLjJdLFsxOCw0Ny42XSxbMTYsNDcuNl1dLFtbNiw2NC40XSxbOCw3MF0sWzksNzBdLFs4LDY0LjRdLFs2LDY0LjRdXSxbWzIzLDgyLjZdLFsyOSw3OS44XSxbMzAsNzkuOF0sWzI1LDgyLjZdLFsyMyw4Mi42XV0sW1szNyw3MC43XSxbNDMsNjIuM10sWzQ0LDYyLjNdLFszOSw3MC43XSxbMzcsNzAuN11dLFtbNDgsNTEuMV0sWzUxLDQ1LjVdLFs1Myw0NS41XSxbNTAsNTEuMV0sWzQ4LDUxLjFdXSxbWzUxLDM1XSxbNTEsMjguN10sWzUzLDI4LjddLFs1MywzNV0sWzUxLDM1XV0sW1s1MiwyMi40XSxbNTUsMTcuNV0sWzU2LDE3LjVdLFs1MywyMi40XSxbNTIsMjIuNF1dLFtbNTgsMTIuNl0sWzYyLDddLFs2Myw3XSxbNjAsMTIuNl0sWzU4LDEyLjZdXSxbWzAsMy41XSxbMCw5My4xXSxbNjQsOTMuMV0sWzY0LDBdLFs2MywwXSxbNjMsOTIuNF0sWzEsOTIuNF0sWzEsMy41XSxbMCwzLjVdXV0scj0wO3I8YS5sZW5ndGg7cisrKWZvcih2YXIgcz0wO3M8YVtyXS5sZW5ndGg7cysrKWFbcl1bc11bMF0vPTEwLjUsYVtyXVtzXVsxXS89LTE0LGFbcl1bc11bMF0rPW9bMF0sYVtyXVtzXVsxXSs9b1sxXTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7XCJjaGluYVwiPT09dC5tYXAmJnQucmVnaW9ucy5wdXNoKG5ldyBuKFwi5Y2X5rW36K+45bKbXCIsYSxvKSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKSxvPXtcIuWNl+a1t+ivuOWym1wiOlszMiw4MF0sXCLlub/kuJxcIjpbMCwtMTBdLFwi6aaZ5rivXCI6WzEwLDVdLFwi5r6z6ZeoXCI6Wy0xMCwxMF0sXCLlpKnmtKVcIjpbNSw1XX07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe24uZWFjaCh0LnJlZ2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9b1t0Lm5hbWVdO2lmKGUpe3ZhciBpPXQuY2VudGVyO2lbMF0rPWVbMF0vMTAuNSxpWzFdKz0tZVsxXS8xNH19KX19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe2lmKCF0LlVURjhFbmNvZGluZylyZXR1cm4gdDtmb3IodmFyIGU9dC5mZWF0dXJlcyxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBuPWVbaV0sYT1uLmdlb21ldHJ5LHI9YS5jb29yZGluYXRlcyxzPWEuZW5jb2RlT2Zmc2V0cyxsPTA7bDxyLmxlbmd0aDtsKyspe3ZhciBoPXJbbF07aWYoXCJQb2x5Z29uXCI9PT1hLnR5cGUpcltsXT1vKGgsc1tsXSk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09YS50eXBlKWZvcih2YXIgdT0wO3U8aC5sZW5ndGg7dSsrKXt2YXIgYz1oW3VdO2hbdV09byhjLHNbbF1bdV0pfX1yZXR1cm4gdC5VVEY4RW5jb2Rpbmc9ITEsdH1mdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBpPVtdLG49ZVswXSxvPWVbMV0sYT0wO2E8dC5sZW5ndGg7YSs9Mil7dmFyIHI9dC5jaGFyQ29kZUF0KGEpLTY0LHM9dC5jaGFyQ29kZUF0KGErMSktNjQ7cj1yPj4xXi0oMSZyKSxzPXM+PjFeLSgxJnMpLHIrPW4scys9byxuPXIsbz1zLGkucHVzaChbci8xMDI0LHMvMTAyNF0pfXJldHVybiBpfWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQubGVuZ3RoO2krKylmb3IodmFyIG49MDtuPHRbaV0ubGVuZ3RoO24rKyllLnB1c2godFtpXVtuXSk7cmV0dXJuIGV9dmFyIHI9aSgxKSxzPWkoMjIzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odCksci5tYXAoci5maWx0ZXIodC5mZWF0dXJlcyxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzfSksZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wZXJ0aWVzLGk9dC5nZW9tZXRyeSxuPWkuY29vcmRpbmF0ZXM7cmV0dXJuXCJNdWx0aVBvbHlnb25cIj09PWkudHlwZSYmKG49YShuKSksbmV3IHMoZS5uYW1lLG4sZS5jcCl9KX19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGUudHlwZXx8KGUuZGF0YT9cImNhdGVnb3J5XCI6XCJ2YWx1ZVwiKX12YXIgbz1pKDEwKSxhPWkoMSkscj1pKDMwKSxzPWkoNjIpLGw9aSg0KSxoPW8uZXh0ZW5kKHt0eXBlOlwiYmFzZVBhcmFsbGVsQXhpc1wiLGF4aXM6bnVsbCxhY3RpdmVJbnRlcnZhbHM6W10sZ2V0QXJlYVNlbGVjdFN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoW1tcImZpbGxcIixcImNvbG9yXCJdLFtcImxpbmVXaWR0aFwiLFwiYm9yZGVyV2lkdGhcIl0sW1wic3Ryb2tlXCIsXCJib3JkZXJDb2xvclwiXSxbXCJ3aWR0aFwiLFwid2lkdGhcIl0sW1wib3BhY2l0eVwiLFwib3BhY2l0eVwiXV0pLmNhbGwodGhpcy5nZXRNb2RlbChcImFyZWFTZWxlY3RTdHlsZVwiKSl9LHNldEFjdGl2ZUludGVydmFsczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscz1hLmNsb25lKHQpO2lmKGUpZm9yKHZhciBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbC5hc2MoZVtpXSl9LGdldEFjdGl2ZVN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlSW50ZXJ2YWxzO2lmKCFlLmxlbmd0aClyZXR1cm5cIm5vcm1hbFwiO2lmKG51bGw9PXQpcmV0dXJuXCJpbmFjdGl2ZVwiO2Zvcih2YXIgaT0wLG49ZS5sZW5ndGg7bj5pO2krKylpZihlW2ldWzBdPD10JiZ0PD1lW2ldWzFdKXJldHVyblwiYWN0aXZlXCI7cmV0dXJuXCJpbmFjdGl2ZVwifX0pLHU9e3R5cGU6XCJ2YWx1ZVwiLGRpbTpudWxsLHBhcmFsbGVsSW5kZXg6bnVsbCxhcmVhU2VsZWN0U3R5bGU6e3dpZHRoOjIwLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6XCJyZ2JhKDE2MCwxOTcsMjMyKVwiLGNvbG9yOlwicmdiYSgxNjAsMTk3LDIzMilcIixvcGFjaXR5Oi4zfSx6OjEwfTthLm1lcmdlKGgucHJvdG90eXBlLGkoNTApKSxzKFwicGFyYWxsZWxcIixoLG4sdSksdC5leHBvcnRzPWh9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXt0aGlzLl9heGVzTWFwPXt9LHRoaXMuX2F4ZXNMYXlvdXQ9e30sdGhpcy5kaW1lbnNpb25zPXQuZGltZW5zaW9ucyx0aGlzLl9yZWN0LHRoaXMuX21vZGVsPXQsdGhpcy5faW5pdCh0LGUsaSl9dmFyIG89aSgxMSksYT1pKDI0KSxyPWkoMSkscz1pKDMzNiksbD1pKDE5KSxoPWkoNSksdT1yLmVhY2gsYz1NYXRoLlBJO24ucHJvdG90eXBlPXt0eXBlOlwicGFyYWxsZWxcIixjb25zdHJ1Y3RvcjpuLF9pbml0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmRpbWVuc2lvbnMsbz10LnBhcmFsbGVsQXhpc0luZGV4O3UobixmdW5jdGlvbih0LGkpe3ZhciBuPW9baV0scj1lLmdldENvbXBvbmVudChcInBhcmFsbGVsQXhpc1wiLG4pLGw9dGhpcy5fYXhlc01hcFt0XT1uZXcgcyh0LGEuY3JlYXRlU2NhbGVCeU1vZGVsKHIpLFswLDBdLHIuZ2V0KFwidHlwZVwiKSxuKSxoPVwiY2F0ZWdvcnlcIj09PWwudHlwZTtsLm9uQmFuZD1oJiZyLmdldChcImJvdW5kYXJ5R2FwXCIpLGwuaW52ZXJzZT1yLmdldChcImludmVyc2VcIiksci5heGlzPWwsbC5tb2RlbD1yfSx0aGlzKX0sdXBkYXRlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fdXBkYXRlQXhlc0Zyb21TZXJpZXModGhpcy5fbW9kZWwsdCl9LF91cGRhdGVBeGVzRnJvbVNlcmllczpmdW5jdGlvbih0LGUpe2UuZWFjaFNlcmllcyhmdW5jdGlvbihpKXtpZih0LmNvbnRhaW5zKGksZSkpe3ZhciBuPWkuZ2V0RGF0YSgpO3UodGhpcy5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2F4ZXNNYXBbdF07ZS5zY2FsZS51bmlvbkV4dGVudChuLmdldERhdGFFeHRlbnQodCkpLGEubmljZVNjYWxlRXh0ZW50KGUsZS5tb2RlbCl9LHRoaXMpfX0sdGhpcyl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9by5nZXRMYXlvdXRSZWN0KHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pLHRoaXMuX2xheW91dEF4ZXModCl9LGdldFJlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sX2xheW91dEF4ZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmVjdCxpPXQuZ2V0KFwibGF5b3V0XCIpLG49dGhpcy5fYXhlc01hcCxvPXRoaXMuZGltZW5zaW9ucyxhPVtlLndpZHRoLGUuaGVpZ2h0XSxyPVwiaG9yaXpvbnRhbFwiPT09aT8wOjEscz1hW3JdLGg9YVsxLXJdLGQ9WzAsaF07dShuLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW52ZXJzZT8xOjA7dC5zZXRFeHRlbnQoZFtlXSxkWzEtZV0pfSksdShvLGZ1bmN0aW9uKHQsbil7dmFyIGE9cypuLyhvLmxlbmd0aC0xKSxyPXtob3Jpem9udGFsOnt4OmEseTpofSx2ZXJ0aWNhbDp7eDowLHk6YX19LHU9e2hvcml6b250YWw6Yy8yLHZlcnRpY2FsOjB9LGQ9W3JbaV0ueCtlLngscltpXS55K2UueV0sZj11W2ldLHA9bC5jcmVhdGUoKTtsLnJvdGF0ZShwLHAsZiksbC50cmFuc2xhdGUocCxwLGQpLHRoaXMuX2F4ZXNMYXlvdXRbdF09e3Bvc2l0aW9uOmQscm90YXRpb246Zix0cmFuc2Zvcm06cCx0aWNrRGlyZWN0aW9uOjEsbGFiZWxEaXJlY3Rpb246MX19LHRoaXMpfSxnZXRBeGlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9heGVzTWFwW3RdfSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF4aXNDb29yZFRvUG9pbnQodGhpcy5fYXhlc01hcFtlXS5kYXRhVG9Db29yZCh0KSxlKX0sZWFjaEFjdGl2ZVN0YXRlOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5kaW1lbnNpb25zLG89dGhpcy5fYXhlc01hcCxhPSExLHI9MCxzPW4ubGVuZ3RoO3M+cjtyKyspXCJub3JtYWxcIiE9PW9bbltyXV0ubW9kZWwuZ2V0QWN0aXZlU3RhdGUoKSYmKGE9ITApO2Zvcih2YXIgbD0wLGg9dC5jb3VudCgpO2g+bDtsKyspe3ZhciB1LGM9dC5nZXRWYWx1ZXMobixsKTtpZihhKXt1PVwiYWN0aXZlXCI7Zm9yKHZhciByPTAscz1uLmxlbmd0aDtzPnI7cisrKXt2YXIgZD1uW3JdLGY9b1tkXS5tb2RlbC5nZXRBY3RpdmVTdGF0ZShjW3JdLHIpO2lmKFwiaW5hY3RpdmVcIj09PWYpe3U9XCJpbmFjdGl2ZVwiO2JyZWFrfX19ZWxzZSB1PVwibm9ybWFsXCI7ZS5jYWxsKGksdSxsKX19LGF4aXNDb29yZFRvUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9heGVzTGF5b3V0W2VdLG49W3QsMF07cmV0dXJuIGguYXBwbHlUcmFuc2Zvcm0obixuLGkudHJhbnNmb3JtKSxufSxnZXRBeGlzTGF5b3V0OmZ1bmN0aW9uKHQpe3JldHVybiByLmNsb25lKHRoaXMuX2F4ZXNMYXlvdXRbdF0pfX0sdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89aSg0MyksYT1mdW5jdGlvbih0LGUsaSxuLGEpe28uY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9bnx8XCJ2YWx1ZVwiLHRoaXMuYXhpc0luZGV4PWF9O2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphLG1vZGVsOm51bGx9LG4uaW5oZXJpdHMoYSxvKSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSksbz1pKDEwKTtpKDMzNCksby5leHRlbmQoe3R5cGU6XCJwYXJhbGxlbFwiLGRlcGVuZGVuY2llczpbXCJwYXJhbGxlbEF4aXNcIl0sY29vcmRpbmF0ZVN5c3RlbTpudWxsLGRpbWVuc2lvbnM6bnVsbCxwYXJhbGxlbEF4aXNJbmRleDpudWxsLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxsZWZ0OjgwLHRvcDo2MCxyaWdodDo4MCxib3R0b206NjAsbGF5b3V0OlwiaG9yaXpvbnRhbFwiLHBhcmFsbGVsQXhpc0RlZmF1bHQ6bnVsbH0saW5pdDpmdW5jdGlvbigpe28ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubWVyZ2VPcHRpb24oe30pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjt0JiZuLm1lcmdlKGUsdCwhMCksdGhpcy5faW5pdERpbWVuc2lvbnMoKX0sY29udGFpbnM6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldChcInBhcmFsbGVsSW5kZXhcIik7cmV0dXJuIG51bGwhPWkmJmUuZ2V0Q29tcG9uZW50KFwicGFyYWxsZWxcIixpKT09PXRoaXN9LF9pbml0RGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGltZW5zaW9ucz1bXSxlPXRoaXMucGFyYWxsZWxBeGlzSW5kZXg9W10saT1uLmZpbHRlcih0aGlzLmRlcGVuZGVudE1vZGVscy5wYXJhbGxlbEF4aXMsZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KFwicGFyYWxsZWxJbmRleFwiKT09PXRoaXMuY29tcG9uZW50SW5kZXh9KTtuLmVhY2goaSxmdW5jdGlvbihpKXt0LnB1c2goXCJkaW1cIitpLmdldChcImRpbVwiKSksZS5wdXNoKGkuY29tcG9uZW50SW5kZXgpfSl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe2lmKCF0LnBhcmFsbGVsKXt2YXIgZT0hMTthLmVhY2godC5zZXJpZXMsZnVuY3Rpb24odCl7dCYmXCJwYXJhbGxlbFwiPT09dC50eXBlJiYoZT0hMCl9KSxlJiYodC5wYXJhbGxlbD1be31dKX19ZnVuY3Rpb24gbyh0KXt2YXIgZT1yLm5vcm1hbGl6ZVRvQXJyYXkodC5wYXJhbGxlbEF4aXMpO2EuZWFjaChlLGZ1bmN0aW9uKGUpe2lmKGEuaXNPYmplY3QoZSkpe3ZhciBpPWUucGFyYWxsZWxJbmRleHx8MCxuPXIubm9ybWFsaXplVG9BcnJheSh0LnBhcmFsbGVsKVtpXTtuJiZuLnBhcmFsbGVsQXhpc0RlZmF1bHQmJmEubWVyZ2UoZSxuLnBhcmFsbGVsQXhpc0RlZmF1bHQsITEpfX0pfXZhciBhPWkoMSkscj1pKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtuKHQpLG8odCl9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2U9ZXx8WzAsMzYwXSxhLmNhbGwodGhpcyxcImFuZ2xlXCIsdCxlKSx0aGlzLnR5cGU9XCJjYXRlZ29yeVwifXZhciBvPWkoMSksYT1pKDQzKTtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixkYXRhVG9BbmdsZTphLnByb3RvdHlwZS5kYXRhVG9Db29yZCxhbmdsZVRvRGF0YTphLnByb3RvdHlwZS5jb29yZFRvRGF0YX0sby5pbmhlcml0cyhuLGEpLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/XCJjYXRlZ29yeVwiOlwidmFsdWVcIil9dmFyIG89aSgxKSxhPWkoMTApLHI9aSg2Mikscz1hLmV4dGVuZCh7dHlwZTpcInBvbGFyQXhpc1wiLGF4aXM6bnVsbH0pO28ubWVyZ2Uocy5wcm90b3R5cGUsaSg1MCkpO3ZhciBsPXthbmdsZTp7cG9sYXJJbmRleDowLHN0YXJ0QW5nbGU6OTAsY2xvY2t3aXNlOiEwLHNwbGl0TnVtYmVyOjEyLGF4aXNMYWJlbDp7cm90YXRlOiExfX0scmFkaXVzOntwb2xhckluZGV4OjAsc3BsaXROdW1iZXI6NX19O3IoXCJhbmdsZVwiLHMsbixsLmFuZ2xlKSxyKFwicmFkaXVzXCIscyxuLGwucmFkaXVzKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMzQzKSxvPWkoMzM5KSxhPWZ1bmN0aW9uKHQpe3RoaXMubmFtZT10fHxcIlwiLHRoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5fcmFkaXVzQXhpcz1uZXcgbix0aGlzLl9hbmdsZUF4aXM9bmV3IG99O2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphLHR5cGU6XCJwb2xhclwiLGRpbWVuc2lvbnM6W1wicmFkaXVzXCIsXCJhbmdsZVwiXSxjb250YWluUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvQ29vcmQodCk7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXMuY29udGFpbihlWzBdKSYmdGhpcy5fYW5nbGVBeGlzLmNvbnRhaW4oZVsxXSl9LGNvbnRhaW5EYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yYWRpdXNBeGlzLmNvbnRhaW5EYXRhKHRbMF0pJiZ0aGlzLl9hbmdsZUF4aXMuY29udGFpbkRhdGEodFsxXSl9LGdldEF4aXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbXCJfXCIrdCtcIkF4aXNcIl19LGdldEF4ZXNCeVNjYWxlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdLGk9dGhpcy5fYW5nbGVBeGlzLG49dGhpcy5fcmFkaXVzQXhpcztyZXR1cm4gaS5zY2FsZS50eXBlPT09dCYmZS5wdXNoKGkpLG4uc2NhbGUudHlwZT09PXQmJmUucHVzaChuKSxlfSxnZXRBbmdsZUF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5nbGVBeGlzfSxnZXRSYWRpdXNBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXN9LGdldE90aGVyQXhpczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hbmdsZUF4aXM7cmV0dXJuIHQ9PT1lP3RoaXMuX3JhZGl1c0F4aXM6ZX0sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGVzQnlTY2FsZShcIm9yZGluYWxcIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoXCJ0aW1lXCIpWzBdfHx0aGlzLmdldEFuZ2xlQXhpcygpfSxkYXRhVG9Qb2ludHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwQXJyYXkodGhpcy5kaW1lbnNpb25zLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YVRvUG9pbnQoW3QsZV0pfSx0aGlzKX0sZGF0YVRvUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb29yZFRvUG9pbnQoW3RoaXMuX3JhZGl1c0F4aXMuZGF0YVRvUmFkaXVzKHRbMF0sZSksdGhpcy5fYW5nbGVBeGlzLmRhdGFUb0FuZ2xlKHRbMV0sZSldKX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnBvaW50VG9Db29yZCh0KTtyZXR1cm5bdGhpcy5fcmFkaXVzQXhpcy5yYWRpdXNUb0RhdGEoaVswXSxlKSx0aGlzLl9hbmdsZUF4aXMuYW5nbGVUb0RhdGEoaVsxXSxlKV19LHBvaW50VG9Db29yZDpmdW5jdGlvbih0KXt2YXIgZT10WzBdLXRoaXMuY3gsaT10WzFdLXRoaXMuY3ksbj10aGlzLmdldEFuZ2xlQXhpcygpLG89bi5nZXRFeHRlbnQoKSxhPU1hdGgubWluKG9bMF0sb1sxXSkscj1NYXRoLm1heChvWzBdLG9bMV0pO24uaW52ZXJzZT9hPXItMzYwOnI9YSszNjA7dmFyIHM9TWF0aC5zcXJ0KGUqZStpKmkpO2UvPXMsaS89cztmb3IodmFyIGw9TWF0aC5hdGFuMigtaSxlKS9NYXRoLlBJKjE4MCxoPWE+bD8xOi0xO2E+bHx8bD5yOylsKz0zNjAqaDtyZXR1cm5bcyxsXX0sY29vcmRUb1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0saT10WzFdLzE4MCpNYXRoLlBJLG49TWF0aC5jb3MoaSkqZSt0aGlzLmN4LG89LU1hdGguc2luKGkpKmUrdGhpcy5jeTtyZXR1cm5bbixvXX19LHQuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aSgzNDApLGkoMikuZXh0ZW5kQ29tcG9uZW50TW9kZWwoe3R5cGU6XCJwb2xhclwiLGRlcGVuZGVuY2llczpbXCJwb2xhckF4aXNcIixcImFuZ2xlQXhpc1wiXSxjb29yZGluYXRlU3lzdGVtOm51bGwsZmluZEF4aXNNb2RlbDpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuZWNNb2RlbDtyZXR1cm4gaS5lYWNoQ29tcG9uZW50KHQsZnVuY3Rpb24odCl7aS5nZXRDb21wb25lbnQoXCJwb2xhclwiLHQuZ2V0U2hhbGxvdyhcInBvbGFySW5kZXhcIikpPT09dGhpcyYmKGU9dCl9LHRoaXMpLGV9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MCxjZW50ZXI6W1wiNTAlXCIsXCI1MCVcIl0scmFkaXVzOlwiODAlXCJ9fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7YS5jYWxsKHRoaXMsXCJyYWRpdXNcIix0LGUpLHRoaXMudHlwZT1cImNhdGVnb3J5XCJ9dmFyIG89aSgxKSxhPWkoNDMpO24ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpuLGRhdGFUb1JhZGl1czphLnByb3RvdHlwZS5kYXRhVG9Db29yZCxyYWRpdXNUb0RhdGE6YS5wcm90b3R5cGUuY29vcmRUb0RhdGF9LG8uaW5oZXJpdHMobixhKSx0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlLGkpe2EuY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9XCJ2YWx1ZVwiLHRoaXMuYW5nbGU9MCx0aGlzLm5hbWU9XCJcIix0aGlzLm1vZGVsfXZhciBvPWkoMSksYT1pKDQzKTtvLmluaGVyaXRzKG4sYSksdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSxpKXt0aGlzLl9tb2RlbD10LHRoaXMuZGltZW5zaW9ucz1bXSx0aGlzLl9pbmRpY2F0b3JBeGVzPW8ubWFwKHQuZ2V0SW5kaWNhdG9yTW9kZWxzKCksZnVuY3Rpb24odCxlKXt2YXIgaT1cImluZGljYXRvcl9cIitlLG49bmV3IGEoaSxuZXcgcik7cmV0dXJuIG4ubmFtZT10LmdldChcIm5hbWVcIiksbi5tb2RlbD10LHQuYXhpcz1uLHRoaXMuZGltZW5zaW9ucy5wdXNoKGkpLG59LHRoaXMpLHRoaXMucmVzaXplKHQsaSksdGhpcy5jeCx0aGlzLmN5LHRoaXMucix0aGlzLnN0YXJ0QW5nbGV9dmFyIG89aSgxKSxhPWkoMzQ0KSxyPWkoMzgpLHM9aSg0KSxsPWkoMjQpO24ucHJvdG90eXBlLmdldEluZGljYXRvckF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kaWNhdG9yQXhlc30sbi5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9pbmRpY2F0b3JBeGVzW2VdO3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChpLmRhdGFUb0Nvb3JkKHQpLGUpfSxuLnByb3RvdHlwZS5jb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9pbmRpY2F0b3JBeGVzW2VdLG49aS5hbmdsZSxvPXRoaXMuY3grdCpNYXRoLmNvcyhuKSxhPXRoaXMuY3ktdCpNYXRoLnNpbihuKTtyZXR1cm5bbyxhXX0sbi5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dFswXS10aGlzLmN4LGk9dFsxXS10aGlzLmN5LG49TWF0aC5zcXJ0KGUqZStpKmkpO2UvPW4saS89bjtmb3IodmFyIG8sYT1NYXRoLmF0YW4yKC1pLGUpLHI9MS8wLHM9LTEsbD0wO2w8dGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7bCsrKXt2YXIgaD10aGlzLl9pbmRpY2F0b3JBeGVzW2xdLHU9TWF0aC5hYnMoYS1oLmFuZ2xlKTtyPnUmJihvPWgscz1sLHI9dSl9cmV0dXJuW3MsKyhvJiZvLmNvb2RUb0RhdGEobikpXX0sbi5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXQoXCJjZW50ZXJcIiksbj1lLmdldFdpZHRoKCksYT1lLmdldEhlaWdodCgpLHI9TWF0aC5taW4obixhKS8yO3RoaXMuY3g9cy5wYXJzZVBlcmNlbnQoaVswXSxuKSx0aGlzLmN5PXMucGFyc2VQZXJjZW50KGlbMV0sYSksdGhpcy5zdGFydEFuZ2xlPXQuZ2V0KFwic3RhcnRBbmdsZVwiKSpNYXRoLlBJLzE4MCx0aGlzLnI9cy5wYXJzZVBlcmNlbnQodC5nZXQoXCJyYWRpdXNcIiksciksby5lYWNoKHRoaXMuX2luZGljYXRvckF4ZXMsZnVuY3Rpb24odCxlKXt0LnNldEV4dGVudCgwLHRoaXMucik7dmFyIGk9dGhpcy5zdGFydEFuZ2xlK2UqTWF0aC5QSSoyL3RoaXMuX2luZGljYXRvckF4ZXMubGVuZ3RoO2k9TWF0aC5hdGFuMihNYXRoLnNpbihpKSxNYXRoLmNvcyhpKSksdC5hbmdsZT1pfSx0aGlzKX0sbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXt2YXIgZT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCkpLGk9dC9lO3JldHVybiAyPT09aT9pPTU6aSo9MixpKmV9dmFyIG49dGhpcy5faW5kaWNhdG9yQXhlcyxhPXRoaXMuX21vZGVsO28uZWFjaChuLGZ1bmN0aW9uKHQpe3Quc2NhbGUuc2V0RXh0ZW50KDEvMCwtKDEvMCkpfSksdC5lYWNoU2VyaWVzQnlUeXBlKFwicmFkYXJcIixmdW5jdGlvbihlLGkpe2lmKFwicmFkYXJcIj09PWUuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSYmdC5nZXRDb21wb25lbnQoXCJyYWRhclwiLGUuZ2V0KFwicmFkYXJJbmRleFwiKSk9PT1hKXt2YXIgcj1lLmdldERhdGEoKTtvLmVhY2gobixmdW5jdGlvbih0KXt0LnNjYWxlLnVuaW9uRXh0ZW50KHIuZ2V0RGF0YUV4dGVudCh0LmRpbSkpfSl9fSx0aGlzKTt2YXIgcj1hLmdldChcInNwbGl0TnVtYmVyXCIpO28uZWFjaChuLGZ1bmN0aW9uKHQsZSl7dmFyIG49bC5nZXRTY2FsZUV4dGVudCh0LHQubW9kZWwpO2wubmljZVNjYWxlRXh0ZW50KHQsdC5tb2RlbCk7dmFyIG89dC5tb2RlbCxhPXQuc2NhbGUsaD1vLmdldChcIm1pblwiKSx1PW8uZ2V0KFwibWF4XCIpLGM9YS5nZXRJbnRlcnZhbCgpO2lmKG51bGwhPWgmJm51bGwhPXUpYS5zZXRJbnRlcnZhbCgodS1oKS9yKTtlbHNlIGlmKG51bGwhPWgpe3ZhciBkO2RvIGQ9aCtjKnIsYS5zZXRFeHRlbnQoK2gsZCksYS5zZXRJbnRlcnZhbChjKSxjPWkoYyk7d2hpbGUoZDxuWzFdJiZpc0Zpbml0ZShkKSYmaXNGaW5pdGUoblsxXSkpfWVsc2UgaWYobnVsbCE9dSl7dmFyIGY7ZG8gZj11LWMqcixhLnNldEV4dGVudChmLCt1KSxhLnNldEludGVydmFsKGMpLGM9aShjKTt3aGlsZShmPm5bMF0mJmlzRmluaXRlKGYpJiZpc0Zpbml0ZShuWzBdKSl9ZWxzZXt2YXIgcD1hLmdldFRpY2tzKCkubGVuZ3RoLTE7cD5yJiYoYz1pKGMpKTt2YXIgZz1NYXRoLnJvdW5kKChuWzBdK25bMV0pLzIvYykqYyxtPU1hdGgucm91bmQoci8yKTthLnNldEV4dGVudChzLnJvdW5kKGctbSpjKSxzLnJvdW5kKGcrKHItbSkqYykpLGEuc2V0SW50ZXJ2YWwoYyl9fSl9LG4uZGltZW5zaW9ucz1bXSxuLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoXCJyYWRhclwiLGZ1bmN0aW9uKG8pe3ZhciBhPW5ldyBuKG8sdCxlKTtpLnB1c2goYSksby5jb29yZGluYXRlU3lzdGVtPWF9KSx0LmVhY2hTZXJpZXNCeVR5cGUoXCJyYWRhclwiLGZ1bmN0aW9uKHQpe1wicmFkYXJcIj09PXQuZ2V0KFwiY29vcmRpbmF0ZVN5c3RlbVwiKSYmKHQuY29vcmRpbmF0ZVN5c3RlbT1pW3QuZ2V0KFwicmFkYXJJbmRleFwiKXx8MF0pfSksaX0saSgyMykucmVnaXN0ZXIoXCJyYWRhclwiLG4pLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBzLmRlZmF1bHRzKHtzaG93OmV9LHQpfXZhciBvPWkoNzIpLGE9by52YWx1ZUF4aXMscj1pKDEyKSxzPWkoMSksbD1pKDUwKSxoPWkoMikuZXh0ZW5kQ29tcG9uZW50TW9kZWwoe3R5cGU6XCJyYWRhclwiLG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldChcImJvdW5kYXJ5R2FwXCIpLGU9dGhpcy5nZXQoXCJzcGxpdE51bWJlclwiKSxpPXRoaXMuZ2V0KFwic2NhbGVcIiksbj10aGlzLmdldChcImF4aXNMaW5lXCIpLG89dGhpcy5nZXQoXCJheGlzVGlja1wiKSxhPXRoaXMuZ2V0KFwiYXhpc0xhYmVsXCIpLGg9dGhpcy5nZXQoXCJuYW1lLnRleHRTdHlsZVwiKSx1PXRoaXMuZ2V0KFwibmFtZS5zaG93XCIpLGM9dGhpcy5nZXQoXCJuYW1lLmZvcm1hdHRlclwiKSxkPXRoaXMuZ2V0KFwibmFtZUdhcFwiKSxmPXMubWFwKHRoaXMuZ2V0KFwiaW5kaWNhdG9yXCIpfHxbXSxmdW5jdGlvbihmKXtyZXR1cm4gbnVsbCE9Zi5tYXgmJmYubWF4PjA/Zi5taW49MDpudWxsIT1mLm1pbiYmZi5taW48MCYmKGYubWF4PTApLGY9cy5tZXJnZShzLmNsb25lKGYpLHtib3VuZGFyeUdhcDp0LHNwbGl0TnVtYmVyOmUsc2NhbGU6aSxheGlzTGluZTpuLGF4aXNUaWNrOm8sYXhpc0xhYmVsOmEsbmFtZTpmLnRleHQsbmFtZUxvY2F0aW9uOlwiZW5kXCIsbmFtZUdhcDpkLG5hbWVUZXh0U3R5bGU6aH0sITEpLHV8fChmLm5hbWU9XCJcIiksXCJzdHJpbmdcIj09dHlwZW9mIGM/Zi5uYW1lPWMucmVwbGFjZShcInt2YWx1ZX1cIixmLm5hbWUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihmLm5hbWU9YyhmLm5hbWUsZikpLHMuZXh0ZW5kKG5ldyByKGYsbnVsbCx0aGlzLmVjTW9kZWwpLGwpfSx0aGlzKTt0aGlzLmdldEluZGljYXRvck1vZGVscz1mdW5jdGlvbigpe3JldHVybiBmfX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejowLGNlbnRlcjpbXCI1MCVcIixcIjUwJVwiXSxyYWRpdXM6XCI3NSVcIixzdGFydEFuZ2xlOjkwLG5hbWU6e3Nob3c6ITB9LGJvdW5kYXJ5R2FwOlswLDBdLHNwbGl0TnVtYmVyOjUsbmFtZUdhcDoxNSxzY2FsZTohMSxzaGFwZTpcInBvbHlnb25cIixheGlzTGluZTpzLm1lcmdlKHtsaW5lU3R5bGU6e2NvbG9yOlwiI2JiYlwifX0sYS5heGlzTGluZSksYXhpc0xhYmVsOm4oYS5heGlzTGFiZWwsITEpLGF4aXNUaWNrOm4oYS5heGlzVGljaywhMSksc3BsaXRMaW5lOm4oYS5zcGxpdExpbmUsITApLHNwbGl0QXJlYTpuKGEuc3BsaXRBcmVhLCEwKSxpbmRpY2F0b3I6W119fSk7dC5leHBvcnRzPWh9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dGhpcy5pZD1udWxsPT10P1wiXCI6dCx0aGlzLmluRWRnZXM9W10sdGhpcy5vdXRFZGdlcz1bXSx0aGlzLmVkZ2VzPVtdLHRoaXMuaG9zdEdyYXBoLHRoaXMuZGF0YUluZGV4PW51bGw9PWU/LTE6ZX1mdW5jdGlvbiBvKHQsZSxpKXt0aGlzLm5vZGUxPXQsdGhpcy5ub2RlMj1lLHRoaXMuZGF0YUluZGV4PW51bGw9PWk/LTE6aX12YXIgYT1pKDEpLHI9ZnVuY3Rpb24odCl7dGhpcy5fZGlyZWN0ZWQ9dHx8ITEsdGhpcy5ub2Rlcz1bXSx0aGlzLmVkZ2VzPVtdLHRoaXMuX25vZGVzTWFwPXt9LHRoaXMuX2VkZ2VzTWFwPXt9LHRoaXMuZGF0YSx0aGlzLmVkZ2VEYXRhfSxzPXIucHJvdG90eXBlO3MudHlwZT1cImdyYXBoXCIscy5pc0RpcmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcmVjdGVkfSxzLmFkZE5vZGU9ZnVuY3Rpb24odCxlKXt0PXR8fFwiXCIrZTt2YXIgaT10aGlzLl9ub2Rlc01hcDtpZighaVt0XSl7dmFyIG89bmV3IG4odCxlKTtyZXR1cm4gby5ob3N0R3JhcGg9dGhpcyx0aGlzLm5vZGVzLnB1c2gobyksaVt0XT1vLG99fSxzLmdldE5vZGVCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5ub2Rlc1tlXX0scy5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbm9kZXNNYXBbdF19LHMuYWRkRWRnZT1mdW5jdGlvbih0LGUsaSl7dmFyIGE9dGhpcy5fbm9kZXNNYXAscj10aGlzLl9lZGdlc01hcDtpZihcIm51bWJlclwiPT10eXBlb2YgdCYmKHQ9dGhpcy5ub2Rlc1t0XSksXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPXRoaXMubm9kZXNbZV0pLHQgaW5zdGFuY2VvZiBufHwodD1hW3RdKSxlIGluc3RhbmNlb2Ygbnx8KGU9YVtlXSksdCYmZSl7dmFyIHM9dC5pZCtcIi1cIitlLmlkO2lmKCFyW3NdKXt2YXIgbD1uZXcgbyh0LGUsaSk7cmV0dXJuIGwuaG9zdEdyYXBoPXRoaXMsdGhpcy5fZGlyZWN0ZWQmJih0Lm91dEVkZ2VzLnB1c2gobCksZS5pbkVkZ2VzLnB1c2gobCkpLHQuZWRnZXMucHVzaChsKSx0IT09ZSYmZS5lZGdlcy5wdXNoKGwpLHRoaXMuZWRnZXMucHVzaChsKSxyW3NdPWwsbH19fSxzLmdldEVkZ2VCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZURhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMuZWRnZXNbZV19LHMuZ2V0RWRnZT1mdW5jdGlvbih0LGUpe3QgaW5zdGFuY2VvZiBuJiYodD10LmlkKSxlIGluc3RhbmNlb2YgbiYmKGU9ZS5pZCk7dmFyIGk9dGhpcy5fZWRnZXNNYXA7cmV0dXJuIHRoaXMuX2RpcmVjdGVkP2lbdCtcIi1cIitlXTppW3QrXCItXCIrZV18fGlbZStcIi1cIit0XX0scy5lYWNoTm9kZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLm5vZGVzLG49aS5sZW5ndGgsbz0wO24+bztvKyspaVtvXS5kYXRhSW5kZXg+PTAmJnQuY2FsbChlLGlbb10sbyl9LHMuZWFjaEVkZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5lZGdlcyxuPWkubGVuZ3RoLG89MDtuPm87bysrKWlbb10uZGF0YUluZGV4Pj0wJiZpW29dLm5vZGUxLmRhdGFJbmRleD49MCYmaVtvXS5ub2RlMi5kYXRhSW5kZXg+PTAmJnQuY2FsbChlLGlbb10sbyl9LHMuYnJlYWR0aEZpcnN0VHJhdmVyc2U9ZnVuY3Rpb24odCxlLGksbyl7aWYoZSBpbnN0YW5jZW9mIG58fChlPXRoaXMuX25vZGVzTWFwW2VdKSxlKXtmb3IodmFyIGE9XCJvdXRcIj09PWk/XCJvdXRFZGdlc1wiOlwiaW5cIj09PWk/XCJpbkVkZ2VzXCI6XCJlZGdlc1wiLHI9MDtyPHRoaXMubm9kZXMubGVuZ3RoO3IrKyl0aGlzLm5vZGVzW3JdLl9fdmlzaXRlZD0hMTtpZighdC5jYWxsKG8sZSxudWxsKSlmb3IodmFyIHM9W2VdO3MubGVuZ3RoOylmb3IodmFyIGw9cy5zaGlmdCgpLGg9bFthXSxyPTA7cjxoLmxlbmd0aDtyKyspe3ZhciB1PWhbcl0sYz11Lm5vZGUxPT09bD91Lm5vZGUyOnUubm9kZTE7aWYoIWMuX192aXNpdGVkKXtpZih0LmNhbGwoYyxjLGwpKXJldHVybjtzLnB1c2goYyksYy5fX3Zpc2l0ZWQ9ITB9fX19LHMudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGF0YSxlPXRoaXMuZWRnZURhdGEsaT10aGlzLm5vZGVzLG49dGhpcy5lZGdlcyxvPTAsYT1pLmxlbmd0aDthPm87bysrKWlbb10uZGF0YUluZGV4PS0xO2Zvcih2YXIgbz0wLGE9dC5jb3VudCgpO2E+bztvKyspaVt0LmdldFJhd0luZGV4KG8pXS5kYXRhSW5kZXg9bztlLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7dmFyIGk9bltlLmdldFJhd0luZGV4KHQpXTtyZXR1cm4gaS5ub2RlMS5kYXRhSW5kZXg+PTAmJmkubm9kZTIuZGF0YUluZGV4Pj0wfSk7Zm9yKHZhciBvPTAsYT1uLmxlbmd0aDthPm87bysrKW5bb10uZGF0YUluZGV4PS0xO2Zvcih2YXIgbz0wLGE9ZS5jb3VudCgpO2E+bztvKyspbltlLmdldFJhd0luZGV4KG8pXS5kYXRhSW5kZXg9b30scy5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgcih0aGlzLl9kaXJlY3RlZCksZT10aGlzLm5vZGVzLGk9dGhpcy5lZGdlcyxuPTA7bjxlLmxlbmd0aDtuKyspdC5hZGROb2RlKGVbbl0uaWQsZVtuXS5kYXRhSW5kZXgpO2Zvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3QuYWRkRWRnZShvLm5vZGUxLmlkLG8ubm9kZTIuaWQsby5kYXRhSW5kZXgpO1xufXJldHVybiB0fSxuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixkZWdyZWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlcy5sZW5ndGh9LGluRGVncmVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5FZGdlcy5sZW5ndGh9LG91dERlZ3JlZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm91dEVkZ2VzLmxlbmd0aH0sZ2V0TW9kZWw6ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSl7dmFyIGU9dGhpcy5ob3N0R3JhcGgsaT1lLmRhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KTtyZXR1cm4gaS5nZXRNb2RlbCh0KX19fSxvLnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXt2YXIgZT10aGlzLmhvc3RHcmFwaCxpPWUuZWRnZURhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KTtyZXR1cm4gaS5nZXRNb2RlbCh0KX19O3ZhciBsPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXNbdF1bZV07cmV0dXJuIG4uZ2V0KG4uZ2V0RGltZW5zaW9uKGl8fFwidmFsdWVcIiksdGhpcy5kYXRhSW5kZXgpfSxzZXRWaXN1YWw6ZnVuY3Rpb24oaSxuKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpc1t0XVtlXS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LGksbil9LGdldFZpc3VhbDpmdW5jdGlvbihpLG4pe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1WaXN1YWwodGhpcy5kYXRhSW5kZXgsaSxuKX0sc2V0TGF5b3V0OmZ1bmN0aW9uKGksbil7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXNbdF1bZV0uc2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCxpLG4pfSxnZXRMYXlvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4KX0sZ2V0R3JhcGhpY0VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0SXRlbUdyYXBoaWNFbCh0aGlzLmRhdGFJbmRleCl9LGdldFJhd0luZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfX19O2EubWl4aW4obixsKFwiaG9zdEdyYXBoXCIsXCJkYXRhXCIpKSxhLm1peGluKG8sbChcImhvc3RHcmFwaFwiLFwiZWRnZURhdGFcIikpLHIuTm9kZT1uLHIuRWRnZT1vLHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3RoaXMucm9vdCx0aGlzLmRhdGEsdGhpcy5fbm9kZXM9W10sdGhpcy5ob3N0TW9kZWw9dCx0aGlzLmxldmVsTW9kZWxzPWEubWFwKGV8fFtdLGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcihlLHQsdC5lY01vZGVsKX0pfWZ1bmN0aW9uIG8odCxlKXt2YXIgaT1lLmNoaWxkcmVuO3QucGFyZW50Tm9kZSE9PWUmJihpLnB1c2godCksdC5wYXJlbnROb2RlPWUpfXZhciBhPWkoMSkscj1pKDEyKSxzPWkoMTUpLGw9aSgyMjUpLGg9aSgzMSksdT1mdW5jdGlvbih0LGUpe3RoaXMubmFtZT10fHxcIlwiLHRoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGFyZW50Tm9kZT1udWxsLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5ob3N0VHJlZT1lfTt1LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dSxpc1JlbW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhSW5kZXg8MH0sZWFjaE5vZGU6ZnVuY3Rpb24odCxlLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihpPWUsZT10LHQ9bnVsbCksdD10fHx7fSxhLmlzU3RyaW5nKHQpJiYodD17b3JkZXI6dH0pO3ZhciBuLG89dC5vcmRlcnx8XCJwcmVvcmRlclwiLHI9dGhpc1t0LmF0dHJ8fFwiY2hpbGRyZW5cIl07XCJwcmVvcmRlclwiPT09byYmKG49ZS5jYWxsKGksdGhpcykpO2Zvcih2YXIgcz0wOyFuJiZzPHIubGVuZ3RoO3MrKylyW3NdLmVhY2hOb2RlKHQsZSxpKTtcInBvc3RvcmRlclwiPT09byYmZS5jYWxsKGksdGhpcyl9LHVwZGF0ZURlcHRoQW5kSGVpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBlPTA7dGhpcy5kZXB0aD10O2Zvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgbj10aGlzLmNoaWxkcmVuW2ldO24udXBkYXRlRGVwdGhBbmRIZWlnaHQodCsxKSxuLmhlaWdodD5lJiYoZT1uLmhlaWdodCl9dGhpcy5oZWlnaHQ9ZSsxfSxnZXROb2RlQnlJZDpmdW5jdGlvbih0KXtpZih0aGlzLmdldElkKCk9PT10KXJldHVybiB0aGlzO2Zvcih2YXIgZT0wLGk9dGhpcy5jaGlsZHJlbixuPWkubGVuZ3RoO24+ZTtlKyspe3ZhciBvPWlbZV0uZ2V0Tm9kZUJ5SWQodCk7aWYobylyZXR1cm4gb319LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXJldHVybiEwO2Zvcih2YXIgZT0wLGk9dGhpcy5jaGlsZHJlbixuPWkubGVuZ3RoO24+ZTtlKyspe3ZhciBvPWlbZV0uY29udGFpbnModCk7aWYobylyZXR1cm4gb319LGdldEFuY2VzdG9yczpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT10P3RoaXM6dGhpcy5wYXJlbnROb2RlO2k7KWUucHVzaChpKSxpPWkucGFyZW50Tm9kZTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0VHJlZS5kYXRhO3JldHVybiBlLmdldChlLmdldERpbWVuc2lvbih0fHxcInZhbHVlXCIpLHRoaXMuZGF0YUluZGV4KX0sc2V0TGF5b3V0OmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldExheW91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldE1vZGVsOmZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpe3ZhciBlPXRoaXMuaG9zdFRyZWUsaT1lLmRhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KSxuPXRoaXMuZ2V0TGV2ZWxNb2RlbCgpO3JldHVybiBpLmdldE1vZGVsKHQsKG58fGUuaG9zdE1vZGVsKS5nZXRNb2RlbCh0KSl9fSxnZXRMZXZlbE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaG9zdFRyZWUubGV2ZWxNb2RlbHN8fFtdKVt0aGlzLmRlcHRoXX0sc2V0VmlzdWFsOmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldFZpc3VhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0LGUpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SWQodGhpcy5kYXRhSW5kZXgpfX0sbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4sdHlwZTpcInRyZWVcIixlYWNoTm9kZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5yb290LmVhY2hOb2RlKHQsZSxpKX0sZ2V0Tm9kZUJ5RGF0YUluZGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5fbm9kZXNbZV19LGdldE5vZGVCeU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm9vdC5nZXROb2RlQnlOYW1lKHQpfSx1cGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5fbm9kZXMsaT0wLG49ZS5sZW5ndGg7bj5pO2krKyllW2ldLmRhdGFJbmRleD0tMTtmb3IodmFyIGk9MCxuPXQuY291bnQoKTtuPmk7aSsrKWVbdC5nZXRSYXdJbmRleChpKV0uZGF0YUluZGV4PWl9LGNsZWFyTGF5b3V0czpmdW5jdGlvbigpe3RoaXMuZGF0YS5jbGVhckl0ZW1MYXlvdXRzKCl9fSxuLmNyZWF0ZVRyZWU9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIGEodCxlKXtjLnB1c2godCk7dmFyIGk9bmV3IHUodC5uYW1lLHIpO2U/byhpLGUpOnIucm9vdD1pLHIuX25vZGVzLnB1c2goaSk7dmFyIG49dC5jaGlsZHJlbjtpZihuKWZvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKWEobltzXSxpKX12YXIgcj1uZXcgbihlLGkpLGM9W107YSh0KSxyLnJvb3QudXBkYXRlRGVwdGhBbmRIZWlnaHQoMCk7dmFyIGQ9aChbe25hbWU6XCJ2YWx1ZVwifV0sYyksZj1uZXcgcyhkLGUpO3JldHVybiBmLmluaXREYXRhKGMpLGwoe21haW5EYXRhOmYsc3RydWN0OnIsc3RydWN0QXR0cjpcInRyZWVcIn0pLHIudXBkYXRlKCkscn0sdC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7dmFyIHQsZT1bXSxpPXt9O3JldHVybnthZGQ6ZnVuY3Rpb24odCxuLGEscixzKXtyZXR1cm4gby5pc1N0cmluZyhyKSYmKHM9cixyPTApLGlbdC5pZF0/ITE6KGlbdC5pZF09MSxlLnB1c2goe2VsOnQsdGFyZ2V0Om4sdGltZTphLGRlbGF5OnIsZWFzaW5nOnN9KSwhMCl9LGRvbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSx0aGlzfSxzdGFydDpmdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXtvLS0sb3x8KGUubGVuZ3RoPTAsaT17fSx0JiZ0KCkpfWZvcih2YXIgbz1lLmxlbmd0aCxhPTAscj1lLmxlbmd0aDtyPmE7YSsrKXt2YXIgcz1lW2FdO3MuZWwuYW5pbWF0ZVRvKHMudGFyZ2V0LHMudGltZSxzLmRlbGF5LHMuZWFzaW5nLG4pfXJldHVybiB0aGlzfX19dmFyIG89aSgxKTt0LmV4cG9ydHM9e2NyZWF0ZVdyYXA6bn19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7ZnVuY3Rpb24gdChlLG4pe2lmKG4+PWkubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgYT0tMSxyPWUubGVuZ3RoLHM9aVtuKytdLGw9e30saD17fTsrK2E8cjspe3ZhciB1PXMoZVthXSksYz1oW3VdO2M/Yy5wdXNoKGVbYV0pOmhbdV09W2VbYV1dfXJldHVybiBvLmVhY2goaCxmdW5jdGlvbihlLGkpe2xbaV09dChlLG4pfSksbH1mdW5jdGlvbiBlKHQsYSl7aWYoYT49aS5sZW5ndGgpcmV0dXJuIHQ7dmFyIHI9W10scz1uW2ErK107cmV0dXJuIG8uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7ci5wdXNoKHtrZXk6aSx2YWx1ZXM6ZSh0LGEpfSl9KSxzP3Iuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBzKHQua2V5LGUua2V5KX0pOnJ9dmFyIGk9W10sbj1bXTtyZXR1cm57a2V5OmZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksdGhpc30sc29ydEtleXM6ZnVuY3Rpb24odCl7cmV0dXJuIG5baS5sZW5ndGgtMV09dCx0aGlzfSxlbnRyaWVzOmZ1bmN0aW9uKGkpe3JldHVybiBlKHQoaSwwKSwwKX19fXZhciBvPWkoMSk7dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLG89e2dldDpmdW5jdGlvbih0LGUsaSl7dmFyIG89bi5jbG9uZSgoYVt0XXx8e30pW2VdKTtyZXR1cm4gaSYmbi5pc0FycmF5KG8pP29bby5sZW5ndGgtMV06b319LGE9e2NvbG9yOnthY3RpdmU6W1wiIzAwNmVkZFwiLFwiI2UwZmZmZlwiXSxpbmFjdGl2ZTpbXCJyZ2JhKDAsMCwwLDApXCJdfSxjb2xvckh1ZTp7YWN0aXZlOlswLDM2MF0saW5hY3RpdmU6WzAsMF19LGNvbG9yU2F0dXJhdGlvbjp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JMaWdodG5lc3M6e2FjdGl2ZTpbLjksLjVdLGluYWN0aXZlOlswLDBdfSxjb2xvckFscGhhOnthY3RpdmU6Wy4zLDFdLGluYWN0aXZlOlswLDBdfSxvcGFjaXR5OnthY3RpdmU6Wy4zLDFdLGluYWN0aXZlOlswLDBdfSxzeW1ib2w6e2FjdGl2ZTpbXCJjaXJjbGVcIixcInJvdW5kUmVjdFwiLFwiZGlhbW9uZFwiXSxpbmFjdGl2ZTpbXCJub25lXCJdfSxzeW1ib2xTaXplOnthY3RpdmU6WzEwLDUwXSxpbmFjdGl2ZTpbMCwwXX19O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpPHJ9ZnVuY3Rpb24gbyh0LGUsaSl7dmFyIG89MCxyPXRbMF07aWYoIXIpcmV0dXJuITE7Zm9yKHZhciBzPTE7czx0Lmxlbmd0aDtzKyspe3ZhciBsPXRbc107bys9YShyWzBdLHJbMV0sbFswXSxsWzFdLGUsaSkscj1sfXZhciBoPXRbMF07cmV0dXJuIG4oclswXSxoWzBdKSYmbihyWzFdLGhbMV0pfHwobys9YShyWzBdLHJbMV0saFswXSxoWzFdLGUsaSkpLDAhPT1vfXZhciBhPWkoNzUpLHI9MWUtODt0LmV4cG9ydHM9e2NvbnRhaW46b319XSl9KTsiLCIvKiEgU2VsZWN0MiA0LjAuMyB8IGh0dHBzOi8vZ2l0aHViLmNvbS9zZWxlY3QyL3NlbGVjdDIvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCAqLyFmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxhKTphKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP3JlcXVpcmUoXCJqcXVlcnlcIik6alF1ZXJ5KX0oZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oKXtpZihhJiZhLmZuJiZhLmZuLnNlbGVjdDImJmEuZm4uc2VsZWN0Mi5hbWQpdmFyIGI9YS5mbi5zZWxlY3QyLmFtZDt2YXIgYjtyZXR1cm4gZnVuY3Rpb24oKXtpZighYnx8IWIucmVxdWlyZWpzKXtiP2M9YjpiPXt9O3ZhciBhLGMsZDshZnVuY3Rpb24oYil7ZnVuY3Rpb24gZShhLGIpe3JldHVybiB1LmNhbGwoYSxiKX1mdW5jdGlvbiBmKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbSxuPWImJmIuc3BsaXQoXCIvXCIpLG89cy5tYXAscD1vJiZvW1wiKlwiXXx8e307aWYoYSYmXCIuXCI9PT1hLmNoYXJBdCgwKSlpZihiKXtmb3IoYT1hLnNwbGl0KFwiL1wiKSxnPWEubGVuZ3RoLTEscy5ub2RlSWRDb21wYXQmJncudGVzdChhW2ddKSYmKGFbZ109YVtnXS5yZXBsYWNlKHcsXCJcIikpLGE9bi5zbGljZSgwLG4ubGVuZ3RoLTEpLmNvbmNhdChhKSxrPTA7azxhLmxlbmd0aDtrKz0xKWlmKG09YVtrXSxcIi5cIj09PW0pYS5zcGxpY2UoaywxKSxrLT0xO2Vsc2UgaWYoXCIuLlwiPT09bSl7aWYoMT09PWsmJihcIi4uXCI9PT1hWzJdfHxcIi4uXCI9PT1hWzBdKSlicmVhaztrPjAmJihhLnNwbGljZShrLTEsMiksay09Mil9YT1hLmpvaW4oXCIvXCIpfWVsc2UgMD09PWEuaW5kZXhPZihcIi4vXCIpJiYoYT1hLnN1YnN0cmluZygyKSk7aWYoKG58fHApJiZvKXtmb3IoYz1hLnNwbGl0KFwiL1wiKSxrPWMubGVuZ3RoO2s+MDtrLT0xKXtpZihkPWMuc2xpY2UoMCxrKS5qb2luKFwiL1wiKSxuKWZvcihsPW4ubGVuZ3RoO2w+MDtsLT0xKWlmKGU9b1tuLnNsaWNlKDAsbCkuam9pbihcIi9cIildLGUmJihlPWVbZF0pKXtmPWUsaD1rO2JyZWFrfWlmKGYpYnJlYWs7IWkmJnAmJnBbZF0mJihpPXBbZF0saj1rKX0hZiYmaSYmKGY9aSxoPWopLGYmJihjLnNwbGljZSgwLGgsZiksYT1jLmpvaW4oXCIvXCIpKX1yZXR1cm4gYX1mdW5jdGlvbiBnKGEsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9di5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZFswXSYmMT09PWQubGVuZ3RoJiZkLnB1c2gobnVsbCksbi5hcHBseShiLGQuY29uY2F0KFthLGNdKSl9fWZ1bmN0aW9uIGgoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBmKGIsYSl9fWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3FbYV09Yn19ZnVuY3Rpb24gaihhKXtpZihlKHIsYSkpe3ZhciBjPXJbYV07ZGVsZXRlIHJbYV0sdFthXT0hMCxtLmFwcGx5KGIsYyl9aWYoIWUocSxhKSYmIWUodCxhKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBcIithKTtyZXR1cm4gcVthXX1mdW5jdGlvbiBrKGEpe3ZhciBiLGM9YT9hLmluZGV4T2YoXCIhXCIpOi0xO3JldHVybiBjPi0xJiYoYj1hLnN1YnN0cmluZygwLGMpLGE9YS5zdWJzdHJpbmcoYysxLGEubGVuZ3RoKSksW2IsYV19ZnVuY3Rpb24gbChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gcyYmcy5jb25maWcmJnMuY29uZmlnW2FdfHx7fX19dmFyIG0sbixvLHAscT17fSxyPXt9LHM9e30sdD17fSx1PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdj1bXS5zbGljZSx3PS9cXC5qcyQvO289ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWsoYSksZT1kWzBdO3JldHVybiBhPWRbMV0sZSYmKGU9ZihlLGIpLGM9aihlKSksZT9hPWMmJmMubm9ybWFsaXplP2Mubm9ybWFsaXplKGEsaChiKSk6ZihhLGIpOihhPWYoYSxiKSxkPWsoYSksZT1kWzBdLGE9ZFsxXSxlJiYoYz1qKGUpKSkse2Y6ZT9lK1wiIVwiK2E6YSxuOmEscHI6ZSxwOmN9fSxwPXtyZXF1aXJlOmZ1bmN0aW9uKGEpe3JldHVybiBnKGEpfSxleHBvcnRzOmZ1bmN0aW9uKGEpe3ZhciBiPXFbYV07cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGI/YjpxW2FdPXt9fSxtb2R1bGU6ZnVuY3Rpb24oYSl7cmV0dXJue2lkOmEsdXJpOlwiXCIsZXhwb3J0czpxW2FdLGNvbmZpZzpsKGEpfX19LG09ZnVuY3Rpb24oYSxjLGQsZil7dmFyIGgsayxsLG0sbixzLHU9W10sdj10eXBlb2YgZDtpZihmPWZ8fGEsXCJ1bmRlZmluZWRcIj09PXZ8fFwiZnVuY3Rpb25cIj09PXYpe2ZvcihjPSFjLmxlbmd0aCYmZC5sZW5ndGg/W1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdOmMsbj0wO248Yy5sZW5ndGg7bis9MSlpZihtPW8oY1tuXSxmKSxrPW0uZixcInJlcXVpcmVcIj09PWspdVtuXT1wLnJlcXVpcmUoYSk7ZWxzZSBpZihcImV4cG9ydHNcIj09PWspdVtuXT1wLmV4cG9ydHMoYSkscz0hMDtlbHNlIGlmKFwibW9kdWxlXCI9PT1rKWg9dVtuXT1wLm1vZHVsZShhKTtlbHNlIGlmKGUocSxrKXx8ZShyLGspfHxlKHQsaykpdVtuXT1qKGspO2Vsc2V7aWYoIW0ucCl0aHJvdyBuZXcgRXJyb3IoYStcIiBtaXNzaW5nIFwiK2spO20ucC5sb2FkKG0ubixnKGYsITApLGkoaykse30pLHVbbl09cVtrXX1sPWQ/ZC5hcHBseShxW2FdLHUpOnZvaWQgMCxhJiYoaCYmaC5leHBvcnRzIT09YiYmaC5leHBvcnRzIT09cVthXT9xW2FdPWguZXhwb3J0czpsPT09YiYmc3x8KHFbYV09bCkpfWVsc2UgYSYmKHFbYV09ZCl9LGE9Yz1uPWZ1bmN0aW9uKGEsYyxkLGUsZil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIHBbYV0/cFthXShjKTpqKG8oYSxjKS5mKTtpZighYS5zcGxpY2Upe2lmKHM9YSxzLmRlcHMmJm4ocy5kZXBzLHMuY2FsbGJhY2spLCFjKXJldHVybjtjLnNwbGljZT8oYT1jLGM9ZCxkPW51bGwpOmE9Yn1yZXR1cm4gYz1jfHxmdW5jdGlvbigpe30sXCJmdW5jdGlvblwiPT10eXBlb2YgZCYmKGQ9ZSxlPWYpLGU/bShiLGEsYyxkKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bShiLGEsYyxkKX0sNCksbn0sbi5jb25maWc9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oYSl9LGEuX2RlZmluZWQ9cSxkPWZ1bmN0aW9uKGEsYixjKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCJTZWUgYWxtb25kIFJFQURNRTogaW5jb3JyZWN0IG1vZHVsZSBidWlsZCwgbm8gbW9kdWxlIG5hbWVcIik7Yi5zcGxpY2V8fChjPWIsYj1bXSksZShxLGEpfHxlKHIsYSl8fChyW2FdPVthLGIsY10pfSxkLmFtZD17alF1ZXJ5OiEwfX0oKSxiLnJlcXVpcmVqcz1hLGIucmVxdWlyZT1jLGIuZGVmaW5lPWR9fSgpLGIuZGVmaW5lKFwiYWxtb25kXCIsZnVuY3Rpb24oKXt9KSxiLmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7dmFyIGI9YXx8JDtyZXR1cm4gbnVsbD09YiYmY29uc29sZSYmY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcihcIlNlbGVjdDI6IEFuIGluc3RhbmNlIG9mIGpRdWVyeSBvciBhIGpRdWVyeS1jb21wYXRpYmxlIGxpYnJhcnkgd2FzIG5vdCBmb3VuZC4gTWFrZSBzdXJlIHRoYXQgeW91IGFyZSBpbmNsdWRpbmcgalF1ZXJ5IGJlZm9yZSBTZWxlY3QyIG9uIHlvdXIgd2ViIHBhZ2UuXCIpLGJ9KSxiLmRlZmluZShcInNlbGVjdDIvdXRpbHNcIixbXCJqcXVlcnlcIl0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLnByb3RvdHlwZSxjPVtdO2Zvcih2YXIgZCBpbiBiKXt2YXIgZT1iW2RdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJlwiY29uc3RydWN0b3JcIiE9PWQmJmMucHVzaChkKX1yZXR1cm4gY312YXIgYz17fTtjLkV4dGVuZD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLmNvbnN0cnVjdG9yPWF9dmFyIGQ9e30uaGFzT3duUHJvcGVydHk7Zm9yKHZhciBlIGluIGIpZC5jYWxsKGIsZSkmJihhW2VdPWJbZV0pO3JldHVybiBjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLnByb3RvdHlwZT1uZXcgYyxhLl9fc3VwZXJfXz1iLnByb3RvdHlwZSxhfSxjLkRlY29yYXRlPWZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZCgpe3ZhciBiPUFycmF5LnByb3RvdHlwZS51bnNoaWZ0LGQ9Yy5wcm90b3R5cGUuY29uc3RydWN0b3IubGVuZ3RoLGU9YS5wcm90b3R5cGUuY29uc3RydWN0b3I7ZD4wJiYoYi5jYWxsKGFyZ3VtZW50cyxhLnByb3RvdHlwZS5jb25zdHJ1Y3RvciksZT1jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZSgpe3RoaXMuY29uc3RydWN0b3I9ZH12YXIgZj1iKGMpLGc9YihhKTtjLmRpc3BsYXlOYW1lPWEuZGlzcGxheU5hbWUsZC5wcm90b3R5cGU9bmV3IGU7Zm9yKHZhciBoPTA7aDxnLmxlbmd0aDtoKyspe3ZhciBpPWdbaF07ZC5wcm90b3R5cGVbaV09YS5wcm90b3R5cGVbaV19Zm9yKHZhciBqPShmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe307YSBpbiBkLnByb3RvdHlwZSYmKGI9ZC5wcm90b3R5cGVbYV0pO3ZhciBlPWMucHJvdG90eXBlW2FdO3JldHVybiBmdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS51bnNoaWZ0O3JldHVybiBhLmNhbGwoYXJndW1lbnRzLGIpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLGs9MDtrPGYubGVuZ3RoO2srKyl7dmFyIGw9ZltrXTtkLnByb3RvdHlwZVtsXT1qKGwpfXJldHVybiBkfTt2YXIgZD1mdW5jdGlvbigpe3RoaXMubGlzdGVuZXJzPXt9fTtyZXR1cm4gZC5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiKXt0aGlzLmxpc3RlbmVycz10aGlzLmxpc3RlbmVyc3x8e30sYSBpbiB0aGlzLmxpc3RlbmVycz90aGlzLmxpc3RlbmVyc1thXS5wdXNoKGIpOnRoaXMubGlzdGVuZXJzW2FdPVtiXX0sZC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbihhKXt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1iLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMubGlzdGVuZXJzPXRoaXMubGlzdGVuZXJzfHx7fSxudWxsPT1jJiYoYz1bXSksMD09PWMubGVuZ3RoJiZjLnB1c2goe30pLGNbMF0uX3R5cGU9YSxhIGluIHRoaXMubGlzdGVuZXJzJiZ0aGlzLmludm9rZSh0aGlzLmxpc3RlbmVyc1thXSxiLmNhbGwoYXJndW1lbnRzLDEpKSxcIipcImluIHRoaXMubGlzdGVuZXJzJiZ0aGlzLmludm9rZSh0aGlzLmxpc3RlbmVyc1tcIipcIl0sYXJndW1lbnRzKX0sZC5wcm90b3R5cGUuaW52b2tlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWFbY10uYXBwbHkodGhpcyxiKX0sYy5PYnNlcnZhYmxlPWQsYy5nZW5lcmF0ZUNoYXJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDthPmM7YysrKXt2YXIgZD1NYXRoLmZsb29yKDM2Kk1hdGgucmFuZG9tKCkpO2IrPWQudG9TdHJpbmcoMzYpfXJldHVybiBifSxjLmJpbmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXthLmFwcGx5KGIsYXJndW1lbnRzKX19LGMuX2NvbnZlcnREYXRhPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXt2YXIgYz1iLnNwbGl0KFwiLVwiKSxkPWE7aWYoMSE9PWMubGVuZ3RoKXtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtmPWYuc3Vic3RyaW5nKDAsMSkudG9Mb3dlckNhc2UoKStmLnN1YnN0cmluZygxKSxmIGluIGR8fChkW2ZdPXt9KSxlPT1jLmxlbmd0aC0xJiYoZFtmXT1hW2JdKSxkPWRbZl19ZGVsZXRlIGFbYl19fXJldHVybiBhfSxjLmhhc1Njcm9sbD1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYyksZT1jLnN0eWxlLm92ZXJmbG93WCxmPWMuc3R5bGUub3ZlcmZsb3dZO3JldHVybiBlIT09Znx8XCJoaWRkZW5cIiE9PWYmJlwidmlzaWJsZVwiIT09Zj9cInNjcm9sbFwiPT09ZXx8XCJzY3JvbGxcIj09PWY/ITA6ZC5pbm5lckhlaWdodCgpPGMuc2Nyb2xsSGVpZ2h0fHxkLmlubmVyV2lkdGgoKTxjLnNjcm9sbFdpZHRoOiExfSxjLmVzY2FwZU1hcmt1cD1mdW5jdGlvbihhKXt2YXIgYj17XCJcXFxcXCI6XCImIzkyO1wiLFwiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImIzM5O1wiLFwiL1wiOlwiJiM0NztcIn07cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGE/YTpTdHJpbmcoYSkucmVwbGFjZSgvWyY8PlwiJ1xcL1xcXFxdL2csZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19KX0sYy5hcHBlbmRNYW55PWZ1bmN0aW9uKGIsYyl7aWYoXCIxLjdcIj09PWEuZm4uanF1ZXJ5LnN1YnN0cigwLDMpKXt2YXIgZD1hKCk7YS5tYXAoYyxmdW5jdGlvbihhKXtkPWQuYWRkKGEpfSksYz1kfWIuYXBwZW5kKGMpfSxjfSksYi5kZWZpbmUoXCJzZWxlY3QyL3Jlc3VsdHNcIixbXCJqcXVlcnlcIixcIi4vdXRpbHNcIl0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYixkKXt0aGlzLiRlbGVtZW50PWEsdGhpcy5kYXRhPWQsdGhpcy5vcHRpb25zPWIsYy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKX1yZXR1cm4gYi5FeHRlbmQoYyxiLk9ic2VydmFibGUpLGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBiPWEoJzx1bCBjbGFzcz1cInNlbGVjdDItcmVzdWx0c19fb3B0aW9uc1wiIHJvbGU9XCJ0cmVlXCI+PC91bD4nKTtyZXR1cm4gdGhpcy5vcHRpb25zLmdldChcIm11bHRpcGxlXCIpJiZiLmF0dHIoXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiLFwidHJ1ZVwiKSx0aGlzLiRyZXN1bHRzPWIsYn0sYy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLiRyZXN1bHRzLmVtcHR5KCl9LGMucHJvdG90eXBlLmRpc3BsYXlNZXNzYWdlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucy5nZXQoXCJlc2NhcGVNYXJrdXBcIik7dGhpcy5jbGVhcigpLHRoaXMuaGlkZUxvYWRpbmcoKTt2YXIgZD1hKCc8bGkgcm9sZT1cInRyZWVpdGVtXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCIgY2xhc3M9XCJzZWxlY3QyLXJlc3VsdHNfX29wdGlvblwiPjwvbGk+JyksZT10aGlzLm9wdGlvbnMuZ2V0KFwidHJhbnNsYXRpb25zXCIpLmdldChiLm1lc3NhZ2UpO2QuYXBwZW5kKGMoZShiLmFyZ3MpKSksZFswXS5jbGFzc05hbWUrPVwiIHNlbGVjdDItcmVzdWx0c19fbWVzc2FnZVwiLHRoaXMuJHJlc3VsdHMuYXBwZW5kKGQpfSxjLnByb3RvdHlwZS5oaWRlTWVzc2FnZXM9ZnVuY3Rpb24oKXt0aGlzLiRyZXN1bHRzLmZpbmQoXCIuc2VsZWN0Mi1yZXN1bHRzX19tZXNzYWdlXCIpLnJlbW92ZSgpfSxjLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSl7dGhpcy5oaWRlTG9hZGluZygpO3ZhciBiPVtdO2lmKG51bGw9PWEucmVzdWx0c3x8MD09PWEucmVzdWx0cy5sZW5ndGgpcmV0dXJuIHZvaWQoMD09PXRoaXMuJHJlc3VsdHMuY2hpbGRyZW4oKS5sZW5ndGgmJnRoaXMudHJpZ2dlcihcInJlc3VsdHM6bWVzc2FnZVwiLHttZXNzYWdlOlwibm9SZXN1bHRzXCJ9KSk7YS5yZXN1bHRzPXRoaXMuc29ydChhLnJlc3VsdHMpO2Zvcih2YXIgYz0wO2M8YS5yZXN1bHRzLmxlbmd0aDtjKyspe3ZhciBkPWEucmVzdWx0c1tjXSxlPXRoaXMub3B0aW9uKGQpO2IucHVzaChlKX10aGlzLiRyZXN1bHRzLmFwcGVuZChiKX0sYy5wcm90b3R5cGUucG9zaXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmZpbmQoXCIuc2VsZWN0Mi1yZXN1bHRzXCIpO2MuYXBwZW5kKGEpfSxjLnByb3RvdHlwZS5zb3J0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy5nZXQoXCJzb3J0ZXJcIik7cmV0dXJuIGIoYSl9LGMucHJvdG90eXBlLmhpZ2hsaWdodEZpcnN0SXRlbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJHJlc3VsdHMuZmluZChcIi5zZWxlY3QyLXJlc3VsdHNfX29wdGlvblthcmlhLXNlbGVjdGVkXVwiKSxiPWEuZmlsdGVyKFwiW2FyaWEtc2VsZWN0ZWQ9dHJ1ZV1cIik7Yi5sZW5ndGg+MD9iLmZpcnN0KCkudHJpZ2dlcihcIm1vdXNlZW50ZXJcIik6YS5maXJzdCgpLnRyaWdnZXIoXCJtb3VzZWVudGVyXCIpLHRoaXMuZW5zdXJlSGlnaGxpZ2h0VmlzaWJsZSgpfSxjLnByb3RvdHlwZS5zZXRDbGFzc2VzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLmRhdGEuY3VycmVudChmdW5jdGlvbihjKXt2YXIgZD1hLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybiBhLmlkLnRvU3RyaW5nKCl9KSxlPWIuJHJlc3VsdHMuZmluZChcIi5zZWxlY3QyLXJlc3VsdHNfX29wdGlvblthcmlhLXNlbGVjdGVkXVwiKTtlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9YS5kYXRhKHRoaXMsXCJkYXRhXCIpLGU9XCJcIitjLmlkO251bGwhPWMuZWxlbWVudCYmYy5lbGVtZW50LnNlbGVjdGVkfHxudWxsPT1jLmVsZW1lbnQmJmEuaW5BcnJheShlLGQpPi0xP2IuYXR0cihcImFyaWEtc2VsZWN0ZWRcIixcInRydWVcIik6Yi5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLFwiZmFsc2VcIil9KX0pfSxjLnByb3RvdHlwZS5zaG93TG9hZGluZz1mdW5jdGlvbihhKXt0aGlzLmhpZGVMb2FkaW5nKCk7dmFyIGI9dGhpcy5vcHRpb25zLmdldChcInRyYW5zbGF0aW9uc1wiKS5nZXQoXCJzZWFyY2hpbmdcIiksYz17ZGlzYWJsZWQ6ITAsbG9hZGluZzohMCx0ZXh0OmIoYSl9LGQ9dGhpcy5vcHRpb24oYyk7ZC5jbGFzc05hbWUrPVwiIGxvYWRpbmctcmVzdWx0c1wiLHRoaXMuJHJlc3VsdHMucHJlcGVuZChkKX0sYy5wcm90b3R5cGUuaGlkZUxvYWRpbmc9ZnVuY3Rpb24oKXt0aGlzLiRyZXN1bHRzLmZpbmQoXCIubG9hZGluZy1yZXN1bHRzXCIpLnJlbW92ZSgpfSxjLnByb3RvdHlwZS5vcHRpb249ZnVuY3Rpb24oYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO2MuY2xhc3NOYW1lPVwic2VsZWN0Mi1yZXN1bHRzX19vcHRpb25cIjt2YXIgZD17cm9sZTpcInRyZWVpdGVtXCIsXCJhcmlhLXNlbGVjdGVkXCI6XCJmYWxzZVwifTtiLmRpc2FibGVkJiYoZGVsZXRlIGRbXCJhcmlhLXNlbGVjdGVkXCJdLGRbXCJhcmlhLWRpc2FibGVkXCJdPVwidHJ1ZVwiKSxudWxsPT1iLmlkJiZkZWxldGUgZFtcImFyaWEtc2VsZWN0ZWRcIl0sbnVsbCE9Yi5fcmVzdWx0SWQmJihjLmlkPWIuX3Jlc3VsdElkKSxiLnRpdGxlJiYoYy50aXRsZT1iLnRpdGxlKSxiLmNoaWxkcmVuJiYoZC5yb2xlPVwiZ3JvdXBcIixkW1wiYXJpYS1sYWJlbFwiXT1iLnRleHQsZGVsZXRlIGRbXCJhcmlhLXNlbGVjdGVkXCJdKTtmb3IodmFyIGUgaW4gZCl7dmFyIGY9ZFtlXTtjLnNldEF0dHJpYnV0ZShlLGYpfWlmKGIuY2hpbGRyZW4pe3ZhciBnPWEoYyksaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIpO2guY2xhc3NOYW1lPVwic2VsZWN0Mi1yZXN1bHRzX19ncm91cFwiO2EoaCk7dGhpcy50ZW1wbGF0ZShiLGgpO2Zvcih2YXIgaT1bXSxqPTA7ajxiLmNoaWxkcmVuLmxlbmd0aDtqKyspe3ZhciBrPWIuY2hpbGRyZW5bal0sbD10aGlzLm9wdGlvbihrKTtpLnB1c2gobCl9dmFyIG09YShcIjx1bD48L3VsPlwiLHtcImNsYXNzXCI6XCJzZWxlY3QyLXJlc3VsdHNfX29wdGlvbnMgc2VsZWN0Mi1yZXN1bHRzX19vcHRpb25zLS1uZXN0ZWRcIn0pO20uYXBwZW5kKGkpLGcuYXBwZW5kKGgpLGcuYXBwZW5kKG0pfWVsc2UgdGhpcy50ZW1wbGF0ZShiLGMpO3JldHVybiBhLmRhdGEoYyxcImRhdGFcIixiKSxjfSxjLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxlPWIuaWQrXCItcmVzdWx0c1wiO3RoaXMuJHJlc3VsdHMuYXR0cihcImlkXCIsZSksYi5vbihcInJlc3VsdHM6YWxsXCIsZnVuY3Rpb24oYSl7ZC5jbGVhcigpLGQuYXBwZW5kKGEuZGF0YSksYi5pc09wZW4oKSYmKGQuc2V0Q2xhc3NlcygpLGQuaGlnaGxpZ2h0Rmlyc3RJdGVtKCkpfSksYi5vbihcInJlc3VsdHM6YXBwZW5kXCIsZnVuY3Rpb24oYSl7ZC5hcHBlbmQoYS5kYXRhKSxiLmlzT3BlbigpJiZkLnNldENsYXNzZXMoKX0pLGIub24oXCJxdWVyeVwiLGZ1bmN0aW9uKGEpe2QuaGlkZU1lc3NhZ2VzKCksZC5zaG93TG9hZGluZyhhKX0pLGIub24oXCJzZWxlY3RcIixmdW5jdGlvbigpe2IuaXNPcGVuKCkmJihkLnNldENsYXNzZXMoKSxkLmhpZ2hsaWdodEZpcnN0SXRlbSgpKX0pLGIub24oXCJ1bnNlbGVjdFwiLGZ1bmN0aW9uKCl7Yi5pc09wZW4oKSYmKGQuc2V0Q2xhc3NlcygpLGQuaGlnaGxpZ2h0Rmlyc3RJdGVtKCkpfSksYi5vbihcIm9wZW5cIixmdW5jdGlvbigpe2QuJHJlc3VsdHMuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIiksZC4kcmVzdWx0cy5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpLGQuc2V0Q2xhc3NlcygpLGQuZW5zdXJlSGlnaGxpZ2h0VmlzaWJsZSgpfSksYi5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXtkLiRyZXN1bHRzLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSxkLiRyZXN1bHRzLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxkLiRyZXN1bHRzLnJlbW92ZUF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIil9KSxiLm9uKFwicmVzdWx0czp0b2dnbGVcIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0SGlnaGxpZ2h0ZWRSZXN1bHRzKCk7MCE9PWEubGVuZ3RoJiZhLnRyaWdnZXIoXCJtb3VzZXVwXCIpfSksYi5vbihcInJlc3VsdHM6c2VsZWN0XCIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldEhpZ2hsaWdodGVkUmVzdWx0cygpO2lmKDAhPT1hLmxlbmd0aCl7dmFyIGI9YS5kYXRhKFwiZGF0YVwiKTtcInRydWVcIj09YS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiKT9kLnRyaWdnZXIoXCJjbG9zZVwiLHt9KTpkLnRyaWdnZXIoXCJzZWxlY3RcIix7ZGF0YTpifSl9fSksYi5vbihcInJlc3VsdHM6cHJldmlvdXNcIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0SGlnaGxpZ2h0ZWRSZXN1bHRzKCksYj1kLiRyZXN1bHRzLmZpbmQoXCJbYXJpYS1zZWxlY3RlZF1cIiksYz1iLmluZGV4KGEpO2lmKDAhPT1jKXt2YXIgZT1jLTE7MD09PWEubGVuZ3RoJiYoZT0wKTt2YXIgZj1iLmVxKGUpO2YudHJpZ2dlcihcIm1vdXNlZW50ZXJcIik7dmFyIGc9ZC4kcmVzdWx0cy5vZmZzZXQoKS50b3AsaD1mLm9mZnNldCgpLnRvcCxpPWQuJHJlc3VsdHMuc2Nyb2xsVG9wKCkrKGgtZyk7MD09PWU/ZC4kcmVzdWx0cy5zY3JvbGxUb3AoMCk6MD5oLWcmJmQuJHJlc3VsdHMuc2Nyb2xsVG9wKGkpfX0pLGIub24oXCJyZXN1bHRzOm5leHRcIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0SGlnaGxpZ2h0ZWRSZXN1bHRzKCksYj1kLiRyZXN1bHRzLmZpbmQoXCJbYXJpYS1zZWxlY3RlZF1cIiksYz1iLmluZGV4KGEpLGU9YysxO2lmKCEoZT49Yi5sZW5ndGgpKXt2YXIgZj1iLmVxKGUpO2YudHJpZ2dlcihcIm1vdXNlZW50ZXJcIik7dmFyIGc9ZC4kcmVzdWx0cy5vZmZzZXQoKS50b3ArZC4kcmVzdWx0cy5vdXRlckhlaWdodCghMSksaD1mLm9mZnNldCgpLnRvcCtmLm91dGVySGVpZ2h0KCExKSxpPWQuJHJlc3VsdHMuc2Nyb2xsVG9wKCkraC1nOzA9PT1lP2QuJHJlc3VsdHMuc2Nyb2xsVG9wKDApOmg+ZyYmZC4kcmVzdWx0cy5zY3JvbGxUb3AoaSl9fSksYi5vbihcInJlc3VsdHM6Zm9jdXNcIixmdW5jdGlvbihhKXthLmVsZW1lbnQuYWRkQ2xhc3MoXCJzZWxlY3QyLXJlc3VsdHNfX29wdGlvbi0taGlnaGxpZ2h0ZWRcIil9KSxiLm9uKFwicmVzdWx0czptZXNzYWdlXCIsZnVuY3Rpb24oYSl7ZC5kaXNwbGF5TWVzc2FnZShhKX0pLGEuZm4ubW91c2V3aGVlbCYmdGhpcy4kcmVzdWx0cy5vbihcIm1vdXNld2hlZWxcIixmdW5jdGlvbihhKXt2YXIgYj1kLiRyZXN1bHRzLnNjcm9sbFRvcCgpLGM9ZC4kcmVzdWx0cy5nZXQoMCkuc2Nyb2xsSGVpZ2h0LWIrYS5kZWx0YVksZT1hLmRlbHRhWT4wJiZiLWEuZGVsdGFZPD0wLGY9YS5kZWx0YVk8MCYmYzw9ZC4kcmVzdWx0cy5oZWlnaHQoKTtlPyhkLiRyZXN1bHRzLnNjcm9sbFRvcCgwKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSk6ZiYmKGQuJHJlc3VsdHMuc2Nyb2xsVG9wKGQuJHJlc3VsdHMuZ2V0KDApLnNjcm9sbEhlaWdodC1kLiRyZXN1bHRzLmhlaWdodCgpKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSl9KSx0aGlzLiRyZXN1bHRzLm9uKFwibW91c2V1cFwiLFwiLnNlbGVjdDItcmVzdWx0c19fb3B0aW9uW2FyaWEtc2VsZWN0ZWRdXCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKSxlPWMuZGF0YShcImRhdGFcIik7cmV0dXJuXCJ0cnVlXCI9PT1jLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIpP3ZvaWQoZC5vcHRpb25zLmdldChcIm11bHRpcGxlXCIpP2QudHJpZ2dlcihcInVuc2VsZWN0XCIse29yaWdpbmFsRXZlbnQ6YixkYXRhOmV9KTpkLnRyaWdnZXIoXCJjbG9zZVwiLHt9KSk6dm9pZCBkLnRyaWdnZXIoXCJzZWxlY3RcIix7b3JpZ2luYWxFdmVudDpiLGRhdGE6ZX0pfSksdGhpcy4kcmVzdWx0cy5vbihcIm1vdXNlZW50ZXJcIixcIi5zZWxlY3QyLXJlc3VsdHNfX29wdGlvblthcmlhLXNlbGVjdGVkXVwiLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcykuZGF0YShcImRhdGFcIik7ZC5nZXRIaWdobGlnaHRlZFJlc3VsdHMoKS5yZW1vdmVDbGFzcyhcInNlbGVjdDItcmVzdWx0c19fb3B0aW9uLS1oaWdobGlnaHRlZFwiKSxkLnRyaWdnZXIoXCJyZXN1bHRzOmZvY3VzXCIse2RhdGE6YyxlbGVtZW50OmEodGhpcyl9KX0pfSxjLnByb3RvdHlwZS5nZXRIaWdobGlnaHRlZFJlc3VsdHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRyZXN1bHRzLmZpbmQoXCIuc2VsZWN0Mi1yZXN1bHRzX19vcHRpb24tLWhpZ2hsaWdodGVkXCIpO3JldHVybiBhfSxjLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy4kcmVzdWx0cy5yZW1vdmUoKX0sYy5wcm90b3R5cGUuZW5zdXJlSGlnaGxpZ2h0VmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0SGlnaGxpZ2h0ZWRSZXN1bHRzKCk7aWYoMCE9PWEubGVuZ3RoKXt2YXIgYj10aGlzLiRyZXN1bHRzLmZpbmQoXCJbYXJpYS1zZWxlY3RlZF1cIiksYz1iLmluZGV4KGEpLGQ9dGhpcy4kcmVzdWx0cy5vZmZzZXQoKS50b3AsZT1hLm9mZnNldCgpLnRvcCxmPXRoaXMuJHJlc3VsdHMuc2Nyb2xsVG9wKCkrKGUtZCksZz1lLWQ7Zi09MiphLm91dGVySGVpZ2h0KCExKSwyPj1jP3RoaXMuJHJlc3VsdHMuc2Nyb2xsVG9wKDApOihnPnRoaXMuJHJlc3VsdHMub3V0ZXJIZWlnaHQoKXx8MD5nKSYmdGhpcy4kcmVzdWx0cy5zY3JvbGxUb3AoZil9fSxjLnByb3RvdHlwZS50ZW1wbGF0ZT1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMub3B0aW9ucy5nZXQoXCJ0ZW1wbGF0ZVJlc3VsdFwiKSxlPXRoaXMub3B0aW9ucy5nZXQoXCJlc2NhcGVNYXJrdXBcIiksZj1kKGIsYyk7bnVsbD09Zj9jLnN0eWxlLmRpc3BsYXk9XCJub25lXCI6XCJzdHJpbmdcIj09dHlwZW9mIGY/Yy5pbm5lckhUTUw9ZShmKTphKGMpLmFwcGVuZChmKX0sY30pLGIuZGVmaW5lKFwic2VsZWN0Mi9rZXlzXCIsW10sZnVuY3Rpb24oKXt2YXIgYT17QkFDS1NQQUNFOjgsVEFCOjksRU5URVI6MTMsU0hJRlQ6MTYsQ1RSTDoxNyxBTFQ6MTgsRVNDOjI3LFNQQUNFOjMyLFBBR0VfVVA6MzMsUEFHRV9ET1dOOjM0LEVORDozNSxIT01FOjM2LExFRlQ6MzcsVVA6MzgsUklHSFQ6MzksRE9XTjo0MCxERUxFVEU6NDZ9O3JldHVybiBhfSksYi5kZWZpbmUoXCJzZWxlY3QyL3NlbGVjdGlvbi9iYXNlXCIsW1wianF1ZXJ5XCIsXCIuLi91dGlsc1wiLFwiLi4va2V5c1wiXSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhLGIpe3RoaXMuJGVsZW1lbnQ9YSx0aGlzLm9wdGlvbnM9YixkLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfXJldHVybiBiLkV4dGVuZChkLGIuT2JzZXJ2YWJsZSksZC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGI9YSgnPHNwYW4gY2xhc3M9XCJzZWxlY3QyLXNlbGVjdGlvblwiIHJvbGU9XCJjb21ib2JveFwiICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPjwvc3Bhbj4nKTtyZXR1cm4gdGhpcy5fdGFiaW5kZXg9MCxudWxsIT10aGlzLiRlbGVtZW50LmRhdGEoXCJvbGQtdGFiaW5kZXhcIik/dGhpcy5fdGFiaW5kZXg9dGhpcy4kZWxlbWVudC5kYXRhKFwib2xkLXRhYmluZGV4XCIpOm51bGwhPXRoaXMuJGVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIpJiYodGhpcy5fdGFiaW5kZXg9dGhpcy4kZWxlbWVudC5hdHRyKFwidGFiaW5kZXhcIikpLGIuYXR0cihcInRpdGxlXCIsdGhpcy4kZWxlbWVudC5hdHRyKFwidGl0bGVcIikpLGIuYXR0cihcInRhYmluZGV4XCIsdGhpcy5fdGFiaW5kZXgpLHRoaXMuJHNlbGVjdGlvbj1iLGJ9LGQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9KGEuaWQrXCItY29udGFpbmVyXCIsYS5pZCtcIi1yZXN1bHRzXCIpO3RoaXMuY29udGFpbmVyPWEsdGhpcy4kc2VsZWN0aW9uLm9uKFwiZm9jdXNcIixmdW5jdGlvbihhKXtkLnRyaWdnZXIoXCJmb2N1c1wiLGEpfSksdGhpcy4kc2VsZWN0aW9uLm9uKFwiYmx1clwiLGZ1bmN0aW9uKGEpe2QuX2hhbmRsZUJsdXIoYSl9KSx0aGlzLiRzZWxlY3Rpb24ub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7ZC50cmlnZ2VyKFwia2V5cHJlc3NcIixhKSxhLndoaWNoPT09Yy5TUEFDRSYmYS5wcmV2ZW50RGVmYXVsdCgpfSksYS5vbihcInJlc3VsdHM6Zm9jdXNcIixmdW5jdGlvbihhKXtkLiRzZWxlY3Rpb24uYXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLGEuZGF0YS5fcmVzdWx0SWQpfSksYS5vbihcInNlbGVjdGlvbjp1cGRhdGVcIixmdW5jdGlvbihhKXtkLnVwZGF0ZShhLmRhdGEpfSksYS5vbihcIm9wZW5cIixmdW5jdGlvbigpe2QuJHNlbGVjdGlvbi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSxkLiRzZWxlY3Rpb24uYXR0cihcImFyaWEtb3duc1wiLGUpLGQuX2F0dGFjaENsb3NlSGFuZGxlcihhKX0pLGEub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7ZC4kc2VsZWN0aW9uLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSxkLiRzZWxlY3Rpb24ucmVtb3ZlQXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiKSxkLiRzZWxlY3Rpb24ucmVtb3ZlQXR0cihcImFyaWEtb3duc1wiKSxkLiRzZWxlY3Rpb24uZm9jdXMoKSxkLl9kZXRhY2hDbG9zZUhhbmRsZXIoYSl9KSxhLm9uKFwiZW5hYmxlXCIsZnVuY3Rpb24oKXtkLiRzZWxlY3Rpb24uYXR0cihcInRhYmluZGV4XCIsZC5fdGFiaW5kZXgpfSksYS5vbihcImRpc2FibGVcIixmdW5jdGlvbigpe2QuJHNlbGVjdGlvbi5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpfSl9LGQucHJvdG90eXBlLl9oYW5kbGVCbHVyPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT1jLiRzZWxlY3Rpb25bMF18fGEuY29udGFpbnMoYy4kc2VsZWN0aW9uWzBdLGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpfHxjLnRyaWdnZXIoXCJibHVyXCIsYil9LDEpfSxkLnByb3RvdHlwZS5fYXR0YWNoQ2xvc2VIYW5kbGVyPWZ1bmN0aW9uKGIpe2EoZG9jdW1lbnQuYm9keSkub24oXCJtb3VzZWRvd24uc2VsZWN0Mi5cIitiLmlkLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KFwiLnNlbGVjdDJcIiksZT1hKFwiLnNlbGVjdDIuc2VsZWN0Mi1jb250YWluZXItLW9wZW5cIik7ZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtpZih0aGlzIT1kWzBdKXt2YXIgYz1iLmRhdGEoXCJlbGVtZW50XCIpO2Muc2VsZWN0MihcImNsb3NlXCIpfX0pfSl9LGQucHJvdG90eXBlLl9kZXRhY2hDbG9zZUhhbmRsZXI9ZnVuY3Rpb24oYil7YShkb2N1bWVudC5ib2R5KS5vZmYoXCJtb3VzZWRvd24uc2VsZWN0Mi5cIitiLmlkKX0sZC5wcm90b3R5cGUucG9zaXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmZpbmQoXCIuc2VsZWN0aW9uXCIpO2MuYXBwZW5kKGEpfSxkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZGV0YWNoQ2xvc2VIYW5kbGVyKHRoaXMuY29udGFpbmVyKX0sZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcIlRoZSBgdXBkYXRlYCBtZXRob2QgbXVzdCBiZSBkZWZpbmVkIGluIGNoaWxkIGNsYXNzZXMuXCIpfSxkfSksYi5kZWZpbmUoXCJzZWxlY3QyL3NlbGVjdGlvbi9zaW5nbGVcIixbXCJqcXVlcnlcIixcIi4vYmFzZVwiLFwiLi4vdXRpbHNcIixcIi4uL2tleXNcIl0sZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYy5FeHRlbmQoZSxiKSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1lLl9fc3VwZXJfXy5yZW5kZXIuY2FsbCh0aGlzKTtyZXR1cm4gYS5hZGRDbGFzcyhcInNlbGVjdDItc2VsZWN0aW9uLS1zaW5nbGVcIiksYS5odG1sKCc8c3BhbiBjbGFzcz1cInNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cInNlbGVjdDItc2VsZWN0aW9uX19hcnJvd1wiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48YiByb2xlPVwicHJlc2VudGF0aW9uXCI+PC9iPjwvc3Bhbj4nKSxhfSxlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztlLl9fc3VwZXJfXy5iaW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZD1hLmlkK1wiLWNvbnRhaW5lclwiO3RoaXMuJHNlbGVjdGlvbi5maW5kKFwiLnNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZFwiKS5hdHRyKFwiaWRcIixkKSx0aGlzLiRzZWxlY3Rpb24uYXR0cihcImFyaWEtbGFiZWxsZWRieVwiLGQpLHRoaXMuJHNlbGVjdGlvbi5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpezE9PT1hLndoaWNoJiZjLnRyaWdnZXIoXCJ0b2dnbGVcIix7b3JpZ2luYWxFdmVudDphfSl9KSx0aGlzLiRzZWxlY3Rpb24ub24oXCJmb2N1c1wiLGZ1bmN0aW9uKGEpe30pLHRoaXMuJHNlbGVjdGlvbi5vbihcImJsdXJcIixmdW5jdGlvbihhKXt9KSxhLm9uKFwiZm9jdXNcIixmdW5jdGlvbihiKXthLmlzT3BlbigpfHxjLiRzZWxlY3Rpb24uZm9jdXMoKX0pLGEub24oXCJzZWxlY3Rpb246dXBkYXRlXCIsZnVuY3Rpb24oYSl7Yy51cGRhdGUoYS5kYXRhKX0pfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuJHNlbGVjdGlvbi5maW5kKFwiLnNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZFwiKS5lbXB0eSgpfSxlLnByb3RvdHlwZS5kaXNwbGF5PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vcHRpb25zLmdldChcInRlbXBsYXRlU2VsZWN0aW9uXCIpLGQ9dGhpcy5vcHRpb25zLmdldChcImVzY2FwZU1hcmt1cFwiKTtyZXR1cm4gZChjKGEsYikpfSxlLnByb3RvdHlwZS5zZWxlY3Rpb25Db250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxzcGFuPjwvc3Bhbj5cIil9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5jbGVhcigpO3ZhciBiPWFbMF0sYz10aGlzLiRzZWxlY3Rpb24uZmluZChcIi5zZWxlY3QyLXNlbGVjdGlvbl9fcmVuZGVyZWRcIiksZD10aGlzLmRpc3BsYXkoYixjKTtjLmVtcHR5KCkuYXBwZW5kKGQpLGMucHJvcChcInRpdGxlXCIsYi50aXRsZXx8Yi50ZXh0KX0sZX0pLGIuZGVmaW5lKFwic2VsZWN0Mi9zZWxlY3Rpb24vbXVsdGlwbGVcIixbXCJqcXVlcnlcIixcIi4vYmFzZVwiLFwiLi4vdXRpbHNcIl0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtkLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGMuRXh0ZW5kKGQsYiksZC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9ZC5fX3N1cGVyX18ucmVuZGVyLmNhbGwodGhpcyk7cmV0dXJuIGEuYWRkQ2xhc3MoXCJzZWxlY3QyLXNlbGVjdGlvbi0tbXVsdGlwbGVcIiksYS5odG1sKCc8dWwgY2xhc3M9XCJzZWxlY3QyLXNlbGVjdGlvbl9fcmVuZGVyZWRcIj48L3VsPicpLGF9LGQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYixjKXt2YXIgZT10aGlzO2QuX19zdXBlcl9fLmJpbmQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuJHNlbGVjdGlvbi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7ZS50cmlnZ2VyKFwidG9nZ2xlXCIse29yaWdpbmFsRXZlbnQ6YX0pfSksdGhpcy4kc2VsZWN0aW9uLm9uKFwiY2xpY2tcIixcIi5zZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlX19yZW1vdmVcIixmdW5jdGlvbihiKXtpZighZS5vcHRpb25zLmdldChcImRpc2FibGVkXCIpKXt2YXIgYz1hKHRoaXMpLGQ9Yy5wYXJlbnQoKSxmPWQuZGF0YShcImRhdGFcIik7ZS50cmlnZ2VyKFwidW5zZWxlY3RcIix7b3JpZ2luYWxFdmVudDpiLGRhdGE6Zn0pfX0pfSxkLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuJHNlbGVjdGlvbi5maW5kKFwiLnNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZFwiKS5lbXB0eSgpfSxkLnByb3RvdHlwZS5kaXNwbGF5PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vcHRpb25zLmdldChcInRlbXBsYXRlU2VsZWN0aW9uXCIpLGQ9dGhpcy5vcHRpb25zLmdldChcImVzY2FwZU1hcmt1cFwiKTtyZXR1cm4gZChjKGEsYikpfSxkLnByb3RvdHlwZS5zZWxlY3Rpb25Db250YWluZXI9ZnVuY3Rpb24oKXt2YXIgYj1hKCc8bGkgY2xhc3M9XCJzZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlXCI+PHNwYW4gY2xhc3M9XCJzZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlX19yZW1vdmVcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+JnRpbWVzOzwvc3Bhbj48L2xpPicpO3JldHVybiBifSxkLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSl7aWYodGhpcy5jbGVhcigpLDAhPT1hLmxlbmd0aCl7Zm9yKHZhciBiPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXSxmPXRoaXMuc2VsZWN0aW9uQ29udGFpbmVyKCksZz10aGlzLmRpc3BsYXkoZSxmKTtmLmFwcGVuZChnKSxmLnByb3AoXCJ0aXRsZVwiLGUudGl0bGV8fGUudGV4dCksZi5kYXRhKFwiZGF0YVwiLGUpLGIucHVzaChmKX12YXIgaD10aGlzLiRzZWxlY3Rpb24uZmluZChcIi5zZWxlY3QyLXNlbGVjdGlvbl9fcmVuZGVyZWRcIik7Yy5hcHBlbmRNYW55KGgsYil9fSxkfSksYi5kZWZpbmUoXCJzZWxlY3QyL3NlbGVjdGlvbi9wbGFjZWhvbGRlclwiLFtcIi4uL3V0aWxzXCJdLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMpe3RoaXMucGxhY2Vob2xkZXI9dGhpcy5ub3JtYWxpemVQbGFjZWhvbGRlcihjLmdldChcInBsYWNlaG9sZGVyXCIpKSxhLmNhbGwodGhpcyxiLGMpfXJldHVybiBiLnByb3RvdHlwZS5ub3JtYWxpemVQbGFjZWhvbGRlcj1mdW5jdGlvbihhLGIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj17aWQ6XCJcIix0ZXh0OmJ9KSxifSxiLnByb3RvdHlwZS5jcmVhdGVQbGFjZWhvbGRlcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2VsZWN0aW9uQ29udGFpbmVyKCk7cmV0dXJuIGMuaHRtbCh0aGlzLmRpc3BsYXkoYikpLGMuYWRkQ2xhc3MoXCJzZWxlY3QyLXNlbGVjdGlvbl9fcGxhY2Vob2xkZXJcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlXCIpLGN9LGIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPTE9PWIubGVuZ3RoJiZiWzBdLmlkIT10aGlzLnBsYWNlaG9sZGVyLmlkLGQ9Yi5sZW5ndGg+MTtpZihkfHxjKXJldHVybiBhLmNhbGwodGhpcyxiKTt0aGlzLmNsZWFyKCk7dmFyIGU9dGhpcy5jcmVhdGVQbGFjZWhvbGRlcih0aGlzLnBsYWNlaG9sZGVyKTt0aGlzLiRzZWxlY3Rpb24uZmluZChcIi5zZWxlY3QyLXNlbGVjdGlvbl9fcmVuZGVyZWRcIikuYXBwZW5kKGUpfSxifSksYi5kZWZpbmUoXCJzZWxlY3QyL3NlbGVjdGlvbi9hbGxvd0NsZWFyXCIsW1wianF1ZXJ5XCIsXCIuLi9rZXlzXCJdLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31yZXR1cm4gYy5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczthLmNhbGwodGhpcyxiLGMpLG51bGw9PXRoaXMucGxhY2Vob2xkZXImJnRoaXMub3B0aW9ucy5nZXQoXCJkZWJ1Z1wiKSYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoXCJTZWxlY3QyOiBUaGUgYGFsbG93Q2xlYXJgIG9wdGlvbiBzaG91bGQgYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIHRoZSBgcGxhY2Vob2xkZXJgIG9wdGlvbi5cIiksdGhpcy4kc2VsZWN0aW9uLm9uKFwibW91c2Vkb3duXCIsXCIuc2VsZWN0Mi1zZWxlY3Rpb25fX2NsZWFyXCIsZnVuY3Rpb24oYSl7ZC5faGFuZGxlQ2xlYXIoYSl9KSxiLm9uKFwia2V5cHJlc3NcIixmdW5jdGlvbihhKXtkLl9oYW5kbGVLZXlib2FyZENsZWFyKGEsYil9KX0sYy5wcm90b3R5cGUuX2hhbmRsZUNsZWFyPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMub3B0aW9ucy5nZXQoXCJkaXNhYmxlZFwiKSl7dmFyIGM9dGhpcy4kc2VsZWN0aW9uLmZpbmQoXCIuc2VsZWN0Mi1zZWxlY3Rpb25fX2NsZWFyXCIpO2lmKDAhPT1jLmxlbmd0aCl7Yi5zdG9wUHJvcGFnYXRpb24oKTtmb3IodmFyIGQ9Yy5kYXRhKFwiZGF0YVwiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPXtkYXRhOmRbZV19O2lmKHRoaXMudHJpZ2dlcihcInVuc2VsZWN0XCIsZiksZi5wcmV2ZW50ZWQpcmV0dXJufXRoaXMuJGVsZW1lbnQudmFsKHRoaXMucGxhY2Vob2xkZXIuaWQpLnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy50cmlnZ2VyKFwidG9nZ2xlXCIse30pfX19LGMucHJvdG90eXBlLl9oYW5kbGVLZXlib2FyZENsZWFyPWZ1bmN0aW9uKGEsYyxkKXtkLmlzT3BlbigpfHwoYy53aGljaD09Yi5ERUxFVEV8fGMud2hpY2g9PWIuQkFDS1NQQUNFKSYmdGhpcy5faGFuZGxlQ2xlYXIoYyl9LGMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihiLGMpe2lmKGIuY2FsbCh0aGlzLGMpLCEodGhpcy4kc2VsZWN0aW9uLmZpbmQoXCIuc2VsZWN0Mi1zZWxlY3Rpb25fX3BsYWNlaG9sZGVyXCIpLmxlbmd0aD4wfHwwPT09Yy5sZW5ndGgpKXt2YXIgZD1hKCc8c3BhbiBjbGFzcz1cInNlbGVjdDItc2VsZWN0aW9uX19jbGVhclwiPiZ0aW1lczs8L3NwYW4+Jyk7ZC5kYXRhKFwiZGF0YVwiLGMpLHRoaXMuJHNlbGVjdGlvbi5maW5kKFwiLnNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZFwiKS5wcmVwZW5kKGQpfX0sY30pLGIuZGVmaW5lKFwic2VsZWN0Mi9zZWxlY3Rpb24vc2VhcmNoXCIsW1wianF1ZXJ5XCIsXCIuLi91dGlsc1wiLFwiLi4va2V5c1wiXSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhLGIsYyl7YS5jYWxsKHRoaXMsYixjKX1yZXR1cm4gZC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGIpe3ZhciBjPWEoJzxsaSBjbGFzcz1cInNlbGVjdDItc2VhcmNoIHNlbGVjdDItc2VhcmNoLS1pbmxpbmVcIj48aW5wdXQgY2xhc3M9XCJzZWxlY3QyLXNlYXJjaF9fZmllbGRcIiB0eXBlPVwic2VhcmNoXCIgdGFiaW5kZXg9XCItMVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIGF1dG9jb3JyZWN0PVwib2ZmXCIgYXV0b2NhcGl0YWxpemU9XCJvZmZcIiBzcGVsbGNoZWNrPVwiZmFsc2VcIiByb2xlPVwidGV4dGJveFwiIGFyaWEtYXV0b2NvbXBsZXRlPVwibGlzdFwiIC8+PC9saT4nKTt0aGlzLiRzZWFyY2hDb250YWluZXI9Yyx0aGlzLiRzZWFyY2g9Yy5maW5kKFwiaW5wdXRcIik7dmFyIGQ9Yi5jYWxsKHRoaXMpO3JldHVybiB0aGlzLl90cmFuc2ZlclRhYkluZGV4KCksZH0sZC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsZCl7dmFyIGU9dGhpczthLmNhbGwodGhpcyxiLGQpLGIub24oXCJvcGVuXCIsZnVuY3Rpb24oKXtlLiRzZWFyY2gudHJpZ2dlcihcImZvY3VzXCIpfSksYi5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXtlLiRzZWFyY2gudmFsKFwiXCIpLGUuJHNlYXJjaC5yZW1vdmVBdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIpLGUuJHNlYXJjaC50cmlnZ2VyKFwiZm9jdXNcIil9KSxiLm9uKFwiZW5hYmxlXCIsZnVuY3Rpb24oKXtlLiRzZWFyY2gucHJvcChcImRpc2FibGVkXCIsITEpLGUuX3RyYW5zZmVyVGFiSW5kZXgoKX0pLGIub24oXCJkaXNhYmxlXCIsZnVuY3Rpb24oKXtlLiRzZWFyY2gucHJvcChcImRpc2FibGVkXCIsITApfSksYi5vbihcImZvY3VzXCIsZnVuY3Rpb24oYSl7ZS4kc2VhcmNoLnRyaWdnZXIoXCJmb2N1c1wiKX0pLGIub24oXCJyZXN1bHRzOmZvY3VzXCIsZnVuY3Rpb24oYSl7ZS4kc2VhcmNoLmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixhLmlkKX0pLHRoaXMuJHNlbGVjdGlvbi5vbihcImZvY3VzaW5cIixcIi5zZWxlY3QyLXNlYXJjaC0taW5saW5lXCIsZnVuY3Rpb24oYSl7ZS50cmlnZ2VyKFwiZm9jdXNcIixhKX0pLHRoaXMuJHNlbGVjdGlvbi5vbihcImZvY3Vzb3V0XCIsXCIuc2VsZWN0Mi1zZWFyY2gtLWlubGluZVwiLGZ1bmN0aW9uKGEpe2UuX2hhbmRsZUJsdXIoYSl9KSx0aGlzLiRzZWxlY3Rpb24ub24oXCJrZXlkb3duXCIsXCIuc2VsZWN0Mi1zZWFyY2gtLWlubGluZVwiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCksZS50cmlnZ2VyKFwia2V5cHJlc3NcIixhKSxlLl9rZXlVcFByZXZlbnRlZD1hLmlzRGVmYXVsdFByZXZlbnRlZCgpO3ZhciBiPWEud2hpY2g7aWYoYj09PWMuQkFDS1NQQUNFJiZcIlwiPT09ZS4kc2VhcmNoLnZhbCgpKXt2YXIgZD1lLiRzZWFyY2hDb250YWluZXIucHJldihcIi5zZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlXCIpO2lmKGQubGVuZ3RoPjApe3ZhciBmPWQuZGF0YShcImRhdGFcIik7ZS5zZWFyY2hSZW1vdmVDaG9pY2UoZiksYS5wcmV2ZW50RGVmYXVsdCgpfX19KTt2YXIgZj1kb2N1bWVudC5kb2N1bWVudE1vZGUsZz1mJiYxMT49Zjt0aGlzLiRzZWxlY3Rpb24ub24oXCJpbnB1dC5zZWFyY2hjaGVja1wiLFwiLnNlbGVjdDItc2VhcmNoLS1pbmxpbmVcIixmdW5jdGlvbihhKXtyZXR1cm4gZz92b2lkIGUuJHNlbGVjdGlvbi5vZmYoXCJpbnB1dC5zZWFyY2ggaW5wdXQuc2VhcmNoY2hlY2tcIik6dm9pZCBlLiRzZWxlY3Rpb24ub2ZmKFwia2V5dXAuc2VhcmNoXCIpfSksdGhpcy4kc2VsZWN0aW9uLm9uKFwia2V5dXAuc2VhcmNoIGlucHV0LnNlYXJjaFwiLFwiLnNlbGVjdDItc2VhcmNoLS1pbmxpbmVcIixmdW5jdGlvbihhKXtpZihnJiZcImlucHV0XCI9PT1hLnR5cGUpcmV0dXJuIHZvaWQgZS4kc2VsZWN0aW9uLm9mZihcImlucHV0LnNlYXJjaCBpbnB1dC5zZWFyY2hjaGVja1wiKTt2YXIgYj1hLndoaWNoO2IhPWMuU0hJRlQmJmIhPWMuQ1RSTCYmYiE9Yy5BTFQmJmIhPWMuVEFCJiZlLmhhbmRsZVNlYXJjaChhKX0pfSxkLnByb3RvdHlwZS5fdHJhbnNmZXJUYWJJbmRleD1mdW5jdGlvbihhKXt0aGlzLiRzZWFyY2guYXR0cihcInRhYmluZGV4XCIsdGhpcy4kc2VsZWN0aW9uLmF0dHIoXCJ0YWJpbmRleFwiKSksdGhpcy4kc2VsZWN0aW9uLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIil9LGQucHJvdG90eXBlLmNyZWF0ZVBsYWNlaG9sZGVyPWZ1bmN0aW9uKGEsYil7dGhpcy4kc2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLGIudGV4dCl9LGQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJHNlYXJjaFswXT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDt0aGlzLiRzZWFyY2guYXR0cihcInBsYWNlaG9sZGVyXCIsXCJcIiksYS5jYWxsKHRoaXMsYiksdGhpcy4kc2VsZWN0aW9uLmZpbmQoXCIuc2VsZWN0Mi1zZWxlY3Rpb25fX3JlbmRlcmVkXCIpLmFwcGVuZCh0aGlzLiRzZWFyY2hDb250YWluZXIpLHRoaXMucmVzaXplU2VhcmNoKCksYyYmdGhpcy4kc2VhcmNoLmZvY3VzKCl9LGQucHJvdG90eXBlLmhhbmRsZVNlYXJjaD1mdW5jdGlvbigpe2lmKHRoaXMucmVzaXplU2VhcmNoKCksIXRoaXMuX2tleVVwUHJldmVudGVkKXt2YXIgYT10aGlzLiRzZWFyY2gudmFsKCk7dGhpcy50cmlnZ2VyKFwicXVlcnlcIix7dGVybTphfSl9dGhpcy5fa2V5VXBQcmV2ZW50ZWQ9ITF9LGQucHJvdG90eXBlLnNlYXJjaFJlbW92ZUNob2ljZT1mdW5jdGlvbihhLGIpe3RoaXMudHJpZ2dlcihcInVuc2VsZWN0XCIse2RhdGE6Yn0pLHRoaXMuJHNlYXJjaC52YWwoYi50ZXh0KSx0aGlzLmhhbmRsZVNlYXJjaCgpfSxkLnByb3RvdHlwZS5yZXNpemVTZWFyY2g9ZnVuY3Rpb24oKXt0aGlzLiRzZWFyY2guY3NzKFwid2lkdGhcIixcIjI1cHhcIik7dmFyIGE9XCJcIjtpZihcIlwiIT09dGhpcy4kc2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiKSlhPXRoaXMuJHNlbGVjdGlvbi5maW5kKFwiLnNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZFwiKS5pbm5lcldpZHRoKCk7ZWxzZXt2YXIgYj10aGlzLiRzZWFyY2gudmFsKCkubGVuZ3RoKzE7YT0uNzUqYitcImVtXCJ9dGhpcy4kc2VhcmNoLmNzcyhcIndpZHRoXCIsYSl9LGR9KSxiLmRlZmluZShcInNlbGVjdDIvc2VsZWN0aW9uL2V2ZW50UmVsYXlcIixbXCJqcXVlcnlcIl0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe31yZXR1cm4gYi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcyxmPVtcIm9wZW5cIixcIm9wZW5pbmdcIixcImNsb3NlXCIsXCJjbG9zaW5nXCIsXCJzZWxlY3RcIixcInNlbGVjdGluZ1wiLFwidW5zZWxlY3RcIixcInVuc2VsZWN0aW5nXCJdLGc9W1wib3BlbmluZ1wiLFwiY2xvc2luZ1wiLFwic2VsZWN0aW5nXCIsXCJ1bnNlbGVjdGluZ1wiXTtiLmNhbGwodGhpcyxjLGQpLGMub24oXCIqXCIsZnVuY3Rpb24oYixjKXtpZigtMSE9PWEuaW5BcnJheShiLGYpKXtjPWN8fHt9O3ZhciBkPWEuRXZlbnQoXCJzZWxlY3QyOlwiK2Ise3BhcmFtczpjfSk7ZS4kZWxlbWVudC50cmlnZ2VyKGQpLC0xIT09YS5pbkFycmF5KGIsZykmJihjLnByZXZlbnRlZD1kLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19KX0sYn0pLGIuZGVmaW5lKFwic2VsZWN0Mi90cmFuc2xhdGlvblwiLFtcImpxdWVyeVwiLFwicmVxdWlyZVwiXSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7dGhpcy5kaWN0PWF8fHt9fXJldHVybiBjLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWN0fSxjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGljdFthXX0sYy5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKGIpe3RoaXMuZGljdD1hLmV4dGVuZCh7fSxiLmFsbCgpLHRoaXMuZGljdCl9LGMuX2NhY2hlPXt9LGMubG9hZFBhdGg9ZnVuY3Rpb24oYSl7aWYoIShhIGluIGMuX2NhY2hlKSl7dmFyIGQ9YihhKTtjLl9jYWNoZVthXT1kfXJldHVybiBuZXcgYyhjLl9jYWNoZVthXSl9LGN9KSxiLmRlZmluZShcInNlbGVjdDIvZGlhY3JpdGljc1wiLFtdLGZ1bmN0aW9uKCl7dmFyIGE9e1wi4pK2XCI6XCJBXCIsXCLvvKFcIjpcIkFcIixcIsOAXCI6XCJBXCIsXCLDgVwiOlwiQVwiLFwiw4JcIjpcIkFcIixcIuG6plwiOlwiQVwiLFwi4bqkXCI6XCJBXCIsXCLhuqpcIjpcIkFcIixcIuG6qFwiOlwiQVwiLFwiw4NcIjpcIkFcIixcIsSAXCI6XCJBXCIsXCLEglwiOlwiQVwiLFwi4bqwXCI6XCJBXCIsXCLhuq5cIjpcIkFcIixcIuG6tFwiOlwiQVwiLFwi4bqyXCI6XCJBXCIsXCLIplwiOlwiQVwiLFwix6BcIjpcIkFcIixcIsOEXCI6XCJBXCIsXCLHnlwiOlwiQVwiLFwi4bqiXCI6XCJBXCIsXCLDhVwiOlwiQVwiLFwix7pcIjpcIkFcIixcIseNXCI6XCJBXCIsXCLIgFwiOlwiQVwiLFwiyIJcIjpcIkFcIixcIuG6oFwiOlwiQVwiLFwi4bqsXCI6XCJBXCIsXCLhurZcIjpcIkFcIixcIuG4gFwiOlwiQVwiLFwixIRcIjpcIkFcIixcIsi6XCI6XCJBXCIsXCLisa9cIjpcIkFcIixcIuqcslwiOlwiQUFcIixcIsOGXCI6XCJBRVwiLFwix7xcIjpcIkFFXCIsXCLHolwiOlwiQUVcIixcIuqctFwiOlwiQU9cIixcIuqctlwiOlwiQVVcIixcIuqcuFwiOlwiQVZcIixcIuqculwiOlwiQVZcIixcIuqcvFwiOlwiQVlcIixcIuKSt1wiOlwiQlwiLFwi77yiXCI6XCJCXCIsXCLhuIJcIjpcIkJcIixcIuG4hFwiOlwiQlwiLFwi4biGXCI6XCJCXCIsXCLJg1wiOlwiQlwiLFwixoJcIjpcIkJcIixcIsaBXCI6XCJCXCIsXCLikrhcIjpcIkNcIixcIu+8o1wiOlwiQ1wiLFwixIZcIjpcIkNcIixcIsSIXCI6XCJDXCIsXCLEilwiOlwiQ1wiLFwixIxcIjpcIkNcIixcIsOHXCI6XCJDXCIsXCLhuIhcIjpcIkNcIixcIsaHXCI6XCJDXCIsXCLIu1wiOlwiQ1wiLFwi6py+XCI6XCJDXCIsXCLikrlcIjpcIkRcIixcIu+8pFwiOlwiRFwiLFwi4biKXCI6XCJEXCIsXCLEjlwiOlwiRFwiLFwi4biMXCI6XCJEXCIsXCLhuJBcIjpcIkRcIixcIuG4klwiOlwiRFwiLFwi4biOXCI6XCJEXCIsXCLEkFwiOlwiRFwiLFwixotcIjpcIkRcIixcIsaKXCI6XCJEXCIsXCLGiVwiOlwiRFwiLFwi6p25XCI6XCJEXCIsXCLHsVwiOlwiRFpcIixcIseEXCI6XCJEWlwiLFwix7JcIjpcIkR6XCIsXCLHhVwiOlwiRHpcIixcIuKSulwiOlwiRVwiLFwi77ylXCI6XCJFXCIsXCLDiFwiOlwiRVwiLFwiw4lcIjpcIkVcIixcIsOKXCI6XCJFXCIsXCLhu4BcIjpcIkVcIixcIuG6vlwiOlwiRVwiLFwi4buEXCI6XCJFXCIsXCLhu4JcIjpcIkVcIixcIuG6vFwiOlwiRVwiLFwixJJcIjpcIkVcIixcIuG4lFwiOlwiRVwiLFwi4biWXCI6XCJFXCIsXCLElFwiOlwiRVwiLFwixJZcIjpcIkVcIixcIsOLXCI6XCJFXCIsXCLhurpcIjpcIkVcIixcIsSaXCI6XCJFXCIsXCLIhFwiOlwiRVwiLFwiyIZcIjpcIkVcIixcIuG6uFwiOlwiRVwiLFwi4buGXCI6XCJFXCIsXCLIqFwiOlwiRVwiLFwi4bicXCI6XCJFXCIsXCLEmFwiOlwiRVwiLFwi4biYXCI6XCJFXCIsXCLhuJpcIjpcIkVcIixcIsaQXCI6XCJFXCIsXCLGjlwiOlwiRVwiLFwi4pK7XCI6XCJGXCIsXCLvvKZcIjpcIkZcIixcIuG4nlwiOlwiRlwiLFwixpFcIjpcIkZcIixcIuqdu1wiOlwiRlwiLFwi4pK8XCI6XCJHXCIsXCLvvKdcIjpcIkdcIixcIse0XCI6XCJHXCIsXCLEnFwiOlwiR1wiLFwi4bigXCI6XCJHXCIsXCLEnlwiOlwiR1wiLFwixKBcIjpcIkdcIixcIsemXCI6XCJHXCIsXCLEolwiOlwiR1wiLFwix6RcIjpcIkdcIixcIsaTXCI6XCJHXCIsXCLqnqBcIjpcIkdcIixcIuqdvVwiOlwiR1wiLFwi6p2+XCI6XCJHXCIsXCLikr1cIjpcIkhcIixcIu+8qFwiOlwiSFwiLFwixKRcIjpcIkhcIixcIuG4olwiOlwiSFwiLFwi4bimXCI6XCJIXCIsXCLInlwiOlwiSFwiLFwi4bikXCI6XCJIXCIsXCLhuKhcIjpcIkhcIixcIuG4qlwiOlwiSFwiLFwixKZcIjpcIkhcIixcIuKxp1wiOlwiSFwiLFwi4rG1XCI6XCJIXCIsXCLqno1cIjpcIkhcIixcIuKSvlwiOlwiSVwiLFwi77ypXCI6XCJJXCIsXCLDjFwiOlwiSVwiLFwiw41cIjpcIklcIixcIsOOXCI6XCJJXCIsXCLEqFwiOlwiSVwiLFwixKpcIjpcIklcIixcIsSsXCI6XCJJXCIsXCLEsFwiOlwiSVwiLFwiw49cIjpcIklcIixcIuG4rlwiOlwiSVwiLFwi4buIXCI6XCJJXCIsXCLHj1wiOlwiSVwiLFwiyIhcIjpcIklcIixcIsiKXCI6XCJJXCIsXCLhu4pcIjpcIklcIixcIsSuXCI6XCJJXCIsXCLhuKxcIjpcIklcIixcIsaXXCI6XCJJXCIsXCLikr9cIjpcIkpcIixcIu+8qlwiOlwiSlwiLFwixLRcIjpcIkpcIixcIsmIXCI6XCJKXCIsXCLik4BcIjpcIktcIixcIu+8q1wiOlwiS1wiLFwi4biwXCI6XCJLXCIsXCLHqFwiOlwiS1wiLFwi4biyXCI6XCJLXCIsXCLEtlwiOlwiS1wiLFwi4bi0XCI6XCJLXCIsXCLGmFwiOlwiS1wiLFwi4rGpXCI6XCJLXCIsXCLqnYBcIjpcIktcIixcIuqdglwiOlwiS1wiLFwi6p2EXCI6XCJLXCIsXCLqnqJcIjpcIktcIixcIuKTgVwiOlwiTFwiLFwi77ysXCI6XCJMXCIsXCLEv1wiOlwiTFwiLFwixLlcIjpcIkxcIixcIsS9XCI6XCJMXCIsXCLhuLZcIjpcIkxcIixcIuG4uFwiOlwiTFwiLFwixLtcIjpcIkxcIixcIuG4vFwiOlwiTFwiLFwi4bi6XCI6XCJMXCIsXCLFgVwiOlwiTFwiLFwiyL1cIjpcIkxcIixcIuKxolwiOlwiTFwiLFwi4rGgXCI6XCJMXCIsXCLqnYhcIjpcIkxcIixcIuqdhlwiOlwiTFwiLFwi6p6AXCI6XCJMXCIsXCLHh1wiOlwiTEpcIixcIseIXCI6XCJMalwiLFwi4pOCXCI6XCJNXCIsXCLvvK1cIjpcIk1cIixcIuG4vlwiOlwiTVwiLFwi4bmAXCI6XCJNXCIsXCLhuYJcIjpcIk1cIixcIuKxrlwiOlwiTVwiLFwixpxcIjpcIk1cIixcIuKTg1wiOlwiTlwiLFwi77yuXCI6XCJOXCIsXCLHuFwiOlwiTlwiLFwixYNcIjpcIk5cIixcIsORXCI6XCJOXCIsXCLhuYRcIjpcIk5cIixcIsWHXCI6XCJOXCIsXCLhuYZcIjpcIk5cIixcIsWFXCI6XCJOXCIsXCLhuYpcIjpcIk5cIixcIuG5iFwiOlwiTlwiLFwiyKBcIjpcIk5cIixcIsadXCI6XCJOXCIsXCLqnpBcIjpcIk5cIixcIuqepFwiOlwiTlwiLFwix4pcIjpcIk5KXCIsXCLHi1wiOlwiTmpcIixcIuKThFwiOlwiT1wiLFwi77yvXCI6XCJPXCIsXCLDklwiOlwiT1wiLFwiw5NcIjpcIk9cIixcIsOUXCI6XCJPXCIsXCLhu5JcIjpcIk9cIixcIuG7kFwiOlwiT1wiLFwi4buWXCI6XCJPXCIsXCLhu5RcIjpcIk9cIixcIsOVXCI6XCJPXCIsXCLhuYxcIjpcIk9cIixcIsisXCI6XCJPXCIsXCLhuY5cIjpcIk9cIixcIsWMXCI6XCJPXCIsXCLhuZBcIjpcIk9cIixcIuG5klwiOlwiT1wiLFwixY5cIjpcIk9cIixcIsiuXCI6XCJPXCIsXCLIsFwiOlwiT1wiLFwiw5ZcIjpcIk9cIixcIsiqXCI6XCJPXCIsXCLhu45cIjpcIk9cIixcIsWQXCI6XCJPXCIsXCLHkVwiOlwiT1wiLFwiyIxcIjpcIk9cIixcIsiOXCI6XCJPXCIsXCLGoFwiOlwiT1wiLFwi4bucXCI6XCJPXCIsXCLhu5pcIjpcIk9cIixcIuG7oFwiOlwiT1wiLFwi4bueXCI6XCJPXCIsXCLhu6JcIjpcIk9cIixcIuG7jFwiOlwiT1wiLFwi4buYXCI6XCJPXCIsXCLHqlwiOlwiT1wiLFwix6xcIjpcIk9cIixcIsOYXCI6XCJPXCIsXCLHvlwiOlwiT1wiLFwixoZcIjpcIk9cIixcIsafXCI6XCJPXCIsXCLqnYpcIjpcIk9cIixcIuqdjFwiOlwiT1wiLFwixqJcIjpcIk9JXCIsXCLqnY5cIjpcIk9PXCIsXCLIolwiOlwiT1VcIixcIuKThVwiOlwiUFwiLFwi77ywXCI6XCJQXCIsXCLhuZRcIjpcIlBcIixcIuG5llwiOlwiUFwiLFwixqRcIjpcIlBcIixcIuKxo1wiOlwiUFwiLFwi6p2QXCI6XCJQXCIsXCLqnZJcIjpcIlBcIixcIuqdlFwiOlwiUFwiLFwi4pOGXCI6XCJRXCIsXCLvvLFcIjpcIlFcIixcIuqdllwiOlwiUVwiLFwi6p2YXCI6XCJRXCIsXCLJilwiOlwiUVwiLFwi4pOHXCI6XCJSXCIsXCLvvLJcIjpcIlJcIixcIsWUXCI6XCJSXCIsXCLhuZhcIjpcIlJcIixcIsWYXCI6XCJSXCIsXCLIkFwiOlwiUlwiLFwiyJJcIjpcIlJcIixcIuG5mlwiOlwiUlwiLFwi4bmcXCI6XCJSXCIsXCLFllwiOlwiUlwiLFwi4bmeXCI6XCJSXCIsXCLJjFwiOlwiUlwiLFwi4rGkXCI6XCJSXCIsXCLqnZpcIjpcIlJcIixcIuqeplwiOlwiUlwiLFwi6p6CXCI6XCJSXCIsXCLik4hcIjpcIlNcIixcIu+8s1wiOlwiU1wiLFwi4bqeXCI6XCJTXCIsXCLFmlwiOlwiU1wiLFwi4bmkXCI6XCJTXCIsXCLFnFwiOlwiU1wiLFwi4bmgXCI6XCJTXCIsXCLFoFwiOlwiU1wiLFwi4bmmXCI6XCJTXCIsXCLhuaJcIjpcIlNcIixcIuG5qFwiOlwiU1wiLFwiyJhcIjpcIlNcIixcIsWeXCI6XCJTXCIsXCLisb5cIjpcIlNcIixcIuqeqFwiOlwiU1wiLFwi6p6EXCI6XCJTXCIsXCLik4lcIjpcIlRcIixcIu+8tFwiOlwiVFwiLFwi4bmqXCI6XCJUXCIsXCLFpFwiOlwiVFwiLFwi4bmsXCI6XCJUXCIsXCLImlwiOlwiVFwiLFwixaJcIjpcIlRcIixcIuG5sFwiOlwiVFwiLFwi4bmuXCI6XCJUXCIsXCLFplwiOlwiVFwiLFwixqxcIjpcIlRcIixcIsauXCI6XCJUXCIsXCLIvlwiOlwiVFwiLFwi6p6GXCI6XCJUXCIsXCLqnKhcIjpcIlRaXCIsXCLik4pcIjpcIlVcIixcIu+8tVwiOlwiVVwiLFwiw5lcIjpcIlVcIixcIsOaXCI6XCJVXCIsXCLDm1wiOlwiVVwiLFwixahcIjpcIlVcIixcIuG5uFwiOlwiVVwiLFwixapcIjpcIlVcIixcIuG5ulwiOlwiVVwiLFwixaxcIjpcIlVcIixcIsOcXCI6XCJVXCIsXCLHm1wiOlwiVVwiLFwix5dcIjpcIlVcIixcIseVXCI6XCJVXCIsXCLHmVwiOlwiVVwiLFwi4bumXCI6XCJVXCIsXCLFrlwiOlwiVVwiLFwixbBcIjpcIlVcIixcIseTXCI6XCJVXCIsXCLIlFwiOlwiVVwiLFwiyJZcIjpcIlVcIixcIsavXCI6XCJVXCIsXCLhu6pcIjpcIlVcIixcIuG7qFwiOlwiVVwiLFwi4buuXCI6XCJVXCIsXCLhu6xcIjpcIlVcIixcIuG7sFwiOlwiVVwiLFwi4bukXCI6XCJVXCIsXCLhubJcIjpcIlVcIixcIsWyXCI6XCJVXCIsXCLhubZcIjpcIlVcIixcIuG5tFwiOlwiVVwiLFwiyYRcIjpcIlVcIixcIuKTi1wiOlwiVlwiLFwi77y2XCI6XCJWXCIsXCLhubxcIjpcIlZcIixcIuG5vlwiOlwiVlwiLFwixrJcIjpcIlZcIixcIuqdnlwiOlwiVlwiLFwiyYVcIjpcIlZcIixcIuqdoFwiOlwiVllcIixcIuKTjFwiOlwiV1wiLFwi77y3XCI6XCJXXCIsXCLhuoBcIjpcIldcIixcIuG6glwiOlwiV1wiLFwixbRcIjpcIldcIixcIuG6hlwiOlwiV1wiLFwi4bqEXCI6XCJXXCIsXCLhuohcIjpcIldcIixcIuKxslwiOlwiV1wiLFwi4pONXCI6XCJYXCIsXCLvvLhcIjpcIlhcIixcIuG6ilwiOlwiWFwiLFwi4bqMXCI6XCJYXCIsXCLik45cIjpcIllcIixcIu+8uVwiOlwiWVwiLFwi4buyXCI6XCJZXCIsXCLDnVwiOlwiWVwiLFwixbZcIjpcIllcIixcIuG7uFwiOlwiWVwiLFwiyLJcIjpcIllcIixcIuG6jlwiOlwiWVwiLFwixbhcIjpcIllcIixcIuG7tlwiOlwiWVwiLFwi4bu0XCI6XCJZXCIsXCLGs1wiOlwiWVwiLFwiyY5cIjpcIllcIixcIuG7vlwiOlwiWVwiLFwi4pOPXCI6XCJaXCIsXCLvvLpcIjpcIlpcIixcIsW5XCI6XCJaXCIsXCLhupBcIjpcIlpcIixcIsW7XCI6XCJaXCIsXCLFvVwiOlwiWlwiLFwi4bqSXCI6XCJaXCIsXCLhupRcIjpcIlpcIixcIsa1XCI6XCJaXCIsXCLIpFwiOlwiWlwiLFwi4rG/XCI6XCJaXCIsXCLisatcIjpcIlpcIixcIuqdolwiOlwiWlwiLFwi4pOQXCI6XCJhXCIsXCLvvYFcIjpcImFcIixcIuG6mlwiOlwiYVwiLFwiw6BcIjpcImFcIixcIsOhXCI6XCJhXCIsXCLDolwiOlwiYVwiLFwi4bqnXCI6XCJhXCIsXCLhuqVcIjpcImFcIixcIuG6q1wiOlwiYVwiLFwi4bqpXCI6XCJhXCIsXCLDo1wiOlwiYVwiLFwixIFcIjpcImFcIixcIsSDXCI6XCJhXCIsXCLhurFcIjpcImFcIixcIuG6r1wiOlwiYVwiLFwi4bq1XCI6XCJhXCIsXCLhurNcIjpcImFcIixcIsinXCI6XCJhXCIsXCLHoVwiOlwiYVwiLFwiw6RcIjpcImFcIixcIsefXCI6XCJhXCIsXCLhuqNcIjpcImFcIixcIsOlXCI6XCJhXCIsXCLHu1wiOlwiYVwiLFwix45cIjpcImFcIixcIsiBXCI6XCJhXCIsXCLIg1wiOlwiYVwiLFwi4bqhXCI6XCJhXCIsXCLhuq1cIjpcImFcIixcIuG6t1wiOlwiYVwiLFwi4biBXCI6XCJhXCIsXCLEhVwiOlwiYVwiLFwi4rGlXCI6XCJhXCIsXCLJkFwiOlwiYVwiLFwi6pyzXCI6XCJhYVwiLFwiw6ZcIjpcImFlXCIsXCLHvVwiOlwiYWVcIixcIsejXCI6XCJhZVwiLFwi6py1XCI6XCJhb1wiLFwi6py3XCI6XCJhdVwiLFwi6py5XCI6XCJhdlwiLFwi6py7XCI6XCJhdlwiLFwi6py9XCI6XCJheVwiLFwi4pORXCI6XCJiXCIsXCLvvYJcIjpcImJcIixcIuG4g1wiOlwiYlwiLFwi4biFXCI6XCJiXCIsXCLhuIdcIjpcImJcIixcIsaAXCI6XCJiXCIsXCLGg1wiOlwiYlwiLFwiyZNcIjpcImJcIixcIuKTklwiOlwiY1wiLFwi772DXCI6XCJjXCIsXCLEh1wiOlwiY1wiLFwixIlcIjpcImNcIixcIsSLXCI6XCJjXCIsXCLEjVwiOlwiY1wiLFwiw6dcIjpcImNcIixcIuG4iVwiOlwiY1wiLFwixohcIjpcImNcIixcIsi8XCI6XCJjXCIsXCLqnL9cIjpcImNcIixcIuKGhFwiOlwiY1wiLFwi4pOTXCI6XCJkXCIsXCLvvYRcIjpcImRcIixcIuG4i1wiOlwiZFwiLFwixI9cIjpcImRcIixcIuG4jVwiOlwiZFwiLFwi4biRXCI6XCJkXCIsXCLhuJNcIjpcImRcIixcIuG4j1wiOlwiZFwiLFwixJFcIjpcImRcIixcIsaMXCI6XCJkXCIsXCLJllwiOlwiZFwiLFwiyZdcIjpcImRcIixcIuqdulwiOlwiZFwiLFwix7NcIjpcImR6XCIsXCLHhlwiOlwiZHpcIixcIuKTlFwiOlwiZVwiLFwi772FXCI6XCJlXCIsXCLDqFwiOlwiZVwiLFwiw6lcIjpcImVcIixcIsOqXCI6XCJlXCIsXCLhu4FcIjpcImVcIixcIuG6v1wiOlwiZVwiLFwi4buFXCI6XCJlXCIsXCLhu4NcIjpcImVcIixcIuG6vVwiOlwiZVwiLFwixJNcIjpcImVcIixcIuG4lVwiOlwiZVwiLFwi4biXXCI6XCJlXCIsXCLElVwiOlwiZVwiLFwixJdcIjpcImVcIixcIsOrXCI6XCJlXCIsXCLhurtcIjpcImVcIixcIsSbXCI6XCJlXCIsXCLIhVwiOlwiZVwiLFwiyIdcIjpcImVcIixcIuG6uVwiOlwiZVwiLFwi4buHXCI6XCJlXCIsXCLIqVwiOlwiZVwiLFwi4bidXCI6XCJlXCIsXCLEmVwiOlwiZVwiLFwi4biZXCI6XCJlXCIsXCLhuJtcIjpcImVcIixcIsmHXCI6XCJlXCIsXCLJm1wiOlwiZVwiLFwix51cIjpcImVcIixcIuKTlVwiOlwiZlwiLFwi772GXCI6XCJmXCIsXCLhuJ9cIjpcImZcIixcIsaSXCI6XCJmXCIsXCLqnbxcIjpcImZcIixcIuKTllwiOlwiZ1wiLFwi772HXCI6XCJnXCIsXCLHtVwiOlwiZ1wiLFwixJ1cIjpcImdcIixcIuG4oVwiOlwiZ1wiLFwixJ9cIjpcImdcIixcIsShXCI6XCJnXCIsXCLHp1wiOlwiZ1wiLFwixKNcIjpcImdcIixcIselXCI6XCJnXCIsXCLJoFwiOlwiZ1wiLFwi6p6hXCI6XCJnXCIsXCLhtblcIjpcImdcIixcIuqdv1wiOlwiZ1wiLFwi4pOXXCI6XCJoXCIsXCLvvYhcIjpcImhcIixcIsSlXCI6XCJoXCIsXCLhuKNcIjpcImhcIixcIuG4p1wiOlwiaFwiLFwiyJ9cIjpcImhcIixcIuG4pVwiOlwiaFwiLFwi4bipXCI6XCJoXCIsXCLhuKtcIjpcImhcIixcIuG6llwiOlwiaFwiLFwixKdcIjpcImhcIixcIuKxqFwiOlwiaFwiLFwi4rG2XCI6XCJoXCIsXCLJpVwiOlwiaFwiLFwixpVcIjpcImh2XCIsXCLik5hcIjpcImlcIixcIu+9iVwiOlwiaVwiLFwiw6xcIjpcImlcIixcIsOtXCI6XCJpXCIsXCLDrlwiOlwiaVwiLFwixKlcIjpcImlcIixcIsSrXCI6XCJpXCIsXCLErVwiOlwiaVwiLFwiw69cIjpcImlcIixcIuG4r1wiOlwiaVwiLFwi4buJXCI6XCJpXCIsXCLHkFwiOlwiaVwiLFwiyIlcIjpcImlcIixcIsiLXCI6XCJpXCIsXCLhu4tcIjpcImlcIixcIsSvXCI6XCJpXCIsXCLhuK1cIjpcImlcIixcIsmoXCI6XCJpXCIsXCLEsVwiOlwiaVwiLFwi4pOZXCI6XCJqXCIsXCLvvYpcIjpcImpcIixcIsS1XCI6XCJqXCIsXCLHsFwiOlwialwiLFwiyYlcIjpcImpcIixcIuKTmlwiOlwia1wiLFwi772LXCI6XCJrXCIsXCLhuLFcIjpcImtcIixcIsepXCI6XCJrXCIsXCLhuLNcIjpcImtcIixcIsS3XCI6XCJrXCIsXCLhuLVcIjpcImtcIixcIsaZXCI6XCJrXCIsXCLisapcIjpcImtcIixcIuqdgVwiOlwia1wiLFwi6p2DXCI6XCJrXCIsXCLqnYVcIjpcImtcIixcIuqeo1wiOlwia1wiLFwi4pObXCI6XCJsXCIsXCLvvYxcIjpcImxcIixcIsWAXCI6XCJsXCIsXCLEulwiOlwibFwiLFwixL5cIjpcImxcIixcIuG4t1wiOlwibFwiLFwi4bi5XCI6XCJsXCIsXCLEvFwiOlwibFwiLFwi4bi9XCI6XCJsXCIsXCLhuLtcIjpcImxcIixcIsW/XCI6XCJsXCIsXCLFglwiOlwibFwiLFwixppcIjpcImxcIixcIsmrXCI6XCJsXCIsXCLisaFcIjpcImxcIixcIuqdiVwiOlwibFwiLFwi6p6BXCI6XCJsXCIsXCLqnYdcIjpcImxcIixcIseJXCI6XCJsalwiLFwi4pOcXCI6XCJtXCIsXCLvvY1cIjpcIm1cIixcIuG4v1wiOlwibVwiLFwi4bmBXCI6XCJtXCIsXCLhuYNcIjpcIm1cIixcIsmxXCI6XCJtXCIsXCLJr1wiOlwibVwiLFwi4pOdXCI6XCJuXCIsXCLvvY5cIjpcIm5cIixcIse5XCI6XCJuXCIsXCLFhFwiOlwiblwiLFwiw7FcIjpcIm5cIixcIuG5hVwiOlwiblwiLFwixYhcIjpcIm5cIixcIuG5h1wiOlwiblwiLFwixYZcIjpcIm5cIixcIuG5i1wiOlwiblwiLFwi4bmJXCI6XCJuXCIsXCLGnlwiOlwiblwiLFwiybJcIjpcIm5cIixcIsWJXCI6XCJuXCIsXCLqnpFcIjpcIm5cIixcIuqepVwiOlwiblwiLFwix4xcIjpcIm5qXCIsXCLik55cIjpcIm9cIixcIu+9j1wiOlwib1wiLFwiw7JcIjpcIm9cIixcIsOzXCI6XCJvXCIsXCLDtFwiOlwib1wiLFwi4buTXCI6XCJvXCIsXCLhu5FcIjpcIm9cIixcIuG7l1wiOlwib1wiLFwi4buVXCI6XCJvXCIsXCLDtVwiOlwib1wiLFwi4bmNXCI6XCJvXCIsXCLIrVwiOlwib1wiLFwi4bmPXCI6XCJvXCIsXCLFjVwiOlwib1wiLFwi4bmRXCI6XCJvXCIsXCLhuZNcIjpcIm9cIixcIsWPXCI6XCJvXCIsXCLIr1wiOlwib1wiLFwiyLFcIjpcIm9cIixcIsO2XCI6XCJvXCIsXCLIq1wiOlwib1wiLFwi4buPXCI6XCJvXCIsXCLFkVwiOlwib1wiLFwix5JcIjpcIm9cIixcIsiNXCI6XCJvXCIsXCLIj1wiOlwib1wiLFwixqFcIjpcIm9cIixcIuG7nVwiOlwib1wiLFwi4bubXCI6XCJvXCIsXCLhu6FcIjpcIm9cIixcIuG7n1wiOlwib1wiLFwi4bujXCI6XCJvXCIsXCLhu41cIjpcIm9cIixcIuG7mVwiOlwib1wiLFwix6tcIjpcIm9cIixcIsetXCI6XCJvXCIsXCLDuFwiOlwib1wiLFwix79cIjpcIm9cIixcIsmUXCI6XCJvXCIsXCLqnYtcIjpcIm9cIixcIuqdjVwiOlwib1wiLFwiybVcIjpcIm9cIixcIsajXCI6XCJvaVwiLFwiyKNcIjpcIm91XCIsXCLqnY9cIjpcIm9vXCIsXCLik59cIjpcInBcIixcIu+9kFwiOlwicFwiLFwi4bmVXCI6XCJwXCIsXCLhuZdcIjpcInBcIixcIsalXCI6XCJwXCIsXCLhtb1cIjpcInBcIixcIuqdkVwiOlwicFwiLFwi6p2TXCI6XCJwXCIsXCLqnZVcIjpcInBcIixcIuKToFwiOlwicVwiLFwi772RXCI6XCJxXCIsXCLJi1wiOlwicVwiLFwi6p2XXCI6XCJxXCIsXCLqnZlcIjpcInFcIixcIuKToVwiOlwiclwiLFwi772SXCI6XCJyXCIsXCLFlVwiOlwiclwiLFwi4bmZXCI6XCJyXCIsXCLFmVwiOlwiclwiLFwiyJFcIjpcInJcIixcIsiTXCI6XCJyXCIsXCLhuZtcIjpcInJcIixcIuG5nVwiOlwiclwiLFwixZdcIjpcInJcIixcIuG5n1wiOlwiclwiLFwiyY1cIjpcInJcIixcIsm9XCI6XCJyXCIsXCLqnZtcIjpcInJcIixcIuqep1wiOlwiclwiLFwi6p6DXCI6XCJyXCIsXCLik6JcIjpcInNcIixcIu+9k1wiOlwic1wiLFwiw59cIjpcInNcIixcIsWbXCI6XCJzXCIsXCLhuaVcIjpcInNcIixcIsWdXCI6XCJzXCIsXCLhuaFcIjpcInNcIixcIsWhXCI6XCJzXCIsXCLhuadcIjpcInNcIixcIuG5o1wiOlwic1wiLFwi4bmpXCI6XCJzXCIsXCLImVwiOlwic1wiLFwixZ9cIjpcInNcIixcIsi/XCI6XCJzXCIsXCLqnqlcIjpcInNcIixcIuqehVwiOlwic1wiLFwi4bqbXCI6XCJzXCIsXCLik6NcIjpcInRcIixcIu+9lFwiOlwidFwiLFwi4bmrXCI6XCJ0XCIsXCLhupdcIjpcInRcIixcIsWlXCI6XCJ0XCIsXCLhua1cIjpcInRcIixcIsibXCI6XCJ0XCIsXCLFo1wiOlwidFwiLFwi4bmxXCI6XCJ0XCIsXCLhua9cIjpcInRcIixcIsWnXCI6XCJ0XCIsXCLGrVwiOlwidFwiLFwiyohcIjpcInRcIixcIuKxplwiOlwidFwiLFwi6p6HXCI6XCJ0XCIsXCLqnKlcIjpcInR6XCIsXCLik6RcIjpcInVcIixcIu+9lVwiOlwidVwiLFwiw7lcIjpcInVcIixcIsO6XCI6XCJ1XCIsXCLDu1wiOlwidVwiLFwixalcIjpcInVcIixcIuG5uVwiOlwidVwiLFwixatcIjpcInVcIixcIuG5u1wiOlwidVwiLFwixa1cIjpcInVcIixcIsO8XCI6XCJ1XCIsXCLHnFwiOlwidVwiLFwix5hcIjpcInVcIixcIseWXCI6XCJ1XCIsXCLHmlwiOlwidVwiLFwi4bunXCI6XCJ1XCIsXCLFr1wiOlwidVwiLFwixbFcIjpcInVcIixcIseUXCI6XCJ1XCIsXCLIlVwiOlwidVwiLFwiyJdcIjpcInVcIixcIsawXCI6XCJ1XCIsXCLhu6tcIjpcInVcIixcIuG7qVwiOlwidVwiLFwi4buvXCI6XCJ1XCIsXCLhu61cIjpcInVcIixcIuG7sVwiOlwidVwiLFwi4bulXCI6XCJ1XCIsXCLhubNcIjpcInVcIixcIsWzXCI6XCJ1XCIsXCLhubdcIjpcInVcIixcIuG5tVwiOlwidVwiLFwiyolcIjpcInVcIixcIuKTpVwiOlwidlwiLFwi772WXCI6XCJ2XCIsXCLhub1cIjpcInZcIixcIuG5v1wiOlwidlwiLFwiyotcIjpcInZcIixcIuqdn1wiOlwidlwiLFwiyoxcIjpcInZcIixcIuqdoVwiOlwidnlcIixcIuKTplwiOlwid1wiLFwi772XXCI6XCJ3XCIsXCLhuoFcIjpcIndcIixcIuG6g1wiOlwid1wiLFwixbVcIjpcIndcIixcIuG6h1wiOlwid1wiLFwi4bqFXCI6XCJ3XCIsXCLhuphcIjpcIndcIixcIuG6iVwiOlwid1wiLFwi4rGzXCI6XCJ3XCIsXCLik6dcIjpcInhcIixcIu+9mFwiOlwieFwiLFwi4bqLXCI6XCJ4XCIsXCLhuo1cIjpcInhcIixcIuKTqFwiOlwieVwiLFwi772ZXCI6XCJ5XCIsXCLhu7NcIjpcInlcIixcIsO9XCI6XCJ5XCIsXCLFt1wiOlwieVwiLFwi4bu5XCI6XCJ5XCIsXCLIs1wiOlwieVwiLFwi4bqPXCI6XCJ5XCIsXCLDv1wiOlwieVwiLFwi4bu3XCI6XCJ5XCIsXCLhuplcIjpcInlcIixcIuG7tVwiOlwieVwiLFwixrRcIjpcInlcIixcIsmPXCI6XCJ5XCIsXCLhu79cIjpcInlcIixcIuKTqVwiOlwielwiLFwi772aXCI6XCJ6XCIsXCLFulwiOlwielwiLFwi4bqRXCI6XCJ6XCIsXCLFvFwiOlwielwiLFwixb5cIjpcInpcIixcIuG6k1wiOlwielwiLFwi4bqVXCI6XCJ6XCIsXCLGtlwiOlwielwiLFwiyKVcIjpcInpcIixcIsmAXCI6XCJ6XCIsXCLisaxcIjpcInpcIixcIuqdo1wiOlwielwiLFwizoZcIjpcIs6RXCIsXCLOiFwiOlwizpVcIixcIs6JXCI6XCLOl1wiLFwizopcIjpcIs6ZXCIsXCLOqlwiOlwizplcIixcIs6MXCI6XCLOn1wiLFwizo5cIjpcIs6lXCIsXCLOq1wiOlwizqVcIixcIs6PXCI6XCLOqVwiLFwizqxcIjpcIs6xXCIsXCLOrVwiOlwizrVcIixcIs6uXCI6XCLOt1wiLFwizq9cIjpcIs65XCIsXCLPilwiOlwizrlcIixcIs6QXCI6XCLOuVwiLFwiz4xcIjpcIs6/XCIsXCLPjVwiOlwiz4VcIixcIs+LXCI6XCLPhVwiLFwizrBcIjpcIs+FXCIsXCLPiVwiOlwiz4lcIixcIs+CXCI6XCLPg1wifTtyZXR1cm4gYX0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL2Jhc2VcIixbXCIuLi91dGlsc1wiXSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyl7Yi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKX1yZXR1cm4gYS5FeHRlbmQoYixhLk9ic2VydmFibGUpLGIucHJvdG90eXBlLmN1cnJlbnQ9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKFwiVGhlIGBjdXJyZW50YCBtZXRob2QgbXVzdCBiZSBkZWZpbmVkIGluIGNoaWxkIGNsYXNzZXMuXCIpfSxiLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihhLGIpe3Rocm93IG5ldyBFcnJvcihcIlRoZSBgcXVlcnlgIG1ldGhvZCBtdXN0IGJlIGRlZmluZWQgaW4gY2hpbGQgY2xhc3Nlcy5cIil9LGIucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiKXt9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGIucHJvdG90eXBlLmdlbmVyYXRlUmVzdWx0SWQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1iLmlkK1wiLXJlc3VsdC1cIjtyZXR1cm4gZCs9YS5nZW5lcmF0ZUNoYXJzKDQpLGQrPW51bGwhPWMuaWQ/XCItXCIrYy5pZC50b1N0cmluZygpOlwiLVwiK2EuZ2VuZXJhdGVDaGFycyg0KX0sYn0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL3NlbGVjdFwiLFtcIi4vYmFzZVwiLFwiLi4vdXRpbHNcIixcImpxdWVyeVwiXSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhLGIpe3RoaXMuJGVsZW1lbnQ9YSx0aGlzLm9wdGlvbnM9YixkLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfXJldHVybiBiLkV4dGVuZChkLGEpLGQucHJvdG90eXBlLmN1cnJlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9W10sZD10aGlzO3RoaXMuJGVsZW1lbnQuZmluZChcIjpzZWxlY3RlZFwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9Yyh0aGlzKSxlPWQuaXRlbShhKTtiLnB1c2goZSl9KSxhKGIpfSxkLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhLnNlbGVjdGVkPSEwLGMoYS5lbGVtZW50KS5pcyhcIm9wdGlvblwiKSlyZXR1cm4gYS5lbGVtZW50LnNlbGVjdGVkPSEwLHZvaWQgdGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiY2hhbmdlXCIpO1xuaWYodGhpcy4kZWxlbWVudC5wcm9wKFwibXVsdGlwbGVcIikpdGhpcy5jdXJyZW50KGZ1bmN0aW9uKGQpe3ZhciBlPVtdO2E9W2FdLGEucHVzaC5hcHBseShhLGQpO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZz1hW2ZdLmlkOy0xPT09Yy5pbkFycmF5KGcsZSkmJmUucHVzaChnKX1iLiRlbGVtZW50LnZhbChlKSxiLiRlbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2VcIil9KTtlbHNle3ZhciBkPWEuaWQ7dGhpcy4kZWxlbWVudC52YWwoZCksdGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiY2hhbmdlXCIpfX0sZC5wcm90b3R5cGUudW5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZih0aGlzLiRlbGVtZW50LnByb3AoXCJtdWx0aXBsZVwiKSlyZXR1cm4gYS5zZWxlY3RlZD0hMSxjKGEuZWxlbWVudCkuaXMoXCJvcHRpb25cIik/KGEuZWxlbWVudC5zZWxlY3RlZD0hMSx2b2lkIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKSk6dm9pZCB0aGlzLmN1cnJlbnQoZnVuY3Rpb24oZCl7Zm9yKHZhciBlPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9ZFtmXS5pZDtnIT09YS5pZCYmLTE9PT1jLmluQXJyYXkoZyxlKSYmZS5wdXNoKGcpfWIuJGVsZW1lbnQudmFsKGUpLGIuJGVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX0pfSxkLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmNvbnRhaW5lcj1hLGEub24oXCJzZWxlY3RcIixmdW5jdGlvbihhKXtjLnNlbGVjdChhLmRhdGEpfSksYS5vbihcInVuc2VsZWN0XCIsZnVuY3Rpb24oYSl7Yy51bnNlbGVjdChhLmRhdGEpfSl9LGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoXCIqXCIpLmVhY2goZnVuY3Rpb24oKXtjLnJlbW92ZURhdGEodGhpcyxcImRhdGFcIil9KX0sZC5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oYSxiKXt2YXIgZD1bXSxlPXRoaXMsZj10aGlzLiRlbGVtZW50LmNoaWxkcmVuKCk7Zi5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9Yyh0aGlzKTtpZihiLmlzKFwib3B0aW9uXCIpfHxiLmlzKFwib3B0Z3JvdXBcIikpe3ZhciBmPWUuaXRlbShiKSxnPWUubWF0Y2hlcyhhLGYpO251bGwhPT1nJiZkLnB1c2goZyl9fSksYih7cmVzdWx0czpkfSl9LGQucHJvdG90eXBlLmFkZE9wdGlvbnM9ZnVuY3Rpb24oYSl7Yi5hcHBlbmRNYW55KHRoaXMuJGVsZW1lbnQsYSl9LGQucHJvdG90eXBlLm9wdGlvbj1mdW5jdGlvbihhKXt2YXIgYjthLmNoaWxkcmVuPyhiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRncm91cFwiKSxiLmxhYmVsPWEudGV4dCk6KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSx2b2lkIDAhPT1iLnRleHRDb250ZW50P2IudGV4dENvbnRlbnQ9YS50ZXh0OmIuaW5uZXJUZXh0PWEudGV4dCksYS5pZCYmKGIudmFsdWU9YS5pZCksYS5kaXNhYmxlZCYmKGIuZGlzYWJsZWQ9ITApLGEuc2VsZWN0ZWQmJihiLnNlbGVjdGVkPSEwKSxhLnRpdGxlJiYoYi50aXRsZT1hLnRpdGxlKTt2YXIgZD1jKGIpLGU9dGhpcy5fbm9ybWFsaXplSXRlbShhKTtyZXR1cm4gZS5lbGVtZW50PWIsYy5kYXRhKGIsXCJkYXRhXCIsZSksZH0sZC5wcm90b3R5cGUuaXRlbT1mdW5jdGlvbihhKXt2YXIgYj17fTtpZihiPWMuZGF0YShhWzBdLFwiZGF0YVwiKSxudWxsIT1iKXJldHVybiBiO2lmKGEuaXMoXCJvcHRpb25cIikpYj17aWQ6YS52YWwoKSx0ZXh0OmEudGV4dCgpLGRpc2FibGVkOmEucHJvcChcImRpc2FibGVkXCIpLHNlbGVjdGVkOmEucHJvcChcInNlbGVjdGVkXCIpLHRpdGxlOmEucHJvcChcInRpdGxlXCIpfTtlbHNlIGlmKGEuaXMoXCJvcHRncm91cFwiKSl7Yj17dGV4dDphLnByb3AoXCJsYWJlbFwiKSxjaGlsZHJlbjpbXSx0aXRsZTphLnByb3AoXCJ0aXRsZVwiKX07Zm9yKHZhciBkPWEuY2hpbGRyZW4oXCJvcHRpb25cIiksZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPWMoZFtmXSksaD10aGlzLml0ZW0oZyk7ZS5wdXNoKGgpfWIuY2hpbGRyZW49ZX1yZXR1cm4gYj10aGlzLl9ub3JtYWxpemVJdGVtKGIpLGIuZWxlbWVudD1hWzBdLGMuZGF0YShhWzBdLFwiZGF0YVwiLGIpLGJ9LGQucHJvdG90eXBlLl9ub3JtYWxpemVJdGVtPWZ1bmN0aW9uKGEpe2MuaXNQbGFpbk9iamVjdChhKXx8KGE9e2lkOmEsdGV4dDphfSksYT1jLmV4dGVuZCh7fSx7dGV4dDpcIlwifSxhKTt2YXIgYj17c2VsZWN0ZWQ6ITEsZGlzYWJsZWQ6ITF9O3JldHVybiBudWxsIT1hLmlkJiYoYS5pZD1hLmlkLnRvU3RyaW5nKCkpLG51bGwhPWEudGV4dCYmKGEudGV4dD1hLnRleHQudG9TdHJpbmcoKSksbnVsbD09YS5fcmVzdWx0SWQmJmEuaWQmJm51bGwhPXRoaXMuY29udGFpbmVyJiYoYS5fcmVzdWx0SWQ9dGhpcy5nZW5lcmF0ZVJlc3VsdElkKHRoaXMuY29udGFpbmVyLGEpKSxjLmV4dGVuZCh7fSxiLGEpfSxkLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vcHRpb25zLmdldChcIm1hdGNoZXJcIik7cmV0dXJuIGMoYSxiKX0sZH0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL2FycmF5XCIsW1wiLi9zZWxlY3RcIixcIi4uL3V0aWxzXCIsXCJqcXVlcnlcIl0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXt2YXIgYz1iLmdldChcImRhdGFcIil8fFtdO2QuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpLHRoaXMuYWRkT3B0aW9ucyh0aGlzLmNvbnZlcnRUb09wdGlvbnMoYykpfXJldHVybiBiLkV4dGVuZChkLGEpLGQucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLiRlbGVtZW50LmZpbmQoXCJvcHRpb25cIikuZmlsdGVyKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMudmFsdWU9PWEuaWQudG9TdHJpbmcoKX0pOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5vcHRpb24oYSksdGhpcy5hZGRPcHRpb25zKGIpKSxkLl9fc3VwZXJfXy5zZWxlY3QuY2FsbCh0aGlzLGEpfSxkLnByb3RvdHlwZS5jb252ZXJ0VG9PcHRpb25zPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGModGhpcykudmFsKCk9PWEuaWR9fWZvcih2YXIgZT10aGlzLGY9dGhpcy4kZWxlbWVudC5maW5kKFwib3B0aW9uXCIpLGc9Zi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZS5pdGVtKGModGhpcykpLmlkfSkuZ2V0KCksaD1bXSxpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBqPXRoaXMuX25vcm1hbGl6ZUl0ZW0oYVtpXSk7aWYoYy5pbkFycmF5KGouaWQsZyk+PTApe3ZhciBrPWYuZmlsdGVyKGQoaikpLGw9dGhpcy5pdGVtKGspLG09Yy5leHRlbmQoITAse30saixsKSxuPXRoaXMub3B0aW9uKG0pO2sucmVwbGFjZVdpdGgobil9ZWxzZXt2YXIgbz10aGlzLm9wdGlvbihqKTtpZihqLmNoaWxkcmVuKXt2YXIgcD10aGlzLmNvbnZlcnRUb09wdGlvbnMoai5jaGlsZHJlbik7Yi5hcHBlbmRNYW55KG8scCl9aC5wdXNoKG8pfX1yZXR1cm4gaH0sZH0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL2FqYXhcIixbXCIuL2FycmF5XCIsXCIuLi91dGlsc1wiLFwianF1ZXJ5XCJdLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEsYil7dGhpcy5hamF4T3B0aW9ucz10aGlzLl9hcHBseURlZmF1bHRzKGIuZ2V0KFwiYWpheFwiKSksbnVsbCE9dGhpcy5hamF4T3B0aW9ucy5wcm9jZXNzUmVzdWx0cyYmKHRoaXMucHJvY2Vzc1Jlc3VsdHM9dGhpcy5hamF4T3B0aW9ucy5wcm9jZXNzUmVzdWx0cyksZC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYil9cmV0dXJuIGIuRXh0ZW5kKGQsYSksZC5wcm90b3R5cGUuX2FwcGx5RGVmYXVsdHM9ZnVuY3Rpb24oYSl7dmFyIGI9e2RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZXh0ZW5kKHt9LGEse3E6YS50ZXJtfSl9LHRyYW5zcG9ydDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9Yy5hamF4KGEpO3JldHVybiBlLnRoZW4oYiksZS5mYWlsKGQpLGV9fTtyZXR1cm4gYy5leHRlbmQoe30sYixhLCEwKX0sZC5wcm90b3R5cGUucHJvY2Vzc1Jlc3VsdHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGQucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZCgpe3ZhciBkPWYudHJhbnNwb3J0KGYsZnVuY3Rpb24oZCl7dmFyIGY9ZS5wcm9jZXNzUmVzdWx0cyhkLGEpO2Uub3B0aW9ucy5nZXQoXCJkZWJ1Z1wiKSYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3ImJihmJiZmLnJlc3VsdHMmJmMuaXNBcnJheShmLnJlc3VsdHMpfHxjb25zb2xlLmVycm9yKFwiU2VsZWN0MjogVGhlIEFKQVggcmVzdWx0cyBkaWQgbm90IHJldHVybiBhbiBhcnJheSBpbiB0aGUgYHJlc3VsdHNgIGtleSBvZiB0aGUgcmVzcG9uc2UuXCIpKSxiKGYpfSxmdW5jdGlvbigpe2Quc3RhdHVzJiZcIjBcIj09PWQuc3RhdHVzfHxlLnRyaWdnZXIoXCJyZXN1bHRzOm1lc3NhZ2VcIix7bWVzc2FnZTpcImVycm9yTG9hZGluZ1wifSl9KTtlLl9yZXF1ZXN0PWR9dmFyIGU9dGhpcztudWxsIT10aGlzLl9yZXF1ZXN0JiYoYy5pc0Z1bmN0aW9uKHRoaXMuX3JlcXVlc3QuYWJvcnQpJiZ0aGlzLl9yZXF1ZXN0LmFib3J0KCksdGhpcy5fcmVxdWVzdD1udWxsKTt2YXIgZj1jLmV4dGVuZCh7dHlwZTpcIkdFVFwifSx0aGlzLmFqYXhPcHRpb25zKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnVybCYmKGYudXJsPWYudXJsLmNhbGwodGhpcy4kZWxlbWVudCxhKSksXCJmdW5jdGlvblwiPT10eXBlb2YgZi5kYXRhJiYoZi5kYXRhPWYuZGF0YS5jYWxsKHRoaXMuJGVsZW1lbnQsYSkpLHRoaXMuYWpheE9wdGlvbnMuZGVsYXkmJm51bGwhPWEudGVybT8odGhpcy5fcXVlcnlUaW1lb3V0JiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3F1ZXJ5VGltZW91dCksdGhpcy5fcXVlcnlUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGQsdGhpcy5hamF4T3B0aW9ucy5kZWxheSkpOmQoKX0sZH0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL3RhZ3NcIixbXCJqcXVlcnlcIl0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGMsZCl7dmFyIGU9ZC5nZXQoXCJ0YWdzXCIpLGY9ZC5nZXQoXCJjcmVhdGVUYWdcIik7dm9pZCAwIT09ZiYmKHRoaXMuY3JlYXRlVGFnPWYpO3ZhciBnPWQuZ2V0KFwiaW5zZXJ0VGFnXCIpO2lmKHZvaWQgMCE9PWcmJih0aGlzLmluc2VydFRhZz1nKSxiLmNhbGwodGhpcyxjLGQpLGEuaXNBcnJheShlKSlmb3IodmFyIGg9MDtoPGUubGVuZ3RoO2grKyl7dmFyIGk9ZVtoXSxqPXRoaXMuX25vcm1hbGl6ZUl0ZW0oaSksaz10aGlzLm9wdGlvbihqKTt0aGlzLiRlbGVtZW50LmFwcGVuZChrKX19cmV0dXJuIGIucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEsZil7Zm9yKHZhciBnPWEucmVzdWx0cyxoPTA7aDxnLmxlbmd0aDtoKyspe3ZhciBpPWdbaF0saj1udWxsIT1pLmNoaWxkcmVuJiYhZCh7cmVzdWx0czppLmNoaWxkcmVufSwhMCksaz1pLnRleHQ9PT1iLnRlcm07aWYoa3x8ailyZXR1cm4gZj8hMTooYS5kYXRhPWcsdm9pZCBjKGEpKX1pZihmKXJldHVybiEwO3ZhciBsPWUuY3JlYXRlVGFnKGIpO2lmKG51bGwhPWwpe3ZhciBtPWUub3B0aW9uKGwpO20uYXR0cihcImRhdGEtc2VsZWN0Mi10YWdcIiwhMCksZS5hZGRPcHRpb25zKFttXSksZS5pbnNlcnRUYWcoZyxsKX1hLnJlc3VsdHM9ZyxjKGEpfXZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3JlbW92ZU9sZFRhZ3MoKSxudWxsPT1iLnRlcm18fG51bGwhPWIucGFnZT92b2lkIGEuY2FsbCh0aGlzLGIsYyk6dm9pZCBhLmNhbGwodGhpcyxiLGQpfSxiLnByb3RvdHlwZS5jcmVhdGVUYWc9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLnRyaW0oYy50ZXJtKTtyZXR1cm5cIlwiPT09ZD9udWxsOntpZDpkLHRleHQ6ZH19LGIucHJvdG90eXBlLmluc2VydFRhZz1mdW5jdGlvbihhLGIsYyl7Yi51bnNoaWZ0KGMpfSxiLnByb3RvdHlwZS5fcmVtb3ZlT2xkVGFncz1mdW5jdGlvbihiKXt2YXIgYz0odGhpcy5fbGFzdFRhZyx0aGlzLiRlbGVtZW50LmZpbmQoXCJvcHRpb25bZGF0YS1zZWxlY3QyLXRhZ11cIikpO2MuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWR8fGEodGhpcykucmVtb3ZlKCl9KX0sYn0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL3Rva2VuaXplclwiLFtcImpxdWVyeVwiXSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjKXt2YXIgZD1jLmdldChcInRva2VuaXplclwiKTt2b2lkIDAhPT1kJiYodGhpcy50b2tlbml6ZXI9ZCksYS5jYWxsKHRoaXMsYixjKX1yZXR1cm4gYi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7YS5jYWxsKHRoaXMsYixjKSx0aGlzLiRzZWFyY2g9Yi5kcm9wZG93bi4kc2VhcmNofHxiLnNlbGVjdGlvbi4kc2VhcmNofHxjLmZpbmQoXCIuc2VsZWN0Mi1zZWFyY2hfX2ZpZWxkXCIpfSxiLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShiKXt2YXIgYz1nLl9ub3JtYWxpemVJdGVtKGIpLGQ9Zy4kZWxlbWVudC5maW5kKFwib3B0aW9uXCIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnZhbCgpPT09Yy5pZH0pO2lmKCFkLmxlbmd0aCl7dmFyIGU9Zy5vcHRpb24oYyk7ZS5hdHRyKFwiZGF0YS1zZWxlY3QyLXRhZ1wiLCEwKSxnLl9yZW1vdmVPbGRUYWdzKCksZy5hZGRPcHRpb25zKFtlXSl9ZihjKX1mdW5jdGlvbiBmKGEpe2cudHJpZ2dlcihcInNlbGVjdFwiLHtkYXRhOmF9KX12YXIgZz10aGlzO2MudGVybT1jLnRlcm18fFwiXCI7dmFyIGg9dGhpcy50b2tlbml6ZXIoYyx0aGlzLm9wdGlvbnMsZSk7aC50ZXJtIT09Yy50ZXJtJiYodGhpcy4kc2VhcmNoLmxlbmd0aCYmKHRoaXMuJHNlYXJjaC52YWwoaC50ZXJtKSx0aGlzLiRzZWFyY2guZm9jdXMoKSksYy50ZXJtPWgudGVybSksYi5jYWxsKHRoaXMsYyxkKX0sYi5wcm90b3R5cGUudG9rZW5pemVyPWZ1bmN0aW9uKGIsYyxkLGUpe2Zvcih2YXIgZj1kLmdldChcInRva2VuU2VwYXJhdG9yc1wiKXx8W10sZz1jLnRlcm0saD0wLGk9dGhpcy5jcmVhdGVUYWd8fGZ1bmN0aW9uKGEpe3JldHVybntpZDphLnRlcm0sdGV4dDphLnRlcm19fTtoPGcubGVuZ3RoOyl7dmFyIGo9Z1toXTtpZigtMSE9PWEuaW5BcnJheShqLGYpKXt2YXIgaz1nLnN1YnN0cigwLGgpLGw9YS5leHRlbmQoe30sYyx7dGVybTprfSksbT1pKGwpO251bGwhPW0/KGUobSksZz1nLnN1YnN0cihoKzEpfHxcIlwiLGg9MCk6aCsrfWVsc2UgaCsrfXJldHVybnt0ZXJtOmd9fSxifSksYi5kZWZpbmUoXCJzZWxlY3QyL2RhdGEvbWluaW11bUlucHV0TGVuZ3RoXCIsW10sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt0aGlzLm1pbmltdW1JbnB1dExlbmd0aD1jLmdldChcIm1pbmltdW1JbnB1dExlbmd0aFwiKSxhLmNhbGwodGhpcyxiLGMpfXJldHVybiBhLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIudGVybT1iLnRlcm18fFwiXCIsYi50ZXJtLmxlbmd0aDx0aGlzLm1pbmltdW1JbnB1dExlbmd0aD92b2lkIHRoaXMudHJpZ2dlcihcInJlc3VsdHM6bWVzc2FnZVwiLHttZXNzYWdlOlwiaW5wdXRUb29TaG9ydFwiLGFyZ3M6e21pbmltdW06dGhpcy5taW5pbXVtSW5wdXRMZW5ndGgsaW5wdXQ6Yi50ZXJtLHBhcmFtczpifX0pOnZvaWQgYS5jYWxsKHRoaXMsYixjKX0sYX0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL21heGltdW1JbnB1dExlbmd0aFwiLFtdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7dGhpcy5tYXhpbXVtSW5wdXRMZW5ndGg9Yy5nZXQoXCJtYXhpbXVtSW5wdXRMZW5ndGhcIiksYS5jYWxsKHRoaXMsYixjKX1yZXR1cm4gYS5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLnRlcm09Yi50ZXJtfHxcIlwiLHRoaXMubWF4aW11bUlucHV0TGVuZ3RoPjAmJmIudGVybS5sZW5ndGg+dGhpcy5tYXhpbXVtSW5wdXRMZW5ndGg/dm9pZCB0aGlzLnRyaWdnZXIoXCJyZXN1bHRzOm1lc3NhZ2VcIix7bWVzc2FnZTpcImlucHV0VG9vTG9uZ1wiLGFyZ3M6e21heGltdW06dGhpcy5tYXhpbXVtSW5wdXRMZW5ndGgsaW5wdXQ6Yi50ZXJtLHBhcmFtczpifX0pOnZvaWQgYS5jYWxsKHRoaXMsYixjKX0sYX0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kYXRhL21heGltdW1TZWxlY3Rpb25MZW5ndGhcIixbXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3RoaXMubWF4aW11bVNlbGVjdGlvbkxlbmd0aD1jLmdldChcIm1heGltdW1TZWxlY3Rpb25MZW5ndGhcIiksYS5jYWxsKHRoaXMsYixjKX1yZXR1cm4gYS5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7dGhpcy5jdXJyZW50KGZ1bmN0aW9uKGUpe3ZhciBmPW51bGwhPWU/ZS5sZW5ndGg6MDtyZXR1cm4gZC5tYXhpbXVtU2VsZWN0aW9uTGVuZ3RoPjAmJmY+PWQubWF4aW11bVNlbGVjdGlvbkxlbmd0aD92b2lkIGQudHJpZ2dlcihcInJlc3VsdHM6bWVzc2FnZVwiLHttZXNzYWdlOlwibWF4aW11bVNlbGVjdGVkXCIsYXJnczp7bWF4aW11bTpkLm1heGltdW1TZWxlY3Rpb25MZW5ndGh9fSk6dm9pZCBhLmNhbGwoZCxiLGMpfSl9LGF9KSxiLmRlZmluZShcInNlbGVjdDIvZHJvcGRvd25cIixbXCJqcXVlcnlcIixcIi4vdXRpbHNcIl0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dGhpcy4kZWxlbWVudD1hLHRoaXMub3B0aW9ucz1iLGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyl9cmV0dXJuIGIuRXh0ZW5kKGMsYi5PYnNlcnZhYmxlKSxjLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYj1hKCc8c3BhbiBjbGFzcz1cInNlbGVjdDItZHJvcGRvd25cIj48c3BhbiBjbGFzcz1cInNlbGVjdDItcmVzdWx0c1wiPjwvc3Bhbj48L3NwYW4+Jyk7cmV0dXJuIGIuYXR0cihcImRpclwiLHRoaXMub3B0aW9ucy5nZXQoXCJkaXJcIikpLHRoaXMuJGRyb3Bkb3duPWIsYn0sYy5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe30sYy5wcm90b3R5cGUucG9zaXRpb249ZnVuY3Rpb24oYSxiKXt9LGMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLiRkcm9wZG93bi5yZW1vdmUoKX0sY30pLGIuZGVmaW5lKFwic2VsZWN0Mi9kcm9wZG93bi9zZWFyY2hcIixbXCJqcXVlcnlcIixcIi4uL3V0aWxzXCJdLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31yZXR1cm4gYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGIpe3ZhciBjPWIuY2FsbCh0aGlzKSxkPWEoJzxzcGFuIGNsYXNzPVwic2VsZWN0Mi1zZWFyY2ggc2VsZWN0Mi1zZWFyY2gtLWRyb3Bkb3duXCI+PGlucHV0IGNsYXNzPVwic2VsZWN0Mi1zZWFyY2hfX2ZpZWxkXCIgdHlwZT1cInNlYXJjaFwiIHRhYmluZGV4PVwiLTFcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBhdXRvY29ycmVjdD1cIm9mZlwiIGF1dG9jYXBpdGFsaXplPVwib2ZmXCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgcm9sZT1cInRleHRib3hcIiAvPjwvc3Bhbj4nKTtyZXR1cm4gdGhpcy4kc2VhcmNoQ29udGFpbmVyPWQsdGhpcy4kc2VhcmNoPWQuZmluZChcImlucHV0XCIpLGMucHJlcGVuZChkKSxjfSxjLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2IuY2FsbCh0aGlzLGMsZCksdGhpcy4kc2VhcmNoLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2UudHJpZ2dlcihcImtleXByZXNzXCIsYSksZS5fa2V5VXBQcmV2ZW50ZWQ9YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKX0pLHRoaXMuJHNlYXJjaC5vbihcImlucHV0XCIsZnVuY3Rpb24oYil7YSh0aGlzKS5vZmYoXCJrZXl1cFwiKX0pLHRoaXMuJHNlYXJjaC5vbihcImtleXVwIGlucHV0XCIsZnVuY3Rpb24oYSl7ZS5oYW5kbGVTZWFyY2goYSl9KSxjLm9uKFwib3BlblwiLGZ1bmN0aW9uKCl7ZS4kc2VhcmNoLmF0dHIoXCJ0YWJpbmRleFwiLDApLGUuJHNlYXJjaC5mb2N1cygpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS4kc2VhcmNoLmZvY3VzKCl9LDApfSksYy5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXtlLiRzZWFyY2guYXR0cihcInRhYmluZGV4XCIsLTEpLGUuJHNlYXJjaC52YWwoXCJcIil9KSxjLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2MuaXNPcGVuKCkmJmUuJHNlYXJjaC5mb2N1cygpfSksYy5vbihcInJlc3VsdHM6YWxsXCIsZnVuY3Rpb24oYSl7aWYobnVsbD09YS5xdWVyeS50ZXJtfHxcIlwiPT09YS5xdWVyeS50ZXJtKXt2YXIgYj1lLnNob3dTZWFyY2goYSk7Yj9lLiRzZWFyY2hDb250YWluZXIucmVtb3ZlQ2xhc3MoXCJzZWxlY3QyLXNlYXJjaC0taGlkZVwiKTplLiRzZWFyY2hDb250YWluZXIuYWRkQ2xhc3MoXCJzZWxlY3QyLXNlYXJjaC0taGlkZVwiKX19KX0sYy5wcm90b3R5cGUuaGFuZGxlU2VhcmNoPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9rZXlVcFByZXZlbnRlZCl7dmFyIGI9dGhpcy4kc2VhcmNoLnZhbCgpO3RoaXMudHJpZ2dlcihcInF1ZXJ5XCIse3Rlcm06Yn0pfXRoaXMuX2tleVVwUHJldmVudGVkPSExfSxjLnByb3RvdHlwZS5zaG93U2VhcmNoPWZ1bmN0aW9uKGEsYil7cmV0dXJuITB9LGN9KSxiLmRlZmluZShcInNlbGVjdDIvZHJvcGRvd24vaGlkZVBsYWNlaG9sZGVyXCIsW10sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGQpe3RoaXMucGxhY2Vob2xkZXI9dGhpcy5ub3JtYWxpemVQbGFjZWhvbGRlcihjLmdldChcInBsYWNlaG9sZGVyXCIpKSxhLmNhbGwodGhpcyxiLGMsZCl9cmV0dXJuIGEucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihhLGIpe2IucmVzdWx0cz10aGlzLnJlbW92ZVBsYWNlaG9sZGVyKGIucmVzdWx0cyksYS5jYWxsKHRoaXMsYil9LGEucHJvdG90eXBlLm5vcm1hbGl6ZVBsYWNlaG9sZGVyPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPXtpZDpcIlwiLHRleHQ6Yn0pLGJ9LGEucHJvdG90eXBlLnJlbW92ZVBsYWNlaG9sZGVyPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWIuc2xpY2UoMCksZD1iLmxlbmd0aC0xO2Q+PTA7ZC0tKXt2YXIgZT1iW2RdO3RoaXMucGxhY2Vob2xkZXIuaWQ9PT1lLmlkJiZjLnNwbGljZShkLDEpfXJldHVybiBjfSxhfSksYi5kZWZpbmUoXCJzZWxlY3QyL2Ryb3Bkb3duL2luZmluaXRlU2Nyb2xsXCIsW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMsZCl7dGhpcy5sYXN0UGFyYW1zPXt9LGEuY2FsbCh0aGlzLGIsYyxkKSx0aGlzLiRsb2FkaW5nTW9yZT10aGlzLmNyZWF0ZUxvYWRpbmdNb3JlKCksdGhpcy5sb2FkaW5nPSExfXJldHVybiBiLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSxiKXt0aGlzLiRsb2FkaW5nTW9yZS5yZW1vdmUoKSx0aGlzLmxvYWRpbmc9ITEsYS5jYWxsKHRoaXMsYiksdGhpcy5zaG93TG9hZGluZ01vcmUoYikmJnRoaXMuJHJlc3VsdHMuYXBwZW5kKHRoaXMuJGxvYWRpbmdNb3JlKX0sYi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcztiLmNhbGwodGhpcyxjLGQpLGMub24oXCJxdWVyeVwiLGZ1bmN0aW9uKGEpe2UubGFzdFBhcmFtcz1hLGUubG9hZGluZz0hMH0pLGMub24oXCJxdWVyeTphcHBlbmRcIixmdW5jdGlvbihhKXtlLmxhc3RQYXJhbXM9YSxlLmxvYWRpbmc9ITB9KSx0aGlzLiRyZXN1bHRzLm9uKFwic2Nyb2xsXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxlLiRsb2FkaW5nTW9yZVswXSk7aWYoIWUubG9hZGluZyYmYil7dmFyIGM9ZS4kcmVzdWx0cy5vZmZzZXQoKS50b3ArZS4kcmVzdWx0cy5vdXRlckhlaWdodCghMSksZD1lLiRsb2FkaW5nTW9yZS5vZmZzZXQoKS50b3ArZS4kbG9hZGluZ01vcmUub3V0ZXJIZWlnaHQoITEpO2MrNTA+PWQmJmUubG9hZE1vcmUoKX19KX0sYi5wcm90b3R5cGUubG9hZE1vcmU9ZnVuY3Rpb24oKXt0aGlzLmxvYWRpbmc9ITA7dmFyIGI9YS5leHRlbmQoe30se3BhZ2U6MX0sdGhpcy5sYXN0UGFyYW1zKTtiLnBhZ2UrKyx0aGlzLnRyaWdnZXIoXCJxdWVyeTphcHBlbmRcIixiKX0sYi5wcm90b3R5cGUuc2hvd0xvYWRpbmdNb3JlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucGFnaW5hdGlvbiYmYi5wYWdpbmF0aW9uLm1vcmV9LGIucHJvdG90eXBlLmNyZWF0ZUxvYWRpbmdNb3JlPWZ1bmN0aW9uKCl7dmFyIGI9YSgnPGxpIGNsYXNzPVwic2VsZWN0Mi1yZXN1bHRzX19vcHRpb24gc2VsZWN0Mi1yZXN1bHRzX19vcHRpb24tLWxvYWQtbW9yZVwicm9sZT1cInRyZWVpdGVtXCIgYXJpYS1kaXNhYmxlZD1cInRydWVcIj48L2xpPicpLGM9dGhpcy5vcHRpb25zLmdldChcInRyYW5zbGF0aW9uc1wiKS5nZXQoXCJsb2FkaW5nTW9yZVwiKTtyZXR1cm4gYi5odG1sKGModGhpcy5sYXN0UGFyYW1zKSksYn0sYn0pLGIuZGVmaW5lKFwic2VsZWN0Mi9kcm9wZG93bi9hdHRhY2hCb2R5XCIsW1wianF1ZXJ5XCIsXCIuLi91dGlsc1wiXSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYixjLGQpe3RoaXMuJGRyb3Bkb3duUGFyZW50PWQuZ2V0KFwiZHJvcGRvd25QYXJlbnRcIil8fGEoZG9jdW1lbnQuYm9keSksYi5jYWxsKHRoaXMsYyxkKX1yZXR1cm4gYy5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPSExO2EuY2FsbCh0aGlzLGIsYyksYi5vbihcIm9wZW5cIixmdW5jdGlvbigpe2QuX3Nob3dEcm9wZG93bigpLGQuX2F0dGFjaFBvc2l0aW9uaW5nSGFuZGxlcihiKSxlfHwoZT0hMCxiLm9uKFwicmVzdWx0czphbGxcIixmdW5jdGlvbigpe2QuX3Bvc2l0aW9uRHJvcGRvd24oKSxkLl9yZXNpemVEcm9wZG93bigpfSksYi5vbihcInJlc3VsdHM6YXBwZW5kXCIsZnVuY3Rpb24oKXtkLl9wb3NpdGlvbkRyb3Bkb3duKCksZC5fcmVzaXplRHJvcGRvd24oKX0pKX0pLGIub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7ZC5faGlkZURyb3Bkb3duKCksZC5fZGV0YWNoUG9zaXRpb25pbmdIYW5kbGVyKGIpfSksdGhpcy4kZHJvcGRvd25Db250YWluZXIub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSl9LGMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oYSl7YS5jYWxsKHRoaXMpLHRoaXMuJGRyb3Bkb3duQ29udGFpbmVyLnJlbW92ZSgpfSxjLnByb3RvdHlwZS5wb3NpdGlvbj1mdW5jdGlvbihhLGIsYyl7Yi5hdHRyKFwiY2xhc3NcIixjLmF0dHIoXCJjbGFzc1wiKSksYi5yZW1vdmVDbGFzcyhcInNlbGVjdDJcIiksYi5hZGRDbGFzcyhcInNlbGVjdDItY29udGFpbmVyLS1vcGVuXCIpLGIuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOi05OTk5OTl9KSx0aGlzLiRjb250YWluZXI9Y30sYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGIpe3ZhciBjPWEoXCI8c3Bhbj48L3NwYW4+XCIpLGQ9Yi5jYWxsKHRoaXMpO3JldHVybiBjLmFwcGVuZChkKSx0aGlzLiRkcm9wZG93bkNvbnRhaW5lcj1jLGN9LGMucHJvdG90eXBlLl9oaWRlRHJvcGRvd249ZnVuY3Rpb24oYSl7dGhpcy4kZHJvcGRvd25Db250YWluZXIuZGV0YWNoKCl9LGMucHJvdG90eXBlLl9hdHRhY2hQb3NpdGlvbmluZ0hhbmRsZXI9ZnVuY3Rpb24oYyxkKXt2YXIgZT10aGlzLGY9XCJzY3JvbGwuc2VsZWN0Mi5cIitkLmlkLGc9XCJyZXNpemUuc2VsZWN0Mi5cIitkLmlkLGg9XCJvcmllbnRhdGlvbmNoYW5nZS5zZWxlY3QyLlwiK2QuaWQsaT10aGlzLiRjb250YWluZXIucGFyZW50cygpLmZpbHRlcihiLmhhc1Njcm9sbCk7aS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5kYXRhKFwic2VsZWN0Mi1zY3JvbGwtcG9zaXRpb25cIix7eDphKHRoaXMpLnNjcm9sbExlZnQoKSx5OmEodGhpcykuc2Nyb2xsVG9wKCl9KX0pLGkub24oZixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpLmRhdGEoXCJzZWxlY3QyLXNjcm9sbC1wb3NpdGlvblwiKTthKHRoaXMpLnNjcm9sbFRvcChjLnkpfSksYSh3aW5kb3cpLm9uKGYrXCIgXCIrZytcIiBcIitoLGZ1bmN0aW9uKGEpe2UuX3Bvc2l0aW9uRHJvcGRvd24oKSxlLl9yZXNpemVEcm9wZG93bigpfSl9LGMucHJvdG90eXBlLl9kZXRhY2hQb3NpdGlvbmluZ0hhbmRsZXI9ZnVuY3Rpb24oYyxkKXt2YXIgZT1cInNjcm9sbC5zZWxlY3QyLlwiK2QuaWQsZj1cInJlc2l6ZS5zZWxlY3QyLlwiK2QuaWQsZz1cIm9yaWVudGF0aW9uY2hhbmdlLnNlbGVjdDIuXCIrZC5pZCxoPXRoaXMuJGNvbnRhaW5lci5wYXJlbnRzKCkuZmlsdGVyKGIuaGFzU2Nyb2xsKTtoLm9mZihlKSxhKHdpbmRvdykub2ZmKGUrXCIgXCIrZitcIiBcIitnKX0sYy5wcm90b3R5cGUuX3Bvc2l0aW9uRHJvcGRvd249ZnVuY3Rpb24oKXt2YXIgYj1hKHdpbmRvdyksYz10aGlzLiRkcm9wZG93bi5oYXNDbGFzcyhcInNlbGVjdDItZHJvcGRvd24tLWFib3ZlXCIpLGQ9dGhpcy4kZHJvcGRvd24uaGFzQ2xhc3MoXCJzZWxlY3QyLWRyb3Bkb3duLS1iZWxvd1wiKSxlPW51bGwsZj10aGlzLiRjb250YWluZXIub2Zmc2V0KCk7Zi5ib3R0b209Zi50b3ArdGhpcy4kY29udGFpbmVyLm91dGVySGVpZ2h0KCExKTt2YXIgZz17aGVpZ2h0OnRoaXMuJGNvbnRhaW5lci5vdXRlckhlaWdodCghMSl9O2cudG9wPWYudG9wLGcuYm90dG9tPWYudG9wK2cuaGVpZ2h0O3ZhciBoPXtoZWlnaHQ6dGhpcy4kZHJvcGRvd24ub3V0ZXJIZWlnaHQoITEpfSxpPXt0b3A6Yi5zY3JvbGxUb3AoKSxib3R0b206Yi5zY3JvbGxUb3AoKStiLmhlaWdodCgpfSxqPWkudG9wPGYudG9wLWguaGVpZ2h0LGs9aS5ib3R0b20+Zi5ib3R0b20raC5oZWlnaHQsbD17bGVmdDpmLmxlZnQsdG9wOmcuYm90dG9tfSxtPXRoaXMuJGRyb3Bkb3duUGFyZW50O1wic3RhdGljXCI9PT1tLmNzcyhcInBvc2l0aW9uXCIpJiYobT1tLm9mZnNldFBhcmVudCgpKTt2YXIgbj1tLm9mZnNldCgpO2wudG9wLT1uLnRvcCxsLmxlZnQtPW4ubGVmdCxjfHxkfHwoZT1cImJlbG93XCIpLGt8fCFqfHxjPyFqJiZrJiZjJiYoZT1cImJlbG93XCIpOmU9XCJhYm92ZVwiLChcImFib3ZlXCI9PWV8fGMmJlwiYmVsb3dcIiE9PWUpJiYobC50b3A9Zy50b3Atbi50b3AtaC5oZWlnaHQpLG51bGwhPWUmJih0aGlzLiRkcm9wZG93bi5yZW1vdmVDbGFzcyhcInNlbGVjdDItZHJvcGRvd24tLWJlbG93IHNlbGVjdDItZHJvcGRvd24tLWFib3ZlXCIpLmFkZENsYXNzKFwic2VsZWN0Mi1kcm9wZG93bi0tXCIrZSksdGhpcy4kY29udGFpbmVyLnJlbW92ZUNsYXNzKFwic2VsZWN0Mi1jb250YWluZXItLWJlbG93IHNlbGVjdDItY29udGFpbmVyLS1hYm92ZVwiKS5hZGRDbGFzcyhcInNlbGVjdDItY29udGFpbmVyLS1cIitlKSksdGhpcy4kZHJvcGRvd25Db250YWluZXIuY3NzKGwpfSxjLnByb3RvdHlwZS5fcmVzaXplRHJvcGRvd249ZnVuY3Rpb24oKXt2YXIgYT17d2lkdGg6dGhpcy4kY29udGFpbmVyLm91dGVyV2lkdGgoITEpK1wicHhcIn07dGhpcy5vcHRpb25zLmdldChcImRyb3Bkb3duQXV0b1dpZHRoXCIpJiYoYS5taW5XaWR0aD1hLndpZHRoLGEucG9zaXRpb249XCJyZWxhdGl2ZVwiLGEud2lkdGg9XCJhdXRvXCIpLHRoaXMuJGRyb3Bkb3duLmNzcyhhKX0sYy5wcm90b3R5cGUuX3Nob3dEcm9wZG93bj1mdW5jdGlvbihhKXt0aGlzLiRkcm9wZG93bkNvbnRhaW5lci5hcHBlbmRUbyh0aGlzLiRkcm9wZG93blBhcmVudCksdGhpcy5fcG9zaXRpb25Ecm9wZG93bigpLHRoaXMuX3Jlc2l6ZURyb3Bkb3duKCl9LGN9KSxiLmRlZmluZShcInNlbGVjdDIvZHJvcGRvd24vbWluaW11bVJlc3VsdHNGb3JTZWFyY2hcIixbXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Zm9yKHZhciBjPTAsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO2UuY2hpbGRyZW4/Yys9YShlLmNoaWxkcmVuKTpjKyt9cmV0dXJuIGN9ZnVuY3Rpb24gYihhLGIsYyxkKXt0aGlzLm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoPWMuZ2V0KFwibWluaW11bVJlc3VsdHNGb3JTZWFyY2hcIiksdGhpcy5taW5pbXVtUmVzdWx0c0ZvclNlYXJjaDwwJiYodGhpcy5taW5pbXVtUmVzdWx0c0ZvclNlYXJjaD0xLzApLGEuY2FsbCh0aGlzLGIsYyxkKX1yZXR1cm4gYi5wcm90b3R5cGUuc2hvd1NlYXJjaD1mdW5jdGlvbihiLGMpe3JldHVybiBhKGMuZGF0YS5yZXN1bHRzKTx0aGlzLm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoPyExOmIuY2FsbCh0aGlzLGMpfSxifSksYi5kZWZpbmUoXCJzZWxlY3QyL2Ryb3Bkb3duL3NlbGVjdE9uQ2xvc2VcIixbXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9cmV0dXJuIGEucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7YS5jYWxsKHRoaXMsYixjKSxiLm9uKFwiY2xvc2VcIixmdW5jdGlvbihhKXtkLl9oYW5kbGVTZWxlY3RPbkNsb3NlKGEpfSl9LGEucHJvdG90eXBlLl9oYW5kbGVTZWxlY3RPbkNsb3NlPWZ1bmN0aW9uKGEsYil7aWYoYiYmbnVsbCE9Yi5vcmlnaW5hbFNlbGVjdDJFdmVudCl7dmFyIGM9Yi5vcmlnaW5hbFNlbGVjdDJFdmVudDtpZihcInNlbGVjdFwiPT09Yy5fdHlwZXx8XCJ1bnNlbGVjdFwiPT09Yy5fdHlwZSlyZXR1cm59dmFyIGQ9dGhpcy5nZXRIaWdobGlnaHRlZFJlc3VsdHMoKTtpZighKGQubGVuZ3RoPDEpKXt2YXIgZT1kLmRhdGEoXCJkYXRhXCIpO251bGwhPWUuZWxlbWVudCYmZS5lbGVtZW50LnNlbGVjdGVkfHxudWxsPT1lLmVsZW1lbnQmJmUuc2VsZWN0ZWR8fHRoaXMudHJpZ2dlcihcInNlbGVjdFwiLHtkYXRhOmV9KX19LGF9KSxiLmRlZmluZShcInNlbGVjdDIvZHJvcGRvd24vY2xvc2VPblNlbGVjdFwiLFtdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm4gYS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczthLmNhbGwodGhpcyxiLGMpLGIub24oXCJzZWxlY3RcIixmdW5jdGlvbihhKXtkLl9zZWxlY3RUcmlnZ2VyZWQoYSl9KSxiLm9uKFwidW5zZWxlY3RcIixmdW5jdGlvbihhKXtkLl9zZWxlY3RUcmlnZ2VyZWQoYSl9KX0sYS5wcm90b3R5cGUuX3NlbGVjdFRyaWdnZXJlZD1mdW5jdGlvbihhLGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudDtjJiZjLmN0cmxLZXl8fHRoaXMudHJpZ2dlcihcImNsb3NlXCIse29yaWdpbmFsRXZlbnQ6YyxvcmlnaW5hbFNlbGVjdDJFdmVudDpifSl9LGF9KSxiLmRlZmluZShcInNlbGVjdDIvaTE4bi9lblwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJue2Vycm9yTG9hZGluZzpmdW5jdGlvbigpe3JldHVyblwiVGhlIHJlc3VsdHMgY291bGQgbm90IGJlIGxvYWRlZC5cIn0saW5wdXRUb29Mb25nOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaW5wdXQubGVuZ3RoLWEubWF4aW11bSxjPVwiUGxlYXNlIGRlbGV0ZSBcIitiK1wiIGNoYXJhY3RlclwiO3JldHVybiAxIT1iJiYoYys9XCJzXCIpLGN9LGlucHV0VG9vU2hvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5taW5pbXVtLWEuaW5wdXQubGVuZ3RoLGM9XCJQbGVhc2UgZW50ZXIgXCIrYitcIiBvciBtb3JlIGNoYXJhY3RlcnNcIjtyZXR1cm4gY30sbG9hZGluZ01vcmU6ZnVuY3Rpb24oKXtyZXR1cm5cIkxvYWRpbmcgbW9yZSByZXN1bHRz4oCmXCJ9LG1heGltdW1TZWxlY3RlZDpmdW5jdGlvbihhKXt2YXIgYj1cIllvdSBjYW4gb25seSBzZWxlY3QgXCIrYS5tYXhpbXVtK1wiIGl0ZW1cIjtyZXR1cm4gMSE9YS5tYXhpbXVtJiYoYis9XCJzXCIpLGJ9LG5vUmVzdWx0czpmdW5jdGlvbigpe3JldHVyblwiTm8gcmVzdWx0cyBmb3VuZFwifSxzZWFyY2hpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIlNlYXJjaGluZ+KAplwifX19KSxiLmRlZmluZShcInNlbGVjdDIvZGVmYXVsdHNcIixbXCJqcXVlcnlcIixcInJlcXVpcmVcIixcIi4vcmVzdWx0c1wiLFwiLi9zZWxlY3Rpb24vc2luZ2xlXCIsXCIuL3NlbGVjdGlvbi9tdWx0aXBsZVwiLFwiLi9zZWxlY3Rpb24vcGxhY2Vob2xkZXJcIixcIi4vc2VsZWN0aW9uL2FsbG93Q2xlYXJcIixcIi4vc2VsZWN0aW9uL3NlYXJjaFwiLFwiLi9zZWxlY3Rpb24vZXZlbnRSZWxheVwiLFwiLi91dGlsc1wiLFwiLi90cmFuc2xhdGlvblwiLFwiLi9kaWFjcml0aWNzXCIsXCIuL2RhdGEvc2VsZWN0XCIsXCIuL2RhdGEvYXJyYXlcIixcIi4vZGF0YS9hamF4XCIsXCIuL2RhdGEvdGFnc1wiLFwiLi9kYXRhL3Rva2VuaXplclwiLFwiLi9kYXRhL21pbmltdW1JbnB1dExlbmd0aFwiLFwiLi9kYXRhL21heGltdW1JbnB1dExlbmd0aFwiLFwiLi9kYXRhL21heGltdW1TZWxlY3Rpb25MZW5ndGhcIixcIi4vZHJvcGRvd25cIixcIi4vZHJvcGRvd24vc2VhcmNoXCIsXCIuL2Ryb3Bkb3duL2hpZGVQbGFjZWhvbGRlclwiLFwiLi9kcm9wZG93bi9pbmZpbml0ZVNjcm9sbFwiLFwiLi9kcm9wZG93bi9hdHRhY2hCb2R5XCIsXCIuL2Ryb3Bkb3duL21pbmltdW1SZXN1bHRzRm9yU2VhcmNoXCIsXCIuL2Ryb3Bkb3duL3NlbGVjdE9uQ2xvc2VcIixcIi4vZHJvcGRvd24vY2xvc2VPblNlbGVjdFwiLFwiLi9pMThuL2VuXCJdLGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQyl7ZnVuY3Rpb24gRCgpe3RoaXMucmVzZXQoKX1ELnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihsKXtpZihsPWEuZXh0ZW5kKCEwLHt9LHRoaXMuZGVmYXVsdHMsbCksbnVsbD09bC5kYXRhQWRhcHRlcil7aWYobnVsbCE9bC5hamF4P2wuZGF0YUFkYXB0ZXI9bzpudWxsIT1sLmRhdGE/bC5kYXRhQWRhcHRlcj1uOmwuZGF0YUFkYXB0ZXI9bSxsLm1pbmltdW1JbnB1dExlbmd0aD4wJiYobC5kYXRhQWRhcHRlcj1qLkRlY29yYXRlKGwuZGF0YUFkYXB0ZXIscikpLGwubWF4aW11bUlucHV0TGVuZ3RoPjAmJihsLmRhdGFBZGFwdGVyPWouRGVjb3JhdGUobC5kYXRhQWRhcHRlcixzKSksbC5tYXhpbXVtU2VsZWN0aW9uTGVuZ3RoPjAmJihsLmRhdGFBZGFwdGVyPWouRGVjb3JhdGUobC5kYXRhQWRhcHRlcix0KSksbC50YWdzJiYobC5kYXRhQWRhcHRlcj1qLkRlY29yYXRlKGwuZGF0YUFkYXB0ZXIscCkpLChudWxsIT1sLnRva2VuU2VwYXJhdG9yc3x8bnVsbCE9bC50b2tlbml6ZXIpJiYobC5kYXRhQWRhcHRlcj1qLkRlY29yYXRlKGwuZGF0YUFkYXB0ZXIscSkpLG51bGwhPWwucXVlcnkpe3ZhciBDPWIobC5hbWRCYXNlK1wiY29tcGF0L3F1ZXJ5XCIpO2wuZGF0YUFkYXB0ZXI9ai5EZWNvcmF0ZShsLmRhdGFBZGFwdGVyLEMpfWlmKG51bGwhPWwuaW5pdFNlbGVjdGlvbil7dmFyIEQ9YihsLmFtZEJhc2UrXCJjb21wYXQvaW5pdFNlbGVjdGlvblwiKTtsLmRhdGFBZGFwdGVyPWouRGVjb3JhdGUobC5kYXRhQWRhcHRlcixEKX19aWYobnVsbD09bC5yZXN1bHRzQWRhcHRlciYmKGwucmVzdWx0c0FkYXB0ZXI9YyxudWxsIT1sLmFqYXgmJihsLnJlc3VsdHNBZGFwdGVyPWouRGVjb3JhdGUobC5yZXN1bHRzQWRhcHRlcix4KSksbnVsbCE9bC5wbGFjZWhvbGRlciYmKGwucmVzdWx0c0FkYXB0ZXI9ai5EZWNvcmF0ZShsLnJlc3VsdHNBZGFwdGVyLHcpKSxsLnNlbGVjdE9uQ2xvc2UmJihsLnJlc3VsdHNBZGFwdGVyPWouRGVjb3JhdGUobC5yZXN1bHRzQWRhcHRlcixBKSkpLG51bGw9PWwuZHJvcGRvd25BZGFwdGVyKXtpZihsLm11bHRpcGxlKWwuZHJvcGRvd25BZGFwdGVyPXU7ZWxzZXt2YXIgRT1qLkRlY29yYXRlKHUsdik7bC5kcm9wZG93bkFkYXB0ZXI9RX1pZigwIT09bC5taW5pbXVtUmVzdWx0c0ZvclNlYXJjaCYmKGwuZHJvcGRvd25BZGFwdGVyPWouRGVjb3JhdGUobC5kcm9wZG93bkFkYXB0ZXIseikpLGwuY2xvc2VPblNlbGVjdCYmKGwuZHJvcGRvd25BZGFwdGVyPWouRGVjb3JhdGUobC5kcm9wZG93bkFkYXB0ZXIsQikpLG51bGwhPWwuZHJvcGRvd25Dc3NDbGFzc3x8bnVsbCE9bC5kcm9wZG93bkNzc3x8bnVsbCE9bC5hZGFwdERyb3Bkb3duQ3NzQ2xhc3Mpe3ZhciBGPWIobC5hbWRCYXNlK1wiY29tcGF0L2Ryb3Bkb3duQ3NzXCIpO2wuZHJvcGRvd25BZGFwdGVyPWouRGVjb3JhdGUobC5kcm9wZG93bkFkYXB0ZXIsRil9bC5kcm9wZG93bkFkYXB0ZXI9ai5EZWNvcmF0ZShsLmRyb3Bkb3duQWRhcHRlcix5KX1pZihudWxsPT1sLnNlbGVjdGlvbkFkYXB0ZXIpe2lmKGwubXVsdGlwbGU/bC5zZWxlY3Rpb25BZGFwdGVyPWU6bC5zZWxlY3Rpb25BZGFwdGVyPWQsbnVsbCE9bC5wbGFjZWhvbGRlciYmKGwuc2VsZWN0aW9uQWRhcHRlcj1qLkRlY29yYXRlKGwuc2VsZWN0aW9uQWRhcHRlcixmKSksbC5hbGxvd0NsZWFyJiYobC5zZWxlY3Rpb25BZGFwdGVyPWouRGVjb3JhdGUobC5zZWxlY3Rpb25BZGFwdGVyLGcpKSxsLm11bHRpcGxlJiYobC5zZWxlY3Rpb25BZGFwdGVyPWouRGVjb3JhdGUobC5zZWxlY3Rpb25BZGFwdGVyLGgpKSxudWxsIT1sLmNvbnRhaW5lckNzc0NsYXNzfHxudWxsIT1sLmNvbnRhaW5lckNzc3x8bnVsbCE9bC5hZGFwdENvbnRhaW5lckNzc0NsYXNzKXt2YXIgRz1iKGwuYW1kQmFzZStcImNvbXBhdC9jb250YWluZXJDc3NcIik7bC5zZWxlY3Rpb25BZGFwdGVyPWouRGVjb3JhdGUobC5zZWxlY3Rpb25BZGFwdGVyLEcpfWwuc2VsZWN0aW9uQWRhcHRlcj1qLkRlY29yYXRlKGwuc2VsZWN0aW9uQWRhcHRlcixpKX1pZihcInN0cmluZ1wiPT10eXBlb2YgbC5sYW5ndWFnZSlpZihsLmxhbmd1YWdlLmluZGV4T2YoXCItXCIpPjApe3ZhciBIPWwubGFuZ3VhZ2Uuc3BsaXQoXCItXCIpLEk9SFswXTtsLmxhbmd1YWdlPVtsLmxhbmd1YWdlLEldfWVsc2UgbC5sYW5ndWFnZT1bbC5sYW5ndWFnZV07aWYoYS5pc0FycmF5KGwubGFuZ3VhZ2UpKXt2YXIgSj1uZXcgaztsLmxhbmd1YWdlLnB1c2goXCJlblwiKTtmb3IodmFyIEs9bC5sYW5ndWFnZSxMPTA7TDxLLmxlbmd0aDtMKyspe3ZhciBNPUtbTF0sTj17fTt0cnl7Tj1rLmxvYWRQYXRoKE0pfWNhdGNoKE8pe3RyeXtNPXRoaXMuZGVmYXVsdHMuYW1kTGFuZ3VhZ2VCYXNlK00sTj1rLmxvYWRQYXRoKE0pfWNhdGNoKFApe2wuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybignU2VsZWN0MjogVGhlIGxhbmd1YWdlIGZpbGUgZm9yIFwiJytNKydcIiBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBsb2FkZWQuIEEgZmFsbGJhY2sgd2lsbCBiZSB1c2VkIGluc3RlYWQuJyk7Y29udGludWV9fUouZXh0ZW5kKE4pfWwudHJhbnNsYXRpb25zPUp9ZWxzZXt2YXIgUT1rLmxvYWRQYXRoKHRoaXMuZGVmYXVsdHMuYW1kTGFuZ3VhZ2VCYXNlK1wiZW5cIiksUj1uZXcgayhsLmxhbmd1YWdlKTtSLmV4dGVuZChRKSxsLnRyYW5zbGF0aW9ucz1SfXJldHVybiBsfSxELnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gbFthXXx8YX1yZXR1cm4gYS5yZXBsYWNlKC9bXlxcdTAwMDAtXFx1MDA3RV0vZyxiKX1mdW5jdGlvbiBjKGQsZSl7aWYoXCJcIj09PWEudHJpbShkLnRlcm0pKXJldHVybiBlO2lmKGUuY2hpbGRyZW4mJmUuY2hpbGRyZW4ubGVuZ3RoPjApe2Zvcih2YXIgZj1hLmV4dGVuZCghMCx7fSxlKSxnPWUuY2hpbGRyZW4ubGVuZ3RoLTE7Zz49MDtnLS0pe3ZhciBoPWUuY2hpbGRyZW5bZ10saT1jKGQsaCk7bnVsbD09aSYmZi5jaGlsZHJlbi5zcGxpY2UoZywxKX1yZXR1cm4gZi5jaGlsZHJlbi5sZW5ndGg+MD9mOmMoZCxmKX12YXIgaj1iKGUudGV4dCkudG9VcHBlckNhc2UoKSxrPWIoZC50ZXJtKS50b1VwcGVyQ2FzZSgpO3JldHVybiBqLmluZGV4T2Yoayk+LTE/ZTpudWxsfXRoaXMuZGVmYXVsdHM9e2FtZEJhc2U6XCIuL1wiLGFtZExhbmd1YWdlQmFzZTpcIi4vaTE4bi9cIixjbG9zZU9uU2VsZWN0OiEwLGRlYnVnOiExLGRyb3Bkb3duQXV0b1dpZHRoOiExLGVzY2FwZU1hcmt1cDpqLmVzY2FwZU1hcmt1cCxsYW5ndWFnZTpDLG1hdGNoZXI6YyxtaW5pbXVtSW5wdXRMZW5ndGg6MCxtYXhpbXVtSW5wdXRMZW5ndGg6MCxtYXhpbXVtU2VsZWN0aW9uTGVuZ3RoOjAsbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6MCxzZWxlY3RPbkNsb3NlOiExLHNvcnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sdGVtcGxhdGVSZXN1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGV4dH0sdGVtcGxhdGVTZWxlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGV4dH0sdGhlbWU6XCJkZWZhdWx0XCIsd2lkdGg6XCJyZXNvbHZlXCJ9fSxELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmNhbWVsQ2FzZShiKSxlPXt9O2VbZF09Yzt2YXIgZj1qLl9jb252ZXJ0RGF0YShlKTthLmV4dGVuZCh0aGlzLmRlZmF1bHRzLGYpfTt2YXIgRT1uZXcgRDtyZXR1cm4gRX0pLGIuZGVmaW5lKFwic2VsZWN0Mi9vcHRpb25zXCIsW1wicmVxdWlyZVwiLFwianF1ZXJ5XCIsXCIuL2RlZmF1bHRzXCIsXCIuL3V0aWxzXCJdLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYixlKXtpZih0aGlzLm9wdGlvbnM9YixudWxsIT1lJiZ0aGlzLmZyb21FbGVtZW50KGUpLHRoaXMub3B0aW9ucz1jLmFwcGx5KHRoaXMub3B0aW9ucyksZSYmZS5pcyhcImlucHV0XCIpKXt2YXIgZj1hKHRoaXMuZ2V0KFwiYW1kQmFzZVwiKStcImNvbXBhdC9pbnB1dERhdGFcIik7dGhpcy5vcHRpb25zLmRhdGFBZGFwdGVyPWQuRGVjb3JhdGUodGhpcy5vcHRpb25zLmRhdGFBZGFwdGVyLGYpfX1yZXR1cm4gZS5wcm90b3R5cGUuZnJvbUVsZW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGM9W1wic2VsZWN0MlwiXTtudWxsPT10aGlzLm9wdGlvbnMubXVsdGlwbGUmJih0aGlzLm9wdGlvbnMubXVsdGlwbGU9YS5wcm9wKFwibXVsdGlwbGVcIikpLG51bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD1hLnByb3AoXCJkaXNhYmxlZFwiKSksbnVsbD09dGhpcy5vcHRpb25zLmxhbmd1YWdlJiYoYS5wcm9wKFwibGFuZ1wiKT90aGlzLm9wdGlvbnMubGFuZ3VhZ2U9YS5wcm9wKFwibGFuZ1wiKS50b0xvd2VyQ2FzZSgpOmEuY2xvc2VzdChcIltsYW5nXVwiKS5wcm9wKFwibGFuZ1wiKSYmKHRoaXMub3B0aW9ucy5sYW5ndWFnZT1hLmNsb3Nlc3QoXCJbbGFuZ11cIikucHJvcChcImxhbmdcIikpKSxudWxsPT10aGlzLm9wdGlvbnMuZGlyJiYoYS5wcm9wKFwiZGlyXCIpP3RoaXMub3B0aW9ucy5kaXI9YS5wcm9wKFwiZGlyXCIpOmEuY2xvc2VzdChcIltkaXJdXCIpLnByb3AoXCJkaXJcIik/dGhpcy5vcHRpb25zLmRpcj1hLmNsb3Nlc3QoXCJbZGlyXVwiKS5wcm9wKFwiZGlyXCIpOnRoaXMub3B0aW9ucy5kaXI9XCJsdHJcIiksYS5wcm9wKFwiZGlzYWJsZWRcIix0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLGEucHJvcChcIm11bHRpcGxlXCIsdGhpcy5vcHRpb25zLm11bHRpcGxlKSxhLmRhdGEoXCJzZWxlY3QyVGFnc1wiKSYmKHRoaXMub3B0aW9ucy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCdTZWxlY3QyOiBUaGUgYGRhdGEtc2VsZWN0Mi10YWdzYCBhdHRyaWJ1dGUgaGFzIGJlZW4gY2hhbmdlZCB0byB1c2UgdGhlIGBkYXRhLWRhdGFgIGFuZCBgZGF0YS10YWdzPVwidHJ1ZVwiYCBhdHRyaWJ1dGVzIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlIHZlcnNpb25zIG9mIFNlbGVjdDIuJyksYS5kYXRhKFwiZGF0YVwiLGEuZGF0YShcInNlbGVjdDJUYWdzXCIpKSxhLmRhdGEoXCJ0YWdzXCIsITApKSxhLmRhdGEoXCJhamF4VXJsXCIpJiYodGhpcy5vcHRpb25zLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oXCJTZWxlY3QyOiBUaGUgYGRhdGEtYWpheC11cmxgIGF0dHJpYnV0ZSBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBkYXRhLWFqYXgtLXVybGAgYW5kIHN1cHBvcnQgZm9yIHRoZSBvbGQgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgU2VsZWN0Mi5cIiksYS5hdHRyKFwiYWpheC0tdXJsXCIsYS5kYXRhKFwiYWpheFVybFwiKSksYS5kYXRhKFwiYWpheC0tdXJsXCIsYS5kYXRhKFwiYWpheFVybFwiKSkpO3ZhciBlPXt9O2U9Yi5mbi5qcXVlcnkmJlwiMS5cIj09Yi5mbi5qcXVlcnkuc3Vic3RyKDAsMikmJmFbMF0uZGF0YXNldD9iLmV4dGVuZCghMCx7fSxhWzBdLmRhdGFzZXQsYS5kYXRhKCkpOmEuZGF0YSgpO3ZhciBmPWIuZXh0ZW5kKCEwLHt9LGUpO2Y9ZC5fY29udmVydERhdGEoZik7Zm9yKHZhciBnIGluIGYpYi5pbkFycmF5KGcsYyk+LTF8fChiLmlzUGxhaW5PYmplY3QodGhpcy5vcHRpb25zW2ddKT9iLmV4dGVuZCh0aGlzLm9wdGlvbnNbZ10sZltnXSk6dGhpcy5vcHRpb25zW2ddPWZbZ10pO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9uc1thXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy5vcHRpb25zW2FdPWJ9LGV9KSxiLmRlZmluZShcInNlbGVjdDIvY29yZVwiLFtcImpxdWVyeVwiLFwiLi9vcHRpb25zXCIsXCIuL3V0aWxzXCIsXCIuL2tleXNcIl0sZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYSxjKXtudWxsIT1hLmRhdGEoXCJzZWxlY3QyXCIpJiZhLmRhdGEoXCJzZWxlY3QyXCIpLmRlc3Ryb3koKSx0aGlzLiRlbGVtZW50PWEsdGhpcy5pZD10aGlzLl9nZW5lcmF0ZUlkKGEpLGM9Y3x8e30sdGhpcy5vcHRpb25zPW5ldyBiKGMsYSksZS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgZD1hLmF0dHIoXCJ0YWJpbmRleFwiKXx8MDthLmRhdGEoXCJvbGQtdGFiaW5kZXhcIixkKSxhLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIik7dmFyIGY9dGhpcy5vcHRpb25zLmdldChcImRhdGFBZGFwdGVyXCIpO3RoaXMuZGF0YUFkYXB0ZXI9bmV3IGYoYSx0aGlzLm9wdGlvbnMpO3ZhciBnPXRoaXMucmVuZGVyKCk7dGhpcy5fcGxhY2VDb250YWluZXIoZyk7dmFyIGg9dGhpcy5vcHRpb25zLmdldChcInNlbGVjdGlvbkFkYXB0ZXJcIik7dGhpcy5zZWxlY3Rpb249bmV3IGgoYSx0aGlzLm9wdGlvbnMpLHRoaXMuJHNlbGVjdGlvbj10aGlzLnNlbGVjdGlvbi5yZW5kZXIoKSx0aGlzLnNlbGVjdGlvbi5wb3NpdGlvbih0aGlzLiRzZWxlY3Rpb24sZyk7dmFyIGk9dGhpcy5vcHRpb25zLmdldChcImRyb3Bkb3duQWRhcHRlclwiKTt0aGlzLmRyb3Bkb3duPW5ldyBpKGEsdGhpcy5vcHRpb25zKSx0aGlzLiRkcm9wZG93bj10aGlzLmRyb3Bkb3duLnJlbmRlcigpLHRoaXMuZHJvcGRvd24ucG9zaXRpb24odGhpcy4kZHJvcGRvd24sZyk7dmFyIGo9dGhpcy5vcHRpb25zLmdldChcInJlc3VsdHNBZGFwdGVyXCIpO3RoaXMucmVzdWx0cz1uZXcgaihhLHRoaXMub3B0aW9ucyx0aGlzLmRhdGFBZGFwdGVyKSx0aGlzLiRyZXN1bHRzPXRoaXMucmVzdWx0cy5yZW5kZXIoKSx0aGlzLnJlc3VsdHMucG9zaXRpb24odGhpcy4kcmVzdWx0cyx0aGlzLiRkcm9wZG93bik7dmFyIGs9dGhpczt0aGlzLl9iaW5kQWRhcHRlcnMoKSx0aGlzLl9yZWdpc3RlckRvbUV2ZW50cygpLHRoaXMuX3JlZ2lzdGVyRGF0YUV2ZW50cygpLHRoaXMuX3JlZ2lzdGVyU2VsZWN0aW9uRXZlbnRzKCksdGhpcy5fcmVnaXN0ZXJEcm9wZG93bkV2ZW50cygpLHRoaXMuX3JlZ2lzdGVyUmVzdWx0c0V2ZW50cygpLHRoaXMuX3JlZ2lzdGVyRXZlbnRzKCksdGhpcy5kYXRhQWRhcHRlci5jdXJyZW50KGZ1bmN0aW9uKGEpe2sudHJpZ2dlcihcInNlbGVjdGlvbjp1cGRhdGVcIix7ZGF0YTphfSl9KSxhLmFkZENsYXNzKFwic2VsZWN0Mi1oaWRkZW4tYWNjZXNzaWJsZVwiKSxhLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9zeW5jQXR0cmlidXRlcygpLGEuZGF0YShcInNlbGVjdDJcIix0aGlzKX07cmV0dXJuIGMuRXh0ZW5kKGUsYy5PYnNlcnZhYmxlKSxlLnByb3RvdHlwZS5fZ2VuZXJhdGVJZD1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO3JldHVybiBiPW51bGwhPWEuYXR0cihcImlkXCIpP2EuYXR0cihcImlkXCIpOm51bGwhPWEuYXR0cihcIm5hbWVcIik/YS5hdHRyKFwibmFtZVwiKStcIi1cIitjLmdlbmVyYXRlQ2hhcnMoMik6Yy5nZW5lcmF0ZUNoYXJzKDQpLGI9Yi5yZXBsYWNlKC8oOnxcXC58XFxbfFxcXXwsKS9nLFwiXCIpLGI9XCJzZWxlY3QyLVwiK2J9LGUucHJvdG90eXBlLl9wbGFjZUNvbnRhaW5lcj1mdW5jdGlvbihhKXthLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpO3ZhciBiPXRoaXMuX3Jlc29sdmVXaWR0aCh0aGlzLiRlbGVtZW50LHRoaXMub3B0aW9ucy5nZXQoXCJ3aWR0aFwiKSk7bnVsbCE9YiYmYS5jc3MoXCJ3aWR0aFwiLGIpfSxlLnByb3RvdHlwZS5fcmVzb2x2ZVdpZHRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9L153aWR0aDooKFstK10/KFswLTldKlxcLik/WzAtOV0rKShweHxlbXxleHwlfGlufGNtfG1tfHB0fHBjKSkvaTtpZihcInJlc29sdmVcIj09Yil7dmFyIGQ9dGhpcy5fcmVzb2x2ZVdpZHRoKGEsXCJzdHlsZVwiKTtyZXR1cm4gbnVsbCE9ZD9kOnRoaXMuX3Jlc29sdmVXaWR0aChhLFwiZWxlbWVudFwiKX1pZihcImVsZW1lbnRcIj09Yil7dmFyIGU9YS5vdXRlcldpZHRoKCExKTtyZXR1cm4gMD49ZT9cImF1dG9cIjplK1wicHhcIn1pZihcInN0eWxlXCI9PWIpe3ZhciBmPWEuYXR0cihcInN0eWxlXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBmKXJldHVybiBudWxsO2Zvcih2YXIgZz1mLnNwbGl0KFwiO1wiKSxoPTAsaT1nLmxlbmd0aDtpPmg7aCs9MSl7dmFyIGo9Z1toXS5yZXBsYWNlKC9cXHMvZyxcIlwiKSxrPWoubWF0Y2goYyk7aWYobnVsbCE9PWsmJmsubGVuZ3RoPj0xKXJldHVybiBrWzFdfXJldHVybiBudWxsfXJldHVybiBifSxlLnByb3RvdHlwZS5fYmluZEFkYXB0ZXJzPWZ1bmN0aW9uKCl7dGhpcy5kYXRhQWRhcHRlci5iaW5kKHRoaXMsdGhpcy4kY29udGFpbmVyKSx0aGlzLnNlbGVjdGlvbi5iaW5kKHRoaXMsdGhpcy4kY29udGFpbmVyKSx0aGlzLmRyb3Bkb3duLmJpbmQodGhpcyx0aGlzLiRjb250YWluZXIpLHRoaXMucmVzdWx0cy5iaW5kKHRoaXMsdGhpcy4kY29udGFpbmVyKX0sZS5wcm90b3R5cGUuX3JlZ2lzdGVyRG9tRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLiRlbGVtZW50Lm9uKFwiY2hhbmdlLnNlbGVjdDJcIixmdW5jdGlvbigpe2IuZGF0YUFkYXB0ZXIuY3VycmVudChmdW5jdGlvbihhKXtiLnRyaWdnZXIoXCJzZWxlY3Rpb246dXBkYXRlXCIse2RhdGE6YX0pfSl9KSx0aGlzLiRlbGVtZW50Lm9uKFwiZm9jdXMuc2VsZWN0MlwiLGZ1bmN0aW9uKGEpe2IudHJpZ2dlcihcImZvY3VzXCIsYSl9KSx0aGlzLl9zeW5jQT1jLmJpbmQodGhpcy5fc3luY0F0dHJpYnV0ZXMsdGhpcyksdGhpcy5fc3luY1M9Yy5iaW5kKHRoaXMuX3N5bmNTdWJ0cmVlLHRoaXMpLHRoaXMuJGVsZW1lbnRbMF0uYXR0YWNoRXZlbnQmJnRoaXMuJGVsZW1lbnRbMF0uYXR0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsdGhpcy5fc3luY0EpO3ZhciBkPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7bnVsbCE9ZD8odGhpcy5fb2JzZXJ2ZXI9bmV3IGQoZnVuY3Rpb24oYyl7YS5lYWNoKGMsYi5fc3luY0EpLGEuZWFjaChjLGIuX3N5bmNTKX0pLHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy4kZWxlbWVudFswXSx7YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMX0pKTp0aGlzLiRlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXImJih0aGlzLiRlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJET01BdHRyTW9kaWZpZWRcIixiLl9zeW5jQSwhMSksdGhpcy4kZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkXCIsYi5fc3luY1MsITEpLHRoaXMuJGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkXCIsYi5fc3luY1MsITEpKX0sZS5wcm90b3R5cGUuX3JlZ2lzdGVyRGF0YUV2ZW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5kYXRhQWRhcHRlci5vbihcIipcIixmdW5jdGlvbihiLGMpe2EudHJpZ2dlcihiLGMpfSl9LGUucHJvdG90eXBlLl9yZWdpc3RlclNlbGVjdGlvbkV2ZW50cz1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1bXCJ0b2dnbGVcIixcImZvY3VzXCJdO3RoaXMuc2VsZWN0aW9uLm9uKFwidG9nZ2xlXCIsZnVuY3Rpb24oKXtiLnRvZ2dsZURyb3Bkb3duKCl9KSx0aGlzLnNlbGVjdGlvbi5vbihcImZvY3VzXCIsZnVuY3Rpb24oYSl7Yi5mb2N1cyhhKX0pLHRoaXMuc2VsZWN0aW9uLm9uKFwiKlwiLGZ1bmN0aW9uKGQsZSl7LTE9PT1hLmluQXJyYXkoZCxjKSYmYi50cmlnZ2VyKGQsZSl9KX0sZS5wcm90b3R5cGUuX3JlZ2lzdGVyRHJvcGRvd25FdmVudHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZHJvcGRvd24ub24oXCIqXCIsZnVuY3Rpb24oYixjKXthLnRyaWdnZXIoYixjKX0pfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJSZXN1bHRzRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLnJlc3VsdHMub24oXCIqXCIsZnVuY3Rpb24oYixjKXthLnRyaWdnZXIoYixjKX0pfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMub24oXCJvcGVuXCIsZnVuY3Rpb24oKXthLiRjb250YWluZXIuYWRkQ2xhc3MoXCJzZWxlY3QyLWNvbnRhaW5lci0tb3BlblwiKX0pLHRoaXMub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7YS4kY29udGFpbmVyLnJlbW92ZUNsYXNzKFwic2VsZWN0Mi1jb250YWluZXItLW9wZW5cIil9KSx0aGlzLm9uKFwiZW5hYmxlXCIsZnVuY3Rpb24oKXthLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJzZWxlY3QyLWNvbnRhaW5lci0tZGlzYWJsZWRcIil9KSx0aGlzLm9uKFwiZGlzYWJsZVwiLGZ1bmN0aW9uKCl7YS4kY29udGFpbmVyLmFkZENsYXNzKFwic2VsZWN0Mi1jb250YWluZXItLWRpc2FibGVkXCIpfSksdGhpcy5vbihcImJsdXJcIixmdW5jdGlvbigpe2EuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInNlbGVjdDItY29udGFpbmVyLS1mb2N1c1wiKX0pLHRoaXMub24oXCJxdWVyeVwiLGZ1bmN0aW9uKGIpe2EuaXNPcGVuKCl8fGEudHJpZ2dlcihcIm9wZW5cIix7fSksdGhpcy5kYXRhQWRhcHRlci5xdWVyeShiLGZ1bmN0aW9uKGMpe2EudHJpZ2dlcihcInJlc3VsdHM6YWxsXCIse2RhdGE6YyxxdWVyeTpifSl9KX0pLHRoaXMub24oXCJxdWVyeTphcHBlbmRcIixmdW5jdGlvbihiKXt0aGlzLmRhdGFBZGFwdGVyLnF1ZXJ5KGIsZnVuY3Rpb24oYyl7YS50cmlnZ2VyKFwicmVzdWx0czphcHBlbmRcIix7ZGF0YTpjLHF1ZXJ5OmJ9KX0pfSksdGhpcy5vbihcImtleXByZXNzXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaDthLmlzT3BlbigpP2M9PT1kLkVTQ3x8Yz09PWQuVEFCfHxjPT09ZC5VUCYmYi5hbHRLZXk/KGEuY2xvc2UoKSxiLnByZXZlbnREZWZhdWx0KCkpOmM9PT1kLkVOVEVSPyhhLnRyaWdnZXIoXCJyZXN1bHRzOnNlbGVjdFwiLHt9KSxiLnByZXZlbnREZWZhdWx0KCkpOmM9PT1kLlNQQUNFJiZiLmN0cmxLZXk/KGEudHJpZ2dlcihcInJlc3VsdHM6dG9nZ2xlXCIse30pLGIucHJldmVudERlZmF1bHQoKSk6Yz09PWQuVVA/KGEudHJpZ2dlcihcInJlc3VsdHM6cHJldmlvdXNcIix7fSksYi5wcmV2ZW50RGVmYXVsdCgpKTpjPT09ZC5ET1dOJiYoYS50cmlnZ2VyKFwicmVzdWx0czpuZXh0XCIse30pLGIucHJldmVudERlZmF1bHQoKSk6KGM9PT1kLkVOVEVSfHxjPT09ZC5TUEFDRXx8Yz09PWQuRE9XTiYmYi5hbHRLZXkpJiYoYS5vcGVuKCksYi5wcmV2ZW50RGVmYXVsdCgpKX0pfSxlLnByb3RvdHlwZS5fc3luY0F0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2V0KFwiZGlzYWJsZWRcIix0aGlzLiRlbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiKSksdGhpcy5vcHRpb25zLmdldChcImRpc2FibGVkXCIpPyh0aGlzLmlzT3BlbigpJiZ0aGlzLmNsb3NlKCksdGhpcy50cmlnZ2VyKFwiZGlzYWJsZVwiLHt9KSk6dGhpcy50cmlnZ2VyKFwiZW5hYmxlXCIse30pfSxlLnByb3RvdHlwZS5fc3luY1N1YnRyZWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkPXRoaXM7aWYoIWF8fCFhLnRhcmdldHx8XCJPUFRJT05cIj09PWEudGFyZ2V0Lm5vZGVOYW1lfHxcIk9QVEdST1VQXCI9PT1hLnRhcmdldC5ub2RlTmFtZSl7aWYoYilpZihiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcy5sZW5ndGg+MClmb3IodmFyIGU9MDtlPGIuYWRkZWROb2Rlcy5sZW5ndGg7ZSsrKXt2YXIgZj1iLmFkZGVkTm9kZXNbZV07Zi5zZWxlY3RlZCYmKGM9ITApfWVsc2UgYi5yZW1vdmVkTm9kZXMmJmIucmVtb3ZlZE5vZGVzLmxlbmd0aD4wJiYoYz0hMCk7ZWxzZSBjPSEwO2MmJnRoaXMuZGF0YUFkYXB0ZXIuY3VycmVudChmdW5jdGlvbihhKXtkLnRyaWdnZXIoXCJzZWxlY3Rpb246dXBkYXRlXCIse2RhdGE6YX0pfSl9fSxlLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZS5fX3N1cGVyX18udHJpZ2dlcixkPXtvcGVuOlwib3BlbmluZ1wiLGNsb3NlOlwiY2xvc2luZ1wiLHNlbGVjdDpcInNlbGVjdGluZ1wiLHVuc2VsZWN0OlwidW5zZWxlY3RpbmdcIn07aWYodm9pZCAwPT09YiYmKGI9e30pLGEgaW4gZCl7dmFyIGY9ZFthXSxnPXtwcmV2ZW50ZWQ6ITEsbmFtZTphLGFyZ3M6Yn07aWYoYy5jYWxsKHRoaXMsZixnKSxnLnByZXZlbnRlZClyZXR1cm4gdm9pZChiLnByZXZlbnRlZD0hMCl9Yy5jYWxsKHRoaXMsYSxiKX0sZS5wcm90b3R5cGUudG9nZ2xlRHJvcGRvd249ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZ2V0KFwiZGlzYWJsZWRcIil8fCh0aGlzLmlzT3BlbigpP3RoaXMuY2xvc2UoKTp0aGlzLm9wZW4oKSl9LGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbigpfHx0aGlzLnRyaWdnZXIoXCJxdWVyeVwiLHt9KX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbigpJiZ0aGlzLnRyaWdnZXIoXCJjbG9zZVwiLHt9KX0sZS5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRhaW5lci5oYXNDbGFzcyhcInNlbGVjdDItY29udGFpbmVyLS1vcGVuXCIpfSxlLnByb3RvdHlwZS5oYXNGb2N1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb250YWluZXIuaGFzQ2xhc3MoXCJzZWxlY3QyLWNvbnRhaW5lci0tZm9jdXNcIil9LGUucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKGEpe3RoaXMuaGFzRm9jdXMoKXx8KHRoaXMuJGNvbnRhaW5lci5hZGRDbGFzcyhcInNlbGVjdDItY29udGFpbmVyLS1mb2N1c1wiKSx0aGlzLnRyaWdnZXIoXCJmb2N1c1wiLHt9KSl9LGUucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbihhKXt0aGlzLm9wdGlvbnMuZ2V0KFwiZGVidWdcIikmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybignU2VsZWN0MjogVGhlIGBzZWxlY3QyKFwiZW5hYmxlXCIpYCBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGxhdGVyIFNlbGVjdDIgdmVyc2lvbnMuIFVzZSAkZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIikgaW5zdGVhZC4nKSwobnVsbD09YXx8MD09PWEubGVuZ3RoKSYmKGE9WyEwXSk7dmFyIGI9IWFbMF07dGhpcy4kZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIixiKX0sZS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5nZXQoXCJkZWJ1Z1wiKSYmYXJndW1lbnRzLmxlbmd0aD4wJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oJ1NlbGVjdDI6IERhdGEgY2FuIG5vIGxvbmdlciBiZSBzZXQgdXNpbmcgYHNlbGVjdDIoXCJkYXRhXCIpYC4gWW91IHNob3VsZCBjb25zaWRlciBzZXR0aW5nIHRoZSB2YWx1ZSBpbnN0ZWFkIHVzaW5nIGAkZWxlbWVudC52YWwoKWAuJyk7dmFyIGE9W107cmV0dXJuIHRoaXMuZGF0YUFkYXB0ZXIuY3VycmVudChmdW5jdGlvbihiKXthPWJ9KSxhfSxlLnByb3RvdHlwZS52YWw9ZnVuY3Rpb24oYil7aWYodGhpcy5vcHRpb25zLmdldChcImRlYnVnXCIpJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oJ1NlbGVjdDI6IFRoZSBgc2VsZWN0MihcInZhbFwiKWAgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBsYXRlciBTZWxlY3QyIHZlcnNpb25zLiBVc2UgJGVsZW1lbnQudmFsKCkgaW5zdGVhZC4nKSxudWxsPT1ifHwwPT09Yi5sZW5ndGgpcmV0dXJuIHRoaXMuJGVsZW1lbnQudmFsKCk7dmFyIGM9YlswXTthLmlzQXJyYXkoYykmJihjPWEubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9TdHJpbmcoKX0pKSx0aGlzLiRlbGVtZW50LnZhbChjKS50cmlnZ2VyKFwiY2hhbmdlXCIpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy4kY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnRbMF0uZGV0YWNoRXZlbnQmJnRoaXMuJGVsZW1lbnRbMF0uZGV0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsdGhpcy5fc3luY0EpLG51bGwhPXRoaXMuX29ic2VydmVyPyh0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCksdGhpcy5fb2JzZXJ2ZXI9bnVsbCk6dGhpcy4kZWxlbWVudFswXS5yZW1vdmVFdmVudExpc3RlbmVyJiYodGhpcy4kZWxlbWVudFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQXR0ck1vZGlmaWVkXCIsdGhpcy5fc3luY0EsITEpLHRoaXMuJGVsZW1lbnRbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZFwiLHRoaXMuX3N5bmNTLCExKSx0aGlzLiRlbGVtZW50WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLHRoaXMuX3N5bmNTLCExKSksdGhpcy5fc3luY0E9bnVsbCx0aGlzLl9zeW5jUz1udWxsLHRoaXMuJGVsZW1lbnQub2ZmKFwiLnNlbGVjdDJcIiksdGhpcy4kZWxlbWVudC5hdHRyKFwidGFiaW5kZXhcIix0aGlzLiRlbGVtZW50LmRhdGEoXCJvbGQtdGFiaW5kZXhcIikpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJzZWxlY3QyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpLHRoaXMuJGVsZW1lbnQuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoXCJzZWxlY3QyXCIpLHRoaXMuZGF0YUFkYXB0ZXIuZGVzdHJveSgpLHRoaXMuc2VsZWN0aW9uLmRlc3Ryb3koKSx0aGlzLmRyb3Bkb3duLmRlc3Ryb3koKSx0aGlzLnJlc3VsdHMuZGVzdHJveSgpLHRoaXMuZGF0YUFkYXB0ZXI9bnVsbCx0aGlzLnNlbGVjdGlvbj1udWxsLHRoaXMuZHJvcGRvd249bnVsbCx0aGlzLnJlc3VsdHM9bnVsbDtcbn0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGI9YSgnPHNwYW4gY2xhc3M9XCJzZWxlY3QyIHNlbGVjdDItY29udGFpbmVyXCI+PHNwYW4gY2xhc3M9XCJzZWxlY3Rpb25cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJkcm9wZG93bi13cmFwcGVyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPjwvc3Bhbj4nKTtyZXR1cm4gYi5hdHRyKFwiZGlyXCIsdGhpcy5vcHRpb25zLmdldChcImRpclwiKSksdGhpcy4kY29udGFpbmVyPWIsdGhpcy4kY29udGFpbmVyLmFkZENsYXNzKFwic2VsZWN0Mi1jb250YWluZXItLVwiK3RoaXMub3B0aW9ucy5nZXQoXCJ0aGVtZVwiKSksYi5kYXRhKFwiZWxlbWVudFwiLHRoaXMuJGVsZW1lbnQpLGJ9LGV9KSxiLmRlZmluZShcInNlbGVjdDIvY29tcGF0L3V0aWxzXCIsW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe3ZhciBlLGYsZz1bXTtlPWEudHJpbShiLmF0dHIoXCJjbGFzc1wiKSksZSYmKGU9XCJcIitlLGEoZS5zcGxpdCgvXFxzKy8pKS5lYWNoKGZ1bmN0aW9uKCl7MD09PXRoaXMuaW5kZXhPZihcInNlbGVjdDItXCIpJiZnLnB1c2godGhpcyl9KSksZT1hLnRyaW0oYy5hdHRyKFwiY2xhc3NcIikpLGUmJihlPVwiXCIrZSxhKGUuc3BsaXQoL1xccysvKSkuZWFjaChmdW5jdGlvbigpezAhPT10aGlzLmluZGV4T2YoXCJzZWxlY3QyLVwiKSYmKGY9ZCh0aGlzKSxudWxsIT1mJiZnLnB1c2goZikpfSkpLGIuYXR0cihcImNsYXNzXCIsZy5qb2luKFwiIFwiKSl9cmV0dXJue3N5bmNDc3NDbGFzc2VzOmJ9fSksYi5kZWZpbmUoXCJzZWxlY3QyL2NvbXBhdC9jb250YWluZXJDc3NcIixbXCJqcXVlcnlcIixcIi4vdXRpbHNcIl0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBudWxsfWZ1bmN0aW9uIGQoKXt9cmV0dXJuIGQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihkKXt2YXIgZT1kLmNhbGwodGhpcyksZj10aGlzLm9wdGlvbnMuZ2V0KFwiY29udGFpbmVyQ3NzQ2xhc3NcIil8fFwiXCI7YS5pc0Z1bmN0aW9uKGYpJiYoZj1mKHRoaXMuJGVsZW1lbnQpKTt2YXIgZz10aGlzLm9wdGlvbnMuZ2V0KFwiYWRhcHRDb250YWluZXJDc3NDbGFzc1wiKTtpZihnPWd8fGMsLTEhPT1mLmluZGV4T2YoXCI6YWxsOlwiKSl7Zj1mLnJlcGxhY2UoXCI6YWxsOlwiLFwiXCIpO3ZhciBoPWc7Zz1mdW5jdGlvbihhKXt2YXIgYj1oKGEpO3JldHVybiBudWxsIT1iP2IrXCIgXCIrYTphfX12YXIgaT10aGlzLm9wdGlvbnMuZ2V0KFwiY29udGFpbmVyQ3NzXCIpfHx7fTtyZXR1cm4gYS5pc0Z1bmN0aW9uKGkpJiYoaT1pKHRoaXMuJGVsZW1lbnQpKSxiLnN5bmNDc3NDbGFzc2VzKGUsdGhpcy4kZWxlbWVudCxnKSxlLmNzcyhpKSxlLmFkZENsYXNzKGYpLGV9LGR9KSxiLmRlZmluZShcInNlbGVjdDIvY29tcGF0L2Ryb3Bkb3duQ3NzXCIsW1wianF1ZXJ5XCIsXCIuL3V0aWxzXCJdLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gbnVsbH1mdW5jdGlvbiBkKCl7fXJldHVybiBkLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZCl7dmFyIGU9ZC5jYWxsKHRoaXMpLGY9dGhpcy5vcHRpb25zLmdldChcImRyb3Bkb3duQ3NzQ2xhc3NcIil8fFwiXCI7YS5pc0Z1bmN0aW9uKGYpJiYoZj1mKHRoaXMuJGVsZW1lbnQpKTt2YXIgZz10aGlzLm9wdGlvbnMuZ2V0KFwiYWRhcHREcm9wZG93bkNzc0NsYXNzXCIpO2lmKGc9Z3x8YywtMSE9PWYuaW5kZXhPZihcIjphbGw6XCIpKXtmPWYucmVwbGFjZShcIjphbGw6XCIsXCJcIik7dmFyIGg9ZztnPWZ1bmN0aW9uKGEpe3ZhciBiPWgoYSk7cmV0dXJuIG51bGwhPWI/YitcIiBcIithOmF9fXZhciBpPXRoaXMub3B0aW9ucy5nZXQoXCJkcm9wZG93bkNzc1wiKXx8e307cmV0dXJuIGEuaXNGdW5jdGlvbihpKSYmKGk9aSh0aGlzLiRlbGVtZW50KSksYi5zeW5jQ3NzQ2xhc3NlcyhlLHRoaXMuJGVsZW1lbnQsZyksZS5jc3MoaSksZS5hZGRDbGFzcyhmKSxlfSxkfSksYi5kZWZpbmUoXCJzZWxlY3QyL2NvbXBhdC9pbml0U2VsZWN0aW9uXCIsW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMpe2MuZ2V0KFwiZGVidWdcIikmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIlNlbGVjdDI6IFRoZSBgaW5pdFNlbGVjdGlvbmAgb3B0aW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgYSBjdXN0b20gZGF0YSBhZGFwdGVyIHRoYXQgb3ZlcnJpZGVzIHRoZSBgY3VycmVudGAgbWV0aG9kLiBUaGlzIG1ldGhvZCBpcyBub3cgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluc3RlYWQgb2YgYSBzaW5nbGUgdGltZSB3aGVuIHRoZSBpbnN0YW5jZSBpcyBpbml0aWFsaXplZC4gU3VwcG9ydCB3aWxsIGJlIHJlbW92ZWQgZm9yIHRoZSBgaW5pdFNlbGVjdGlvbmAgb3B0aW9uIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBTZWxlY3QyXCIpLHRoaXMuaW5pdFNlbGVjdGlvbj1jLmdldChcImluaXRTZWxlY3Rpb25cIiksdGhpcy5faXNJbml0aWFsaXplZD0hMSxhLmNhbGwodGhpcyxiLGMpfXJldHVybiBiLnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcztyZXR1cm4gdGhpcy5faXNJbml0aWFsaXplZD92b2lkIGIuY2FsbCh0aGlzLGMpOnZvaWQgdGhpcy5pbml0U2VsZWN0aW9uLmNhbGwobnVsbCx0aGlzLiRlbGVtZW50LGZ1bmN0aW9uKGIpe2QuX2lzSW5pdGlhbGl6ZWQ9ITAsYS5pc0FycmF5KGIpfHwoYj1bYl0pLGMoYil9KX0sYn0pLGIuZGVmaW5lKFwic2VsZWN0Mi9jb21wYXQvaW5wdXREYXRhXCIsW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMpe3RoaXMuX2N1cnJlbnREYXRhPVtdLHRoaXMuX3ZhbHVlU2VwYXJhdG9yPWMuZ2V0KFwidmFsdWVTZXBhcmF0b3JcIil8fFwiLFwiLFwiaGlkZGVuXCI9PT1iLnByb3AoXCJ0eXBlXCIpJiZjLmdldChcImRlYnVnXCIpJiZjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIlNlbGVjdDI6IFVzaW5nIGEgaGlkZGVuIGlucHV0IHdpdGggU2VsZWN0MiBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGFuZCBtYXkgc3RvcCB3b3JraW5nIGluIHRoZSBmdXR1cmUuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBhIGA8c2VsZWN0PmAgZWxlbWVudCBpbnN0ZWFkLlwiKSxhLmNhbGwodGhpcyxiLGMpfXJldHVybiBiLnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChiLGMpe3ZhciBlPVtdO3JldHVybiBiLnNlbGVjdGVkfHwtMSE9PWEuaW5BcnJheShiLmlkLGMpPyhiLnNlbGVjdGVkPSEwLGUucHVzaChiKSk6Yi5zZWxlY3RlZD0hMSxiLmNoaWxkcmVuJiZlLnB1c2guYXBwbHkoZSxkKGIuY2hpbGRyZW4sYykpLGV9Zm9yKHZhciBlPVtdLGY9MDtmPHRoaXMuX2N1cnJlbnREYXRhLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuX2N1cnJlbnREYXRhW2ZdO2UucHVzaC5hcHBseShlLGQoZyx0aGlzLiRlbGVtZW50LnZhbCgpLnNwbGl0KHRoaXMuX3ZhbHVlU2VwYXJhdG9yKSkpfWMoZSl9LGIucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihiLGMpe2lmKHRoaXMub3B0aW9ucy5nZXQoXCJtdWx0aXBsZVwiKSl7dmFyIGQ9dGhpcy4kZWxlbWVudC52YWwoKTtkKz10aGlzLl92YWx1ZVNlcGFyYXRvcitjLmlkLHRoaXMuJGVsZW1lbnQudmFsKGQpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX1lbHNlIHRoaXMuY3VycmVudChmdW5jdGlvbihiKXthLm1hcChiLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQ9ITF9KX0pLHRoaXMuJGVsZW1lbnQudmFsKGMuaWQpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX0sYi5wcm90b3R5cGUudW5zZWxlY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2Iuc2VsZWN0ZWQ9ITEsdGhpcy5jdXJyZW50KGZ1bmN0aW9uKGEpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPWFbZV07Yi5pZCE9Zi5pZCYmZC5wdXNoKGYuaWQpfWMuJGVsZW1lbnQudmFsKGQuam9pbihjLl92YWx1ZVNlcGFyYXRvcikpLGMuJGVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX0pfSxiLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPHRoaXMuX2N1cnJlbnREYXRhLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMuX2N1cnJlbnREYXRhW2VdLGc9dGhpcy5tYXRjaGVzKGIsZik7bnVsbCE9PWcmJmQucHVzaChnKX1jKHtyZXN1bHRzOmR9KX0sYi5wcm90b3R5cGUuYWRkT3B0aW9ucz1mdW5jdGlvbihiLGMpe3ZhciBkPWEubWFwKGMsZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YShiWzBdLFwiZGF0YVwiKX0pO3RoaXMuX2N1cnJlbnREYXRhLnB1c2guYXBwbHkodGhpcy5fY3VycmVudERhdGEsZCl9LGJ9KSxiLmRlZmluZShcInNlbGVjdDIvY29tcGF0L21hdGNoZXJcIixbXCJqcXVlcnlcIl0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtmdW5jdGlvbiBjKGMsZCl7dmFyIGU9YS5leHRlbmQoITAse30sZCk7aWYobnVsbD09Yy50ZXJtfHxcIlwiPT09YS50cmltKGMudGVybSkpcmV0dXJuIGU7aWYoZC5jaGlsZHJlbil7Zm9yKHZhciBmPWQuY2hpbGRyZW4ubGVuZ3RoLTE7Zj49MDtmLS0pe3ZhciBnPWQuY2hpbGRyZW5bZl0saD1iKGMudGVybSxnLnRleHQsZyk7aHx8ZS5jaGlsZHJlbi5zcGxpY2UoZiwxKX1pZihlLmNoaWxkcmVuLmxlbmd0aD4wKXJldHVybiBlfXJldHVybiBiKGMudGVybSxkLnRleHQsZCk/ZTpudWxsfXJldHVybiBjfXJldHVybiBifSksYi5kZWZpbmUoXCJzZWxlY3QyL2NvbXBhdC9xdWVyeVwiLFtdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7Yy5nZXQoXCJkZWJ1Z1wiKSYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiU2VsZWN0MjogVGhlIGBxdWVyeWAgb3B0aW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgYSBjdXN0b20gZGF0YSBhZGFwdGVyIHRoYXQgb3ZlcnJpZGVzIHRoZSBgcXVlcnlgIG1ldGhvZC4gU3VwcG9ydCB3aWxsIGJlIHJlbW92ZWQgZm9yIHRoZSBgcXVlcnlgIG9wdGlvbiBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgU2VsZWN0Mi5cIiksYS5jYWxsKHRoaXMsYixjKX1yZXR1cm4gYS5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oYSxiLGMpe2IuY2FsbGJhY2s9Yzt2YXIgZD10aGlzLm9wdGlvbnMuZ2V0KFwicXVlcnlcIik7ZC5jYWxsKG51bGwsYil9LGF9KSxiLmRlZmluZShcInNlbGVjdDIvZHJvcGRvd24vYXR0YWNoQ29udGFpbmVyXCIsW10sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXthLmNhbGwodGhpcyxiLGMpfXJldHVybiBhLnByb3RvdHlwZS5wb3NpdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5maW5kKFwiLmRyb3Bkb3duLXdyYXBwZXJcIik7ZC5hcHBlbmQoYiksYi5hZGRDbGFzcyhcInNlbGVjdDItZHJvcGRvd24tLWJlbG93XCIpLGMuYWRkQ2xhc3MoXCJzZWxlY3QyLWNvbnRhaW5lci0tYmVsb3dcIil9LGF9KSxiLmRlZmluZShcInNlbGVjdDIvZHJvcGRvd24vc3RvcFByb3BhZ2F0aW9uXCIsW10sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fXJldHVybiBhLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXthLmNhbGwodGhpcyxiLGMpO3ZhciBkPVtcImJsdXJcIixcImNoYW5nZVwiLFwiY2xpY2tcIixcImRibGNsaWNrXCIsXCJmb2N1c1wiLFwiZm9jdXNpblwiLFwiZm9jdXNvdXRcIixcImlucHV0XCIsXCJrZXlkb3duXCIsXCJrZXl1cFwiLFwia2V5cHJlc3NcIixcIm1vdXNlZG93blwiLFwibW91c2VlbnRlclwiLFwibW91c2VsZWF2ZVwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZW92ZXJcIixcIm1vdXNldXBcIixcInNlYXJjaFwiLFwidG91Y2hlbmRcIixcInRvdWNoc3RhcnRcIl07dGhpcy4kZHJvcGRvd24ub24oZC5qb2luKFwiIFwiKSxmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSl9LGF9KSxiLmRlZmluZShcInNlbGVjdDIvc2VsZWN0aW9uL3N0b3BQcm9wYWdhdGlvblwiLFtdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm4gYS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7YS5jYWxsKHRoaXMsYixjKTt2YXIgZD1bXCJibHVyXCIsXCJjaGFuZ2VcIixcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwiZm9jdXNcIixcImZvY3VzaW5cIixcImZvY3Vzb3V0XCIsXCJpbnB1dFwiLFwia2V5ZG93blwiLFwia2V5dXBcIixcImtleXByZXNzXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlZW50ZXJcIixcIm1vdXNlbGVhdmVcIixcIm1vdXNlbW92ZVwiLFwibW91c2VvdmVyXCIsXCJtb3VzZXVwXCIsXCJzZWFyY2hcIixcInRvdWNoZW5kXCIsXCJ0b3VjaHN0YXJ0XCJdO3RoaXMuJHNlbGVjdGlvbi5vbihkLmpvaW4oXCIgXCIpLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KX0sYX0pLGZ1bmN0aW9uKGMpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuZGVmaW5lJiZiLmRlZmluZS5hbWQ/Yi5kZWZpbmUoXCJqcXVlcnktbW91c2V3aGVlbFwiLFtcImpxdWVyeVwiXSxjKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1jOmMoYSl9KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGc9Ynx8d2luZG93LmV2ZW50LGg9aS5jYWxsKGFyZ3VtZW50cywxKSxqPTAsbD0wLG09MCxuPTAsbz0wLHA9MDtpZihiPWEuZXZlbnQuZml4KGcpLGIudHlwZT1cIm1vdXNld2hlZWxcIixcImRldGFpbFwiaW4gZyYmKG09LTEqZy5kZXRhaWwpLFwid2hlZWxEZWx0YVwiaW4gZyYmKG09Zy53aGVlbERlbHRhKSxcIndoZWVsRGVsdGFZXCJpbiBnJiYobT1nLndoZWVsRGVsdGFZKSxcIndoZWVsRGVsdGFYXCJpbiBnJiYobD0tMSpnLndoZWVsRGVsdGFYKSxcImF4aXNcImluIGcmJmcuYXhpcz09PWcuSE9SSVpPTlRBTF9BWElTJiYobD0tMSptLG09MCksaj0wPT09bT9sOm0sXCJkZWx0YVlcImluIGcmJihtPS0xKmcuZGVsdGFZLGo9bSksXCJkZWx0YVhcImluIGcmJihsPWcuZGVsdGFYLDA9PT1tJiYoaj0tMSpsKSksMCE9PW18fDAhPT1sKXtpZigxPT09Zy5kZWx0YU1vZGUpe3ZhciBxPWEuZGF0YSh0aGlzLFwibW91c2V3aGVlbC1saW5lLWhlaWdodFwiKTtqKj1xLG0qPXEsbCo9cX1lbHNlIGlmKDI9PT1nLmRlbHRhTW9kZSl7dmFyIHI9YS5kYXRhKHRoaXMsXCJtb3VzZXdoZWVsLXBhZ2UtaGVpZ2h0XCIpO2oqPXIsbSo9cixsKj1yfWlmKG49TWF0aC5tYXgoTWF0aC5hYnMobSksTWF0aC5hYnMobCkpLCghZnx8Zj5uKSYmKGY9bixkKGcsbikmJihmLz00MCkpLGQoZyxuKSYmKGovPTQwLGwvPTQwLG0vPTQwKSxqPU1hdGhbaj49MT9cImZsb29yXCI6XCJjZWlsXCJdKGovZiksbD1NYXRoW2w+PTE/XCJmbG9vclwiOlwiY2VpbFwiXShsL2YpLG09TWF0aFttPj0xP1wiZmxvb3JcIjpcImNlaWxcIl0obS9mKSxrLnNldHRpbmdzLm5vcm1hbGl6ZU9mZnNldCYmdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBzPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bz1iLmNsaWVudFgtcy5sZWZ0LHA9Yi5jbGllbnRZLXMudG9wfXJldHVybiBiLmRlbHRhWD1sLGIuZGVsdGFZPW0sYi5kZWx0YUZhY3Rvcj1mLGIub2Zmc2V0WD1vLGIub2Zmc2V0WT1wLGIuZGVsdGFNb2RlPTAsaC51bnNoaWZ0KGIsaixsLG0pLGUmJmNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoYywyMDApLChhLmV2ZW50LmRpc3BhdGNofHxhLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxoKX19ZnVuY3Rpb24gYygpe2Y9bnVsbH1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIGsuc2V0dGluZ3MuYWRqdXN0T2xkRGVsdGFzJiZcIm1vdXNld2hlZWxcIj09PWEudHlwZSYmYiUxMjA9PT0wfXZhciBlLGYsZz1bXCJ3aGVlbFwiLFwibW91c2V3aGVlbFwiLFwiRE9NTW91c2VTY3JvbGxcIixcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIl0saD1cIm9ud2hlZWxcImluIGRvY3VtZW50fHxkb2N1bWVudC5kb2N1bWVudE1vZGU+PTk/W1wid2hlZWxcIl06W1wibW91c2V3aGVlbFwiLFwiRG9tTW91c2VTY3JvbGxcIixcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIl0saT1BcnJheS5wcm90b3R5cGUuc2xpY2U7aWYoYS5ldmVudC5maXhIb29rcylmb3IodmFyIGo9Zy5sZW5ndGg7ajspYS5ldmVudC5maXhIb29rc1tnWy0tal1dPWEuZXZlbnQubW91c2VIb29rczt2YXIgaz1hLmV2ZW50LnNwZWNpYWwubW91c2V3aGVlbD17dmVyc2lvbjpcIjMuMS4xMlwiLHNldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRFdmVudExpc3RlbmVyKWZvcih2YXIgYz1oLmxlbmd0aDtjOyl0aGlzLmFkZEV2ZW50TGlzdGVuZXIoaFstLWNdLGIsITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9YjthLmRhdGEodGhpcyxcIm1vdXNld2hlZWwtbGluZS1oZWlnaHRcIixrLmdldExpbmVIZWlnaHQodGhpcykpLGEuZGF0YSh0aGlzLFwibW91c2V3aGVlbC1wYWdlLWhlaWdodFwiLGsuZ2V0UGFnZUhlaWdodCh0aGlzKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKWZvcih2YXIgYz1oLmxlbmd0aDtjOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaFstLWNdLGIsITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9bnVsbDthLnJlbW92ZURhdGEodGhpcyxcIm1vdXNld2hlZWwtbGluZS1oZWlnaHRcIiksYS5yZW1vdmVEYXRhKHRoaXMsXCJtb3VzZXdoZWVsLXBhZ2UtaGVpZ2h0XCIpfSxnZXRMaW5lSGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBjPWEoYiksZD1jW1wib2Zmc2V0UGFyZW50XCJpbiBhLmZuP1wib2Zmc2V0UGFyZW50XCI6XCJwYXJlbnRcIl0oKTtyZXR1cm4gZC5sZW5ndGh8fChkPWEoXCJib2R5XCIpKSxwYXJzZUludChkLmNzcyhcImZvbnRTaXplXCIpLDEwKXx8cGFyc2VJbnQoYy5jc3MoXCJmb250U2l6ZVwiKSwxMCl8fDE2fSxnZXRQYWdlSGVpZ2h0OmZ1bmN0aW9uKGIpe3JldHVybiBhKGIpLmhlaWdodCgpfSxzZXR0aW5nczp7YWRqdXN0T2xkRGVsdGFzOiEwLG5vcm1hbGl6ZU9mZnNldDohMH19O2EuZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChcIm1vdXNld2hlZWxcIixhKTp0aGlzLnRyaWdnZXIoXCJtb3VzZXdoZWVsXCIpfSx1bm1vdXNld2hlZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudW5iaW5kKFwibW91c2V3aGVlbFwiLGEpfX0pfSksYi5kZWZpbmUoXCJqcXVlcnkuc2VsZWN0MlwiLFtcImpxdWVyeVwiLFwianF1ZXJ5LW1vdXNld2hlZWxcIixcIi4vc2VsZWN0Mi9jb3JlXCIsXCIuL3NlbGVjdDIvZGVmYXVsdHNcIl0sZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbD09YS5mbi5zZWxlY3QyKXt2YXIgZT1bXCJvcGVuXCIsXCJjbG9zZVwiLFwiZGVzdHJveVwiXTthLmZuLnNlbGVjdDI9ZnVuY3Rpb24oYil7aWYoYj1ifHx7fSxcIm9iamVjdFwiPT10eXBlb2YgYilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YS5leHRlbmQoITAse30sYik7bmV3IGMoYSh0aGlzKSxkKX0pLHRoaXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe3ZhciBkLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLmRhdGEoXCJzZWxlY3QyXCIpO251bGw9PWMmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKFwiVGhlIHNlbGVjdDIoJ1wiK2IrXCInKSBtZXRob2Qgd2FzIGNhbGxlZCBvbiBhbiBlbGVtZW50IHRoYXQgaXMgbm90IHVzaW5nIFNlbGVjdDIuXCIpLGQ9Y1tiXS5hcHBseShjLGYpfSksYS5pbkFycmF5KGIsZSk+LTE/dGhpczpkfXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIGZvciBTZWxlY3QyOiBcIitiKX19cmV0dXJuIG51bGw9PWEuZm4uc2VsZWN0Mi5kZWZhdWx0cyYmKGEuZm4uc2VsZWN0Mi5kZWZhdWx0cz1kKSxjfSkse2RlZmluZTpiLmRlZmluZSxyZXF1aXJlOmIucmVxdWlyZX19KCksYz1iLnJlcXVpcmUoXCJqcXVlcnkuc2VsZWN0MlwiKTtyZXR1cm4gYS5mbi5zZWxlY3QyLmFtZD1iLGN9KTsiLCIvKlxuKiBDb3B5cmlnaHQgMjAxNyB0aGUgSXNhcmQtdmRpIHByb2plY3QgYXV0aG9yczpcbiogICAgICBKb3NlcCBNYXJpYSBWacOxb2xhcyBBdXF1ZXJcbiogICAgICBBbGJlcnRvIExhcnJheiBEYWxtYXNlc1xuKiBMaWNlbnNlOiBBR1BMdjNcbiovXG5cbi8qKlxuICogUmVzaXplIGZ1bmN0aW9uIHdpdGhvdXQgbXVsdGlwbGUgdHJpZ2dlclxuICogXG4gKiBVc2FnZTpcbiAqICQod2luZG93KS5zbWFydHJlc2l6ZShmdW5jdGlvbigpeyAgXG4gKiAgICAgLy8gY29kZSBoZXJlXG4gKiB9KTtcbiAqL1xuKGZ1bmN0aW9uKCQsc3Ipe1xuICAgIC8vIGRlYm91bmNpbmcgZnVuY3Rpb24gZnJvbSBKb2huIEhhbm5cbiAgICAvLyBodHRwOi8vdW5zY3JpcHRhYmxlLmNvbS9pbmRleC5waHAvMjAwOS8wMy8yMC9kZWJvdW5jaW5nLWphdmFzY3JpcHQtbWV0aG9kcy9cbiAgICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiAoZnVuYywgdGhyZXNob2xkLCBleGVjQXNhcCkge1xuICAgICAgdmFyIHRpbWVvdXQ7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlYm91bmNlZCAoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlbGF5ZWQgKCkge1xuICAgICAgICAgICAgICAgIGlmICghZXhlY0FzYXApXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkob2JqLCBhcmdzKTsgXG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7IFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGltZW91dClcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICBlbHNlIGlmIChleGVjQXNhcClcbiAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KG9iaiwgYXJncyk7XG5cbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHRocmVzaG9sZCB8fCAxMDApOyBcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gc21hcnRyZXNpemUgXG4gICAgalF1ZXJ5LmZuW3NyXSA9IGZ1bmN0aW9uKGZuKXsgIHJldHVybiBmbiA/IHRoaXMuYmluZCgncmVzaXplJywgZGVib3VuY2UoZm4pKSA6IHRoaXMudHJpZ2dlcihzcik7IH07XG5cbn0pKGpRdWVyeSwnc21hcnRyZXNpemUnKTtcbi8qKlxuICogVG8gY2hhbmdlIHRoaXMgbGljZW5zZSBoZWFkZXIsIGNob29zZSBMaWNlbnNlIEhlYWRlcnMgaW4gUHJvamVjdCBQcm9wZXJ0aWVzLlxuICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUgZmlsZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGVzXG4gKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci5cbiAqL1xuXG4vLyBWYWxpZGF0b3IuanNcblx0ICAvLyBpbml0aWFsaXplIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cbiAgICAgIHZhbGlkYXRvci5tZXNzYWdlLmRhdGUgPSAnbm90IGEgcmVhbCBkYXRlJztcblxuICAgICAgLy8gdmFsaWRhdGUgYSBmaWVsZCBvbiBcImJsdXJcIiBldmVudCwgYSAnc2VsZWN0JyBvbiAnY2hhbmdlJyBldmVudCAmIGEgJy5yZXVpcmVkJyBjbGFzc2VkIG11bHRpZmllbGQgb24gJ2tleXVwJzpcbiAgICAgICQoJ2Zvcm0nKVxuICAgICAgICAub24oJ2JsdXInLCAnaW5wdXRbcmVxdWlyZWRdLCBpbnB1dC5vcHRpb25hbCwgc2VsZWN0LnJlcXVpcmVkJywgdmFsaWRhdG9yLmNoZWNrRmllbGQpXG4gICAgICAgIC5vbignY2hhbmdlJywgJ3NlbGVjdC5yZXF1aXJlZCcsIHZhbGlkYXRvci5jaGVja0ZpZWxkKVxuICAgICAgICAub24oJ2tleXByZXNzJywgJ2lucHV0W3JlcXVpcmVkXVtwYXR0ZXJuXScsIHZhbGlkYXRvci5rZXlwcmVzcyk7XG4gICAgICAgIC8vfiAub24oJ2tleXByZXNzJywgJ2lucHV0W3JlcXVpcmVkXVtwYXR0ZXJuXScsIGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coJ3ByZXNzJyl9KTtcblxuICAgICAgJCgnLm11bHRpLnJlcXVpcmVkJykub24oJ2tleXVwIGJsdXInLCAnaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFsaWRhdG9yLmNoZWNrRmllbGQuYXBwbHkoJCh0aGlzKS5zaWJsaW5ncygpLmxhc3QoKVswXSk7XG4gICAgICB9KTtcblxuICAgICAgJCgnZm9ybScpLnN1Ym1pdChmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHN1Ym1pdCA9IHRydWU7XG5cbiAgICAgICAgLy8gZXZhbHVhdGUgdGhlIGZvcm0gdXNpbmcgZ2VuZXJpYyB2YWxpZGFpbmdcbiAgICAgICAgaWYgKCF2YWxpZGF0b3IuY2hlY2tBbGwoJCh0aGlzKSkpIHtcbiAgICAgICAgICBzdWJtaXQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdWJtaXQpXG4gICAgICAgICAgdGhpcy5zdWJtaXQoKTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG4vLyAvVmFsaWRhdG9yLmpzXG5cbi8vUE5vdGlmeVxuXHRcdHZhciBzdGFja19jZW50ZXIgPSB7XCJkaXIxXCI6IFwiZG93blwiLCBcImRpcjJcIjogXCJyaWdodFwiLCBcImZpcnN0cG9zMVwiOiAyNSwgXCJmaXJzdHBvczJcIjogKCQod2luZG93KS53aWR0aCgpIC8gMikgLSAoTnVtYmVyKFBOb3RpZnkucHJvdG90eXBlLm9wdGlvbnMud2lkdGgucmVwbGFjZSgvXFxEL2csICcnKSkgLyAyKX07XG5cdFx0XHRcdCQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRzdGFja19jZW50ZXIuZmlyc3Rwb3MyID0gKCQod2luZG93KS53aWR0aCgpIC8gMikgLSAoTnVtYmVyKFBOb3RpZnkucHJvdG90eXBlLm9wdGlvbnMud2lkdGgucmVwbGFjZSgvXFxEL2csICcnKSkgLyAyKTtcblx0XHRcdFx0fSk7XG4gICAgUE5vdGlmeS5wcm90b3R5cGUub3B0aW9ucy5zdHlsaW5nID0gXCJib290c3RyYXAzXCI7XG4vLyAvUE5vdGlmeVxuXG4vLyBTaWRlYmFyXG52YXIgQ1VSUkVOVF9VUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdLnNwbGl0KCc/JylbMF0sXG4gICAgJEJPRFkgPSAkKCdib2R5JyksXG4gICAgJE1FTlVfVE9HR0xFID0gJCgnI21lbnVfdG9nZ2xlJyksXG4gICAgJFNJREVCQVJfTUVOVSA9ICQoJyNzaWRlYmFyLW1lbnUnKSxcbiAgICAkU0lERUJBUl9GT09URVIgPSAkKCcuc2lkZWJhci1mb290ZXInKSxcbiAgICAkTEVGVF9DT0wgPSAkKCcubGVmdF9jb2wnKSxcbiAgICAkUklHSFRfQ09MID0gJCgnLnJpZ2h0X2NvbCcpLFxuICAgICROQVZfTUVOVSA9ICQoJy5uYXZfbWVudScpLFxuICAgICRGT09URVIgPSAkKCdmb290ZXInKTtcblxuXG5mdW5jdGlvbiBpbml0X3NpZGViYXIoKSB7XG4vLyBUT0RPOiBUaGlzIGlzIHNvbWUga2luZCBvZiBlYXN5IGZpeCwgbWF5YmUgd2UgY2FuIGltcHJvdmUgdGhpc1xudmFyIHNldENvbnRlbnRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIHJlc2V0IGhlaWdodFxuXHQkUklHSFRfQ09MLmNzcygnbWluLWhlaWdodCcsICQod2luZG93KS5oZWlnaHQoKSk7XG5cblx0dmFyIGJvZHlIZWlnaHQgPSAkQk9EWS5vdXRlckhlaWdodCgpLFxuXHRcdGZvb3RlckhlaWdodCA9ICRCT0RZLmhhc0NsYXNzKCdmb290ZXJfZml4ZWQnKSA/IC0xMCA6ICRGT09URVIuaGVpZ2h0KCksXG5cdFx0bGVmdENvbEhlaWdodCA9ICRMRUZUX0NPTC5lcSgxKS5oZWlnaHQoKSArICRTSURFQkFSX0ZPT1RFUi5oZWlnaHQoKSxcblx0XHRjb250ZW50SGVpZ2h0ID0gYm9keUhlaWdodCA8IGxlZnRDb2xIZWlnaHQgPyBsZWZ0Q29sSGVpZ2h0IDogYm9keUhlaWdodDtcblxuXHQvLyBub3JtYWxpemUgY29udGVudFxuXHRjb250ZW50SGVpZ2h0IC09ICROQVZfTUVOVS5oZWlnaHQoKSArIGZvb3RlckhlaWdodDtcblxuXHQkUklHSFRfQ09MLmNzcygnbWluLWhlaWdodCcsIGNvbnRlbnRIZWlnaHQpO1xufTtcblxuICAkU0lERUJBUl9NRU5VLmZpbmQoJ2EnKS5vbignY2xpY2snLCBmdW5jdGlvbihldikge1xuXHQgIGNvbnNvbGUubG9nKCdjbGlja2VkIC0gc2lkZWJhcl9tZW51Jyk7XG4gICAgICAgIHZhciAkbGkgPSAkKHRoaXMpLnBhcmVudCgpO1xuXG4gICAgICAgIGlmICgkbGkuaXMoJy5hY3RpdmUnKSkge1xuICAgICAgICAgICAgJGxpLnJlbW92ZUNsYXNzKCdhY3RpdmUgYWN0aXZlLXNtJyk7XG4gICAgICAgICAgICAkKCd1bDpmaXJzdCcsICRsaSkuc2xpZGVVcChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZXRDb250ZW50SGVpZ2h0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgY2xvc2luZyBtZW51IGlmIHdlIGFyZSBvbiBjaGlsZCBtZW51XG4gICAgICAgICAgICBpZiAoISRsaS5wYXJlbnQoKS5pcygnLmNoaWxkX21lbnUnKSkge1xuICAgICAgICAgICAgICAgICRTSURFQkFSX01FTlUuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlIGFjdGl2ZS1zbScpO1xuICAgICAgICAgICAgICAgICRTSURFQkFSX01FTlUuZmluZCgnbGkgdWwnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9ZWxzZVxuICAgICAgICAgICAge1xuXHRcdFx0XHRpZiAoICRCT0RZLmlzKCBcIi5uYXYtc21cIiApIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCRTSURFQkFSX01FTlUuZmluZCggXCJsaVwiICkucmVtb3ZlQ2xhc3MoIFwiYWN0aXZlIGFjdGl2ZS1zbVwiICk7XG5cdFx0XHRcdFx0JFNJREVCQVJfTUVOVS5maW5kKCBcImxpIHVsXCIgKS5zbGlkZVVwKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cbiAgICAgICAgICAgICRsaS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICQoJ3VsOmZpcnN0JywgJGxpKS5zbGlkZURvd24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2V0Q29udGVudEhlaWdodCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuLy8gdG9nZ2xlIHNtYWxsIG9yIGxhcmdlIG1lbnUgXG4kTUVOVV9UT0dHTEUub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0Y29uc29sZS5sb2coJ2NsaWNrZWQgLSBtZW51IHRvZ2dsZScpO1xuXHRcdFxuXHRcdGlmICgkQk9EWS5oYXNDbGFzcygnbmF2LW1kJykpIHtcblx0XHRcdCRTSURFQkFSX01FTlUuZmluZCgnbGkuYWN0aXZlIHVsJykuaGlkZSgpO1xuXHRcdFx0JFNJREVCQVJfTUVOVS5maW5kKCdsaS5hY3RpdmUnKS5hZGRDbGFzcygnYWN0aXZlLXNtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkU0lERUJBUl9NRU5VLmZpbmQoJ2xpLmFjdGl2ZS1zbSB1bCcpLnNob3coKTtcblx0XHRcdCRTSURFQkFSX01FTlUuZmluZCgnbGkuYWN0aXZlLXNtJykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUtc20nKTtcblx0XHR9XG5cblx0JEJPRFkudG9nZ2xlQ2xhc3MoJ25hdi1tZCBuYXYtc20nKTtcblxuXHRzZXRDb250ZW50SGVpZ2h0KCk7XG59KTtcblxuXHQvLyBjaGVjayBhY3RpdmUgbWVudVxuXHQkU0lERUJBUl9NRU5VLmZpbmQoJ2FbaHJlZj1cIicgKyBDVVJSRU5UX1VSTCArICdcIl0nKS5wYXJlbnQoJ2xpJykuYWRkQ2xhc3MoJ2N1cnJlbnQtcGFnZScpO1xuXG5cdCRTSURFQkFSX01FTlUuZmluZCgnYScpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaHJlZiA9PSBDVVJSRU5UX1VSTDtcblx0fSkucGFyZW50KCdsaScpLmFkZENsYXNzKCdjdXJyZW50LXBhZ2UnKS5wYXJlbnRzKCd1bCcpLnNsaWRlRG93bihmdW5jdGlvbigpIHtcblx0XHRzZXRDb250ZW50SGVpZ2h0KCk7XG5cdH0pLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuXHQvLyByZWNvbXB1dGUgY29udGVudCB3aGVuIHJlc2l6aW5nXG5cdCQod2luZG93KS5zbWFydHJlc2l6ZShmdW5jdGlvbigpeyAgXG5cdFx0c2V0Q29udGVudEhlaWdodCgpO1xuXHR9KTtcblxuXHRzZXRDb250ZW50SGVpZ2h0KCk7XG5cblx0Ly8gZml4ZWQgc2lkZWJhclxuXHRpZiAoJC5mbi5tQ3VzdG9tU2Nyb2xsYmFyKSB7XG5cdFx0JCgnLm1lbnVfZml4ZWQnKS5tQ3VzdG9tU2Nyb2xsYmFyKHtcblx0XHRcdGF1dG9IaWRlU2Nyb2xsYmFyOiB0cnVlLFxuXHRcdFx0dGhlbWU6ICdtaW5pbWFsJyxcblx0XHRcdG1vdXNlV2hlZWw6eyBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9XG5cdFx0fSk7XG5cdH1cbn07XG4vLyAvU2lkZWJhclxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBpbml0X3NpZGViYXIoKTtcbiAgICAkKCdpbnB1dCcpLmlDaGVjayh7XG4gICAgICAgIGNoZWNrYm94Q2xhc3M6ICdpY2hlY2tib3hfZmxhdC1ncmVlbicsXG4gICAgICAgIHJhZGlvQ2xhc3M6ICdpcmFkaW9fZmxhdC1ncmVlbicsXG4gICAgfSlcbn0pO1xuXG5cbi8vIEZvcm0gc2VyaWFsaXphdGlvblxuXG4gICAgICAgIChmdW5jdGlvbigkKXtcbiAgICAgICAgICAgICQuZm4uc2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3NlcmlhbGl6YXRpb24nKVxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICAgICAganNvbiA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBwdXNoX2NvdW50ZXJzID0ge30sXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm5zID0ge1xuXHRcdFx0XHRcdFx0ICBcInZhbGlkYXRlXCI6IC9eW2Etel1bYS16MC05Xy1dKig/OlxcWyg/OlxcZCp8W2EtejAtOV8tXSspXFxdKSokL2ksXG5cdFx0XHRcdFx0XHQgIFwia2V5XCI6ICAgICAgL1thLXowLTlfLV0rfCg/PVxcW1xcXSkvZ2ksXG5cdFx0XHRcdFx0XHQgIFwibmFtZWRcIjogICAgL15bYS16MC05Xy1dKyQvaSxcdFx0XHRcdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9+IFwidmFsaWRhdGVcIjogL15bYS16QS1aXVthLXpBLVowLTlfXSooPzpcXFsoPzpcXGQqfFthLXpBLVowLTlfXSspXFxdKSokLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfiBcImtleVwiOiAgICAgIC9bYS16QS1aMC05X10rfCg/PVxcW1xcXSkvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicHVzaFwiOiAgICAgL14kLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZml4ZWRcIjogICAgL15cXGQrJC8sXG4gICAgICAgICAgICAgICAgICAgICAgICAvL34gXCJuYW1lZFwiOiAgICAvXlthLXpBLVowLTlfXSskL1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkID0gZnVuY3Rpb24oYmFzZSwga2V5LCB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoX2NvdW50ZXIgPSBmdW5jdGlvbihrZXkpe1xuICAgICAgICAgICAgICAgICAgICBpZihwdXNoX2NvdW50ZXJzW2tleV0gPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoX2NvdW50ZXJzW2tleV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwdXNoX2NvdW50ZXJzW2tleV0rKztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKCQodGhpcykuc2VyaWFsaXplQXJyYXkoKSwgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGludmFsaWQga2V5c1xuICAgICAgICAgICAgICAgICAgICBpZighcGF0dGVybnMudmFsaWRhdGUudGVzdCh0aGlzLm5hbWUpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBrLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cyA9IHRoaXMubmFtZS5tYXRjaChwYXR0ZXJucy5rZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2UgPSB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZV9rZXkgPSB0aGlzLm5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUoKGsgPSBrZXlzLnBvcCgpKSAhPT0gdW5kZWZpbmVkKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRqdXN0IHJldmVyc2Vfa2V5XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlX2tleSA9IHJldmVyc2Vfa2V5LnJlcGxhY2UobmV3IFJlZ0V4cChcIlxcXFxbXCIgKyBrICsgXCJcXFxcXSRcIiksICcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVzaFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoay5tYXRjaChwYXR0ZXJucy5wdXNoKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2UgPSBzZWxmLmJ1aWxkKFtdLCBzZWxmLnB1c2hfY291bnRlcihyZXZlcnNlX2tleSksIG1lcmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZml4ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoay5tYXRjaChwYXR0ZXJucy5maXhlZCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlID0gc2VsZi5idWlsZChbXSwgaywgbWVyZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuYW1lZFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihrLm1hdGNoKHBhdHRlcm5zLm5hbWVkKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2UgPSBzZWxmLmJ1aWxkKHt9LCBrLCBtZXJnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBqc29uID0gJC5leHRlbmQodHJ1ZSwganNvbiwgbWVyZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShqUXVlcnkpOyBcblxuXG4vL34gZnVuY3Rpb24gYXBwbHlEYXRhKHRhYmxlLCBkYXRhLCBhcHBlbmQpe1xuICAgIC8vfiAvL1F1aWNrbHkgYXBwZW5kcyBuZXcgZGF0YSByb3dzLiAgRG9lcyBub3QgdXBkYXRlIHJvd3NcbiAgICAvL34gaWYoYXBwZW5kID09IHRydWUpe1xuICAgICAgICAvL34gdGFibGUucm93cy5hZGQoZGF0YSk7XG4gICAgICAgICBcbiAgICAvL34gLy9Mb2NhdGUgYW5kIHVwZGF0ZSByb3dzIGJ5IHJvd0lkIG9yIGFkZCBpZiBuZXdcbiAgICAvL34gfWVsc2V7XG4gICAgICAgIC8vfiB2YXIgaW5kZXg7XG4gICAgICAgIC8vfiBmb3IgKHZhciB4ID0gMDt4IDwgZGF0YS5sZW5ndGg7eCsrKXtcbiAgICAgICAgICAgIC8vfiAvL0ZpbmQgcm93IGluZGV4IGJ5IHJvd0lkIGlmIHJvdyBleGlzdHNcbiAgICAgICAgICAgIC8vfiBpbmRleCA9IHRhYmxlLnJvdygnIycgKyBkYXRhW3hdLmlkKTtcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgIC8vfiAvL1VwZGF0ZSByb3cgZGF0YSBpZiBleGlzdGluZywgYW5kIGludmFsaWRhdGUgZm9yIHJlZHJhd1xuICAgICAgICAgICAgLy9+IGlmKGluZGV4Lmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgIC8vfiB0YWJsZS5yb3coaW5kZXhbMF0pLmRhdGEoZGF0YVt4XSkuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9+IC8vQWRkIHJvdyBkYXRhIGlmIG5ld1xuICAgICAgICAgICAgLy9+IH1lbHNle1xuICAgICAgICAgICAgICAgIC8vfiB0YWJsZS5yb3cuYWRkKGRhdGFbeF0pO1xuICAgICAgICAgICAgLy9+IH1cbiAgICAgICAgLy9+IH1cbiAgICAvL34gfVxuIFxuICAgIC8vfiAvL1JlZHJhdyB0YWJsZSBtYWludGFpbmluZyBwYWdpbmdcbiAgICAvL34gdGFibGUuZHJhdyhmYWxzZSk7XG4vL34gfVxuXG5mdW5jdGlvbiBkdFVwZGF0ZUluc2VydG9MRCh0YWJsZSwgZGF0YSwgYXBwZW5kKXtcbiAgICAvL1F1aWNrbHkgYXBwZW5kcyBuZXcgZGF0YSByb3dzLiAgRG9lcyBub3QgdXBkYXRlIHJvd3NcbiAgICBpZihhcHBlbmQgPT0gdHJ1ZSl7XG4gICAgICAgIHRhYmxlLnJvd3MuYWRkKGRhdGEpO1xuICAgICAgICAgXG4gICAgLy9Mb2NhdGUgYW5kIHVwZGF0ZSByb3dzIGJ5IHJvd0lkIG9yIGFkZCBpZiBuZXdcbiAgICB9ZWxzZXtcblx0XHRcdC8vfiBjb25zb2xlLmxvZygnRm91bmQ6ICcrdGFibGUucm93cygpLm5vZGVzKCkuaW5kZXhPZihkYXRhLmlkKSsnIC0gJytkYXRhLmlkKVxuICAgICAgICAgICAgZm91bmQ9ZmFsc2U7XG4gICAgICAgICAgICB0YWJsZS5yb3dzKCkuZXZlcnkoIGZ1bmN0aW9uICggcm93SWR4LCB0YWJsZUxvb3AsIHJvd0xvb3AgKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5kYXRhKCkuaWQ9PWRhdGEuaWQpe1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5yb3cocm93SWR4KS5kYXRhKGRhdGEpLmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQ9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvL0JyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZighZm91bmQpe1xuICAgICAgICAgICAgICAgIHRhYmxlLnJvdy5hZGQoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIH1cbiBcbiAgICAvL1JlZHJhdyB0YWJsZSBtYWludGFpbmluZyBwYWdpbmdcbiAgICB0YWJsZS5kcmF3KGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gZHRVcGRhdGVJbnNlcnQodGFibGUsIGRhdGEsIGFwcGVuZCl7XG4gICAgLy9RdWlja2x5IGFwcGVuZHMgbmV3IGRhdGEgcm93cy4gIERvZXMgbm90IHVwZGF0ZSByb3dzXG4gICAgbmV3X2lkPWZhbHNlXG4gICAgaWYoYXBwZW5kID09IHRydWUpe1xuICAgICAgICB0YWJsZS5yb3dzLmFkZChkYXRhKTtcbiAgICAgICAgbmV3X2lkPXRydWVcbiAgICAvL0xvY2F0ZSBhbmQgdXBkYXRlIHJvd3MgYnkgcm93SWQgb3IgYWRkIGlmIG5ld1xuICAgIH1lbHNle1xuXHRcdGlmKHR5cGVvZih0YWJsZS5yb3coJyMnK2RhdGEuaWQpLmlkKCkpPT0ndW5kZWZpbmVkJyl7XG5cdFx0XHQvLyBEb2VzIG5vdCBleGlzdHMgeWVzXG5cdFx0XHR0YWJsZS5yb3cuYWRkKGRhdGEpO1xuICAgICAgICAgICAgbmV3X2lkPXRydWVcblx0XHR9ZWxzZXtcblx0XHRcdC8vIEV4aXN0cywgZG8gdXBkYXRlXG5cdFx0XHR0YWJsZS5yb3coJyMnK2RhdGEuaWQpLmRhdGEoZGF0YSkuaW52YWxpZGF0ZSgpO1xuXHRcdH1cbiAgICB9XG4gXG4gICAgLy9SZWRyYXcgdGFibGUgbWFpbnRhaW5pbmcgcGFnaW5nXG4gICAgdGFibGUuZHJhdyhmYWxzZSk7XG4gICAgcmV0dXJuIG5ld19pZFxufVxuXG5cbi8vIFBhbmVsIHRvb2xib3hcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICQoJy5jb2xsYXBzZS1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkQk9YX1BBTkVMID0gJCh0aGlzKS5jbG9zZXN0KCcueF9wYW5lbCcpLFxuICAgICAgICAgICAgJElDT04gPSAkKHRoaXMpLmZpbmQoJ2knKSxcbiAgICAgICAgICAgICRCT1hfQ09OVEVOVCA9ICRCT1hfUEFORUwuZmluZCgnLnhfY29udGVudCcpO1xuICAgICAgICBcbiAgICAgICAgLy8gZml4IGZvciBzb21lIGRpdiB3aXRoIGhhcmRjb2RlZCBmaXggY2xhc3NcbiAgICAgICAgaWYgKCRCT1hfUEFORUwuYXR0cignc3R5bGUnKSkge1xuICAgICAgICAgICAgJEJPWF9DT05URU5ULnNsaWRlVG9nZ2xlKDIwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkQk9YX1BBTkVMLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRCT1hfQ09OVEVOVC5zbGlkZVRvZ2dsZSgyMDApOyBcbiAgICAgICAgICAgICRCT1hfUEFORUwuY3NzKCdoZWlnaHQnLCAnYXV0bycpOyAgXG4gICAgICAgIH1cblxuICAgICAgICAkSUNPTi50b2dnbGVDbGFzcygnZmEtY2hldnJvbi11cCBmYS1jaGV2cm9uLWRvd24nKTtcbiAgICB9KTtcblxuICAgICQoJy5jbG9zZS1saW5rJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJEJPWF9QQU5FTCA9ICQodGhpcykuY2xvc2VzdCgnLnhfcGFuZWwnKTtcblxuICAgICAgICAkQk9YX1BBTkVMLnJlbW92ZSgpO1xuICAgIH0pO1xufSk7XG5cbiIsIlx0ZnVuY3Rpb24gc2V0UXVvdGFPcHRpb25zKHBhcmVudGlkLGRpc2FibGVkKXtcbiAgICAgICAgZGlzYWJsZWQgPSB0eXBlb2YgZGlzYWJsZWQgIT09ICd1bmRlZmluZWQnID8gZGlzYWJsZWQgOiBmYWxzZTtcbiAgICAgICAgYXBpLmFqYXgoJy9oYXJkd2FyZScsJ0dFVCcsJycpLmRvbmUoZnVuY3Rpb24oaGFyZHdhcmUpIHtcbiAgICAgICAgICAgIHVzZXI9aGFyZHdhcmUudXNlclxuICAgICAgICAgICAgcGFyZW50aWQ9cGFyZW50aWQrJyAnO1xuICAgICAgICAgICAgLy9+IGlmKCAkKHBhcmVudGlkK1wiI3F1b3RhLWRvbWFpbnMtZGVza3RvcHNcIikuaGFzQXR0cmlidXRlKCdkYXRhLWdyaWQnKSApe1xuICAgICAgICAgICAgICAgIC8vfiBhbGVydCgnaXQgaGFzJylcbiAgICAgICAgICAgICAgICAvL34gJChwYXJlbnRpZCtcIiNxdW90YS1kb21haW5zLWRlc2t0b3BzXCIpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIC8vfiB9XG5cdFx0XHRcdCQocGFyZW50aWQrXCIjcXVvdGEtZG9tYWlucy1kZXNrdG9wc1wiKS5pb25SYW5nZVNsaWRlcih7XG5cdFx0XHRcdFx0XHQgIHR5cGU6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHQgIG1pbjogMSxcblx0XHRcdFx0XHRcdCAgbWF4OiB1c2VyWydxdW90YS1kb21haW5zLWRlc2t0b3BzJ10sXG5cdFx0XHRcdFx0XHQgIGdyaWQ6IHRydWUsXG5cdFx0XHRcdFx0XHQgIGRpc2FibGU6IGRpc2FibGVkXG5cdFx0XHRcdFx0XHQgIH0pLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKTtcblx0XHRcdFx0JChwYXJlbnRpZCtcIiNxdW90YS1kb21haW5zLXJ1bm5pbmdcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDEsXG5cdFx0XHRcdFx0XHQgIG1heDogdXNlclsncXVvdGEtZG9tYWlucy1ydW5uaW5nJ10sXG5cdFx0XHRcdFx0XHQgIGdyaWQ6IHRydWUsXG5cdFx0XHRcdFx0XHQgIGRpc2FibGU6IGRpc2FibGVkXG5cdFx0XHRcdFx0XHQgIH0pLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKTtcdFxuXHRcdFx0XHQkKHBhcmVudGlkK1wiI3F1b3RhLWRvbWFpbnMtdGVtcGxhdGVzXCIpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdFx0XHRcdCAgdHlwZTogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdCAgbWluOiAwLFxuXHRcdFx0XHRcdFx0ICBtYXg6IHVzZXJbJ3F1b3RhLWRvbWFpbnMtdGVtcGxhdGVzJ10sXG5cdFx0XHRcdFx0XHQgIGdyaWQ6IHRydWUsXG5cdFx0XHRcdFx0XHQgIGRpc2FibGU6IGRpc2FibGVkXG5cdFx0XHRcdFx0XHQgIH0pLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKTtcdFx0XG5cdFx0XHRcdCQocGFyZW50aWQrXCIjcXVvdGEtZG9tYWlucy1pc29zXCIpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdFx0XHRcdCAgdHlwZTogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdCAgbWluOiAwLFxuXHRcdFx0XHRcdFx0ICBtYXg6IHVzZXJbJ3F1b3RhLWRvbWFpbnMtaXNvcyddLFxuXHRcdFx0XHRcdFx0ICBncmlkOiB0cnVlLFxuXHRcdFx0XHRcdFx0ICBkaXNhYmxlOiBkaXNhYmxlZFxuXHRcdFx0XHRcdFx0ICB9KS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIik7XHRcblx0XHRcdFx0JChwYXJlbnRpZCtcIiNxdW90YS1oYXJkd2FyZS1tZW1vcnlcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDEwMDAsXG5cdFx0XHRcdFx0XHQgIG1heDogdXNlclsncXVvdGEtaGFyZHdhcmUtbWVtb3J5J10vMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogMjUwLFxuXHRcdFx0XHRcdFx0ICBncmlkOiB0cnVlLFxuXHRcdFx0XHRcdFx0ICBkaXNhYmxlOiBkaXNhYmxlZFxuXHRcdFx0XHRcdFx0ICB9KS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIik7XG5cdFx0XHRcdCQocGFyZW50aWQrXCIjcXVvdGEtaGFyZHdhcmUtdmNwdXNcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDEsXG5cdFx0XHRcdFx0XHQgIG1heDogdXNlclsncXVvdGEtaGFyZHdhcmUtdmNwdXMnXSxcblx0XHRcdFx0XHRcdCAgZ3JpZDogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgZGlzYWJsZTogZGlzYWJsZWRcblx0XHRcdFx0XHRcdCAgfSkuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpO1x0XG4gICAgICAgIH0pO1xuICAgIH07IFxuXG4gICAgZnVuY3Rpb24gcXVvdGEyZGljdChkYXRhKXtcbiAgICAgICAgIGRhdGFbJ3F1b3RhJ109eydoYXJkd2FyZSc6e30sJ2RvbWFpbnMnOnt9fVxuICAgICAgICAgJC5lYWNoKGRhdGEsZnVuY3Rpb24oa2V5LHZhbHVlKXtcbiAgICAgICAgICAgICBpZihrZXkuc3RhcnRzV2l0aCgncXVvdGEtZG9tYWlucycpKXtcbiAgICAgICAgICAgICAgICAgZGF0YVsncXVvdGEnXVsnZG9tYWlucyddW2tleS5zcGxpdCgnLScpWzJdXSA9IHBhcnNlSW50KHZhbHVlKSAgfHwgMFxuICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZihrZXkuc3RhcnRzV2l0aCgncXVvdGEtaGFyZHdhcmUnKSl7XG4gICAgICAgICAgICAgICAgIGRhdGFbJ3F1b3RhJ11bJ2hhcmR3YXJlJ11ba2V5LnNwbGl0KCctJylbMl1dID0gcGFyc2VJbnQodmFsdWUpICB8fCAwXG4gICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgXG4gICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cblx0ZnVuY3Rpb24gc2V0UXVvdGFUYWJsZURlZmF1bHRzKGRpdl9pZCx0YWJsZSxpZCl7XG5cdFx0XHRhcGkuYWpheCgnL2FkbWluL3RhYmxldGVzdC8nK3RhYmxlKycvcG9zdCcsJ1BPU1QnLHsnaWQnOmlkfSkuZG9uZShmdW5jdGlvbihkb21haW4pIHtcblx0XHRcdFx0JChkaXZfaWQrXCIgI3F1b3RhLWRvbWFpbnMtZGVza3RvcHNcIikuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQgIGZyb206IGRvbWFpblsncXVvdGEtZG9tYWlucy1kZXNrdG9wcyddXG4gICAgICAgICAgICAgICAgfSk7XG5cdFx0XHRcdCQoZGl2X2lkK1wiICNxdW90YS1kb21haW5zLXJ1bm5pbmdcIikuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQgIGZyb206IGRvbWFpblsncXVvdGEtZG9tYWlucy1ydW5uaW5nJ11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGRpdl9pZCtcIiAjcXVvdGEtZG9tYWlucy10ZW1wbGF0ZXNcIikuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQgIGZyb206IGRvbWFpblsncXVvdGEtZG9tYWlucy10ZW1wbGF0ZXMnXVxuICAgICAgICAgICAgICAgIH0pO1xuXHRcdFx0XHQkKGRpdl9pZCtcIiAjcXVvdGEtZG9tYWlucy1pc29zXCIpLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKS51cGRhdGUoe1xuXHRcdFx0XHRcdFx0ICBmcm9tOiBkb21haW5bJ3F1b3RhLWRvbWFpbnMtaXNvcyddXG4gICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgIFxuXG5cdFx0XHRcdCQoZGl2X2lkK1wiICNxdW90YS1oYXJkd2FyZS1tZW1vcnlcIikuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQgIGZyb206IGRvbWFpblsncXVvdGEtaGFyZHdhcmUtbWVtb3J5J10vMTAwMFxuICAgICAgICAgICAgICAgIH0pO1xuXHRcdFx0XHQkKGRpdl9pZCtcIiAjcXVvdGEtaGFyZHdhcmUtdmNwdXNcIikuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQgIGZyb206IGRvbWFpblsncXVvdGEtaGFyZHdhcmUtdmNwdXMnXVxuICAgICAgICAgICAgICAgIH0pO1xuXHRcdFx0fSk7IFxuICAgICAgICBcblx0fVxuXG5cdGZ1bmN0aW9uIHNldFF1b3RhRGF0YURlZmF1bHRzKGRpdl9pZCxkYXRhKXtcbiAgICAgICAgYXBpLmFqYXgoJy9oYXJkd2FyZScsJ0dFVCcsJycpLmRvbmUoZnVuY3Rpb24oaGFyZHdhcmUpIHtcbiAgICAgICAgICAgIHVzZXI9aGFyZHdhcmUudXNlclxuICAgICAgICAgICAgcGFyZW50aWQ9ZGl2X2lkKycgJztcbiAgICAgICAgICAgIGRpc2FibGVkPXRydWVcblx0XHRcdFx0JChwYXJlbnRpZCtcIiNxdW90YS1kb21haW5zLWRlc2t0b3BzXCIpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdFx0XHRcdCAgdHlwZTogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdCAgbWluOiAxLFxuXHRcdFx0XHRcdFx0ICBtYXg6IHVzZXJbJ3F1b3RhLWRvbWFpbnMtZGVza3RvcHMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZGF0YVsncXVvdGEtZG9tYWlucy1kZXNrdG9wcyddLFxuXHRcdFx0XHRcdFx0ICBncmlkOiB0cnVlLFxuXHRcdFx0XHRcdFx0ICBkaXNhYmxlOiBkaXNhYmxlZFxuXHRcdFx0XHRcdFx0ICB9KS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIik7XG5cdFx0XHRcdCQocGFyZW50aWQrXCIjcXVvdGEtZG9tYWlucy1ydW5uaW5nXCIpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdFx0XHRcdCAgdHlwZTogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdCAgbWluOiAxLFxuXHRcdFx0XHRcdFx0ICBtYXg6IHVzZXJbJ3F1b3RhLWRvbWFpbnMtcnVubmluZyddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBkYXRhWydxdW90YS1kb21haW5zLXJ1bm5pbmcnXSxcblx0XHRcdFx0XHRcdCAgZ3JpZDogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgZGlzYWJsZTogZGlzYWJsZWRcblx0XHRcdFx0XHRcdCAgfSkuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpO1x0XG5cdFx0XHRcdCQocGFyZW50aWQrXCIjcXVvdGEtZG9tYWlucy10ZW1wbGF0ZXNcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDAsXG5cdFx0XHRcdFx0XHQgIG1heDogdXNlclsncXVvdGEtZG9tYWlucy10ZW1wbGF0ZXMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZGF0YVsncXVvdGEtZG9tYWlucy10ZW1wbGF0ZXMnXSxcblx0XHRcdFx0XHRcdCAgZ3JpZDogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgZGlzYWJsZTogZGlzYWJsZWRcblx0XHRcdFx0XHRcdCAgfSkuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpO1x0XHRcblx0XHRcdFx0JChwYXJlbnRpZCtcIiNxdW90YS1kb21haW5zLWlzb3NcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDAsXG5cdFx0XHRcdFx0XHQgIG1heDogdXNlclsncXVvdGEtZG9tYWlucy1pc29zJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGRhdGFbJ3F1b3RhLWRvbWFpbnMtaXNvcyddLFxuXHRcdFx0XHRcdFx0ICBncmlkOiB0cnVlLFxuXHRcdFx0XHRcdFx0ICBkaXNhYmxlOiBkaXNhYmxlZFxuXHRcdFx0XHRcdFx0ICB9KS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIik7XHRcblx0XHRcdFx0JChwYXJlbnRpZCtcIiNxdW90YS1oYXJkd2FyZS1tZW1vcnlcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDEwMDAsXG5cdFx0XHRcdFx0XHQgIG1heDogdXNlclsncXVvdGEtaGFyZHdhcmUtbWVtb3J5J10vMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZGF0YVsncXVvdGEtaGFyZHdhcmUtbWVtb3J5J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IDI1MCxcblx0XHRcdFx0XHRcdCAgZ3JpZDogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgZGlzYWJsZTogZGlzYWJsZWRcblx0XHRcdFx0XHRcdCAgfSkuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpO1xuXHRcdFx0XHQkKHBhcmVudGlkK1wiI3F1b3RhLWhhcmR3YXJlLXZjcHVzXCIpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdFx0XHRcdCAgdHlwZTogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdCAgbWluOiAxLFxuXHRcdFx0XHRcdFx0ICBtYXg6IHVzZXJbJ3F1b3RhLWhhcmR3YXJlLXZjcHVzJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGRhdGFbJ3F1b3RhLWhhcmR3YXJlLXZjcHVzJ10sXG5cdFx0XHRcdFx0XHQgIGdyaWQ6IHRydWUsXG5cdFx0XHRcdFx0XHQgIGRpc2FibGU6IGRpc2FibGVkXG5cdFx0XHRcdFx0XHQgIH0pLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKTtcdFxuICAgICAgICB9KTtcbiAgICAgICAgXG5cdH1cbiIsIiAgICAvLyBTb2NrZXRJT1xuICAgIHNvY2tldCA9IGlvLmNvbm5lY3QobG9jYXRpb24ucHJvdG9jb2wrJy8vJyArIGRvY3VtZW50LmRvbWFpbiArICc6JyArIGxvY2F0aW9uLnBvcnQrJy9zaW9fdXNlcnMnKTtcbiAgICAgXG4gICAgc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbm5lY3Rpb25fZG9uZSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnTGlzdGVuaW5nIHVzZXJzIG5hbWVzcGFjZSBmb3IgcXVvdGEnKTtcbiAgICB9KTtcblxuICAgIHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbm5lY3Rpb25fbG9zdCgpO1xuICAgIH0pO1xuICAgIFxuICAgIHNvY2tldC5vbigndXNlcl9xdW90YScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1F1b3RhIHVwZGF0ZScpXG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgZHJhd1VzZXJRdW90YShkYXRhKTtcbiAgICB9KTtcbiIsIlx0Ly9+IGZ1bmN0aW9uIHNldFByb2ZpbGUoaWQpe1xuXHRcdFx0Ly9+IGFwaS5hamF4KCcvcXVvdGEnLCdQT1NUJyx7J3BrJzppZH0pLmRvbmUoZnVuY3Rpb24oZ2VuKSB7XG4gICAgICAgICAgICAgICAgLy9+IHZhciB3YXN0ZWQ9MFxuICAgICAgICAgICAgICAgIC8vfiAkLmVhY2goZ2VuWydnZW5faWRzJ10sZnVuY3Rpb24oaW5kZXgsdmFsKXtcbiAgICAgICAgICAgICAgICAgICAgLy9+ICQoXCIjdGFibGUtZ2VuZWFsb2d5LVwiK2lkKS5hcHBlbmQoJzx0cj48dGQ+JytpbmRleCsnPC90ZD48dGQ+Jyt2YWwubmFtZSsnPC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgIC8vfiB9KTsgIFxuICAgICAgICAgICAgICAgIC8vfiByZW5kZXJEaXNrRG9udXQoZ2VuWydmcmVlJ10sZ2VuWyd3YXN0ZWQnXSxnZW5bJ2ZyZWVfaHMnXSxnZW5bJ3dhc3RlZF9ocyddKTtcbiAgICAgICAgICAgIC8vfiB9KTtcbiAgICAgICAgICAgIFxuICAgIC8vfiB9XG4gICAgXG4gICAgLy9+IGZ1bmN0aW9uIHJlbmRlckRpc2tEb251dChmcmVlLHdhc3RlZCwgZnJlZWhzLCB3YXN0ZWRocyl7XG5cdFx0XHQgIC8vfiB2YXIgZWNoYXJ0RG9udXQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2tfZG9udXQnKSwgdGhlbWUpO1xuXHRcdFx0ICAvL34gZWNoYXJ0RG9udXQuc2V0T3B0aW9uKHtcblx0XHRcdFx0Ly9+IHRvb2x0aXA6IHtcblx0XHRcdFx0ICAvL34gdHJpZ2dlcjogJ2l0ZW0nLFxuXHRcdFx0XHQgIC8vfiBmb3JtYXR0ZXI6IFwie2F9IDxici8+e2J9IDoge2N9ICh7ZH0lKVwiXG5cdFx0XHRcdC8vfiB9LFxuXHRcdFx0XHQvL34gY2FsY3VsYWJsZTogdHJ1ZSxcblx0XHRcdFx0Ly9+IGxlZ2VuZDoge1xuXHRcdFx0XHQgIC8vfiB4OiAnY2VudGVyJyxcblx0XHRcdFx0ICAvL34geTogJ2JvdHRvbScsXG5cdFx0XHRcdCAgLy9+IGRhdGE6IFsnRnJlZScsJ1VzZWQnXVxuXHRcdFx0XHQvL34gfSxcblx0XHRcdFx0Ly9+IHRvb2xib3g6IHtcblx0XHRcdFx0ICAvL34gc2hvdzogdHJ1ZSxcblx0XHRcdFx0ICAvL34gZmVhdHVyZToge1xuXHRcdFx0XHRcdC8vfiBtYWdpY1R5cGU6IHtcblx0XHRcdFx0XHQgIC8vfiBzaG93OiB0cnVlLFxuXHRcdFx0XHRcdCAgLy9+IHR5cGU6IFsncGllJywgJ2Z1bm5lbCddLFxuXHRcdFx0XHRcdCAgLy9+IG9wdGlvbjoge1xuXHRcdFx0XHRcdFx0Ly9+IGZ1bm5lbDoge1xuXHRcdFx0XHRcdFx0ICAvL34geDogJzI1JScsXG5cdFx0XHRcdFx0XHQgIC8vfiB3aWR0aDogJzUwJScsXG5cdFx0XHRcdFx0XHQgIC8vfiBmdW5uZWxBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHRcdFx0XHQgIC8vfiBtYXg6IDE1NDhcblx0XHRcdFx0XHRcdC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdC8vfiB9LFxuXHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdC8vfiB9LFxuXHRcdFx0XHQvL34gc2VyaWVzOiBbe1xuXHRcdFx0XHQgIC8vfiBuYW1lOiAnSGFyZCBkaXNrIHNwYWNlJyxcblx0XHRcdFx0ICAvL34gdHlwZTogJ3BpZScsXG5cdFx0XHRcdCAgLy9+IHJhZGl1czogWyczNSUnLCAnNTUlJ10sXG5cdFx0XHRcdCAgLy9+IGl0ZW1TdHlsZToge1xuXHRcdFx0XHRcdC8vfiBub3JtYWw6IHtcblx0XHRcdFx0XHQgIC8vfiBsYWJlbDoge1xuXHRcdFx0XHRcdFx0Ly9+IHNob3c6IHRydWVcblx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdCAgLy9+IGxhYmVsTGluZToge1xuXHRcdFx0XHRcdFx0Ly9+IHNob3c6IHRydWVcblx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0Ly9+IH0sXG5cdFx0XHRcdFx0Ly9+IGVtcGhhc2lzOiB7XG5cdFx0XHRcdFx0ICAvL34gbGFiZWw6IHtcblx0XHRcdFx0XHRcdC8vfiBzaG93OiB0cnVlLFxuXHRcdFx0XHRcdFx0Ly9+IHBvc2l0aW9uOiAnY2VudGVyJyxcblx0XHRcdFx0XHRcdC8vfiB0ZXh0U3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IGZvbnRTaXplOiAnMTQnLFxuXHRcdFx0XHRcdFx0ICAvL34gZm9udFdlaWdodDogJ25vcm1hbCdcblx0XHRcdFx0XHRcdC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdC8vfiB9XG5cdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdCAgLy9+IGRhdGE6IFt7XG5cdFx0XHRcdFx0Ly9+IHZhbHVlOiBmcmVlLFxuXHRcdFx0XHRcdC8vfiBuYW1lOiAnRnJlZTogJytmcmVlaHNcblx0XHRcdFx0ICAvL34gfSwge1xuXHRcdFx0XHRcdC8vfiB2YWx1ZTogd2FzdGVkLFxuXHRcdFx0XHRcdC8vfiBuYW1lOiAnVXNlZDogJyt3YXN0ZWRoc1xuXHRcdFx0XHQgIC8vfiB9XVxuXHRcdFx0XHQvL34gfV1cblx0XHRcdCAgLy9+IH0pO1xuXG4gICAgIFxuICAgIC8vfiB9XG5cblxuXHRcdFx0XHQgIC8vfiB2YXIgdGhlbWUgPSB7XG5cdFx0XHRcdCAgLy9+IGNvbG9yOiBbXG5cdFx0XHRcdFx0ICAvL34gJyMyNkI5OUEnLCAnIzM0NDk1RScsICcjQkRDM0M3JywgJyMzNDk4REInLFxuXHRcdFx0XHRcdCAgLy9+ICcjOUI1OUI2JywgJyM4YWJiNmYnLCAnIzc1OWM2YScsICcjYmZkM2I3J1xuXHRcdFx0XHQgIC8vfiBdLFxuXG5cdFx0XHRcdCAgLy9+IHRpdGxlOiB7XG5cdFx0XHRcdFx0ICAvL34gaXRlbUdhcDogOCxcblx0XHRcdFx0XHQgIC8vfiB0ZXh0U3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuXHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICcjNDA4ODI5J1xuXHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0ICAvL34gfSxcblxuXHRcdFx0XHQgIC8vfiBkYXRhUmFuZ2U6IHtcblx0XHRcdFx0XHQgIC8vfiBjb2xvcjogWycjMWY2MTBhJywgJyM5N2I1OGQnXVxuXHRcdFx0XHQgIC8vfiB9LFxuXG5cdFx0XHRcdCAgLy9+IHRvb2xib3g6IHtcblx0XHRcdFx0XHQgIC8vfiBjb2xvcjogWycjNDA4ODI5JywgJyM0MDg4MjknLCAnIzQwODgyOScsICcjNDA4ODI5J11cblx0XHRcdFx0ICAvL34gfSxcblxuXHRcdFx0XHQgIC8vfiB0b29sdGlwOiB7XG5cdFx0XHRcdFx0ICAvL34gYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjUpJyxcblx0XHRcdFx0XHQgIC8vfiBheGlzUG9pbnRlcjoge1xuXHRcdFx0XHRcdFx0ICAvL34gdHlwZTogJ2xpbmUnLFxuXHRcdFx0XHRcdFx0ICAvL34gbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiAnIzQwODgyOScsXG5cdFx0XHRcdFx0XHRcdCAgLy9+IHR5cGU6ICdkYXNoZWQnXG5cdFx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdFx0ICAvL34gY3Jvc3NTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJyM0MDg4MjknXG5cdFx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdFx0ICAvL34gc2hhZG93U3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICdyZ2JhKDIwMCwyMDAsMjAwLDAuMyknXG5cdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHQgIC8vfiB9LFxuXG5cdFx0XHRcdCAgLy9+IGRhdGFab29tOiB7XG5cdFx0XHRcdFx0ICAvL34gZGF0YUJhY2tncm91bmRDb2xvcjogJyNlZWUnLFxuXHRcdFx0XHRcdCAgLy9+IGZpbGxlckNvbG9yOiAncmdiYSg2NCwxMzYsNDEsMC4yKScsXG5cdFx0XHRcdFx0ICAvL34gaGFuZGxlQ29sb3I6ICcjNDA4ODI5J1xuXHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHQgIC8vfiBncmlkOiB7XG5cdFx0XHRcdFx0ICAvL34gYm9yZGVyV2lkdGg6IDBcblx0XHRcdFx0ICAvL34gfSxcblxuXHRcdFx0XHQgIC8vfiBjYXRlZ29yeUF4aXM6IHtcblx0XHRcdFx0XHQgIC8vfiBheGlzTGluZToge1xuXHRcdFx0XHRcdFx0ICAvL34gbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiAnIzQwODgyOSdcblx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdCAgLy9+IHNwbGl0TGluZToge1xuXHRcdFx0XHRcdFx0ICAvL34gbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiBbJyNlZWUnXVxuXHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0ICAvL34gfSxcblxuXHRcdFx0XHQgIC8vfiB2YWx1ZUF4aXM6IHtcblx0XHRcdFx0XHQgIC8vfiBheGlzTGluZToge1xuXHRcdFx0XHRcdFx0ICAvL34gbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiAnIzQwODgyOSdcblx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdCAgLy9+IHNwbGl0QXJlYToge1xuXHRcdFx0XHRcdFx0ICAvL34gc2hvdzogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgLy9+IGFyZWFTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogWydyZ2JhKDI1MCwyNTAsMjUwLDAuMSknLCAncmdiYSgyMDAsMjAwLDIwMCwwLjEpJ11cblx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdCAgLy9+IHNwbGl0TGluZToge1xuXHRcdFx0XHRcdFx0ICAvL34gbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiBbJyNlZWUnXVxuXHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0ICAvL34gdGltZWxpbmU6IHtcblx0XHRcdFx0XHQgIC8vfiBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiAnIzQwODgyOSdcblx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdCAgLy9+IGNvbnRyb2xTdHlsZToge1xuXHRcdFx0XHRcdFx0ICAvL34gbm9ybWFsOiB7Y29sb3I6ICcjNDA4ODI5J30sXG5cdFx0XHRcdFx0XHQgIC8vfiBlbXBoYXNpczoge2NvbG9yOiAnIzQwODgyOSd9XG5cdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHQgIC8vfiB9LFxuXG5cdFx0XHRcdCAgLy9+IGs6IHtcblx0XHRcdFx0XHQgIC8vfiBpdGVtU3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IG5vcm1hbDoge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJyM2OGE1NGEnLFxuXHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjA6ICcjYTljYmEyJyxcblx0XHRcdFx0XHRcdFx0ICAvL34gbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ICAvL34gd2lkdGg6IDEsXG5cdFx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICcjNDA4ODI5Jyxcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjA6ICcjODZiMzc5J1xuXHRcdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHQgIC8vfiBtYXA6IHtcblx0XHRcdFx0XHQgIC8vfiBpdGVtU3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IG5vcm1hbDoge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBhcmVhU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJyNkZGQnXG5cdFx0XHRcdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdFx0XHRcdCAgLy9+IGxhYmVsOiB7XG5cdFx0XHRcdFx0XHRcdFx0ICAvL34gdGV4dFN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJyNjMTJlMzQnXG5cdFx0XHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdFx0ICAvL34gZW1waGFzaXM6IHtcblx0XHRcdFx0XHRcdFx0ICAvL34gYXJlYVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICcjOTlkMmRkJ1xuXHRcdFx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdFx0XHQgIC8vfiBsYWJlbDoge1xuXHRcdFx0XHRcdFx0XHRcdCAgLy9+IHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICcjYzEyZTM0J1xuXHRcdFx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0ICAvL34gZm9yY2U6IHtcblx0XHRcdFx0XHQgIC8vfiBpdGVtU3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IG5vcm1hbDoge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBsaW5rU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiBzdHJva2VDb2xvcjogJyM0MDg4MjknXG5cdFx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdCAgLy9+IGNob3JkOiB7XG5cdFx0XHRcdFx0ICAvL34gcGFkZGluZzogNCxcblx0XHRcdFx0XHQgIC8vfiBpdGVtU3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IG5vcm1hbDoge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiB3aWR0aDogMSxcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSdcblx0XHRcdFx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0XHRcdFx0ICAvL34gY2hvcmRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgLy9+IGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAvL34gd2lkdGg6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSdcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdFx0XHQgIC8vfiBlbXBoYXNpczoge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiB3aWR0aDogMSxcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSdcblx0XHRcdFx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0XHRcdFx0ICAvL34gY2hvcmRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgLy9+IGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAvL34gd2lkdGg6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSdcblx0XHRcdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdCAgLy9+IGdhdWdlOiB7XG5cdFx0XHRcdFx0ICAvL34gc3RhcnRBbmdsZTogMjI1LFxuXHRcdFx0XHRcdCAgLy9+IGVuZEFuZ2xlOiAtNDUsXG5cdFx0XHRcdFx0ICAvL34gYXhpc0xpbmU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IHNob3c6IHRydWUsXG5cdFx0XHRcdFx0XHQgIC8vfiBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6IFtbMC4yLCAnIzg2YjM3OSddLCBbMC44LCAnIzY4YTU0YSddLCBbMSwgJyM0MDg4MjknXV0sXG5cdFx0XHRcdFx0XHRcdCAgLy9+IHdpZHRoOiA4XG5cdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0XHQgIC8vfiBheGlzVGljazoge1xuXHRcdFx0XHRcdFx0ICAvL34gc3BsaXROdW1iZXI6IDEwLFxuXHRcdFx0XHRcdFx0ICAvL34gbGVuZ3RoOiAxMixcblx0XHRcdFx0XHRcdCAgLy9+IGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJ2F1dG8nXG5cdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0XHQgIC8vfiBheGlzTGFiZWw6IHtcblx0XHRcdFx0XHRcdCAgLy9+IHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIC8vfiBjb2xvcjogJ2F1dG8nXG5cdFx0XHRcdFx0XHQgIC8vfiB9XG5cdFx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0XHQgIC8vfiBzcGxpdExpbmU6IHtcblx0XHRcdFx0XHRcdCAgLy9+IGxlbmd0aDogMTgsXG5cdFx0XHRcdFx0XHQgIC8vfiBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICdhdXRvJ1xuXHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdFx0ICAvL34gcG9pbnRlcjoge1xuXHRcdFx0XHRcdFx0ICAvL34gbGVuZ3RoOiAnOTAlJyxcblx0XHRcdFx0XHRcdCAgLy9+IGNvbG9yOiAnYXV0bydcblx0XHRcdFx0XHQgIC8vfiB9LFxuXHRcdFx0XHRcdCAgLy9+IHRpdGxlOiB7XG5cdFx0XHRcdFx0XHQgIC8vfiB0ZXh0U3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICcjMzMzJ1xuXHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdCAgLy9+IH0sXG5cdFx0XHRcdFx0ICAvL34gZGV0YWlsOiB7XG5cdFx0XHRcdFx0XHQgIC8vfiB0ZXh0U3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICAvL34gY29sb3I6ICdhdXRvJ1xuXHRcdFx0XHRcdFx0ICAvL34gfVxuXHRcdFx0XHRcdCAgLy9+IH1cblx0XHRcdFx0ICAvL34gfSxcblx0XHRcdFx0ICAvL34gdGV4dFN0eWxlOiB7XG5cdFx0XHRcdFx0ICAvL34gZm9udEZhbWlseTogJ0FyaWFsLCBWZXJkYW5hLCBzYW5zLXNlcmlmJ1xuXHRcdFx0XHQgIC8vfiB9XG5cdFx0XHQgIC8vfiB9O1xuIiwiLyohIGlDaGVjayB2MS4wLjIgYnkgRGFtaXIgU3VsdGFub3YsIGh0dHA6Ly9naXQuaW8vYXJsemVBLCBNSVQgTGljZW5zZWQgKi9cbihmdW5jdGlvbihmKXtmdW5jdGlvbiBBKGEsYixkKXt2YXIgYz1hWzBdLGc9L2VyLy50ZXN0KGQpP19pbmRldGVybWluYXRlOi9ibC8udGVzdChkKT9uOmssZT1kPT1fdXBkYXRlP3tjaGVja2VkOmNba10sZGlzYWJsZWQ6Y1tuXSxpbmRldGVybWluYXRlOlwidHJ1ZVwiPT1hLmF0dHIoX2luZGV0ZXJtaW5hdGUpfHxcImZhbHNlXCI9PWEuYXR0cihfZGV0ZXJtaW5hdGUpfTpjW2ddO2lmKC9eKGNofGRpfGluKS8udGVzdChkKSYmIWUpeChhLGcpO2Vsc2UgaWYoL14odW58ZW58ZGUpLy50ZXN0KGQpJiZlKXEoYSxnKTtlbHNlIGlmKGQ9PV91cGRhdGUpZm9yKHZhciBmIGluIGUpZVtmXT94KGEsZiwhMCk6cShhLGYsITApO2Vsc2UgaWYoIWJ8fFwidG9nZ2xlXCI9PWQpe2lmKCFiKWFbX2NhbGxiYWNrXShcImlmQ2xpY2tlZFwiKTtlP2NbX3R5cGVdIT09ciYmcShhLGcpOngoYSxnKX19ZnVuY3Rpb24geChhLGIsZCl7dmFyIGM9YVswXSxnPWEucGFyZW50KCksZT1iPT1rLHU9Yj09X2luZGV0ZXJtaW5hdGUsXG52PWI9PW4scz11P19kZXRlcm1pbmF0ZTplP3k6XCJlbmFibGVkXCIsRj1sKGEscyt0KGNbX3R5cGVdKSksQj1sKGEsYit0KGNbX3R5cGVdKSk7aWYoITAhPT1jW2JdKXtpZighZCYmYj09ayYmY1tfdHlwZV09PXImJmMubmFtZSl7dmFyIHc9YS5jbG9zZXN0KFwiZm9ybVwiKSxwPSdpbnB1dFtuYW1lPVwiJytjLm5hbWUrJ1wiXScscD13Lmxlbmd0aD93LmZpbmQocCk6ZihwKTtwLmVhY2goZnVuY3Rpb24oKXt0aGlzIT09YyYmZih0aGlzKS5kYXRhKG0pJiZxKGYodGhpcyksYil9KX11PyhjW2JdPSEwLGNba10mJnEoYSxrLFwiZm9yY2VcIikpOihkfHwoY1tiXT0hMCksZSYmY1tfaW5kZXRlcm1pbmF0ZV0mJnEoYSxfaW5kZXRlcm1pbmF0ZSwhMSkpO0QoYSxlLGIsZCl9Y1tuXSYmbChhLF9jdXJzb3IsITApJiZnLmZpbmQoXCIuXCIrQykuY3NzKF9jdXJzb3IsXCJkZWZhdWx0XCIpO2dbX2FkZF0oQnx8bChhLGIpfHxcIlwiKTtnLmF0dHIoXCJyb2xlXCIpJiYhdSYmZy5hdHRyKFwiYXJpYS1cIisodj9uOmspLFwidHJ1ZVwiKTtcbmdbX3JlbW92ZV0oRnx8bChhLHMpfHxcIlwiKX1mdW5jdGlvbiBxKGEsYixkKXt2YXIgYz1hWzBdLGc9YS5wYXJlbnQoKSxlPWI9PWssZj1iPT1faW5kZXRlcm1pbmF0ZSxtPWI9PW4scz1mP19kZXRlcm1pbmF0ZTplP3k6XCJlbmFibGVkXCIscT1sKGEscyt0KGNbX3R5cGVdKSkscj1sKGEsYit0KGNbX3R5cGVdKSk7aWYoITEhPT1jW2JdKXtpZihmfHwhZHx8XCJmb3JjZVwiPT1kKWNbYl09ITE7RChhLGUscyxkKX0hY1tuXSYmbChhLF9jdXJzb3IsITApJiZnLmZpbmQoXCIuXCIrQykuY3NzKF9jdXJzb3IsXCJwb2ludGVyXCIpO2dbX3JlbW92ZV0ocnx8bChhLGIpfHxcIlwiKTtnLmF0dHIoXCJyb2xlXCIpJiYhZiYmZy5hdHRyKFwiYXJpYS1cIisobT9uOmspLFwiZmFsc2VcIik7Z1tfYWRkXShxfHxsKGEscyl8fFwiXCIpfWZ1bmN0aW9uIEUoYSxiKXtpZihhLmRhdGEobSkpe2EucGFyZW50KCkuaHRtbChhLmF0dHIoXCJzdHlsZVwiLGEuZGF0YShtKS5zfHxcIlwiKSk7aWYoYilhW19jYWxsYmFja10oYik7YS5vZmYoXCIuaVwiKS51bndyYXAoKTtcbmYoX2xhYmVsKydbZm9yPVwiJythWzBdLmlkKydcIl0nKS5hZGQoYS5jbG9zZXN0KF9sYWJlbCkpLm9mZihcIi5pXCIpfX1mdW5jdGlvbiBsKGEsYixmKXtpZihhLmRhdGEobSkpcmV0dXJuIGEuZGF0YShtKS5vW2IrKGY/XCJcIjpcIkNsYXNzXCIpXX1mdW5jdGlvbiB0KGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSl9ZnVuY3Rpb24gRChhLGIsZixjKXtpZighYyl7aWYoYilhW19jYWxsYmFja10oXCJpZlRvZ2dsZWRcIik7YVtfY2FsbGJhY2tdKFwiaWZDaGFuZ2VkXCIpW19jYWxsYmFja10oXCJpZlwiK3QoZikpfX12YXIgbT1cImlDaGVja1wiLEM9bStcIi1oZWxwZXJcIixyPVwicmFkaW9cIixrPVwiY2hlY2tlZFwiLHk9XCJ1blwiK2ssbj1cImRpc2FibGVkXCI7X2RldGVybWluYXRlPVwiZGV0ZXJtaW5hdGVcIjtfaW5kZXRlcm1pbmF0ZT1cImluXCIrX2RldGVybWluYXRlO191cGRhdGU9XCJ1cGRhdGVcIjtfdHlwZT1cInR5cGVcIjtfY2xpY2s9XCJjbGlja1wiO190b3VjaD1cInRvdWNoYmVnaW4uaSB0b3VjaGVuZC5pXCI7XG5fYWRkPVwiYWRkQ2xhc3NcIjtfcmVtb3ZlPVwicmVtb3ZlQ2xhc3NcIjtfY2FsbGJhY2s9XCJ0cmlnZ2VyXCI7X2xhYmVsPVwibGFiZWxcIjtfY3Vyc29yPVwiY3Vyc29yXCI7X21vYmlsZT0vaXBhZHxpcGhvbmV8aXBvZHxhbmRyb2lkfGJsYWNrYmVycnl8d2luZG93cyBwaG9uZXxvcGVyYSBtaW5pfHNpbGsvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2YuZm5bbV09ZnVuY3Rpb24oYSxiKXt2YXIgZD0naW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLCBpbnB1dFt0eXBlPVwiJytyKydcIl0nLGM9ZigpLGc9ZnVuY3Rpb24oYSl7YS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9Zih0aGlzKTtjPWEuaXMoZCk/Yy5hZGQoYSk6Yy5hZGQoYS5maW5kKGQpKX0pfTtpZigvXihjaGVja3x1bmNoZWNrfHRvZ2dsZXxpbmRldGVybWluYXRlfGRldGVybWluYXRlfGRpc2FibGV8ZW5hYmxlfHVwZGF0ZXxkZXN0cm95KSQvaS50ZXN0KGEpKXJldHVybiBhPWEudG9Mb3dlckNhc2UoKSxnKHRoaXMpLGMuZWFjaChmdW5jdGlvbigpe3ZhciBjPVxuZih0aGlzKTtcImRlc3Ryb3lcIj09YT9FKGMsXCJpZkRlc3Ryb3llZFwiKTpBKGMsITAsYSk7Zi5pc0Z1bmN0aW9uKGIpJiZiKCl9KTtpZihcIm9iamVjdFwiIT10eXBlb2YgYSYmYSlyZXR1cm4gdGhpczt2YXIgZT1mLmV4dGVuZCh7Y2hlY2tlZENsYXNzOmssZGlzYWJsZWRDbGFzczpuLGluZGV0ZXJtaW5hdGVDbGFzczpfaW5kZXRlcm1pbmF0ZSxsYWJlbEhvdmVyOiEwfSxhKSxsPWUuaGFuZGxlLHY9ZS5ob3ZlckNsYXNzfHxcImhvdmVyXCIscz1lLmZvY3VzQ2xhc3N8fFwiZm9jdXNcIix0PWUuYWN0aXZlQ2xhc3N8fFwiYWN0aXZlXCIsQj0hIWUubGFiZWxIb3Zlcix3PWUubGFiZWxIb3ZlckNsYXNzfHxcImhvdmVyXCIscD0oXCJcIitlLmluY3JlYXNlQXJlYSkucmVwbGFjZShcIiVcIixcIlwiKXwwO2lmKFwiY2hlY2tib3hcIj09bHx8bD09cilkPSdpbnB1dFt0eXBlPVwiJytsKydcIl0nOy01MD5wJiYocD0tNTApO2codGhpcyk7cmV0dXJuIGMuZWFjaChmdW5jdGlvbigpe3ZhciBhPWYodGhpcyk7RShhKTt2YXIgYz10aGlzLFxuYj1jLmlkLGc9LXArXCIlXCIsZD0xMDArMipwK1wiJVwiLGQ9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6ZyxsZWZ0OmcsZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6ZCxoZWlnaHQ6ZCxtYXJnaW46MCxwYWRkaW5nOjAsYmFja2dyb3VuZDpcIiNmZmZcIixib3JkZXI6MCxvcGFjaXR5OjB9LGc9X21vYmlsZT97cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIn06cD9kOntwb3NpdGlvbjpcImFic29sdXRlXCIsb3BhY2l0eTowfSxsPVwiY2hlY2tib3hcIj09Y1tfdHlwZV0/ZS5jaGVja2JveENsYXNzfHxcImljaGVja2JveFwiOmUucmFkaW9DbGFzc3x8XCJpXCIrcix6PWYoX2xhYmVsKydbZm9yPVwiJytiKydcIl0nKS5hZGQoYS5jbG9zZXN0KF9sYWJlbCkpLHU9ISFlLmFyaWEseT1tK1wiLVwiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLDYpLGg9JzxkaXYgY2xhc3M9XCInK2wrJ1wiICcrKHU/J3JvbGU9XCInK2NbX3R5cGVdKydcIiAnOlwiXCIpO3UmJnouZWFjaChmdW5jdGlvbigpe2grPVxuJ2FyaWEtbGFiZWxsZWRieT1cIic7dGhpcy5pZD9oKz10aGlzLmlkOih0aGlzLmlkPXksaCs9eSk7aCs9J1wiJ30pO2g9YS53cmFwKGgrXCIvPlwiKVtfY2FsbGJhY2tdKFwiaWZDcmVhdGVkXCIpLnBhcmVudCgpLmFwcGVuZChlLmluc2VydCk7ZD1mKCc8aW5zIGNsYXNzPVwiJytDKydcIi8+JykuY3NzKGQpLmFwcGVuZFRvKGgpO2EuZGF0YShtLHtvOmUsczphLmF0dHIoXCJzdHlsZVwiKX0pLmNzcyhnKTtlLmluaGVyaXRDbGFzcyYmaFtfYWRkXShjLmNsYXNzTmFtZXx8XCJcIik7ZS5pbmhlcml0SUQmJmImJmguYXR0cihcImlkXCIsbStcIi1cIitiKTtcInN0YXRpY1wiPT1oLmNzcyhcInBvc2l0aW9uXCIpJiZoLmNzcyhcInBvc2l0aW9uXCIsXCJyZWxhdGl2ZVwiKTtBKGEsITAsX3VwZGF0ZSk7aWYoei5sZW5ndGgpei5vbihfY2xpY2srXCIuaSBtb3VzZW92ZXIuaSBtb3VzZW91dC5pIFwiK190b3VjaCxmdW5jdGlvbihiKXt2YXIgZD1iW190eXBlXSxlPWYodGhpcyk7aWYoIWNbbl0pe2lmKGQ9PV9jbGljayl7aWYoZihiLnRhcmdldCkuaXMoXCJhXCIpKXJldHVybjtcbkEoYSwhMSwhMCl9ZWxzZSBCJiYoL3V0fG5kLy50ZXN0KGQpPyhoW19yZW1vdmVdKHYpLGVbX3JlbW92ZV0odykpOihoW19hZGRdKHYpLGVbX2FkZF0odykpKTtpZihfbW9iaWxlKWIuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSByZXR1cm4hMX19KTthLm9uKF9jbGljaytcIi5pIGZvY3VzLmkgYmx1ci5pIGtleXVwLmkga2V5ZG93bi5pIGtleXByZXNzLmlcIixmdW5jdGlvbihiKXt2YXIgZD1iW190eXBlXTtiPWIua2V5Q29kZTtpZihkPT1fY2xpY2spcmV0dXJuITE7aWYoXCJrZXlkb3duXCI9PWQmJjMyPT1iKXJldHVybiBjW190eXBlXT09ciYmY1trXXx8KGNba10/cShhLGspOngoYSxrKSksITE7aWYoXCJrZXl1cFwiPT1kJiZjW190eXBlXT09cikhY1trXSYmeChhLGspO2Vsc2UgaWYoL3VzfHVyLy50ZXN0KGQpKWhbXCJibHVyXCI9PWQ/X3JlbW92ZTpfYWRkXShzKX0pO2Qub24oX2NsaWNrK1wiIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBcIitfdG91Y2gsZnVuY3Rpb24oYil7dmFyIGQ9XG5iW190eXBlXSxlPS93bnx1cC8udGVzdChkKT90OnY7aWYoIWNbbl0pe2lmKGQ9PV9jbGljaylBKGEsITEsITApO2Vsc2V7aWYoL3dufGVyfGluLy50ZXN0KGQpKWhbX2FkZF0oZSk7ZWxzZSBoW19yZW1vdmVdKGUrXCIgXCIrdCk7aWYoei5sZW5ndGgmJkImJmU9PXYpelsvdXR8bmQvLnRlc3QoZCk/X3JlbW92ZTpfYWRkXSh3KX1pZihfbW9iaWxlKWIuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSByZXR1cm4hMX19KX0pfX0pKHdpbmRvdy5qUXVlcnl8fHdpbmRvdy5aZXB0byk7XG4iLCIoZnVuY3Rpb24oKXtmdW5jdGlvbiByZXF1aXJlKG5hbWUpe3ZhciBtb2R1bGU9cmVxdWlyZS5tb2R1bGVzW25hbWVdO2lmKCFtb2R1bGUpdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gcmVxdWlyZSBcIicrbmFtZSsnXCInKTtpZighKFwiZXhwb3J0c1wiaW4gbW9kdWxlKSYmdHlwZW9mIG1vZHVsZS5kZWZpbml0aW9uPT09XCJmdW5jdGlvblwiKXttb2R1bGUuY2xpZW50PW1vZHVsZS5jb21wb25lbnQ9dHJ1ZTttb2R1bGUuZGVmaW5pdGlvbi5jYWxsKHRoaXMsbW9kdWxlLmV4cG9ydHM9e30sbW9kdWxlKTtkZWxldGUgbW9kdWxlLmRlZmluaXRpb259cmV0dXJuIG1vZHVsZS5leHBvcnRzfXJlcXVpcmUubG9hZGVyPVwiY29tcG9uZW50XCI7cmVxdWlyZS5oZWxwZXI9e307cmVxdWlyZS5oZWxwZXIuc2VtVmVyU29ydD1mdW5jdGlvbihhLGIpe3ZhciBhQXJyYXk9YS52ZXJzaW9uLnNwbGl0KFwiLlwiKTt2YXIgYkFycmF5PWIudmVyc2lvbi5zcGxpdChcIi5cIik7Zm9yKHZhciBpPTA7aTxhQXJyYXkubGVuZ3RoOysraSl7dmFyIGFJbnQ9cGFyc2VJbnQoYUFycmF5W2ldLDEwKTt2YXIgYkludD1wYXJzZUludChiQXJyYXlbaV0sMTApO2lmKGFJbnQ9PT1iSW50KXt2YXIgYUxleD1hQXJyYXlbaV0uc3Vic3RyKChcIlwiK2FJbnQpLmxlbmd0aCk7dmFyIGJMZXg9YkFycmF5W2ldLnN1YnN0cigoXCJcIitiSW50KS5sZW5ndGgpO2lmKGFMZXg9PT1cIlwiJiZiTGV4IT09XCJcIilyZXR1cm4gMTtpZihhTGV4IT09XCJcIiYmYkxleD09PVwiXCIpcmV0dXJuLTE7aWYoYUxleCE9PVwiXCImJmJMZXghPT1cIlwiKXJldHVybiBhTGV4PmJMZXg/MTotMTtjb250aW51ZX1lbHNlIGlmKGFJbnQ+YkludCl7cmV0dXJuIDF9ZWxzZXtyZXR1cm4tMX19cmV0dXJuIDB9O3JlcXVpcmUubGF0ZXN0PWZ1bmN0aW9uKG5hbWUscmV0dXJuUGF0aCl7ZnVuY3Rpb24gc2hvd0Vycm9yKG5hbWUpe3Rocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGZpbmQgbGF0ZXN0IG1vZHVsZSBvZiBcIicrbmFtZSsnXCInKX12YXIgdmVyc2lvblJlZ2V4cD0vKC4qKX4oLiopQHY/KFxcZCtcXC5cXGQrXFwuXFxkK1teXFwvXSopJC87dmFyIHJlbW90ZVJlZ2V4cD0vKC4qKX4oLiopLztpZighcmVtb3RlUmVnZXhwLnRlc3QobmFtZSkpc2hvd0Vycm9yKG5hbWUpO3ZhciBtb2R1bGVOYW1lcz1PYmplY3Qua2V5cyhyZXF1aXJlLm1vZHVsZXMpO3ZhciBzZW1WZXJDYW5kaWRhdGVzPVtdO3ZhciBvdGhlckNhbmRpZGF0ZXM9W107Zm9yKHZhciBpPTA7aTxtb2R1bGVOYW1lcy5sZW5ndGg7aSsrKXt2YXIgbW9kdWxlTmFtZT1tb2R1bGVOYW1lc1tpXTtpZihuZXcgUmVnRXhwKG5hbWUrXCJAXCIpLnRlc3QobW9kdWxlTmFtZSkpe3ZhciB2ZXJzaW9uPW1vZHVsZU5hbWUuc3Vic3RyKG5hbWUubGVuZ3RoKzEpO3ZhciBzZW1WZXJNYXRjaD12ZXJzaW9uUmVnZXhwLmV4ZWMobW9kdWxlTmFtZSk7aWYoc2VtVmVyTWF0Y2ghPW51bGwpe3NlbVZlckNhbmRpZGF0ZXMucHVzaCh7dmVyc2lvbjp2ZXJzaW9uLG5hbWU6bW9kdWxlTmFtZX0pfWVsc2V7b3RoZXJDYW5kaWRhdGVzLnB1c2goe3ZlcnNpb246dmVyc2lvbixuYW1lOm1vZHVsZU5hbWV9KX19fWlmKHNlbVZlckNhbmRpZGF0ZXMuY29uY2F0KG90aGVyQ2FuZGlkYXRlcykubGVuZ3RoPT09MCl7c2hvd0Vycm9yKG5hbWUpfWlmKHNlbVZlckNhbmRpZGF0ZXMubGVuZ3RoPjApe3ZhciBtb2R1bGU9c2VtVmVyQ2FuZGlkYXRlcy5zb3J0KHJlcXVpcmUuaGVscGVyLnNlbVZlclNvcnQpLnBvcCgpLm5hbWU7aWYocmV0dXJuUGF0aD09PXRydWUpe3JldHVybiBtb2R1bGV9cmV0dXJuIHJlcXVpcmUobW9kdWxlKX12YXIgbW9kdWxlPW90aGVyQ2FuZGlkYXRlcy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubmFtZT5iLm5hbWV9KVswXS5uYW1lO2lmKHJldHVyblBhdGg9PT10cnVlKXtyZXR1cm4gbW9kdWxlfXJldHVybiByZXF1aXJlKG1vZHVsZSl9O3JlcXVpcmUubW9kdWxlcz17fTtyZXF1aXJlLnJlZ2lzdGVyPWZ1bmN0aW9uKG5hbWUsZGVmaW5pdGlvbil7cmVxdWlyZS5tb2R1bGVzW25hbWVdPXtkZWZpbml0aW9uOmRlZmluaXRpb259fTtyZXF1aXJlLmRlZmluZT1mdW5jdGlvbihuYW1lLGV4cG9ydHMpe3JlcXVpcmUubW9kdWxlc1tuYW1lXT17ZXhwb3J0czpleHBvcnRzfX07cmVxdWlyZS5yZWdpc3RlcihcImFicGV0a292fnRyYW5zaXRpb25pemVAMC4wLjNcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9VHJhbnNpdGlvbml6ZTtmdW5jdGlvbiBUcmFuc2l0aW9uaXplKGVsZW1lbnQscHJvcHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zaXRpb25pemUpKXJldHVybiBuZXcgVHJhbnNpdGlvbml6ZShlbGVtZW50LHByb3BzKTt0aGlzLmVsZW1lbnQ9ZWxlbWVudDt0aGlzLnByb3BzPXByb3BzfHx7fTt0aGlzLmluaXQoKX1UcmFuc2l0aW9uaXplLnByb3RvdHlwZS5pc1NhZmFyaT1mdW5jdGlvbigpe3JldHVybi9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJi9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKX07VHJhbnNpdGlvbml6ZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0cmFuc2l0aW9ucz1bXTtmb3IodmFyIGtleSBpbiB0aGlzLnByb3BzKXt0cmFuc2l0aW9ucy5wdXNoKGtleStcIiBcIit0aGlzLnByb3BzW2tleV0pfXRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPXRyYW5zaXRpb25zLmpvaW4oXCIsIFwiKTtpZih0aGlzLmlzU2FmYXJpKCkpdGhpcy5lbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zaXRpb249dHJhbnNpdGlvbnMuam9pbihcIiwgXCIpfX0pO3JlcXVpcmUucmVnaXN0ZXIoXCJmdGxhYnN+ZmFzdGNsaWNrQHYwLjYuMTFcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7ZnVuY3Rpb24gRmFzdENsaWNrKGxheWVyKXtcInVzZSBzdHJpY3RcIjt2YXIgb2xkT25DbGljayxzZWxmPXRoaXM7dGhpcy50cmFja2luZ0NsaWNrPWZhbHNlO3RoaXMudHJhY2tpbmdDbGlja1N0YXJ0PTA7dGhpcy50YXJnZXRFbGVtZW50PW51bGw7dGhpcy50b3VjaFN0YXJ0WD0wO3RoaXMudG91Y2hTdGFydFk9MDt0aGlzLmxhc3RUb3VjaElkZW50aWZpZXI9MDt0aGlzLnRvdWNoQm91bmRhcnk9MTA7dGhpcy5sYXllcj1sYXllcjtpZighbGF5ZXJ8fCFsYXllci5ub2RlVHlwZSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkxheWVyIG11c3QgYmUgYSBkb2N1bWVudCBub2RlXCIpfXRoaXMub25DbGljaz1mdW5jdGlvbigpe3JldHVybiBGYXN0Q2xpY2sucHJvdG90eXBlLm9uQ2xpY2suYXBwbHkoc2VsZixhcmd1bWVudHMpfTt0aGlzLm9uTW91c2U9ZnVuY3Rpb24oKXtyZXR1cm4gRmFzdENsaWNrLnByb3RvdHlwZS5vbk1vdXNlLmFwcGx5KHNlbGYsYXJndW1lbnRzKX07dGhpcy5vblRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gRmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoU3RhcnQuYXBwbHkoc2VsZixhcmd1bWVudHMpfTt0aGlzLm9uVG91Y2hNb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIEZhc3RDbGljay5wcm90b3R5cGUub25Ub3VjaE1vdmUuYXBwbHkoc2VsZixhcmd1bWVudHMpfTt0aGlzLm9uVG91Y2hFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gRmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoRW5kLmFwcGx5KHNlbGYsYXJndW1lbnRzKX07dGhpcy5vblRvdWNoQ2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIEZhc3RDbGljay5wcm90b3R5cGUub25Ub3VjaENhbmNlbC5hcHBseShzZWxmLGFyZ3VtZW50cyl9O2lmKEZhc3RDbGljay5ub3ROZWVkZWQobGF5ZXIpKXtyZXR1cm59aWYodGhpcy5kZXZpY2VJc0FuZHJvaWQpe2xheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIix0aGlzLm9uTW91c2UsdHJ1ZSk7bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25Nb3VzZSx0cnVlKTtsYXllci5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMub25Nb3VzZSx0cnVlKX1sYXllci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2ssdHJ1ZSk7bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uVG91Y2hTdGFydCxmYWxzZSk7bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMub25Ub3VjaE1vdmUsZmFsc2UpO2xheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMub25Ub3VjaEVuZCxmYWxzZSk7bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5vblRvdWNoQ2FuY2VsLGZhbHNlKTtpZighRXZlbnQucHJvdG90eXBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbil7bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGNhbGxiYWNrLGNhcHR1cmUpe3ZhciBybXY9Tm9kZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjtpZih0eXBlPT09XCJjbGlja1wiKXtybXYuY2FsbChsYXllcix0eXBlLGNhbGxiYWNrLmhpamFja2VkfHxjYWxsYmFjayxjYXB0dXJlKX1lbHNle3Jtdi5jYWxsKGxheWVyLHR5cGUsY2FsbGJhY2ssY2FwdHVyZSl9fTtsYXllci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsY2FsbGJhY2ssY2FwdHVyZSl7dmFyIGFkdj1Ob2RlLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyO2lmKHR5cGU9PT1cImNsaWNrXCIpe2Fkdi5jYWxsKGxheWVyLHR5cGUsY2FsbGJhY2suaGlqYWNrZWR8fChjYWxsYmFjay5oaWphY2tlZD1mdW5jdGlvbihldmVudCl7aWYoIWV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCl7Y2FsbGJhY2soZXZlbnQpfX0pLGNhcHR1cmUpfWVsc2V7YWR2LmNhbGwobGF5ZXIsdHlwZSxjYWxsYmFjayxjYXB0dXJlKX19fWlmKHR5cGVvZiBsYXllci5vbmNsaWNrPT09XCJmdW5jdGlvblwiKXtvbGRPbkNsaWNrPWxheWVyLm9uY2xpY2s7bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZXZlbnQpe29sZE9uQ2xpY2soZXZlbnQpfSxmYWxzZSk7bGF5ZXIub25jbGljaz1udWxsfX1GYXN0Q2xpY2sucHJvdG90eXBlLmRldmljZUlzQW5kcm9pZD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpPjA7RmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0lPUz0vaVAoYWR8aG9uZXxvZCkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7RmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0lPUzQ9RmFzdENsaWNrLnByb3RvdHlwZS5kZXZpY2VJc0lPUyYmL09TIDRfXFxkKF9cXGQpPy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtGYXN0Q2xpY2sucHJvdG90eXBlLmRldmljZUlzSU9TV2l0aEJhZFRhcmdldD1GYXN0Q2xpY2sucHJvdG90eXBlLmRldmljZUlzSU9TJiYvT1MgKFs2LTldfFxcZHsyfSlfXFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO0Zhc3RDbGljay5wcm90b3R5cGUubmVlZHNDbGljaz1mdW5jdGlvbih0YXJnZXQpe1widXNlIHN0cmljdFwiO3N3aXRjaCh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiYnV0dG9uXCI6Y2FzZVwic2VsZWN0XCI6Y2FzZVwidGV4dGFyZWFcIjppZih0YXJnZXQuZGlzYWJsZWQpe3JldHVybiB0cnVlfWJyZWFrO2Nhc2VcImlucHV0XCI6aWYodGhpcy5kZXZpY2VJc0lPUyYmdGFyZ2V0LnR5cGU9PT1cImZpbGVcInx8dGFyZ2V0LmRpc2FibGVkKXtyZXR1cm4gdHJ1ZX1icmVhaztjYXNlXCJsYWJlbFwiOmNhc2VcInZpZGVvXCI6cmV0dXJuIHRydWV9cmV0dXJuL1xcYm5lZWRzY2xpY2tcXGIvLnRlc3QodGFyZ2V0LmNsYXNzTmFtZSl9O0Zhc3RDbGljay5wcm90b3R5cGUubmVlZHNGb2N1cz1mdW5jdGlvbih0YXJnZXQpe1widXNlIHN0cmljdFwiO3N3aXRjaCh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwidGV4dGFyZWFcIjpyZXR1cm4gdHJ1ZTtjYXNlXCJzZWxlY3RcIjpyZXR1cm4hdGhpcy5kZXZpY2VJc0FuZHJvaWQ7Y2FzZVwiaW5wdXRcIjpzd2l0Y2godGFyZ2V0LnR5cGUpe2Nhc2VcImJ1dHRvblwiOmNhc2VcImNoZWNrYm94XCI6Y2FzZVwiZmlsZVwiOmNhc2VcImltYWdlXCI6Y2FzZVwicmFkaW9cIjpjYXNlXCJzdWJtaXRcIjpyZXR1cm4gZmFsc2V9cmV0dXJuIXRhcmdldC5kaXNhYmxlZCYmIXRhcmdldC5yZWFkT25seTtkZWZhdWx0OnJldHVybi9cXGJuZWVkc2ZvY3VzXFxiLy50ZXN0KHRhcmdldC5jbGFzc05hbWUpfX07RmFzdENsaWNrLnByb3RvdHlwZS5zZW5kQ2xpY2s9ZnVuY3Rpb24odGFyZ2V0RWxlbWVudCxldmVudCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGNsaWNrRXZlbnQsdG91Y2g7aWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXRhcmdldEVsZW1lbnQpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpfXRvdWNoPWV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO2NsaWNrRXZlbnQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtjbGlja0V2ZW50LmluaXRNb3VzZUV2ZW50KHRoaXMuZGV0ZXJtaW5lRXZlbnRUeXBlKHRhcmdldEVsZW1lbnQpLHRydWUsdHJ1ZSx3aW5kb3csMSx0b3VjaC5zY3JlZW5YLHRvdWNoLnNjcmVlblksdG91Y2guY2xpZW50WCx0b3VjaC5jbGllbnRZLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLDAsbnVsbCk7Y2xpY2tFdmVudC5mb3J3YXJkZWRUb3VjaEV2ZW50PXRydWU7dGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpfTtGYXN0Q2xpY2sucHJvdG90eXBlLmRldGVybWluZUV2ZW50VHlwZT1mdW5jdGlvbih0YXJnZXRFbGVtZW50KXtcInVzZSBzdHJpY3RcIjtpZih0aGlzLmRldmljZUlzQW5kcm9pZCYmdGFyZ2V0RWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1cInNlbGVjdFwiKXtyZXR1cm5cIm1vdXNlZG93blwifXJldHVyblwiY2xpY2tcIn07RmFzdENsaWNrLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbih0YXJnZXRFbGVtZW50KXtcInVzZSBzdHJpY3RcIjt2YXIgbGVuZ3RoO2lmKHRoaXMuZGV2aWNlSXNJT1MmJnRhcmdldEVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UmJnRhcmdldEVsZW1lbnQudHlwZS5pbmRleE9mKFwiZGF0ZVwiKSE9PTAmJnRhcmdldEVsZW1lbnQudHlwZSE9PVwidGltZVwiKXtsZW5ndGg9dGFyZ2V0RWxlbWVudC52YWx1ZS5sZW5ndGg7dGFyZ2V0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZShsZW5ndGgsbGVuZ3RoKX1lbHNle3RhcmdldEVsZW1lbnQuZm9jdXMoKX19O0Zhc3RDbGljay5wcm90b3R5cGUudXBkYXRlU2Nyb2xsUGFyZW50PWZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpe1widXNlIHN0cmljdFwiO3ZhciBzY3JvbGxQYXJlbnQscGFyZW50RWxlbWVudDtzY3JvbGxQYXJlbnQ9dGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQ7aWYoIXNjcm9sbFBhcmVudHx8IXNjcm9sbFBhcmVudC5jb250YWlucyh0YXJnZXRFbGVtZW50KSl7cGFyZW50RWxlbWVudD10YXJnZXRFbGVtZW50O2Rve2lmKHBhcmVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KXtzY3JvbGxQYXJlbnQ9cGFyZW50RWxlbWVudDt0YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudD1wYXJlbnRFbGVtZW50O2JyZWFrfXBhcmVudEVsZW1lbnQ9cGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50fXdoaWxlKHBhcmVudEVsZW1lbnQpfWlmKHNjcm9sbFBhcmVudCl7c2Nyb2xsUGFyZW50LmZhc3RDbGlja0xhc3RTY3JvbGxUb3A9c2Nyb2xsUGFyZW50LnNjcm9sbFRvcH19O0Zhc3RDbGljay5wcm90b3R5cGUuZ2V0VGFyZ2V0RWxlbWVudEZyb21FdmVudFRhcmdldD1mdW5jdGlvbihldmVudFRhcmdldCl7XCJ1c2Ugc3RyaWN0XCI7aWYoZXZlbnRUYXJnZXQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7cmV0dXJuIGV2ZW50VGFyZ2V0LnBhcmVudE5vZGV9cmV0dXJuIGV2ZW50VGFyZ2V0fTtGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hTdGFydD1mdW5jdGlvbihldmVudCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHRhcmdldEVsZW1lbnQsdG91Y2gsc2VsZWN0aW9uO2lmKGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoPjEpe3JldHVybiB0cnVlfXRhcmdldEVsZW1lbnQ9dGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCk7dG91Y2g9ZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtpZih0aGlzLmRldmljZUlzSU9TKXtzZWxlY3Rpb249d2luZG93LmdldFNlbGVjdGlvbigpO2lmKHNlbGVjdGlvbi5yYW5nZUNvdW50JiYhc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXtyZXR1cm4gdHJ1ZX1pZighdGhpcy5kZXZpY2VJc0lPUzQpe2lmKHRvdWNoLmlkZW50aWZpZXI9PT10aGlzLmxhc3RUb3VjaElkZW50aWZpZXIpe2V2ZW50LnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGZhbHNlfXRoaXMubGFzdFRvdWNoSWRlbnRpZmllcj10b3VjaC5pZGVudGlmaWVyO3RoaXMudXBkYXRlU2Nyb2xsUGFyZW50KHRhcmdldEVsZW1lbnQpfX10aGlzLnRyYWNraW5nQ2xpY2s9dHJ1ZTt0aGlzLnRyYWNraW5nQ2xpY2tTdGFydD1ldmVudC50aW1lU3RhbXA7dGhpcy50YXJnZXRFbGVtZW50PXRhcmdldEVsZW1lbnQ7dGhpcy50b3VjaFN0YXJ0WD10b3VjaC5wYWdlWDt0aGlzLnRvdWNoU3RhcnRZPXRvdWNoLnBhZ2VZO2lmKGV2ZW50LnRpbWVTdGFtcC10aGlzLmxhc3RDbGlja1RpbWU8MjAwKXtldmVudC5wcmV2ZW50RGVmYXVsdCgpfXJldHVybiB0cnVlfTtGYXN0Q2xpY2sucHJvdG90eXBlLnRvdWNoSGFzTW92ZWQ9ZnVuY3Rpb24oZXZlbnQpe1widXNlIHN0cmljdFwiO3ZhciB0b3VjaD1ldmVudC5jaGFuZ2VkVG91Y2hlc1swXSxib3VuZGFyeT10aGlzLnRvdWNoQm91bmRhcnk7aWYoTWF0aC5hYnModG91Y2gucGFnZVgtdGhpcy50b3VjaFN0YXJ0WCk+Ym91bmRhcnl8fE1hdGguYWJzKHRvdWNoLnBhZ2VZLXRoaXMudG91Y2hTdGFydFkpPmJvdW5kYXJ5KXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9O0Zhc3RDbGljay5wcm90b3R5cGUub25Ub3VjaE1vdmU9ZnVuY3Rpb24oZXZlbnQpe1widXNlIHN0cmljdFwiO2lmKCF0aGlzLnRyYWNraW5nQ2xpY2spe3JldHVybiB0cnVlfWlmKHRoaXMudGFyZ2V0RWxlbWVudCE9PXRoaXMuZ2V0VGFyZ2V0RWxlbWVudEZyb21FdmVudFRhcmdldChldmVudC50YXJnZXQpfHx0aGlzLnRvdWNoSGFzTW92ZWQoZXZlbnQpKXt0aGlzLnRyYWNraW5nQ2xpY2s9ZmFsc2U7dGhpcy50YXJnZXRFbGVtZW50PW51bGx9cmV0dXJuIHRydWV9O0Zhc3RDbGljay5wcm90b3R5cGUuZmluZENvbnRyb2w9ZnVuY3Rpb24obGFiZWxFbGVtZW50KXtcInVzZSBzdHJpY3RcIjtpZihsYWJlbEVsZW1lbnQuY29udHJvbCE9PXVuZGVmaW5lZCl7cmV0dXJuIGxhYmVsRWxlbWVudC5jb250cm9sfWlmKGxhYmVsRWxlbWVudC5odG1sRm9yKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGFiZWxFbGVtZW50Lmh0bWxGb3IpfXJldHVybiBsYWJlbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImJ1dHRvbiwgaW5wdXQ6bm90KFt0eXBlPWhpZGRlbl0pLCBrZXlnZW4sIG1ldGVyLCBvdXRwdXQsIHByb2dyZXNzLCBzZWxlY3QsIHRleHRhcmVhXCIpfTtGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hFbmQ9ZnVuY3Rpb24oZXZlbnQpe1widXNlIHN0cmljdFwiO3ZhciBmb3JFbGVtZW50LHRyYWNraW5nQ2xpY2tTdGFydCx0YXJnZXRUYWdOYW1lLHNjcm9sbFBhcmVudCx0b3VjaCx0YXJnZXRFbGVtZW50PXRoaXMudGFyZ2V0RWxlbWVudDtpZighdGhpcy50cmFja2luZ0NsaWNrKXtyZXR1cm4gdHJ1ZX1pZihldmVudC50aW1lU3RhbXAtdGhpcy5sYXN0Q2xpY2tUaW1lPDIwMCl7dGhpcy5jYW5jZWxOZXh0Q2xpY2s9dHJ1ZTtyZXR1cm4gdHJ1ZX10aGlzLmNhbmNlbE5leHRDbGljaz1mYWxzZTt0aGlzLmxhc3RDbGlja1RpbWU9ZXZlbnQudGltZVN0YW1wO3RyYWNraW5nQ2xpY2tTdGFydD10aGlzLnRyYWNraW5nQ2xpY2tTdGFydDt0aGlzLnRyYWNraW5nQ2xpY2s9ZmFsc2U7dGhpcy50cmFja2luZ0NsaWNrU3RhcnQ9MDtpZih0aGlzLmRldmljZUlzSU9TV2l0aEJhZFRhcmdldCl7dG91Y2g9ZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07dGFyZ2V0RWxlbWVudD1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCx0b3VjaC5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpfHx0YXJnZXRFbGVtZW50O3RhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50PXRoaXMudGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnR9dGFyZ2V0VGFnTmFtZT10YXJnZXRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZih0YXJnZXRUYWdOYW1lPT09XCJsYWJlbFwiKXtmb3JFbGVtZW50PXRoaXMuZmluZENvbnRyb2wodGFyZ2V0RWxlbWVudCk7aWYoZm9yRWxlbWVudCl7dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtpZih0aGlzLmRldmljZUlzQW5kcm9pZCl7cmV0dXJuIGZhbHNlfXRhcmdldEVsZW1lbnQ9Zm9yRWxlbWVudH19ZWxzZSBpZih0aGlzLm5lZWRzRm9jdXModGFyZ2V0RWxlbWVudCkpe2lmKGV2ZW50LnRpbWVTdGFtcC10cmFja2luZ0NsaWNrU3RhcnQ+MTAwfHx0aGlzLmRldmljZUlzSU9TJiZ3aW5kb3cudG9wIT09d2luZG93JiZ0YXJnZXRUYWdOYW1lPT09XCJpbnB1dFwiKXt0aGlzLnRhcmdldEVsZW1lbnQ9bnVsbDtyZXR1cm4gZmFsc2V9dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtpZighdGhpcy5kZXZpY2VJc0lPUzR8fHRhcmdldFRhZ05hbWUhPT1cInNlbGVjdFwiKXt0aGlzLnRhcmdldEVsZW1lbnQ9bnVsbDtldmVudC5wcmV2ZW50RGVmYXVsdCgpfXJldHVybiBmYWxzZX1pZih0aGlzLmRldmljZUlzSU9TJiYhdGhpcy5kZXZpY2VJc0lPUzQpe3Njcm9sbFBhcmVudD10YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudDtpZihzY3JvbGxQYXJlbnQmJnNjcm9sbFBhcmVudC5mYXN0Q2xpY2tMYXN0U2Nyb2xsVG9wIT09c2Nyb2xsUGFyZW50LnNjcm9sbFRvcCl7cmV0dXJuIHRydWV9fWlmKCF0aGlzLm5lZWRzQ2xpY2sodGFyZ2V0RWxlbWVudCkpe2V2ZW50LnByZXZlbnREZWZhdWx0KCk7dGhpcy5zZW5kQ2xpY2sodGFyZ2V0RWxlbWVudCxldmVudCl9cmV0dXJuIGZhbHNlfTtGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hDYW5jZWw9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0aGlzLnRyYWNraW5nQ2xpY2s9ZmFsc2U7dGhpcy50YXJnZXRFbGVtZW50PW51bGx9O0Zhc3RDbGljay5wcm90b3R5cGUub25Nb3VzZT1mdW5jdGlvbihldmVudCl7XCJ1c2Ugc3RyaWN0XCI7aWYoIXRoaXMudGFyZ2V0RWxlbWVudCl7cmV0dXJuIHRydWV9aWYoZXZlbnQuZm9yd2FyZGVkVG91Y2hFdmVudCl7cmV0dXJuIHRydWV9aWYoIWV2ZW50LmNhbmNlbGFibGUpe3JldHVybiB0cnVlfWlmKCF0aGlzLm5lZWRzQ2xpY2sodGhpcy50YXJnZXRFbGVtZW50KXx8dGhpcy5jYW5jZWxOZXh0Q2xpY2spe2lmKGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbil7ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9ZWxzZXtldmVudC5wcm9wYWdhdGlvblN0b3BwZWQ9dHJ1ZX1ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtldmVudC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX07RmFzdENsaWNrLnByb3RvdHlwZS5vbkNsaWNrPWZ1bmN0aW9uKGV2ZW50KXtcInVzZSBzdHJpY3RcIjt2YXIgcGVybWl0dGVkO2lmKHRoaXMudHJhY2tpbmdDbGljayl7dGhpcy50YXJnZXRFbGVtZW50PW51bGw7dGhpcy50cmFja2luZ0NsaWNrPWZhbHNlO3JldHVybiB0cnVlfWlmKGV2ZW50LnRhcmdldC50eXBlPT09XCJzdWJtaXRcIiYmZXZlbnQuZGV0YWlsPT09MCl7cmV0dXJuIHRydWV9cGVybWl0dGVkPXRoaXMub25Nb3VzZShldmVudCk7aWYoIXBlcm1pdHRlZCl7dGhpcy50YXJnZXRFbGVtZW50PW51bGx9cmV0dXJuIHBlcm1pdHRlZH07RmFzdENsaWNrLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGxheWVyPXRoaXMubGF5ZXI7aWYodGhpcy5kZXZpY2VJc0FuZHJvaWQpe2xheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIix0aGlzLm9uTW91c2UsdHJ1ZSk7bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25Nb3VzZSx0cnVlKTtsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMub25Nb3VzZSx0cnVlKX1sYXllci5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2ssdHJ1ZSk7bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uVG91Y2hTdGFydCxmYWxzZSk7bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMub25Ub3VjaE1vdmUsZmFsc2UpO2xheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMub25Ub3VjaEVuZCxmYWxzZSk7bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5vblRvdWNoQ2FuY2VsLGZhbHNlKX07RmFzdENsaWNrLm5vdE5lZWRlZD1mdW5jdGlvbihsYXllcil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG1ldGFWaWV3cG9ydDt2YXIgY2hyb21lVmVyc2lvbjtpZih0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydD09PVwidW5kZWZpbmVkXCIpe3JldHVybiB0cnVlfWNocm9tZVZlcnNpb249KygvQ2hyb21lXFwvKFswLTldKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFssMF0pWzFdO2lmKGNocm9tZVZlcnNpb24pe2lmKEZhc3RDbGljay5wcm90b3R5cGUuZGV2aWNlSXNBbmRyb2lkKXttZXRhVmlld3BvcnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT12aWV3cG9ydF1cIik7aWYobWV0YVZpZXdwb3J0KXtpZihtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKFwidXNlci1zY2FsYWJsZT1ub1wiKSE9PS0xKXtyZXR1cm4gdHJ1ZX1pZihjaHJvbWVWZXJzaW9uPjMxJiZ3aW5kb3cuaW5uZXJXaWR0aDw9d2luZG93LnNjcmVlbi53aWR0aCl7cmV0dXJuIHRydWV9fX1lbHNle3JldHVybiB0cnVlfX1pZihsYXllci5zdHlsZS5tc1RvdWNoQWN0aW9uPT09XCJub25lXCIpe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX07RmFzdENsaWNrLmF0dGFjaD1mdW5jdGlvbihsYXllcil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIG5ldyBGYXN0Q2xpY2sobGF5ZXIpfTtpZih0eXBlb2YgZGVmaW5lIT09XCJ1bmRlZmluZWRcIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIEZhc3RDbGlja30pfWVsc2UgaWYodHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCImJm1vZHVsZS5leHBvcnRzKXttb2R1bGUuZXhwb3J0cz1GYXN0Q2xpY2suYXR0YWNoO21vZHVsZS5leHBvcnRzLkZhc3RDbGljaz1GYXN0Q2xpY2t9ZWxzZXt3aW5kb3cuRmFzdENsaWNrPUZhc3RDbGlja319KTtyZXF1aXJlLnJlZ2lzdGVyKFwiY29tcG9uZW50fmluZGV4b2ZAMC4wLjNcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYXJyLG9iail7aWYoYXJyLmluZGV4T2YpcmV0dXJuIGFyci5pbmRleE9mKG9iaik7Zm9yKHZhciBpPTA7aTxhcnIubGVuZ3RoOysraSl7aWYoYXJyW2ldPT09b2JqKXJldHVybiBpfXJldHVybi0xfX0pO3JlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+Y2xhc3Nlc0AxLjIuMVwiLGZ1bmN0aW9uKGV4cG9ydHMsbW9kdWxlKXt2YXIgaW5kZXg9cmVxdWlyZShcImNvbXBvbmVudH5pbmRleG9mQDAuMC4zXCIpO3ZhciByZT0vXFxzKy87dmFyIHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZWwpe3JldHVybiBuZXcgQ2xhc3NMaXN0KGVsKX07ZnVuY3Rpb24gQ2xhc3NMaXN0KGVsKXtpZighZWwpdGhyb3cgbmV3IEVycm9yKFwiQSBET00gZWxlbWVudCByZWZlcmVuY2UgaXMgcmVxdWlyZWRcIik7dGhpcy5lbD1lbDt0aGlzLmxpc3Q9ZWwuY2xhc3NMaXN0fUNsYXNzTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKG5hbWUpe2lmKHRoaXMubGlzdCl7dGhpcy5saXN0LmFkZChuYW1lKTtyZXR1cm4gdGhpc312YXIgYXJyPXRoaXMuYXJyYXkoKTt2YXIgaT1pbmRleChhcnIsbmFtZSk7aWYoIX5pKWFyci5wdXNoKG5hbWUpO3RoaXMuZWwuY2xhc3NOYW1lPWFyci5qb2luKFwiIFwiKTtyZXR1cm4gdGhpc307Q2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24obmFtZSl7aWYoXCJbb2JqZWN0IFJlZ0V4cF1cIj09dG9TdHJpbmcuY2FsbChuYW1lKSl7cmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmcobmFtZSl9aWYodGhpcy5saXN0KXt0aGlzLmxpc3QucmVtb3ZlKG5hbWUpO3JldHVybiB0aGlzfXZhciBhcnI9dGhpcy5hcnJheSgpO3ZhciBpPWluZGV4KGFycixuYW1lKTtpZih+aSlhcnIuc3BsaWNlKGksMSk7dGhpcy5lbC5jbGFzc05hbWU9YXJyLmpvaW4oXCIgXCIpO3JldHVybiB0aGlzfTtDbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nPWZ1bmN0aW9uKHJlKXt2YXIgYXJyPXRoaXMuYXJyYXkoKTtmb3IodmFyIGk9MDtpPGFyci5sZW5ndGg7aSsrKXtpZihyZS50ZXN0KGFycltpXSkpe3RoaXMucmVtb3ZlKGFycltpXSl9fXJldHVybiB0aGlzfTtDbGFzc0xpc3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihuYW1lLGZvcmNlKXtpZih0aGlzLmxpc3Qpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZm9yY2Upe2lmKGZvcmNlIT09dGhpcy5saXN0LnRvZ2dsZShuYW1lLGZvcmNlKSl7dGhpcy5saXN0LnRvZ2dsZShuYW1lKX19ZWxzZXt0aGlzLmxpc3QudG9nZ2xlKG5hbWUpfXJldHVybiB0aGlzfWlmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZm9yY2Upe2lmKCFmb3JjZSl7dGhpcy5yZW1vdmUobmFtZSl9ZWxzZXt0aGlzLmFkZChuYW1lKX19ZWxzZXtpZih0aGlzLmhhcyhuYW1lKSl7dGhpcy5yZW1vdmUobmFtZSl9ZWxzZXt0aGlzLmFkZChuYW1lKX19cmV0dXJuIHRoaXN9O0NsYXNzTGlzdC5wcm90b3R5cGUuYXJyYXk9ZnVuY3Rpb24oKXt2YXIgc3RyPXRoaXMuZWwuY2xhc3NOYW1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIik7dmFyIGFycj1zdHIuc3BsaXQocmUpO2lmKFwiXCI9PT1hcnJbMF0pYXJyLnNoaWZ0KCk7cmV0dXJuIGFycn07Q2xhc3NMaXN0LnByb3RvdHlwZS5oYXM9Q2xhc3NMaXN0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihuYW1lKXtyZXR1cm4gdGhpcy5saXN0P3RoaXMubGlzdC5jb250YWlucyhuYW1lKTohIX5pbmRleCh0aGlzLmFycmF5KCksbmFtZSl9fSk7cmVxdWlyZS5yZWdpc3RlcihcImNvbXBvbmVudH5ldmVudEAwLjEuNFwiLGZ1bmN0aW9uKGV4cG9ydHMsbW9kdWxlKXt2YXIgYmluZD13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj9cImFkZEV2ZW50TGlzdGVuZXJcIjpcImF0dGFjaEV2ZW50XCIsdW5iaW5kPXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyP1wicmVtb3ZlRXZlbnRMaXN0ZW5lclwiOlwiZGV0YWNoRXZlbnRcIixwcmVmaXg9YmluZCE9PVwiYWRkRXZlbnRMaXN0ZW5lclwiP1wib25cIjpcIlwiO2V4cG9ydHMuYmluZD1mdW5jdGlvbihlbCx0eXBlLGZuLGNhcHR1cmUpe2VsW2JpbmRdKHByZWZpeCt0eXBlLGZuLGNhcHR1cmV8fGZhbHNlKTtyZXR1cm4gZm59O2V4cG9ydHMudW5iaW5kPWZ1bmN0aW9uKGVsLHR5cGUsZm4sY2FwdHVyZSl7ZWxbdW5iaW5kXShwcmVmaXgrdHlwZSxmbixjYXB0dXJlfHxmYWxzZSk7cmV0dXJuIGZufX0pO3JlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+cXVlcnlAMC4wLjNcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7ZnVuY3Rpb24gb25lKHNlbGVjdG9yLGVsKXtyZXR1cm4gZWwucXVlcnlTZWxlY3RvcihzZWxlY3Rvcil9ZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzZWxlY3RvcixlbCl7ZWw9ZWx8fGRvY3VtZW50O3JldHVybiBvbmUoc2VsZWN0b3IsZWwpfTtleHBvcnRzLmFsbD1mdW5jdGlvbihzZWxlY3RvcixlbCl7ZWw9ZWx8fGRvY3VtZW50O3JldHVybiBlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKX07ZXhwb3J0cy5lbmdpbmU9ZnVuY3Rpb24ob2JqKXtpZighb2JqLm9uZSl0aHJvdyBuZXcgRXJyb3IoXCIub25lIGNhbGxiYWNrIHJlcXVpcmVkXCIpO2lmKCFvYmouYWxsKXRocm93IG5ldyBFcnJvcihcIi5hbGwgY2FsbGJhY2sgcmVxdWlyZWRcIik7b25lPW9iai5vbmU7ZXhwb3J0cy5hbGw9b2JqLmFsbDtyZXR1cm4gZXhwb3J0c319KTtyZXF1aXJlLnJlZ2lzdGVyKFwiY29tcG9uZW50fm1hdGNoZXMtc2VsZWN0b3JAMC4xLjVcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7dmFyIHF1ZXJ5PXJlcXVpcmUoXCJjb21wb25lbnR+cXVlcnlAMC4wLjNcIik7dmFyIHByb3RvPUVsZW1lbnQucHJvdG90eXBlO3ZhciB2ZW5kb3I9cHJvdG8ubWF0Y2hlc3x8cHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxwcm90by5tb3pNYXRjaGVzU2VsZWN0b3J8fHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yfHxwcm90by5vTWF0Y2hlc1NlbGVjdG9yO21vZHVsZS5leHBvcnRzPW1hdGNoO2Z1bmN0aW9uIG1hdGNoKGVsLHNlbGVjdG9yKXtpZighZWx8fGVsLm5vZGVUeXBlIT09MSlyZXR1cm4gZmFsc2U7aWYodmVuZG9yKXJldHVybiB2ZW5kb3IuY2FsbChlbCxzZWxlY3Rvcik7dmFyIG5vZGVzPXF1ZXJ5LmFsbChzZWxlY3RvcixlbC5wYXJlbnROb2RlKTtmb3IodmFyIGk9MDtpPG5vZGVzLmxlbmd0aDsrK2kpe2lmKG5vZGVzW2ldPT1lbClyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9fSk7cmVxdWlyZS5yZWdpc3RlcihcImNvbXBvbmVudH5jbG9zZXN0QDAuMS40XCIsZnVuY3Rpb24oZXhwb3J0cyxtb2R1bGUpe3ZhciBtYXRjaGVzPXJlcXVpcmUoXCJjb21wb25lbnR+bWF0Y2hlcy1zZWxlY3RvckAwLjEuNVwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlbGVtZW50LHNlbGVjdG9yLGNoZWNrWW9TZWxmLHJvb3Qpe2VsZW1lbnQ9Y2hlY2tZb1NlbGY/e3BhcmVudE5vZGU6ZWxlbWVudH06ZWxlbWVudDtyb290PXJvb3R8fGRvY3VtZW50O3doaWxlKChlbGVtZW50PWVsZW1lbnQucGFyZW50Tm9kZSkmJmVsZW1lbnQhPT1kb2N1bWVudCl7aWYobWF0Y2hlcyhlbGVtZW50LHNlbGVjdG9yKSlyZXR1cm4gZWxlbWVudDtpZihlbGVtZW50PT09cm9vdClyZXR1cm59fX0pO3JlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+ZGVsZWdhdGVAMC4yLjNcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7dmFyIGNsb3Nlc3Q9cmVxdWlyZShcImNvbXBvbmVudH5jbG9zZXN0QDAuMS40XCIpLGV2ZW50PXJlcXVpcmUoXCJjb21wb25lbnR+ZXZlbnRAMC4xLjRcIik7ZXhwb3J0cy5iaW5kPWZ1bmN0aW9uKGVsLHNlbGVjdG9yLHR5cGUsZm4sY2FwdHVyZSl7cmV0dXJuIGV2ZW50LmJpbmQoZWwsdHlwZSxmdW5jdGlvbihlKXt2YXIgdGFyZ2V0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7ZS5kZWxlZ2F0ZVRhcmdldD1jbG9zZXN0KHRhcmdldCxzZWxlY3Rvcix0cnVlLGVsKTtpZihlLmRlbGVnYXRlVGFyZ2V0KWZuLmNhbGwoZWwsZSl9LGNhcHR1cmUpfTtleHBvcnRzLnVuYmluZD1mdW5jdGlvbihlbCx0eXBlLGZuLGNhcHR1cmUpe2V2ZW50LnVuYmluZChlbCx0eXBlLGZuLGNhcHR1cmUpfX0pO3JlcXVpcmUucmVnaXN0ZXIoXCJjb21wb25lbnR+ZXZlbnRzQDEuMC45XCIsZnVuY3Rpb24oZXhwb3J0cyxtb2R1bGUpe3ZhciBldmVudHM9cmVxdWlyZShcImNvbXBvbmVudH5ldmVudEAwLjEuNFwiKTt2YXIgZGVsZWdhdGU9cmVxdWlyZShcImNvbXBvbmVudH5kZWxlZ2F0ZUAwLjIuM1wiKTttb2R1bGUuZXhwb3J0cz1FdmVudHM7ZnVuY3Rpb24gRXZlbnRzKGVsLG9iail7aWYoISh0aGlzIGluc3RhbmNlb2YgRXZlbnRzKSlyZXR1cm4gbmV3IEV2ZW50cyhlbCxvYmopO2lmKCFlbCl0aHJvdyBuZXcgRXJyb3IoXCJlbGVtZW50IHJlcXVpcmVkXCIpO2lmKCFvYmopdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IHJlcXVpcmVkXCIpO3RoaXMuZWw9ZWw7dGhpcy5vYmo9b2JqO3RoaXMuX2V2ZW50cz17fX1FdmVudHMucHJvdG90eXBlLnN1Yj1mdW5jdGlvbihldmVudCxtZXRob2QsY2Ipe3RoaXMuX2V2ZW50c1tldmVudF09dGhpcy5fZXZlbnRzW2V2ZW50XXx8e307dGhpcy5fZXZlbnRzW2V2ZW50XVttZXRob2RdPWNifTtFdmVudHMucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZXZlbnQsbWV0aG9kKXt2YXIgZT1wYXJzZShldmVudCk7dmFyIGVsPXRoaXMuZWw7dmFyIG9iaj10aGlzLm9iajt2YXIgbmFtZT1lLm5hbWU7dmFyIG1ldGhvZD1tZXRob2R8fFwib25cIituYW1lO3ZhciBhcmdzPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO2Z1bmN0aW9uIGNiKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLmNvbmNhdChhcmdzKTtvYmpbbWV0aG9kXS5hcHBseShvYmosYSl9aWYoZS5zZWxlY3Rvcil7Y2I9ZGVsZWdhdGUuYmluZChlbCxlLnNlbGVjdG9yLG5hbWUsY2IpfWVsc2V7ZXZlbnRzLmJpbmQoZWwsbmFtZSxjYil9dGhpcy5zdWIobmFtZSxtZXRob2QsY2IpO3JldHVybiBjYn07RXZlbnRzLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oZXZlbnQsbWV0aG9kKXtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLnVuYmluZEFsbCgpO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMudW5iaW5kQWxsT2YoZXZlbnQpO3ZhciBiaW5kaW5ncz10aGlzLl9ldmVudHNbZXZlbnRdO2lmKCFiaW5kaW5ncylyZXR1cm47dmFyIGNiPWJpbmRpbmdzW21ldGhvZF07aWYoIWNiKXJldHVybjtldmVudHMudW5iaW5kKHRoaXMuZWwsZXZlbnQsY2IpfTtFdmVudHMucHJvdG90eXBlLnVuYmluZEFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZXZlbnQgaW4gdGhpcy5fZXZlbnRzKXt0aGlzLnVuYmluZEFsbE9mKGV2ZW50KX19O0V2ZW50cy5wcm90b3R5cGUudW5iaW5kQWxsT2Y9ZnVuY3Rpb24oZXZlbnQpe3ZhciBiaW5kaW5ncz10aGlzLl9ldmVudHNbZXZlbnRdO2lmKCFiaW5kaW5ncylyZXR1cm47Zm9yKHZhciBtZXRob2QgaW4gYmluZGluZ3Mpe3RoaXMudW5iaW5kKGV2ZW50LG1ldGhvZCl9fTtmdW5jdGlvbiBwYXJzZShldmVudCl7dmFyIHBhcnRzPWV2ZW50LnNwbGl0KC8gKy8pO3JldHVybntuYW1lOnBhcnRzLnNoaWZ0KCksc2VsZWN0b3I6cGFydHMuam9pbihcIiBcIil9fX0pO3JlcXVpcmUucmVnaXN0ZXIoXCJzd2l0Y2hlcnlcIixmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7dmFyIHRyYW5zaXRpb25pemU9cmVxdWlyZShcImFicGV0a292fnRyYW5zaXRpb25pemVAMC4wLjNcIiksZmFzdGNsaWNrPXJlcXVpcmUoXCJmdGxhYnN+ZmFzdGNsaWNrQHYwLjYuMTFcIiksY2xhc3Nlcz1yZXF1aXJlKFwiY29tcG9uZW50fmNsYXNzZXNAMS4yLjFcIiksZXZlbnRzPXJlcXVpcmUoXCJjb21wb25lbnR+ZXZlbnRzQDEuMC45XCIpO21vZHVsZS5leHBvcnRzPVN3aXRjaGVyeTt2YXIgZGVmYXVsdHM9e2NvbG9yOlwiIzY0YmQ2M1wiLHNlY29uZGFyeUNvbG9yOlwiI2RmZGZkZlwiLGphY2tDb2xvcjpcIiNmZmZcIixqYWNrU2Vjb25kYXJ5Q29sb3I6bnVsbCxjbGFzc05hbWU6XCJzd2l0Y2hlcnlcIixkaXNhYmxlZDpmYWxzZSxkaXNhYmxlZE9wYWNpdHk6LjUsc3BlZWQ6XCIwLjRzXCIsc2l6ZTpcImRlZmF1bHRcIn07ZnVuY3Rpb24gU3dpdGNoZXJ5KGVsZW1lbnQsb3B0aW9ucyl7aWYoISh0aGlzIGluc3RhbmNlb2YgU3dpdGNoZXJ5KSlyZXR1cm4gbmV3IFN3aXRjaGVyeShlbGVtZW50LG9wdGlvbnMpO3RoaXMuZWxlbWVudD1lbGVtZW50O3RoaXMub3B0aW9ucz1vcHRpb25zfHx7fTtmb3IodmFyIGkgaW4gZGVmYXVsdHMpe2lmKHRoaXMub3B0aW9uc1tpXT09bnVsbCl7dGhpcy5vcHRpb25zW2ldPWRlZmF1bHRzW2ldfX1pZih0aGlzLmVsZW1lbnQhPW51bGwmJnRoaXMuZWxlbWVudC50eXBlPT1cImNoZWNrYm94XCIpdGhpcy5pbml0KCk7aWYodGhpcy5pc0Rpc2FibGVkKCk9PT10cnVlKXRoaXMuZGlzYWJsZSgpfVN3aXRjaGVyeS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifTtTd2l0Y2hlcnkucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgc3dpdGNoZXI9dGhpcy5jcmVhdGUoKTt0aGlzLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCxzd2l0Y2hlcil9O1N3aXRjaGVyeS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5zd2l0Y2hlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTt0aGlzLmphY2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNtYWxsXCIpO3RoaXMuc3dpdGNoZXIuYXBwZW5kQ2hpbGQodGhpcy5qYWNrKTt0aGlzLnN3aXRjaGVyLmNsYXNzTmFtZT10aGlzLm9wdGlvbnMuY2xhc3NOYW1lO3RoaXMuZXZlbnRzPWV2ZW50cyh0aGlzLnN3aXRjaGVyLHRoaXMpO3JldHVybiB0aGlzLnN3aXRjaGVyfTtTd2l0Y2hlcnkucHJvdG90eXBlLmluc2VydEFmdGVyPWZ1bmN0aW9uKHJlZmVyZW5jZSx0YXJnZXQpe3JlZmVyZW5jZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YXJnZXQscmVmZXJlbmNlLm5leHRTaWJsaW5nKX07U3dpdGNoZXJ5LnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihjbGlja2VkKXt2YXIgY2hlY2tlZD10aGlzLmlzQ2hlY2tlZCgpLHN3aXRjaGVyPXRoaXMuc3dpdGNoZXIsamFjaz10aGlzLmphY2s7aWYoY2xpY2tlZCYmY2hlY2tlZCljaGVja2VkPWZhbHNlO2Vsc2UgaWYoY2xpY2tlZCYmIWNoZWNrZWQpY2hlY2tlZD10cnVlO2lmKGNoZWNrZWQ9PT10cnVlKXt0aGlzLmVsZW1lbnQuY2hlY2tlZD10cnVlO2lmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKWphY2suc3R5bGUubGVmdD1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzd2l0Y2hlcikud2lkdGgpLXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGphY2spLndpZHRoKStcInB4XCI7ZWxzZSBqYWNrLnN0eWxlLmxlZnQ9cGFyc2VJbnQoc3dpdGNoZXIuY3VycmVudFN0eWxlW1wid2lkdGhcIl0pLXBhcnNlSW50KGphY2suY3VycmVudFN0eWxlW1wid2lkdGhcIl0pK1wicHhcIjtpZih0aGlzLm9wdGlvbnMuY29sb3IpdGhpcy5jb2xvcml6ZSgpO3RoaXMuc2V0U3BlZWQoKX1lbHNle2phY2suc3R5bGUubGVmdD0wO3RoaXMuZWxlbWVudC5jaGVja2VkPWZhbHNlO3RoaXMuc3dpdGNoZXIuc3R5bGUuYm94U2hhZG93PVwiaW5zZXQgMCAwIDAgMCBcIit0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5Q29sb3I7dGhpcy5zd2l0Y2hlci5zdHlsZS5ib3JkZXJDb2xvcj10aGlzLm9wdGlvbnMuc2Vjb25kYXJ5Q29sb3I7dGhpcy5zd2l0Y2hlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5vcHRpb25zLnNlY29uZGFyeUNvbG9yIT09ZGVmYXVsdHMuc2Vjb25kYXJ5Q29sb3I/dGhpcy5vcHRpb25zLnNlY29uZGFyeUNvbG9yOlwiI2ZmZlwiO3RoaXMuamFjay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5vcHRpb25zLmphY2tTZWNvbmRhcnlDb2xvciE9PXRoaXMub3B0aW9ucy5qYWNrQ29sb3I/dGhpcy5vcHRpb25zLmphY2tTZWNvbmRhcnlDb2xvcjp0aGlzLm9wdGlvbnMuamFja0NvbG9yO3RoaXMuc2V0U3BlZWQoKX19O1N3aXRjaGVyeS5wcm90b3R5cGUuc2V0U3BlZWQ9ZnVuY3Rpb24oKXt2YXIgc3dpdGNoZXJQcm9wPXt9LGphY2tQcm9wPXtcImJhY2tncm91bmQtY29sb3JcIjp0aGlzLm9wdGlvbnMuc3BlZWQsbGVmdDp0aGlzLm9wdGlvbnMuc3BlZWQucmVwbGFjZSgvW2Etel0vLFwiXCIpLzIrXCJzXCJ9O2lmKHRoaXMuaXNDaGVja2VkKCkpe3N3aXRjaGVyUHJvcD17Ym9yZGVyOnRoaXMub3B0aW9ucy5zcGVlZCxcImJveC1zaGFkb3dcIjp0aGlzLm9wdGlvbnMuc3BlZWQsXCJiYWNrZ3JvdW5kLWNvbG9yXCI6dGhpcy5vcHRpb25zLnNwZWVkLnJlcGxhY2UoL1thLXpdLyxcIlwiKSozK1wic1wifX1lbHNle3N3aXRjaGVyUHJvcD17Ym9yZGVyOnRoaXMub3B0aW9ucy5zcGVlZCxcImJveC1zaGFkb3dcIjp0aGlzLm9wdGlvbnMuc3BlZWR9fXRyYW5zaXRpb25pemUodGhpcy5zd2l0Y2hlcixzd2l0Y2hlclByb3ApO3RyYW5zaXRpb25pemUodGhpcy5qYWNrLGphY2tQcm9wKX07U3dpdGNoZXJ5LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKCl7dmFyIHNtYWxsPVwic3dpdGNoZXJ5LXNtYWxsXCIsbm9ybWFsPVwic3dpdGNoZXJ5LWRlZmF1bHRcIixsYXJnZT1cInN3aXRjaGVyeS1sYXJnZVwiO3N3aXRjaCh0aGlzLm9wdGlvbnMuc2l6ZSl7Y2FzZVwic21hbGxcIjpjbGFzc2VzKHRoaXMuc3dpdGNoZXIpLmFkZChzbWFsbCk7YnJlYWs7Y2FzZVwibGFyZ2VcIjpjbGFzc2VzKHRoaXMuc3dpdGNoZXIpLmFkZChsYXJnZSk7YnJlYWs7ZGVmYXVsdDpjbGFzc2VzKHRoaXMuc3dpdGNoZXIpLmFkZChub3JtYWwpO2JyZWFrfX07U3dpdGNoZXJ5LnByb3RvdHlwZS5jb2xvcml6ZT1mdW5jdGlvbigpe3ZhciBzd2l0Y2hlckhlaWdodD10aGlzLnN3aXRjaGVyLm9mZnNldEhlaWdodC8yO3RoaXMuc3dpdGNoZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMub3B0aW9ucy5jb2xvcjt0aGlzLnN3aXRjaGVyLnN0eWxlLmJvcmRlckNvbG9yPXRoaXMub3B0aW9ucy5jb2xvcjt0aGlzLnN3aXRjaGVyLnN0eWxlLmJveFNoYWRvdz1cImluc2V0IDAgMCAwIFwiK3N3aXRjaGVySGVpZ2h0K1wicHggXCIrdGhpcy5vcHRpb25zLmNvbG9yO3RoaXMuamFjay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5vcHRpb25zLmphY2tDb2xvcn07U3dpdGNoZXJ5LnByb3RvdHlwZS5oYW5kbGVPbmNoYW5nZT1mdW5jdGlvbihzdGF0ZSl7aWYoZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCl7dmFyIGV2ZW50PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiSFRNTEV2ZW50c1wiKTtldmVudC5pbml0RXZlbnQoXCJjaGFuZ2VcIix0cnVlLHRydWUpO3RoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KX1lbHNle3RoaXMuZWxlbWVudC5maXJlRXZlbnQoXCJvbmNoYW5nZVwiKX19O1N3aXRjaGVyeS5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcyxlbD10aGlzLmVsZW1lbnQ7aWYoZWwuYWRkRXZlbnRMaXN0ZW5lcil7ZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7c2VsZi5zZXRQb3NpdGlvbigpfSl9ZWxzZXtlbC5hdHRhY2hFdmVudChcIm9uY2hhbmdlXCIsZnVuY3Rpb24oKXtzZWxmLnNldFBvc2l0aW9uKCl9KX19O1N3aXRjaGVyeS5wcm90b3R5cGUuaGFuZGxlQ2xpY2s9ZnVuY3Rpb24oKXt2YXIgc3dpdGNoZXI9dGhpcy5zd2l0Y2hlcjtmYXN0Y2xpY2soc3dpdGNoZXIpO3RoaXMuZXZlbnRzLmJpbmQoXCJjbGlja1wiLFwiYmluZENsaWNrXCIpfTtTd2l0Y2hlcnkucHJvdG90eXBlLmJpbmRDbGljaz1mdW5jdGlvbigpe3ZhciBwYXJlbnQ9dGhpcy5lbGVtZW50LnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGxhYmVsUGFyZW50PXBhcmVudD09PVwibGFiZWxcIj9mYWxzZTp0cnVlO3RoaXMuc2V0UG9zaXRpb24obGFiZWxQYXJlbnQpO3RoaXMuaGFuZGxlT25jaGFuZ2UodGhpcy5lbGVtZW50LmNoZWNrZWQpfTtTd2l0Y2hlcnkucHJvdG90eXBlLm1hcmtBc1N3aXRjaGVkPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtc3dpdGNoZXJ5XCIsdHJ1ZSl9O1N3aXRjaGVyeS5wcm90b3R5cGUubWFya2VkQXNTd2l0Y2hlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zd2l0Y2hlcnlcIil9O1N3aXRjaGVyeS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuaGlkZSgpO3RoaXMuc2hvdygpO3RoaXMuc2V0U2l6ZSgpO3RoaXMuc2V0UG9zaXRpb24oKTt0aGlzLm1hcmtBc1N3aXRjaGVkKCk7dGhpcy5oYW5kbGVDaGFuZ2UoKTt0aGlzLmhhbmRsZUNsaWNrKCl9O1N3aXRjaGVyeS5wcm90b3R5cGUuaXNDaGVja2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5jaGVja2VkfTtTd2l0Y2hlcnkucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5yZWFkT25seX07U3dpdGNoZXJ5LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldmVudHMudW5iaW5kKCl9O1N3aXRjaGVyeS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmRpc2FibGVkKXRoaXMub3B0aW9ucy5kaXNhYmxlZD1mYWxzZTtpZih0aGlzLmVsZW1lbnQuZGlzYWJsZWQpdGhpcy5lbGVtZW50LmRpc2FibGVkPWZhbHNlO2lmKHRoaXMuZWxlbWVudC5yZWFkT25seSl0aGlzLmVsZW1lbnQucmVhZE9ubHk9ZmFsc2U7dGhpcy5zd2l0Y2hlci5zdHlsZS5vcGFjaXR5PTE7dGhpcy5ldmVudHMuYmluZChcImNsaWNrXCIsXCJiaW5kQ2xpY2tcIil9O1N3aXRjaGVyeS5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpdGhpcy5vcHRpb25zLmRpc2FibGVkPXRydWU7aWYoIXRoaXMuZWxlbWVudC5kaXNhYmxlZCl0aGlzLmVsZW1lbnQuZGlzYWJsZWQ9dHJ1ZTtpZighdGhpcy5lbGVtZW50LnJlYWRPbmx5KXRoaXMuZWxlbWVudC5yZWFkT25seT10cnVlO3RoaXMuc3dpdGNoZXIuc3R5bGUub3BhY2l0eT10aGlzLm9wdGlvbnMuZGlzYWJsZWRPcGFjaXR5O3RoaXMuZGVzdHJveSgpfX0pO2lmKHR5cGVvZiBleHBvcnRzPT1cIm9iamVjdFwiKXttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKFwic3dpdGNoZXJ5XCIpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoXCJTd2l0Y2hlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiByZXF1aXJlKFwic3dpdGNoZXJ5XCIpfSl9ZWxzZXsodGhpc3x8d2luZG93KVtcIlN3aXRjaGVyeVwiXT1yZXF1aXJlKFwic3dpdGNoZXJ5XCIpfX0pKCk7IiwiLypcbiogQ29weXJpZ2h0IDIwMTcgdGhlIElzYXJkLXZkaSBwcm9qZWN0IGF1dGhvcnM6XG4qICAgICAgSm9zZXAgTWFyaWEgVmnDsW9sYXMgQXVxdWVyXG4qICAgICAgQWxiZXJ0byBMYXJyYXogRGFsbWFzZXNcbiogTGljZW5zZTogQUdQTHYzXG4qL1xuXG5zb2NrZXQ9bnVsbFxudXNlcj17fVxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgdXNlclsncm9sZSddPSQoJyN1c2VyLWRhdGEnKS5kYXRhKFwicm9sZVwiKTtcbiAgICBtb2RhbF9hZGRfZGVza3RvcHMgPSAkKCcjbW9kYWxfYWRkX2Rlc2t0b3BzJykuRGF0YVRhYmxlKClcblx0aW5pdGFsaXplX21vZGFsX2FsbF9kZXNrdG9wc19ldmVudHMoKVxuIFxuXHQkdGVtcGxhdGUgPSAkKFwiLnRlbXBsYXRlLWRldGFpbC1kb21haW5cIik7XG5cbiAgICBcblx0JCgnLmJ0bi1uZXcnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0aWYoJCgnLnF1b3RhLWRlc2t0b3BzIC5wZXJjJykudGV4dCgpID49MTAwKXtcbiAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJRdW90YSBmb3IgY3JlYXRpbmcgZGVza3RvcHMgZnVsbC5cIixcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkNhbid0IGNyZWF0ZSBhbm90aGVyIGRlc2t0b3AsIHF1b3RhIGZ1bGwuXCIsXG4gICAgICAgICAgICAgICAgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWxheTogMzAwMCxcbiAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtYWxlcnQtc2lnbicsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgICAgICB9KTtcblx0XHR9ZWxzZXtcdFxuXHRcdFx0c2V0SGFyZHdhcmVPcHRpb25zKCcjbW9kYWxBZGREZXNrdG9wJyk7XG4gICAgICAgICAgICAvL34gc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0cygnI21vZGFsQWRkRGVza3RvcCcscGspO1xuICAgICAgICAgICAgJChcIiNtb2RhbEFkZFwiKVswXS5yZXNldCgpO1xuXHRcdFx0JCgnI21vZGFsQWRkRGVza3RvcCcpLm1vZGFsKHtcblx0XHRcdFx0YmFja2Ryb3A6ICdzdGF0aWMnLFxuXHRcdFx0XHRrZXlib2FyZDogZmFsc2Vcblx0XHRcdH0pLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICAgJCgnI21vZGFsQWRkRGVza3RvcCAjaGFyZHdhcmUtYmxvY2snKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjbW9kYWxBZGQnKS5wYXJzbGV5KCk7XG4gICAgICAgICAgICBtb2RhbF9hZGRfZGVza3RvcF9kYXRhdGFibGVzKCk7XG5cdFx0fVxuXHR9KTtcblxuXG5cdC8vRGF0YVRhYmxlIE1haW4gcmVuZGVyZXJcblx0dmFyIHRhYmxlID0gJCgnI2Rlc2t0b3BzJykuRGF0YVRhYmxlKHtcblx0XHRcdFwiYWpheFwiOiB7XG5cdFx0XHRcdFwidXJsXCI6IFwiL2Rlc2t0b3BzL2dldFwiLFxuXHRcdFx0XHRcImRhdGFTcmNcIjogXCJcIlxuXHRcdFx0fSxcblx0XHRcdFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0XHRcImxvYWRpbmdSZWNvcmRzXCI6ICc8aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtcHVsc2UgZmEtM3ggZmEtZndcIj48L2k+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+TG9hZGluZy4uLjwvc3Bhbj4nXG5cdFx0XHR9LFxuXHRcdFx0XCJyb3dJZFwiOiBcImlkXCIsXG5cdFx0XHRcImRlZmVyUmVuZGVyXCI6IHRydWUsXG5cdFx0XHRcImNvbHVtbnNcIjogW1xuXHRcdFx0XHR7XG4gICAgICAgICAgICAgICAgXCJjbGFzc05hbWVcIjogICAgICAnZGV0YWlscy1jb250cm9sJyxcbiAgICAgICAgICAgICAgICBcIm9yZGVyYWJsZVwiOiAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBcIndpZHRoXCI6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIFwiZGVmYXVsdENvbnRlbnRcIjogJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1pbmZvXCIgdHlwZT1cImJ1dHRvblwiICBkYXRhLXBsYWNlbWVudD1cInRvcFwiID48aSBjbGFzcz1cImZhIGZhLXBsdXNcIj48L2k+PC9idXR0b24+J1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7IFwiZGF0YVwiOiBcImljb25cIiwgXCJ3aWR0aFwiOiBcIjEwcHhcIiB9LFxuXHRcdFx0XHR7IFwiZGF0YVwiOiBudWxsLCBcIndpZHRoXCI6IFwiMTBweFwifSxcblx0XHRcdFx0eyBcImRhdGFcIjogbnVsbCwgXCJ3aWR0aFwiOiBcIjEwcHhcIn0sXG5cdFx0XHRcdHsgXCJkYXRhXCI6IFwic3RhdHVzXCIsIFwid2lkdGhcIjogXCIxMHB4XCJ9LFxuXHRcdFx0XHR7IFwiZGF0YVwiOiBcIm5hbWVcIn0sXG4gICAgICAgICAgICAgICAgeyBcImRhdGFcIjogXCJoeXBfc3RhcnRlZFwiLCBcIndpZHRoXCI6IFwiMTBweFwifVxuXHRcdFx0XHRdLFxuXHRcdFx0IFwib3JkZXJcIjogW1szLCAnZGVzYyddXSxcdFx0IFxuXHRcdFwiY29sdW1uRGVmc1wiOiBbIHtcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRzXCI6IDEsXG5cdFx0XHRcdFx0XHRcdFwicmVuZGVyXCI6IGZ1bmN0aW9uICggZGF0YSwgdHlwZSwgZnVsbCwgbWV0YSApIHtcblx0XHRcdFx0XHRcdFx0ICByZXR1cm4gcmVuZGVySWNvbihmdWxsKTtcblx0XHRcdFx0XHRcdFx0fX0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRzXCI6IDIsXG5cdFx0XHRcdFx0XHRcdFwicmVuZGVyXCI6IGZ1bmN0aW9uICggZGF0YSwgdHlwZSwgZnVsbCwgbWV0YSApIHtcblx0XHRcdFx0XHRcdFx0ICByZXR1cm4gcmVuZGVyQWN0aW9uKGZ1bGwpO1xuXHRcdFx0XHRcdFx0XHR9fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcInRhcmdldHNcIjogMyxcblx0XHRcdFx0XHRcdFx0XCJyZW5kZXJcIjogZnVuY3Rpb24gKCBkYXRhLCB0eXBlLCBmdWxsLCBtZXRhICkge1xuXHRcdFx0XHRcdFx0XHQgIHJldHVybiByZW5kZXJEaXNwbGF5KGZ1bGwpO1xuXHRcdFx0XHRcdFx0XHR9fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcInRhcmdldHNcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJyZW5kZXJcIjogZnVuY3Rpb24gKCBkYXRhLCB0eXBlLCBmdWxsLCBtZXRhICkge1xuXHRcdFx0XHRcdFx0XHQgIHJldHVybiByZW5kZXJTdGF0dXMoZnVsbCk7XG5cdFx0XHRcdFx0XHRcdH19LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0c1wiOiA1LFxuXHRcdFx0XHRcdFx0XHRcInJlbmRlclwiOiBmdW5jdGlvbiAoIGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEgKSB7XG5cdFx0XHRcdFx0XHRcdCAgcmV0dXJuIHJlbmRlck5hbWUoZnVsbCk7XG5cdFx0XHRcdFx0XHRcdH19LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0c1wiOiA2LFxuXHRcdFx0XHRcdFx0XHRcInJlbmRlclwiOiBmdW5jdGlvbiAoIGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEgKSB7XG5cdFx0XHRcdFx0XHRcdCAgcmV0dXJuIHJlbmRlckh5cFN0YXJ0ZWQoZnVsbCk7XG5cdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdF1cblx0fSApO1xuXG5cdC8vIERhdGFUYWJsZSBkZXRhaWxcblx0JCgnI2Rlc2t0b3BzIHRib2R5Jykub24oJ2NsaWNrJywgJ3RkLmRldGFpbHMtY29udHJvbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpO1xuICAgICAgICB2YXIgcm93ID0gdGFibGUucm93KCB0ciApO1xuICAgICAgICBpZiAoIHJvdy5jaGlsZC5pc1Nob3duKCkgKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHJvdyBpcyBhbHJlYWR5IG9wZW4gLSBjbG9zZSBpdFxuICAgICAgICAgICAgcm93LmNoaWxkLmhpZGUoKTtcbiAgICAgICAgICAgIHJvdy5jaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRyLnJlbW92ZUNsYXNzKCdzaG93bicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDbG9zZSBvdGhlciByb3dzXG4gICAgICAgICAgICAgaWYgKCB0YWJsZS5yb3coICcuc2hvd24nICkubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICAgICQoJy5kZXRhaWxzLWNvbnRyb2wnLCB0YWJsZS5yb3coICcuc2hvd24nICkubm9kZSgpKS5jbGljaygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgaWYgKHJvdy5kYXRhKCkuc3RhdHVzPT0nQ3JlYXRpbmcnKXtcbiAgICAgICAgICAgICAgICAgLy9JbiB0aGlzIGNhc2UgYmV0dGVyIG5vdCB0byBvcGVuIGRldGFpbCBhcyBhamF4IHNuaXBwZXRzIHdpbGwgZmFpbFxuICAgICAgICAgICAgICAgICAvL01heWJlIG5lZWRzIHRvIGJlIGJsb2NrZWQgYWxzbyBvbiBvdGhlciAtaW5nJ3Ncblx0XHRcdFx0XHRcdG5ldyBQTm90aWZ5KHtcblx0XHRcdFx0XHRcdHRpdGxlOiBcIkRvbWFpbiBpcyBiZWluZyBjcmVhdGVkXCIsXG5cdFx0XHRcdFx0XHRcdHRleHQ6IFwiV2FpdCB0aWxsIGRvbWFpbiBbXCIrcm93LmRhdGEoKS5uYW1lK1wiXSBjcmVhdGlvbiBjb21wbGV0ZXMgdG8gdmlldyBkZXRhaWxzXCIsXG5cdFx0XHRcdFx0XHRcdGhpZGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiAzMDAwLFxuXHRcdFx0XHRcdFx0XHRpY29uOiAnZmEgZmEtYWxlcnQtc2lnbicsXG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDEsXG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdlcnJvcidcblx0XHRcdFx0XHRcdH0pOyAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgLy8gT3BlbiB0aGlzIHJvd1xuICAgICAgICAgICAgICAgIHJvdy5jaGlsZCggYWRkRGVza3RvcERldGFpbFBhbm5lbChyb3cuZGF0YSgpKSApLnNob3coKTtcbiAgICAgICAgICAgICAgICB0ci5hZGRDbGFzcygnc2hvd24nKTtcbiAgICAgICAgICAgICAgICAkKCcjc3RhdHVzLWRldGFpbC0nK3Jvdy5kYXRhKCkuaWQpLmh0bWwocm93LmRhdGEoKS5kZXRhaWwpO1xuICAgICAgICAgICAgICAgIGFjdGlvbnNEZXNrdG9wRGV0YWlsKCk7XG4gICAgICAgICAgICAgICAgc2V0RGVza3RvcERldGFpbEJ1dHRvbnNTdGF0dXMocm93LmRhdGEoKS5pZCxyb3cuZGF0YSgpLnN0YXR1cylcbiAgICAgICAgICAgICAgICBpZihyb3cuZGF0YSgpLnN0YXR1cz09J1N0b3BwZWQnIHx8IHJvdy5kYXRhKCkuc3RhdHVzPT0nU3RhcnRlZCcpe1xuICAgICAgICAgICAgICAgICAgICBzZXREb21haW5HZW5lYWxvZ3kocm93LmRhdGEoKS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEhhcmR3YXJlRG9tYWluRGVmYXVsdHNfdmlld2VyKCcjaGFyZHdhcmUtJytyb3cuZGF0YSgpLmlkLHJvdy5kYXRhKCkuaWQpO1xuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgfSApO1xuXG5cblx0Ly8gRGF0YVRhYmxlIGJ1dHRvbnNcbiAgICAkKCcjZGVza3RvcHMgdGJvZHknKS5vbiggJ2NsaWNrJywgJ2J1dHRvbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0YWJsZS5yb3coICQodGhpcykucGFyZW50cygndHInKSApLmRhdGEoKTtcbiAgICAgICAgc3dpdGNoKCQodGhpcykuYXR0cignaWQnKSl7XG4gICAgICAgICAgICBjYXNlICdidG4tcGxheSc6XG5cdFx0XHRcdGlmKCQoJy5xdW90YS1wbGF5IC5wZXJjJykudGV4dCgpID49MTAwKXtcblx0XHRcdFx0XHRuZXcgUE5vdGlmeSh7XG5cdFx0XHRcdFx0XHR0aXRsZTogXCJRdW90YSBmb3IgcnVubmluZyBkZXNrdG9wcyBmdWxsLlwiLFxuXHRcdFx0XHRcdFx0XHR0ZXh0OiBcIkNhbid0IHN0YXJ0IGFub3RoZXIgZGVza3RvcCwgcXVvdGEgZnVsbC5cIixcblx0XHRcdFx0XHRcdFx0aGlkZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IDMwMDAsXG5cdFx0XHRcdFx0XHRcdGljb246ICdmYSBmYS1hbGVydC1zaWduJyxcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdFx0XHRcdFx0dHlwZTogJ2Vycm9yJ1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnZG9tYWluX3VwZGF0ZScseydwayc6ZGF0YVsnaWQnXSwnbmFtZSc6J3N0YXR1cycsJ3ZhbHVlJzonU3RhcnRpbmcnfSkgXG5cdFx0XHRcdH0gICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdidG4tc3RvcCc6XG5cdFx0XHRcdG5ldyBQTm90aWZ5KHtcblx0XHRcdFx0XHRcdHRpdGxlOiAnVW5wbHVnIGRlc2t0b3Agd2FybmluZyEnLFxuXHRcdFx0XHRcdFx0XHR0ZXh0OiBcIkl0IGlzIE5PVCBSRUNPTU1FTkRFRCB0byBjb250aW51ZSBhbmQgdHVybiBvZmYgZGVza3RvcCBcIisgbmFtZStcIi5cXG4gXFxcblx0XHRcdFx0XHRcdFx0XHQgICBQbGVhc2UsIHByb3Blcmx5IHNodXQgZG93biBkZXNrdG9wIGZyb20gaW5zaWRlIHZpZXdlciBcXG5cXG4gXFxcblx0XHRcdFx0XHRcdFx0XHQgICBUdXJuIG9mZiBkZXNrdG9wPyBcIisgbmFtZStcIj9cIixcblx0XHRcdFx0XHRcdFx0aGlkZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDAuOSxcblx0XHRcdFx0XHRcdFx0Y29uZmlybToge1xuXHRcdFx0XHRcdFx0XHRcdGNvbmZpcm06IHRydWVcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0YnV0dG9uczoge1xuXHRcdFx0XHRcdFx0XHRcdGNsb3NlcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c3RpY2tlcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0aGlzdG9yeToge1xuXHRcdFx0XHRcdFx0XHRcdGhpc3Rvcnk6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHN0YWNrOiBzdGFja19jZW50ZXJcblx0XHRcdFx0XHRcdH0pLmdldCgpLm9uKCdwbm90aWZ5LmNvbmZpcm0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnZG9tYWluX3VwZGF0ZScseydwayc6ZGF0YVsnaWQnXSwnbmFtZSc6J3N0YXR1cycsJ3ZhbHVlJzonU3RvcHBpbmcnfSlcblx0XHRcdFx0XHRcdH0pLm9uKCdwbm90aWZ5LmNhbmNlbCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR9KTtcdFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYnRuLWRpc3BsYXknOlxuICAgICAgICAgICAgICAgIGdldENsaWVudFZpZXdlcihkYXRhLHNvY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy8gU29ja2V0SU9cbiAgICAvL34gcmVjb25uZWN0PS0xO1xuICAgIHNvY2tldCA9IGlvLmNvbm5lY3QobG9jYXRpb24ucHJvdG9jb2wrJy8vJyArIGRvY3VtZW50LmRvbWFpbiArICc6JyArIGxvY2F0aW9uLnBvcnQrJy9zaW9fdXNlcnMnKTtcblxuXG4gICAgXG4gICAgc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbm5lY3Rpb25fZG9uZSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnTGlzdGVuaW5nIHVzZXJzIG5hbWVzcGFjZScpO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29ubmVjdGlvbl9sb3N0KCk7XG4gICAgfSk7XG4gICAgXG4gICAgIHN0YXJ0Q2xpZW50Vmlld2VyU29ja2V0KHNvY2tldCk7XG4gICAgIFxuICAgIHNvY2tldC5vbigndXNlcl9xdW90YScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBkcmF3VXNlclF1b3RhKGRhdGEpO1xuICAgIH0pO1xuXG4gICBcbiAgICBcbiAgICBzb2NrZXQub24oJ2Rlc2t0b3BfZGF0YScsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIGR0VXBkYXRlSW5zZXJ0KHRhYmxlLGRhdGEsZmFsc2UpO1xuICAgICAgICBzZXREZXNrdG9wRGV0YWlsQnV0dG9uc1N0YXR1cyhkYXRhLmlkLCBkYXRhLnN0YXR1cyk7XG4gICAgfSk7XG4gICAgXG4gICAgc29ja2V0Lm9uKCdkZXNrdG9wX2RlbGV0ZScsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIHZhciByb3cgPSB0YWJsZS5yb3coJyMnK2RhdGEuaWQpLnJlbW92ZSgpLmRyYXcoKTtcbiAgICAgICAgbmV3IFBOb3RpZnkoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRlc2t0b3AgZGVsZXRlZFwiLFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiRGVza3RvcCBcIitkYXRhLm5hbWUrXCIgaGFzIGJlZW4gZGVsZXRlZFwiLFxuICAgICAgICAgICAgICAgIGhpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZGVsYXk6IDQwMDAsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXN1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHNvY2tldC5vbigncmVzdWx0JywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBuZXcgUE5vdGlmeSh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICAgICAgICAgICAgdGV4dDogZGF0YS50ZXh0LFxuICAgICAgICAgICAgICAgIGhpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZGVsYXk6IDQwMDAsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLScrZGF0YS5pY29uLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCdhZGRfZm9ybV9yZXN1bHQnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIGlmKGRhdGEucmVzdWx0KXtcbiAgICAgICAgICAgICQoXCIjbW9kYWxBZGRcIilbMF0ucmVzZXQoKTtcbiAgICAgICAgICAgICQoXCIjbW9kYWxBZGREZXNrdG9wXCIpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3IFBOb3RpZnkoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEudGV4dCxcbiAgICAgICAgICAgICAgICBoaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlbGF5OiA0MDAwLFxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS0nK2RhdGEuaWNvbixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNvY2tldC5vbignZWRpdF9mb3JtX3Jlc3VsdCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgaWYoZGF0YS5yZXN1bHQpe1xuICAgICAgICAgICAgJChcIiNtb2RhbEVkaXRcIilbMF0ucmVzZXQoKTtcbiAgICAgICAgICAgICQoXCIjbW9kYWxFZGl0RGVza3RvcFwiKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0c192aWV3ZXIoJyNoYXJkd2FyZS0nK2RhdGEuaWQsZGF0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3IFBOb3RpZnkoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEudGV4dCxcbiAgICAgICAgICAgICAgICBoaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlbGF5OiA0MDAwLFxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS0nK2RhdGEuaWNvbixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAgICAgICAgIFxuXG59KTtcblxuXG5mdW5jdGlvbiBhY3Rpb25zRGVza3RvcERldGFpbCgpe1xuXHQkKCcuYnRuLWVkaXQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGs9JCh0aGlzKS5jbG9zZXN0KFwiZGl2XCIpLmF0dHIoXCJkYXRhLXBrXCIpO1xuXHRcdFx0c2V0SGFyZHdhcmVPcHRpb25zKCcjbW9kYWxFZGl0RGVza3RvcCcpO1xuICAgICAgICAgICAgc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0cygnI21vZGFsRWRpdERlc2t0b3AnLHBrKTtcbiAgICAgICAgICAgICQoXCIjbW9kYWxFZGl0XCIpWzBdLnJlc2V0KCk7XG5cdFx0XHQkKCcjbW9kYWxFZGl0RGVza3RvcCcpLm1vZGFsKHtcblx0XHRcdFx0YmFja2Ryb3A6ICdzdGF0aWMnLFxuXHRcdFx0XHRrZXlib2FyZDogZmFsc2Vcblx0XHRcdH0pLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICAgJCgnI2hhcmR3YXJlLWJsb2NrJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnI21vZGFsRWRpdCcpLnBhcnNsZXkoKTtcbiAgICAgICAgICAgIG1vZGFsX2VkaXRfZGVza3RvcF9kYXRhdGFibGVzKHBrKTtcblx0fSk7XG5cblx0JCgnLmJ0bi10ZW1wbGF0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRpZigkKCcucXVvdGEtdGVtcGxhdGVzIC5wZXJjJykudGV4dCgpID49MTAwKXtcbiAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJRdW90YSBmb3IgY3JlYXRpbmcgdGVtcGxhdGVzIGZ1bGwuXCIsXG4gICAgICAgICAgICAgICAgdGV4dDogXCJDYW4ndCBjcmVhdGUgYW5vdGhlciB0ZW1wbGF0ZSwgcXVvdGEgZnVsbC5cIixcbiAgICAgICAgICAgICAgICBoaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlbGF5OiAzMDAwLFxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1hbGVydC1zaWduJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgIH0pO1xuXHRcdH1lbHNle1x0XG5cdFx0XHR2YXIgcGs9JCh0aGlzKS5jbG9zZXN0KFwiZGl2XCIpLmF0dHIoXCJkYXRhLXBrXCIpO1xuXHRcdFx0c2V0RGVmYXVsdHNUZW1wbGF0ZShwayk7XG5cdFx0XHRzZXRIYXJkd2FyZU9wdGlvbnMoJyNtb2RhbFRlbXBsYXRlRGVza3RvcCcpO1xuXHRcdFx0c2V0SGFyZHdhcmVEb21haW5EZWZhdWx0cygnI21vZGFsVGVtcGxhdGVEZXNrdG9wJyxwayk7XG5cdFx0XHQkKCcjbW9kYWxUZW1wbGF0ZURlc2t0b3AnKS5tb2RhbCh7XG5cdFx0XHRcdGJhY2tkcm9wOiAnc3RhdGljJyxcblx0XHRcdFx0a2V5Ym9hcmQ6IGZhbHNlXG5cdFx0XHR9KS5tb2RhbCgnc2hvdycpO1xuICAgICAgICB9XG5cdH0pO1xuXG5cdCQoJy5idG4tZGVsZXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgcGs9JCh0aGlzKS5jbG9zZXN0KFwiZGl2XCIpLmF0dHIoXCJkYXRhLXBrXCIpO1xuXHRcdFx0XHR2YXIgbmFtZT0kKHRoaXMpLmNsb3Nlc3QoXCJkaXZcIikuYXR0cihcImRhdGEtbmFtZVwiKTtcblx0XHRcdFx0bmV3IFBOb3RpZnkoe1xuXHRcdFx0XHRcdFx0dGl0bGU6ICdDb25maXJtYXRpb24gTmVlZGVkJyxcblx0XHRcdFx0XHRcdFx0dGV4dDogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHZpcnR1YWwgbWFjaGluZTogXCIrbmFtZStcIj9cIixcblx0XHRcdFx0XHRcdFx0aGlkZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDAuOSxcblx0XHRcdFx0XHRcdFx0Y29uZmlybToge1xuXHRcdFx0XHRcdFx0XHRcdGNvbmZpcm06IHRydWVcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0YnV0dG9uczoge1xuXHRcdFx0XHRcdFx0XHRcdGNsb3NlcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c3RpY2tlcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0aGlzdG9yeToge1xuXHRcdFx0XHRcdFx0XHRcdGhpc3Rvcnk6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHN0YWNrOiBzdGFja19jZW50ZXJcblx0XHRcdFx0XHRcdH0pLmdldCgpLm9uKCdwbm90aWZ5LmNvbmZpcm0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnZG9tYWluX3VwZGF0ZScseydwayc6cGssJ25hbWUnOidzdGF0dXMnLCd2YWx1ZSc6J0RlbGV0aW5nJ30pXG5cdFx0XHRcdFx0XHR9KS5vbigncG5vdGlmeS5jYW5jZWwnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0fSk7XHRcblx0fSk7XG59XG5cdFxuLy9+IFJFTkRFUiBEQVRBVEFCTEVcdFxuZnVuY3Rpb24gYWRkRGVza3RvcERldGFpbFBhbm5lbCAoIGQgKSB7XG5cdFx0JG5ld1BhbmVsID0gJHRlbXBsYXRlLmNsb25lKCk7XG5cdFx0JG5ld1BhbmVsLmh0bWwoZnVuY3Rpb24oaSwgb2xkSHRtbCl7XG5cdFx0XHRyZXR1cm4gb2xkSHRtbC5yZXBsYWNlKC9kLmlkL2csIGQuaWQpLnJlcGxhY2UoL2QubmFtZS9nLCBkLm5hbWUpO1xuXHRcdH0pO1xuXHRcdHJldHVybiAkbmV3UGFuZWxcbn1cblxuZnVuY3Rpb24gc2V0RGVza3RvcERldGFpbEJ1dHRvbnNTdGF0dXMoaWQsc3RhdHVzKXtcbiAgICAgICAgICBpZihzdGF0dXM9PSdTdG9wcGVkJyl7XG4gICAgICAgICAgICAgICAgJCgnI2FjdGlvbnMtJytpZCsnICpbY2xhc3NePVwiYnRuXCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgJCgnI2FjdGlvbnMtJytpZCsnICpbY2xhc3NePVwiYnRuXCJdJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICB9IFxufVxuXHRcbmZ1bmN0aW9uIGljb24obmFtZSl7XG4gICAgICAgaWYobmFtZT09J3dpbmRvd3MnIHx8IG5hbWU9PSdsaW51eCcpe1xuICAgICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz0nZmEgZmEtXCIrbmFtZStcIiBmYS0yeCAnPjwvaT5cIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nZmwtXCIrbmFtZStcIiBmYS0yeCc+PC9zcGFuPlwiO1xuXHRcdH0gICAgICAgXG59XG5cbmZ1bmN0aW9uIGljb24xeChuYW1lKXtcbiAgICAgICBpZihuYW1lPT0nd2luZG93cycgfHwgbmFtZT09J2xpbnV4Jyl7XG4gICAgICAgICAgIHJldHVybiBcIjxpIGNsYXNzPSdmYSBmYS1cIituYW1lK1wiJz48L2k+XCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIFwiPHNwYW4gY2xhc3M9J2ZsLVwiK25hbWUrXCInPjwvc3Bhbj5cIjtcblx0XHR9ICAgICAgIFxufVxuXG5mdW5jdGlvbiByZW5kZXJEaXNwbGF5KGRhdGEpe1xuICAgICAgICBpZihkYXRhLnN0YXR1cz09J1N0b3BwaW5nJyB8fCBkYXRhLnN0YXR1cyA9PSdTdGFydGVkJyl7XG4gICAgICAgICAgICByZXR1cm4gJyA8ZGl2IGNsYXNzPVwiZGlzcGxheVwiPiBcXFxuXHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiYnRuLWRpc3BsYXlcIiBjbGFzcz1cImJ0biBidG4tcGlsbC1yaWdodCBidG4tc3VjY2VzcyBidG4teHNcIj4gXFxcblx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWRlc2t0b3BcIj48L2k+IFNob3c8L2J1dHRvbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJ1xufVxuXG5mdW5jdGlvbiByZW5kZXJOYW1lKGRhdGEpe1xuXHRcdHJldHVybiAnPGRpdiBjbGFzcz1cImJsb2NrX2NvbnRlbnRcIiA+IFxcXG4gICAgICBcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZVwiIHN0eWxlPVwiaGVpZ2h0OiA0cHg7IG1hcmdpbi10b3A6IDBweDtcIj4gXFxcbiAgICAgICAgICAgICAgICA8YT4nK2RhdGEubmFtZSsnPC9hPiBcXFxuICAgICAgICAgICAgICAgIDwvaDI+IFxcXG4gICAgICBcdFx0XHQ8cCBjbGFzcz1cImV4Y2VycHRcIiA+JytkYXRhLmRlc2NyaXB0aW9uKyc8L3A+IFxcXG4gICAgICAgICAgIFx0XHQ8L2Rpdj4nXG59XG4gICAgICAgICAgICAgICAgICAgICAgICBcbmZ1bmN0aW9uIHJlbmRlckljb24oZGF0YSl7XG5cdFx0cmV0dXJuICc8c3BhbiBjbGFzcz1cInhlLWljb25cIiBkYXRhLXBrPVwiJytkYXRhLmlkKydcIj4nK2ljb24oZGF0YS5pY29uKSsnPC9zcGFuPidcbn1cblxuZnVuY3Rpb24gcmVuZGVySWNvbjF4KGRhdGEpe1xuXHRcdHJldHVybiAnPHNwYW4gY2xhc3M9XCJ4ZS1pY29uXCIgZGF0YS1waz1cIicrZGF0YS5pZCsnXCI+JytpY29uMXgoZGF0YS5pY29uKSsnPC9zcGFuPidcbn1cblxuZnVuY3Rpb24gcmVuZGVyU3RhdHVzKGRhdGEpe1xuXHRcdHJldHVybiBkYXRhLnN0YXR1cztcbn1cblx0XG5mdW5jdGlvbiByZW5kZXJBY3Rpb24oZGF0YSl7XG5cdFx0c3RhdHVzPWRhdGEuc3RhdHVzO1xuICAgICAgICBpZihzdGF0dXM9PSdTdG9wcGVkJyB8fCBzdGF0dXM9PSdGYWlsZWQnKXtcbiAgICAgICAgICAgIHJldHVybiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJidG4tcGxheVwiIGNsYXNzPVwiYnRuIGJ0bi1waWxsLXJpZ2h0IGJ0bi1zdWNjZXNzIGJ0bi14c1wiPjxpIGNsYXNzPVwiZmEgZmEtcGxheVwiPjwvaT4gU3RhcnQ8L2J1dHRvbj4nO1xuICAgICAgICB9XG4gICAgICAgIGlmKHN0YXR1cz09J1N0YXJ0ZWQnKXtcbiAgICAgICAgICAgIHJldHVybiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJidG4tc3RvcFwiIGNsYXNzPVwiYnRuIGJ0bi1waWxsLWxlZnQgYnRuLWRhbmdlciBidG4teHNcIj48aSBjbGFzcz1cImZhIGZhLXN0b3BcIj48L2k+IFN0b3A8L2J1dHRvbj4nO1xuICAgICAgICB9IFxuICAgICAgICBpZihzdGF0dXM9PSdDcmFzaGVkJyl7XG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJDaGFuZ2VcIj4gPGkgY2xhc3M9XCJmYSBmYS10aHVtYnMtby1kb3duIGZhLTJ4XCI+PC9pPiA8L2Rpdj4nO1xuICAgICAgICB9IFxuICAgICAgICBpZihzdGF0dXM9PSdEaXNhYmxlZCcpe1xuICAgICAgICAgICAgICAgIHJldHVybiAnPGkgY2xhc3M9XCJmYSBmYS10aW1lcyBmYS0yeFwiPjwvaT4nO1xuICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiAnPGkgY2xhc3M9XCJmYSBmYS1zcGlubmVyIGZhLXB1bHNlIGZhLTJ4IGZhLWZ3XCI+PC9pPic7XG59XHRcblxuZnVuY3Rpb24gcmVuZGVySHlwU3RhcnRlZChkYXRhKXtcbiAgICAgICAgaWYoJ2ZvcmNlZF9oeXAnIGluIGRhdGEgJiYgZGF0YS5mb3JjZWRfaHlwIT0nJyl7cmV0dXJuICcqKicrZGF0YS5mb3JjZWRfaHlwKycqKic7fVxuICAgICAgICBpZignaHlwX3N0YXJ0ZWQnIGluIGRhdGEpeyByZXR1cm4gZGF0YS5oeXBfc3RhcnRlZDt9XG5cdFx0cmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0c1RlbXBsYXRlKGlkKSB7XG5cdCQuYWpheCh7XG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHR1cmw6XCIvZGVza3RvcHMvdGVtcGxhdGVVcGRhdGUvXCIgKyBpZCxcblx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKVxuXHRcdHtcblx0XHRcdCQoJy50ZW1wbGF0ZS1pZCcpLnZhbChpZCk7XG5cdFx0XHQkKCcudGVtcGxhdGUtaWQnKS5hdHRyKCdkYXRhLXBrJywgaWQpO1xuICAgICAgICAgICAgJCgnLnRlbXBsYXRlLW5hbWUnKS52YWwoJ1RlbXBsYXRlICcrZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICQoJy50ZW1wbGF0ZS1kZXNjcmlwdGlvbicpLnZhbChkYXRhLmRlc2NyaXB0aW9uKTtcblx0XHR9XHRcdFx0XHRcblx0fSk7XG59XG5cblxuXG5cbmZ1bmN0aW9uIHJlbmRlclRlbXBsYXRlS2luZChkYXRhKXtcblx0XHRpZihkYXRhLmtpbmQ9PVwicHVibGljX3RlbXBsYXRlXCIpe3JldHVybiBcInB1YmxpY1wiO31cbiAgICAgICAgaWYoZGF0YS5raW5kPT1cInVzZXJfdGVtcGxhdGVcIil7cmV0dXJuIFwicHJpdmF0ZVwiO31cbiAgICAgICAgcmV0dXJuIFwiYmFzZVwiXG59XG5cbmZ1bmN0aW9uIG1vZGFsX2FkZF9kZXNrdG9wX2RhdGF0YWJsZXMoKXtcbiAgICBtb2RhbF9hZGRfZGVza3RvcHMuZGVzdHJveSgpXG4gICAgJCgnI21vZGFsQWRkRGVza3RvcCAjdGVtcGxhdGUnKS52YWwoJycpO1xuICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI2RhdGF0YWJsZXMtZXJyb3Itc3RhdHVzJykuZW1wdHkoKVxuICAgIFxuICAgICQoJyNtb2RhbF9hZGRfZGVza3RvcHMgdGhlYWQgdGgnKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aXRsZSA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICBpZih0aXRsZT09J05hbWUnKXtcbiAgICAgICAgICAgICQodGhpcykuaHRtbCggJzxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoICcrdGl0bGUrJ1wiIC8+JyApO1xuICAgICAgICB9XG4gICAgICAgIC8vfiBpZih0aXRsZT09J1R5cGUnKXtcbiAgICAgICAgICAgICAgICAgICAgLy9+IGNvbHVtbj1tb2RhbF9hZGRfZGVza3RvcHMuY29sdW1ucygwKVxuICAgICAgICAgICAgICAgICAgICAvL34gdmFyIHNlbGVjdCA9ICQoJzxzZWxlY3Q+PG9wdGlvbiB2YWx1ZT1cIlwiPjxvcHRpb24gdmFsdWU9XCJiYXNlXCI+QmFzZTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9XCJwdWJsaWNfdGVtcGxhdGVcIj5QdWJsaWM8L3NlbGVjdD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9+IC5hcHBlbmRUbyggJChjb2x1bW4uaGVhZGVyKCkpLmVtcHR5KCkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9+IC5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34gdmFyIHZhbCA9ICQuZm4uZGF0YVRhYmxlLnV0aWwuZXNjYXBlUmVnZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfiAkKHRoaXMpLnZhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+IGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34gLnNlYXJjaCggdmFsID8gJ14nK3ZhbCsnJCcgOiAnJywgdHJ1ZSwgZmFsc2UgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34gLmRyYXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfiB9ICk7XG4gICAgICAgIC8vfiB9XG4gICAgfSApO1xuICAgIFxuXHRtb2RhbF9hZGRfZGVza3RvcHMgPSAkKCcjbW9kYWxfYWRkX2Rlc2t0b3BzJykuRGF0YVRhYmxlKHtcblx0XHRcdFwiYWpheFwiOiB7XG5cdFx0XHRcdFwidXJsXCI6IFwiL2Rlc2t0b3BzL2dldEFsbFRlbXBsYXRlc1wiLFxuXHRcdFx0XHRcImRhdGFTcmNcIjogXCJcIlxuXHRcdFx0fSxcblxuICAgICAgICAgICAgXCJzY3JvbGxZXCI6ICAgICAgICBcIjEyNXB4XCIsXG4gICAgICAgICAgICBcInNjcm9sbENvbGxhcHNlXCI6IHRydWUsXG4gICAgICAgICAgICBcInBhZ2luZ1wiOiAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL34gXCJzZWFyY2hpbmdcIjogICAgICAgICBmYWxzZSxcblx0XHRcdFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0XHRcImxvYWRpbmdSZWNvcmRzXCI6ICc8aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtcHVsc2UgZmEtM3ggZmEtZndcIj48L2k+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+TG9hZGluZy4uLjwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgIFwiemVyb1JlY29yZHNcIjogICAgXCJObyBtYXRjaGluZyB0ZW1wbGF0ZXMgZm91bmRcIixcbiAgICAgICAgICAgICAgICBcImluZm9cIjogICAgICAgICAgIFwiU2hvd2luZyBfU1RBUlRfIHRvIF9FTkRfIG9mIF9UT1RBTF8gdGVtcGxhdGVzXCIsXG4gICAgICAgICAgICAgICAgXCJpbmZvRW1wdHlcIjogICAgICBcIlNob3dpbmcgMCB0byAwIG9mIDAgdGVtcGxhdGVzXCIsXG4gICAgICAgICAgICAgICAgXCJpbmZvRmlsdGVyZWRcIjogICBcIihmaWx0ZXJlZCBmcm9tIF9NQVhfIHRvdGFsIHRlbXBsYXRlcylcIlxuXHRcdFx0fSxcblx0XHRcdFwicm93SWRcIjogXCJpZFwiLFxuXHRcdFx0XCJkZWZlclJlbmRlclwiOiB0cnVlLFxuXHRcdFx0XCJjb2x1bW5zXCI6IFtcblx0XHRcdFx0Ly9+IHtcbiAgICAgICAgICAgICAgICAvL34gXCJjbGFzc05hbWVcIjogICAgICAnZGV0YWlscy1jb250cm9sJyxcbiAgICAgICAgICAgICAgICAvL34gXCJvcmRlcmFibGVcIjogICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAvL34gXCJkYXRhXCI6ICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIC8vfiBcIndpZHRoXCI6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIC8vfiBcImRlZmF1bHRDb250ZW50XCI6ICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4taW5mb1wiIHR5cGU9XCJidXR0b25cIiAgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiA+PGkgY2xhc3M9XCJmYSBmYS1wbHVzXCI+PC9pPjwvYnV0dG9uPidcblx0XHRcdFx0Ly9+IH0sXG4gICAgICAgICAgICAgICAgeyBcImRhdGFcIjogXCJraW5kXCIsIFwid2lkdGhcIjogXCIxMHB4XCIsIFwib3JkZXJhYmxlXCI6IGZhbHNlfSxcblx0XHRcdFx0eyBcImRhdGFcIjogXCJuYW1lXCJ9LFxuICAgICAgICAgICAgICAgIHsgXCJkYXRhXCI6IFwiZ3JvdXBcIiwgXCJ3aWR0aFwiOiBcIjEwcHhcIn0sXG4gICAgICAgICAgICAgICAgeyBcImRhdGFcIjogXCJ1c2VybmFtZVwifVxuXHRcdFx0XHRdLFxuXHRcdFx0IFwib3JkZXJcIjogW1swLCAnYXNjJ11dLFx0XG4gICAgICAgICAgICAgXCJwYWdlTGVuZ3RoXCI6IDUsXHQgXG5cdFx0XCJjb2x1bW5EZWZzXCI6IFsgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRzXCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwicmVuZGVyXCI6IGZ1bmN0aW9uICggZGF0YSwgdHlwZSwgZnVsbCwgbWV0YSApIHtcblx0XHRcdFx0XHRcdFx0ICByZXR1cm4gcmVuZGVyVGVtcGxhdGVLaW5kKGZ1bGwpO1xuXHRcdFx0XHRcdFx0XHR9fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcInRhcmdldHNcIjogMSxcblx0XHRcdFx0XHRcdFx0XCJyZW5kZXJcIjogZnVuY3Rpb24gKCBkYXRhLCB0eXBlLCBmdWxsLCBtZXRhICkge1xuXHRcdFx0XHRcdFx0XHQgIHJldHVybiByZW5kZXJJY29uMXgoZnVsbCkrXCIgXCIrZnVsbC5uYW1lO1xuXHRcdFx0XHRcdFx0XHR9fSxcblx0XHRcdFx0XHRcdFx0XVxuXG5cblxuXHR9ICk7ICBcbiAgICBcblxuXG4gICAgICAgIFxuICAgIFxuICAgIG1vZGFsX2FkZF9kZXNrdG9wcy5jb2x1bW5zKCkuZXZlcnkoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuIFxuICAgICAgICAkKCAnaW5wdXQnLCB0aGlzLmhlYWRlcigpICkub24oICdrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIHRoYXQuc2VhcmNoKCkgIT09IHRoaXMudmFsdWUgKSB7XG4gICAgICAgICAgICAgICAgdGhhdFxuICAgICAgICAgICAgICAgICAgICAuc2VhcmNoKCB0aGlzLnZhbHVlIClcbiAgICAgICAgICAgICAgICAgICAgLmRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApO1xuICAgIH0gKTtcblxuXG5cblxuXG59XG5cbmZ1bmN0aW9uIGluaXRhbGl6ZV9tb2RhbF9hbGxfZGVza3RvcHNfZXZlbnRzKCl7XG4gICAkKCcjbW9kYWxfYWRkX2Rlc2t0b3BzIHRib2R5Jykub24oICdjbGljaycsICd0cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmRhdGE9bW9kYWxfYWRkX2Rlc2t0b3BzLnJvdyh0aGlzKS5kYXRhKClcbiAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKCdzZWxlY3RlZCcpICkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICQoJyNtb2RhbF9hZGRfZGVza3RvcHMnKS5jbG9zZXN0KCcueF9wYW5lbCcpLmFkZENsYXNzKCdkYXRhdGFibGVzLWVycm9yJyk7XG4gICAgICAgICAgICAkKCcjbW9kYWxBZGREZXNrdG9wICNkYXRhdGFibGVzLWVycm9yLXN0YXR1cycpLmh0bWwoJ05vIHRlbXBsYXRlIHNlbGVjdGVkJykuYWRkQ2xhc3MoJ215LWVycm9yJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI3RlbXBsYXRlJykudmFsKCcnKTtcbiAgICAgICAgICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI2J0bi1oYXJkd2FyZScpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI2hhcmR3YXJlLWJsb2NrJykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kYWxfYWRkX2Rlc2t0b3BzLiQoJ3RyLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgJCgnI21vZGFsX2FkZF9kZXNrdG9wcycpLmNsb3Nlc3QoJy54X3BhbmVsJykucmVtb3ZlQ2xhc3MoJ2RhdGF0YWJsZXMtZXJyb3InKTtcbiAgICAgICAgICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI2RhdGF0YWJsZXMtZXJyb3Itc3RhdHVzJykuZW1wdHkoKS5odG1sKCc8YiBzdHlsZT1cImNvbG9yOkRhcmtTZWFHcmVlblwiPlRlbXBsYXRlIHNlbGVjdGVkOiAnK3JkYXRhWyduYW1lJ10rJzwvYj4nKS5yZW1vdmVDbGFzcygnbXktZXJyb3InKTtcbiAgICAgICAgICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI3RlbXBsYXRlJykudmFsKHJkYXRhWydpZCddKTtcbiAgICAgICAgICAgIGlmKHVzZXJbJ3JvbGUnXSE9J3VzZXInKXtcbiAgICAgICAgICAgICAgICAkKCcjbW9kYWxBZGREZXNrdG9wICNidG4taGFyZHdhcmUnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0cygnI21vZGFsQWRkRGVza3RvcCcscmRhdGFbJ2lkJ10pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9ICk7XHRcblx0XG4gICAgJChcIiNtb2RhbEFkZERlc2t0b3AgI3NlbmRcIikub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICB2YXIgZm9ybSA9ICQoJyNtb2RhbEFkZCcpO1xuXG4gICAgICAgICAgICBmb3JtLnBhcnNsZXkoKS52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAoZm9ybS5wYXJzbGV5KCkuaXNWYWxpZCgpKXtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZT0kKCcjbW9kYWxBZGREZXNrdG9wICN0ZW1wbGF0ZScpLnZhbCgpO1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSAhPScnKXtcbiAgICAgICAgICAgICAgICAgICAgZGF0YT0kKCcjbW9kYWxBZGQnKS5zZXJpYWxpemVPYmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2RvbWFpbl9hZGQnLGRhdGEpXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICQoJyNtb2RhbF9hZGRfZGVza3RvcHMnKS5jbG9zZXN0KCcueF9wYW5lbCcpLmFkZENsYXNzKCdkYXRhdGFibGVzLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNtb2RhbEFkZERlc2t0b3AgI2RhdGF0YWJsZXMtZXJyb3Itc3RhdHVzJykuaHRtbCgnTm8gdGVtcGxhdGUgc2VsZWN0ZWQnKS5hZGRDbGFzcygnbXktZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgJChcIiNtb2RhbEFkZERlc2t0b3AgI2J0bi1oYXJkd2FyZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAkKCcjbW9kYWxBZGREZXNrdG9wICNoYXJkd2FyZS1ibG9jaycpLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFx0XG59XG5cbmZ1bmN0aW9uIG1vZGFsX2VkaXRfZGVza3RvcF9kYXRhdGFibGVzKGlkKXtcblx0JC5hamF4KHtcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdHVybDpcIi9kZXNrdG9wcy90ZW1wbGF0ZVVwZGF0ZS9cIiArIGlkLFxuXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpXG5cdFx0e1xuICAgICAgICAgICAgJCgnI21vZGFsRWRpdERlc2t0b3AgI2ZvcmNlZF9oeXAnKS5jbG9zZXN0KFwiZGl2XCIpLnJlbW92ZSgpO1xuXHRcdFx0JCgnI21vZGFsRWRpdERlc2t0b3AgI25hbWVfaGlkZGVuJykudmFsKGRhdGEubmFtZSk7XG4gICAgICAgICAgICAkKCcjbW9kYWxFZGl0RGVza3RvcCAjbmFtZScpLnZhbChkYXRhLm5hbWUpO1xuXHRcdFx0JCgnI21vZGFsRWRpdERlc2t0b3AgI2Rlc2NyaXB0aW9uJykudmFsKGRhdGEuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgJCgnI21vZGFsRWRpdERlc2t0b3AgI2lkJykudmFsKGRhdGEuaWQpO1xuICAgICAgICAgICAgc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0cygnI21vZGFsRWRpdERlc2t0b3AnLCBpZCk7XG5cdFx0fVx0XHRcdFx0XG5cdH0pO1xuICBcbiAgICBcbn1cblxuICAgICQoXCIjbW9kYWxFZGl0RGVza3RvcCAjc2VuZFwiKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIHZhciBmb3JtID0gJCgnI21vZGFsRWRpdCcpO1xuICAgICAgICAgICAgZm9ybS5wYXJzbGV5KCkudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIGlmIChmb3JtLnBhcnNsZXkoKS5pc1ZhbGlkKCkpe1xuICAgICAgICAgICAgICAgICAgICBkYXRhPSQoJyNtb2RhbEVkaXQnKS5zZXJpYWxpemVPYmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2RvbWFpbl9lZGl0JyxkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgXG4iLCIvKlxuKiBDb3B5cmlnaHQgMjAxNyB0aGUgSXNhcmQtdmRpIHByb2plY3QgYXV0aG9yczpcbiogICAgICBKb3NlcCBNYXJpYSBWacOxb2xhcyBBdXF1ZXJcbiogICAgICBBbGJlcnRvIExhcnJheiBEYWxtYXNlc1xuKiBMaWNlbnNlOiBBR1BMdjNcbiovXG5cbnZhciAkdGVtcGxhdGU9Jyc7XG52YXIgdGFibGU9Jyc7XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0JHRlbXBsYXRlID0gJChcIi50ZW1wbGF0ZS1kZXRhaWxcIik7XG5cdHRhYmxlID0gJCgnI3RlbXBsYXRlcycpLkRhdGFUYWJsZSh7XG5cdFx0XHRcImFqYXhcIjoge1xuXHRcdFx0XHRcInVybFwiOiBcIi90ZW1wbGF0ZXMvZ2V0XCIsXG5cdFx0XHRcdFwiZGF0YVNyY1wiOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0XCJsYW5ndWFnZVwiOiB7XG5cdFx0XHRcdFwibG9hZGluZ1JlY29yZHNcIjogJzxpIGNsYXNzPVwiZmEgZmEtc3Bpbm5lciBmYS1wdWxzZSBmYS0zeCBmYS1md1wiPjwvaT48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Mb2FkaW5nLi4uPC9zcGFuPidcblx0XHRcdH0sXG5cdFx0XHRcInJvd0lkXCI6IFwiaWRcIixcblx0XHRcdFwiZGVmZXJSZW5kZXJcIjogdHJ1ZSxcblx0XHRcdFwiY29sdW1uc1wiOiBbXG5cdFx0XHRcdHtcbiAgICAgICAgICAgICAgICBcImNsYXNzTmFtZVwiOiAgICAgICdkZXRhaWxzLWNvbnRyb2wnLFxuICAgICAgICAgICAgICAgIFwib3JkZXJhYmxlXCI6ICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6ICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIFwid2lkdGhcIjogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgXCJkZWZhdWx0Q29udGVudFwiOiAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWluZm9cIiB0eXBlPVwiYnV0dG9uXCIgIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgPjxpIGNsYXNzPVwiZmEgZmEtcGx1c1wiPjwvaT48L2J1dHRvbj4nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHsgXCJkYXRhXCI6IFwiaWNvblwiLCBcIndpZHRoXCI6IFwiMTBweFwiIH0sXG5cdFx0XHRcdHsgXCJkYXRhXCI6IFwibmFtZVwifSxcblx0XHRcdFx0eyBcImRhdGFcIjogXCJraW5kLWljb25cIn0sXG5cdFx0XHRcdHsgXCJkYXRhXCI6IFwia2luZFwifSxcblx0XHRcdFx0eyBcImRhdGFcIjogXCJzdGF0dXNcIn0sXG4gICAgICAgICAgICAgICAgeyBcImRhdGFcIjogXCJwZW5kaW5nXCJ9LFxuXHRcdFx0XHR7IFwiZGF0YVwiOiBcImRlc2NyaXB0aW9uXCIsIFwidmlzaWJsZVwiOiBmYWxzZX1cblx0XHRcdFx0XSxcblx0XHRcdCBcIm9yZGVyXCI6IFtbMiwgJ2FzYyddXSxcblx0XHRcdCBcImNvbHVtbkRlZnNcIjogWyB7XG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0c1wiOiAxLFxuXHRcdFx0XHRcdFx0XHRcInJlbmRlclwiOiBmdW5jdGlvbiAoIGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEgKSB7XG5cdFx0XHRcdFx0XHRcdCAgcmV0dXJuIHJlbmRlckljb24oZnVsbCk7XG5cdFx0XHRcdFx0XHRcdH19LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0c1wiOiAyLFxuXHRcdFx0XHRcdFx0XHRcInJlbmRlclwiOiBmdW5jdGlvbiAoIGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEgKSB7XG5cdFx0XHRcdFx0XHRcdCAgcmV0dXJuIHJlbmRlck5hbWUoZnVsbCk7XG5cdFx0XHRcdFx0XHRcdH19LFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0c1wiOiAzLFxuXHRcdFx0XHRcdFx0XHRcIm9yZGVyYWJsZVwiOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XCJyZW5kZXJcIjogZnVuY3Rpb24gKCBkYXRhLCB0eXBlLCBmdWxsLCBtZXRhICkge1xuXHRcdFx0XHRcdFx0XHQgIHJldHVybiByZW5kZXJLaW5kSWNvbihmdWxsKTtcblx0XHRcdFx0XHRcdFx0fX0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRzXCI6IDQsXG5cdFx0XHRcdFx0XHRcdFwicmVuZGVyXCI6IGZ1bmN0aW9uICggZGF0YSwgdHlwZSwgZnVsbCwgbWV0YSApIHtcblx0XHRcdFx0XHRcdFx0ICByZXR1cm4gcmVuZGVyS2luZChmdWxsKTtcblx0XHRcdFx0XHRcdFx0fX0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRzXCI6IDUsXG5cdFx0XHRcdFx0XHRcdFwicmVuZGVyXCI6IGZ1bmN0aW9uICggZGF0YSwgdHlwZSwgZnVsbCwgbWV0YSApIHtcblx0XHRcdFx0XHRcdFx0ICByZXR1cm4gcmVuZGVyU3RhdHVzKGZ1bGwpO1xuXHRcdFx0XHRcdFx0XHR9fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcInRhcmdldHNcIjogNixcblx0XHRcdFx0XHRcdFx0XCJyZW5kZXJcIjogZnVuY3Rpb24gKCBkYXRhLCB0eXBlLCBmdWxsLCBtZXRhICkge1xuXHRcdFx0XHRcdFx0XHQgIHJldHVybiByZW5kZXJQZW5kaW5nKGZ1bGwpO1xuXHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRdXG5cdFx0fSApO1xuXHRcblx0JCgnI3RlbXBsYXRlcycpLmZpbmQoJ3Rib2R5Jykub24oJ2NsaWNrJywgJ3RkLmRldGFpbHMtY29udHJvbCcsIGZ1bmN0aW9uICgpIHtcblx0XHRjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICAgICAgICB2YXIgdHIgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJyk7XG4gICAgICAgIHZhciByb3cgPSB0YWJsZS5yb3coIHRyICk7XG4gICAgICAgIGlmICggcm93LmNoaWxkLmlzU2hvd24oKSApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgcm93IGlzIGFscmVhZHkgb3BlbiAtIGNsb3NlIGl0XG4gICAgICAgICAgICByb3cuY2hpbGQuaGlkZSgpO1xuICAgICAgICAgICAgcm93LmNoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgdHIucmVtb3ZlQ2xhc3MoJ3Nob3duJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBPcGVuIHRoaXMgcm93XG4gICAgICAgICAgICByb3cuY2hpbGQoIGZvcm1hdFBhbmVsKHJvdy5kYXRhKCkpICkuc2hvdygpO1xuICAgICAgICAgICAgdHIuYWRkQ2xhc3MoJ3Nob3duJyk7XG4gICAgICAgICAgICBzZXRIYXJkd2FyZURvbWFpbkRlZmF1bHRzX3ZpZXdlcignI2hhcmR3YXJlLScrcm93LmRhdGEoKS5pZCxyb3cuZGF0YSgpLmlkKTtcbiAgICAgICAgICAgIHNldEhhcmR3YXJlR3JhcGgoKTtcbiAgICAgICAgICAgIHNldEFsbG93ZWRzX3ZpZXdlcignI2FsbG93ZWRzLScrcm93LmRhdGEoKS5pZCxyb3cuZGF0YSgpLmlkKTtcbiAgICAgICAgICAgIGFjdGlvbnNUbXBsRGV0YWlsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICBcbiAgICAvL34gRGVsZXRlIGNvbmZpcm0gbW9kYWxcblx0JCgnI2NvbmZpcm0tbW9kYWwgPiAubW9kYWwtZGlhbG9nID4gLm1vZGFsLWNvbnRlbnQgPiAubW9kYWwtZm9vdGVyID4gLmJ0bi1wcmltYXJ5JykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpZDonKyQoJyNjb25maXJtLW1vZGFsJykuZGF0YSgnaWQnKSsnIC0gYWN0aW9uOiBkZWxldGUnKTtcbiAgICAgICAgLy8gTmVlZHMgc29tZSB3b3JrXG4gICAgICAgIH0pO1xuICAgICAgICBcblx0JCgnI2NvbmZpcm0tbW9kYWwnKS5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgIHZhciBidXR0b24gPSAkKGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xuXHQgIHZhciBpZCA9IGJ1dHRvbi5kYXRhKCdpZCcpOyAvLyBFeHRyYWN0IGRhdGEtKiBhdHRyaWJ1dGVzXG5cdCAgdmFyIG5hbWUgPSBidXR0b24uZGF0YSgnbmFtZScpO1xuXHQgIHZhciBtb2RhbCA9ICQodGhpcyk7XG5cdCAgbW9kYWwuZGF0YSgnaWQnLGlkKTtcblx0ICBtb2RhbC5maW5kKCcubW9kYWwtdGl0bGUnKS50ZXh0KCdEbyB5b3UgcmVhbGx5IHdhbnQgdG8gcmVtb3ZlIFwiJyArIG5hbWUgKyAnXCIgZGVza3RvcD8nKTtcblx0ICBtb2RhbC5maW5kKCcubW9kYWwtYm9keScpLnRleHQoJ1RoZSBkZXNrdG9wIHdpbGwgYmUgcGVybWFuZW50bHkgZGVsZXRlZCAodW5yZWNvdmVyYWJsZSknKVxuXHR9KTtcblxuICAgIC8vIFNvY2tldElPXG4gICAgdmFyIHNvY2tldCA9IGlvLmNvbm5lY3QobG9jYXRpb24ucHJvdG9jb2wrJy8vJyArIGRvY3VtZW50LmRvbWFpbiArICc6JyArIGxvY2F0aW9uLnBvcnQrJy9zaW9fdXNlcnMnKTtcblxuICAgIHNvY2tldC5vbignY29ubmVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25uZWN0aW9uX2RvbmUoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0xpc3RlbmluZyB1c2VyIG5hbWVzcGFjZScpO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29ubmVjdGlvbl9sb3N0KCk7XG4gICAgfSk7XG4gICAgXG4gICAgc29ja2V0Lm9uKCd1c2VyX3F1b3RhJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZygnUXVvdGEgdXBkYXRlJylcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBkcmF3VXNlclF1b3RhKGRhdGEpO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCd0ZW1wbGF0ZV91cGRhdGUnLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZScpXG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgdmFyIHJvdyA9IHRhYmxlLnJvdygnIycrZGF0YS5pZCk7IFxuICAgICAgICB0YWJsZS5yb3cocm93KS5kYXRhKGRhdGEpO1xuICAgICAgICBzZXREZXNrdG9wRGV0YWlsQnV0dG9uc1N0YXR1cyhkYXRhLmlkLCBkYXRhLnN0YXR1cyk7XG4gICAgfSk7XG5cbiAgICBzb2NrZXQub24oJ3RlbXBsYXRlX2FkZCcsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICBjb25zb2xlLmxvZygnYWRkJylcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuXHRcdGlmKCQoXCIjXCIgKyBkYXRhLmlkKS5sZW5ndGggPT0gMCkge1xuXHRcdCAgLy9pdCBkb2Vzbid0IGV4aXN0XG5cdFx0ICB0YWJsZS5yb3cuYWRkKGRhdGEpLmRyYXcoKTtcblx0XHR9ZWxzZXtcbiAgICAgICAgICAvL2lmIGFscmVhZHkgZXhpc3RzIGRvIGFuIHVwZGF0ZSAoaWUuIGNvbm5lY3Rpb24gbG9zdCBhbmQgcmVjb25uZWN0KVxuICAgICAgICAgIHZhciByb3cgPSB0YWJsZS5yb3coJyMnK2RhdGEuaWQpOyBcbiAgICAgICAgICB0YWJsZS5yb3cocm93KS5kYXRhKGRhdGEpO1x0XHRcdFxuXHRcdH1cbiAgICB9KTtcbiAgICBcbiAgICBzb2NrZXQub24oJ3RlbXBsYXRlX2RlbGV0ZScsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICBjb25zb2xlLmxvZygnZGVsZXRlJylcbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICB2YXIgcm93ID0gdGFibGUucm93KCcjJytkYXRhLmlkKS5yZW1vdmUoKS5kcmF3KCk7XG4gICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJEZXNrdG9wIGRlbGV0ZWRcIixcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkRlc2t0b3AgXCIrZGF0YS5uYW1lK1wiIGhhcyBiZWVuIGRlbGV0ZWRcIixcbiAgICAgICAgICAgICAgICBoaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlbGF5OiA0MDAwLFxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1zdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJ1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuLy9+IC8vIFNFUlZFUiBTRU5UIEVWRU5UUyBTdHJlYW1cblx0Ly9+IGlmICghIXdpbmRvdy5FdmVudFNvdXJjZSkge1xuXHQgIC8vfiB2YXIgZGVza3RvcHNfc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtL2Rlc2t0b3BzJyk7XG4gICAgICAvL34gY29uc29sZS5sb2coJ29uIGV2ZW50Jyk7XG5cdC8vfiB9IGVsc2Uge1xuXHQgIC8vfiAvLyBSZXN1bHQgdG8geGhyIHBvbGxpbmcgOihcblx0Ly9+IH1cblxuXHQvL34gd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24oKXtcblx0ICAvL34gZGVza3RvcHNfc291cmNlLmNsb3NlKCk7XG5cdC8vfiB9O1xuXG5cdC8vfiBkZXNrdG9wc19zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignTmV3JywgZnVuY3Rpb24oZSkge1xuXHQgIC8vfiB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTtcblx0XHQvL34gaWYoJChcIiNcIiArIGRhdGEuaWQpLmxlbmd0aCA9PSAwKSB7XG5cdFx0ICAvL34gLy9pdCBkb2Vzbid0IGV4aXN0XG5cdFx0ICAvL34gdGFibGUucm93LmFkZCggZm9ybWF0VG1wbERldGFpbHMoZGF0YSkpLmRyYXcoKTtcblx0XHQvL34gfWVsc2V7XG5cdFx0ICAvL34gLy9pZiBhbHJlYWR5IGV4aXN0cyBkbyBhbiB1cGRhdGUgKGllLiBjb25uZWN0aW9uIGxvc3QgYW5kIHJlY29ubmVjdClcblx0XHRcdC8vfiB2YXIgcm93ID0gdGFibGUucm93KCcjJytkYXRhLmlkKTsgXG5cdFx0XHQvL34gdGFibGUucm93KHJvdykuZGF0YShmb3JtYXRUbXBsRGV0YWlscyhkYXRhKSk7XHRcdFx0XG5cdFx0Ly9+IH1cbiAgICAgIFxuXHRcdC8vfiBpZihkYXRhLnN0YXR1cz09J1N0b3BwZWQnKXtcbiAgICAgICAgICAgIC8vfiAvLyBTaG91bGQgZGlzYWJsZSBkZXRhaWxzIGJ1dHRvbnNcblx0XHQvL34gfWVsc2V7XG4gICAgICAgICAgICAvL34gLy8gQW5kIGVuYWJsZSBpdCBhZ2FpblxuXHRcdC8vfiB9XG5cdC8vfiB9LCBmYWxzZSk7XG5cblx0Ly9+IGRlc2t0b3BzX3NvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdTdGF0dXMnLCBmdW5jdGlvbihlKSB7XG5cdCAgLy9+IHZhciBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgLy9+IHZhciByb3cgPSB0YWJsZS5yb3coJyMnK2RhdGEuaWQpOyBcbiAgICAgIC8vfiB0YWJsZS5yb3cocm93KS5kYXRhKGZvcm1hdFRtcGxEZXRhaWxzKGRhdGEpKTtcblx0Ly9+IH0sIGZhbHNlKTtcblxuXHQvL34gZGVza3RvcHNfc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ0RlbGV0ZWQnLCBmdW5jdGlvbihlKSB7XG5cdCAgLy9+IHZhciBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgLy9+IC8vIHZhciByb3cgPVxuXHRcdC8vfiB0YWJsZS5yb3coJyMnK2RhdGEuaWQpLnJlbW92ZSgpLmRyYXcoKTtcblx0Ly9+IH0sIGZhbHNlKTtcblxuXG59KTsgICAvLyBkb2N1bWVudCByZWFkeVxuXG5mdW5jdGlvbiBmb3JtYXRUbXBsRGV0YWlscyhkYXRhKXtcblx0XHR2YXIgcm93PSQoJypbZGF0YS1waz1cIicrZGF0YS5pZCsnXCJdJyk7XG5cdFx0aWYoZGF0YS5zdGF0dXM9PSdTdG9wcGVkJyl7XG5cdFx0XHRyb3cuZmluZCgnLmJ0bi1kZWxldGUnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHR9ZWxzZXtcblx0XHRcdHJvdy5maW5kKCcuYnRuLWRlbGV0ZScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRQYW5lbCAoIGQgKSB7XG5cdFx0JG5ld1BhbmVsID0gJHRlbXBsYXRlLmNsb25lKCk7XG5cdFx0JG5ld1BhbmVsLmh0bWwoZnVuY3Rpb24oaSwgb2xkSHRtbCl7XG5cdFx0XHRyZXR1cm4gb2xkSHRtbC5yZXBsYWNlKC9kLmlkL2csIGQuaWQpLnJlcGxhY2UoL2QubmFtZS9nLCBkLm5hbWUpLnJlcGxhY2UoL2Qua2luZC9nLCBkLmtpbmQpO1xuXHRcdH0pO1xuXHRcdGlmKGQuc3RhdHVzPT0nU3RvcHBlZCcpe1xuXHRcdFx0JG5ld1BhbmVsLmZpbmQoJy5idG4tYWN0aW9ucycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdH1lbHNle1xuXHRcdFx0JG5ld1BhbmVsLmZpbmQoJy5idG4tYWN0aW9ucycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiAkbmV3UGFuZWxcbn1cblx0XG5mdW5jdGlvbiBhY3Rpb25zVG1wbERldGFpbCgpe1xuXHRcdCQoJy5idG4tZWRpdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIE5vdCBpbXBsZW1lbnRlZFxuICAgICAgICB9KTtcblxuXHRcdCQoJy5idG4ta2luZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xvc2VzdD0kKHRoaXMpLmNsb3Nlc3QoXCJkaXZcIik7XG5cdFx0XHRcdHZhciBwaz1jbG9zZXN0LmF0dHIoXCJkYXRhLXBrXCIpO1xuXHRcdFx0XHR2YXIgbmFtZT1jbG9zZXN0LmF0dHIoXCJkYXRhLW5hbWVcIik7XG4gICAgICAgICAgICAgICAgbmV3IFBOb3RpZnkoe1xuXHRcdFx0XHRcdFx0dGl0bGU6ICdDb25maXJtYXRpb24gTmVlZGVkJyxcblx0XHRcdFx0XHRcdFx0dGV4dDogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2hhbmdlIHB1YmxpYy9wcml2YXRlIG9uIHRlbXBsYXRlOiBcIituYW1lK1wiP1wiLFxuXHRcdFx0XHRcdFx0XHRoaWRlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMC45LFxuXHRcdFx0XHRcdFx0XHRjb25maXJtOiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uZmlybTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRidXR0b25zOiB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvc2VyOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzdGlja2VyOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRoaXN0b3J5OiB7XG5cdFx0XHRcdFx0XHRcdFx0aGlzdG9yeTogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0c3RhY2s6IHN0YWNrX2NlbnRlclxuXHRcdFx0XHRcdFx0fSkuZ2V0KCkub24oJ3Bub3RpZnkuY29uZmlybScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRhcGkuYWpheCgnL3RlbXBsYXRlL3RvZ2dsZWtpbmQnLCdQT1NUJyx7J3BrJzpwa30pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdC8vfiBjb25zb2xlLmxvZygnZGF0YSByZWNlaXZlZDonK2RhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5hamF4LnJlbG9hZCgpXHQ7XG5cdFx0XHRcdFx0XHRcdH0pOyAgXG5cdFx0XHRcdFx0XHR9KS5vbigncG5vdGlmeS5jYW5jZWwnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0fSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG5cdFx0JCgnLmJ0bi1kZWxldGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBwaz0kKHRoaXMpLmNsb3Nlc3QoXCJkaXZcIikuYXR0cihcImRhdGEtcGtcIik7XG5cdFx0XHRcdHZhciBuYW1lPSQodGhpcykuY2xvc2VzdChcImRpdlwiKS5hdHRyKFwiZGF0YS1uYW1lXCIpO1xuXHRcdFx0XHRuZXcgUE5vdGlmeSh7XG5cdFx0XHRcdFx0XHR0aXRsZTogJ0NvbmZpcm1hdGlvbiBOZWVkZWQnLFxuXHRcdFx0XHRcdFx0XHR0ZXh0OiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGVtcGxhdGU6IFwiK25hbWUrXCI/XCIsXG5cdFx0XHRcdFx0XHRcdGhpZGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAwLjksXG5cdFx0XHRcdFx0XHRcdGNvbmZpcm06IHtcblx0XHRcdFx0XHRcdFx0XHRjb25maXJtOiB0cnVlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbnM6IHtcblx0XHRcdFx0XHRcdFx0XHRjbG9zZXI6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHN0aWNrZXI6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGhpc3Rvcnk6IHtcblx0XHRcdFx0XHRcdFx0XHRoaXN0b3J5OiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRzdGFjazogc3RhY2tfY2VudGVyXG5cdFx0XHRcdFx0XHR9KS5nZXQoKS5vbigncG5vdGlmeS5jb25maXJtJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGFwaS5hamF4KCcvZG9tYWlucy91cGRhdGUnLCdQT1NUJyx7J3BrJzpwaywnbmFtZSc6J3N0YXR1cycsJ3ZhbHVlJzonRGVsZXRpbmcnfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2RhdGEgcmVjZWl2ZWQ6JytkYXRhKTtcblx0XHRcdFx0XHRcdFx0fSk7ICBcblx0XHRcdFx0XHRcdH0pLm9uKCdwbm90aWZ5LmNhbmNlbCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR9KTtcdFxuXHRcdFx0fSk7XG5cdH1cblxuICAgIGZ1bmN0aW9uIGljb24obmFtZSl7XG4gICAgICAgaWYobmFtZT09J3dpbmRvd3MnIHx8IG5hbWU9PSdsaW51eCcpe1xuICAgICAgICAgICByZXR1cm4gXCI8c3BhbiA+PGkgY2xhc3M9J2ZhIGZhLVwiK25hbWUrXCIgZmEtMngnPjwvaT48L3NwYW4+XCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIFwiPHNwYW4gY2xhc3M9J2ZsLVwiK25hbWUrXCIgZmEtMngnPjwvc3Bhbj5cIjtcblx0XHR9ICAgICAgIFxuICAgIH1cblxuXHRmdW5jdGlvbiByZW5kZXJJY29uKGRhdGEpe1xuXHRcdHJldHVybiAnPHNwYW4gY2xhc3M9XCJ4ZS1pY29uXCIgZGF0YS1waz1cIicrZGF0YS5pZCsnXCI+JytpY29uKGRhdGEuaWNvbikrJzwvc3Bhbj4nXG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXJOYW1lKGRhdGEpe1xuXHRcdHJldHVybiAnPGRpdiBjbGFzcz1cImJsb2NrX2NvbnRlbnRcIiA+IFxcXG4gICAgICBcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZVwiIHN0eWxlPVwiaGVpZ2h0OiA0cHg7IG1hcmdpbi10b3A6IDBweDtcIj4gXFxcbiAgICAgICAgICAgICAgICA8YT4nK2RhdGEubmFtZSsnPC9hPiBcXFxuICAgICAgICAgICAgICAgIDwvaDI+IFxcXG4gICAgICBcdFx0XHQ8cCBjbGFzcz1cImV4Y2VycHRcIiA+JytkYXRhLmRlc2NyaXB0aW9uKyc8L3A+IFxcXG4gICAgICAgICAgIFx0XHQ8L2Rpdj4nXG4gICAgfVxuICAgIFx0XG4gICAgZnVuY3Rpb24gcmVuZGVyU3RhdHVzKGRhdGEpe1xuICAgICAgICByZXR1cm4gZGF0YS5zdGF0dXNcbiAgICB9XHRcbiAgICBcbiAgICBmdW5jdGlvbiByZW5kZXJLaW5kSWNvbihkYXRhKXtcblx0XHRzd2l0Y2ggKGRhdGEua2luZCkge1xuXHRcdFx0Y2FzZSAndXNlcl90ZW1wbGF0ZSc6XG5cdFx0XHRcdHJldHVybiAnPGkgY2xhc3M9XCJmYSBmYS11c2VyLXNlY3JldCBmYS0yeFwiIHN0eWxlPVwiY29sb3I6ZGFya3NhbG1vblwiPjwvaT4nO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3B1YmxpY190ZW1wbGF0ZSc6XG5cdFx0XHRcdHJldHVybiAnPGkgY2xhc3M9XCJmYSBmYS11c2VycyBmYS0yeFwiIHN0eWxlPVwiY29sb3I6ZGFya3NlYWdyZWVuXCI+PC9pPic7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyS2luZChkYXRhKXtcblx0XHRzd2l0Y2ggKGRhdGEua2luZCkge1xuXHRcdFx0Y2FzZSAncHVibGljX3RlbXBsYXRlJzpcblx0XHRcdFx0cmV0dXJuICdQdWJsaWMnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJfdGVtcGxhdGUnOlxuXHRcdFx0XHRyZXR1cm4gJ1ByaXZhdGUnO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXJQZW5kaW5nKGRhdGEpe1xuXHRcdHN0YXR1cz1kYXRhLnN0YXR1cztcbiAgICAgICAgaWYoc3RhdHVzPT0nU3RvcHBlZCcpe1xuICAgICAgICAgICAgcmV0dXJuICdOb25lJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJDaGFuZ2VcIj4gPGkgY2xhc3M9XCJmYSBmYS1zcGlubmVyIGZhLXB1bHNlIGZhLTJ4IGZhLWZ3XCI+PC9pPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPldvcmtpbmcuLi48L3NwYW4+PC9pPiA8L2Rpdj4nO1xuXHR9XHRcbiIsInZhciBkZXJpdmF0ZXNfdGFibGUgPScnXG5mdW5jdGlvbiBzZXREb21haW5EZXJpdmF0ZXMoaWQpe1xuXHQkKFwiI2J1bGstZWRpdC1cIitpZCkub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIjbW9kYWxCdWxrRWRpdEZvcm1cIilbMF0ucmVzZXQoKTtcbiAgICAgICAgICAgIHNldEhhcmR3YXJlT3B0aW9ucygnI21vZGFsQnVsa0VkaXQnLCdkaXNrJyk7XG5cdFx0XHQkKCcjbW9kYWxCdWxrRWRpdCcpLm1vZGFsKHtcblx0XHRcdFx0YmFja2Ryb3A6ICdzdGF0aWMnLFxuXHRcdFx0XHRrZXlib2FyZDogZmFsc2Vcblx0XHRcdH0pLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICBzZXRIYXJkd2FyZURvbWFpbkRlZmF1bHRzKCcjbW9kYWxCdWxrRWRpdCcsIGlkKTtcbiAgICAgICAgICAgIC8vfiAkKCcjbW9kYWxBZGRGcm9tQnVpbGRlciAjbW9kYWxBZGQnKS5wYXJzbGV5KCk7XG4gICAgICAgICAgICBtb2RhbF9idWxrX2VkaXRfc2V0ZGF0YShcIiNtb2RhbEJ1bGtFZGl0Rm9ybVwiKTtcblx0fSk7ICAgIFxuICAgICAgICBcbiAgICBkZXJpdmF0ZXNfdGFibGU9JChcIiN0YWJsZS1kZXJpdmF0ZXMtXCIraWQpLkRhdGFUYWJsZSh7XG5cdFx0XHRcImFqYXhcIjoge1xuXHRcdFx0XHRcInVybFwiOiBcIi9kb21haW5fZGVyaXZhdGVzXCIsXG4gICAgICAgICAgICAgICAgXCJjb250ZW50VHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiBmdW5jdGlvbihkKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoeydwayc6aWR9KX1cblx0XHRcdH0sXG4gICAgICAgICAgICBcInNBamF4RGF0YVByb3BcIjogXCJcIixcblx0XHRcdFwibGFuZ3VhZ2VcIjoge1xuXHRcdFx0XHRcImxvYWRpbmdSZWNvcmRzXCI6ICc8aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtcHVsc2UgZmEtM3ggZmEtZndcIj48L2k+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+TG9hZGluZy4uLjwvc3Bhbj4nXG5cdFx0XHR9LFxuICAgICAgICAgICAgLy9+IFwiYkxlbmd0aENoYW5nZVwiOiBmYWxzZSxcbiAgICAgICAgICAgIC8vfiBcImJGaWx0ZXJcIjogZmFsc2UsXG5cdFx0XHRcInJvd0lkXCI6IFwiaWRcIixcblx0XHRcdFwiZGVmZXJSZW5kZXJcIjogdHJ1ZSxcblx0XHRcdFwiY29sdW1uc1wiOiBbXG5cdFx0XHRcdHsgXCJkYXRhXCI6IFwibmFtZVwifSxcblx0XHRcdFx0eyBcImRhdGFcIjogXCJraW5kXCJ9LFxuICAgICAgICAgICAgICAgIHsnZGF0YSc6J3VzZXInfSxcblx0XHRcdFx0eydkYXRhJzonY2F0ZWdvcnknfSxcbiAgICAgICAgICAgICAgICB7J2RhdGEnOiAnZ3JvdXAnfSxcbiAgICAgICAgICAgICAgICBdLFxuXHRcdFx0IFwib3JkZXJcIjogW1swLCAnZGVzYyddXSxcblx0XHRcdCAvL34gXCJjb2x1bW5EZWZzXCI6IFsge1xuXHRcdFx0XHRcdFx0XHQvL34gXCJ0YXJnZXRzXCI6IDAsXG5cdFx0XHRcdFx0XHRcdC8vfiBcInJlbmRlclwiOiBmdW5jdGlvbiAoIGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34gaWYgKCB0eXBlID09PSAnZGlzcGxheScgfHwgdHlwZSA9PT0gJ2ZpbHRlcicgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34gcmV0dXJuIG1vbWVudC51bml4KGZ1bGwud2hlbikuZnJvbU5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+IH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfiByZXR1cm4gZGF0YTsgIFxuXHRcdFx0XHRcdFx0XHQvL34gfX1dXG4gICAgfSApO1xuICAgICAgICAgICAgXG5cdFx0XHQvL34gYXBpLmFqYXgoJy9kb21haW5fZGVyaXZhdGVzJywnUE9TVCcseydwayc6aWR9KS5kb25lKGZ1bmN0aW9uKGRlcml2YXRlcykge1xuICAgICAgICAgICAgICAgIC8vfiB2YXIgd2FzdGVkPTBcbiAgICAgICAgICAgICAgICAvL34gJC5lYWNoKGRlcml2YXRlcyxmdW5jdGlvbihpbmRleCx2YWwpe1xuICAgICAgICAgICAgICAgICAgICAvL34gJChcIiN0YWJsZS1kZXJpdmF0ZXMtXCIraWQpLmFwcGVuZCgnPHRyPjx0ZD4nK3ZhbFsnbmFtZSddKyc8L3RkPjx0ZD4nK3ZhbFsna2luZCddKyc8L3RkPjx0ZD4nK3ZhbFsndXNlciddKyc8L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgLy9+IH0pOyAgXG4gICAgICAgICAgICAvL34gfSk7XG5cbiAgICAkKFwiI21vZGFsQnVsa0VkaXQgI3NlbmRcIikub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICB2YXIgZm9ybSA9ICQoJyNtb2RhbEJ1bGtFZGl0Rm9ybScpO1xuICAgICAgICAgICAgLy9+IGZvcm0ucGFyc2xleSgpLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAvL34gaWYgKGZvcm0ucGFyc2xleSgpLmlzVmFsaWQoKSl7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE9JCgnI21vZGFsQnVsa0VkaXRGb3JtJykuc2VyaWFsaXplT2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgnZG9tYWluX2J1bGtlZGl0JyxkYXRhKVxuICAgICAgICAgICAgICAgICAgICAvL34gY29uc29sZS5sb2coJ2lzIHZhbGlkIGZvcm0nKVxuICAgICAgICAgICAgLy9+IH1cbiAgICAgICAgfSk7XG4gICAgICAgICAgICBcbn1cbiAgICBcbmZ1bmN0aW9uIG1vZGFsX2J1bGtfZWRpdF9zZXRkYXRhKGlkKXtcbiAgICAgICAgbmFtZXM9JydcbiAgICAgICAgaWRzPVtdXG4gICAgICAgICQoaWQrXCIgI2lkc1wiKS5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcbiAgICAgICAgaWYoZGVyaXZhdGVzX3RhYmxlLnJvd3MoJy5hY3RpdmUnKS5kYXRhKCkubGVuZ3RoKXtcbiAgICAgICAgICAgICQuZWFjaChkZXJpdmF0ZXNfdGFibGUucm93cygnLmFjdGl2ZScpLmRhdGEoKSxmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgICAgICAgICAgICAvL34gbmFtZXMrPXZhbHVlWyduYW1lJ10rJ1xcbic7XG4gICAgICAgICAgICAgICAgLy9+IGlkcy5wdXNoKHZhbHVlWydpZCddKTtcbiAgICAgICAgICAgICAgICAkKGlkKycgI2lkcycpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT0nICsgdmFsdWUuaWQgKyAnPicgKyB2YWx1ZS5uYW1lICsgJzwvb3B0aW9uPicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL34gdmFyIHRleHQgPSBcIllvdSBhcmUgYWJvdXQgdG8gdGhlc2UgZGVza3RvcHM6XFxuXFxuIFwiK25hbWVzXG4gICAgICAgIH1lbHNleyBcbiAgICAgICAgICAgICQuZWFjaChkZXJpdmF0ZXNfdGFibGUucm93cyh7ZmlsdGVyOiAnYXBwbGllZCd9KS5kYXRhKCksZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgLy9+IGlkcy5wdXNoKHZhbHVlWydpZCddKTtcbiAgICAgICAgICAgICAgICAkKGlkKycgI2lkcycpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT0nICsgdmFsdWUuaWQgKyAnPicgKyB2YWx1ZS5uYW1lICsgJzwvb3B0aW9uPicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL34gdmFyIHRleHQgPSBcIllvdSBhcmUgYWJvdXQgdG8gXCIrZGVyaXZhdGVzX3RhYmxlLnJvd3Moe2ZpbHRlcjogJ2FwcGxpZWQnfSkuZGF0YSgpLmxlbmd0aCtcIiBkZXNrdG9wcyFcXG4gQWxsIHRoZSBkZXNrdG9wcyBpbiBsaXN0IVwiXG4gICAgICAgIH0gICAgXG4gICAgICAgICQoaWQrJyAjaWRzID4gb3B0aW9uJykuYXR0cihcInNlbGVjdGVkXCIsdHJ1ZSk7XG4gICAgICAgIC8vfiBjb25zb2xlLmxvZyh0ZXh0KVxuICAgICAgICAvL34gJChpZCsnICNhZmVjdGVkcycpLnZhbCh0ZXh0KTtcbiAgICAgICAgXG4gICAgICAgICQoaWQrXCIgLmJ0bi11bnNlbGVjdC1hbGxcIikub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoaWQrJyAjaWRzID4gb3B0aW9uJykuYXR0cihcInNlbGVjdGVkXCIsZmFsc2UpO1xuICAgICAgICB9KVxuXG5cbiAgICAgICAgJChpZCtcIiAuYnRuLXNlbGVjdC1hbGxcIikub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoaWQrJyAjaWRzID4gb3B0aW9uJykuYXR0cihcInNlbGVjdGVkXCIsdHJ1ZSk7XG4gICAgICAgIH0pICAgICAgICBcbiAgICBcbn1cbiIsIlxuXHRmdW5jdGlvbiBzZXRBbGxvd2Vkc192aWV3ZXIoZGl2X2lkLGlkKXtcblx0XHRcdGFwaS5hamF4KCcvZG9tYWluL2FsbG93ZWRzJywnUE9TVCcseydwayc6aWR9KS5kb25lKGZ1bmN0aW9uKGFsbG93ZWRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsbD1mYWxzZTtcbiAgICAgICAgICAgICAgICAkLmVhY2goYWxsb3dlZHMsZnVuY3Rpb24oa2V5LCB2YWx1ZSkgXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlLmxlbmd0aCA9PSAwKXthbGw9dHJ1ZTt9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYoYWxsKXtcbiAgICAgICAgICAgICAgICAgICAgJChkaXZfaWQrXCIgI3RhYmxlLWFsbG93ZWRzLVwiK2lkKS5hcHBlbmQoJzx0cj48dGQ+RXZlcnlvbmU8L3RkPjx0ZD5IYXMgYWNjZXNzPC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goYWxsb3dlZHMsZnVuY3Rpb24oa2V5LCB2YWx1ZSkgXG4gICAgICAgICAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkaXZfaWQrXCIgI3RhYmxlLWFsbG93ZWRzLVwiK2lkKS5hcHBlbmQoJzx0cj48dGQ+JytrZXkrJzwvdGQ+PHRkPicrdmFsdWUrJzwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cdFx0XHR9KTsgXG5cdH1cblxuXHRmdW5jdGlvbiByZXBsYWNlQWxsb3dlZHNfYXJyYXlzKGRhdGEpe1xuXHRcdGlkcz1bJ2Etcm9sZXMnLCdhLWNhdGVnb3JpZXMnLCdhLWdyb3VwcycsJ2EtdXNlcnMnXVxuXHRcdGRhdGFbJ2FsbG93ZWQnXT17fVxuXHRcdCAkLmVhY2goaWRzLGZ1bmN0aW9uKGlkeCxpZCkgXG4gICAgICAgICB7IFxuXHRcdFx0IGRlbGV0ZSBkYXRhW2lkXTtcblx0XHRcdCB2YWwgPSAkKCcjJytpZCkudmFsKCkgIHx8IGZhbHNlXG5cdFx0XHQgaWYoISh2YWwpICYmIGlkKyctY2InIGluIGRhdGEpe3ZhbD1bXTt9XG5cdFx0XHQgZGVsZXRlIGRhdGFbaWQrJy1jYiddO1xuXHRcdFx0IGRhdGFbJ2FsbG93ZWQnXVtpZC5yZXBsYWNlKCdhLScsJycpXSA9IHZhbDsgXG5cdFx0IH0pO1xuXHRcdCBcblx0XHQgcmV0dXJuIGRhdGFcblx0fVxuXG5cbiBcdFxuXHRmdW5jdGlvbiBzZXRBbGxvd2Vkc19hZGQocGFyZW50aWQpe1xuXHRcdGlkcz1bJ2Etcm9sZXMnLCdhLWNhdGVnb3JpZXMnLCdhLWdyb3VwcycsJ2EtdXNlcnMnXVxuXHRcdCAkLmVhY2goaWRzLGZ1bmN0aW9uKGlkeCxpZCkgXG4gICAgICAgICB7ICAgJChwYXJlbnRpZCsnICMnK2lkKyctY2InKS5pQ2hlY2soJ3VuY2hlY2snKTtcblx0XHRcdCAkKHBhcmVudGlkKycgIycraWQrJy1jYicpLm9uKCdpZkNoZWNrZWQnLCBmdW5jdGlvbihldmVudCl7XG5cdFx0XHRcdCAgJChwYXJlbnRpZCtcIiAjXCIraWQpLmF0dHIoJ2Rpc2FibGVkJyxmYWxzZSk7XG5cdFx0XHQgfSk7XG5cdFx0XHQgJChwYXJlbnRpZCsnICMnK2lkKyctY2InKS5vbignaWZVbmNoZWNrZWQnLCBmdW5jdGlvbihldmVudCl7XG5cdFx0XHRcdCAgJChwYXJlbnRpZCtcIiAjXCIraWQpLmF0dHIoJ2Rpc2FibGVkJyx0cnVlKTtcblx0XHRcdCB9KTtcblx0XHRcdCAkKHBhcmVudGlkK1wiICNcIitpZCkuYXR0cignZGlzYWJsZWQnLHRydWUpO1xuXHRcdFx0IGNvbnNvbGUubG9nKGlkKVxuXHRcdFx0ICQocGFyZW50aWQrXCIgI1wiK2lkKS5zZWxlY3QyKHtcblx0XHRcdFx0bWluaW11bUlucHV0TGVuZ3RoOiAyLFxuXHRcdFx0XHRtdWx0aXBsZTogdHJ1ZSxcblx0XHRcdFx0YWpheDoge1xuXHRcdFx0XHRcdHR5cGU6IFwiUE9TVFwiLFxuXHRcdFx0XHRcdHVybDogJy9hZG1pbi90YWJsZS8nK2lkLnJlcGxhY2UoJ2EtJywnJykrJy9wb3N0Jyxcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxuXHRcdFx0XHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcblx0XHRcdFx0XHRkZWxheTogMjUwLFxuXHRcdFx0XHRcdGRhdGE6IGZ1bmN0aW9uIChwYXJhbXMpIHtcblx0XHRcdFx0XHRcdHJldHVybiAgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFx0XHR0ZXJtOiBwYXJhbXMudGVybSxcblx0XHRcdFx0XHRcdFx0cGx1Y2s6IFsnaWQnLCduYW1lJ11cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cHJvY2Vzc1Jlc3VsdHM6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzOiAkLm1hcChkYXRhLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0ZXh0OiBpdGVtLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRpZDogaXRlbS5pZFxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XHRcblx0XHR9KTtcblx0XG5cdH1cblx0XG4iLCIvLyBOb3QgaW1wbGVtZW50ZWQgYXQgYWxsXG4iLCJcdGZ1bmN0aW9uIHNldEhhcmR3YXJlT3B0aW9ucyhpZCxkZWZhdWx0X2Jvb3Qpe1xuICAgICAgICBkZWZhdWx0X2Jvb3QgPSB0eXBlb2YgZGVmYXVsdF9ib290ICE9PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRfYm9vdCA6ICdoZCcgO1xuXHRcdFx0Ly8gaWQgaXMgdGhlIG1haW4gZGl2IGlkIGNvbnRhaW5pbmcgaGFyZHdhcmUuaHRtbFxuXHRcdFx0JChpZCtcIiAjaGFyZHdhcmUtaW50ZXJmYWNlc1wiKS5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcblx0XHRcdCQoaWQrXCIgI2hhcmR3YXJlLWdyYXBoaWNzXCIpLmZpbmQoJ29wdGlvbicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJChpZCtcIiAjaGFyZHdhcmUtdmlkZW9zXCIpLmZpbmQoJ29wdGlvbicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJChpZCtcIiAjaGFyZHdhcmUtYm9vdF9vcmRlclwiKS5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoaWQrXCIgI2h5cGVydmlzb3JzX3Bvb2xzXCIpLmZpbmQoJ29wdGlvbicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJChpZCtcIiAjZm9yY2VkX2h5cFwiKS5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIFxuXHRcdFx0YXBpLmFqYXhfYXN5bmMoJy9oYXJkd2FyZScsJ0dFVCcsJycpLmRvbmUoZnVuY3Rpb24oaGFyZHdhcmUpIHtcbiAgICAgICAgICAgICAgICAvLyBOZWVkcyBhIGhpZGRlbiBpbnB1dCB0byBhY3RpdmF0ZSBkaXNhYmxlZCBkcm9wZG93bnMuLi5cbiAgICAgICAgICAgICAgICAvL34gaWYoaGFyZHdhcmUubmV0cy5sZW5ndGg9PTEpeyQoaWQrXCIgI2hhcmR3YXJlLWludGVyZmFjZXNcIikucHJvcCgnZGlzYWJsZWQnLHRydWUpO31cblx0XHRcdFx0JC5lYWNoKGhhcmR3YXJlLm5ldHMsZnVuY3Rpb24oa2V5LCB2YWx1ZSkgXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQkKGlkK1wiICNoYXJkd2FyZS1pbnRlcmZhY2VzXCIpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT0nICsgdmFsdWUuaWQgKyAnPicgKyB2YWx1ZS5uYW1lICsgJzwvb3B0aW9uPicpO1xuXHRcdFx0XHR9KTtcbiAgICAgICAgICAgICAgICBcblx0XHRcdFx0Ly9+IGlmKGhhcmR3YXJlLmdyYXBoaWNzLmxlbmd0aD09MSl7JGlmKGhhcmR3YXJlLm5ldHMubGVuZ3RoPT0xKXskKGlkK1wiICNoYXJkd2FyZS1pbnRlcmZhY2VzXCIpLnByb3AoJ2Rpc2FibGVkJyx0cnVlKTt9KGlkK1wiICNoYXJkd2FyZS1ncmFwaGljc1wiKS5wcm9wKCdkaXNhYmxlZCcsdHJ1ZSk7fVxuXHRcdFx0XHQkLmVhY2goaGFyZHdhcmUuZ3JhcGhpY3MsZnVuY3Rpb24oa2V5LCB2YWx1ZSkgXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQkKGlkK1wiICNoYXJkd2FyZS1ncmFwaGljc1wiKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9JyArIHZhbHVlLmlkICsgJz4nICsgdmFsdWUubmFtZSArICc8L29wdGlvbj4nKTtcblx0XHRcdFx0fSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy9+IGlmKGhhcmR3YXJlLnZpZGVvcy5sZW5ndGg9PTEpeyQoaWQrXCIgI2hhcmR3YXJlLXZpZGVvc1wiKS5wcm9wKCdkaXNhYmxlZCcsdHJ1ZSk7fVxuXHRcdFx0XHQkLmVhY2goaGFyZHdhcmUudmlkZW9zLGZ1bmN0aW9uKGtleSwgdmFsdWUpIFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0JChpZCtcIiAjaGFyZHdhcmUtdmlkZW9zXCIpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT0nICsgdmFsdWUuaWQgKyAnPicgKyB2YWx1ZS5uYW1lICsgJzwvb3B0aW9uPicpO1xuXHRcdFx0XHR9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL34gaWYoaGFyZHdhcmUuYm9vdHMubGVuZ3RoPT0xKXskKGlkK1wiICNoYXJkd2FyZS1ib290X29yZGVyXCIpLnByb3AoJ2Rpc2FibGVkJyx0cnVlKTt9XG5cdFx0XHRcdCQuZWFjaChoYXJkd2FyZS5ib290cyxmdW5jdGlvbihrZXksIHZhbHVlKSBcblx0XHRcdFx0eyAgIFxuICAgICAgICAgICAgICAgICAgICAvL34gaWYodmFsdWUuaWQ9PSdoZCcpe3ZhbHVlLmlkPSdkaXNrJ31cblx0XHRcdFx0XHQkKGlkK1wiICNoYXJkd2FyZS1ib290X29yZGVyXCIpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT0nICsgdmFsdWUuaWQgKyAnPicgKyB2YWx1ZS5uYW1lICsgJzwvb3B0aW9uPicpO1xuXHRcdFx0XHR9KTtcbiAgICAgICAgICAgICAgICAkKGlkKycgI2hhcmR3YXJlLWJvb3Rfb3JkZXIgb3B0aW9uW3ZhbHVlPVwiJytkZWZhdWx0X2Jvb3QrJ1wiXScpLnByb3AoXCJzZWxlY3RlZFwiLHRydWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vfiBpZihoYXJkd2FyZS5oeXBlcnZpc29yc19wb29scy5sZW5ndGg9PTEpeyQoaWQrXCIgI2h5cGVydmlzb3JzX3Bvb2xzXCIpLnByb3AoJ2Rpc2FibGVkJyx0cnVlKTt9XG5cdFx0XHRcdCQuZWFjaChoYXJkd2FyZS5oeXBlcnZpc29yc19wb29scyxmdW5jdGlvbihrZXksIHZhbHVlKSBcblx0XHRcdFx0eyAgIC8vIGh5cGVydmlzb3JzX3Bvb2xzIGlzIG5vdCBpbnNpZGUgaGFyZHdhcmUgKHRha2UgaXQgaW50byBhY2NvdW50IHdoZW4gZWRpdGluZyEpXG5cdFx0XHRcdFx0JChpZCtcIiAjaHlwZXJ2aXNvcnNfcG9vbHNcIikuYXBwZW5kKCc8b3B0aW9uIHZhbHVlPScgKyB2YWx1ZS5pZCArICc+JyArIHZhbHVlLm5hbWUgKyAnPC9vcHRpb24+Jyk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdCQuZWFjaChoYXJkd2FyZS5mb3JjZWRfaHlwcyxmdW5jdGlvbihrZXksIHZhbHVlKSBcblx0XHRcdFx0eyAgIC8vIGh5cGVydmlzb3JzX3Bvb2xzIGlzIG5vdCBpbnNpZGUgaGFyZHdhcmUgKHRha2UgaXQgaW50byBhY2NvdW50IHdoZW4gZWRpdGluZyEpXG5cdFx0XHRcdFx0JChpZCtcIiAjZm9yY2VkX2h5cFwiKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9JyArIHZhbHVlLmlkICsgJz4nICsgdmFsdWUuaG9zdG5hbWUrJyAoJyt2YWx1ZS5zdGF0dXMrJyknICsgJzwvb3B0aW9uPicpO1xuXHRcdFx0XHR9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhoYXJkd2FyZS51c2VyWydxdW90YS1oYXJkd2FyZS1tZW1vcnknXSlcblx0XHRcdFx0JChpZCtcIiAjaGFyZHdhcmUtbWVtb3J5XCIpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdFx0XHRcdCAgdHlwZTogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdCAgbWluOiA1MDAsXG5cdFx0XHRcdFx0XHQgIG1heDogaGFyZHdhcmUudXNlclsncXVvdGEtaGFyZHdhcmUtbWVtb3J5J10vMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDoyNTAsXG5cdFx0XHRcdFx0XHQgIGdyaWQ6IHRydWUsXG5cdFx0XHRcdFx0XHQgIGRpc2FibGU6IGZhbHNlXG5cdFx0XHRcdFx0XHQgIH0pLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKS51cGRhdGUoKTtcblx0XHRcdFx0JChpZCtcIiAjaGFyZHdhcmUtdmNwdXNcIikuaW9uUmFuZ2VTbGlkZXIoe1xuXHRcdFx0XHRcdFx0ICB0eXBlOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0ICBtaW46IDEsXG5cdFx0XHRcdFx0XHQgIG1heDogaGFyZHdhcmUudXNlclsncXVvdGEtaGFyZHdhcmUtdmNwdXMnXSxcblx0XHRcdFx0XHRcdCAgZ3JpZDogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgZGlzYWJsZTogZmFsc2Vcblx0XHRcdFx0XHRcdCAgfSkuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmKCQoaWQrXCIgI2Rpc2tfc2l6ZVwiKS5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZihoYXJkd2FyZS51c2VyWydxdW90YS1kb21haW5zLWRlc2t0b3BzX2Rpc2tfbWF4J10vMTAwMDAwMD4yMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRzaXplPTgwO31lbHNleyB2YXIgZHNpemU9aGFyZHdhcmUudXNlclsncXVvdGEtZG9tYWlucy1kZXNrdG9wc19kaXNrX21heCddLzEwMDAwMDA7fVxuICAgICAgICAgICAgICAgICAgICAkKGlkK1wiICNkaXNrX3NpemVcIikuaW9uUmFuZ2VTbGlkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzaW5nbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogZHNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cdFx0XHR9KTsgXG5cdH1cbiAgICBcblx0ZnVuY3Rpb24gc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0cyhkaXZfaWQsZG9tYWluX2lkKXtcblx0XHRcdC8vIGlkIGlzIHRoZSBkb21haW4gaWRcbiAgICAgICAgICAgICQoZGl2X2lkKycgI2hhcmR3YXJlLWludGVyZmFjZXMgb3B0aW9uOnNlbGVjdGVkJykucHJvcChcInNlbGVjdGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICQoZGl2X2lkKycgI2hhcmR3YXJlLWdyYXBoaWNzIG9wdGlvbjpzZWxlY3RlZCcpLnByb3AoXCJzZWxlY3RlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAkKGRpdl9pZCsnICNoYXJkd2FyZS12aWRlb3Mgb3B0aW9uOnNlbGVjdGVkJykucHJvcChcInNlbGVjdGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICQoZGl2X2lkKycgI2hhcmR3YXJlLWJvb3Rfb3JkZXIgb3B0aW9uOnNlbGVjdGVkJykucHJvcChcInNlbGVjdGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICQoZGl2X2lkKycgI2h5cGVydmlzb3JzX3Bvb2xzIG9wdGlvbjpzZWxlY3RlZCcpLnByb3AoXCJzZWxlY3RlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICBcblx0XHRcdGFwaS5hamF4KCcvZG9tYWluJywnUE9TVCcseydwayc6ZG9tYWluX2lkfSkuZG9uZShmdW5jdGlvbihkb21haW4pIHtcblx0XHRcdFx0JChkaXZfaWQrJyAjaGFyZHdhcmUtaW50ZXJmYWNlcyBvcHRpb25bdmFsdWU9XCInK2RvbWFpblsnaGFyZHdhcmUtaW50ZXJmYWNlcyddWzBdLmlkKydcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIix0cnVlKTtcblx0XHRcdFx0JChkaXZfaWQrJyAjaGFyZHdhcmUtZ3JhcGhpY3Mgb3B0aW9uW3ZhbHVlPVwiJytkb21haW5bJ2hhcmR3YXJlLWdyYXBoaWNzLXR5cGUnXSsnXCJdJykucHJvcChcInNlbGVjdGVkXCIsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgJChkaXZfaWQrJyAjaGFyZHdhcmUtdmlkZW9zIG9wdGlvblt2YWx1ZT1cIicrZG9tYWluWydoYXJkd2FyZS12aWRlby10eXBlJ10rJ1wiXScpLnByb3AoXCJzZWxlY3RlZFwiLHRydWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gdGFsayB3aXRoIGVuZ2luZSBhbmQgY2hhbmdlIHRoaXNcbiAgICAgICAgICAgICAgICBpZihkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXT09J2hkJyl7ZG9tYWluWydoYXJkd2FyZS1ib290X29yZGVyJ11bMF09J2Rpc2snfVxuICAgICAgICAgICAgICAgIGlmKGRvbWFpblsnaGFyZHdhcmUtYm9vdF9vcmRlciddWzBdPT0nY2Ryb20nKXtkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXT0naXNvJ31cbiAgICAgICAgICAgICAgICBpZihkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXT09J25ldHdvcmsnKXtkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXT0ncHhlJ31cbiAgICAgICAgICAgICAgICAkKGRpdl9pZCsnICNoYXJkd2FyZS1ib290X29yZGVyIG9wdGlvblt2YWx1ZT1cIicrZG9tYWluWydoYXJkd2FyZS1ib290X29yZGVyJ11bMF0rJ1wiXScpLnByb3AoXCJzZWxlY3RlZFwiLHRydWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICQoZGl2X2lkKycgI2h5cGVydmlzb3JzX3Bvb2xzIG9wdGlvblt2YWx1ZT1cIicrZG9tYWluWydoeXBlcnZpc29yc19wb29scyddWzBdKydcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIix0cnVlKTtcbiAgICAgICAgICAgICAgICBpZihkb21haW5bJ2ZvcmNlZF9oeXAnXSl7XG4gICAgICAgICAgICAgICAgICAgICQoZGl2X2lkKycgI2ZvcmNlZF9oeXAgb3B0aW9uW3ZhbHVlPVwiJytkb21haW5bJ2ZvcmNlZF9oeXAnXSsnXCJdJykucHJvcChcInNlbGVjdGVkXCIsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXHRcdFx0XHQkKGRpdl9pZCtcIiAjaGFyZHdhcmUtbWVtb3J5XCIpLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKS51cGRhdGUoe1xuXHRcdFx0XHRcdFx0ICBmcm9tOiBkb21haW5bJ2hhcmR3YXJlLW1lbW9yeSddLzEwMDBcbiAgICAgICAgICAgICAgICB9KTtcblx0XHRcdFx0JChkaXZfaWQrXCIgI2hhcmR3YXJlLXZjcHVzXCIpLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKS51cGRhdGUoe1xuXHRcdFx0XHRcdFx0ICBmcm9tOiBkb21haW5bJ2hhcmR3YXJlLXZjcHVzJ11cbiAgICAgICAgICAgICAgICB9KTtcblx0XHRcdFx0XHQgIFxuXHRcdFx0fSk7IFxuXHR9XG5cblx0Ly9+IGZ1bmN0aW9uIHNldEhhcmR3YXJlVXNlckRlZmF1bHRzKGRpdl9pZCx1c2VyKXtcblx0XHRcdC8vfiAvLyBpZCBpcyB0aGUgZG9tYWluIGlkXG4gICAgICAgICAgICAvL34gJChkaXZfaWQrJyAjaGFyZHdhcmUtaW50ZXJmYWNlcyBvcHRpb246c2VsZWN0ZWQnKS5wcm9wKFwic2VsZWN0ZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgLy9+ICQoZGl2X2lkKycgI2hhcmR3YXJlLWdyYXBoaWNzIG9wdGlvbjpzZWxlY3RlZCcpLnByb3AoXCJzZWxlY3RlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAvL34gJChkaXZfaWQrJyAjaGFyZHdhcmUtdmlkZW9zIG9wdGlvbjpzZWxlY3RlZCcpLnByb3AoXCJzZWxlY3RlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAvL34gJChkaXZfaWQrJyAjaGFyZHdhcmUtYm9vdF9vcmRlciBvcHRpb246c2VsZWN0ZWQnKS5wcm9wKFwic2VsZWN0ZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgLy9+ICQoZGl2X2lkKycgI2h5cGVydmlzb3JzX3Bvb2xzIG9wdGlvbjpzZWxlY3RlZCcpLnByb3AoXCJzZWxlY3RlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICBcblx0XHRcdC8vfiBhcGkuYWpheCgnL3VzZXJoYXJkd2FyZXF1b3RhJywnUE9TVCcseydwayc6ZG9tYWluX2lkfSkuZG9uZShmdW5jdGlvbihkb21haW4pIHtcblx0XHRcdFx0Ly9+ICQoZGl2X2lkKycgI2hhcmR3YXJlLWludGVyZmFjZXMgb3B0aW9uW3ZhbHVlPVwiJytkb21haW5bJ2hhcmR3YXJlLWludGVyZmFjZXMnXVswXS5pZCsnXCJdJykucHJvcChcInNlbGVjdGVkXCIsdHJ1ZSk7XG5cdFx0XHRcdC8vfiAkKGRpdl9pZCsnICNoYXJkd2FyZS1ncmFwaGljcyBvcHRpb25bdmFsdWU9XCInK2RvbWFpblsnaGFyZHdhcmUtZ3JhcGhpY3MtdHlwZSddKydcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIix0cnVlKTtcbiAgICAgICAgICAgICAgICAvL34gJChkaXZfaWQrJyAjaGFyZHdhcmUtdmlkZW9zIG9wdGlvblt2YWx1ZT1cIicrZG9tYWluWydoYXJkd2FyZS12aWRlby10eXBlJ10rJ1wiXScpLnByb3AoXCJzZWxlY3RlZFwiLHRydWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vfiAvLyBOZWVkIHRvIHRhbGsgd2l0aCBlbmdpbmUgYW5kIGNoYW5nZSB0aGlzXG4gICAgICAgICAgICAgICAgLy9+IGlmKGRvbWFpblsnaGFyZHdhcmUtYm9vdF9vcmRlciddWzBdPT0naGQnKXtkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXT0nZGlzayd9XG4gICAgICAgICAgICAgICAgLy9+IGlmKGRvbWFpblsnaGFyZHdhcmUtYm9vdF9vcmRlciddWzBdPT0nY2Ryb20nKXtkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXT0naXNvJ31cbiAgICAgICAgICAgICAgICAvL34gaWYoZG9tYWluWydoYXJkd2FyZS1ib290X29yZGVyJ11bMF09PSduZXR3b3JrJyl7ZG9tYWluWydoYXJkd2FyZS1ib290X29yZGVyJ11bMF09J3B4ZSd9XG4gICAgICAgICAgICAgICAgLy9+ICQoZGl2X2lkKycgI2hhcmR3YXJlLWJvb3Rfb3JkZXIgb3B0aW9uW3ZhbHVlPVwiJytkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXVswXSsnXCJdJykucHJvcChcInNlbGVjdGVkXCIsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy9+ICQoZGl2X2lkKycgI2h5cGVydmlzb3JzX3Bvb2xzIG9wdGlvblt2YWx1ZT1cIicrZG9tYWluWydoeXBlcnZpc29yc19wb29scyddWzBdKydcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIix0cnVlKTtcbiAgICAgICAgICAgICAgICAvL34gaWYoZG9tYWluWydmb3JjZWRfaHlwJ10pe1xuICAgICAgICAgICAgICAgICAgICAvL34gJChkaXZfaWQrJyAjZm9yY2VkX2h5cCBvcHRpb25bdmFsdWU9XCInK2RvbWFpblsnZm9yY2VkX2h5cCddKydcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIix0cnVlKTtcbiAgICAgICAgICAgICAgICAvL34gfVxuXHRcdFx0XHQvL34gJChkaXZfaWQrXCIgI2hhcmR3YXJlLW1lbW9yeVwiKS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIikudXBkYXRlKHtcblx0XHRcdFx0XHRcdCAgLy9+IGZyb206IGRvbWFpblsnaGFyZHdhcmUtbWVtb3J5J10vMTAwMFxuICAgICAgICAgICAgICAgIC8vfiB9KTtcblx0XHRcdFx0Ly9+ICQoZGl2X2lkK1wiICNoYXJkd2FyZS12Y3B1c1wiKS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIikudXBkYXRlKHtcblx0XHRcdFx0XHRcdCAgLy9+IGZyb206IGRvbWFpblsnaGFyZHdhcmUtdmNwdXMnXVxuICAgICAgICAgICAgICAgIC8vfiB9KTtcblx0XHRcdFx0XHQgIFxuXHRcdFx0Ly9+IH0pOyBcblx0Ly9+IH1cbiAgICBcblx0ZnVuY3Rpb24gc2V0SGFyZHdhcmVEb21haW5EZWZhdWx0c192aWV3ZXIoZGl2X2lkLGRvbWFpbl9pZCl7XG5cdFx0XHRhcGkuYWpheCgnL2RvbWFpbicsJ1BPU1QnLHsncGsnOmRvbWFpbl9pZCwnaHMnOnRydWV9KS5kb25lKGZ1bmN0aW9uKGRvbWFpbikge1xuXHRcdFx0XHQkKGRpdl9pZCtcIiAjdmNwdVwiKS5odG1sKGRvbWFpblsnaGFyZHdhcmUtdmNwdXMnXSsnIENQVShzKScpO1xuXHRcdFx0XHQkKGRpdl9pZCtcIiAjcmFtXCIpLmh0bWwoZG9tYWluWydoYXJkd2FyZS1tZW1vcnknXSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdCBjb3VsZCBub3QgYmUgb3JkZXJlZCEgSW4gdGhlb3J5IGFsbCB0aGUgZGlza3MgaGF2ZSBzYW1lIHZpcnR1YWwtc2l6ZVxuICAgICAgICAgICAgICAgICQoZGl2X2lkK1wiICNkaXNrc1wiKS5odG1sKGRvbWFpblsnZGlza3NfaW5mbyddWzBdWyd2aXJ0dWFsLXNpemUnXSk7XG5cdFx0XHRcdCQoZGl2X2lkK1wiICNuZXRcIikuaHRtbChkb21haW5bJ2hhcmR3YXJlLWludGVyZmFjZXMnXVswXS5pZCk7XG5cdFx0XHRcdCQoZGl2X2lkK1wiICNncmFwaGljc1wiKS5odG1sKGRvbWFpblsnaGFyZHdhcmUtZ3JhcGhpY3MtdHlwZSddKTtcbiAgICAgICAgICAgICAgICAkKGRpdl9pZCtcIiAjdmlkZW9cIikuaHRtbChkb21haW5bJ2hhcmR3YXJlLXZpZGVvLXR5cGUnXSk7XG4gICAgICAgICAgICAgICAgJChkaXZfaWQrXCIgI2Jvb3RcIikuaHRtbChkb21haW5bJ2hhcmR3YXJlLWJvb3Rfb3JkZXInXSk7XG4gICAgICAgICAgICAgICAgJChkaXZfaWQrXCIgI2h5cGVydmlzb3JfcG9vbFwiKS5odG1sKGRvbWFpblsnaHlwZXJ2aXNvcnNfcG9vbHMnXVswXSk7XG4gICAgICAgICAgICAgICAgaWYoZG9tYWluWydmb3JjZWRfaHlwJ10pe1xuICAgICAgICAgICAgICAgICAgICAkKGRpdl9pZCtcIiAjZm9yY2VkX2h5cFwiKS5odG1sKGRvbWFpblsnZm9yY2VkX2h5cCddKTtcbiAgICAgICAgICAgICAgICAgICAgJChkaXZfaWQrXCIgI2ZvcmNlZF9oeXBcIikuY2xvc2VzdChcInRyXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJChkaXZfaWQrXCIgI2ZvcmNlZF9oeXBcIikuY2xvc2VzdChcInRyXCIpLmhpZGUoKTsgLy8uY2xvc2VzdChcInRyXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cblx0XHRcdH0pOyBcblx0fVxuXG4gICAgZnVuY3Rpb24gc2V0SGFyZHdhcmVHcmFwaCgpIHtcbiAgICAgICAgLy8gTm90IGltcGxlbWVudGVkXG4gICAgfVxuXG5cbiIsIlx0ZnVuY3Rpb24gc2V0RG9tYWluR2VuZWFsb2d5KGlkKXtcblx0XHRcdGFwaS5hamF4KCcvZG9tYWluX2dlbmVhbG9neScsJ1BPU1QnLHsncGsnOmlkfSkuZG9uZShmdW5jdGlvbihnZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgd2FzdGVkPTBcbiAgICAgICAgICAgICAgICAvL34gJC5lYWNoKGdlblsnZ2VuZWFsb2d5J10sZnVuY3Rpb24oaW5kZXgsZGlzayl7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGdlblsnZ2VuX2lkcyddLGZ1bmN0aW9uKGluZGV4LHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjdGFibGUtZ2VuZWFsb2d5LVwiK2lkKS5hcHBlbmQoJzx0cj48dGQ+JytpbmRleCsnPC90ZD48dGQ+Jyt2YWwubmFtZSsnPC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICAvL34gJChcIiN0YWJsZS1nZW5lYWxvZ3ktXCIraWQpLmFwcGVuZCgnPHRyPjx0ZD4nK2luZGV4Kyc8L3RkPjx0ZD4nK2Rpc2suZmlsZW5hbWUrJzwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgICAgICB9KTsgIFxuICAgICAgICAgICAgICAgIHJlbmRlckRpc2tEb251dChnZW5bJ2ZyZWUnXSxnZW5bJ3dhc3RlZCddLGdlblsnZnJlZV9ocyddLGdlblsnd2FzdGVkX2hzJ10pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcmVuZGVyRGlza0RvbnV0KGZyZWUsd2FzdGVkLCBmcmVlaHMsIHdhc3RlZGhzKXtcblx0XHRcdCAgdmFyIGVjaGFydERvbnV0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNrX2RvbnV0JyksIHRoZW1lKTtcblx0XHRcdCAgZWNoYXJ0RG9udXQuc2V0T3B0aW9uKHtcblx0XHRcdFx0dG9vbHRpcDoge1xuXHRcdFx0XHQgIHRyaWdnZXI6ICdpdGVtJyxcblx0XHRcdFx0ICBmb3JtYXR0ZXI6IFwie2F9IDxici8+e2J9IDoge2N9ICh7ZH0lKVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNhbGN1bGFibGU6IHRydWUsXG5cdFx0XHRcdGxlZ2VuZDoge1xuXHRcdFx0XHQgIHg6ICdjZW50ZXInLFxuXHRcdFx0XHQgIHk6ICdib3R0b20nLFxuXHRcdFx0XHQgIGRhdGE6IFsnRnJlZScsJ1VzZWQnXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b29sYm94OiB7XG5cdFx0XHRcdCAgc2hvdzogdHJ1ZSxcblx0XHRcdFx0ICBmZWF0dXJlOiB7XG5cdFx0XHRcdFx0bWFnaWNUeXBlOiB7XG5cdFx0XHRcdFx0ICBzaG93OiB0cnVlLFxuXHRcdFx0XHRcdCAgdHlwZTogWydwaWUnLCAnZnVubmVsJ10sXG5cdFx0XHRcdFx0ICBvcHRpb246IHtcblx0XHRcdFx0XHRcdGZ1bm5lbDoge1xuXHRcdFx0XHRcdFx0ICB4OiAnMjUlJyxcblx0XHRcdFx0XHRcdCAgd2lkdGg6ICc1MCUnLFxuXHRcdFx0XHRcdFx0ICBmdW5uZWxBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHRcdFx0XHQgIG1heDogMTU0OFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Ly9+IHJlc3RvcmU6IHtcblx0XHRcdFx0XHQgIC8vfiBzaG93OiB0cnVlLFxuXHRcdFx0XHRcdCAgLy9+IHRpdGxlOiBcIlJlc3RvcmVcIlxuXHRcdFx0XHRcdC8vfiB9LFxuXHRcdFx0XHRcdC8vfiBzYXZlQXNJbWFnZToge1xuXHRcdFx0XHRcdCAgLy9+IHNob3c6IHRydWUsXG5cdFx0XHRcdFx0ICAvL34gdGl0bGU6IFwiU2F2ZSBJbWFnZVwiXG5cdFx0XHRcdFx0Ly9+IH1cblx0XHRcdFx0ICB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlcmllczogW3tcblx0XHRcdFx0ICBuYW1lOiAnSGFyZCBkaXNrIHNwYWNlJyxcblx0XHRcdFx0ICB0eXBlOiAncGllJyxcblx0XHRcdFx0ICByYWRpdXM6IFsnMzUlJywgJzU1JSddLFxuXHRcdFx0XHQgIGl0ZW1TdHlsZToge1xuXHRcdFx0XHRcdG5vcm1hbDoge1xuXHRcdFx0XHRcdCAgbGFiZWw6IHtcblx0XHRcdFx0XHRcdHNob3c6IHRydWVcblx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0ICBsYWJlbExpbmU6IHtcblx0XHRcdFx0XHRcdHNob3c6IHRydWVcblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGVtcGhhc2lzOiB7XG5cdFx0XHRcdFx0ICBsYWJlbDoge1xuXHRcdFx0XHRcdFx0c2hvdzogdHJ1ZSxcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiAnY2VudGVyJyxcblx0XHRcdFx0XHRcdHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0ICBmb250U2l6ZTogJzE0Jyxcblx0XHRcdFx0XHRcdCAgZm9udFdlaWdodDogJ25vcm1hbCdcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCAgfSxcblx0XHRcdFx0ICBkYXRhOiBbe1xuXHRcdFx0XHRcdHZhbHVlOiBmcmVlLFxuXHRcdFx0XHRcdG5hbWU6ICdGcmVlOiAnK2ZyZWVoc1xuXHRcdFx0XHQgIH0sIHtcblx0XHRcdFx0XHR2YWx1ZTogd2FzdGVkLFxuXHRcdFx0XHRcdG5hbWU6ICdVc2VkOiAnK3dhc3RlZGhzXG5cdFx0XHRcdCAgfV1cblx0XHRcdFx0fV1cblx0XHRcdCAgfSk7XG5cbiAgICAgXG4gICAgfVxuXG5cblx0XHRcdFx0ICB2YXIgdGhlbWUgPSB7XG5cdFx0XHRcdCAgY29sb3I6IFtcblx0XHRcdFx0XHQgICcjMjZCOTlBJywgJyMzNDQ5NUUnLCAnI0JEQzNDNycsICcjMzQ5OERCJyxcblx0XHRcdFx0XHQgICcjOUI1OUI2JywgJyM4YWJiNmYnLCAnIzc1OWM2YScsICcjYmZkM2I3J1xuXHRcdFx0XHQgIF0sXG5cblx0XHRcdFx0ICB0aXRsZToge1xuXHRcdFx0XHRcdCAgaXRlbUdhcDogOCxcblx0XHRcdFx0XHQgIHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0ICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcblx0XHRcdFx0XHRcdCAgY29sb3I6ICcjNDA4ODI5J1xuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHQgIH0sXG5cblx0XHRcdFx0ICBkYXRhUmFuZ2U6IHtcblx0XHRcdFx0XHQgIGNvbG9yOiBbJyMxZjYxMGEnLCAnIzk3YjU4ZCddXG5cdFx0XHRcdCAgfSxcblxuXHRcdFx0XHQgIHRvb2xib3g6IHtcblx0XHRcdFx0XHQgIGNvbG9yOiBbJyM0MDg4MjknLCAnIzQwODgyOScsICcjNDA4ODI5JywgJyM0MDg4MjknXVxuXHRcdFx0XHQgIH0sXG5cblx0XHRcdFx0ICB0b29sdGlwOiB7XG5cdFx0XHRcdFx0ICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLFxuXHRcdFx0XHRcdCAgYXhpc1BvaW50ZXI6IHtcblx0XHRcdFx0XHRcdCAgdHlwZTogJ2xpbmUnLFxuXHRcdFx0XHRcdFx0ICBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyM0MDg4MjknLFxuXHRcdFx0XHRcdFx0XHQgIHR5cGU6ICdkYXNoZWQnXG5cdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHQgIGNyb3NzU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyM0MDg4MjknXG5cdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHQgIHNoYWRvd1N0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgY29sb3I6ICdyZ2JhKDIwMCwyMDAsMjAwLDAuMyknXG5cdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0ICB9LFxuXG5cdFx0XHRcdCAgZGF0YVpvb206IHtcblx0XHRcdFx0XHQgIGRhdGFCYWNrZ3JvdW5kQ29sb3I6ICcjZWVlJyxcblx0XHRcdFx0XHQgIGZpbGxlckNvbG9yOiAncmdiYSg2NCwxMzYsNDEsMC4yKScsXG5cdFx0XHRcdFx0ICBoYW5kbGVDb2xvcjogJyM0MDg4MjknXG5cdFx0XHRcdCAgfSxcblx0XHRcdFx0ICBncmlkOiB7XG5cdFx0XHRcdFx0ICBib3JkZXJXaWR0aDogMFxuXHRcdFx0XHQgIH0sXG5cblx0XHRcdFx0ICBjYXRlZ29yeUF4aXM6IHtcblx0XHRcdFx0XHQgIGF4aXNMaW5lOiB7XG5cdFx0XHRcdFx0XHQgIGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIGNvbG9yOiAnIzQwODgyOSdcblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfSxcblx0XHRcdFx0XHQgIHNwbGl0TGluZToge1xuXHRcdFx0XHRcdFx0ICBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogWycjZWVlJ11cblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHQgIH0sXG5cblx0XHRcdFx0ICB2YWx1ZUF4aXM6IHtcblx0XHRcdFx0XHQgIGF4aXNMaW5lOiB7XG5cdFx0XHRcdFx0XHQgIGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIGNvbG9yOiAnIzQwODgyOSdcblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfSxcblx0XHRcdFx0XHQgIHNwbGl0QXJlYToge1xuXHRcdFx0XHRcdFx0ICBzaG93OiB0cnVlLFxuXHRcdFx0XHRcdFx0ICBhcmVhU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogWydyZ2JhKDI1MCwyNTAsMjUwLDAuMSknLCAncmdiYSgyMDAsMjAwLDIwMCwwLjEpJ11cblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfSxcblx0XHRcdFx0XHQgIHNwbGl0TGluZToge1xuXHRcdFx0XHRcdFx0ICBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogWycjZWVlJ11cblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHQgIH0sXG5cdFx0XHRcdCAgdGltZWxpbmU6IHtcblx0XHRcdFx0XHQgIGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0ICBjb2xvcjogJyM0MDg4MjknXG5cdFx0XHRcdFx0ICB9LFxuXHRcdFx0XHRcdCAgY29udHJvbFN0eWxlOiB7XG5cdFx0XHRcdFx0XHQgIG5vcm1hbDoge2NvbG9yOiAnIzQwODgyOSd9LFxuXHRcdFx0XHRcdFx0ICBlbXBoYXNpczoge2NvbG9yOiAnIzQwODgyOSd9XG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdCAgfSxcblxuXHRcdFx0XHQgIGs6IHtcblx0XHRcdFx0XHQgIGl0ZW1TdHlsZToge1xuXHRcdFx0XHRcdFx0ICBub3JtYWw6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyM2OGE1NGEnLFxuXHRcdFx0XHRcdFx0XHQgIGNvbG9yMDogJyNhOWNiYTInLFxuXHRcdFx0XHRcdFx0XHQgIGxpbmVTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgd2lkdGg6IDEsXG5cdFx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyM0MDg4MjknLFxuXHRcdFx0XHRcdFx0XHRcdCAgY29sb3IwOiAnIzg2YjM3OSdcblx0XHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0ICB9LFxuXHRcdFx0XHQgIG1hcDoge1xuXHRcdFx0XHRcdCAgaXRlbVN0eWxlOiB7XG5cdFx0XHRcdFx0XHQgIG5vcm1hbDoge1xuXHRcdFx0XHRcdFx0XHQgIGFyZWFTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgY29sb3I6ICcjZGRkJ1xuXHRcdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHRcdCAgbGFiZWw6IHtcblx0XHRcdFx0XHRcdFx0XHQgIHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyNjMTJlMzQnXG5cdFx0XHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdFx0ICB9LFxuXHRcdFx0XHRcdFx0ICBlbXBoYXNpczoge1xuXHRcdFx0XHRcdFx0XHQgIGFyZWFTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgY29sb3I6ICcjOTlkMmRkJ1xuXHRcdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHRcdCAgbGFiZWw6IHtcblx0XHRcdFx0XHRcdFx0XHQgIHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyNjMTJlMzQnXG5cdFx0XHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdCAgfSxcblx0XHRcdFx0ICBmb3JjZToge1xuXHRcdFx0XHRcdCAgaXRlbVN0eWxlOiB7XG5cdFx0XHRcdFx0XHQgIG5vcm1hbDoge1xuXHRcdFx0XHRcdFx0XHQgIGxpbmtTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgc3Ryb2tlQ29sb3I6ICcjNDA4ODI5J1xuXHRcdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfVxuXHRcdFx0XHQgIH0sXG5cdFx0XHRcdCAgY2hvcmQ6IHtcblx0XHRcdFx0XHQgIHBhZGRpbmc6IDQsXG5cdFx0XHRcdFx0ICBpdGVtU3R5bGU6IHtcblx0XHRcdFx0XHRcdCAgbm9ybWFsOiB7XG5cdFx0XHRcdFx0XHRcdCAgbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ICB3aWR0aDogMSxcblx0XHRcdFx0XHRcdFx0XHQgIGNvbG9yOiAncmdiYSgxMjgsIDEyOCwgMTI4LCAwLjUpJ1xuXHRcdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHRcdCAgY2hvcmRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQgIHdpZHRoOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSdcblx0XHRcdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHQgIGVtcGhhc2lzOiB7XG5cdFx0XHRcdFx0XHRcdCAgbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ICB3aWR0aDogMSxcblx0XHRcdFx0XHRcdFx0XHQgIGNvbG9yOiAncmdiYSgxMjgsIDEyOCwgMTI4LCAwLjUpJ1xuXHRcdFx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0XHRcdCAgY2hvcmRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdCAgbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHQgIHdpZHRoOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSdcblx0XHRcdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0ICB9LFxuXHRcdFx0XHQgIGdhdWdlOiB7XG5cdFx0XHRcdFx0ICBzdGFydEFuZ2xlOiAyMjUsXG5cdFx0XHRcdFx0ICBlbmRBbmdsZTogLTQ1LFxuXHRcdFx0XHRcdCAgYXhpc0xpbmU6IHtcblx0XHRcdFx0XHRcdCAgc2hvdzogdHJ1ZSxcblx0XHRcdFx0XHRcdCAgbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgY29sb3I6IFtbMC4yLCAnIzg2YjM3OSddLCBbMC44LCAnIzY4YTU0YSddLCBbMSwgJyM0MDg4MjknXV0sXG5cdFx0XHRcdFx0XHRcdCAgd2lkdGg6IDhcblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfSxcblx0XHRcdFx0XHQgIGF4aXNUaWNrOiB7XG5cdFx0XHRcdFx0XHQgIHNwbGl0TnVtYmVyOiAxMCxcblx0XHRcdFx0XHRcdCAgbGVuZ3RoOiAxMixcblx0XHRcdFx0XHRcdCAgbGluZVN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgY29sb3I6ICdhdXRvJ1xuXHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICB9LFxuXHRcdFx0XHRcdCAgYXhpc0xhYmVsOiB7XG5cdFx0XHRcdFx0XHQgIHRleHRTdHlsZToge1xuXHRcdFx0XHRcdFx0XHQgIGNvbG9yOiAnYXV0bydcblx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdCAgfSxcblx0XHRcdFx0XHQgIHNwbGl0TGluZToge1xuXHRcdFx0XHRcdFx0ICBsZW5ndGg6IDE4LFxuXHRcdFx0XHRcdFx0ICBsaW5lU3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJ2F1dG8nXG5cdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0ICBwb2ludGVyOiB7XG5cdFx0XHRcdFx0XHQgIGxlbmd0aDogJzkwJScsXG5cdFx0XHRcdFx0XHQgIGNvbG9yOiAnYXV0bydcblx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0ICB0aXRsZToge1xuXHRcdFx0XHRcdFx0ICB0ZXh0U3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0ICBjb2xvcjogJyMzMzMnXG5cdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQgIH0sXG5cdFx0XHRcdFx0ICBkZXRhaWw6IHtcblx0XHRcdFx0XHRcdCAgdGV4dFN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdCAgY29sb3I6ICdhdXRvJ1xuXHRcdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdCAgfSxcblx0XHRcdFx0ICB0ZXh0U3R5bGU6IHtcblx0XHRcdFx0XHQgIGZvbnRGYW1pbHk6ICdBcmlhbCwgVmVyZGFuYSwgc2Fucy1zZXJpZidcblx0XHRcdFx0ICB9XG5cdFx0XHQgIH07XG4iXX0=
